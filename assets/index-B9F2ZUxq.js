function Jj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _2={exports:{}},Gd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function eB(){if(Y3)return Gd;Y3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return Gd.Fragment=e,Gd.jsx=r,Gd.jsxs=r,Gd}var Q3;function tB(){return Q3||(Q3=1,_2.exports=eB()),_2.exports}var A=tB(),b2={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function rB(){if(Z3)return Ue;Z3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=S.prototype;function O(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}var M=O.prototype=new I;M.constructor=O,w(M,S.prototype),M.isPureReactComponent=!0;var L=Array.isArray;function B(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(G,ee,ye){var _e=ye.ref;return{$$typeof:t,type:G,key:ee,ref:_e!==void 0?_e:null,props:ye}}function V(G,ee){return k(G.type,ee,G.props)}function z(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function he(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,ee,ye,_e,Oe){var He=typeof G;(He==="undefined"||He==="boolean")&&(G=null);var et=!1;if(G===null)et=!0;else switch(He){case"bigint":case"string":case"number":et=!0;break;case"object":switch(G.$$typeof){case t:case e:et=!0;break;case h:return et=G._init,Y(et(G._payload),ee,ye,_e,Oe)}}if(et)return Oe=Oe(G),et=_e===""?"."+he(G,0):_e,L(Oe)?(ye="",et!=null&&(ye=et.replace(U,"$&/")+"/"),Y(Oe,ee,ye,"",function(Fe){return Fe})):Oe!=null&&(z(Oe)&&(Oe=V(Oe,ye+(Oe.key==null||G&&G.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+et)),ee.push(Oe)),1;et=0;var hr=_e===""?".":_e+":";if(L(G))for(var pe=0;pe<G.length;pe++)_e=G[pe],He=hr+he(_e,pe),et+=Y(_e,ee,ye,He,Oe);else if(pe=m(G),typeof pe=="function")for(G=pe.call(G),pe=0;!(_e=G.next()).done;)_e=_e.value,He=hr+he(_e,pe++),et+=Y(_e,ee,ye,He,Oe);else if(He==="object"){if(typeof G.then=="function")return Y(be(G),ee,ye,_e,Oe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return et}function se(G,ee,ye){if(G==null)return G;var _e=[],Oe=0;return Y(G,_e,"","",function(He){return ee.call(ye,He,Oe++)}),_e}function me(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var Se=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ge={map:se,forEach:function(G,ee,ye){se(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return se(G,function(){ee++}),ee},toArray:function(G){return se(G,function(ee){return ee})||[]},only:function(G){if(!z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ue.Activity=p,Ue.Children=Ge,Ue.Component=S,Ue.Fragment=r,Ue.Profiler=i,Ue.PureComponent=O,Ue.StrictMode=n,Ue.Suspense=c,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Ue.cache=function(G){return function(){return G.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var _e=w({},G.props),Oe=G.key;if(ee!=null)for(He in ee.key!==void 0&&(Oe=""+ee.key),ee)!N.call(ee,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ee.ref===void 0||(_e[He]=ee[He]);var He=arguments.length-2;if(He===1)_e.children=ye;else if(1<He){for(var et=Array(He),hr=0;hr<He;hr++)et[hr]=arguments[hr+2];_e.children=et}return k(G.type,Oe,_e)},Ue.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Ue.createElement=function(G,ee,ye){var _e,Oe={},He=null;if(ee!=null)for(_e in ee.key!==void 0&&(He=""+ee.key),ee)N.call(ee,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Oe[_e]=ee[_e]);var et=arguments.length-2;if(et===1)Oe.children=ye;else if(1<et){for(var hr=Array(et),pe=0;pe<et;pe++)hr[pe]=arguments[pe+2];Oe.children=hr}if(G&&G.defaultProps)for(_e in et=G.defaultProps,et)Oe[_e]===void 0&&(Oe[_e]=et[_e]);return k(G,He,Oe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(G){return{$$typeof:l,render:G}},Ue.isValidElement=z,Ue.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:me}},Ue.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Ue.startTransition=function(G){var ee=D.T,ye={};D.T=ye;try{var _e=G(),Oe=D.S;Oe!==null&&Oe(ye,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(B,Se)}catch(He){Se(He)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),D.T=ee}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(G){return D.H.use(G)},Ue.useActionState=function(G,ee,ye){return D.H.useActionState(G,ee,ye)},Ue.useCallback=function(G,ee){return D.H.useCallback(G,ee)},Ue.useContext=function(G){return D.H.useContext(G)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(G,ee){return D.H.useDeferredValue(G,ee)},Ue.useEffect=function(G,ee){return D.H.useEffect(G,ee)},Ue.useEffectEvent=function(G){return D.H.useEffectEvent(G)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(G,ee,ye){return D.H.useImperativeHandle(G,ee,ye)},Ue.useInsertionEffect=function(G,ee){return D.H.useInsertionEffect(G,ee)},Ue.useLayoutEffect=function(G,ee){return D.H.useLayoutEffect(G,ee)},Ue.useMemo=function(G,ee){return D.H.useMemo(G,ee)},Ue.useOptimistic=function(G,ee){return D.H.useOptimistic(G,ee)},Ue.useReducer=function(G,ee,ye){return D.H.useReducer(G,ee,ye)},Ue.useRef=function(G){return D.H.useRef(G)},Ue.useState=function(G){return D.H.useState(G)},Ue.useSyncExternalStore=function(G,ee,ye){return D.H.useSyncExternalStore(G,ee,ye)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.2.0",Ue}var J3;function bf(){return J3||(J3=1,b2.exports=rB()),b2.exports}var C=bf();const kn=ho(C),nB=Jj({__proto__:null,default:kn},[C]);var w2={exports:{}},Kd={},E2={exports:{}},A2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e4;function iB(){return e4||(e4=1,(function(t){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var Se=me-1>>>1,Ge=Y[Se];if(0<i(Ge,se))Y[Se]=se,Y[me]=Ge,me=Se;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var Se=0,Ge=Y.length,G=Ge>>>1;Se<G;){var ee=2*(Se+1)-1,ye=Y[ee],_e=ee+1,Oe=Y[_e];if(0>i(ye,me))_e<Ge&&0>i(Oe,ye)?(Y[Se]=Oe,Y[_e]=me,Se=_e):(Y[Se]=ye,Y[ee]=me,Se=ee);else if(_e<Ge&&0>i(Oe,me))Y[Se]=Oe,Y[_e]=me,Se=_e;else break e}}return se}function i(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,v=3,m=!1,_=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=Y)n(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=r(f)}}function L(Y){if(w=!1,M(Y),!_)if(r(c)!==null)_=!0,B||(B=!0,H());else{var se=r(f);se!==null&&be(L,se.startTime-Y)}}var B=!1,D=-1,N=5,k=-1;function V(){return E?!0:!(t.unstable_now()-k<N)}function z(){if(E=!1,B){var Y=t.unstable_now();k=Y;var se=!0;try{e:{_=!1,w&&(w=!1,I(D),D=-1),m=!0;var me=v;try{t:{for(M(Y),p=r(c);p!==null&&!(p.expirationTime>Y&&V());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,v=p.priorityLevel;var Ge=Se(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ge=="function"){p.callback=Ge,M(Y),se=!0;break t}p===r(c)&&n(c),M(Y)}else n(c);p=r(c)}if(p!==null)se=!0;else{var G=r(f);G!==null&&be(L,G.startTime-Y),se=!1}}break e}finally{p=null,v=me,m=!1}se=void 0}}finally{se?H():B=!1}}}var H;if(typeof O=="function")H=function(){O(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=z,H=function(){he.postMessage(null)}}else H=function(){S(z,0)};function be(Y,se){D=S(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return Y()}finally{v=me}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=v;v=Y;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(Y,se,me){var Se=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Se+me:Se):me=Se,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:h++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>Se?(Y.sortIndex=me,e(f,Y),r(c)===null&&Y===r(f)&&(w?(I(D),D=-1):w=!0,be(L,me-Se))):(Y.sortIndex=Ge,e(c,Y),_||m||(_=!0,B||(B=!0,H()))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var se=v;return function(){var me=v;v=se;try{return Y.apply(this,arguments)}finally{v=me}}}})(A2)),A2}var t4;function aB(){return t4||(t4=1,E2.exports=iB()),E2.exports}var S2={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function oB(){if(r4)return In;r4=1;var t=bf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,In.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},In.flushSync=function(c){var f=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=f,n.p=h,n.d.f()}},In.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},In.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},In.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):h==="script"&&n.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},In.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},In.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);n.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},In.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},In.requestFormReset=function(c){n.d.r(c)},In.unstable_batchedUpdates=function(c,f){return c(f)},In.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},In.useFormStatus=function(){return o.H.useHostTransitionStatus()},In.version="19.2.0",In}var n4;function jP(){if(n4)return S2.exports;n4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S2.exports=oB(),S2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function sB(){if(i4)return Kd;i4=1;var t=aB(),e=bf(),r=jP();function n(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,g=u;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return c(x),s;if(b===g)return c(x),u;b=b.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=b;else{for(var R=!1,j=x.child;j;){if(j===d){R=!0,d=x,g=b;break}if(j===g){R=!0,g=x,d=b;break}j=j.sibling}if(!R){for(j=b.child;j;){if(j===d){R=!0,d=b,g=x;break}if(j===g){R=!0,g=b,d=x;break}j=j.sibling}if(!R)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case O:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case M:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return u=s.displayName||null,u!==null?u:he(s.type)||"Memo";case N:u=s._payload,s=s._init;try{return he(s(u))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Se=[],Ge=-1;function G(s){return{current:s}}function ee(s){0>Ge||(s.current=Se[Ge],Se[Ge]=null,Ge--)}function ye(s,u){Ge++,Se[Ge]=s.current,s.current=u}var _e=G(null),Oe=G(null),He=G(null),et=G(null);function hr(s,u){switch(ye(He,u),ye(Oe,s),ye(_e,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?x3(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=x3(u),s=_3(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(_e),ye(_e,s)}function pe(){ee(_e),ee(Oe),ee(He)}function Fe(s){s.memoizedState!==null&&ye(et,s);var u=_e.current,d=_3(u,s.type);u!==d&&(ye(Oe,s),ye(_e,d))}function We(s){Oe.current===s&&(ee(_e),ee(Oe)),et.current===s&&(ee(et),zd._currentValue=me)}var de,pr;function Qe(s){if(de===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);de=u&&u[1]||"",pr=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+pr}var Br=!1;function gr(s,u){if(!s||Br)return"";Br=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var te=ie}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ie){te=ie}s.call(ce.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),R=b[0],j=b[1];if(R&&j){var q=R.split(`
`),J=j.split(`
`);for(x=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(g===q.length||x===J.length)for(g=q.length-1,x=J.length-1;1<=g&&0<=x&&q[g]!==J[x];)x--;for(;1<=g&&0<=x;g--,x--)if(q[g]!==J[x]){if(g!==1||x!==1)do if(g--,x--,0>x||q[g]!==J[x]){var oe=`
`+q[g].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=g&&0<=x);break}}}finally{Br=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Qe(d):""}function di(s,u){switch(s.tag){case 26:case 27:case 5:return Qe(s.type);case 16:return Qe("Lazy");case 13:return s.child!==u&&u!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return gr(s.type,!1);case 11:return gr(s.type.render,!1);case 1:return gr(s.type,!0);case 31:return Qe("Activity");default:return""}}function fs(s){try{var u="",d=null;do u+=di(s,d),d=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ar=Object.prototype.hasOwnProperty,Vr=t.unstable_scheduleCallback,ds=t.unstable_cancelCallback,wm=t.unstable_shouldYield,I0=t.unstable_requestPaint,Vn=t.unstable_now,Ml=t.unstable_getCurrentPriorityLevel,qf=t.unstable_ImmediatePriority,Gf=t.unstable_UserBlockingPriority,hs=t.unstable_NormalPriority,Em=t.unstable_LowPriority,O0=t.unstable_IdlePriority,R0=t.log,P0=t.unstable_setDisableYieldValue,la=null,fn=null;function Mi(s){if(typeof R0=="function"&&P0(s),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(la,s)}catch{}}var vr=Math.clz32?Math.clz32:N0,D0=Math.log,Zu=Math.LN2;function N0(s){return s>>>=0,s===0?32:31-(D0(s)/Zu|0)|0}var Ra=256,kl=262144,Sr=4194304;function Pa(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Da(s,u,d){var g=s.pendingLanes;if(g===0)return 0;var x=0,b=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var j=g&134217727;return j!==0?(g=j&~b,g!==0?x=Pa(g):(R&=j,R!==0?x=Pa(R):d||(d=j&~s,d!==0&&(x=Pa(d))))):(j=g&~b,j!==0?x=Pa(j):R!==0?x=Pa(R):d||(d=g&~s,d!==0&&(x=Pa(d)))),x===0?0:u!==0&&u!==x&&(u&b)===0&&(b=x&-x,d=u&-u,b>=d||b===32&&(d&4194048)!==0)?u:x}function ua(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function Am(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M0(){var s=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),s}function Na(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function Ll(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Sm(s,u,d,g,x,b){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var j=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(d=R&~d;0<d;){var oe=31-vr(d),ce=1<<oe;j[oe]=0,q[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var ie=te[oe];ie!==null&&(ie.lane&=-536870913)}d&=~ce}g!==0&&jl(s,g,0),b!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=b&~(R&~u))}function jl(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-vr(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function Kf(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-vr(d),x=1<<g;x&u|s[g]&u&&(s[g]|=u),d&=~x}}function Wf(s,u){var d=u&-u;return d=(d&42)!==0?1:Bl(d),(d&(s.suspendedLanes|u))!==0?0:d}function Bl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function k0(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:H3(s.type))}function ca(s,u){var d=se.p;try{return se.p=s,u()}finally{se.p=d}}var fa=Math.random().toString(36).slice(2),Tr="__reactFiber$"+fa,Zr="__reactProps$"+fa,Ma="__reactContainer$"+fa,Ju="__reactEvents$"+fa,Tm="__reactListeners$"+fa,L0="__reactHandles$"+fa,j0="__reactResources$"+fa,ka="__reactMarker$"+fa;function ec(s){delete s[Tr],delete s[Zr],delete s[Ju],delete s[Tm],delete s[L0]}function La(s){var u=s[Tr];if(u)return u;for(var d=s.parentNode;d;){if(u=d[Ma]||d[Tr]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=C3(s);s!==null;){if(d=s[Tr])return d;s=C3(s)}return u}s=d,d=s.parentNode}return null}function ki(s){if(s=s[Tr]||s[Ma]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function hi(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(n(33))}function ja(s){var u=s[j0];return u||(u=s[j0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Cr(s){s[ka]=!0}var Xf=new Set,Yf={};function Ba(s,u){Va(s,u),Va(s+"Capture",u)}function Va(s,u){for(Yf[s]=u,s=0;s<u.length;s++)Xf.add(u[s])}var Qf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},Jf={};function B0(s){return Ar.call(Jf,s)?!0:Ar.call(Zf,s)?!1:Qf.test(s)?Jf[s]=!0:(Zf[s]=!0,!1)}function tc(s,u,d){if(B0(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function pi(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function Ir(s,u,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+g)}}function Jr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ps(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ed(s,u,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,b=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return x.call(this)},set:function(R){d=""+R,b.call(this,R)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ct(s){if(!s._valueTracker){var u=ps(s)?"checked":"value";s._valueTracker=ed(s,u,""+s[u])}}function Vl(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=ps(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function Fa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Fl=/[\n"\\]/g;function Wn(s){return s.replace(Fl,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function rc(s,u,d,g,x,b,R,j){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),u!=null?R==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+Jr(u)):s.value!==""+Jr(u)&&(s.value=""+Jr(u)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),u!=null?td(s,R,Jr(u)):d!=null?td(s,R,Jr(d)):g!=null&&s.removeAttribute("value"),x==null&&b!=null&&(s.defaultChecked=!!b),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Jr(j):s.removeAttribute("name")}function V0(s,u,d,g,x,b,R,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),u!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||u!=null)){Ct(s);return}d=d!=null?""+Jr(d):"",u=u!=null?""+Jr(u):d,j||u===s.value||(s.value=u),s.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=j?s.checked:!!g,s.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Ct(s)}function td(s,u,d){u==="number"&&Fa(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function gs(s,u,d,g){if(s=s.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=u.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Jr(d),u=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}u!==null||s[x].disabled||(u=s[x])}u!==null&&(u.selected=!0)}}function F0(s,u,d){if(u!=null&&(u=""+Jr(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+Jr(d):""}function vs(s,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(n(92));if(be(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=Jr(u),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Ct(s)}function Xn(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var U0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(s,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,d):typeof d!="number"||d===0||U0.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function nd(s,u,d){if(u!=null&&typeof u!="object")throw Error(n(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&d[x]!==g&&rd(s,x,g)}else for(var b in u)u.hasOwnProperty(b)&&rd(s,b,u[b])}function nc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ic(s){return ms.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function da(){}var id=null;function Li(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ys=null,Ua=null;function Ul(s){var u=ki(s);if(u&&(s=u.stateNode)){var d=s[Zr]||null;e:switch(s=u.stateNode,u.type){case"input":if(rc(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wn(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var x=g[Zr]||null;if(!x)throw Error(n(90));rc(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===s.form&&Vl(g)}break e;case"textarea":F0(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&gs(s,!!d.multiple,u,!1)}}}var ac=!1;function xs(s,u,d){if(ac)return s(u,d);ac=!0;try{var g=s(u);return g}finally{if(ac=!1,(ys!==null||Ua!==null)&&(kp(),ys&&(u=ys,s=Ua,Ua=ys=null,Ul(u),s)))for(u=0;u<s.length;u++)Ul(s[u])}}function ha(s,u){var d=s.stateNode;if(d===null)return null;var g=d[Zr]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=!1;if(ji)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{zl=!1}var za=null,ad=null,Hl=null;function od(){if(Hl)return Hl;var s,u=ad,d=u.length,g,x="value"in za?za.value:za.textContent,b=x.length;for(s=0;s<d&&u[s]===x[s];s++);var R=d-s;for(g=1;g<=R&&u[d-g]===x[b-g];g++);return Hl=x.slice(s,1<g?1-g:void 0)}function $l(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function yo(){return!0}function pa(){return!1}function dn(s){function u(d,g,x,b,R){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(d=s[j],this[j]=d?d(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?yo:pa,this.isPropagationStopped=pa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),u}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=dn(xo),_s=p({},xo,{view:0,detail:0}),sd=dn(_s),bs,oc,$a,sc=p({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$a&&($a&&s.type==="mousemove"?(bs=s.screenX-$a.screenX,oc=s.screenY-$a.screenY):oc=bs=0,$a=s),bs)},movementY:function(s){return"movementY"in s?s.movementY:oc}}),ld=dn(sc),ql=p({},sc,{dataTransfer:0}),H0=dn(ql),$0=p({},_s,{relatedTarget:0}),Gl=dn($0),ud=p({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=dn(ud),lc=p({},xo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),G0=dn(lc),K0=p({},xo,{data:0}),qa=dn(K0),W0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Y0[s])?!!u[s]:!1}function ws(){return Q0}var Fn=p({},_s,{key:function(s){if(s.key){var u=W0[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=$l(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?X0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(s){return s.type==="keypress"?$l(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$l(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Z0=dn(Fn),J0=p({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_o=dn(J0),y=p({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),T=dn(y),P=p({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=dn(P),X=p({},sc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=dn(X),ge=p({},xo,{newState:0,oldState:0}),$e=dn(ge),mr=[9,13,27,32],yt=ji&&"CompositionEvent"in window,Zt=null;ji&&"documentMode"in document&&(Zt=document.documentMode);var Bi=ji&&"TextEvent"in window&&!Zt,Ga=ji&&(!yt||Zt&&8<Zt&&11>=Zt),ga=" ",va=!1;function Kl(s,u){switch(s){case"keyup":return mr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cc=!1;function EL(s,u){switch(s){case"compositionend":return uc(u);case"keypress":return u.which!==32?null:(va=!0,ga);case"textInput":return s=u.data,s===ga&&va?null:s;default:return null}}function AL(s,u){if(cc)return s==="compositionend"||!yt&&Kl(s,u)?(s=od(),Hl=ad=za=null,cc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ga&&u.locale!=="ko"?null:u.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RS(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!SL[s.type]:u==="textarea"}function PS(s,u,d,g){ys?Ua?Ua.push(g):Ua=[g]:ys=g,u=zp(u,"onChange"),0<u.length&&(d=new Ha("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var cd=null,fd=null;function TL(s){h3(s,0)}function ep(s){var u=hi(s);if(Vl(u))return s}function DS(s,u){if(s==="change")return u}var NS=!1;if(ji){var Cm;if(ji){var Im="oninput"in document;if(!Im){var MS=document.createElement("div");MS.setAttribute("oninput","return;"),Im=typeof MS.oninput=="function"}Cm=Im}else Cm=!1;NS=Cm&&(!document.documentMode||9<document.documentMode)}function kS(){cd&&(cd.detachEvent("onpropertychange",LS),fd=cd=null)}function LS(s){if(s.propertyName==="value"&&ep(fd)){var u=[];PS(u,fd,s,Li(s)),xs(TL,u)}}function CL(s,u,d){s==="focusin"?(kS(),cd=u,fd=d,cd.attachEvent("onpropertychange",LS)):s==="focusout"&&kS()}function IL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ep(fd)}function OL(s,u){if(s==="click")return ep(u)}function RL(s,u){if(s==="input"||s==="change")return ep(u)}function PL(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var gi=typeof Object.is=="function"?Object.is:PL;function dd(s,u){if(gi(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!Ar.call(u,x)||!gi(s[x],u[x]))return!1}return!0}function jS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function BS(s,u){var d=jS(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jS(d)}}function VS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?VS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function FS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Fa(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Fa(s.document)}return u}function Om(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var DL=ji&&"documentMode"in document&&11>=document.documentMode,fc=null,Rm=null,hd=null,Pm=!1;function US(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pm||fc==null||fc!==Fa(g)||(g=fc,"selectionStart"in g&&Om(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),hd&&dd(hd,g)||(hd=g,g=zp(Rm,"onSelect"),0<g.length&&(u=new Ha("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=fc)))}function Wl(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var dc={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionrun:Wl("Transition","TransitionRun"),transitionstart:Wl("Transition","TransitionStart"),transitioncancel:Wl("Transition","TransitionCancel"),transitionend:Wl("Transition","TransitionEnd")},Dm={},zS={};ji&&(zS=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function Xl(s){if(Dm[s])return Dm[s];if(!dc[s])return s;var u=dc[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in zS)return Dm[s]=u[d];return s}var HS=Xl("animationend"),$S=Xl("animationiteration"),qS=Xl("animationstart"),NL=Xl("transitionrun"),ML=Xl("transitionstart"),kL=Xl("transitioncancel"),GS=Xl("transitionend"),KS=new Map,Nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nm.push("scrollEnd");function ma(s,u){KS.set(s,u),Ba(u,[s])}var tp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Vi=[],hc=0,Mm=0;function rp(){for(var s=hc,u=Mm=hc=0;u<s;){var d=Vi[u];Vi[u++]=null;var g=Vi[u];Vi[u++]=null;var x=Vi[u];Vi[u++]=null;var b=Vi[u];if(Vi[u++]=null,g!==null&&x!==null){var R=g.pending;R===null?x.next=x:(x.next=R.next,R.next=x),g.pending=x}b!==0&&WS(d,x,b)}}function np(s,u,d,g){Vi[hc++]=s,Vi[hc++]=u,Vi[hc++]=d,Vi[hc++]=g,Mm|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function km(s,u,d,g){return np(s,u,d,g),ip(s)}function Yl(s,u){return np(s,null,null,u),ip(s)}function WS(s,u,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var x=!1,b=s.return;b!==null;)b.childLanes|=d,g=b.alternate,g!==null&&(g.childLanes|=d),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(x=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,x&&u!==null&&(x=31-vr(d),s=b.hiddenUpdates,g=s[x],g===null?s[x]=[u]:g.push(u),u.lane=d|536870912),b):null}function ip(s){if(50<kd)throw kd=0,$y=null,Error(n(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var pc={};function LL(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(s,u,d,g){return new LL(s,u,d,g)}function Lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bo(s,u){var d=s.alternate;return d===null?(d=vi(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function XS(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function ap(s,u,d,g,x,b){var R=0;if(g=s,typeof s=="function")Lm(s)&&(R=1);else if(typeof s=="string")R=Uj(s,d,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=vi(31,d,u,x),s.elementType=k,s.lanes=b,s;case w:return Ql(d.children,x,b,u);case E:R=8,x|=24;break;case S:return s=vi(12,d,u,x|2),s.elementType=S,s.lanes=b,s;case L:return s=vi(13,d,u,x),s.elementType=L,s.lanes=b,s;case B:return s=vi(19,d,u,x),s.elementType=B,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:R=10;break e;case I:R=9;break e;case M:R=11;break e;case D:R=14;break e;case N:R=16,g=null;break e}R=29,d=Error(n(130,s===null?"null":typeof s,"")),g=null}return u=vi(R,d,u,x),u.elementType=s,u.type=g,u.lanes=b,u}function Ql(s,u,d,g){return s=vi(7,s,g,u),s.lanes=d,s}function jm(s,u,d){return s=vi(6,s,null,u),s.lanes=d,s}function YS(s){var u=vi(18,null,null,0);return u.stateNode=s,u}function Bm(s,u,d){return u=vi(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var QS=new WeakMap;function Fi(s,u){if(typeof s=="object"&&s!==null){var d=QS.get(s);return d!==void 0?d:(u={value:s,source:u,stack:fs(u)},QS.set(s,u),u)}return{value:s,source:u,stack:fs(u)}}var gc=[],vc=0,op=null,pd=0,Ui=[],zi=0,Es=null,Ka=1,Wa="";function wo(s,u){gc[vc++]=pd,gc[vc++]=op,op=s,pd=u}function ZS(s,u,d){Ui[zi++]=Ka,Ui[zi++]=Wa,Ui[zi++]=Es,Es=s;var g=Ka;s=Wa;var x=32-vr(g)-1;g&=~(1<<x),d+=1;var b=32-vr(u)+x;if(30<b){var R=x-x%5;b=(g&(1<<R)-1).toString(32),g>>=R,x-=R,Ka=1<<32-vr(u)+x|d<<x|g,Wa=b+s}else Ka=1<<b|d<<x|g,Wa=s}function Vm(s){s.return!==null&&(wo(s,1),ZS(s,1,0))}function Fm(s){for(;s===op;)op=gc[--vc],gc[vc]=null,pd=gc[--vc],gc[vc]=null;for(;s===Es;)Es=Ui[--zi],Ui[zi]=null,Wa=Ui[--zi],Ui[zi]=null,Ka=Ui[--zi],Ui[zi]=null}function JS(s,u){Ui[zi++]=Ka,Ui[zi++]=Wa,Ui[zi++]=Es,Ka=u.id,Wa=u.overflow,Es=s}var hn=null,Gt=null,ot=!1,As=null,Hi=!1,Um=Error(n(519));function Ss(s){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gd(Fi(u,s)),Um}function eT(s){var u=s.stateNode,d=s.type,g=s.memoizedProps;switch(u[Tr]=s,u[Zr]=g,d){case"dialog":Je("cancel",u),Je("close",u);break;case"iframe":case"object":case"embed":Je("load",u);break;case"video":case"audio":for(d=0;d<jd.length;d++)Je(jd[d],u);break;case"source":Je("error",u);break;case"img":case"image":case"link":Je("error",u),Je("load",u);break;case"details":Je("toggle",u);break;case"input":Je("invalid",u),V0(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Je("invalid",u);break;case"textarea":Je("invalid",u),vs(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||m3(u.textContent,d)?(g.popover!=null&&(Je("beforetoggle",u),Je("toggle",u)),g.onScroll!=null&&Je("scroll",u),g.onScrollEnd!=null&&Je("scrollend",u),g.onClick!=null&&(u.onclick=da),u=!0):u=!1,u||Ss(s,!0)}function tT(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 31:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:hn=hn.return}}function mc(s){if(s!==hn)return!1;if(!ot)return tT(s),ot=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||a2(s.type,s.memoizedProps)),d=!d),d&&Gt&&Ss(s),tT(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=T3(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=T3(s)}else u===27?(u=Gt,Vs(s.type)?(s=c2,c2=null,Gt=s):Gt=u):Gt=hn?qi(s.stateNode.nextSibling):null;return!0}function Zl(){Gt=hn=null,ot=!1}function zm(){var s=As;return s!==null&&(Jn===null?Jn=s:Jn.push.apply(Jn,s),As=null),s}function gd(s){As===null?As=[s]:As.push(s)}var Hm=G(null),Jl=null,Eo=null;function Ts(s,u,d){ye(Hm,u._currentValue),u._currentValue=d}function Ao(s){s._currentValue=Hm.current,ee(Hm)}function $m(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function qm(s,u,d,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var b=x.dependencies;if(b!==null){var R=x.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=x;for(var q=0;q<u.length;q++)if(j.context===u[q]){b.lanes|=d,j=b.alternate,j!==null&&(j.lanes|=d),$m(b.return,d,s),g||(R=null);break e}b=j.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(n(341));R.lanes|=d,b=R.alternate,b!==null&&(b.lanes|=d),$m(R,d,s),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===s){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function yc(s,u,d,g){s=null;for(var x=u,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(n(387));if(R=R.memoizedProps,R!==null){var j=x.type;gi(x.pendingProps.value,R.value)||(s!==null?s.push(j):s=[j])}}else if(x===et.current){if(R=x.alternate,R===null)throw Error(n(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(zd):s=[zd])}x=x.return}s!==null&&qm(u,s,d,g),u.flags|=262144}function sp(s){for(s=s.firstContext;s!==null;){if(!gi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function eu(s){Jl=s,Eo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pn(s){return rT(Jl,s)}function lp(s,u){return Jl===null&&eu(s),rT(s,u)}function rT(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Eo===null){if(s===null)throw Error(n(308));Eo=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Eo=Eo.next=u;return d}var jL=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},BL=t.unstable_scheduleCallback,VL=t.unstable_NormalPriority,Or={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new jL,data:new Map,refCount:0}}function vd(s){s.refCount--,s.refCount===0&&BL(VL,function(){s.controller.abort()})}var md=null,Km=0,xc=0,_c=null;function FL(s,u){if(md===null){var d=md=[];Km=0,xc=Yy(),_c={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Km++,u.then(nT,nT),u}function nT(){if(--Km===0&&md!==null){_c!==null&&(_c.status="fulfilled");var s=md;md=null,xc=0,_c=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function UL(s,u){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var iT=Y.S;Y.S=function(s,u){UC=Vn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&FL(s,u),iT!==null&&iT(s,u)};var tu=G(null);function Wm(){var s=tu.current;return s!==null?s:Ft.pooledCache}function up(s,u){u===null?ye(tu,tu.current):ye(tu,u.pool)}function aT(){var s=Wm();return s===null?null:{parent:Or._currentValue,pool:s}}var bc=Error(n(460)),Xm=Error(n(474)),cp=Error(n(542)),fp={then:function(){}};function oT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sT(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(da,da),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,uT(s),s;default:if(typeof u.status=="string")u.then(da,da);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,uT(s),s}throw nu=u,bc}}function ru(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(nu=d,bc):d}}var nu=null;function lT(){if(nu===null)throw Error(n(459));var s=nu;return nu=null,s}function uT(s){if(s===bc||s===cp)throw Error(n(483))}var wc=null,yd=0;function dp(s){var u=yd;return yd+=1,wc===null&&(wc=[]),sT(wc,s,u)}function xd(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function hp(s,u){throw u.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function cT(s){function u(W,K){if(s){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function d(W,K){if(!s)return null;for(;K!==null;)u(W,K),K=K.sibling;return null}function g(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(W,K){return W=bo(W,K),W.index=0,W.sibling=null,W}function b(W,K,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function R(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function j(W,K,Z,le){return K===null||K.tag!==6?(K=jm(Z,W.mode,le),K.return=W,K):(K=x(K,Z),K.return=W,K)}function q(W,K,Z,le){var Pe=Z.type;return Pe===w?oe(W,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&ru(Pe)===K.type)?(K=x(K,Z.props),xd(K,Z),K.return=W,K):(K=ap(Z.type,Z.key,Z.props,null,W.mode,le),xd(K,Z),K.return=W,K)}function J(W,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Bm(Z,W.mode,le),K.return=W,K):(K=x(K,Z.children||[]),K.return=W,K)}function oe(W,K,Z,le,Pe){return K===null||K.tag!==7?(K=Ql(Z,W.mode,le,Pe),K.return=W,K):(K=x(K,Z),K.return=W,K)}function ce(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=jm(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=ap(K.type,K.key,K.props,null,W.mode,Z),xd(Z,K),Z.return=W,Z;case _:return K=Bm(K,W.mode,Z),K.return=W,K;case N:return K=ru(K),ce(W,K,Z)}if(be(K)||H(K))return K=Ql(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return ce(W,dp(K),Z);if(K.$$typeof===O)return ce(W,lp(W,K),Z);hp(W,K)}return null}function te(W,K,Z,le){var Pe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:j(W,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Pe?q(W,K,Z,le):null;case _:return Z.key===Pe?J(W,K,Z,le):null;case N:return Z=ru(Z),te(W,K,Z,le)}if(be(Z)||H(Z))return Pe!==null?null:oe(W,K,Z,le,null);if(typeof Z.then=="function")return te(W,K,dp(Z),le);if(Z.$$typeof===O)return te(W,K,lp(W,Z),le);hp(W,Z)}return null}function ie(W,K,Z,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(Z)||null,j(K,W,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return W=W.get(le.key===null?Z:le.key)||null,q(K,W,le,Pe);case _:return W=W.get(le.key===null?Z:le.key)||null,J(K,W,le,Pe);case N:return le=ru(le),ie(W,K,Z,le,Pe)}if(be(le)||H(le))return W=W.get(Z)||null,oe(K,W,le,Pe,null);if(typeof le.then=="function")return ie(W,K,Z,dp(le),Pe);if(le.$$typeof===O)return ie(W,K,Z,lp(K,le),Pe);hp(K,le)}return null}function Ae(W,K,Z,le){for(var Pe=null,ht=null,Ie=K,Ke=K=0,rt=null;Ie!==null&&Ke<Z.length;Ke++){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var pt=te(W,Ie,Z[Ke],le);if(pt===null){Ie===null&&(Ie=rt);break}s&&Ie&&pt.alternate===null&&u(W,Ie),K=b(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt,Ie=rt}if(Ke===Z.length)return d(W,Ie),ot&&wo(W,Ke),Pe;if(Ie===null){for(;Ke<Z.length;Ke++)Ie=ce(W,Z[Ke],le),Ie!==null&&(K=b(Ie,K,Ke),ht===null?Pe=Ie:ht.sibling=Ie,ht=Ie);return ot&&wo(W,Ke),Pe}for(Ie=g(Ie);Ke<Z.length;Ke++)rt=ie(Ie,W,Ke,Z[Ke],le),rt!==null&&(s&&rt.alternate!==null&&Ie.delete(rt.key===null?Ke:rt.key),K=b(rt,K,Ke),ht===null?Pe=rt:ht.sibling=rt,ht=rt);return s&&Ie.forEach(function($s){return u(W,$s)}),ot&&wo(W,Ke),Pe}function ke(W,K,Z,le){if(Z==null)throw Error(n(151));for(var Pe=null,ht=null,Ie=K,Ke=K=0,rt=null,pt=Z.next();Ie!==null&&!pt.done;Ke++,pt=Z.next()){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var $s=te(W,Ie,pt.value,le);if($s===null){Ie===null&&(Ie=rt);break}s&&Ie&&$s.alternate===null&&u(W,Ie),K=b($s,K,Ke),ht===null?Pe=$s:ht.sibling=$s,ht=$s,Ie=rt}if(pt.done)return d(W,Ie),ot&&wo(W,Ke),Pe;if(Ie===null){for(;!pt.done;Ke++,pt=Z.next())pt=ce(W,pt.value,le),pt!==null&&(K=b(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt);return ot&&wo(W,Ke),Pe}for(Ie=g(Ie);!pt.done;Ke++,pt=Z.next())pt=ie(Ie,W,Ke,pt.value,le),pt!==null&&(s&&pt.alternate!==null&&Ie.delete(pt.key===null?Ke:pt.key),K=b(pt,K,Ke),ht===null?Pe=pt:ht.sibling=pt,ht=pt);return s&&Ie.forEach(function(Zj){return u(W,Zj)}),ot&&wo(W,Ke),Pe}function Lt(W,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Pe=Z.key;K!==null;){if(K.key===Pe){if(Pe=Z.type,Pe===w){if(K.tag===7){d(W,K.sibling),le=x(K,Z.props.children),le.return=W,W=le;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&ru(Pe)===K.type){d(W,K.sibling),le=x(K,Z.props),xd(le,Z),le.return=W,W=le;break e}d(W,K);break}else u(W,K);K=K.sibling}Z.type===w?(le=Ql(Z.props.children,W.mode,le,Z.key),le.return=W,W=le):(le=ap(Z.type,Z.key,Z.props,null,W.mode,le),xd(le,Z),le.return=W,W=le)}return R(W);case _:e:{for(Pe=Z.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){d(W,K.sibling),le=x(K,Z.children||[]),le.return=W,W=le;break e}else{d(W,K);break}else u(W,K);K=K.sibling}le=Bm(Z,W.mode,le),le.return=W,W=le}return R(W);case N:return Z=ru(Z),Lt(W,K,Z,le)}if(be(Z))return Ae(W,K,Z,le);if(H(Z)){if(Pe=H(Z),typeof Pe!="function")throw Error(n(150));return Z=Pe.call(Z),ke(W,K,Z,le)}if(typeof Z.then=="function")return Lt(W,K,dp(Z),le);if(Z.$$typeof===O)return Lt(W,K,lp(W,Z),le);hp(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(d(W,K.sibling),le=x(K,Z),le.return=W,W=le):(d(W,K),le=jm(Z,W.mode,le),le.return=W,W=le),R(W)):d(W,K)}return function(W,K,Z,le){try{yd=0;var Pe=Lt(W,K,Z,le);return wc=null,Pe}catch(Ie){if(Ie===bc||Ie===cp)throw Ie;var ht=vi(29,Ie,null,W.mode);return ht.lanes=le,ht.return=W,ht}finally{}}}var iu=cT(!0),fT=cT(!1),Cs=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Is(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Os(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(xt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=ip(s),WS(s,null,d),u}return np(s,g,u,d),ip(s)}function _d(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,Kf(s,d)}}function Zm(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?x=b=R:b=b.next=R,d=d.next}while(d!==null);b===null?x=b=u:b=b.next=u}else x=b=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var Jm=!1;function bd(){if(Jm){var s=_c;if(s!==null)throw s}}function wd(s,u,d,g){Jm=!1;var x=s.updateQueue;Cs=!1;var b=x.firstBaseUpdate,R=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var q=j,J=q.next;q.next=null,R===null?b=J:R.next=J,R=q;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==R&&(j===null?oe.firstBaseUpdate=J:j.next=J,oe.lastBaseUpdate=q))}if(b!==null){var ce=x.baseState;R=0,oe=J=q=null,j=b;do{var te=j.lane&-536870913,ie=te!==j.lane;if(ie?(tt&te)===te:(g&te)===te){te!==0&&te===xc&&(Jm=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=s,ke=j;te=u;var Lt=d;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ce=Ae.call(Lt,ce,te);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,te=typeof Ae=="function"?Ae.call(Lt,ce,te):Ae,te==null)break e;ce=p({},ce,te);break e;case 2:Cs=!0}}te=j.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(J=oe=ie,q=ce):oe=oe.next=ie,R|=te;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);oe===null&&(q=ce),x.baseState=q,x.firstBaseUpdate=J,x.lastBaseUpdate=oe,b===null&&(x.shared.lanes=0),Ms|=R,s.lanes=R,s.memoizedState=ce}}function dT(s,u){if(typeof s!="function")throw Error(n(191,s));s.call(u)}function hT(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)dT(d[s],u)}var Ec=G(null),pp=G(0);function pT(s,u){s=No,ye(pp,s),ye(Ec,u),No=s|u.baseLanes}function ey(){ye(pp,No),ye(Ec,Ec.current)}function ty(){No=pp.current,ee(Ec),ee(pp)}var mi=G(null),$i=null;function Rs(s){var u=s.alternate;ye(yr,yr.current&1),ye(mi,s),$i===null&&(u===null||Ec.current!==null||u.memoizedState!==null)&&($i=s)}function ry(s){ye(yr,yr.current),ye(mi,s),$i===null&&($i=s)}function gT(s){s.tag===22?(ye(yr,yr.current),ye(mi,s),$i===null&&($i=s)):Ps()}function Ps(){ye(yr,yr.current),ye(mi,mi.current)}function yi(s){ee(mi),$i===s&&($i=null),ee(yr)}var yr=G(0);function gp(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||l2(d)||u2(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var So=0,qe=null,Mt=null,Rr=null,vp=!1,Ac=!1,au=!1,mp=0,Ed=0,Sc=null,zL=0;function ur(){throw Error(n(321))}function ny(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!gi(s[d],u[d]))return!1;return!0}function iy(s,u,d,g,x,b){return So=b,qe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=s===null||s.memoizedState===null?ZT:xy,au=!1,b=d(g,x),au=!1,Ac&&(b=mT(u,d,g,x)),vT(s),b}function vT(s){Y.H=Td;var u=Mt!==null&&Mt.next!==null;if(So=0,Rr=Mt=qe=null,vp=!1,Ed=0,Sc=null,u)throw Error(n(300));s===null||Pr||(s=s.dependencies,s!==null&&sp(s)&&(Pr=!0))}function mT(s,u,d,g){qe=s;var x=0;do{if(Ac&&(Sc=null),Ed=0,Ac=!1,25<=x)throw Error(n(301));if(x+=1,Rr=Mt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=JT,b=u(d,g)}while(Ac);return b}function HL(){var s=Y.H,u=s.useState()[0];return u=typeof u.then=="function"?Ad(u):u,s=s.useState()[0],(Mt!==null?Mt.memoizedState:null)!==s&&(qe.flags|=1024),u}function ay(){var s=mp!==0;return mp=0,s}function oy(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function sy(s){if(vp){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}vp=!1}So=0,Rr=Mt=qe=null,Ac=!1,Ed=mp=0,Sc=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?qe.memoizedState=Rr=s:Rr=Rr.next=s,Rr}function xr(){if(Mt===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var u=Rr===null?qe.memoizedState:Rr.next;if(u!==null)Rr=u,Mt=s;else{if(s===null)throw qe.alternate===null?Error(n(467)):Error(n(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Rr===null?qe.memoizedState=Rr=s:Rr=Rr.next=s}return Rr}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ad(s){var u=Ed;return Ed+=1,Sc===null&&(Sc=[]),s=sT(Sc,s,u),u=qe,(Rr===null?u.memoizedState:Rr.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?ZT:xy),s}function xp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ad(s);if(s.$$typeof===O)return pn(s)}throw Error(n(438,String(s)))}function ly(s){var u=null,d=qe.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=yp(),qe.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),g=0;g<s;g++)d[g]=V;return u.index++,d}function To(s,u){return typeof u=="function"?u(s):u}function _p(s){var u=xr();return uy(u,Mt,s)}function uy(s,u,d){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var x=s.baseQueue,b=g.pending;if(b!==null){if(x!==null){var R=x.next;x.next=b.next,b.next=R}u.baseQueue=x=b,g.pending=null}if(b=s.baseState,x===null)s.memoizedState=b;else{u=x.next;var j=R=null,q=null,J=u,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(tt&ce)===ce:(So&ce)===ce){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===xc&&(oe=!0);else if((So&te)===te){J=J.next,te===xc&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=ce,R=b):q=q.next=ce,qe.lanes|=te,Ms|=te;ce=J.action,au&&d(b,ce),b=J.hasEagerState?J.eagerState:d(b,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=te,R=b):q=q.next=te,qe.lanes|=ce,Ms|=ce;J=J.next}while(J!==null&&J!==u);if(q===null?R=b:q.next=j,!gi(b,s.memoizedState)&&(Pr=!0,oe&&(d=_c,d!==null)))throw d;s.memoizedState=b,s.baseState=R,s.baseQueue=q,g.lastRenderedState=b}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function cy(s){var u=xr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,b=u.memoizedState;if(x!==null){d.pending=null;var R=x=x.next;do b=s(b,R.action),R=R.next;while(R!==x);gi(b,u.memoizedState)||(Pr=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),d.lastRenderedState=b}return[b,g]}function yT(s,u,d){var g=qe,x=xr(),b=ot;if(b){if(d===void 0)throw Error(n(407));d=d()}else d=u();var R=!gi((Mt||x).memoizedState,d);if(R&&(x.memoizedState=d,Pr=!0),x=x.queue,hy(bT.bind(null,g,x,s),[s]),x.getSnapshot!==u||R||Rr!==null&&Rr.memoizedState.tag&1){if(g.flags|=2048,Tc(9,{destroy:void 0},_T.bind(null,g,x,d,u),null),Ft===null)throw Error(n(349));b||(So&127)!==0||xT(g,u,d)}return d}function xT(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=qe.updateQueue,u===null?(u=yp(),qe.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function _T(s,u,d,g){u.value=d,u.getSnapshot=g,wT(u)&&ET(s)}function bT(s,u,d){return d(function(){wT(u)&&ET(s)})}function wT(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!gi(s,d)}catch{return!0}}function ET(s){var u=Yl(s,2);u!==null&&ei(u,s,2)}function fy(s){var u=Un();if(typeof s=="function"){var d=s;if(s=d(),au){Mi(!0);try{d()}finally{Mi(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:s},u}function AT(s,u,d,g){return s.baseState=d,uy(s,Mt,typeof g=="function"?g:To)}function $L(s,u,d,g,x){if(Ep(s))throw Error(n(485));if(s=u.action,s!==null){var b={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};Y.T!==null?d(!0):b.isTransition=!1,g(b),d=u.pending,d===null?(b.next=u.pending=b,ST(u,b)):(b.next=d.next,u.pending=d.next=b)}}function ST(s,u){var d=u.action,g=u.payload,x=s.state;if(u.isTransition){var b=Y.T,R={};Y.T=R;try{var j=d(x,g),q=Y.S;q!==null&&q(R,j),TT(s,u,j)}catch(J){dy(s,u,J)}finally{b!==null&&R.types!==null&&(b.types=R.types),Y.T=b}}else try{b=d(x,g),TT(s,u,b)}catch(J){dy(s,u,J)}}function TT(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){CT(s,u,g)},function(g){return dy(s,u,g)}):CT(s,u,d)}function CT(s,u,d){u.status="fulfilled",u.value=d,IT(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,ST(s,d)))}function dy(s,u,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,IT(u),u=u.next;while(u!==g)}s.action=null}function IT(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function OT(s,u){return u}function RT(s,u){if(ot){var d=Ft.formState;if(d!==null){e:{var g=qe;if(ot){if(Gt){t:{for(var x=Gt,b=Hi;x.nodeType!==8;){if(!b){x=null;break t}if(x=qi(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Gt=qi(x.nextSibling),g=x.data==="F!";break e}}Ss(g)}g=!1}g&&(u=d[0])}}return d=Un(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OT,lastRenderedState:u},d.queue=g,d=XT.bind(null,qe,g),g.dispatch=d,g=fy(!1),b=yy.bind(null,qe,!1,g.queue),g=Un(),x={state:u,dispatch:null,action:s,pending:null},g.queue=x,d=$L.bind(null,qe,x,b,d),x.dispatch=d,g.memoizedState=s,[u,d,!1]}function PT(s){var u=xr();return DT(u,Mt,s)}function DT(s,u,d){if(u=uy(s,u,OT)[0],s=_p(To)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Ad(u)}catch(R){throw R===bc?cp:R}else g=u;u=xr();var x=u.queue,b=x.dispatch;return d!==u.memoizedState&&(qe.flags|=2048,Tc(9,{destroy:void 0},qL.bind(null,x,d),null)),[g,b,s]}function qL(s,u){s.action=u}function NT(s){var u=xr(),d=Mt;if(d!==null)return DT(u,d,s);xr(),u=u.memoizedState,d=xr();var g=d.queue.dispatch;return d.memoizedState=s,[u,g,!1]}function Tc(s,u,d,g){return s={tag:s,create:d,deps:g,inst:u,next:null},u=qe.updateQueue,u===null&&(u=yp(),qe.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s),s}function MT(){return xr().memoizedState}function bp(s,u,d,g){var x=Un();qe.flags|=s,x.memoizedState=Tc(1|u,{destroy:void 0},d,g===void 0?null:g)}function wp(s,u,d,g){var x=xr();g=g===void 0?null:g;var b=x.memoizedState.inst;Mt!==null&&g!==null&&ny(g,Mt.memoizedState.deps)?x.memoizedState=Tc(u,b,d,g):(qe.flags|=s,x.memoizedState=Tc(1|u,b,d,g))}function kT(s,u){bp(8390656,8,s,u)}function hy(s,u){wp(2048,8,s,u)}function GL(s){qe.flags|=4;var u=qe.updateQueue;if(u===null)u=yp(),qe.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function LT(s){var u=xr().memoizedState;return GL({ref:u,nextImpl:s}),function(){if((xt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function jT(s,u){return wp(4,2,s,u)}function BT(s,u){return wp(4,4,s,u)}function VT(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function FT(s,u,d){d=d!=null?d.concat([s]):null,wp(4,4,VT.bind(null,u,s),d)}function py(){}function UT(s,u){var d=xr();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&ny(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function zT(s,u){var d=xr();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&ny(u,g[1]))return g[0];if(g=s(),au){Mi(!0);try{s()}finally{Mi(!1)}}return d.memoizedState=[g,u],g}function gy(s,u,d){return d===void 0||(So&1073741824)!==0&&(tt&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=HC(),qe.lanes|=s,Ms|=s,d)}function HT(s,u,d,g){return gi(d,u)?d:Ec.current!==null?(s=gy(s,d,g),gi(s,u)||(Pr=!0),s):(So&42)===0||(So&1073741824)!==0&&(tt&261930)===0?(Pr=!0,s.memoizedState=d):(s=HC(),qe.lanes|=s,Ms|=s,u)}function $T(s,u,d,g,x){var b=se.p;se.p=b!==0&&8>b?b:8;var R=Y.T,j={};Y.T=j,yy(s,!1,u,d);try{var q=x(),J=Y.S;if(J!==null&&J(j,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=UL(q,g);Sd(s,u,oe,bi(s))}else Sd(s,u,g,bi(s))}catch(ce){Sd(s,u,{then:function(){},status:"rejected",reason:ce},bi())}finally{se.p=b,R!==null&&j.types!==null&&(R.types=j.types),Y.T=R}}function KL(){}function vy(s,u,d,g){if(s.tag!==5)throw Error(n(476));var x=qT(s).queue;$T(s,x,u,me,d===null?KL:function(){return GT(s),d(g)})}function qT(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:me},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function GT(s){var u=qT(s);u.next===null&&(u=s.alternate.memoizedState),Sd(s,u.next.queue,{},bi())}function my(){return pn(zd)}function KT(){return xr().memoizedState}function WT(){return xr().memoizedState}function WL(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=bi();s=Is(d);var g=Os(u,s,d);g!==null&&(ei(g,u,d),_d(g,u,d)),u={cache:Gm()},s.payload=u;return}u=u.return}}function XL(s,u,d){var g=bi();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ep(s)?YT(u,d):(d=km(s,u,d,g),d!==null&&(ei(d,s,g),QT(d,u,g)))}function XT(s,u,d){var g=bi();Sd(s,u,d,g)}function Sd(s,u,d,g){var x={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ep(s))YT(u,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var R=u.lastRenderedState,j=b(R,d);if(x.hasEagerState=!0,x.eagerState=j,gi(j,R))return np(s,u,x,0),Ft===null&&rp(),!1}catch{}finally{}if(d=km(s,u,x,g),d!==null)return ei(d,s,g),QT(d,u,g),!0}return!1}function yy(s,u,d,g){if(g={lane:2,revertLane:Yy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ep(s)){if(u)throw Error(n(479))}else u=km(s,d,g,2),u!==null&&ei(u,s,2)}function Ep(s){var u=s.alternate;return s===qe||u!==null&&u===qe}function YT(s,u){Ac=vp=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function QT(s,u,d){if((d&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,Kf(s,d)}}var Td={readContext:pn,use:xp,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};Td.useEffectEvent=ur;var ZT={readContext:pn,use:xp,useCallback:function(s,u){return Un().memoizedState=[s,u===void 0?null:u],s},useContext:pn,useEffect:kT,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,bp(4194308,4,VT.bind(null,u,s),d)},useLayoutEffect:function(s,u){return bp(4194308,4,s,u)},useInsertionEffect:function(s,u){bp(4,2,s,u)},useMemo:function(s,u){var d=Un();u=u===void 0?null:u;var g=s();if(au){Mi(!0);try{s()}finally{Mi(!1)}}return d.memoizedState=[g,u],g},useReducer:function(s,u,d){var g=Un();if(d!==void 0){var x=d(u);if(au){Mi(!0);try{d(u)}finally{Mi(!1)}}}else x=u;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=XL.bind(null,qe,s),[g.memoizedState,s]},useRef:function(s){var u=Un();return s={current:s},u.memoizedState=s},useState:function(s){s=fy(s);var u=s.queue,d=XT.bind(null,qe,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:py,useDeferredValue:function(s,u){var d=Un();return gy(d,s,u)},useTransition:function(){var s=fy(!1);return s=$T.bind(null,qe,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var g=qe,x=Un();if(ot){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),Ft===null)throw Error(n(349));(tt&127)!==0||xT(g,u,d)}x.memoizedState=d;var b={value:d,getSnapshot:u};return x.queue=b,kT(bT.bind(null,g,b,s),[s]),g.flags|=2048,Tc(9,{destroy:void 0},_T.bind(null,g,b,d,u),null),d},useId:function(){var s=Un(),u=Ft.identifierPrefix;if(ot){var d=Wa,g=Ka;d=(g&~(1<<32-vr(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=mp++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=zL++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:my,useFormState:RT,useActionState:RT,useOptimistic:function(s){var u=Un();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=yy.bind(null,qe,!0,d),d.dispatch=u,[s,u]},useMemoCache:ly,useCacheRefresh:function(){return Un().memoizedState=WL.bind(null,qe)},useEffectEvent:function(s){var u=Un(),d={impl:s};return u.memoizedState=d,function(){if((xt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},xy={readContext:pn,use:xp,useCallback:UT,useContext:pn,useEffect:hy,useImperativeHandle:FT,useInsertionEffect:jT,useLayoutEffect:BT,useMemo:zT,useReducer:_p,useRef:MT,useState:function(){return _p(To)},useDebugValue:py,useDeferredValue:function(s,u){var d=xr();return HT(d,Mt.memoizedState,s,u)},useTransition:function(){var s=_p(To)[0],u=xr().memoizedState;return[typeof s=="boolean"?s:Ad(s),u]},useSyncExternalStore:yT,useId:KT,useHostTransitionStatus:my,useFormState:PT,useActionState:PT,useOptimistic:function(s,u){var d=xr();return AT(d,Mt,s,u)},useMemoCache:ly,useCacheRefresh:WT};xy.useEffectEvent=LT;var JT={readContext:pn,use:xp,useCallback:UT,useContext:pn,useEffect:hy,useImperativeHandle:FT,useInsertionEffect:jT,useLayoutEffect:BT,useMemo:zT,useReducer:cy,useRef:MT,useState:function(){return cy(To)},useDebugValue:py,useDeferredValue:function(s,u){var d=xr();return Mt===null?gy(d,s,u):HT(d,Mt.memoizedState,s,u)},useTransition:function(){var s=cy(To)[0],u=xr().memoizedState;return[typeof s=="boolean"?s:Ad(s),u]},useSyncExternalStore:yT,useId:KT,useHostTransitionStatus:my,useFormState:NT,useActionState:NT,useOptimistic:function(s,u){var d=xr();return Mt!==null?AT(d,Mt,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:ly,useCacheRefresh:WT};JT.useEffectEvent=LT;function _y(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var by={enqueueSetState:function(s,u,d){s=s._reactInternals;var g=bi(),x=Is(g);x.payload=u,d!=null&&(x.callback=d),u=Os(s,x,g),u!==null&&(ei(u,s,g),_d(u,s,g))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=bi(),x=Is(g);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=Os(s,x,g),u!==null&&(ei(u,s,g),_d(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=bi(),g=Is(d);g.tag=2,u!=null&&(g.callback=u),u=Os(s,g,d),u!==null&&(ei(u,s,d),_d(u,s,d))}};function eC(s,u,d,g,x,b,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,b,R):u.prototype&&u.prototype.isPureReactComponent?!dd(d,g)||!dd(x,b):!0}function tC(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&by.enqueueReplaceState(u,u.state,null)}function ou(s,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var x in s)d[x]===void 0&&(d[x]=s[x])}return d}function rC(s){tp(s)}function nC(s){console.error(s)}function iC(s){tp(s)}function Ap(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function aC(s,u,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function wy(s,u,d){return d=Is(d),d.tag=3,d.payload={element:null},d.callback=function(){Ap(s,u)},d}function oC(s){return s=Is(s),s.tag=3,s}function sC(s,u,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var b=g.value;s.payload=function(){return x(b)},s.callback=function(){aC(u,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){aC(u,d,g),typeof x!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function YL(s,u,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&yc(u,d,x,!0),d=mi.current,d!==null){switch(d.tag){case 31:case 13:return $i===null?Lp():d.alternate===null&&cr===0&&(cr=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===fp?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),Ky(s,g,x)),!1;case 22:return d.flags|=65536,g===fp?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),Ky(s,g,x)),!1}throw Error(n(435,d.tag))}return Ky(s,g,x),Lp(),!1}if(ot)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==Um&&(s=Error(n(422),{cause:g}),gd(Fi(s,d)))):(g!==Um&&(u=Error(n(423),{cause:g}),gd(Fi(u,d))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=Fi(g,d),x=wy(s.stateNode,g,x),Zm(s,x),cr!==4&&(cr=2)),!1;var b=Error(n(520),{cause:g});if(b=Fi(b,d),Md===null?Md=[b]:Md.push(b),cr!==4&&(cr=2),u===null)return!0;g=Fi(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=x&-x,d.lanes|=s,s=wy(d.stateNode,g,s),Zm(d,s),!1;case 1:if(u=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b))))return d.flags|=65536,x&=-x,d.lanes|=x,x=oC(x),sC(x,s,d,g),Zm(d,x),!1}d=d.return}while(d!==null);return!1}var Ey=Error(n(461)),Pr=!1;function gn(s,u,d,g){u.child=s===null?fT(u,null,d,g):iu(u,s.child,d,g)}function lC(s,u,d,g,x){d=d.render;var b=u.ref;if("ref"in g){var R={};for(var j in g)j!=="ref"&&(R[j]=g[j])}else R=g;return eu(u),g=iy(s,u,d,R,b,x),j=ay(),s!==null&&!Pr?(oy(s,u,x),Co(s,u,x)):(ot&&j&&Vm(u),u.flags|=1,gn(s,u,g,x),u.child)}function uC(s,u,d,g,x){if(s===null){var b=d.type;return typeof b=="function"&&!Lm(b)&&b.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=b,cC(s,u,b,g,x)):(s=ap(d.type,null,g,u,u.mode,x),s.ref=u.ref,s.return=u,u.child=s)}if(b=s.child,!Py(s,x)){var R=b.memoizedProps;if(d=d.compare,d=d!==null?d:dd,d(R,g)&&s.ref===u.ref)return Co(s,u,x)}return u.flags|=1,s=bo(b,g),s.ref=u.ref,s.return=u,u.child=s}function cC(s,u,d,g,x){if(s!==null){var b=s.memoizedProps;if(dd(b,g)&&s.ref===u.ref)if(Pr=!1,u.pendingProps=g=b,Py(s,x))(s.flags&131072)!==0&&(Pr=!0);else return u.lanes=s.lanes,Co(s,u,x)}return Ay(s,u,d,g,x)}function fC(s,u,d,g){var x=g.children,b=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,s!==null){for(g=u.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~b}else g=0,u.child=null;return dC(s,u,b,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&up(u,b!==null?b.cachePool:null),b!==null?pT(u,b):ey(),gT(u);else return g=u.lanes=536870912,dC(s,u,b!==null?b.baseLanes|d:d,d,g)}else b!==null?(up(u,b.cachePool),pT(u,b),Ps(),u.memoizedState=null):(s!==null&&up(u,null),ey(),Ps());return gn(s,u,x,d),u.child}function Cd(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function dC(s,u,d,g,x){var b=Wm();return b=b===null?null:{parent:Or._currentValue,pool:b},u.memoizedState={baseLanes:d,cachePool:b},s!==null&&up(u,null),ey(),gT(u),s!==null&&yc(s,u,g,!0),u.childLanes=x,null}function Sp(s,u){return u=Cp({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function hC(s,u,d){return iu(u,s.child,null,d),s=Sp(u,u.pendingProps),s.flags|=2,yi(u),u.memoizedState=null,s}function QL(s,u,d){var g=u.pendingProps,x=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(ot){if(g.mode==="hidden")return s=Sp(u,g),u.lanes=536870912,Cd(null,s);if(ry(u),(s=Gt)?(s=S3(s,Hi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Es!==null?{id:Ka,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},d=YS(s),d.return=u,u.child=d,hn=u,Gt=null)):s=null,s===null)throw Ss(u);return u.lanes=536870912,null}return Sp(u,g)}var b=s.memoizedState;if(b!==null){var R=b.dehydrated;if(ry(u),x)if(u.flags&256)u.flags&=-257,u=hC(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(n(558));else if(Pr||yc(s,u,d,!1),x=(d&s.childLanes)!==0,Pr||x){if(g=Ft,g!==null&&(R=Wf(g,d),R!==0&&R!==b.retryLane))throw b.retryLane=R,Yl(s,R),ei(g,s,R),Ey;Lp(),u=hC(s,u,d)}else s=b.treeContext,Gt=qi(R.nextSibling),hn=u,ot=!0,As=null,Hi=!1,s!==null&&JS(u,s),u=Sp(u,g),u.flags|=4096;return u}return s=bo(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function Tp(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function Ay(s,u,d,g,x){return eu(u),d=iy(s,u,d,g,void 0,x),g=ay(),s!==null&&!Pr?(oy(s,u,x),Co(s,u,x)):(ot&&g&&Vm(u),u.flags|=1,gn(s,u,d,x),u.child)}function pC(s,u,d,g,x,b){return eu(u),u.updateQueue=null,d=mT(u,g,d,x),vT(s),g=ay(),s!==null&&!Pr?(oy(s,u,b),Co(s,u,b)):(ot&&g&&Vm(u),u.flags|=1,gn(s,u,d,b),u.child)}function gC(s,u,d,g,x){if(eu(u),u.stateNode===null){var b=pc,R=d.contextType;typeof R=="object"&&R!==null&&(b=pn(R)),b=new d(g,b),u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=by,u.stateNode=b,b._reactInternals=u,b=u.stateNode,b.props=g,b.state=u.memoizedState,b.refs={},Ym(u),R=d.contextType,b.context=typeof R=="object"&&R!==null?pn(R):pc,b.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(_y(u,d,R,g),b.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&by.enqueueReplaceState(b,b.state,null),wd(u,g,b,x),bd(),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){b=u.stateNode;var j=u.memoizedProps,q=ou(d,j);b.props=q;var J=b.context,oe=d.contextType;R=pc,typeof oe=="object"&&oe!==null&&(R=pn(oe));var ce=d.getDerivedStateFromProps;oe=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=u.pendingProps!==j,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||J!==R)&&tC(u,b,g,R),Cs=!1;var te=u.memoizedState;b.state=te,wd(u,g,b,x),bd(),J=u.memoizedState,j||te!==J||Cs?(typeof ce=="function"&&(_y(u,d,ce,g),J=u.memoizedState),(q=Cs||eC(u,d,q,g,te,J,R))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(u.flags|=4194308)):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=J),b.props=g,b.state=J,b.context=R,g=q):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{b=u.stateNode,Qm(s,u),R=u.memoizedProps,oe=ou(d,R),b.props=oe,ce=u.pendingProps,te=b.context,J=d.contextType,q=pc,typeof J=="object"&&J!==null&&(q=pn(J)),j=d.getDerivedStateFromProps,(J=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ce||te!==q)&&tC(u,b,g,q),Cs=!1,te=u.memoizedState,b.state=te,wd(u,g,b,x),bd();var ie=u.memoizedState;R!==ce||te!==ie||Cs||s!==null&&s.dependencies!==null&&sp(s.dependencies)?(typeof j=="function"&&(_y(u,d,j,g),ie=u.memoizedState),(oe=Cs||eC(u,d,oe,g,te,ie,q)||s!==null&&s.dependencies!==null&&sp(s.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,ie,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,ie,q)),typeof b.componentDidUpdate=="function"&&(u.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),b.props=g,b.state=ie,b.context=q,g=oe):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),g=!1)}return b=g,Tp(s,u),g=(u.flags&128)!==0,b||g?(b=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:b.render(),u.flags|=1,s!==null&&g?(u.child=iu(u,s.child,null,x),u.child=iu(u,null,d,x)):gn(s,u,d,x),u.memoizedState=b.state,s=u.child):s=Co(s,u,x),s}function vC(s,u,d,g){return Zl(),u.flags|=256,gn(s,u,d,g),u.child}var Sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ty(s){return{baseLanes:s,cachePool:aT()}}function Cy(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=_i),s}function mC(s,u,d){var g=u.pendingProps,x=!1,b=(u.flags&128)!==0,R;if((R=b)||(R=s!==null&&s.memoizedState===null?!1:(yr.current&2)!==0),R&&(x=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,s===null){if(ot){if(x?Rs(u):Ps(),(s=Gt)?(s=S3(s,Hi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Es!==null?{id:Ka,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},d=YS(s),d.return=u,u.child=d,hn=u,Gt=null)):s=null,s===null)throw Ss(u);return u2(s)?u.lanes=32:u.lanes=536870912,null}var j=g.children;return g=g.fallback,x?(Ps(),x=u.mode,j=Cp({mode:"hidden",children:j},x),g=Ql(g,x,d,null),j.return=u,g.return=u,j.sibling=g,u.child=j,g=u.child,g.memoizedState=Ty(d),g.childLanes=Cy(s,R,d),u.memoizedState=Sy,Cd(null,g)):(Rs(u),Iy(u,j))}var q=s.memoizedState;if(q!==null&&(j=q.dehydrated,j!==null)){if(b)u.flags&256?(Rs(u),u.flags&=-257,u=Oy(s,u,d)):u.memoizedState!==null?(Ps(),u.child=s.child,u.flags|=128,u=null):(Ps(),j=g.fallback,x=u.mode,g=Cp({mode:"visible",children:g.children},x),j=Ql(j,x,d,null),j.flags|=2,g.return=u,j.return=u,g.sibling=j,u.child=g,iu(u,s.child,null,d),g=u.child,g.memoizedState=Ty(d),g.childLanes=Cy(s,R,d),u.memoizedState=Sy,u=Cd(null,g));else if(Rs(u),u2(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var J=R.dgst;R=J,g=Error(n(419)),g.stack="",g.digest=R,gd({value:g,source:null,stack:null}),u=Oy(s,u,d)}else if(Pr||yc(s,u,d,!1),R=(d&s.childLanes)!==0,Pr||R){if(R=Ft,R!==null&&(g=Wf(R,d),g!==0&&g!==q.retryLane))throw q.retryLane=g,Yl(s,g),ei(R,s,g),Ey;l2(j)||Lp(),u=Oy(s,u,d)}else l2(j)?(u.flags|=192,u.child=s.child,u=null):(s=q.treeContext,Gt=qi(j.nextSibling),hn=u,ot=!0,As=null,Hi=!1,s!==null&&JS(u,s),u=Iy(u,g.children),u.flags|=4096);return u}return x?(Ps(),j=g.fallback,x=u.mode,q=s.child,J=q.sibling,g=bo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?j=bo(J,j):(j=Ql(j,x,d,null),j.flags|=2),j.return=u,g.return=u,g.sibling=j,u.child=g,Cd(null,g),g=u.child,j=s.child.memoizedState,j===null?j=Ty(d):(x=j.cachePool,x!==null?(q=Or._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=aT(),j={baseLanes:j.baseLanes|d,cachePool:x}),g.memoizedState=j,g.childLanes=Cy(s,R,d),u.memoizedState=Sy,Cd(s.child,g)):(Rs(u),d=s.child,s=d.sibling,d=bo(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,s!==null&&(R=u.deletions,R===null?(u.deletions=[s],u.flags|=16):R.push(s)),u.child=d,u.memoizedState=null,d)}function Iy(s,u){return u=Cp({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Cp(s,u){return s=vi(22,s,null,u),s.lanes=0,s}function Oy(s,u,d){return iu(u,s.child,null,d),s=Iy(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function yC(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),$m(s.return,u,d)}function Ry(s,u,d,g,x,b){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x,treeForkCount:b}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=x,R.treeForkCount=b)}function xC(s,u,d){var g=u.pendingProps,x=g.revealOrder,b=g.tail;g=g.children;var R=yr.current,j=(R&2)!==0;if(j?(R=R&1|2,u.flags|=128):R&=1,ye(yr,R),gn(s,u,g,d),g=ot?pd:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yC(s,d,u);else if(s.tag===19)yC(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(d=u.child,x=null;d!==null;)s=d.alternate,s!==null&&gp(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),Ry(u,!1,x,d,b,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(s=x.alternate,s!==null&&gp(s)===null){u.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}Ry(u,!0,d,null,b,g);break;case"together":Ry(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Co(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Ms|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(yc(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=bo(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=bo(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function Py(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&sp(s)))}function ZL(s,u,d){switch(u.tag){case 3:hr(u,u.stateNode.containerInfo),Ts(u,Or,s.memoizedState.cache),Zl();break;case 27:case 5:Fe(u);break;case 4:hr(u,u.stateNode.containerInfo);break;case 10:Ts(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,ry(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Rs(u),u.flags|=128,null):(d&u.child.childLanes)!==0?mC(s,u,d):(Rs(u),s=Co(s,u,d),s!==null?s.sibling:null);Rs(u);break;case 19:var x=(s.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(yc(s,u,d,!1),g=(d&u.childLanes)!==0),x){if(g)return xC(s,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ye(yr,yr.current),g)break;return null;case 22:return u.lanes=0,fC(s,u,d,u.pendingProps);case 24:Ts(u,Or,s.memoizedState.cache)}return Co(s,u,d)}function _C(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)Pr=!0;else{if(!Py(s,d)&&(u.flags&128)===0)return Pr=!1,ZL(s,u,d);Pr=(s.flags&131072)!==0}else Pr=!1,ot&&(u.flags&1048576)!==0&&ZS(u,pd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=ru(u.elementType),u.type=s,typeof s=="function")Lm(s)?(g=ou(s,g),u.tag=1,u=gC(null,u,s,g,d)):(u.tag=0,u=Ay(null,u,s,g,d));else{if(s!=null){var x=s.$$typeof;if(x===M){u.tag=11,u=lC(null,u,s,g,d);break e}else if(x===D){u.tag=14,u=uC(null,u,s,g,d);break e}}throw u=he(s)||s,Error(n(306,u,""))}}return u;case 0:return Ay(s,u,u.type,u.pendingProps,d);case 1:return g=u.type,x=ou(g,u.pendingProps),gC(s,u,g,x,d);case 3:e:{if(hr(u,u.stateNode.containerInfo),s===null)throw Error(n(387));g=u.pendingProps;var b=u.memoizedState;x=b.element,Qm(s,u),wd(u,g,null,d);var R=u.memoizedState;if(g=R.cache,Ts(u,Or,g),g!==b.cache&&qm(u,[Or],d,!0),bd(),g=R.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=vC(s,u,g,d);break e}else if(g!==x){x=Fi(Error(n(424)),u),gd(x),u=vC(s,u,g,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Gt=qi(s.firstChild),hn=u,ot=!0,As=null,Hi=!0,d=fT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Zl(),g===x){u=Co(s,u,d);break e}gn(s,u,g,d)}u=u.child}return u;case 26:return Tp(s,u),s===null?(d=P3(u.type,null,u.pendingProps,null))?u.memoizedState=d:ot||(d=u.type,s=u.pendingProps,g=Hp(He.current).createElement(d),g[Tr]=u,g[Zr]=s,vn(g,d,s),Cr(g),u.stateNode=g):u.memoizedState=P3(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Fe(u),s===null&&ot&&(g=u.stateNode=I3(u.type,u.pendingProps,He.current),hn=u,Hi=!0,x=Gt,Vs(u.type)?(c2=x,Gt=qi(g.firstChild)):Gt=x),gn(s,u,u.pendingProps.children,d),Tp(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&ot&&((x=g=Gt)&&(g=Ij(g,u.type,u.pendingProps,Hi),g!==null?(u.stateNode=g,hn=u,Gt=qi(g.firstChild),Hi=!1,x=!0):x=!1),x||Ss(u)),Fe(u),x=u.type,b=u.pendingProps,R=s!==null?s.memoizedProps:null,g=b.children,a2(x,b)?g=null:R!==null&&a2(x,R)&&(u.flags|=32),u.memoizedState!==null&&(x=iy(s,u,HL,null,null,d),zd._currentValue=x),Tp(s,u),gn(s,u,g,d),u.child;case 6:return s===null&&ot&&((s=d=Gt)&&(d=Oj(d,u.pendingProps,Hi),d!==null?(u.stateNode=d,hn=u,Gt=null,s=!0):s=!1),s||Ss(u)),null;case 13:return mC(s,u,d);case 4:return hr(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=iu(u,null,g,d):gn(s,u,g,d),u.child;case 11:return lC(s,u,u.type,u.pendingProps,d);case 7:return gn(s,u,u.pendingProps,d),u.child;case 8:return gn(s,u,u.pendingProps.children,d),u.child;case 12:return gn(s,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,Ts(u,u.type,g.value),gn(s,u,g.children,d),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,eu(u),x=pn(x),g=g(x),u.flags|=1,gn(s,u,g,d),u.child;case 14:return uC(s,u,u.type,u.pendingProps,d);case 15:return cC(s,u,u.type,u.pendingProps,d);case 19:return xC(s,u,d);case 31:return QL(s,u,d);case 22:return fC(s,u,d,u.pendingProps);case 24:return eu(u),g=pn(Or),s===null?(x=Wm(),x===null&&(x=Ft,b=Gm(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=d),x=b),u.memoizedState={parent:g,cache:x},Ym(u),Ts(u,Or,x)):((s.lanes&d)!==0&&(Qm(s,u),wd(u,null,null,d),bd()),x=s.memoizedState,b=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Ts(u,Or,g)):(g=b.cache,Ts(u,Or,g),g!==x.cache&&qm(u,[Or],d,!0))),gn(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Io(s){s.flags|=4}function Dy(s,u,d,g,x){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(KC())s.flags|=8192;else throw nu=fp,Xm}else s.flags&=-16777217}function bC(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!L3(u))if(KC())s.flags|=8192;else throw nu=fp,Xm}function Ip(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?M0():536870912,s.lanes|=u,Rc|=u)}function Id(s,u){if(!ot)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Kt(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function JL(s,u,d){var g=u.pendingProps;switch(Fm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(u),null;case 1:return Kt(u),null;case 3:return d=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Ao(Or),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(mc(u)?Io(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,zm())),Kt(u),null;case 26:var x=u.type,b=u.memoizedState;return s===null?(Io(u),b!==null?(Kt(u),bC(u,b)):(Kt(u),Dy(u,x,null,g,d))):b?b!==s.memoizedState?(Io(u),Kt(u),bC(u,b)):(Kt(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&Io(u),Kt(u),Dy(u,x,s,g,d)),null;case 27:if(We(u),d=He.current,x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Io(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Kt(u),null}s=_e.current,mc(u)?eT(u):(s=I3(x,g,d),u.stateNode=s,Io(u))}return Kt(u),null;case 5:if(We(u),x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&Io(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Kt(u),null}if(b=_e.current,mc(u))eT(u);else{var R=Hp(He.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?b.multiple=!0:g.size&&(b.size=g.size);break;default:b=typeof g.is=="string"?R.createElement(x,{is:g.is}):R.createElement(x)}}b[Tr]=u,b[Zr]=g;e:for(R=u.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===u)break e;for(;R.sibling===null;){if(R.return===null||R.return===u)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}u.stateNode=b;e:switch(vn(b,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Io(u)}}return Kt(u),Dy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&Io(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(s=He.current,mc(u)){if(s=u.stateNode,d=u.memoizedProps,g=null,x=hn,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[Tr]=u,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||m3(s.nodeValue,d)),s||Ss(u,!0)}else s=Hp(s).createTextNode(g),s[Tr]=u,u.stateNode=s}return Kt(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(g=mc(u),d!==null){if(s===null){if(!g)throw Error(n(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Tr]=u}else Zl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),s=!1}else d=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(yi(u),u):(yi(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Kt(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=mc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Tr]=u}else Zl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),x=!1}else x=zm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(yi(u),u):(yi(u),null)}return yi(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),b=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==x&&(g.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),Ip(u,u.updateQueue),Kt(u),null);case 4:return pe(),s===null&&e2(u.stateNode.containerInfo),Kt(u),null;case 10:return Ao(u.type),Kt(u),null;case 19:if(ee(yr),g=u.memoizedState,g===null)return Kt(u),null;if(x=(u.flags&128)!==0,b=g.rendering,b===null)if(x)Id(g,!1);else{if(cr!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(b=gp(s),b!==null){for(u.flags|=128,Id(g,!1),s=b.updateQueue,u.updateQueue=s,Ip(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)XS(d,s),d=d.sibling;return ye(yr,yr.current&1|2),ot&&wo(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Vn()>Np&&(u.flags|=128,x=!0,Id(g,!1),u.lanes=4194304)}else{if(!x)if(s=gp(b),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,Ip(u,s),Id(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ot)return Kt(u),null}else 2*Vn()-g.renderingStartTime>Np&&d!==536870912&&(u.flags|=128,x=!0,Id(g,!1),u.lanes=4194304);g.isBackwards?(b.sibling=u.child,u.child=b):(s=g.last,s!==null?s.sibling=b:u.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Vn(),s.sibling=null,d=yr.current,ye(yr,x?d&1|2:d&1),ot&&wo(u,g.treeForkCount),s):(Kt(u),null);case 22:case 23:return yi(u),ty(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(Kt(u),u.subtreeFlags&6&&(u.flags|=8192)):Kt(u),d=u.updateQueue,d!==null&&Ip(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),s!==null&&ee(tu),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Ao(Or),Kt(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function ej(s,u){switch(Fm(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ao(Or),pe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 31:if(u.memoizedState!==null){if(yi(u),u.alternate===null)throw Error(n(340));Zl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(yi(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Zl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ee(yr),null;case 4:return pe(),null;case 10:return Ao(u.type),null;case 22:case 23:return yi(u),ty(),s!==null&&ee(tu),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Ao(Or),null;case 25:return null;default:return null}}function wC(s,u){switch(Fm(u),u.tag){case 3:Ao(Or),pe();break;case 26:case 27:case 5:We(u);break;case 4:pe();break;case 31:u.memoizedState!==null&&yi(u);break;case 13:yi(u);break;case 19:ee(yr);break;case 10:Ao(u.type);break;case 22:case 23:yi(u),ty(),s!==null&&ee(tu);break;case 24:Ao(Or)}}function Od(s,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&s)===s){g=void 0;var b=d.create,R=d.inst;g=b(),R.destroy=g}d=d.next}while(d!==x)}}catch(j){Ot(u,u.return,j)}}function Ds(s,u,d){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var b=x.next;g=b;do{if((g.tag&s)===s){var R=g.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,x=u;var q=d,J=j;try{J()}catch(oe){Ot(x,q,oe)}}}g=g.next}while(g!==b)}}catch(oe){Ot(u,u.return,oe)}}function EC(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{hT(u,d)}catch(g){Ot(s,s.return,g)}}}function AC(s,u,d){d.props=ou(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Ot(s,u,g)}}function Rd(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(x){Ot(s,u,x)}}function Xa(s,u){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){Ot(s,u,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ot(s,u,x)}else d.current=null}function SC(s){var u=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){Ot(s,s.return,x)}}function Ny(s,u,d){try{var g=s.stateNode;wj(g,s.type,d,u),g[Zr]=u}catch(x){Ot(s,s.return,x)}}function TC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vs(s.type)||s.tag===4}function My(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||TC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ky(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=da));else if(g!==4&&(g===27&&Vs(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(ky(s,u,d),s=s.sibling;s!==null;)ky(s,u,d),s=s.sibling}function Op(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(g===27&&Vs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Op(s,u,d),s=s.sibling;s!==null;)Op(s,u,d),s=s.sibling}function CC(s){var u=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);vn(u,g,d),u[Tr]=s,u[Zr]=d}catch(b){Ot(s,s.return,b)}}var Oo=!1,Dr=!1,Ly=!1,IC=typeof WeakSet=="function"?WeakSet:Set,en=null;function tj(s,u){if(s=s.containerInfo,n2=Yp,s=FS(s),Om(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var R=0,j=-1,q=-1,J=0,oe=0,ce=s,te=null;t:for(;;){for(var ie;ce!==d||x!==0&&ce.nodeType!==3||(j=R+x),ce!==b||g!==0&&ce.nodeType!==3||(q=R+g),ce.nodeType===3&&(R+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)te=ce,ce=ie;for(;;){if(ce===s)break t;if(te===d&&++J===x&&(j=R),te===b&&++oe===g&&(q=R),(ie=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ie}d=j===-1||q===-1?null:{start:j,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(i2={focusedElem:s,selectionRange:d},Yp=!1,en=u;en!==null;)if(u=en,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,en=s;else for(;en!==null;){switch(u=en,b=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)x=s[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,d=u,x=b.memoizedProps,b=b.memoizedState,g=d.stateNode;try{var Ae=ou(d.type,x);s=g.getSnapshotBeforeUpdate(Ae,b),g.__reactInternalSnapshotBeforeUpdate=s}catch(ke){Ot(d,d.return,ke)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)s2(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":s2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=u.sibling,s!==null){s.return=u.return,en=s;break}en=u.return}}function OC(s,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Po(s,d),g&4&&Od(5,d);break;case 1:if(Po(s,d),g&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(R){Ot(d,d.return,R)}else{var x=ou(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(x,u,s.__reactInternalSnapshotBeforeUpdate)}catch(R){Ot(d,d.return,R)}}g&64&&EC(d),g&512&&Rd(d,d.return);break;case 3:if(Po(s,d),g&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{hT(s,u)}catch(R){Ot(d,d.return,R)}}break;case 27:u===null&&g&4&&CC(d);case 26:case 5:Po(s,d),u===null&&g&4&&SC(d),g&512&&Rd(d,d.return);break;case 12:Po(s,d);break;case 31:Po(s,d),g&4&&DC(s,d);break;case 13:Po(s,d),g&4&&NC(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=cj.bind(null,d),Rj(s,d))));break;case 22:if(g=d.memoizedState!==null||Oo,!g){u=u!==null&&u.memoizedState!==null||Dr,x=Oo;var b=Dr;Oo=g,(Dr=u)&&!b?Do(s,d,(d.subtreeFlags&8772)!==0):Po(s,d),Oo=x,Dr=b}break;case 30:break;default:Po(s,d)}}function RC(s){var u=s.alternate;u!==null&&(s.alternate=null,RC(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&ec(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,Yn=!1;function Ro(s,u,d){for(d=d.child;d!==null;)PC(s,u,d),d=d.sibling}function PC(s,u,d){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(la,d)}catch{}switch(d.tag){case 26:Dr||Xa(d,u),Ro(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Dr||Xa(d,u);var g=Jt,x=Yn;Vs(d.type)&&(Jt=d.stateNode,Yn=!1),Ro(s,u,d),Vd(d.stateNode),Jt=g,Yn=x;break;case 5:Dr||Xa(d,u);case 6:if(g=Jt,x=Yn,Jt=null,Ro(s,u,d),Jt=g,Yn=x,Jt!==null)if(Yn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(d.stateNode)}catch(b){Ot(d,u,b)}else try{Jt.removeChild(d.stateNode)}catch(b){Ot(d,u,b)}break;case 18:Jt!==null&&(Yn?(s=Jt,E3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Bc(s)):E3(Jt,d.stateNode));break;case 4:g=Jt,x=Yn,Jt=d.stateNode.containerInfo,Yn=!0,Ro(s,u,d),Jt=g,Yn=x;break;case 0:case 11:case 14:case 15:Ds(2,d,u),Dr||Ds(4,d,u),Ro(s,u,d);break;case 1:Dr||(Xa(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&AC(d,u,g)),Ro(s,u,d);break;case 21:Ro(s,u,d);break;case 22:Dr=(g=Dr)||d.memoizedState!==null,Ro(s,u,d),Dr=g;break;default:Ro(s,u,d)}}function DC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bc(s)}catch(d){Ot(u,u.return,d)}}}function NC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bc(s)}catch(d){Ot(u,u.return,d)}}function rj(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new IC),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new IC),u;default:throw Error(n(435,s.tag))}}function Rp(s,u){var d=rj(s);u.forEach(function(g){if(!d.has(g)){d.add(g);var x=fj.bind(null,s,g);g.then(x,x)}})}function Qn(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],b=s,R=u,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(Vs(j.type)){Jt=j.stateNode,Yn=!1;break e}break;case 5:Jt=j.stateNode,Yn=!1;break e;case 3:case 4:Jt=j.stateNode.containerInfo,Yn=!0;break e}j=j.return}if(Jt===null)throw Error(n(160));PC(b,R,x),Jt=null,Yn=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)MC(u,s),u=u.sibling}var ya=null;function MC(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qn(u,s),Zn(s),g&4&&(Ds(3,s,s.return),Od(3,s),Ds(5,s,s.return));break;case 1:Qn(u,s),Zn(s),g&512&&(Dr||d===null||Xa(d,d.return)),g&64&&Oo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=ya;if(Qn(u,s),Zn(s),g&512&&(Dr||d===null||Xa(d,d.return)),g&4){var b=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":b=x.getElementsByTagName("title")[0],(!b||b[ka]||b[Tr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(g),x.head.insertBefore(b,x.querySelector("head > title"))),vn(b,g,d),b[Tr]=s,Cr(b),g=b;break e;case"link":var R=M3("link","href",x).get(g+(d.href||""));if(R){for(var j=0;j<R.length;j++)if(b=R[j],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(j,1);break t}}b=x.createElement(g),vn(b,g,d),x.head.appendChild(b);break;case"meta":if(R=M3("meta","content",x).get(g+(d.content||""))){for(j=0;j<R.length;j++)if(b=R[j],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(j,1);break t}}b=x.createElement(g),vn(b,g,d),x.head.appendChild(b);break;default:throw Error(n(468,g))}b[Tr]=s,Cr(b),g=b}s.stateNode=g}else k3(x,s.type,s.stateNode);else s.stateNode=N3(x,g,s.memoizedProps);else b!==g?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,g===null?k3(x,s.type,s.stateNode):N3(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Ny(s,s.memoizedProps,d.memoizedProps)}break;case 27:Qn(u,s),Zn(s),g&512&&(Dr||d===null||Xa(d,d.return)),d!==null&&g&4&&Ny(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Qn(u,s),Zn(s),g&512&&(Dr||d===null||Xa(d,d.return)),s.flags&32){x=s.stateNode;try{Xn(x,"")}catch(Ae){Ot(s,s.return,Ae)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,Ny(s,x,d!==null?d.memoizedProps:x)),g&1024&&(Ly=!0);break;case 6:if(Qn(u,s),Zn(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Ae){Ot(s,s.return,Ae)}}break;case 3:if(Gp=null,x=ya,ya=$p(u.containerInfo),Qn(u,s),ya=x,Zn(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Bc(u.containerInfo)}catch(Ae){Ot(s,s.return,Ae)}Ly&&(Ly=!1,kC(s));break;case 4:g=ya,ya=$p(s.stateNode.containerInfo),Qn(u,s),Zn(s),ya=g;break;case 12:Qn(u,s),Zn(s);break;case 31:Qn(u,s),Zn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rp(s,g)));break;case 13:Qn(u,s),Zn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Dp=Vn()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rp(s,g)));break;case 22:x=s.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,J=Oo,oe=Dr;if(Oo=J||x,Dr=oe||q,Qn(u,s),Dr=oe,Oo=J,Zn(s),g&8192)e:for(u=s.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(d===null||q||Oo||Dr||su(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){q=d=u;try{if(b=q.stateNode,x)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=q.stateNode;var ce=q.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){Ot(q,q.return,Ae)}}}else if(u.tag===6){if(d===null){q=u;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(Ae){Ot(q,q.return,Ae)}}}else if(u.tag===18){if(d===null){q=u;try{var ie=q.stateNode;x?A3(ie,!0):A3(q.stateNode,!1)}catch(Ae){Ot(q,q.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Rp(s,d))));break;case 19:Qn(u,s),Zn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rp(s,g)));break;case 30:break;case 21:break;default:Qn(u,s),Zn(s)}}function Zn(s){var u=s.flags;if(u&2){try{for(var d,g=s.return;g!==null;){if(TC(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var x=d.stateNode,b=My(s);Op(s,b,x);break;case 5:var R=d.stateNode;d.flags&32&&(Xn(R,""),d.flags&=-33);var j=My(s);Op(s,j,R);break;case 3:case 4:var q=d.stateNode.containerInfo,J=My(s);ky(s,J,q);break;default:throw Error(n(161))}}catch(oe){Ot(s,s.return,oe)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function kC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;kC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Po(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)OC(s,u.alternate,u),u=u.sibling}function su(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Ds(4,u,u.return),su(u);break;case 1:Xa(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&AC(u,u.return,d),su(u);break;case 27:Vd(u.stateNode);case 26:case 5:Xa(u,u.return),su(u);break;case 22:u.memoizedState===null&&su(u);break;case 30:su(u);break;default:su(u)}s=s.sibling}}function Do(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=s,b=u,R=b.flags;switch(b.tag){case 0:case 11:case 15:Do(x,b,d),Od(4,b);break;case 1:if(Do(x,b,d),g=b,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){Ot(g,g.return,J)}if(g=b,x=g.updateQueue,x!==null){var j=g.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)dT(q[x],j)}catch(J){Ot(g,g.return,J)}}d&&R&64&&EC(b),Rd(b,b.return);break;case 27:CC(b);case 26:case 5:Do(x,b,d),d&&g===null&&R&4&&SC(b),Rd(b,b.return);break;case 12:Do(x,b,d);break;case 31:Do(x,b,d),d&&R&4&&DC(x,b);break;case 13:Do(x,b,d),d&&R&4&&NC(x,b);break;case 22:b.memoizedState===null&&Do(x,b,d),Rd(b,b.return);break;case 30:break;default:Do(x,b,d)}u=u.sibling}}function jy(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&vd(d))}function By(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&vd(s))}function xa(s,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)LC(s,u,d,g),u=u.sibling}function LC(s,u,d,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:xa(s,u,d,g),x&2048&&Od(9,u);break;case 1:xa(s,u,d,g);break;case 3:xa(s,u,d,g),x&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&vd(s)));break;case 12:if(x&2048){xa(s,u,d,g),s=u.stateNode;try{var b=u.memoizedProps,R=b.id,j=b.onPostCommit;typeof j=="function"&&j(R,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Ot(u,u.return,q)}}else xa(s,u,d,g);break;case 31:xa(s,u,d,g);break;case 13:xa(s,u,d,g);break;case 23:break;case 22:b=u.stateNode,R=u.alternate,u.memoizedState!==null?b._visibility&2?xa(s,u,d,g):Pd(s,u):b._visibility&2?xa(s,u,d,g):(b._visibility|=2,Cc(s,u,d,g,(u.subtreeFlags&10256)!==0||!1)),x&2048&&jy(R,u);break;case 24:xa(s,u,d,g),x&2048&&By(u.alternate,u);break;default:xa(s,u,d,g)}}function Cc(s,u,d,g,x){for(x=x&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var b=s,R=u,j=d,q=g,J=R.flags;switch(R.tag){case 0:case 11:case 15:Cc(b,R,j,q,x),Od(8,R);break;case 23:break;case 22:var oe=R.stateNode;R.memoizedState!==null?oe._visibility&2?Cc(b,R,j,q,x):Pd(b,R):(oe._visibility|=2,Cc(b,R,j,q,x)),x&&J&2048&&jy(R.alternate,R);break;case 24:Cc(b,R,j,q,x),x&&J&2048&&By(R.alternate,R);break;default:Cc(b,R,j,q,x)}u=u.sibling}}function Pd(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,g=u,x=g.flags;switch(g.tag){case 22:Pd(d,g),x&2048&&jy(g.alternate,g);break;case 24:Pd(d,g),x&2048&&By(g.alternate,g);break;default:Pd(d,g)}u=u.sibling}}var Dd=8192;function Ic(s,u,d){if(s.subtreeFlags&Dd)for(s=s.child;s!==null;)jC(s,u,d),s=s.sibling}function jC(s,u,d){switch(s.tag){case 26:Ic(s,u,d),s.flags&Dd&&s.memoizedState!==null&&zj(d,ya,s.memoizedState,s.memoizedProps);break;case 5:Ic(s,u,d);break;case 3:case 4:var g=ya;ya=$p(s.stateNode.containerInfo),Ic(s,u,d),ya=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Dd,Dd=16777216,Ic(s,u,d),Dd=g):Ic(s,u,d));break;default:Ic(s,u,d)}}function BC(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Nd(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];en=g,FC(g,s)}BC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)VC(s),s=s.sibling}function VC(s){switch(s.tag){case 0:case 11:case 15:Nd(s),s.flags&2048&&Ds(9,s,s.return);break;case 3:Nd(s);break;case 12:Nd(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Pp(s)):Nd(s);break;default:Nd(s)}}function Pp(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];en=g,FC(g,s)}BC(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Ds(8,u,u.return),Pp(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,Pp(u));break;default:Pp(u)}s=s.sibling}}function FC(s,u){for(;en!==null;){var d=en;switch(d.tag){case 0:case 11:case 15:Ds(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:vd(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,en=g;else e:for(d=s;en!==null;){g=en;var x=g.sibling,b=g.return;if(RC(g),g===d){en=null;break e}if(x!==null){x.return=b,en=x;break e}en=b}}}var nj={getCacheForType:function(s){var u=pn(Or),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return pn(Or).controller.signal}},ij=typeof WeakMap=="function"?WeakMap:Map,xt=0,Ft=null,Ze=null,tt=0,It=0,xi=null,Ns=!1,Oc=!1,Vy=!1,No=0,cr=0,Ms=0,lu=0,Fy=0,_i=0,Rc=0,Md=null,Jn=null,Uy=!1,Dp=0,UC=0,Np=1/0,Mp=null,ks=null,Fr=0,Ls=null,Pc=null,Mo=0,zy=0,Hy=null,zC=null,kd=0,$y=null;function bi(){return(xt&2)!==0&&tt!==0?tt&-tt:Y.T!==null?Yy():k0()}function HC(){if(_i===0)if((tt&536870912)===0||ot){var s=kl;kl<<=1,(kl&3932160)===0&&(kl=262144),_i=s}else _i=536870912;return s=mi.current,s!==null&&(s.flags|=32),_i}function ei(s,u,d){(s===Ft&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(Dc(s,0),js(s,tt,_i,!1)),Ll(s,d),((xt&2)===0||s!==Ft)&&(s===Ft&&((xt&2)===0&&(lu|=d),cr===4&&js(s,tt,_i,!1)),Ya(s))}function $C(s,u,d){if((xt&6)!==0)throw Error(n(327));var g=!d&&(u&127)===0&&(u&s.expiredLanes)===0||ua(s,u),x=g?sj(s,u):Gy(s,u,!0),b=g;do{if(x===0){Oc&&!g&&js(s,u,0,!1);break}else{if(d=s.current.alternate,b&&!aj(d)){x=Gy(s,u,!1),b=!1;continue}if(x===2){if(b=u,s.errorRecoveryDisabledLanes&b)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var j=s;x=Md;var q=j.current.memoizedState.isDehydrated;if(q&&(Dc(j,R).flags|=256),R=Gy(j,R,!1),R!==2){if(Vy&&!q){j.errorRecoveryDisabledLanes|=b,lu|=b,x=4;break e}b=Jn,Jn=x,b!==null&&(Jn===null?Jn=b:Jn.push.apply(Jn,b))}x=R}if(b=!1,x!==2)continue}}if(x===1){Dc(s,0),js(s,u,0,!0);break}e:{switch(g=s,b=x,b){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:js(g,u,_i,!Ns);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(x=Dp+300-Vn(),10<x)){if(js(g,u,_i,!Ns),Da(g,0,!0)!==0)break e;Mo=u,g.timeoutHandle=b3(qC.bind(null,g,d,Jn,Mp,Uy,u,_i,lu,Rc,Ns,b,"Throttled",-0,0),x);break e}qC(g,d,Jn,Mp,Uy,u,_i,lu,Rc,Ns,b,null,-0,0)}}break}while(!0);Ya(s)}function qC(s,u,d,g,x,b,R,j,q,J,oe,ce,te,ie){if(s.timeoutHandle=-1,ce=u.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},jC(u,b,ce);var Ae=(b&62914560)===b?Dp-Vn():(b&4194048)===b?UC-Vn():0;if(Ae=Hj(ce,Ae),Ae!==null){Mo=b,s.cancelPendingCommit=Ae(JC.bind(null,s,u,b,d,g,x,R,j,q,oe,ce,null,te,ie)),js(s,b,R,!J);return}}JC(s,u,b,d,g,x,R,j,q)}function aj(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],b=x.getSnapshot;x=x.value;try{if(!gi(b(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function js(s,u,d,g){u&=~Fy,u&=~lu,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var x=u;0<x;){var b=31-vr(x),R=1<<b;g[b]=-1,x&=~R}d!==0&&jl(s,d,u)}function kp(){return(xt&6)===0?(Ld(0),!1):!0}function qy(){if(Ze!==null){if(It===0)var s=Ze.return;else s=Ze,Eo=Jl=null,sy(s),wc=null,yd=0,s=Ze;for(;s!==null;)wC(s.alternate,s),s=s.return;Ze=null}}function Dc(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,Sj(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Mo=0,qy(),Ft=s,Ze=d=bo(s.current,null),tt=u,It=0,xi=null,Ns=!1,Oc=ua(s,u),Vy=!1,Rc=_i=Fy=lu=Ms=cr=0,Jn=Md=null,Uy=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var x=31-vr(g),b=1<<x;u|=s[x],g&=~b}return No=u,rp(),d}function GC(s,u){qe=null,Y.H=Td,u===bc||u===cp?(u=lT(),It=3):u===Xm?(u=lT(),It=4):It=u===Ey?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,xi=u,Ze===null&&(cr=1,Ap(s,Fi(u,s.current)))}function KC(){var s=mi.current;return s===null?!0:(tt&4194048)===tt?$i===null:(tt&62914560)===tt||(tt&536870912)!==0?s===$i:!1}function WC(){var s=Y.H;return Y.H=Td,s===null?Td:s}function XC(){var s=Y.A;return Y.A=nj,s}function Lp(){cr=4,Ns||(tt&4194048)!==tt&&mi.current!==null||(Oc=!0),(Ms&134217727)===0&&(lu&134217727)===0||Ft===null||js(Ft,tt,_i,!1)}function Gy(s,u,d){var g=xt;xt|=2;var x=WC(),b=XC();(Ft!==s||tt!==u)&&(Mp=null,Dc(s,u)),u=!1;var R=cr;e:do try{if(It!==0&&Ze!==null){var j=Ze,q=xi;switch(It){case 8:qy(),R=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var J=It;if(It=0,xi=null,Nc(s,j,q,J),d&&Oc){R=0;break e}break;default:J=It,It=0,xi=null,Nc(s,j,q,J)}}oj(),R=cr;break}catch(oe){GC(s,oe)}while(!0);return u&&s.shellSuspendCounter++,Eo=Jl=null,xt=g,Y.H=x,Y.A=b,Ze===null&&(Ft=null,tt=0,rp()),R}function oj(){for(;Ze!==null;)YC(Ze)}function sj(s,u){var d=xt;xt|=2;var g=WC(),x=XC();Ft!==s||tt!==u?(Mp=null,Np=Vn()+500,Dc(s,u)):Oc=ua(s,u);e:do try{if(It!==0&&Ze!==null){u=Ze;var b=xi;t:switch(It){case 1:It=0,xi=null,Nc(s,u,b,1);break;case 2:case 9:if(oT(b)){It=0,xi=null,QC(u);break}u=function(){It!==2&&It!==9||Ft!==s||(It=7),Ya(s)},b.then(u,u);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:oT(b)?(It=0,xi=null,QC(u)):(It=0,xi=null,Nc(s,u,b,7));break;case 5:var R=null;switch(Ze.tag){case 26:R=Ze.memoizedState;case 5:case 27:var j=Ze;if(R?L3(R):j.stateNode.complete){It=0,xi=null;var q=j.sibling;if(q!==null)Ze=q;else{var J=j.return;J!==null?(Ze=J,jp(J)):Ze=null}break t}}It=0,xi=null,Nc(s,u,b,5);break;case 6:It=0,xi=null,Nc(s,u,b,6);break;case 8:qy(),cr=6;break e;default:throw Error(n(462))}}lj();break}catch(oe){GC(s,oe)}while(!0);return Eo=Jl=null,Y.H=g,Y.A=x,xt=d,Ze!==null?0:(Ft=null,tt=0,rp(),cr)}function lj(){for(;Ze!==null&&!wm();)YC(Ze)}function YC(s){var u=_C(s.alternate,s,No);s.memoizedProps=s.pendingProps,u===null?jp(s):Ze=u}function QC(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=pC(d,u,u.pendingProps,u.type,void 0,tt);break;case 11:u=pC(d,u,u.pendingProps,u.type.render,u.ref,tt);break;case 5:sy(u);default:wC(d,u),u=Ze=XS(u,No),u=_C(d,u,No)}s.memoizedProps=s.pendingProps,u===null?jp(s):Ze=u}function Nc(s,u,d,g){Eo=Jl=null,sy(u),wc=null,yd=0;var x=u.return;try{if(YL(s,x,u,d,tt)){cr=1,Ap(s,Fi(d,s.current)),Ze=null;return}}catch(b){if(x!==null)throw Ze=x,b;cr=1,Ap(s,Fi(d,s.current)),Ze=null;return}u.flags&32768?(ot||g===1?s=!0:Oc||(tt&536870912)!==0?s=!1:(Ns=s=!0,(g===2||g===9||g===3||g===6)&&(g=mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),ZC(u,s)):jp(u)}function jp(s){var u=s;do{if((u.flags&32768)!==0){ZC(u,Ns);return}s=u.return;var d=JL(u.alternate,u,No);if(d!==null){Ze=d;return}if(u=u.sibling,u!==null){Ze=u;return}Ze=u=s}while(u!==null);cr===0&&(cr=5)}function ZC(s,u){do{var d=ej(s.alternate,s);if(d!==null){d.flags&=32767,Ze=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=d}while(s!==null);cr=6,Ze=null}function JC(s,u,d,g,x,b,R,j,q){s.cancelPendingCommit=null;do Bp();while(Fr!==0);if((xt&6)!==0)throw Error(n(327));if(u!==null){if(u===s.current)throw Error(n(177));if(b=u.lanes|u.childLanes,b|=Mm,Sm(s,d,b,R,j,q),s===Ft&&(Ze=Ft=null,tt=0),Pc=u,Ls=s,Mo=d,zy=b,Hy=x,zC=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dj(hs,function(){return i3(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,x=se.p,se.p=2,R=xt,xt|=4;try{tj(s,u,d)}finally{xt=R,se.p=x,Y.T=g}}Fr=1,e3(),t3(),r3()}}function e3(){if(Fr===1){Fr=0;var s=Ls,u=Pc,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{MC(u,s);var b=i2,R=FS(s.containerInfo),j=b.focusedElem,q=b.selectionRange;if(R!==j&&j&&j.ownerDocument&&VS(j.ownerDocument.documentElement,j)){if(q!==null&&Om(j)){var J=q.start,oe=q.end;if(oe===void 0&&(oe=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(oe,j.value.length);else{var ce=j.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ae=j.textContent.length,ke=Math.min(q.start,Ae),Lt=q.end===void 0?ke:Math.min(q.end,Ae);!ie.extend&&ke>Lt&&(R=Lt,Lt=ke,ke=R);var W=BS(j,ke),K=BS(j,Lt);if(W&&K&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=ce.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),ke>Lt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(ce=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var le=ce[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Yp=!!n2,i2=n2=null}finally{xt=x,se.p=g,Y.T=d}}s.current=u,Fr=2}}function t3(){if(Fr===2){Fr=0;var s=Ls,u=Pc,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{OC(s,u.alternate,u)}finally{xt=x,se.p=g,Y.T=d}}Fr=3}}function r3(){if(Fr===4||Fr===3){Fr=0,I0();var s=Ls,u=Pc,d=Mo,g=zC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fr=5:(Fr=0,Pc=Ls=null,n3(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(ks=null),mo(d),u=u.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(la,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Y.T,x=se.p,se.p=2,Y.T=null;try{for(var b=s.onRecoverableError,R=0;R<g.length;R++){var j=g[R];b(j.value,{componentStack:j.stack})}}finally{Y.T=u,se.p=x}}(Mo&3)!==0&&Bp(),Ya(s),x=s.pendingLanes,(d&261930)!==0&&(x&42)!==0?s===$y?kd++:(kd=0,$y=s):kd=0,Ld(0)}}function n3(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,vd(u)))}function Bp(){return e3(),t3(),r3(),i3()}function i3(){if(Fr!==5)return!1;var s=Ls,u=zy;zy=0;var d=mo(Mo),g=Y.T,x=se.p;try{se.p=32>d?32:d,Y.T=null,d=Hy,Hy=null;var b=Ls,R=Mo;if(Fr=0,Pc=Ls=null,Mo=0,(xt&6)!==0)throw Error(n(331));var j=xt;if(xt|=4,VC(b.current),LC(b,b.current,R,d),xt=j,Ld(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(la,b)}catch{}return!0}finally{se.p=x,Y.T=g,n3(s,u)}}function a3(s,u,d){u=Fi(d,u),u=wy(s.stateNode,u,2),s=Os(s,u,2),s!==null&&(Ll(s,2),Ya(s))}function Ot(s,u,d){if(s.tag===3)a3(s,s,d);else for(;u!==null;){if(u.tag===3){a3(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))){s=Fi(d,s),d=oC(2),g=Os(u,d,2),g!==null&&(sC(d,g,u,s),Ll(g,2),Ya(g));break}}u=u.return}}function Ky(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new ij;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(Vy=!0,x.add(d),s=uj.bind(null,s,u,d),u.then(s,s))}function uj(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ft===s&&(tt&d)===d&&(cr===4||cr===3&&(tt&62914560)===tt&&300>Vn()-Dp?(xt&2)===0&&Dc(s,0):Fy|=d,Rc===tt&&(Rc=0)),Ya(s)}function o3(s,u){u===0&&(u=M0()),s=Yl(s,u),s!==null&&(Ll(s,u),Ya(s))}function cj(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),o3(s,d)}function fj(s,u){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(u),o3(s,d)}function dj(s,u){return Vr(s,u)}var Vp=null,Mc=null,Wy=!1,Fp=!1,Xy=!1,Bs=0;function Ya(s){s!==Mc&&s.next===null&&(Mc===null?Vp=Mc=s:Mc=Mc.next=s),Fp=!0,Wy||(Wy=!0,pj())}function Ld(s,u){if(!Xy&&Fp){Xy=!0;do for(var d=!1,g=Vp;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var b=0;else{var R=g.suspendedLanes,j=g.pingedLanes;b=(1<<31-vr(42|s)+1)-1,b&=x&~(R&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,c3(g,b))}else b=tt,b=Da(g,g===Ft?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||ua(g,b)||(d=!0,c3(g,b));g=g.next}while(d);Xy=!1}}function hj(){s3()}function s3(){Fp=Wy=!1;var s=0;Bs!==0&&Aj()&&(s=Bs);for(var u=Vn(),d=null,g=Vp;g!==null;){var x=g.next,b=l3(g,u);b===0?(g.next=null,d===null?Vp=x:d.next=x,x===null&&(Mc=d)):(d=g,(s!==0||(b&3)!==0)&&(Fp=!0)),g=x}Fr!==0&&Fr!==5||Ld(s),Bs!==0&&(Bs=0)}function l3(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var R=31-vr(b),j=1<<R,q=x[R];q===-1?((j&d)===0||(j&g)!==0)&&(x[R]=Am(j,u)):q<=u&&(s.expiredLanes|=j),b&=~j}if(u=Ft,d=tt,d=Da(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===u&&(It===2||It===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&ds(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||ua(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(g!==null&&ds(g),mo(d)){case 2:case 8:d=Gf;break;case 32:d=hs;break;case 268435456:d=O0;break;default:d=hs}return g=u3.bind(null,s),d=Vr(d,g),s.callbackPriority=u,s.callbackNode=d,u}return g!==null&&g!==null&&ds(g),s.callbackPriority=2,s.callbackNode=null,2}function u3(s,u){if(Fr!==0&&Fr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Bp()&&s.callbackNode!==d)return null;var g=tt;return g=Da(s,s===Ft?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:($C(s,g,u),l3(s,Vn()),s.callbackNode!=null&&s.callbackNode===d?u3.bind(null,s):null)}function c3(s,u){if(Bp())return null;$C(s,u,!0)}function pj(){Tj(function(){(xt&6)!==0?Vr(qf,hj):s3()})}function Yy(){if(Bs===0){var s=xc;s===0&&(s=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),Bs=s}return Bs}function f3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ic(""+s)}function d3(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function gj(s,u,d,g,x){if(u==="submit"&&d&&d.stateNode===x){var b=f3((x[Zr]||null).action),R=g.submitter;R&&(u=(u=R[Zr]||null)?f3(u.formAction):R.getAttribute("formAction"),u!==null&&(b=u,R=null));var j=new Ha("action","action",null,g,x);s.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Bs!==0){var q=R?d3(x,R):new FormData(x);vy(d,{pending:!0,data:q,method:x.method,action:b},null,q)}}else typeof b=="function"&&(j.preventDefault(),q=R?d3(x,R):new FormData(x),vy(d,{pending:!0,data:q,method:x.method,action:b},b,q))},currentTarget:x}]})}}for(var Qy=0;Qy<Nm.length;Qy++){var Zy=Nm[Qy],vj=Zy.toLowerCase(),mj=Zy[0].toUpperCase()+Zy.slice(1);ma(vj,"on"+mj)}ma(HS,"onAnimationEnd"),ma($S,"onAnimationIteration"),ma(qS,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(NL,"onTransitionRun"),ma(ML,"onTransitionStart"),ma(kL,"onTransitionCancel"),ma(GS,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jd));function h3(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var b=void 0;if(u)for(var R=g.length-1;0<=R;R--){var j=g[R],q=j.instance,J=j.currentTarget;if(j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){tp(oe)}x.currentTarget=null,b=q}else for(R=0;R<g.length;R++){if(j=g[R],q=j.instance,J=j.currentTarget,j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){tp(oe)}x.currentTarget=null,b=q}}}}function Je(s,u){var d=u[Ju];d===void 0&&(d=u[Ju]=new Set);var g=s+"__bubble";d.has(g)||(p3(u,s,2,!1),d.add(g))}function Jy(s,u,d){var g=0;u&&(g|=4),p3(d,s,g,u)}var Up="_reactListening"+Math.random().toString(36).slice(2);function e2(s){if(!s[Up]){s[Up]=!0,Xf.forEach(function(d){d!=="selectionchange"&&(yj.has(d)||Jy(d,!1,s),Jy(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Up]||(u[Up]=!0,Jy("selectionchange",!1,u))}}function p3(s,u,d,g){switch(H3(u)){case 2:var x=Gj;break;case 8:x=Kj;break;default:x=g2}d=x.bind(null,u,d,s),x=void 0,!zl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(u,d,{capture:!0,passive:x}):s.addEventListener(u,d,!0):x!==void 0?s.addEventListener(u,d,{passive:x}):s.addEventListener(u,d,!1)}function t2(s,u,d,g,x){var b=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var j=g.stateNode.containerInfo;if(j===x)break;if(R===4)for(R=g.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;j!==null;){if(R=La(j),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){g=b=R;continue e}j=j.parentNode}}g=g.return}xs(function(){var J=b,oe=Li(d),ce=[];e:{var te=KS.get(s);if(te!==void 0){var ie=Ha,Ae=s;switch(s){case"keypress":if($l(d)===0)break e;case"keydown":case"keyup":ie=Z0;break;case"focusin":Ae="focus",ie=Gl;break;case"focusout":Ae="blur",ie=Gl;break;case"beforeblur":case"afterblur":ie=Gl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T;break;case HS:case $S:case qS:ie=q0;break;case GS:ie=F;break;case"scroll":case"scrollend":ie=sd;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=_o;break;case"toggle":case"beforetoggle":ie=$e}var ke=(u&4)!==0,Lt=!ke&&(s==="scroll"||s==="scrollend"),W=ke?te!==null?te+"Capture":null:te;ke=[];for(var K=J,Z;K!==null;){var le=K;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||W===null||(le=ha(K,W),le!=null&&ke.push(Bd(K,le,Z))),Lt)break;K=K.return}0<ke.length&&(te=new ie(te,Ae,null,d,oe),ce.push({event:te,listeners:ke}))}}if((u&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&d!==id&&(Ae=d.relatedTarget||d.fromElement)&&(La(Ae)||Ae[Ma]))break e;if((ie||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ae=d.relatedTarget||d.toElement,ie=J,Ae=Ae?La(Ae):null,Ae!==null&&(Lt=a(Ae),ke=Ae.tag,Ae!==Lt||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ie=null,Ae=J),ie!==Ae)){if(ke=ld,le="onMouseLeave",W="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(ke=_o,le="onPointerLeave",W="onPointerEnter",K="pointer"),Lt=ie==null?te:hi(ie),Z=Ae==null?te:hi(Ae),te=new ke(le,K+"leave",ie,d,oe),te.target=Lt,te.relatedTarget=Z,le=null,La(oe)===J&&(ke=new ke(W,K+"enter",Ae,d,oe),ke.target=Z,ke.relatedTarget=Lt,le=ke),Lt=le,ie&&Ae)t:{for(ke=xj,W=ie,K=Ae,Z=0,le=W;le;le=ke(le))Z++;le=0;for(var Pe=K;Pe;Pe=ke(Pe))le++;for(;0<Z-le;)W=ke(W),Z--;for(;0<le-Z;)K=ke(K),le--;for(;Z--;){if(W===K||K!==null&&W===K.alternate){ke=W;break t}W=ke(W),K=ke(K)}ke=null}else ke=null;ie!==null&&g3(ce,te,ie,ke,!1),Ae!==null&&Lt!==null&&g3(ce,Lt,Ae,ke,!0)}}e:{if(te=J?hi(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var ht=DS;else if(RS(te))if(NS)ht=RL;else{ht=IL;var Ie=CL}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&nc(J.elementType)&&(ht=DS):ht=OL;if(ht&&(ht=ht(s,J))){PS(ce,ht,d,oe);break e}Ie&&Ie(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&td(te,"number",te.value)}switch(Ie=J?hi(J):window,s){case"focusin":(RS(Ie)||Ie.contentEditable==="true")&&(fc=Ie,Rm=J,hd=null);break;case"focusout":hd=Rm=fc=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,US(ce,d,oe);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":US(ce,d,oe)}var Ke;if(yt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else cc?Kl(s,d)&&(rt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(Ga&&d.locale!=="ko"&&(cc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&cc&&(Ke=od()):(za=oe,ad="value"in za?za.value:za.textContent,cc=!0)),Ie=zp(J,rt),0<Ie.length&&(rt=new qa(rt,s,null,d,oe),ce.push({event:rt,listeners:Ie}),Ke?rt.data=Ke:(Ke=uc(d),Ke!==null&&(rt.data=Ke)))),(Ke=Bi?EL(s,d):AL(s,d))&&(rt=zp(J,"onBeforeInput"),0<rt.length&&(Ie=new qa("onBeforeInput","beforeinput",null,d,oe),ce.push({event:Ie,listeners:rt}),Ie.data=Ke)),gj(ce,s,J,d,oe)}h3(ce,u)})}function Bd(s,u,d){return{instance:s,listener:u,currentTarget:d}}function zp(s,u){for(var d=u+"Capture",g=[];s!==null;){var x=s,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=ha(s,d),x!=null&&g.unshift(Bd(s,x,b)),x=ha(s,u),x!=null&&g.push(Bd(s,x,b))),s.tag===3)return g;s=s.return}return[]}function xj(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function g3(s,u,d,g,x){for(var b=u._reactName,R=[];d!==null&&d!==g;){var j=d,q=j.alternate,J=j.stateNode;if(j=j.tag,q!==null&&q===g)break;j!==5&&j!==26&&j!==27||J===null||(q=J,x?(J=ha(d,b),J!=null&&R.unshift(Bd(d,J,q))):x||(J=ha(d,b),J!=null&&R.push(Bd(d,J,q)))),d=d.return}R.length!==0&&s.push({event:u,listeners:R})}var _j=/\r\n?/g,bj=/\u0000|\uFFFD/g;function v3(s){return(typeof s=="string"?s:""+s).replace(_j,`
`).replace(bj,"")}function m3(s,u){return u=v3(u),v3(s)===u}function kt(s,u,d,g,x,b){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Xn(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Xn(s,""+g);break;case"className":pi(s,"class",g);break;case"tabIndex":pi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(s,d,g);break;case"style":nd(s,g,b);break;case"data":if(u!=="object"){pi(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ic(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(u!=="input"&&kt(s,u,"name",x.name,x,null),kt(s,u,"formEncType",x.formEncType,x,null),kt(s,u,"formMethod",x.formMethod,x,null),kt(s,u,"formTarget",x.formTarget,x,null)):(kt(s,u,"encType",x.encType,x,null),kt(s,u,"method",x.method,x,null),kt(s,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=ic(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=da);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=ic(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Je("beforetoggle",s),Je("toggle",s),tc(s,"popover",g);break;case"xlinkActuate":Ir(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ir(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ir(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ir(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ir(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ir(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ir(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ir(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ir(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":tc(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=z0.get(d)||d,tc(s,d,g))}}function r2(s,u,d,g,x,b){switch(d){case"style":nd(s,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Xn(s,g):(typeof g=="number"||typeof g=="bigint")&&Xn(s,""+g);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"onClick":g!=null&&(s.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),b=s[Zr]||null,b=b!=null?b[d]:null,typeof b=="function"&&s.removeEventListener(u,b,x),typeof g=="function")){typeof b!="function"&&b!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,g,x);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):tc(s,d,g)}}}function vn(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var g=!1,x=!1,b;for(b in d)if(d.hasOwnProperty(b)){var R=d[b];if(R!=null)switch(b){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kt(s,u,b,R,d,null)}}x&&kt(s,u,"srcSet",d.srcSet,d,null),g&&kt(s,u,"src",d.src,d,null);return;case"input":Je("invalid",s);var j=b=R=x=null,q=null,J=null;for(g in d)if(d.hasOwnProperty(g)){var oe=d[g];if(oe!=null)switch(g){case"name":x=oe;break;case"type":R=oe;break;case"checked":q=oe;break;case"defaultChecked":J=oe;break;case"value":b=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,u));break;default:kt(s,u,g,oe,d,null)}}V0(s,b,j,q,J,R,x,!1);return;case"select":Je("invalid",s),g=R=b=null;for(x in d)if(d.hasOwnProperty(x)&&(j=d[x],j!=null))switch(x){case"value":b=j;break;case"defaultValue":R=j;break;case"multiple":g=j;default:kt(s,u,x,j,d,null)}u=b,d=R,s.multiple=!!g,u!=null?gs(s,!!g,u,!1):d!=null&&gs(s,!!g,d,!0);return;case"textarea":Je("invalid",s),b=x=g=null;for(R in d)if(d.hasOwnProperty(R)&&(j=d[R],j!=null))switch(R){case"value":g=j;break;case"defaultValue":x=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:kt(s,u,R,j,d,null)}vs(s,g,x,b);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(g=d[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:kt(s,u,q,g,d,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(g=0;g<jd.length;g++)Je(jd[g],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kt(s,u,J,g,d,null)}return;default:if(nc(u)){for(oe in d)d.hasOwnProperty(oe)&&(g=d[oe],g!==void 0&&r2(s,u,oe,g,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(g=d[j],g!=null&&kt(s,u,j,g,d,null))}function wj(s,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,R=null,j=null,q=null,J=null,oe=null;for(ie in d){var ce=d[ie];if(d.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":q=ce;default:g.hasOwnProperty(ie)||kt(s,u,ie,null,g,ce)}}for(var te in g){var ie=g[te];if(ce=d[te],g.hasOwnProperty(te)&&(ie!=null||ce!=null))switch(te){case"type":b=ie;break;case"name":x=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":R=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,u));break;default:ie!==ce&&kt(s,u,te,ie,g,ce)}}rc(s,R,j,q,J,oe,b,x);return;case"select":ie=R=j=te=null;for(b in d)if(q=d[b],d.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":ie=q;default:g.hasOwnProperty(b)||kt(s,u,b,null,g,q)}for(x in g)if(b=g[x],q=d[x],g.hasOwnProperty(x)&&(b!=null||q!=null))switch(x){case"value":te=b;break;case"defaultValue":j=b;break;case"multiple":R=b;default:b!==q&&kt(s,u,x,b,g,q)}u=j,d=R,g=ie,te!=null?gs(s,!!d,te,!1):!!g!=!!d&&(u!=null?gs(s,!!d,u,!0):gs(s,!!d,d?[]:"",!1));return;case"textarea":ie=te=null;for(j in d)if(x=d[j],d.hasOwnProperty(j)&&x!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:kt(s,u,j,null,g,x)}for(R in g)if(x=g[R],b=d[R],g.hasOwnProperty(R)&&(x!=null||b!=null))switch(R){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==b&&kt(s,u,R,x,g,b)}F0(s,te,ie);return;case"option":for(var Ae in d)if(te=d[Ae],d.hasOwnProperty(Ae)&&te!=null&&!g.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:kt(s,u,Ae,null,g,te)}for(q in g)if(te=g[q],ie=d[q],g.hasOwnProperty(q)&&te!==ie&&(te!=null||ie!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(s,u,q,te,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in d)te=d[ke],d.hasOwnProperty(ke)&&te!=null&&!g.hasOwnProperty(ke)&&kt(s,u,ke,null,g,te);for(J in g)if(te=g[J],ie=d[J],g.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,u));break;default:kt(s,u,J,te,g,ie)}return;default:if(nc(u)){for(var Lt in d)te=d[Lt],d.hasOwnProperty(Lt)&&te!==void 0&&!g.hasOwnProperty(Lt)&&r2(s,u,Lt,void 0,g,te);for(oe in g)te=g[oe],ie=d[oe],!g.hasOwnProperty(oe)||te===ie||te===void 0&&ie===void 0||r2(s,u,oe,te,g,ie);return}}for(var W in d)te=d[W],d.hasOwnProperty(W)&&te!=null&&!g.hasOwnProperty(W)&&kt(s,u,W,null,g,te);for(ce in g)te=g[ce],ie=d[ce],!g.hasOwnProperty(ce)||te===ie||te==null&&ie==null||kt(s,u,ce,te,g,ie)}function y3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ej(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var x=d[g],b=x.transferSize,R=x.initiatorType,j=x.duration;if(b&&j&&y3(R)){for(R=0,j=x.responseEnd,g+=1;g<d.length;g++){var q=d[g],J=q.startTime;if(J>j)break;var oe=q.transferSize,ce=q.initiatorType;oe&&y3(ce)&&(q=q.responseEnd,R+=oe*(q<j?1:(j-J)/(q-J)))}if(--g,u+=8*(b+R)/(x.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var n2=null,i2=null;function Hp(s){return s.nodeType===9?s:s.ownerDocument}function x3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _3(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function a2(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var o2=null;function Aj(){var s=window.event;return s&&s.type==="popstate"?s===o2?!1:(o2=s,!0):(o2=null,!1)}var b3=typeof setTimeout=="function"?setTimeout:void 0,Sj=typeof clearTimeout=="function"?clearTimeout:void 0,w3=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof w3<"u"?function(s){return w3.resolve(null).then(s).catch(Cj)}:b3;function Cj(s){setTimeout(function(){throw s})}function Vs(s){return s==="head"}function E3(s,u){var d=u,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(x),Bc(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Vd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Vd(d);for(var b=d.firstChild;b;){var R=b.nextSibling,j=b.nodeName;b[ka]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=R}}else d==="body"&&Vd(s.ownerDocument.body);d=x}while(d);Bc(u)}function A3(s,u){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function s2(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":s2(d),ec(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function Ij(s,u,d,g){for(;s.nodeType===1;){var x=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[ka])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=qi(s.nextSibling),s===null)break}return null}function Oj(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=qi(s.nextSibling),s===null))return null;return s}function S3(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=qi(s.nextSibling),s===null))return null;return s}function l2(s){return s.data==="$?"||s.data==="$~"}function u2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Rj(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function qi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var c2=null;function T3(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return qi(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function C3(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function I3(s,u,d){switch(u=Hp(d),s){case"html":if(s=u.documentElement,!s)throw Error(n(452));return s;case"head":if(s=u.head,!s)throw Error(n(453));return s;case"body":if(s=u.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Vd(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);ec(s)}var Gi=new Map,O3=new Set;function $p(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ko=se.d;se.d={f:Pj,r:Dj,D:Nj,C:Mj,L:kj,m:Lj,X:Bj,S:jj,M:Vj};function Pj(){var s=ko.f(),u=kp();return s||u}function Dj(s){var u=ki(s);u!==null&&u.tag===5&&u.type==="form"?GT(u):ko.r(s)}var kc=typeof document>"u"?null:document;function R3(s,u,d){var g=kc;if(g&&typeof u=="string"&&u){var x=Wn(u);x='link[rel="'+s+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),O3.has(x)||(O3.add(x),s={rel:s,crossOrigin:d,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),vn(u,"link",s),Cr(u),g.head.appendChild(u)))}}function Nj(s){ko.D(s),R3("dns-prefetch",s,null)}function Mj(s,u){ko.C(s,u),R3("preconnect",s,u)}function kj(s,u,d){ko.L(s,u,d);var g=kc;if(g&&s&&u){var x='link[rel="preload"][as="'+Wn(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Wn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Wn(d.imageSizes)+'"]')):x+='[href="'+Wn(s)+'"]';var b=x;switch(u){case"style":b=Lc(s);break;case"script":b=jc(s)}Gi.has(b)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),Gi.set(b,s),g.querySelector(x)!==null||u==="style"&&g.querySelector(Fd(b))||u==="script"&&g.querySelector(Ud(b))||(u=g.createElement("link"),vn(u,"link",s),Cr(u),g.head.appendChild(u)))}}function Lj(s,u){ko.m(s,u);var d=kc;if(d&&s){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Wn(g)+'"][href="'+Wn(s)+'"]',b=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=jc(s)}if(!Gi.has(b)&&(s=p({rel:"modulepreload",href:s},u),Gi.set(b,s),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ud(b)))return}g=d.createElement("link"),vn(g,"link",s),Cr(g),d.head.appendChild(g)}}}function jj(s,u,d){ko.S(s,u,d);var g=kc;if(g&&s){var x=ja(g).hoistableStyles,b=Lc(s);u=u||"default";var R=x.get(b);if(!R){var j={loading:0,preload:null};if(R=g.querySelector(Fd(b)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=Gi.get(b))&&f2(s,d);var q=R=g.createElement("link");Cr(q),vn(q,"link",s),q._p=new Promise(function(J,oe){q.onload=J,q.onerror=oe}),q.addEventListener("load",function(){j.loading|=1}),q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,qp(R,u,g)}R={type:"stylesheet",instance:R,count:1,state:j},x.set(b,R)}}}function Bj(s,u){ko.X(s,u);var d=kc;if(d&&s){var g=ja(d).hoistableScripts,x=jc(s),b=g.get(x);b||(b=d.querySelector(Ud(x)),b||(s=p({src:s,async:!0},u),(u=Gi.get(x))&&d2(s,u),b=d.createElement("script"),Cr(b),vn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function Vj(s,u){ko.M(s,u);var d=kc;if(d&&s){var g=ja(d).hoistableScripts,x=jc(s),b=g.get(x);b||(b=d.querySelector(Ud(x)),b||(s=p({src:s,async:!0,type:"module"},u),(u=Gi.get(x))&&d2(s,u),b=d.createElement("script"),Cr(b),vn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function P3(s,u,d,g){var x=(x=He.current)?$p(x):null;if(!x)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Lc(d.href),d=ja(x).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Lc(d.href);var b=ja(x).hoistableStyles,R=b.get(s);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,R),(b=x.querySelector(Fd(s)))&&!b._p&&(R.instance=b,R.state.loading=5),Gi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Gi.set(s,d),b||Fj(x,s,d,R.state))),u&&g===null)throw Error(n(528,""));return R}if(u&&g!==null)throw Error(n(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=jc(d),d=ja(x).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Lc(s){return'href="'+Wn(s)+'"'}function Fd(s){return'link[rel="stylesheet"]['+s+"]"}function D3(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function Fj(s,u,d,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),vn(u,"link",d),Cr(u),s.head.appendChild(u))}function jc(s){return'[src="'+Wn(s)+'"]'}function Ud(s){return"script[async]"+s}function N3(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Wn(d.href)+'"]');if(g)return u.instance=g,Cr(g),g;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Cr(g),vn(g,"style",x),qp(g,d.precedence,s),u.instance=g;case"stylesheet":x=Lc(d.href);var b=s.querySelector(Fd(x));if(b)return u.state.loading|=4,u.instance=b,Cr(b),b;g=D3(d),(x=Gi.get(x))&&f2(g,x),b=(s.ownerDocument||s).createElement("link"),Cr(b);var R=b;return R._p=new Promise(function(j,q){R.onload=j,R.onerror=q}),vn(b,"link",g),u.state.loading|=4,qp(b,d.precedence,s),u.instance=b;case"script":return b=jc(d.src),(x=s.querySelector(Ud(b)))?(u.instance=x,Cr(x),x):(g=d,(x=Gi.get(b))&&(g=p({},d),d2(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),Cr(x),vn(x,"link",g),s.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,qp(g,d.precedence,s));return u.instance}function qp(s,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,b=x,R=0;R<g.length;R++){var j=g[R];if(j.dataset.precedence===u)b=j;else if(b!==x)break}b?b.parentNode.insertBefore(s,b.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function f2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function d2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var Gp=null;function M3(s,u,d){if(Gp===null){var g=new Map,x=Gp=new Map;x.set(d,g)}else x=Gp,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),x=0;x<d.length;x++){var b=d[x];if(!(b[ka]||b[Tr]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(u)||"";R=s+R;var j=g.get(R);j?j.push(b):g.set(R,[b])}}return g}function k3(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function Uj(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function L3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function zj(s,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Lc(g.href),b=u.querySelector(Fd(x));if(b){u=b._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=Kp.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=b,Cr(b);return}b=u.ownerDocument||u,g=D3(g),(x=Gi.get(x))&&f2(g,x),b=b.createElement("link"),Cr(b);var R=b;R._p=new Promise(function(j,q){R.onload=j,R.onerror=q}),vn(b,"link",g),d.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Kp.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var h2=0;function Hj(s,u){return s.stylesheets&&s.count===0&&Xp(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Xp(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+u);0<s.imgBytes&&h2===0&&(h2=62500*Ej());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xp(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>h2?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function Kp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wp=null;function Xp(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wp=new Map,u.forEach($j,s),Wp=null,Kp.call(s))}function $j(s,u){if(!(u.state.loading&4)){var d=Wp.get(s);if(d)var g=d.get(null);else{d=new Map,Wp.set(s,d);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var R=x[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}x=u.instance,R=x.getAttribute("data-precedence"),b=d.get(R)||g,b===g&&d.set(null,x),d.set(R,x),this.count++,g=Kp.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),b?b.parentNode.insertBefore(x,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),u.state.loading|=4}}var zd={$$typeof:O,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function qj(s,u,d,g,x,b,R,j,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function j3(s,u,d,g,x,b,R,j,q,J,oe,ce){return s=new qj(s,u,d,R,q,J,oe,ce,j),u=1,b===!0&&(u|=24),b=vi(3,null,null,u),s.current=b,b.stateNode=s,u=Gm(),u.refCount++,s.pooledCache=u,u.refCount++,b.memoizedState={element:g,isDehydrated:d,cache:u},Ym(b),s}function B3(s){return s?(s=pc,s):pc}function V3(s,u,d,g,x,b){x=B3(x),g.context===null?g.context=x:g.pendingContext=x,g=Is(u),g.payload={element:d},b=b===void 0?null:b,b!==null&&(g.callback=b),d=Os(s,g,u),d!==null&&(ei(d,s,u),_d(d,s,u))}function F3(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function p2(s,u){F3(s,u),(s=s.alternate)&&F3(s,u)}function U3(s){if(s.tag===13||s.tag===31){var u=Yl(s,67108864);u!==null&&ei(u,s,67108864),p2(s,67108864)}}function z3(s){if(s.tag===13||s.tag===31){var u=bi();u=Bl(u);var d=Yl(s,u);d!==null&&ei(d,s,u),p2(s,u)}}var Yp=!0;function Gj(s,u,d,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=2,g2(s,u,d,g)}finally{se.p=b,Y.T=x}}function Kj(s,u,d,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=8,g2(s,u,d,g)}finally{se.p=b,Y.T=x}}function g2(s,u,d,g){if(Yp){var x=v2(g);if(x===null)t2(s,u,g,Qp,d),$3(s,g);else if(Xj(x,s,u,d,g))g.stopPropagation();else if($3(s,g),u&4&&-1<Wj.indexOf(s)){for(;x!==null;){var b=ki(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=Pa(b.pendingLanes);if(R!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var q=1<<31-vr(R);j.entanglements[1]|=q,R&=~q}Ya(b),(xt&6)===0&&(Np=Vn()+500,Ld(0))}}break;case 31:case 13:j=Yl(b,2),j!==null&&ei(j,b,2),kp(),p2(b,2)}if(b=v2(g),b===null&&t2(s,u,g,Qp,d),b===x)break;x=b}x!==null&&g.stopPropagation()}else t2(s,u,g,null,d)}}function v2(s){return s=Li(s),m2(s)}var Qp=null;function m2(s){if(Qp=null,s=La(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Qp=s,null}function H3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ml()){case qf:return 2;case Gf:return 8;case hs:case Em:return 32;case O0:return 268435456;default:return 32}default:return 32}}var y2=!1,Fs=null,Us=null,zs=null,Hd=new Map,$d=new Map,Hs=[],Wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $3(s,u){switch(s){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Hd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(u.pointerId)}}function qd(s,u,d,g,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:b,targetContainers:[x]},u!==null&&(u=ki(u),u!==null&&U3(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),s)}function Xj(s,u,d,g,x){switch(u){case"focusin":return Fs=qd(Fs,s,u,d,g,x),!0;case"dragenter":return Us=qd(Us,s,u,d,g,x),!0;case"mouseover":return zs=qd(zs,s,u,d,g,x),!0;case"pointerover":var b=x.pointerId;return Hd.set(b,qd(Hd.get(b)||null,s,u,d,g,x)),!0;case"gotpointercapture":return b=x.pointerId,$d.set(b,qd($d.get(b)||null,s,u,d,g,x)),!0}return!1}function q3(s){var u=La(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,ca(s.priority,function(){z3(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,ca(s.priority,function(){z3(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zp(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=v2(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);id=g,d.target.dispatchEvent(g),id=null}else return u=ki(d),u!==null&&U3(u),s.blockedOn=d,!1;u.shift()}return!0}function G3(s,u,d){Zp(s)&&d.delete(u)}function Yj(){y2=!1,Fs!==null&&Zp(Fs)&&(Fs=null),Us!==null&&Zp(Us)&&(Us=null),zs!==null&&Zp(zs)&&(zs=null),Hd.forEach(G3),$d.forEach(G3)}function Jp(s,u){s.blockedOn===u&&(s.blockedOn=null,y2||(y2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Yj)))}var e1=null;function K3(s){e1!==s&&(e1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){e1===s&&(e1=null);for(var u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],x=s[u+2];if(typeof g!="function"){if(m2(g||d)===null)continue;break}var b=ki(d);b!==null&&(s.splice(u,3),u-=3,vy(b,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function Bc(s){function u(q){return Jp(q,s)}Fs!==null&&Jp(Fs,s),Us!==null&&Jp(Us,s),zs!==null&&Jp(zs,s),Hd.forEach(u),$d.forEach(u);for(var d=0;d<Hs.length;d++){var g=Hs[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Hs.length&&(d=Hs[0],d.blockedOn===null);)q3(d),d.blockedOn===null&&Hs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],b=d[g+1],R=x[Zr]||null;if(typeof b=="function")R||K3(d);else if(R){var j=null;if(b&&b.hasAttribute("formAction")){if(x=b,R=b[Zr]||null)j=R.formAction;else if(m2(x)!==null)continue}else j=R.action;typeof j=="function"?d[g+1]=j:(d.splice(g,3),g-=3),K3(d)}}}function W3(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return x=R})},focusReset:"manual",scroll:"manual"})}function u(){x!==null&&(x(),x=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),x!==null&&(x(),x=null)}}}function x2(s){this._internalRoot=s}t1.prototype.render=x2.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));var d=u.current,g=bi();V3(d,g,s,u,null,null)},t1.prototype.unmount=x2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;V3(s.current,2,null,s,null,null),kp(),u[Ma]=null}};function t1(s){this._internalRoot=s}t1.prototype.unstable_scheduleHydration=function(s){if(s){var u=k0();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Hs.length&&u!==0&&u<Hs[d].priority;d++);Hs.splice(d,0,s),d===0&&q3(s)}};var X3=e.version;if(X3!=="19.2.0")throw Error(n(527,X3,"19.2.0"));se.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Qj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r1.isDisabled&&r1.supportsFiber)try{la=r1.inject(Qj),fn=r1}catch{}}return Kd.createRoot=function(s,u){if(!i(s))throw Error(n(299));var d=!1,g="",x=rC,b=nC,R=iC;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),u=j3(s,1,!1,null,null,d,g,null,x,b,R,W3),s[Ma]=u.current,e2(s),new x2(u)},Kd.hydrateRoot=function(s,u,d){if(!i(s))throw Error(n(299));var g=!1,x="",b=rC,R=nC,j=iC,q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),u=j3(s,1,!0,u,d??null,g,x,q,b,R,j,W3),u.context=B3(null),d=u.current,g=bi(),g=Bl(g),x=Is(g),x.callback=null,Os(d,x,g),d=g,u.current.lanes=d,Ll(u,d),Ya(u),s[Ma]=u.current,e2(s),new t1(u)},Kd.version="19.2.0",Kd}var a4;function lB(){if(a4)return w2.exports;a4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w2.exports=sB(),w2.exports}var uB=lB();const cB=ho(uB),fB=({title:t})=>A.jsx("header",{children:t});var BP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o4=kn.createContext&&kn.createContext(BP),dB=["attr","size","title"];function hB(t,e){if(t==null)return{};var r=pB(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X1.apply(this,arguments)}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){gB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gB(t,e,r){return e=vB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=mB(t,"string");return typeof e=="symbol"?e:e+""}function mB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VP(t){return t&&t.map((e,r)=>kn.createElement(e.tag,Y1({key:r},e.attr),VP(e.child)))}function Le(t){return e=>kn.createElement(yB,X1({attr:Y1({},t.attr)},e),VP(t.child))}function yB(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=hB(t,dB),l=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),kn.createElement("svg",X1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Y1(Y1({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&kn.createElement("title",null,a),t.children)};return o4!==void 0?kn.createElement(o4.Consumer,null,r=>e(r)):e(BP)}function xB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function _B(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function sv(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function bB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function wB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function lv(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function uv(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function cv(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function cw(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function EB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Wh(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function AB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function SB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function TB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function CB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function T_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function IB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function OB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function FP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function RB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function fv(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function PB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function DB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function UP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function NB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function zP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function MB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function HP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function tf(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function $P(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function kB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function LB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function jB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function BB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"},child:[]}]})(t)}function C_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function fw(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function VB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function FB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function Q1(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function dw(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function UB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function zB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function HB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function $B(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function dv(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function qB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function l4(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function GB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function I_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const KB=({currentScreen:t,onNavigate:e})=>{const r=[{screen:"home",icon:A.jsx(bB,{size:24}),label:""},{screen:"meals",icon:A.jsx(dw,{size:24}),label:""},{screen:"barcode",icon:A.jsx(_B,{size:24}),label:""},{screen:"report",icon:A.jsx(xB,{size:24}),label:""},{screen:"settings",icon:A.jsx(wB,{size:24}),label:""}];return A.jsx("nav",{id:"bottomNav",children:r.map(n=>A.jsxs("button",{className:`nav-item ${t===n.screen?"active":""}`,onClick:()=>e(n.screen),children:[A.jsx("span",{children:n.icon}),A.jsx("span",{children:n.label})]},n.screen))})},u4=t=>{let e;const r=new Set,n=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(m=>m(e,v))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f))},c=e=t(n,i,l);return l},WB=(t=>t?u4(t):u4),XB=t=>t;function YB(t,e=XB){const r=kn.useSyncExternalStore(t.subscribe,kn.useCallback(()=>e(t.getState()),[t,e]),kn.useCallback(()=>e(t.getInitialState()),[t,e]));return kn.useDebugValue(r),r}const c4=t=>{const e=WB(t),r=n=>YB(e,n);return Object.assign(r,e),r},wf=(t=>t?c4(t):c4);function Pu(t,e){try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`localStorage (${t}):`,r),e}}function Vt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`localStorage (${t}):`,r)}}const st={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings"},mn=[];for(let t=0;t<256;++t)mn.push((t+256).toString(16).slice(1));function QB(t,e=0){return(mn[t[e+0]]+mn[t[e+1]]+mn[t[e+2]]+mn[t[e+3]]+"-"+mn[t[e+4]]+mn[t[e+5]]+"-"+mn[t[e+6]]+mn[t[e+7]]+"-"+mn[t[e+8]]+mn[t[e+9]]+"-"+mn[t[e+10]]+mn[t[e+11]]+mn[t[e+12]]+mn[t[e+13]]+mn[t[e+14]]+mn[t[e+15]]).toLowerCase()}let T2;const ZB=new Uint8Array(16);function JB(){if(!T2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T2=crypto.getRandomValues.bind(crypto)}return T2(ZB)}const eV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),f4={randomUUID:eV};function tV(t,e,r){t=t||{};const n=t.random??t.rng?.()??JB();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,QB(n)}function rV(t,e,r){return f4.randomUUID&&!t?f4.randomUUID():tV(t)}function nl(){return rV()}const nV=()=>{};var d4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},iV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},GP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(v=64)),n.push(r[h],r[p],r[v],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new aV;const v=a<<2|l>>4;if(n.push(v),f!==64){const m=l<<4&240|f>>2;if(n.push(m),p!==64){const _=f<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oV=function(t){const e=qP(t);return GP.encodeByteArray(e,!0)},Z1=function(t){return oV(t).replace(/\./g,"")},KP=function(t){try{return GP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=()=>sV().__FIREBASE_DEFAULTS__,uV=()=>{if(typeof process>"u"||typeof d4>"u")return;const t=d4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KP(t[1]);return e&&JSON.parse(e)},hv=()=>{try{return nV()||lV()||uV()||cV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WP=t=>hv()?.emulatorHosts?.[t],XP=t=>{const e=WP(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},YP=()=>hv()?.config,QP=t=>hv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Z1(JSON.stringify(r)),Z1(JSON.stringify(o)),""].join(".")}const xh={};function hV(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function pV(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let h4=!1;function pw(t,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||xh[t]===e||xh[t]||h4)return;xh[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=hV().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{h4=!0,o()},v}function h(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=pV(n),m=r("text"),_=document.getElementById(m)||document.createElement("span"),w=r("learnmore"),E=document.getElementById(w)||document.createElement("a"),S=r("preprendIcon"),I=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),h(E,w);const M=f();c(I,S),O.append(I,_,E,M),document.body.appendChild(O)}a?(_.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function vV(){const t=hv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _V(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bV(){return!vV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wV(){try{return typeof indexedDB=="object"}catch{return!1}}function EV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="FirebaseError";class po extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=AV,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?SV(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new po(i,l,n)}}function SV(t,e){return t.replace(TV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const TV=/\{\$([^}]+)}/g;function CV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Du(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(p4(a)&&p4(o)){if(!Du(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function p4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function lh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function IV(t,e){const r=new OV(t,e);return r.subscribe.bind(r)}class OV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");RV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=C2),i.error===void 0&&(i.error=C2),i.complete===void 0&&(i.complete=C2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function C2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class fl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PV=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new fV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NV(e))try{this.getOrInitializeService({instanceIdentifier:du})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=du){return this.instances.has(e)}getOptions(e=du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=du){return this.component?this.component.multipleInstances?e:du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DV(t){return t===du?void 0:t}function NV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new PV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const kV={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},LV=nt.INFO,jV={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},BV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=jV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=LV,this._logHandler=BV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const VV=(t,e)=>e.some(r=>t instanceof r);let g4,v4;function FV(){return g4||(g4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UV(){return v4||(v4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,O_=new WeakMap,JP=new WeakMap,I2=new WeakMap,vw=new WeakMap;function zV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(il(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&ZP.set(r,t)}).catch(()=>{}),vw.set(e,t),e}function HV(t){if(O_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});O_.set(t,e)}let R_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return O_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return il(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $V(t){R_=t(R_)}function qV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(O2(this),e,...r);return JP.set(n,e.sort?e.sort():[e]),il(n)}:UV().includes(t)?function(...e){return t.apply(O2(this),e),il(ZP.get(this))}:function(...e){return il(t.apply(O2(this),e))}}function GV(t){return typeof t=="function"?qV(t):(t instanceof IDBTransaction&&HV(t),VV(t,FV())?new Proxy(t,R_):t)}function il(t){if(t instanceof IDBRequest)return zV(t);if(I2.has(t))return I2.get(t);const e=GV(t);return e!==t&&(I2.set(t,e),vw.set(e,t)),e}const O2=t=>vw.get(t);function KV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=il(o);return n&&o.addEventListener("upgradeneeded",c=>{n(il(o.result),c.oldVersion,c.newVersion,il(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const WV=["get","getKey","getAll","getAllKeys","count"],XV=["put","add","delete","clear"],R2=new Map;function m4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R2.get(e))return R2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=XV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||WV.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return R2.set(e,a),a}$V(t=>({...t,get:(e,r,n)=>m4(e,r)||t.get(e,r,n),has:(e,r)=>!!m4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(QV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function QV(t){return t.getComponent()?.type==="VERSION"}const P_="@firebase/app",y4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new gw("@firebase/app"),ZV="@firebase/app-compat",JV="@firebase/analytics-compat",eF="@firebase/analytics",tF="@firebase/app-check-compat",rF="@firebase/app-check",nF="@firebase/auth",iF="@firebase/auth-compat",aF="@firebase/database",oF="@firebase/data-connect",sF="@firebase/database-compat",lF="@firebase/functions",uF="@firebase/functions-compat",cF="@firebase/installations",fF="@firebase/installations-compat",dF="@firebase/messaging",hF="@firebase/messaging-compat",pF="@firebase/performance",gF="@firebase/performance-compat",vF="@firebase/remote-config",mF="@firebase/remote-config-compat",yF="@firebase/storage",xF="@firebase/storage-compat",_F="@firebase/firestore",bF="@firebase/ai",wF="@firebase/firestore-compat",EF="firebase",AF="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="[DEFAULT]",SF={[P_]:"fire-core",[ZV]:"fire-core-compat",[eF]:"fire-analytics",[JV]:"fire-analytics-compat",[rF]:"fire-app-check",[tF]:"fire-app-check-compat",[nF]:"fire-auth",[iF]:"fire-auth-compat",[aF]:"fire-rtdb",[oF]:"fire-data-connect",[sF]:"fire-rtdb-compat",[lF]:"fire-fn",[uF]:"fire-fn-compat",[cF]:"fire-iid",[fF]:"fire-iid-compat",[dF]:"fire-fcm",[hF]:"fire-fcm-compat",[pF]:"fire-perf",[gF]:"fire-perf-compat",[vF]:"fire-rc",[mF]:"fire-rc-compat",[yF]:"fire-gcs",[xF]:"fire-gcs-compat",[_F]:"fire-fst",[wF]:"fire-fst-compat",[bF]:"fire-vertex","fire-js":"fire-js",[EF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map,TF=new Map,N_=new Map;function x4(t,e){try{t.container.addComponent(e)}catch(r){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Nu(t){const e=t.name;if(N_.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const r of J1.values())x4(r,t);for(const r of TF.values())x4(r,t);return!0}function pv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new Xh("app","Firebase",CF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=AF;function eD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:D_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw al.create("bad-app-name",{appName:String(i)});if(r||(r=YP()),!r)throw al.create("no-options");const a=J1.get(i);if(a){if(Du(r,a.options)&&Du(n,a.config))return a;throw al.create("duplicate-app",{appName:i})}const o=new MV(i);for(const c of N_.values())o.addComponent(c);const l=new IF(r,n,o);return J1.set(i,l),l}function mw(t=D_){const e=J1.get(t);if(!e&&t===D_&&YP())return eD();if(!e)throw al.create("no-app",{appName:t});return e}function eo(t,e,r){let n=SF[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ko.warn(o.join(" "));return}Nu(new fl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="firebase-heartbeat-database",RF=1,Ih="firebase-heartbeat-store";let P2=null;function tD(){return P2||(P2=KV(OF,RF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(r){console.warn(r)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),P2}async function PF(t){try{const r=(await tD()).transaction(Ih),n=await r.objectStore(Ih).get(rD(t));return await r.done,n}catch(e){if(e instanceof po)Ko.warn(e.message);else{const r=al.create("idb-get",{originalErrorMessage:e?.message});Ko.warn(r.message)}}}async function _4(t,e){try{const n=(await tD()).transaction(Ih,"readwrite");await n.objectStore(Ih).put(e,rD(t)),await n.done}catch(r){if(r instanceof po)Ko.warn(r.message);else{const n=al.create("idb-set",{originalErrorMessage:r?.message});Ko.warn(n.message)}}}function rD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=1024,NF=30;class MF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new LF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=b4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>NF){const i=jF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ko.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b4(),{heartbeatsToSend:r,unsentEntries:n}=kF(this._heartbeatsCache.heartbeats),i=Z1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ko.warn(e),""}}}function b4(){return new Date().toISOString().substring(0,10)}function kF(t,e=DF){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),w4(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),w4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class LF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wV()?EV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await PF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return _4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return _4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function w4(t){return Z1(JSON.stringify({version:2,heartbeats:t})).length}function jF(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){Nu(new fl("platform-logger",e=>new YV(e),"PRIVATE")),Nu(new fl("heartbeat",e=>new MF(e),"PRIVATE")),eo(P_,y4,t),eo(P_,y4,"esm2020"),eo("fire-js","")}BF("");var E4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,nD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function k(){}k.prototype=N.prototype,D.F=N.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(V,z,H){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return N.prototype[z].apply(V,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,k){k||(k=0);const V=Array(16);if(typeof N=="string")for(var z=0;z<16;++z)V[z]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(z=0;z<16;++z)V[z]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=D.g[0],k=D.g[1],z=D.g[2];let H=D.g[3],U;U=N+(H^k&(z^H))+V[0]+3614090360&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[1]+3905402710&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[2]+606105819&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[3]+3250441966&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[5]+1200080426&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[6]+2821735955&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[7]+4249261313&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[9]+2336552879&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[10]+4294925233&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[11]+2304563134&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[13]+4254626195&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[14]+2792965006&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[15]+1236535329&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(z^H&(k^z))+V[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[6]+3225465664&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[11]+643717713&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[0]+3921069994&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[10]+38016083&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[15]+3634488961&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[4]+3889429448&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[14]+3275163606&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[3]+4107603335&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[8]+1163531501&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[2]+4243563512&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[7]+1735328473&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[12]+2368359562&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(k^z^H)+V[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[8]+2272392833&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[11]+1839030562&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[14]+4259657740&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[4]+1272893353&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[7]+4139469664&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[10]+3200236656&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[0]+3936430074&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[3]+3572445317&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[6]+76029189&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[12]+3873151461&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[15]+530742520&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[2]+3299628645&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(z^(k|~H))+V[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[7]+1126891415&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[14]+2878612391&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[5]+4237533241&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[3]+2399980690&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[10]+4293915773&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[1]+2240044497&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[15]+4264355552&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[6]+2734768916&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[13]+1309151649&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[11]+3174756917&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[2]+718787259&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+H&4294967295}n.prototype.v=function(D,N){N===void 0&&(N=D.length);const k=N-this.blockSize,V=this.C;let z=this.h,H=0;for(;H<N;){if(z==0)for(;H<=k;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<N;)if(V[z++]=D.charCodeAt(H++),z==this.blockSize){i(this,V),z=0;break}}else for(;H<N;)if(V[z++]=D[H++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=N},n.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)D[N++]=this.g[k]>>>V&255;return D};function a(D,N){var k=l;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=N(D)}function o(D,N){this.h=N;const k=[];let V=!0;for(let z=D.length-1;z>=0;z--){const H=D[z]|0;V&&H==N||(k[z]=H,V=!1)}this.g=k}var l={};function c(D){return-128<=D&&D<128?a(D,function(N){return new o([N|0],N<0?-1:0)}):new o([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return E(f(-D));const N=[];let k=1;for(let V=0;D>=k;V++)N[V]=D/k|0,k*=4294967296;return new o(N,0)}function h(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return E(h(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(N,8));let V=p;for(let H=0;H<D.length;H+=8){var z=Math.min(8,D.length-H);const U=parseInt(D.substring(H,H+z),N);z<8?(z=f(Math.pow(N,z)),V=V.j(z).add(f(U))):(V=V.j(k),V=V.add(f(U)))}return V}var p=c(0),v=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();let D=0,N=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);D+=(V>=0?V:4294967296+V)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(w(this))return"-"+E(this).toString(D);const N=f(Math.pow(D,6));var k=this;let V="";for(;;){const z=M(k,N).g;k=S(k,z.j(N));let H=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=z,_(k))return H+V;for(;H.length<6;)H="0"+H;V=H+V}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=S(this,D),w(D)?-1:_(D)?0:1};function E(D){const N=D.g.length,k=[];for(let V=0;V<N;V++)k[V]=~D.g[V];return new o(k,~D.h).add(v)}t.abs=function(){return w(this)?E(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),k=[];let V=0;for(let z=0;z<=N;z++){let H=V+(this.i(z)&65535)+(D.i(z)&65535),U=(H>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);V=U>>>16,H&=65535,U&=65535,k[z]=U<<16|H}return new o(k,k[k.length-1]&-2147483648?-1:0)};function S(D,N){return D.add(E(N))}t.j=function(D){if(_(this)||_(D))return p;if(w(this))return w(D)?E(this).j(E(D)):E(E(this).j(D));if(w(D))return E(this.j(E(D)));if(this.l(m)<0&&D.l(m)<0)return f(this.m()*D.m());const N=this.g.length+D.g.length,k=[];for(var V=0;V<2*N;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let z=0;z<D.g.length;z++){const H=this.i(V)>>>16,U=this.i(V)&65535,he=D.i(z)>>>16,be=D.i(z)&65535;k[2*V+2*z]+=U*be,I(k,2*V+2*z),k[2*V+2*z+1]+=H*be,I(k,2*V+2*z+1),k[2*V+2*z+1]+=U*he,I(k,2*V+2*z+1),k[2*V+2*z+2]+=H*he,I(k,2*V+2*z+2)}for(D=0;D<N;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=N;D<2*N;D++)k[D]=0;return new o(k,0)};function I(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function O(D,N){this.g=D,this.h=N}function M(D,N){if(_(N))throw Error("division by zero");if(_(D))return new O(p,p);if(w(D))return N=M(E(D),N),new O(E(N.g),E(N.h));if(w(N))return N=M(D,E(N)),new O(E(N.g),N.h);if(D.g.length>30){if(w(D)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var k=v,V=N;V.l(D)<=0;)k=L(k),V=L(V);var z=B(k,1),H=B(V,1);for(V=B(V,2),k=B(k,2);!_(V);){var U=H.add(V);U.l(D)<=0&&(z=z.add(k),H=U),V=B(V,1),k=B(k,1)}return N=S(D,z.j(N)),new O(z,N)}for(z=p;D.l(N)>=0;){for(k=Math.max(1,Math.floor(D.m()/N.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),H=f(k),U=H.j(N);w(U)||U.l(D)>0;)k-=V,H=f(k),U=H.j(N);_(H)&&(H=v),z=z.add(H),D=S(D,U)}return new O(z,D)}t.B=function(D){return M(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)&D.i(V);return new o(k,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)|D.i(V);return new o(k,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)^D.i(V);return new o(k,this.h^D.h)};function L(D){const N=D.g.length+1,k=[];for(let V=0;V<N;V++)k[V]=D.i(V)<<1|D.i(V-1)>>>31;return new o(k,D.h)}function B(D,N){const k=N>>5;N%=32;const V=D.g.length-k,z=[];for(let H=0;H<V;H++)z[H]=N>0?D.i(H+k)>>>N|D.i(H+k+1)<<32-N:D.i(H+k);return new o(z,D.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,nD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,ol=o}).apply(typeof E4<"u"?E4:typeof self<"u"?self:typeof window<"u"?window:{});var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iD,uh,aD,M1,M_,oD,sD,lD;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof n1=="object"&&n1];for(var T=0;T<y.length;++T){var P=y[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(y,T){if(T)e:{var P=n;y=y.split(".");for(var F=0;F<y.length-1;F++){var X=y[F];if(!(X in P))break e;P=P[X]}y=y[y.length-1],F=P[y],T=T(F),T!=F&&T!=null&&e(P,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var P=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&P.push([F,T[F]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function c(y,T,P){return y.call.apply(y.bind,arguments)}function f(y,T,P){return f=c,f.apply(null,arguments)}function h(y,T){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function p(y,T){function P(){}P.prototype=T.prototype,y.Z=T.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(F,X,ne){for(var ge=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ge[$e-2]=arguments[$e];return T.prototype[X].apply(F,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const T=y.length;if(T>0){const P=Array(T);for(let F=0;F<T;F++)P[F]=y[F];return P}return[]}function _(y,T){for(let F=1;F<arguments.length;F++){const X=arguments[F];var P=typeof X;if(P=P!="object"?P:X?Array.isArray(X)?"array":P:"null",P=="array"||P=="object"&&typeof X.length=="number"){P=y.length||0;const ne=X.length||0;y.length=P+ne;for(let ge=0;ge<ne;ge++)y[P+ge]=X[ge]}else y.push(X)}}class w{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(y){o.setTimeout(()=>{throw y},0)}function S(){var y=D;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,P){const F=O.get();F.set(T,P),this.h?this.h.next=F:this.g=F,this.h=F}}var O=new w(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let L,B=!1,D=new I,N=()=>{const y=Promise.resolve(void 0);L=()=>{y.then(k)}};function k(){for(var y;y=S();){try{y.h.call(y.g)}catch(P){E(P)}var T=O;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}B=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};o.addEventListener("test",P,T),o.removeEventListener("test",P,T)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function he(y,T){z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(he,z),he.prototype.init=function(y,T){const P=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(P=="mouseover"?T=y.fromElement:P=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(y,T,P,F,X){this.listener=y,this.proxy=null,this.src=T,this.type=P,this.capture=!!F,this.ha=X,this.key=++Y,this.da=this.fa=!1}function me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y,T,P){for(const F in y)T.call(P,y[F],F,y)}function Ge(y,T){for(const P in y)T.call(void 0,y[P],P,y)}function G(y){const T={};for(const P in y)T[P]=y[P];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,T){let P,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(P in F)y[P]=F[P];for(let ne=0;ne<ee.length;ne++)P=ee[ne],Object.prototype.hasOwnProperty.call(F,P)&&(y[P]=F[P])}}function _e(y){this.src=y,this.g={},this.h=0}_e.prototype.add=function(y,T,P,F,X){const ne=y.toString();y=this.g[ne],y||(y=this.g[ne]=[],this.h++);const ge=He(y,T,F,X);return ge>-1?(T=y[ge],P||(T.fa=!1)):(T=new se(T,this.src,ne,!!F,X),T.fa=P,y.push(T)),T};function Oe(y,T){const P=T.type;if(P in y.g){var F=y.g[P],X=Array.prototype.indexOf.call(F,T,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(me(T),y.g[P].length==0&&(delete y.g[P],y.h--))}}function He(y,T,P,F){for(let X=0;X<y.length;++X){const ne=y[X];if(!ne.da&&ne.listener==T&&ne.capture==!!P&&ne.ha==F)return X}return-1}var et="closure_lm_"+(Math.random()*1e6|0),hr={};function pe(y,T,P,F,X){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)pe(y,T[ne],P,F,X);return null}return P=fs(P),y&&y[be]?y.J(T,P,l(F)?!!F.capture:!1,X):Fe(y,T,P,!1,F,X)}function Fe(y,T,P,F,X,ne){if(!T)throw Error("Invalid event type");const ge=l(X)?!!X.capture:!!X;let $e=gr(y);if($e||(y[et]=$e=new _e(y)),P=$e.add(T,P,F,ge,ne),P.proxy)return P;if(F=We(),P.proxy=F,F.src=y,F.listener=P,y.addEventListener)H||(X=ge),X===void 0&&(X=!1),y.addEventListener(T.toString(),F,X);else if(y.attachEvent)y.attachEvent(Qe(T.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function We(){function y(P){return T.call(y.src,y.listener,P)}const T=Br;return y}function de(y,T,P,F,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)de(y,T[ne],P,F,X);else F=l(F)?!!F.capture:!!F,P=fs(P),y&&y[be]?(y=y.i,ne=String(T).toString(),ne in y.g&&(T=y.g[ne],P=He(T,P,F,X),P>-1&&(me(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete y.g[ne],y.h--)))):y&&(y=gr(y))&&(T=y.g[T.toString()],y=-1,T&&(y=He(T,P,F,X)),(P=y>-1?T[y]:null)&&pr(P))}function pr(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[be])Oe(T.i,y);else{var P=y.type,F=y.proxy;T.removeEventListener?T.removeEventListener(P,F,y.capture):T.detachEvent?T.detachEvent(Qe(P),F):T.addListener&&T.removeListener&&T.removeListener(F),(P=gr(T))?(Oe(P,y),P.h==0&&(P.src=null,T[et]=null)):me(y)}}}function Qe(y){return y in hr?hr[y]:hr[y]="on"+y}function Br(y,T){if(y.da)y=!0;else{T=new he(T,this);const P=y.listener,F=y.ha||y.src;y.fa&&pr(y),y=P.call(F,T)}return y}function gr(y){return y=y[et],y instanceof _e?y:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function fs(y){return typeof y=="function"?y:(y[di]||(y[di]=function(T){return y.handleEvent(T)}),y[di])}function Ar(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}p(Ar,V),Ar.prototype[be]=!0,Ar.prototype.removeEventListener=function(y,T,P,F){de(this,y,T,P,F)};function Vr(y,T){var P,F=y.G;if(F)for(P=[];F;F=F.G)P.push(F);if(y=y.M,F=T.type||T,typeof T=="string")T=new z(T,y);else if(T instanceof z)T.target=T.target||y;else{var X=T;T=new z(F,y),ye(T,X)}X=!0;let ne,ge;if(P)for(ge=P.length-1;ge>=0;ge--)ne=T.g=P[ge],X=ds(ne,F,!0,T)&&X;if(ne=T.g=y,X=ds(ne,F,!0,T)&&X,X=ds(ne,F,!1,T)&&X,P)for(ge=0;ge<P.length;ge++)ne=T.g=P[ge],X=ds(ne,F,!1,T)&&X}Ar.prototype.N=function(){if(Ar.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const P=y.g[T];for(let F=0;F<P.length;F++)me(P[F]);delete y.g[T],y.h--}}this.G=null},Ar.prototype.J=function(y,T,P,F){return this.i.add(String(y),T,!1,P,F)},Ar.prototype.K=function(y,T,P,F){return this.i.add(String(y),T,!0,P,F)};function ds(y,T,P,F){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ne=0;ne<T.length;++ne){const ge=T[ne];if(ge&&!ge.da&&ge.capture==P){const $e=ge.listener,mr=ge.ha||ge.src;ge.fa&&Oe(y.i,ge),X=$e.call(mr,F)!==!1&&X}}return X&&!F.defaultPrevented}function wm(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(y,T||0)}function I0(y){y.g=wm(()=>{y.g=null,y.i&&(y.i=!1,I0(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Vn extends V{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:I0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ml(y){V.call(this),this.h=y,this.g={}}p(Ml,V);var qf=[];function Gf(y){Se(y.g,function(T,P){this.g.hasOwnProperty(P)&&pr(T)},y),y.g={}}Ml.prototype.N=function(){Ml.Z.N.call(this),Gf(this)},Ml.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=o.JSON.stringify,Em=o.JSON.parse,O0=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function R0(){}function P0(){}var la={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){z.call(this,"d")}p(fn,z);function Mi(){z.call(this,"c")}p(Mi,z);var vr={},D0=null;function Zu(){return D0=D0||new Ar}vr.Ia="serverreachability";function N0(y){z.call(this,vr.Ia,y)}p(N0,z);function Ra(y){const T=Zu();Vr(T,new N0(T))}vr.STAT_EVENT="statevent";function kl(y,T){z.call(this,vr.STAT_EVENT,y),this.stat=T}p(kl,z);function Sr(y){const T=Zu();Vr(T,new kl(T,y))}vr.Ja="timingevent";function Pa(y,T){z.call(this,vr.Ja,y),this.size=T}p(Pa,z);function Da(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},T)}function ua(){this.g=!0}ua.prototype.ua=function(){this.g=!1};function Am(y,T,P,F,X,ne){y.info(function(){if(y.g)if(ne){var ge="",$e=ne.split("&");for(let yt=0;yt<$e.length;yt++){var mr=$e[yt].split("=");if(mr.length>1){const Zt=mr[0];mr=mr[1];const Bi=Zt.split("_");ge=Bi.length>=2&&Bi[1]=="type"?ge+(Zt+"="+mr+"&"):ge+(Zt+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+T+`
`+P+`
`+ge})}function M0(y,T,P,F,X,ne,ge){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+T+`
`+P+`
`+ne+" "+ge})}function Na(y,T,P,F){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+Sm(y,P)+(F?" "+F:"")})}function Ll(y,T){y.info(function(){return"TIMEOUT: "+T})}ua.prototype.info=function(){};function Sm(y,T){if(!y.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(y=0;y<ne.length;y++)if(Array.isArray(ne[y])){var P=ne[y];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<F.length;ge++)F[ge]=""}}}}return hs(ne)}catch{return T}}var jl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wf;function Bl(){}p(Bl,R0),Bl.prototype.g=function(){return new XMLHttpRequest},Wf=new Bl;function mo(y){return encodeURIComponent(String(y))}function k0(y){var T=1;y=y.split(":");const P=[];for(;T>0&&y.length;)P.push(y.shift()),T--;return y.length&&P.push(y.join(":")),P}function ca(y,T,P,F){this.j=y,this.i=T,this.l=P,this.S=F||1,this.V=new Ml(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fa}function fa(){this.i=null,this.g="",this.h=!1}var Tr={},Zr={};function Ma(y,T,P){y.M=1,y.A=Vl(Ir(T)),y.u=P,y.R=!0,Ju(y,null)}function Ju(y,T){y.F=Date.now(),ka(y),y.B=Ir(y.A);var P=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),nc(P.i,"t",F),y.C=0,P=y.j.L,y.h=new fa,y.g=Y0(y.j,P?T:null,!y.u),y.P>0&&(y.O=new Vn(f(y.Y,y,y.g),y.P)),T=y.V,P=y.g,F=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(qf[0]=X.toString()),X=qf);for(let ne=0;ne<X.length;ne++){const ge=pe(P,X[ne],F||T.handleEvent,!1,T.h||T);if(!ge)break;T.g[ge.key]=ge}T=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ra(),Am(y.i,y.v,y.B,y.l,y.S,y.u)}ca.prototype.ba=function(y){y=y.target;const T=this.O;T&&pa(y)==3?T.j():this.Y(y)},ca.prototype.Y=function(y){try{if(y==this.g)e:{const $e=pa(this.g),mr=this.g.ya(),yt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||$e!=4||mr==7||(mr==8||yt<=0?Ra(3):Ra(2)),La(this);var T=this.g.ca();this.X=T;var P=Tm(this);if(this.o=T==200,M0(this.i,this.v,this.B,this.l,this.S,$e,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(F)){var ne=F;break t}}ne=null}if(y=ne)Na(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ja(this,y);else{this.o=!1,this.m=3,Sr(12),hi(this),ki(this);break e}}if(this.R){y=!0;let Zt;for(;!this.K&&this.C<P.length;)if(Zt=j0(this,P),Zt==Zr){$e==4&&(this.m=4,Sr(14),y=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Tr){this.m=4,Sr(15),Na(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Na(this.i,this.l,Zt,null),ja(this,Zt);if(L0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.m=1,Sr(16),y=!1),this.o=this.o&&y,!y)Na(this.i,this.l,P,"[Invalid Chunked Response]"),hi(this),ki(this);else if(P.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ud(ge),ge.P=!0,Sr(11))}}else Na(this.i,this.l,P,null),ja(this,P);$e==4&&hi(this),this.o&&!this.K&&($e==4?G0(this.j,this):(this.o=!1,ka(this)))}else xo(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Sr(12)):(this.m=0,Sr(13)),hi(this),ki(this)}}}catch{}finally{}};function Tm(y){if(!L0(y))return y.g.la();const T=dn(y.g);if(T==="")return"";let P="";const F=T.length,X=pa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return hi(y),ki(y),"";y.h.i=new o.TextDecoder}for(let ne=0;ne<F;ne++)y.h.h=!0,P+=y.h.i.decode(T[ne],{stream:!(X&&ne==F-1)});return T.length=0,y.h.g+=P,y.C=0,y.h.g}function L0(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function j0(y,T){var P=y.C,F=T.indexOf(`
`,P);return F==-1?Zr:(P=Number(T.substring(P,F)),isNaN(P)?Tr:(F+=1,F+P>T.length?Zr:(T=T.slice(F,F+P),y.C=F+P,T)))}ca.prototype.cancel=function(){this.K=!0,hi(this)};function ka(y){y.T=Date.now()+y.H,ec(y,y.H)}function ec(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Da(f(y.aa,y),T)}function La(y){y.D&&(o.clearTimeout(y.D),y.D=null)}ca.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ll(this.i,this.B),this.M!=2&&(Ra(),Sr(17)),hi(this),this.m=2,ki(this)):ec(this,this.T-y)};function ki(y){y.j.I==0||y.K||G0(y.j,y)}function hi(y){La(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Gf(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function ja(y,T){try{var P=y.j;if(P.I!=0&&(P.g==y||Va(P.h,y))){if(!y.L&&Va(P.h,y)&&P.I==3){try{var F=P.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)lc(P),bs(P);else break e;Gl(P),Sr(18)}}else P.xa=X[1],0<P.xa-P.K&&X[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Da(f(P.Va,P),6e3));Ba(P.h)<=1&&P.ta&&(P.ta=void 0)}else qa(P,11)}else if((y.L||P.g==y)&&lc(P),!U(T))for(X=P.Ba.g.parse(T),T=0;T<X.length;T++){let yt=X[T];const Zt=yt[0];if(!(Zt<=P.K))if(P.K=Zt,yt=yt[1],P.I==2)if(yt[0]=="c"){P.M=yt[1],P.ba=yt[2];const Bi=yt[3];Bi!=null&&(P.ka=Bi,P.j.info("VER="+P.ka));const Ga=yt[4];Ga!=null&&(P.za=Ga,P.j.info("SVER="+P.za));const ga=yt[5];ga!=null&&typeof ga=="number"&&ga>0&&(F=1.5*ga,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const va=y.g;if(va){const Kl=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var ne=F.h;ne.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Qf(ne,ne.h),ne.h=null))}if(F.G){const uc=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(F.wa=uc,Ct(F.J,F.G,uc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var ge=y;if(F.na=X0(F,F.L?F.ba:null,F.W),ge.L){Zf(F.h,ge);var $e=ge,mr=F.O;mr&&($e.H=mr),$e.D&&(La($e),ka($e)),F.g=ge}else $0(F);P.i.length>0&&$a(P)}else yt[0]!="stop"&&yt[0]!="close"||qa(P,7);else P.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?qa(P,7):sd(P):yt[0]!="noop"&&P.l&&P.l.qa(yt),P.A=0)}}Ra(4)}catch{}}var Cr=class{constructor(y,T){this.g=y,this.map=T}};function Xf(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ba(y){return y.h?1:y.g?y.g.size:0}function Va(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Qf(y,T){y.g?y.g.add(T):y.h=T}function Zf(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}Xf.prototype.cancel=function(){if(this.i=Jf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Jf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const P of y.g.values())T=T.concat(P.G);return T}return m(y.i)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(y,T){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const F=y[P].indexOf("=");let X,ne=null;F>=0?(X=y[P].substring(0,F),ne=y[P].substring(F+1)):X=y[P],T(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function pi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof pi?(this.l=y.l,Jr(this,y.j),this.o=y.o,this.g=y.g,ps(this,y.u),this.h=y.h,ed(this,z0(y.i)),this.m=y.m):y&&(T=String(y).match(B0))?(this.l=!1,Jr(this,T[1]||"",!0),this.o=Fa(T[2]||""),this.g=Fa(T[3]||"",!0),ps(this,T[4]),this.h=Fa(T[5]||"",!0),ed(this,T[6]||"",!0),this.m=Fa(T[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}pi.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Fl(T,rc,!0),":");var P=this.g;return(P||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Fl(T,rc,!0),"@"),y.push(mo(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(Fl(P,P.charAt(0)=="/"?td:V0,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",Fl(P,F0)),y.join("")},pi.prototype.resolve=function(y){const T=Ir(this);let P=!!y.j;P?Jr(T,y.j):P=!!y.o,P?T.o=y.o:P=!!y.g,P?T.g=y.g:P=y.u!=null;var F=y.h;if(P)ps(T,y.u);else if(P=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=T.h.lastIndexOf("/");X!=-1&&(F=T.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ge=0;ge<X.length;){const $e=X[ge++];$e=="."?F&&ge==X.length&&ne.push(""):$e==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ge==X.length&&ne.push("")):(ne.push($e),F=!0)}F=ne.join("/")}else F=X}return P?T.h=F:P=y.i.toString()!=="",P?ed(T,z0(y.i)):P=!!y.m,P&&(T.m=y.m),T};function Ir(y){return new pi(y)}function Jr(y,T,P){y.j=P?Fa(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function ps(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function ed(y,T,P){T instanceof vs?(y.i=T,ic(y.i,y.l)):(P||(T=Fl(T,gs)),y.i=new vs(T,y.l))}function Ct(y,T,P){y.i.set(T,P)}function Vl(y){return Ct(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Fa(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Fl(y,T,P){return typeof y=="string"?(y=encodeURI(y).replace(T,Wn),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Wn(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var rc=/[#\/\?@]/g,V0=/[#\?:]/g,td=/[#\?]/g,gs=/[#\?@]/g,F0=/#/g;function vs(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function Xn(y){y.g||(y.g=new Map,y.h=0,y.i&&tc(y.i,function(T,P){y.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=vs.prototype,t.add=function(y,T){Xn(this),this.i=null,y=ms(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(T),this.h+=1,this};function U0(y,T){Xn(y),T=ms(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function rd(y,T){return Xn(y),T=ms(y,T),y.g.has(T)}t.forEach=function(y,T){Xn(this),this.g.forEach(function(P,F){P.forEach(function(X){y.call(T,X,F,this)},this)},this)};function nd(y,T){Xn(y);let P=[];if(typeof T=="string")rd(y,T)&&(P=P.concat(y.g.get(ms(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)P=P.concat(y[T]);return P}t.set=function(y,T){return Xn(this),this.i=null,y=ms(this,y),rd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=nd(this,y),y.length>0?String(y[0]):T):T};function nc(y,T,P){U0(y,T),P.length>0&&(y.i=null,y.g.set(ms(y,T),m(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var P=T[F];const X=mo(P);P=nd(this,P);for(let ne=0;ne<P.length;ne++){let ge=X;P[ne]!==""&&(ge+="="+mo(P[ne])),y.push(ge)}}return this.i=y.join("&")};function z0(y){const T=new vs;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function ms(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function ic(y,T){T&&!y.j&&(Xn(y),y.i=null,y.g.forEach(function(P,F){const X=F.toLowerCase();F!=X&&(U0(this,F),nc(this,X,P))},y)),y.j=T}function da(y,T){const P=new ua;if(o.Image){const F=new Image;F.onload=h(Li,P,"TestLoadImage: loaded",!0,T,F),F.onerror=h(Li,P,"TestLoadImage: error",!1,T,F),F.onabort=h(Li,P,"TestLoadImage: abort",!1,T,F),F.ontimeout=h(Li,P,"TestLoadImage: timeout",!1,T,F),o.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else T(!1)}function id(y,T){const P=new ua,F=new AbortController,X=setTimeout(()=>{F.abort(),Li(P,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?Li(P,"TestPingServer: ok",!0,T):Li(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),Li(P,"TestPingServer: error",!1,T)})}function Li(y,T,P,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(P)}catch{}}function ys(){this.g=new O0}function Ua(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Ua,R0),Ua.prototype.g=function(){return new Ul(this.i,this.h)};function Ul(y,T){Ar.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ul,Ar),t=Ul.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ac(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function ac(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?xs(this):ha(this),this.readyState==3&&ac(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,xs(this))},t.Na=function(y){this.g&&(this.response=y,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ha(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=T.next();return y.join(`\r
`)};function ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ji(y){let T="";return Se(y,function(P,F){T+=F,T+=":",T+=P,T+=`\r
`}),T}function zl(y,T,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=ji(P),typeof y=="string"?P!=null&&mo(P):Ct(y,T,P))}function Nt(y){Ar.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Nt,Ar);var za=/^https?$/i,ad=["POST","PUT"];t=Nt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wf.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ne){Hl(this,ne);return}if(y=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)P.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())P.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(ad,T,void 0)>=0)||F||X||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of P)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ne){Hl(this,ne)}};function Hl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,od(y),yo(y)}function od(y){y.A||(y.A=!0,Vr(y,"complete"),Vr(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Vr(this,"complete"),Vr(this,"abort"),yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yo(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$l(this):this.Xa())},t.Xa=function(){$l(this)};function $l(y){if(y.h&&typeof a<"u"){if(y.v&&pa(y)==4)setTimeout(y.Ca.bind(y),0);else if(Vr(y,"readystatechange"),pa(y)==4){y.h=!1;try{const ne=y.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var F;if(F=ne===0){let ge=String(y.D).match(B0)[1]||null;!ge&&o.self&&o.self.location&&(ge=o.self.location.protocol.slice(0,-1)),F=!za.test(ge?ge.toLowerCase():"")}P=F}if(P)Vr(y,"complete"),Vr(y,"success");else{y.o=6;try{var X=pa(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",od(y)}}finally{yo(y)}}}}function yo(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,T||Vr(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pa(y){return y.g?y.g.readyState:0}t.ca=function(){try{return pa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),Em(T)}};function dn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(y){const T={};y=(y.g&&pa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(U(y[F]))continue;var P=k0(y[F]);const X=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ne=T[X]||[];T[X]=ne,ne.push(P)}Ge(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(y,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||T}function _s(y){this.za=0,this.i=[],this.j=new ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ha("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ha("baseRetryDelayMs",5e3,y),this.Za=Ha("retryDelaySeedMs",1e4,y),this.Ta=Ha("forwardChannelMaxRetries",2,y),this.va=Ha("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Xf(y&&y.concurrentRequestLimit),this.Ba=new ys,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_s.prototype,t.ka=8,t.I=1,t.connect=function(y,T,P,F){Sr(0),this.W=y,this.H=T||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=X0(this,null,this.W),$a(this)};function sd(y){if(oc(y),y.I==3){var T=y.V++,P=Ir(y.J);if(Ct(P,"SID",y.M),Ct(P,"RID",T),Ct(P,"TYPE","terminate"),ql(y,P),T=new ca(y,y.j,T),T.M=2,T.A=Vl(Ir(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=T.A,P=!0),P||(T.g=Y0(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ka(T)}W0(y)}function bs(y){y.g&&(ud(y),y.g.cancel(),y.g=null)}function oc(y){bs(y),y.v&&(o.clearTimeout(y.v),y.v=null),lc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function $a(y){if(!Yf(y.h)&&!y.m){y.m=!0;var T=y.Ea;L||N(),B||(L(),B=!0),D.add(T,y),y.D=0}}function sc(y,T){return Ba(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Da(f(y.Ea,y,T),K0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new ca(this,this.j,y);let ne=this.o;if(this.U&&(ne?(ne=G(ne),ye(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=H0(this,X,T),P=Ir(this.J),Ct(P,"RID",y),Ct(P,"CVER",22),this.G&&Ct(P,"X-HTTP-Session-Id",this.G),ql(this,P),ne&&(this.R?T="headers="+mo(ji(ne))+"&"+T:this.u&&zl(P,this.u,ne)),Qf(this.h,X),this.Ra&&Ct(P,"TYPE","init"),this.S?(Ct(P,"$req",T),Ct(P,"SID","null"),X.U=!0,Ma(X,P,null)):Ma(X,P,T),this.I=2}}else this.I==3&&(y?ld(this,y):this.i.length==0||Yf(this.h)||ld(this))};function ld(y,T){var P;T?P=T.l:P=y.V++;const F=Ir(y.J);Ct(F,"SID",y.M),Ct(F,"RID",P),Ct(F,"AID",y.K),ql(y,F),y.u&&y.o&&zl(F,y.u,y.o),P=new ca(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),T&&(y.i=T.G.concat(y.i)),T=H0(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Qf(y.h,P),Ma(P,F,T)}function ql(y,T){y.H&&Se(y.H,function(P,F){Ct(T,F,P)}),y.l&&Se({},function(P,F){Ct(T,F,P)})}function H0(y,T,P){P=Math.min(y.i.length,P);const F=y.l?f(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const mr=["count="+P];$e==-1?P>0?($e=X[0].g,mr.push("ofs="+$e)):$e=0:mr.push("ofs="+$e);let yt=!0;for(let Zt=0;Zt<P;Zt++){var ne=X[Zt].g;const Bi=X[Zt].map;if(ne-=$e,ne<0)$e=Math.max(0,X[Zt].g-100),yt=!1;else try{ne="req"+ne+"_"||"";try{var ge=Bi instanceof Map?Bi:Object.entries(Bi);for(const[Ga,ga]of ge){let va=ga;l(ga)&&(va=hs(ga)),mr.push(ne+Ga+"="+encodeURIComponent(va))}}catch(Ga){throw mr.push(ne+"type="+encodeURIComponent("_badmap")),Ga}}catch{F&&F(Bi)}}if(yt){ge=mr.join("&");break e}}ge=void 0}return y=y.i.splice(0,P),T.G=y,ge}function $0(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;L||N(),B||(L(),B=!0),D.add(T,y),y.A=0}}function Gl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Da(f(y.Da,y),K0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,q0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Da(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Sr(10),bs(this),q0(this))};function ud(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function q0(y){y.g=new ca(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=Ir(y.na);Ct(T,"RID","rpc"),Ct(T,"SID",y.M),Ct(T,"AID",y.K),Ct(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ct(T,"TO",y.ia),Ct(T,"TYPE","xmlhttp"),ql(y,T),y.u&&y.o&&zl(T,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=Vl(Ir(T)),P.u=null,P.R=!0,Ju(P,y)}t.Va=function(){this.C!=null&&(this.C=null,bs(this),Gl(this),Sr(19))};function lc(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function G0(y,T){var P=null;if(y.g==T){lc(y),ud(y),y.g=null;var F=2}else if(Va(y.h,T))P=T.G,Zf(y.h,T),F=1;else return;if(y.I!=0){if(T.o)if(F==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var X=y.D;F=Zu(),Vr(F,new Pa(F,P)),$a(y)}else $0(y);else if(X=T.m,X==3||X==0&&T.X>0||!(F==1&&sc(y,T)||F==2&&Gl(y)))switch(P&&P.length>0&&(T=y.h,T.i=T.i.concat(P)),X){case 1:qa(y,5);break;case 4:qa(y,10);break;case 3:qa(y,6);break;default:qa(y,2)}}}function K0(y,T){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*T}function qa(y,T){if(y.j.info("Error code "+T),T==2){var P=f(y.bb,y),F=y.Ua;const X=!F;F=new pi(F||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Jr(F,"https"),Vl(F),X?da(F.toString(),P):id(F.toString(),P)}else Sr(2);y.I=0,y.l&&y.l.pa(T),W0(y),oc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))};function W0(y){if(y.I=0,y.ja=[],y.l){const T=Jf(y.h);(T.length!=0||y.i.length!=0)&&(_(y.ja,T),_(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function X0(y,T,P){var F=P instanceof pi?Ir(P):new pi(P);if(F.g!="")T&&(F.g=T+"."+F.g),ps(F,F.u);else{var X=o.location;F=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ne=new pi(null);F&&Jr(ne,F),T&&(ne.g=T),X&&ps(ne,X),P&&(ne.h=P),F=ne}return P=y.G,T=y.wa,P&&T&&Ct(F,P,T),Ct(F,"VER",y.ka),ql(y,F),F}function Y0(y,T,P){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Nt(new Ua({ab:P})):new Nt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q0(){}t=Q0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ws(){}ws.prototype.g=function(y,T){return new Fn(y,T)};function Fn(y,T){Ar.call(this),this.g=new _s(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!U(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new _o(this)}p(Fn,Ar),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){sd(this.g)},Fn.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=hs(y),y=P);T.i.push(new Cr(T.Ya++,y)),T.I==3&&$a(T)},Fn.prototype.N=function(){this.g.l=null,delete this.j,sd(this.g),delete this.g,Fn.Z.N.call(this)};function Z0(y){fn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const P in T){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(Z0,fn);function J0(){Mi.call(this),this.status=1}p(J0,Mi);function _o(y){this.g=y}p(_o,Q0),_o.prototype.ra=function(){Vr(this.g,"a")},_o.prototype.qa=function(y){Vr(this.g,new Z0(y))},_o.prototype.pa=function(y){Vr(this.g,new J0)},_o.prototype.oa=function(){Vr(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,lD=function(){return new ws},sD=function(){return Zu()},oD=vr,M_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jl.NO_ERROR=0,jl.TIMEOUT=8,jl.HTTP_ERROR=6,M1=jl,Kf.COMPLETE="complete",aD=Kf,P0.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",Ar.prototype.listen=Ar.prototype.J,uh=P0,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,iD=Nt}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});const A4="@firebase/firestore",S4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new gw("@firebase/firestore");function zc(){return Mu.logLevel}function we(t,...e){if(Mu.logLevel<=nt.DEBUG){const r=e.map(yw);Mu.debug(`Firestore (${Af}): ${t}`,...r)}}function Wo(t,...e){if(Mu.logLevel<=nt.ERROR){const r=e.map(yw);Mu.error(`Firestore (${Af}): ${t}`,...r)}}function rf(t,...e){if(Mu.logLevel<=nt.WARN){const r=e.map(yw);Mu.warn(`Firestore (${Af}): ${t}`,...r)}}function yw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,uD(t,n,r)}function uD(t,e,r){let n=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Wo(n),new Error(n)}function Tt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||uD(e,i,n)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends po{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Dn.UNAUTHENTICATED)))}shutdown(){}}class FF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class UF{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Tt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ho,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ho)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Tt(typeof n.accessToken=="string",31837,{l:n}),new cD(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class zF{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HF{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new zF(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $F{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Tt(this.o===void 0,3512);const n=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Tt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new T4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=qF(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function k_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return D2(i)===D2(a)?it(i,a):D2(i)?1:-1}return it(t.length,e.length)}const GF=55296,KF=57343;function D2(t){const e=t.charCodeAt(0);return e>=GF&&e<=KF}function nf(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="__name__";class Qa{constructor(e,r,n){r===void 0?r=0:r>e.length&&Be(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Be(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Qa.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return it(e.length,r.length)}static compareSegments(e,r){const n=Qa.isNumericId(e),i=Qa.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Qa.extractNumericId(e).compare(Qa.extractNumericId(r)):k_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class Ht extends Qa{construct(e,r,n){return new Ht(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Ht(r)}static emptyPath(){return new Ht([])}}const WF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Qa{construct(e,r,n){return new En(e,r,n)}static isValidIdentifier(e){return WF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C4}static keyField(){return new En([C4])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(r)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ht.fromString(e))}static fromName(e){return new De(Ht.fromString(e).popFirst(5))}static empty(){return new De(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ht.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e,r){if(!r)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XF(t,e,r,n){if(e===!0&&n===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function I4(t){if(!De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O4(t){if(De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gv(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Qh(t,e){if(!dD(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new xe(ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=-62135596800,P4=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*P4);return new Qt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<R4)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P4}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qh(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:kr("string",Qt._jsonSchemaVersion),seconds:kr("number"),nanoseconds:kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Qt(0,0))}static max(){return new Ve(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function YF(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(n===1e9?new Qt(r+1,0):new Qt(r,n));return new dl(i,De.empty(),e)}function QF(t){return new dl(t.readTime,t.key,Oh)}class dl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new dl(Ve.min(),De.empty(),Oh)}static max(){return new dl(Ve.max(),De.empty(),Oh)}}function ZF(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=De.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==JF)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.reject(r)}static resolve(e){return new fe(((r,n)=>{r(e)}))}static reject(e){return new fe(((r,n)=>{n(e)}))}static waitFor(e){return new fe(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=fe.resolve(!1);for(const n of e)r=r.next((i=>i?fe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new fe(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next((h=>{o[f]=h,++l,l===a&&n(o)}),(h=>i(h)))}}))}static doWhile(e,r){return new fe(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function tU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Tf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-1;function mv(t){return t==null}function eg(t){return t===0&&1/t==-1/0}function rU(t){return typeof t=="number"&&Number.isInteger(t)&&!eg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="";function nU(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=D4(e)),e=iU(t.get(r),e);return D4(e)}function iU(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case hD:r+="";break;default:r+=a}}return r}function D4(t){return t+hD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Al(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function pD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,r){this.comparator=e,this.root=r||bn.EMPTY}insert(e,r){return new or(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new i1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new i1(this.root,e,this.comparator,!1)}getReverseIterator(){return new i1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new i1(this.root,e,this.comparator,!0)}}class i1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new bn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new bn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new M4(this.data.getIterator())}getIteratorFrom(e){return new M4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Wr(this.comparator);return r.data=e,r}}class M4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Ci([])}unionWith(e){let r=new Wr(En.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ci(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return nf(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gD("Invalid base64 string: "+a):a}})(e);return new Sn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const aU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const r=aU.exec(t);if(Tt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pl(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="server_timestamp",mD="__type__",yD="__previous_value__",xD="__local_write_time__";function bw(t){return(t?.mapValue?.fields||{})[mD]?.stringValue===vD}function yv(t){const e=t.mapValue.fields[yD];return bw(e)?yv(e):e}function Rh(t){const e=hl(t.mapValue.fields[xD].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,r,n,i,a,o,l,c,f,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const tg="(default)";class Ph{constructor(e,r){this.projectId=e,this.database=r||tg}static empty(){return new Ph("","")}get isDefaultDatabase(){return this.database===tg}isEqual(e){return e instanceof Ph&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="__type__",sU="__max__",a1={mapValue:{}},bD="__vector__",rg="value";function gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bw(t)?4:uU(t)?9007199254740991:lU(t)?10:11:Be(28295,{value:t})}function so(t,e){if(t===e)return!0;const r=gl(t);if(r!==gl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=hl(i.timestampValue),l=hl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return pl(i.bytesValue).isEqual(pl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return br(i.geoPointValue.latitude)===br(a.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return br(i.integerValue)===br(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=br(i.doubleValue),l=br(a.doubleValue);return o===l?eg(o)===eg(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return nf(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(N4(o)!==N4(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!so(o[c],l[c])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Dh(t,e){return(t.values||[]).find((r=>so(r,e)))!==void 0}function af(t,e){if(t===e)return 0;const r=gl(t),n=gl(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=br(a.integerValue||a.doubleValue),c=br(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return k4(t.timestampValue,e.timestampValue);case 4:return k4(Rh(t),Rh(e));case 5:return k_(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=pl(a),c=pl(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=it(l[f],c[f]);if(h!==0)return h}return it(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=it(br(a.latitude),br(o.latitude));return l!==0?l:it(br(a.longitude),br(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return L4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},c=o.fields||{},f=l[rg]?.arrayValue,h=c[rg]?.arrayValue,p=it(f?.values?.length||0,h?.values?.length||0);return p!==0?p:L4(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===a1.mapValue&&o===a1.mapValue)return 0;if(a===a1.mapValue)return 1;if(o===a1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=k_(c[p],h[p]);if(v!==0)return v;const m=af(l[c[p]],f[h[p]]);if(m!==0)return m}return it(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:r})}}function k4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=hl(t),n=hl(e),i=it(r.seconds,n.seconds);return i!==0?i:it(r.nanos,n.nanos)}function L4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=af(r[i],n[i]);if(a)return a}return it(r.length,n.length)}function of(t){return L_(t)}function L_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=hl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return pl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return De.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=L_(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${L_(r.fields[o])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function k1(t){switch(gl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yv(t);return e?16+k1(e):16;case 5:return 2*t.stringValue.length;case 6:return pl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+k1(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Al(n.fields,((a,o)=>{i+=a.length+k1(o)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function j4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function B4(t){return!!t&&"nullValue"in t}function V4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function L1(t){return!!t&&"mapValue"in t}function lU(t){return(t?.mapValue?.fields||{})[_D]?.stringValue===bD}function _h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=_h(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=_h(t.arrayValue.values[r]);return e}return{...t}}function uU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!L1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(r)}setAll(e){let r=En.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=_h(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());L1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];L1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Al(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ai(_h(this.value))}}function wD(t){const e=[];return Al(t.fields,((r,n)=>{const i=new En([r]);if(L1(n)){const a=wD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,Ve.min(),Ve.min(),Ve.min(),ai.empty(),0)}static newFoundDocument(e,r,n,i){return new Nn(e,1,r,Ve.min(),n,i,0)}static newNoDocument(e,r){return new Nn(e,2,r,Ve.min(),Ve.min(),ai.empty(),0)}static newUnknownDocument(e,r){return new Nn(e,3,r,Ve.min(),Ve.min(),ai.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,r){this.position=e,this.inclusive=r}}function F4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=De.comparator(De.fromName(o.referenceValue),r.key):n=af(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function U4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!so(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,r="asc"){this.field=e,this.dir=r}}function cU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{}class Mr extends ED{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new dU(e,r,n):r==="array-contains"?new gU(e,n):r==="in"?new vU(e,n):r==="not-in"?new mU(e,n):r==="array-contains-any"?new yU(e,n):new Mr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new hU(e,n):new pU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(af(r,this.value)):r!==null&&gl(this.value)===gl(r)&&this.matchesComparison(af(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ia extends ED{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ia(e,r)}matches(e){return AD(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AD(t){return t.op==="and"}function SD(t){return fU(t)&&AD(t)}function fU(t){for(const e of t.filters)if(e instanceof Ia)return!1;return!0}function B_(t){if(t instanceof Mr)return t.field.canonicalString()+t.op.toString()+of(t.value);if(SD(t))return t.filters.map((e=>B_(e))).join(",");{const e=t.filters.map((r=>B_(r))).join(",");return`${t.op}(${e})`}}function TD(t,e){return t instanceof Mr?(function(n,i){return i instanceof Mr&&n.op===i.op&&n.field.isEqual(i.field)&&so(n.value,i.value)})(t,e):t instanceof Ia?(function(n,i){return i instanceof Ia&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&TD(o,i.filters[l])),!0):!1})(t,e):void Be(19439)}function CD(t){return t instanceof Mr?(function(r){return`${r.field.canonicalString()} ${r.op} ${of(r.value)}`})(t):t instanceof Ia?(function(r){return r.op.toString()+" {"+r.getFilters().map(CD).join(" ,")+"}"})(t):"Filter"}class dU extends Mr{constructor(e,r,n){super(e,r,n),this.key=De.fromName(n.referenceValue)}matches(e){const r=De.comparator(e.key,this.key);return this.matchesComparison(r)}}class hU extends Mr{constructor(e,r){super(e,"in",r),this.keys=ID("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class pU extends Mr{constructor(e,r){super(e,"not-in",r),this.keys=ID("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function ID(t,e){return(e.arrayValue?.values||[]).map((r=>De.fromName(r.referenceValue)))}class gU extends Mr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ww(r)&&Dh(r.arrayValue,this.value)}}class vU extends Mr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dh(this.value.arrayValue,r)}}class mU extends Mr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Dh(this.value.arrayValue,r)}}class yU extends Mr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ww(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Dh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function z4(t,e=null,r=[],n=[],i=null,a=null,o=null){return new xU(t,e,r,n,i,a,o)}function Ew(t){const e=ze(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>B_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),mv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>of(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>of(n))).join(",")),e.Te=r}return e.Te}function Aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!cU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!TD(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U4(t.startAt,e.startAt)&&U4(t.endAt,e.endAt)}function V_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _U(t,e,r,n,i,a,o,l){return new Cf(t,e,r,n,i,a,o,l)}function xv(t){return new Cf(t)}function H4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OD(t){return t.collectionGroup!==null}function bh(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Wr(En.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nh(a,n))})),r.has(En.keyField().canonicalString())||e.Ie.push(new Nh(En.keyField(),n))}return e.Ie}function to(t){const e=ze(t);return e.Ee||(e.Ee=bU(e,bh(t))),e.Ee}function bU(t,e){if(t.limitType==="F")return z4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Nh(i.field,a)}));const r=t.endAt?new ng(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ng(t.startAt.position,t.startAt.inclusive):null;return z4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function F_(t,e){const r=t.filters.concat([e]);return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function U_(t,e,r){return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function _v(t,e){return Aw(to(t),to(e))&&t.limitType===e.limitType}function RD(t){return`${Ew(to(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>CD(i))).join(", ")}]`),mv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>of(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>of(i))).join(",")),`Target(${n})`})(to(t))}; limitType=${t.limitType})`}function bv(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):De.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of bh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const f=F4(o,l,c);return o.inclusive?f<=0:f<0})(n.startAt,bh(n),i)||n.endAt&&!(function(o,l,c){const f=F4(o,l,c);return o.inclusive?f>=0:f>0})(n.endAt,bh(n),i))})(t,e)}function wU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PD(t){return(e,r)=>{let n=!1;for(const i of bh(t)){const a=EU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function EU(t,e,r){const n=t.field.isKeyField()?De.comparator(e.key,r.key):(function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?af(c,f):Be(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return pD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new or(De.comparator);function Xo(){return AU}const DD=new or(De.comparator);function ch(...t){let e=DD;for(const r of t)e=e.insert(r.key,r);return e}function ND(t){let e=DD;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function mu(){return wh()}function MD(){return wh()}function wh(){return new Gu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SU=new or(De.comparator),TU=new Wr(De.comparator);function at(...t){let e=TU;for(const r of t)e=e.add(r);return e}const CU=new Wr(it);function IU(){return CU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(e)?"-0":e}}function kD(t){return{integerValue:""+t}}function OU(t,e){return rU(e)?kD(e):Sw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this._=void 0}}function RU(t,e,r){return t instanceof ig?(function(i,a){const o={fields:{[mD]:{stringValue:vD},[xD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&bw(a)&&(a=yv(a)),a&&(o.fields[yD]=a),{mapValue:o}})(r,e):t instanceof Mh?jD(t,e):t instanceof kh?BD(t,e):(function(i,a){const o=LD(i,a),l=$4(o)+$4(i.Ae);return j_(o)&&j_(i.Ae)?kD(l):Sw(i.serializer,l)})(t,e)}function PU(t,e,r){return t instanceof Mh?jD(t,e):t instanceof kh?BD(t,e):r}function LD(t,e){return t instanceof ag?(function(n){return j_(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ig extends wv{}class Mh extends wv{constructor(e){super(),this.elements=e}}function jD(t,e){const r=VD(e);for(const n of t.elements)r.some((i=>so(i,n)))||r.push(n);return{arrayValue:{values:r}}}class kh extends wv{constructor(e){super(),this.elements=e}}function BD(t,e){let r=VD(e);for(const n of t.elements)r=r.filter((i=>!so(i,n)));return{arrayValue:{values:r}}}class ag extends wv{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function $4(t){return br(t.integerValue||t.doubleValue)}function VD(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DU(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Mh&&i instanceof Mh||n instanceof kh&&i instanceof kh?nf(n.elements,i.elements,so):n instanceof ag&&i instanceof ag?so(n.Ae,i.Ae):n instanceof ig&&i instanceof ig})(t.transform,e.transform)}class NU{constructor(e,r){this.version=e,this.transformResults=r}}class ra{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function j1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ev{}function FD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tw(t.key,ra.none()):new Zh(t.key,t.data,ra.none());{const r=t.data,n=ai.empty();let i=new Wr(En.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Sl(t.key,n,new Ci(i.toArray()),ra.none())}}function MU(t,e,r){t instanceof Zh?(function(i,a,o){const l=i.value.clone(),c=G4(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof Sl?(function(i,a,o){if(!j1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=G4(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(UD(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Eh(t,e,r,n){return t instanceof Zh?(function(a,o,l,c){if(!j1(a.precondition,o))return l;const f=a.value.clone(),h=K4(a.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof Sl?(function(a,o,l,c){if(!j1(a.precondition,o))return l;const f=K4(a.fieldTransforms,c,o),h=o.data;return h.setAll(UD(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,o,l){return j1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function kU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=LD(n.transform,i||null);a!=null&&(r===null&&(r=ai.empty()),r.set(n.field,a))}return r||null}function q4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&nf(n,i,((a,o)=>DU(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zh extends Ev{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sl extends Ev{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UD(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function G4(t,e,r){const n=new Map;Tt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,PU(o,l,r[i]))}return n}function K4(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,RU(a,o,e))}return n}class Tw extends Ev{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LU extends Ev{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&MU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Eh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Eh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=MD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=FD(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),at())}isEqual(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,((r,n)=>q4(r,n)))&&nf(this.baseMutations,e.baseMutations,((r,n)=>q4(r,n)))}}class Cw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Tt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return SU})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Cw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr,lt;function FU(t){switch(t){case ue.OK:return Be(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function zD(t){if(t===void 0)return Wo("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Nr.OK:return ue.OK;case Nr.CANCELLED:return ue.CANCELLED;case Nr.UNKNOWN:return ue.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return ue.INTERNAL;case Nr.UNAVAILABLE:return ue.UNAVAILABLE;case Nr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Nr.NOT_FOUND:return ue.NOT_FOUND;case Nr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Nr.ABORTED:return ue.ABORTED;case Nr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Nr.DATA_LOSS:return ue.DATA_LOSS;default:return Be(39323,{code:t})}}(lt=Nr||(Nr={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new ol([4294967295,4294967295],0);function W4(t){const e=UU().encode(t),r=new nD;return r.update(e),new Uint8Array(r.digest())}function X4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ol([r,n],0),new ol([i,a],0)]}class Iw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fh(`Invalid padding: ${r}`);if(n<0)throw new fh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new fh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ol.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(ol.fromNumber(n)));return i.compare(zU)===1&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=W4(e),[n,i]=X4(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Iw(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const r=W4(e),[n,i]=X4(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Av(Ve.min(),i,new or(it),Xo(),at())}}class Jh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jh(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class HD{constructor(e,r){this.targetId=e,this.Ce=r}}class $D{constructor(e,r,n=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Y4{constructor(){this.ve=0,this.Fe=Q4(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),r=at(),n=at();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Be(38017,{changeType:a})}})),new Jh(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=Q4()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xo(),this.Je=o1(),this.He=o1(),this.Ye=new or(it)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(V_(a))if(n===0){const o=new De(a.path);this.et(r,o,Nn.newNoDocument(o,Ve.min()))}else Tt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=pl(n).toUint8Array()}catch(c){if(c instanceof gD)return rf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Iw(o,i,a)}catch(c){return rf(c instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&V_(l.target)){const c=new De(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Nn.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=at();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Av(e,r,this.Ye,this.je,n);return this.je=Xo(),this.Je=o1(),this.He=o1(),this.Ye=new or(it),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Y4,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Wr(it),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Wr(it),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y4),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function o1(){return new or(De.comparator)}function Q4(){return new or(De.comparator)}const $U={asc:"ASCENDING",desc:"DESCENDING"},qU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GU={and:"AND",or:"OR"};class KU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function z_(t,e){return t.useProto3Json||mv(e)?e:{value:e}}function og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WU(t,e){return og(t,e.toTimestamp())}function ro(t){return Tt(!!t,49232),Ve.fromTimestamp((function(r){const n=hl(r);return new Qt(n.seconds,n.nanos)})(t))}function Ow(t,e){return H_(t,e).canonicalString()}function H_(t,e){const r=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function GD(t){const e=Ht.fromString(t);return Tt(QD(e),10190,{key:e.toString()}),e}function $_(t,e){return Ow(t.databaseId,e.path)}function N2(t,e){const r=GD(e);if(r.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new De(WD(r))}function KD(t,e){return Ow(t.databaseId,e)}function XU(t){const e=GD(t);return e.length===4?Ht.emptyPath():WD(e)}function q_(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WD(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z4(t,e,r){return{name:$_(t,e),fields:r.value.mapValue.fields}}function YU(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(Tt(h===void 0||typeof h=="string",58123),Sn.fromBase64String(h||"")):(Tt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Sn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const h=f.code===void 0?ue.UNKNOWN:zD(f.code);return new xe(h,f.message||"")})(o);r=new $D(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=N2(t,n.document.name),a=ro(n.document.updateTime),o=n.document.createTime?ro(n.document.createTime):Ve.min(),l=new ai({mapValue:{fields:n.document.fields}}),c=Nn.newFoundDocument(i,a,o,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new B1(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=N2(t,n.document),a=n.readTime?ro(n.readTime):Ve.min(),o=Nn.newNoDocument(i,a),l=n.removedTargetIds||[];r=new B1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=N2(t,n.document),a=n.removedTargetIds||[];r=new B1([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new VU(i,a),l=n.targetId;r=new HD(l,o)}}return r}function QU(t,e){let r;if(e instanceof Zh)r={update:Z4(t,e.key,e.value)};else if(e instanceof Tw)r={delete:$_(t,e.key)};else if(e instanceof Sl)r={update:Z4(t,e.key,e.data),updateMask:oz(e.fieldMask)};else{if(!(e instanceof LU))return Be(16599,{Vt:e.type});r={verify:$_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof ig)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ag)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Be(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:WU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),r}function ZU(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?ro(i.updateTime):ro(a);return o.isEqual(Ve.min())&&(o=ro(a)),new NU(o,i.transformResults||[])})(r,e)))):[]}function JU(t,e){return{documents:[KD(t,e.path)]}}function ez(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=KD(t,i);const a=(function(f){if(f.length!==0)return YD(Ia.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:$c(v.field),direction:nz(v.dir)}})(h)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=z_(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function tz(t){let e=XU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Tt(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=(function(p){const v=XD(p);return v instanceof Ia&&SD(v)?v.getFilters():[v]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((v=>(function(_){return new Nh(qc(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(r.orderBy));let l=null;r.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,mv(v)?null:v})(r.limit));let c=null;r.startAt&&(c=(function(p){const v=!!p.before,m=p.values||[];return new ng(m,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new ng(m,v)})(r.endAt)),_U(e,i,o,a,l,"F",c,f)}function rz(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XD(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qc(r.unaryFilter.field);return Mr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qc(r.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qc(r.unaryFilter.field);return Mr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qc(r.unaryFilter.field);return Mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Mr.create(qc(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ia.create(r.compositeFilter.filters.map((n=>XD(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(r.compositeFilter.op))})(t):Be(30097,{filter:t})}function nz(t){return $U[t]}function iz(t){return qU[t]}function az(t){return GU[t]}function $c(t){return{fieldPath:t.canonicalString()}}function qc(t){return En.fromServerFormat(t.fieldPath)}function YD(t){return t instanceof Mr?(function(r){if(r.op==="=="){if(V4(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NAN"}};if(B4(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(V4(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NOT_NAN"}};if(B4(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(r.field),op:iz(r.op),value:r.value}}})(t):t instanceof Ia?(function(r){const n=r.getFilters().map((i=>YD(i)));return n.length===1?n[0]:{compositeFilter:{op:az(r.op),filters:n}}})(t):Be(54877,{filter:t})}function oz(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function QD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,n,i,a=Ve.min(),o=Ve.min(),l=Sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.yt=e}}function lz(t){const e=tz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.Cn=new cz}addToCollectionParentIndex(e,r){return this.Cn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(dl.min())}updateCollectionGroup(e,r,n){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class cz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wr(Ht.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wr(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZD=41943040;class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(ZD,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sf(0)}static cr(){return new sf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="LruGarbageCollector",fz=1048576;function tI([t,e],[r,n]){const i=it(t,r);return i===0?it(e,n):i}class dz{constructor(e){this.Ir=e,this.buffer=new Wr(tI),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();tI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hz{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(eI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Tf(r)?we(eI,"Ignoring IndexedDB error during garbage collection: ",r):await Sf(r)}await this.Vr(3e5)}))}}class pz{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(vv.ce);const n=new dz(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(J4)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J4):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,l=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),zc()<=nt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function gz(t,e){return new pz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this.changes=new Gu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?fe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Eh(n.mutation,i,Ci.empty(),Qt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,at()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=at()){const i=mu();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=ch();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=mu();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,at())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=Xo();const o=wh(),l=(function(){return wh()})();return r.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Sl)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),Eh(h.mutation,f,h.mutation.getFieldMask(),Qt.now())):o.set(f.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>o.set(f,h))),r.forEach(((f,h)=>l.set(f,new mz(h,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=wh();let i=new or(((o,l)=>o-l)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Ci.empty();h=l.applyToLocalView(f,h),n.set(c,h);const p=(i.get(l.batchId)||at()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=MD();h.forEach((v=>{if(!a.has(v)){const m=FD(r.get(v),n.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):fe.resolve(mu());let l=Oh,c=a;return o.next((f=>fe.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,at()))).next((h=>({batchId:l,changes:ND(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new De(r)).next((n=>{let i=ch();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=ch();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(c=>{const f=(function(p,v){return new Cf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,Nn.newInvalidDocument(h)))}));let l=ch();return o.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&Eh(h.mutation,f,Ci.empty(),Qt.now()),bv(r,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:ro(i.createTime)}})(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:lz(i.bundledQuery),readTime:ro(i.readTime)}})(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.overlays=new or(De.comparator),this.qr=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=mu();return fe.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),fe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),fe.resolve()}getOverlaysForCollection(e,r,n){const i=mu(),a=r.length+1,o=new De(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new or(((f,h)=>f-h));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=mu(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=mu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return fe.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new BU(r,n));let a=this.qr.get(r);a===void 0&&(a=at(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.Qr=new Wr(nn.$r),this.Ur=new Wr(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new nn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new nn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new De(new Ht([])),n=new nn(r,e),i=new nn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new De(new Ht([])),n=new nn(r,e),i=new nn(r,e+1);let a=at();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new nn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class nn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return De.comparator(e.key,r.key)||it(e.Yr,r.Yr)}static Kr(e,r){return it(e.Yr,r.Yr)||De.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Wr(nn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new nn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,r){return fe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?_w:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new nn(r,0),i=new nn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wr(it);return r.forEach((i=>{const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{n=n.add(l.Yr)}))})),fe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;De.isDocumentKey(a)||(a=a.child(""));const o=new nn(new De(a),0);let l=new Wr(it);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Tt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return fe.forEach(r.mutations,(i=>{const a=new nn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new nn(r,0),i=this.Zr.firstAfterOrEqual(n);return fe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.ri=e,this.docs=(function(){return new or(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return fe.resolve(n?n.document.mutableCopy():Nn.newInvalidDocument(r))}getEntries(e,r){let n=Xo();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))})),fe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Xo();const o=r.path,l=new De(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||ZF(QF(h),n)<=0||(i.has(h.key)||bv(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Be(9500)}ii(e,r){return fe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Az(this)}getSize(e){return fe.resolve(this.size)}}class Az extends vz{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),fe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.persistence=e,this.si=new Gu((r=>Ew(r)),Aw),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Rw,this.targetCount=0,this.ai=sf.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),fe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new sf(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.Pr(r),fe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return fe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),fe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return fe.resolve(n)}containsKey(e,r){return fe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r){this.ui={},this.overlays={},this.ci=new vv(0),this.li=!1,this.li=!0,this.hi=new bz,this.referenceDelegate=e(this),this.Pi=new Sz(this),this.indexManager=new uz,this.remoteDocumentCache=(function(i){return new Ez(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new sz(r),this.Ii=new xz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _z,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new wz(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const i=new Tz(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return fe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class Tz extends eU{constructor(e){super(),this.currentSequenceNumber=e}}class Pw{constructor(e){this.persistence=e,this.Ri=new Rw,this.Vi=null}static mi(e){return new Pw(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),fe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(n=>{const i=De.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return fe.or([()=>fe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class sg{constructor(e,r){this.persistence=e,this.pi=new Gu((n=>nU(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=gz(this,r)}static mi(e,r){return new sg(e,r)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return fe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?fe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ve.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=k1(e.data.value)),r}br(e,r,n){return fe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return fe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Dw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bV()?8:tU(jn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Cz;return this.Ss(e,r,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(zc()<=nt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Hc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(zc()<=nt.DEBUG&&we("QueryEngine","Query:",Hc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(zc()<=nt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Hc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(r))):fe.resolve())}ys(e,r){if(H4(r))return fe.resolve(null);let n=to(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=U_(r,null,"F"),n=to(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=at(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.Ds(r,l);return this.Cs(r,f,o,c.readTime)?this.ys(e,U_(r,null,"F")):this.vs(e,f,r,c)}))))})))))}ws(e,r,n,i){return H4(r)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?fe.resolve(null):(zc()<=nt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hc(r)),this.vs(e,o,r,YF(i,Oh)).next((l=>l)))}))}Ds(e,r){let n=new Wr(PD(e));return r.forEach(((i,a)=>{bv(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return zc()<=nt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Hc(r)),this.ps.getDocumentsMatchingQuery(e,r,dl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LocalStore",Oz=3e8;class Rz{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new or(it),this.xs=new Gu((a=>Ew(a)),Aw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Pz(t,e,r,n){return new Rz(t,e,r,n)}async function e5(t,e){const r=ze(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let c=at();for(const f of i){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function Dz(t,e){const r=ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((_=>{m=m.next((()=>h.getEntry(c,_))).next((w=>{const E=f.docVersions.get(_);Tt(E!==null,48541),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=at();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function t5(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Nz(t,e){const r=ze(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;l.push(r.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,h.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(p,m),(function(w,E,S){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Oz?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,h)&&l.push(r.Pi.updateTargetData(a,m))}));let c=Xo(),f=at();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(Mz(a,o,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!n.isEqual(Ve.min())){const h=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(h)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(r.Ms=i,a)))}function Mz(t,e,r){let n=at(),i=at();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Xo();return r.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(Nw,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function kz(t,e){const r=ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=_w),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Lz(t,e){const r=ze(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,fe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new rl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function G_(t,e,r){const n=ze(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Tf(o))throw o;we(Nw,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function rI(t,e,r){const n=ze(t);let i=Ve.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,h){const p=ze(c),v=p.xs.get(h);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,h)})(n,o,to(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Ve.min(),r?a:at()))).next((l=>(jz(n,wU(e),l),{documents:l,Qs:a})))))}function jz(t,e,r){let n=t.Os.get(e)||Ve.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class nI{constructor(){this.activeTargetIds=IU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bz{constructor(){this.Mo=new nI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nI,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="ConnectivityMonitor";class aI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(iI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(iI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s1=null;function K_(){return s1===null?s1=(function(){return 268435456+Math.round(2147483648*Math.random())})():s1++,"0x"+s1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="RestConnection",Fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===tg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=K_(),l=this.zo(e,r.toUriEncodedString());we(M2,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),h=El(f);return this.Jo(e,l,c,n,h).then((p=>(we(M2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw rf(M2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Af})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=Fz[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Hz extends Uz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=K_();return new Promise(((l,c)=>{const f=new iD;f.setWithCredentials(!0),f.listenOnce(aD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case M1.NO_ERROR:const p=f.getResponseJson();we(On,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case M1.TIMEOUT:we(On,`RPC '${e}' ${o} timed out`),c(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case M1.HTTP_ERROR:const v=f.getStatus();if(we(On,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const w=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN})(_.status);c(new xe(w,_.message))}else c(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(On,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);we(On,`RPC '${e}' ${o} sending request:`,i),f.send(r,"POST",h,n,15)}))}T_(e,r,n){const i=K_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lD(),l=sD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");we(On,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);this.I_(p);let v=!1,m=!1;const _=new zz({Yo:E=>{m?we(On,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(we(On,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),we(On,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),w=(E,S,I)=>{E.listen(S,(O=>{try{I(O)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(p,uh.EventType.OPEN,(()=>{m||(we(On,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(p,uh.EventType.CLOSE,(()=>{m||(m=!0,we(On,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),w(p,uh.EventType.ERROR,(E=>{m||(m=!0,rf(On,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),w(p,uh.EventType.MESSAGE,(E=>{if(!m){const S=E.data[0];Tt(!!S,16349);const I=S,O=I?.error||I[0]?.error;if(O){we(On,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let L=(function(N){const k=Nr[N];if(k!==void 0)return zD(k)})(M),B=O.message;L===void 0&&(L=ue.INTERNAL,B="Unknown error status: "+M+" with message "+O.message),m=!0,_.a_(new xe(L,B)),p.close()}else we(On,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),w(l,oD.STAT_EVENT,(E=>{E.stat===M_.PROXY?we(On,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===M_.NOPROXY&&we(On,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function k2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){return new KU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="PersistentStream";class n5{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r5(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(Wo(r.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(oI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(we(oI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $z extends n5{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=YU(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?ro(o.readTime):Ve.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=q_(this.serializer),r.addTarget=(function(a,o){let l;const c=o.target;if(l=V_(c)?{documents:JU(a,c)}:{query:ez(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qD(a,o.resumeToken);const f=z_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=og(a,o.snapshotVersion.toTimestamp());const f=z_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const n=rz(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=q_(this.serializer),r.removeTarget=e,this.q_(r)}}class qz extends n5{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=ZU(e.writeResults,e.commitTime),n=ro(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=q_(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>QU(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{}class Kz extends Gz{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,H_(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ue.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,H_(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(r),this.aa=!1):we("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="RemoteStore";class Xz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Ku(this)&&(we(ku,"Restarting streams for network reachability change."),await(async function(c){const f=ze(c);f.Ea.add(4),await e0(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Tv(f)})(this))}))})),this.Ra=new Wz(n,i)}}async function Tv(t){if(Ku(t))for(const e of t.da)await e(!0)}async function e0(t){for(const e of t.da)await e(!1)}function i5(t,e){const r=ze(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),jw(r)?Lw(r):If(r).O_()&&kw(r,e))}function Mw(t,e){const r=ze(t),n=If(r);r.Ia.delete(e),n.O_()&&a5(r,e),r.Ia.size===0&&(n.O_()?n.L_():Ku(r)&&r.Ra.set("Unknown"))}function kw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}If(t).Y_(e)}function a5(t,e){t.Va.Ue(e),If(t).Z_(e)}function Lw(t){t.Va=new HU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),If(t).start(),t.Ra.ua()}function jw(t){return Ku(t)&&!If(t).x_()&&t.Ia.size>0}function Ku(t){return ze(t).Ea.size===0}function o5(t){t.Va=void 0}async function Yz(t){t.Ra.set("Online")}async function Qz(t){t.Ia.forEach(((e,r)=>{kw(t,e)}))}async function Zz(t,e){o5(t),jw(t)?(t.Ra.ha(e),Lw(t)):t.Ra.set("Unknown")}async function Jz(t,e,r){if(t.Ra.set("Online"),e instanceof $D&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){we(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await lg(t,n)}else if(e instanceof B1?t.Va.Ze(e):e instanceof HD?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ve.min()))try{const n=await t5(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Sn.EMPTY_BYTE_STRING,h.snapshotVersion)),a5(a,c);const p=new rl(h.target,c,f,h.sequenceNumber);kw(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){we(ku,"Failed to raise snapshot:",n),await lg(t,n)}}async function lg(t,e,r){if(!Tf(e))throw e;t.Ea.add(1),await e0(t),t.Ra.set("Offline"),r||(r=()=>t5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ku,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Tv(t)}))}function s5(t,e){return e().catch((r=>lg(t,r,e)))}async function Cv(t){const e=ze(t),r=vl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_w;for(;eH(e);)try{const i=await kz(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,tH(e,i)}catch(i){await lg(e,i)}l5(e)&&u5(e)}function eH(t){return Ku(t)&&t.Ta.length<10}function tH(t,e){t.Ta.push(e);const r=vl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function l5(t){return Ku(t)&&!vl(t).x_()&&t.Ta.length>0}function u5(t){vl(t).start()}async function rH(t){vl(t).ra()}async function nH(t){const e=vl(t);for(const r of t.Ta)e.ea(r.mutations)}async function iH(t,e,r){const n=t.Ta.shift(),i=Cw.from(n,e,r);await s5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cv(t)}async function aH(t,e){e&&vl(t).X_&&await(async function(n,i){if((function(o){return FU(o)&&o!==ue.ABORTED})(i.code)){const a=n.Ta.shift();vl(n).B_(),await s5(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Cv(n)}})(t,e),l5(t)&&u5(t)}async function sI(t,e){const r=ze(t);r.asyncQueue.verifyOperationInProgress(),we(ku,"RemoteStore received new credentials");const n=Ku(r);r.Ea.add(3),await e0(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Tv(r)}async function oH(t,e){const r=ze(t);e?(r.Ea.delete(2),await Tv(r)):e||(r.Ea.add(2),await e0(r),r.Ra.set("Unknown"))}function If(t){return t.ma||(t.ma=(function(r,n,i){const a=ze(r);return a.sa(),new $z(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Yz.bind(null,t),t_:Qz.bind(null,t),r_:Zz.bind(null,t),H_:Jz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),jw(t)?Lw(t):t.Ra.set("Unknown")):(await t.ma.stop(),o5(t))}))),t.ma}function vl(t){return t.fa||(t.fa=(function(r,n,i){const a=ze(r);return a.sa(),new qz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rH.bind(null,t),r_:aH.bind(null,t),ta:nH.bind(null,t),na:iH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ku,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Bw(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vw(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),Tf(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||De.comparator(r.key,n.key):(r,n)=>De.comparator(r.key,n.key),this.keyedMap=ch(),this.sortedSet=new or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Xc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.ga=new or(De.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class lf{constructor(e,r,n,i,a,o,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new lf(e,r,Xc.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_v(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lH{constructor(){this.queries=uI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ze(r),a=i.queries;i.queries=uI(),a.forEach(((o,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function uI(){return new Gu((t=>RD(t)),_v)}async function Fw(t,e){const r=ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new sH,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=Vw(o,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&zw(r)}async function Uw(t,e){const r=ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function uH(t,e){const r=ze(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&zw(r)}function cH(t,e,r){const n=ze(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function zw(t){t.Ca.forEach((e=>{e.next()}))}var W_,cI;(cI=W_||(W_={})).Ma="default",cI.Cache="cache";class Hw{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new lf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==W_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.key=e}}class f5{constructor(e){this.key=e}}class fH{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=PD(e),this.tu=new Xc(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new lI,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),m=bv(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;v&&m?v.data.isEqual(m.data)?_!==w&&(n.track({type:3,doc:m}),E=!0):this.su(v,m)||(n.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(n.track({type:0,doc:m}),E=!0):v&&!m&&(n.track({type:1,doc:v}),E=!0,(c||f)&&(l=!0)),E&&(m?(o=o.add(m),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(m,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:E})}};return w(m)-w(_)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new lf(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new f5(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new c5(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=at();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return lf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $w="SyncEngine";class dH{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class hH{constructor(e){this.key=e,this.hu=!1}}class pH{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Gu((l=>RD(l)),_v),this.Iu=new Map,this.Eu=new Set,this.du=new or(De.comparator),this.Au=new Map,this.Ru=new Rw,this.Vu={},this.mu=new Map,this.fu=sf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gH(t,e,r=!0){const n=m5(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await d5(n,e,r,!0),i}async function vH(t,e){const r=m5(t);await d5(r,e,!0,!1)}async function d5(t,e,r,n){const i=await Lz(t.localStore,to(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await mH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&i5(t.remoteStore,i),l}async function mH(t,e,r,n,i){t.pu=(p,v,m)=>(async function(w,E,S,I){let O=E.view.ru(S);O.Cs&&(O=await rI(w.localStore,E.query,!1).then((({documents:D})=>E.view.ru(D,O))));const M=I&&I.targetChanges.get(E.targetId),L=I&&I.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(O,w.isPrimaryClient,M,L);return dI(w,E.targetId,B.au),B.snapshot})(t,p,v,m);const a=await rI(t.localStore,e,!0),o=new fH(e,a.Qs),l=o.ru(a.documents),c=Jh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);dI(t,r,f.au);const h=new dH(e,r,o);return t.Tu.set(e,h),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function yH(t,e,r){const n=ze(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!_v(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await G_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Mw(n.remoteStore,i.targetId),X_(n,i.targetId)})).catch(Sf)):(X_(n,i.targetId),await G_(n.localStore,i.targetId,!0))}async function xH(t,e){const r=ze(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Mw(r.remoteStore,n.targetId))}async function _H(t,e,r){const n=CH(t);try{const i=await(function(o,l){const c=ze(o),f=Qt.now(),h=l.reduce(((m,_)=>m.add(_.key)),at());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let _=Xo(),w=at();return c.Ns.getEntries(m,h).next((E=>{_=E,_.forEach(((S,I)=>{I.isValidDocument()||(w=w.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,_))).next((E=>{p=E;const S=[];for(const I of l){const O=kU(I,p.get(I.key).overlayedDocument);O!=null&&S.push(new Sl(I.key,O,wD(O.value.mapValue),ra.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,S,l)})).next((E=>{v=E;const S=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,E.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:ND(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new or(it)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f})(n,i.batchId,r),await t0(n,i.changes),await Cv(n.remoteStore)}catch(i){const a=Vw(i,"Failed to persist write");r.reject(a)}}async function h5(t,e){const r=ze(t);try{const n=await Nz(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Tt(o.hu,14607):i.removedDocuments.size>0&&(Tt(o.hu,42227),o.hu=!1))})),await t0(r,n,e)}catch(n){await Sf(n)}}function fI(t,e,r){const n=ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=ze(o);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&zw(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function bH(t,e,r){const n=ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new or(De.comparator);o=o.insert(a,Nn.newNoDocument(a,Ve.min()));const l=at().add(a),c=new Av(Ve.min(),new Map,new or(it),o,l);await h5(n,c),n.du=n.du.remove(a),n.Au.delete(e),qw(n)}else await G_(n.localStore,e,!1).then((()=>X_(n,e,r))).catch(Sf)}async function wH(t,e){const r=ze(t),n=e.batch.batchId;try{const i=await Dz(r.localStore,e);g5(r,n,null),p5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await t0(r,i)}catch(i){await Sf(i)}}async function EH(t,e,r){const n=ze(t);try{const i=await(function(o,l){const c=ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(Tt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);g5(n,e,r),p5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await t0(n,i)}catch(i){await Sf(i)}}function p5(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function g5(t,e,r){const n=ze(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function X_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||v5(t,n)}))}function v5(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Mw(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),qw(t))}function dI(t,e,r){for(const n of r)n instanceof c5?(t.Ru.addReference(n.key,e),AH(t,n)):n instanceof f5?(we($w,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||v5(t,n.key)):Be(19791,{wu:n})}function AH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(we($w,"New document in limbo: "+r),t.Eu.add(n),qw(t))}function qw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new De(Ht.fromString(e)),n=t.fu.next();t.Au.set(n,new hH(r)),t.du=t.du.insert(r,n),i5(t.remoteStore,new rl(to(xv(r.path)),n,"TargetPurposeLimboResolution",vv.ce))}}async function t0(t,e,r){const n=ze(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{o.push(n.pu(c,e,r).then((f=>{if((f||r)&&n.isPrimaryClient){const h=f?!f.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){i.push(f);const h=Dw.As(c.targetId,f);a.push(h)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,f){const h=ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>h.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>h.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!Tf(p))throw p;we(Nw,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=h.Ms.get(v),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(v,w)}}})(n.localStore,a))}async function SH(t,e){const r=ze(t);if(!r.currentUser.isEqual(e)){we($w,"User change. New user:",e.toKey());const n=await e5(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new xe(ue.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await t0(r,n.Ls)}}function TH(t,e){const r=ze(t),n=r.Au.get(e);if(n&&n.hu)return at().add(n.key);{let i=at();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function m5(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bH.bind(null,e),e.Pu.H_=uH.bind(null,e.eventManager),e.Pu.yu=cH.bind(null,e.eventManager),e}function CH(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EH.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Pz(this.persistence,new Iz,e.initialUser,this.serializer)}Cu(e){return new JD(Pw.mi,this.serializer)}Du(e){return new Bz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class IH extends ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Tt(this.persistence.referenceDelegate instanceof sg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new hz(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new JD((n=>sg.mi(n,r)),this.serializer)}}class Y_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=SH.bind(null,this.syncEngine),await oH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lH})()}createDatastore(e){const r=Sv(e.databaseInfo.databaseId),n=(function(a){return new Hz(a)})(e.databaseInfo);return(function(a,o,l,c){return new Kz(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new Xz(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>fI(this.syncEngine,r,0)),(function(){return aI.v()?new aI:new Vz})())}createSyncEngine(e,r){return(function(i,a,o,l,c,f,h){const p=new pH(i,a,o,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=ze(r);we(ku,"RemoteStore shutting down."),n.Ea.add(5),await e0(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Y_.provider={build:()=>new Y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="FirestoreClient";class OH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{we(ml,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(we(ml,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Vw(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function L2(t,e){t.asyncQueue.verifyOperationInProgress(),we(ml,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await e5(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await RH(t);we(ml,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>sI(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>sI(e.remoteStore,i))),t._onlineComponents=e}async function RH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ml,"Using user provided OfflineComponentProvider");try{await L2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;rf("Error using user provided cache. Falling back to memory cache: "+r),await L2(t,new ug)}}else we(ml,"Using default OfflineComponentProvider"),await L2(t,new IH(void 0));return t._offlineComponents}async function y5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ml,"Using user provided OnlineComponentProvider"),await hI(t,t._uninitializedComponentsProvider._online)):(we(ml,"Using default OnlineComponentProvider"),await hI(t,new Y_))),t._onlineComponents}function PH(t){return y5(t).then((e=>e.syncEngine))}async function cg(t){const e=await y5(t),r=e.eventManager;return r.onListen=gH.bind(null,e.syncEngine),r.onUnlisten=yH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=vH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=xH.bind(null,e.syncEngine),r}function DH(t,e,r={}){const n=new Ho;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new Gw({next:v=>{h.Nu(),o.enqueueAndForget((()=>Uw(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Hw(xv(l.path),h,{includeMetadataChanges:!0,qa:!0});return Fw(a,p)})(await cg(t),t.asyncQueue,e,r,n))),n.promise}function NH(t,e,r={}){const n=new Ho;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new Gw({next:v=>{h.Nu(),o.enqueueAndForget((()=>Uw(a,p))),v.fromCache&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Hw(l,h,{includeMetadataChanges:!0,qa:!0});return Fw(a,p)})(await cg(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firestore.googleapis.com",gI=!0;class vI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_5,this.ssl=gI}else this.host=e.host,this.ssl=e.ssl??gI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fz)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x5(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iv{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new VF;switch(n.type){case"firstParty":return new HF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=pI.get(r);n&&(we("ComponentProvider","Removing Datastore"),pI.delete(r),n.terminate())})(this),Promise.resolve()}}function MH(t,e,r,n={}){t=li(t,Iv);const i=El(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(hw(`https://${l}`),pw("Firestore",!0)),a.host!==_5&&a.host!==l&&rf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Du(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=Dn.MOCK_USER;else{f=dV(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dn(p)}t._authCredentials=new FF(new cD(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tl(this.firestore,e,this._query)}}class dr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Qh(r,dr._jsonSchema))return new dr(e,n||null,new De(Ht.fromString(r.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:kr("string",dr._jsonSchemaVersion),referencePath:kr("string")};class sl extends Tl{constructor(e,r,n){super(e,r,xv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new De(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function wr(t,e,...r){if(t=ar(t),fD("collection","path",e),t instanceof Iv){const n=Ht.fromString(e,...r);return O4(n),new sl(t,null,n)}{if(!(t instanceof dr||t instanceof sl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return O4(n),new sl(t.firestore,null,n)}}function ui(t,e,...r){if(t=ar(t),arguments.length===1&&(e=xw.newId()),fD("doc","path",e),t instanceof Iv){const n=Ht.fromString(e,...r);return I4(n),new dr(t,null,new De(n))}{if(!(t instanceof dr||t instanceof sl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return I4(n),new dr(t.firestore,t instanceof sl?t.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="AsyncQueue";class yI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r5(this,"async_queue_retry"),this._c=()=>{const n=k2();n&&we(mI,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=k2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=k2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tf(e))throw e;we(mI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",xI(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Bw.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:xI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function xI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Yo extends Iv{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new yI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yI(e),this._firestoreClient=void 0,await e}}}function kH(t,e){const r=typeof t=="object"?t:mw(),n=typeof t=="string"?t:tg,i=pv(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=XP("firestore");a&&MH(i,...a)}return i}function Ov(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LH(t),t._firestoreClient}function LH(t){const e=t._freezeSettings(),r=(function(i,a,o,l){return new oU(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,x5(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OH(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(Sn.fromBase64String(e))}catch(r){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ji(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qh(e,Ji._jsonSchema))return Ji.fromBase64String(e.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:kr("string",Ji._jsonSchemaVersion),bytes:kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:no._jsonSchemaVersion}}static fromJSON(e){if(Qh(e,no._jsonSchema))return new no(e.latitude,e.longitude)}}no._jsonSchemaVersion="firestore/geoPoint/1.0",no._jsonSchema={type:kr("string",no._jsonSchemaVersion),latitude:kr("number"),longitude:kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qh(e,io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new io(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}io._jsonSchemaVersion="firestore/vectorValue/1.0",io._jsonSchema={type:kr("string",io._jsonSchemaVersion),vectorValues:kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=/^__.*__$/;class BH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Sl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Zh(e,this.data,r,this.fieldTransforms)}}class b5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Sl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function w5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class Ww{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w5(this.Ac)&&jH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Sv(e)}Cc(e,r,n,i=!1){return new Ww({Ac:e,methodName:r,Dc:n,path:En.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pv(t){const e=t._freezeSettings(),r=Sv(t._databaseId);return new VH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function E5(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Xw("Data must be an object, but it was:",o,n);const l=A5(n,o);let c,f;if(a.merge)c=new Ci(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const v=Q_(e,p,r);if(!o.contains(v))throw new xe(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);T5(h,v)||h.push(v)}c=new Ci(h),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new BH(new ai(l),c,f)}class Dv extends Kw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dv}}function FH(t,e,r,n){const i=t.Cc(1,e,r);Xw("Data must be an object, but it was:",i,n);const a=[],o=ai.empty();Al(n,((c,f)=>{const h=Yw(e,c,r);f=ar(f);const p=i.yc(h);if(f instanceof Dv)a.push(h);else{const v=r0(f,p);v!=null&&(a.push(h),o.set(h,v))}}));const l=new Ci(a);return new b5(o,l,i.fieldTransforms)}function UH(t,e,r,n,i,a){const o=t.Cc(1,e,r),l=[Q_(e,n,r)],c=[i];if(a.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(Q_(e,a[v])),c.push(a[v+1]);const f=[],h=ai.empty();for(let v=l.length-1;v>=0;--v)if(!T5(f,l[v])){const m=l[v];let _=c[v];_=ar(_);const w=o.yc(m);if(_ instanceof Dv)f.push(m);else{const E=r0(_,w);E!=null&&(f.push(m),h.set(m,E))}}const p=new Ci(f);return new b5(h,p,o.fieldTransforms)}function zH(t,e,r,n=!1){return r0(r,t.Cc(n?4:3,e))}function r0(t,e){if(S5(t=ar(t)))return Xw("Unsupported field value:",e,t),A5(t,e);if(t instanceof Kw)return(function(n,i){if(!w5(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let c=r0(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=ar(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Qt.fromDate(n);return{timestampValue:og(i.serializer,a)}}if(n instanceof Qt){const a=new Qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:og(i.serializer,a)}}if(n instanceof no)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ji)return{bytesValue:qD(i.serializer,n._byteString)};if(n instanceof dr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ow(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof io)return(function(o,l){return{mapValue:{fields:{[_D]:{stringValue:bD},[rg]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return Sw(l.serializer,f)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${gv(n)}`)})(t,e)}function A5(t,e){const r={};return pD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,((n,i)=>{const a=r0(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function S5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof no||t instanceof Ji||t instanceof dr||t instanceof Kw||t instanceof io)}function Xw(t,e,r){if(!S5(r)||!dD(r)){const n=gv(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Q_(t,e,r){if((e=ar(e))instanceof Rv)return e._internalPath;if(typeof e=="string")return Yw(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,r)}const HH=new RegExp("[~\\*/\\[\\]]");function Yw(t,e,r){if(e.search(HH)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Rv(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fg(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new xe(ue.INVALID_ARGUMENT,l+t+c)}function T5(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $H(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $H extends C5{data(){return super.data()}}function Qw(t,e){return typeof e=="string"?Yw(t,e):e instanceof Rv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}class O5 extends Zw{}function Ii(t,e,...r){let n=[];e instanceof Zw&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof eE)).length,l=a.filter((c=>c instanceof Jw)).length;if(o>1||o>0&&l>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Jw extends O5{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Jw(e,r,n)}_apply(e){const r=this._parse(e);return R5(e._query,r),new Tl(e.firestore,e.converter,F_(e._query,r))}_parse(e){const r=Pv(e.firestore);return(function(a,o,l,c,f,h,p){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wI(p,h);const _=[];for(const w of p)_.push(bI(c,a,w));v={arrayValue:{values:_}}}else v=bI(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wI(p,h),v=zH(l,o,p,h==="in"||h==="not-in");return Mr.create(f,h,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class eE extends Zw{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new eE(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ia.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)R5(o,c),o=F_(o,c)})(e._query,r),new Tl(e.firestore,e.converter,F_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tE extends O5{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new tE(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nh(a,o)})(e._query,this._field,this._direction);return new Tl(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Cf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function lo(t,e="asc"){const r=e,n=Qw("orderBy",t);return tE._create(n,r)}function bI(t,e,r){if(typeof(r=ar(r))=="string"){if(r==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OD(e)&&r.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ht.fromString(r));if(!De.isDocumentKey(n))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return j4(t,new De(n))}if(r instanceof dr)return j4(t,r._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gv(r)}.`)}function wI(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R5(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class qH{convertValue(e,r="none"){switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Al(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[rg].arrayValue?.values?.map((n=>br(n.doubleValue)));return new io(r)}convertGeoPoint(e){return new no(br(e.latitude),br(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=yv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const r=hl(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ht.fromString(e);Tt(QD(n),9688,{name:e});const i=new Ph(n.get(1),n.get(3)),a=new De(n.popFirst(5));return i.isEqual(r)||Wo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class dh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends C5{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new V1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Qw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Au._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Au._jsonSchemaVersion="firestore/documentSnapshot/1.0",Au._jsonSchema={type:kr("string",Au._jsonSchemaVersion),bundleSource:kr("string","DocumentSnapshot"),bundleName:kr("string"),bundle:kr("string")};class V1 extends Au{data(e={}){return super.data(e)}}class Su{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new dh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new V1(this._firestore,this._userDataWriter,n.key,n,new dh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new V1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new V1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:GH(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){t=li(t,dr);const e=li(t.firestore,Yo);return DH(Ov(e),t._key).then((r=>D5(e,t,r)))}Su._jsonSchemaVersion="firestore/querySnapshot/1.0",Su._jsonSchema={type:kr("string",Su._jsonSchemaVersion),bundleSource:kr("string","QuerySnapshot"),bundleName:kr("string"),bundle:kr("string")};class rE extends qH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,r)}}function Lu(t){t=li(t,Tl);const e=li(t.firestore,Yo),r=Ov(e),n=new rE(e);return I5(t._query),NH(r,t._query).then((i=>new Su(e,n,t,i)))}function WH(t,e,r){t=li(t,dr);const n=li(t.firestore,Yo),i=P5(t.converter,e);return Nv(n,[E5(Pv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ra.none())])}function Of(t,e,r,...n){t=li(t,dr);const i=li(t.firestore,Yo),a=Pv(i);let o;return o=typeof(e=ar(e))=="string"||e instanceof Rv?UH(a,"updateDoc",t._key,e,r,n):FH(a,"updateDoc",t._key,e),Nv(i,[o.toMutation(t._key,ra.exists(!0))])}function ju(t){return Nv(li(t.firestore,Yo),[new Tw(t._key,ra.none())])}function Rf(t,e){const r=li(t.firestore,Yo),n=ui(t),i=P5(t.converter,e);return Nv(r,[E5(Pv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ra.exists(!1))]).then((()=>n))}function Pf(t,...e){t=ar(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||_I(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(_I(e[n])){const c=e[n];e[n]=c.next?.bind(c),e[n+1]=c.error?.bind(c),e[n+2]=c.complete?.bind(c)}let a,o,l;if(t instanceof dr)o=li(t.firestore,Yo),l=xv(t._key.path),a={next:c=>{e[n]&&e[n](D5(o,t,c))},error:e[n+1],complete:e[n+2]};else{const c=li(t,Tl);o=li(c.firestore,Yo),l=c._query;const f=new rE(o);a={next:h=>{e[n]&&e[n](new Su(o,f,c,h))},error:e[n+1],complete:e[n+2]},I5(t._query)}return(function(f,h,p,v){const m=new Gw(v),_=new Hw(h,m,p);return f.asyncQueue.enqueueAndForget((async()=>Fw(await cg(f),_))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>Uw(await cg(f),_)))}})(Ov(o),l,i,a)}function Nv(t,e){return(function(n,i){const a=new Ho;return n.asyncQueue.enqueueAndForget((async()=>_H(await PH(n),i,a))),a.promise})(Ov(t),e)}function D5(t,e,r){const n=r.docs.get(e._key),i=new rE(t);return new Au(t,i,e._key,n,new dh(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Af=i})(Ef),Nu(new fl("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Yo(new UF(n.getProvider("auth-internal")),new $F(o,n.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(f.options.projectId,h)})(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),eo(A4,S4,e),eo(A4,S4,"esm2020")})();var XH="firebase",YH="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(XH,YH,"app");function N5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QH=N5,M5=new Xh("auth","Firebase",N5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new gw("@firebase/auth");function ZH(t,...e){dg.logLevel<=nt.WARN&&dg.warn(`Auth (${Ef}): ${t}`,...e)}function F1(t,...e){dg.logLevel<=nt.ERROR&&dg.error(`Auth (${Ef}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw iE(t,...e)}function Ca(t,...e){return iE(t,...e)}function nE(t,e,r){const n={...QH(),[e]:r};return new Xh("auth","Firebase",n).create(e,{appName:t.name})}function $o(t){return nE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JH(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ia(t,"argument-error"),nE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return M5.create(t,...e)}function je(t,e,...r){if(!t)throw iE(e,...r)}function Vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw F1(e),new Error(e)}function Qo(t,e){t||Vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return typeof self<"u"&&self.location?.href||""}function e$(){return EI()==="http:"||EI()==="https:"}function EI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e$()||yV()||"connection"in navigator)?navigator.onLine:!0}function r$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qo(r>e,"Short delay should be less than long delay!"),this.isMobile=gV()||xV()}get(){return t$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e){Qo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a$=new n0(3e4,6e4);function Cl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rs(t,e,r,n,i={}){return L5(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=Yh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return mV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&El(t.emulatorConfig.host)&&(f.credentials="include"),k5.fetch()(await j5(t,t.config.apiHost,r,l),f)})}async function L5(t,e,r){t._canInitEmulator=!1;const n={...n$,...e};try{const i=new s$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw l1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw l1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw l1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw l1(t,"user-disabled",o);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw nE(t,h,f);ia(t,h)}}catch(i){if(i instanceof po)throw i;ia(t,"network-request-failed",{message:String(i)})}}async function i0(t,e,r,n,i={}){const a=await rs(t,e,r,n,i);return"mfaPendingCredential"in a&&ia(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function j5(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?aE(t.config,i):`${t.config.apiScheme}://${i}`;return i$.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function o$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ca(this.auth,"network-request-failed")),a$.get())})}}function l1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ca(t,e,n);return i.customData._tokenResponse=r,i}function AI(t){return t!==void 0&&t.enterprise!==void 0}class l${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return o$(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u$(t,e){return rs(t,"GET","/v2/recaptchaConfig",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function hg(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f$(t,e=!1){const r=ar(t),n=await r.getIdToken(e),i=oE(n);je(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:Ah(j2(i.auth_time)),issuedAtTime:Ah(j2(i.iat)),expirationTime:Ah(j2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function j2(t){return Number(t)*1e3}function oE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return F1("JWT malformed, contained fewer than 3 sections"),null;try{const i=KP(r);return i?JSON.parse(i):(F1("Failed to decode base64 JWT payload"),null)}catch(i){return F1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SI(t){const e=oE(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof po&&d$(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function d$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){const e=t.auth,r=await t.getIdToken(),n=await uf(t,hg(e,{idToken:r}));je(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?B5(i.providerUserInfo):[],o=g$(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new J_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function p$(t){const e=ar(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g$(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function B5(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e){const r=await L5(t,{},async()=>{const n=Yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await j5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&El(t.emulatorConfig.host)&&(c.credentials="include"),k5.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function m$(t,e){return rs(t,"POST","/v2/accounts:revokeToken",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){je(e.length!==0,"internal-error");const r=SI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await v$(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Yc;return n&&(je(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(je(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ta{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new h$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new J_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await uf(this,this.stsTokenManager.getToken(this.auth,e));return je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return f$(this,e)}reload(){return p$(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ta({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await pg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject($o(this.auth));const e=await this.getIdToken();return await uf(this,c$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,f=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:_,stsTokenManager:w}=r;je(p&&w,e,"internal-error");const E=Yc.fromJSON(this.name,w);je(typeof p=="string",e,"internal-error"),qs(n,e.name),qs(i,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof m=="boolean",e,"internal-error"),qs(a,e.name),qs(o,e.name),qs(l,e.name),qs(c,e.name),qs(f,e.name),qs(h,e.name);const S=new Ta({uid:p,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:h});return _&&Array.isArray(_)&&(S.providerData=_.map(I=>({...I}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Yc;i.updateFromServerResponse(r);const a=new Ta({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await pg(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?B5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new Yc;l.updateFromIdToken(n);const c=new Ta({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new J_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Map;function Fo(t){Qo(t instanceof Function,"Expected a class definition");let e=TI.get(t);return e?(Qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}V5.type="NONE";const CI=V5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e,r){return`firebase:${t}:${e}:${r}`}class Qc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=U1(this.userKey,i.apiKey,a),this.fullPersistenceKey=U1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await hg(this.auth,{idToken:e}).catch(()=>{});return r?Ta._fromGetAccountInfoResponse(this.auth,r,e):null}return Ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Qc(Fo(CI),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Fo(CI);const o=U1(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const v=await hg(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Ta._fromGetAccountInfoResponse(e,v,h)}else p=Ta._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Qc(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Qc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q5(e))return"Blackberry";if(G5(e))return"Webos";if(U5(e))return"Safari";if((e.includes("chrome/")||z5(e))&&!e.includes("edge/"))return"Chrome";if($5(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function F5(t=jn()){return/firefox\//i.test(t)}function U5(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z5(t=jn()){return/crios\//i.test(t)}function H5(t=jn()){return/iemobile/i.test(t)}function $5(t=jn()){return/android/i.test(t)}function q5(t=jn()){return/blackberry/i.test(t)}function G5(t=jn()){return/webos/i.test(t)}function sE(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y$(t=jn()){return sE(t)&&!!window.navigator?.standalone}function x$(){return _V()&&document.documentMode===10}function K5(t=jn()){return sE(t)||$5(t)||G5(t)||q5(t)||/windows phone/i.test(t)||H5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e=[]){let r;switch(t){case"Browser":r=II(jn());break;case"Worker":r=`${II(jn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ef}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$(t,e={}){return rs(t,"GET","/v2/passwordPolicy",Cl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=6;class E${constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??w$,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OI(this),this.idTokenSubscription=new OI(this),this.beforeStateQueue=new _$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fo(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hg(this,{idToken:e}),n=await Ta._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject($o(this));const r=e?ar(e):null;return r&&je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject($o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject($o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b$(this),r=new E$(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await m$(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fo(e)||this._popupRedirectResolver;je(r,this,"argument-error"),this.redirectPersistenceManager=await Qc.create(this,[Fo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZH(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Il(t){return ar(t)}class OI{constructor(e){this.auth=e,this.observer=null,this.addObserver=IV(r=>this.observer=r)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S$(t){Mv=t}function X5(t){return Mv.loadJS(t)}function T$(){return Mv.recaptchaEnterpriseScript}function C$(){return Mv.gapiScript}function I$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class O${constructor(){this.enterprise=new R$}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class R${ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const P$="recaptcha-enterprise",Y5="NO_RECAPTCHA";class D${constructor(e){this.type=P$,this.auth=Il(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{u$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new l$(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;AI(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(Y5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O$().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&AI(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=T$();c.length!==0&&(c+=l),X5(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function RI(t,e,r,n=!1,i=!1){const a=new D$(t);let o;if(i)o=Y5;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function eb(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await RI(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await RI(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e){const r=pv(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Du(a,e??{}))return i;ia(i,"already-initialized")}return r.initialize({options:e})}function M$(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Fo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function k$(t,e,r){const n=Il(t);je(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=Q5(e),{host:o,port:l}=L$(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){je(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),je(Du(f,n.config.emulator)&&Du(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,El(o)?(hw(`${a}//${o}${c}`),pw("Auth",!0)):j$()}function Q5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L$(t){const e=Q5(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:PI(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:PI(o)}}}function PI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j$(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,r){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}}async function B$(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e){return i0(t,"POST","/v1/accounts:signInWithPassword",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e){return i0(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}async function U$(t,e){return i0(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends lE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Lh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Lh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,r,"signInWithPassword",V$);case"emailLink":return F$(e,{email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,n,"signUpPassword",B$);case"emailLink":return U$(e,{idToken:r,email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e){return i0(t,"POST","/v1/accounts:signInWithIdp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="http://localhost";class Bu extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ia("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Bu(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Zc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Zc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Zc(e,r)}buildRequest(){const e={requestUri:z$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Yh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $$(t){const e=sh(lh(t)).link,r=e?sh(lh(e)).deep_link_id:null,n=sh(lh(t)).deep_link_id;return(n?sh(lh(n)).link:null)||n||r||e||t}class uE{constructor(e){const r=sh(lh(e)),n=r.apiKey??null,i=r.oobCode??null,a=H$(r.mode??null);je(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=$$(e);try{return new uE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.providerId=Df.PROVIDER_ID}static credential(e,r){return Lh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=uE.parseLink(r);return je(n,"argument-error"),Lh._fromEmailAndCode(e,n.code,n.tenantId)}}Df.PROVIDER_ID="password";Df.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Df.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends a0{constructor(){super("facebook.com")}static credential(e){return Bu._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends a0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bu._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Lo.credential(r,n)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends a0{constructor(){super("github.com")}static credential(e){return Bu._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends a0{constructor(){super("twitter.com")}static credential(e,r){return Bu._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return el.credential(r,n)}catch{return null}}}el.TWITTER_SIGN_IN_METHOD="twitter.com";el.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e){return i0(t,"POST","/v1/accounts:signUp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ta._fromIdTokenResponse(e,n,i),o=DI(n);return new Vu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=DI(n);return new Vu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function DI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends po{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new gg(e,r,n,i)}}function Z5(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,a,e,n):a})}async function G$(t,e,r=!1){const n=await uf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Vu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e,r=!1){const{auth:n}=t;if(ii(n.app))return Promise.reject($o(n));const i="reauthenticate";try{const a=await uf(t,Z5(n,i,e,t),r);je(a.idToken,n,"internal-error");const o=oE(a.idToken);je(o,n,"internal-error");const{sub:l}=o;return je(t.uid===l,n,"user-mismatch"),Vu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ia(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e,r=!1){if(ii(t.app))return Promise.reject($o(t));const n="signIn",i=await Z5(t,n,e),a=await Vu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function W$(t,e){return J5(Il(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t){const e=Il(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X$(t,e,r){if(ii(t.app))return Promise.reject($o(t));const n=Il(t),o=await eb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q$).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&eN(t),c}),l=await Vu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function Y$(t,e,r){return ii(t.app)?Promise.reject($o(t)):W$(ar(t),Df.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&eN(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e){return rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ar(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await uf(n,Q$(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function J$(t,e,r,n){return ar(t).onIdTokenChanged(e,r,n)}function eq(t,e,r){return ar(t).beforeAuthStateChanged(e,r)}function tq(t,e,r,n){return ar(t).onAuthStateChanged(e,r,n)}function rq(t){return ar(t).signOut()}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=1e3,iq=10;class rN extends tN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);x$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iq):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},nq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}rN.type="LOCAL";const aq=rN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends tN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}nN.type="SESSION";const iN=nN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new kv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async f=>f(r.origin,a)),c=await oq(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=fE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function lq(t){ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function uq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cq(){return navigator?.serviceWorker?.controller||null}function fq(){return aN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebaseLocalStorageDb",dq=1,mg="firebaseLocalStorage",sN="fbase_key";class o0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Lv(t,e){return t.transaction([mg],e?"readwrite":"readonly").objectStore(mg)}function hq(){const t=indexedDB.deleteDatabase(oN);return new o0(t).toPromise()}function tb(){const t=indexedDB.open(oN,dq);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(mg,{keyPath:sN})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(mg)?e(n):(n.close(),await hq(),e(await tb()))})})}async function NI(t,e,r){const n=Lv(t,!0).put({[sN]:e,value:r});return new o0(n).toPromise()}async function pq(t,e){const r=Lv(t,!1).get(e),n=await new o0(r).toPromise();return n===void 0?null:n.value}function MI(t,e){const r=Lv(t,!0).delete(e);return new o0(r).toPromise()}const gq=800,vq=3;class lN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>vq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kv._getInstance(fq()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uq(),!this.activeServiceWorker)return;this.sender=new sq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tb();return await NI(e,vg,"1"),await MI(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>NI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>pq(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>MI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Lv(i,!1).getAll();return new o0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lN.type="LOCAL";const mq=lN;new n0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e){return e?Fo(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Zc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yq(t){return J5(t.auth,new dE(t),t.bypassAuthState)}function xq(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),K$(r,new dE(t),t.bypassAuthState)}async function _q(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),G$(r,new dE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yq;case"linkViaPopup":case"linkViaRedirect":return _q;case"reauthViaPopup":case"reauthViaRedirect":return xq;default:ia(this.auth,"internal-error")}}resolve(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=new n0(2e3,1e4);async function wq(t,e,r){if(ii(t.app))return Promise.reject(Ca(t,"operation-not-supported-in-this-environment"));const n=Il(t);JH(t,e,cE);const i=uN(n,r);return new yu(n,"signInViaPopup",e,i).executeNotNull()}class yu extends cN{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,yu.currentPopupAction&&yu.currentPopupAction.cancel(),yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Qo(this.filter.length===1,"Popup operations only handle one event");const e=fE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ca(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ca(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bq.get())};e()}}yu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="pendingRedirect",z1=new Map;class Aq extends cN{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=z1.get(this.auth._key());if(!e){try{const n=await Sq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}z1.set(this.auth._key(),e)}return this.bypassAuthState||z1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sq(t,e){const r=Iq(e),n=Cq(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Tq(t,e){z1.set(t._key(),e)}function Cq(t){return Fo(t._redirectPersistence)}function Iq(t){return U1(Eq,t.config.apiKey,t.name)}async function Oq(t,e,r=!1){if(ii(t.app))return Promise.reject($o(t));const n=Il(t),i=uN(n,e),o=await new Aq(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=600*1e3;class Pq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!fN(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ca(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rq&&this.cachedEventUids.clear(),this.cachedEventUids.has(kI(e))}saveEventToCache(e){this.cachedEventUids.add(kI(e)),this.lastProcessedEventTime=Date.now()}}function kI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Dq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nq(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kq=/^https?/;async function Lq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nq(t);for(const r of e)try{if(jq(r))return}catch{}ia(t,"unauthorized-domain")}function jq(t){const e=Z_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!kq.test(r))return!1;if(Mq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new n0(3e4,6e4);function LI(){const t=ao().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Vq(t){return new Promise((e,r)=>{function n(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),r(Ca(t,"network-request-failed"))},timeout:Bq.get()})}if(ao().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ao().gapi?.load)n();else{const i=I$("iframefcb");return ao()[i]=()=>{gapi.load?n():r(Ca(t,"network-request-failed"))},X5(`${C$()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw H1=null,e})}let H1=null;function Fq(t){return H1=H1||Vq(t),H1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=new n0(5e3,15e3),zq="__/auth/iframe",Hq="emulator/auth/iframe",$q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gq(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?aE(e,Hq):`https://${t.config.authDomain}/${zq}`,n={apiKey:e.apiKey,appName:t.name,v:Ef},i=qq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Yh(n).slice(1)}`}async function Kq(t){const e=await Fq(t),r=ao().gapi;return je(r,t,"internal-error"),e.open({where:document.body,url:Gq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$q,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ca(t,"network-request-failed"),l=ao().setTimeout(()=>{a(o)},Uq.get());function c(){ao().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xq=500,Yq=600,Qq="_blank",Zq="http://localhost";class jI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jq(t,e,r,n=Xq,i=Yq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Wq,width:n.toString(),height:i.toString(),top:a,left:o},f=jn().toLowerCase();r&&(l=z5(f)?Qq:r),F5(f)&&(e=e||Zq,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[m,_])=>`${v}${m}=${_},`,"");if(y$(f)&&l!=="_self")return eG(e||"",l),new jI(null);const p=window.open(e||"",l,h);je(p,t,"popup-blocked");try{p.focus()}catch{}return new jI(p)}function eG(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="__/auth/handler",rG="emulator/auth/handler",nG=encodeURIComponent("fac");async function BI(t,e,r,n,i,a){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ef,eventId:i};if(e instanceof cE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof a0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${nG}=${encodeURIComponent(c)}`:"";return`${iG(t)}?${Yh(l).slice(1)}${f}`}function iG({config:t}){return t.emulator?aE(t,rG):`https://${t.authDomain}/${tG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="webStorageSupport";class aG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iN,this._completeRedirectFn=Oq,this._overrideRedirectResult=Tq}async _openPopup(e,r,n,i){Qo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await BI(e,r,n,Z_(),i);return Jq(e,a,fE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await BI(e,r,n,Z_(),i);return lq(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Qo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Kq(e),n=new Pq(e);return r.register("authEvent",i=>(je(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(B2,{type:B2},i=>{const a=i?.[0]?.[B2];a!==void 0&&r(!!a),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Lq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return K5()||U5()||sE()}}const oG=aG;var VI="@firebase/auth",FI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uG(t){Nu(new fl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W5(t)},f=new A$(n,i,a,c);return M$(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Nu(new fl("auth-internal",e=>{const r=Il(e.getProvider("auth").getImmediate());return(n=>new sG(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(VI,FI,lG(t)),eo(VI,FI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=300,fG=QP("authIdTokenMaxAge")||cG;let UI=null;const dG=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>fG)return;const i=r?.token;UI!==i&&(UI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hG(t=mw()){const e=pv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=N$(t,{popupRedirectResolver:oG,persistence:[mq,aq,iN]}),n=QP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=dG(a.toString());eq(r,o,()=>o(r.currentUser)),J$(r,l=>o(l))}}const i=WP("auth");return i&&k$(r,`http://${i}`),r}function pG(){return document.getElementsByTagName("head")?.[0]??document}S$({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ca("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",pG().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uG("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="type.googleapis.com/google.protobuf.Int64Value",vG="type.googleapis.com/google.protobuf.UInt64Value";function dN(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function yg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>yg(e));if(typeof t=="function"||typeof t=="object")return dN(t,e=>yg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function cf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case gG:case vG:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>cf(e)):typeof t=="function"||typeof t=="object"?dN(t,e=>cf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gn extends po{constructor(e,r,n){super(`${hE}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,Gn.prototype)}}function mG(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xg(t,e){let r=mG(t),n=r,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!zI[o])return new Gn("internal","internal");r=zI[o],n=o}const l=a.message;typeof l=="string"&&(n=l),i=a.details,i!==void 0&&(i=cf(i))}}catch{}return r==="ok"?null:new Gn(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ii(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="us-central1",xG=/^data: (.*?)(?:\n|$)/;function _G(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new Gn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class bG{constructor(e,r,n,i,a=rb,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new yG(e,r,n,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=rb}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function wG(t,e,r){const n=El(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(hw(t.emulatorOrigin+"/backends"),pw("Functions",!0))}function EG(t,e,r){const n=i=>SG(t,e,i,r||{});return n.stream=(i,a)=>CG(t,e,i,a),n}function hN(t){return t.emulatorOrigin&&El(t.emulatorOrigin)?"include":void 0}async function AG(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:hN(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function pN(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function SG(t,e,r,n){const i=t._url(e);return TG(t,i,r,n)}async function TG(t,e,r,n){r=yg(r);const i={data:r},a=await pN(t,n),o=n.timeout||7e4,l=_G(o),c=await Promise.race([AG(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new Gn("cancelled","Firebase Functions instance was deleted.");const f=xg(c.status,c.json);if(f)throw f;if(!c.json)throw new Gn("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new Gn("internal","Response is missing data field.");return{data:cf(h)}}function CG(t,e,r,n){const i=t._url(e);return IG(t,i,r,n||{})}async function IG(t,e,r,n){r=yg(r);const i={data:r},a=await pN(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:hN(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const _=new Gn("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}const m=xg(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let l,c;const f=new Promise((v,m)=>{l=v,c=m});n?.signal?.addEventListener("abort",()=>{const v=new Gn("cancelled","Request was cancelled.");c(v)});const h=o.body.getReader(),p=OG(h,l,c,n?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:m,done:_}=await v.read();return{value:m,done:_}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function OG(t,e,r,n){const i=(o,l)=>{const c=o.match(xG);if(!c)return;const f=c[1];try{const h=JSON.parse(f);if("result"in h){e(cf(h.result));return}if("message"in h){l.enqueue(cf(h.message));return}if("error"in h){const p=xg(0,h);l.error(p),r(p);return}}catch(h){if(h instanceof Gn){l.error(h),r(h);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return c();async function c(){if(n?.aborted){const f=new Gn("cancelled","Request was cancelled");return o.error(f),r(f),Promise.resolve()}try{const{value:f,done:h}=await t.read();if(h){l.trim()&&i(l.trim(),o),o.close();return}if(n?.aborted){const v=new Gn("cancelled","Request was cancelled");o.error(v),r(v),await t.cancel();return}l+=a.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return c()}catch(f){const h=f instanceof Gn?f:xg(0,null);o.error(h),r(h)}}},cancel(){return t.cancel()}})}const HI="@firebase/functions",$I="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="auth-internal",PG="app-check-internal",DG="messaging-internal";function NG(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(RG),o=r.getProvider(DG),l=r.getProvider(PG);return new bG(i,a,o,l,n)};Nu(new fl(hE,e,"PUBLIC").setMultipleInstances(!0)),eo(HI,$I,t),eo(HI,$I,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t=mw(),e=rb){const n=pv(ar(t),hE).getImmediate({identifier:e}),i=XP("functions");return i&&vN(n,...i),n}function vN(t,e,r){wG(ar(t),e,r)}function MG(t,e,r){return EG(ar(t),e,r)}NG();const kG=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:Gn,connectFunctionsEmulator:vN,getFunctions:gN,httpsCallable:MG},Symbol.toStringTag,{value:"Module"})),LG={apiKey:"AIzaSyDD5WN0iA3VjU0z8QDPYA_2008D0IHYv3E",authDomain:"osikko-paradice.firebaseapp.com",projectId:"osikko-paradice",storageBucket:"osikko-paradice.firebasestorage.app",messagingSenderId:"721996967143",appId:"1:721996967143:web:2add41591fe236c7c28642"},pE=eD(LG),Et=hG(pE),dt=kH(pE),jG=gN(pE),BG=Object.freeze(Object.defineProperty({__proto__:null,auth:Et,db:dt,functions:jG},Symbol.toStringTag,{value:"Module"})),At={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},St=(t,e)=>`users/${t}/${e}`,Wd={getAll:async t=>{const e=Ii(wr(dt,St(t,At.INTAKES)),lo("createdAt","desc"));return(await Lu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Rf(wr(dt,St(t,At.INTAKES)),e)).id,update:async(t,e,r)=>{const n=ui(dt,St(t,At.INTAKES),e);await Of(n,r)},delete:async(t,e)=>{const r=ui(dt,St(t,At.INTAKES),e);await ju(r)},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.INTAKES)),lo("createdAt","desc"));return Pf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},V2={getAll:async t=>{const e=Ii(wr(dt,St(t,At.EXPENSES)),lo("createdAt","desc"));return(await Lu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Rf(wr(dt,St(t,At.EXPENSES)),e)).id,update:async(t,e,r)=>{const n=ui(dt,St(t,At.EXPENSES),e);await Of(n,r)},delete:async(t,e)=>{const r=ui(dt,St(t,At.EXPENSES),e);await ju(r)},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.EXPENSES)),lo("createdAt","desc"));return Pf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},u1={getAll:async t=>{const e=Ii(wr(dt,St(t,At.STOCKS)),lo("createdAt","desc"));return(await Lu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Rf(wr(dt,St(t,At.STOCKS)),e)).id,update:async(t,e,r)=>{const n=ui(dt,St(t,At.STOCKS),e);await Of(n,r)},delete:async(t,e)=>{const r=ui(dt,St(t,At.STOCKS),e);await ju(r)},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.STOCKS)),lo("createdAt","desc"));return Pf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Xd={getAll:async t=>{const e=Ii(wr(dt,St(t,At.SHOPPING)),lo("createdAt","desc"));return(await Lu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Rf(wr(dt,St(t,At.SHOPPING)),e)).id,update:async(t,e,r)=>{const n=ui(dt,St(t,At.SHOPPING),e);await Of(n,r)},delete:async(t,e)=>{const r=ui(dt,St(t,At.SHOPPING),e);await ju(r)},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.SHOPPING)),lo("createdAt","desc"));return Pf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},c1={getAll:async t=>{const e=Ii(wr(dt,St(t,At.RECIPES)),lo("createdAt","desc"));return(await Lu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Rf(wr(dt,St(t,At.RECIPES)),e)).id,update:async(t,e,r)=>{const n=ui(dt,St(t,At.RECIPES),e);await Of(n,r)},delete:async(t,e)=>{const r=ui(dt,St(t,At.RECIPES),e);await ju(r)},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.RECIPES)),lo("createdAt","desc"));return Pf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},f1={get:async t=>{const e=Ii(wr(dt,St(t,At.SETTINGS))),r=await Lu(e);return r.empty?null:r.docs[0].data()},set:async(t,e)=>{const r=Ii(wr(dt,St(t,At.SETTINGS))),n=await Lu(r);if(n.empty)return(await Rf(wr(dt,St(t,At.SETTINGS)),e)).id;{const i=ui(dt,St(t,At.SETTINGS),n.docs[0].id);return await Of(i,e),n.docs[0].id}},subscribe:(t,e)=>{const r=Ii(wr(dt,St(t,At.SETTINGS)));return Pf(r,n=>{if(n.empty)e(null);else{const i=n.docs[0].data();e(i)}})}},ns=wf((t,e)=>({intakes:Pu(st.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:r=>t({intakes:r}),setLoading:r=>t({loading:r}),setInitialized:r=>t({initialized:r}),addIntake:async r=>{const n=Et.currentUser,i={id:nl(),...r,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Vt(st.INTAKES,o),{intakes:o}}),n)try{await Wd.add(n.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(r,n)=>{const i=Et.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(c=>c.id===r?{...c,...a}:c);return Vt(st.INTAKES,l),{intakes:l}}),i)try{await Wd.update(i.uid,r,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==r);return Vt(st.INTAKES,a),{intakes:a}}),n)try{await Wd.delete(n.uid,r)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:r=>e().intakes.filter(i=>i.date.startsWith(r)),getTotalCaloriesByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${r.uid}`);const n=await Wd.getAll(r.uid);console.log(`[IntakeStore] Loaded ${n.length} intakes from Firestore`),t({intakes:n,loading:!1,initialized:!0}),Vt(st.INTAKES,n)}catch(n){console.error("Failed to sync intakes with Firestore:",n),t({loading:!1})}},subscribeToFirestore:()=>{const r=Et.currentUser;if(!r)return;const n=e().unsubscribe;n&&n(),console.log(`[IntakeStore] Starting realtime sync for user: ${r.uid}`);const i=Wd.subscribe(r.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),Vt(st.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const r=e().unsubscribe;r&&(console.log("[IntakeStore] Stopping realtime sync"),r(),t({unsubscribe:null}))}})),is=wf((t,e)=>({expenses:Pu(st.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:r=>t({expenses:r}),addExpense:async r=>{const n=Et.currentUser,i={id:nl(),...r,date:r.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Vt(st.EXPENSES,o),{expenses:o}}),n)try{await V2.add(n.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==r);return Vt(st.EXPENSES,a),{expenses:a}}),n)try{await V2.delete(n.uid,r)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(r,n)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===r&&o.getMonth()+1===n}),getTotalByMonth:(r,n)=>e().getExpensesByMonth(r,n).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(r,n,i)=>e().getExpensesByMonth(n,i).filter(o=>o.category===r).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0});const n=await V2.getAll(r.uid);t({expenses:n,loading:!1,initialized:!0}),Vt(st.EXPENSES,n)}catch(n){console.error("Failed to sync expenses with Firestore:",n),t({loading:!1})}}})),go=wf((t,e)=>({stocks:Pu(st.STOCKS,[]),loading:!1,initialized:!1,setStocks:r=>t({stocks:r}),addStock:async r=>{const n=Et.currentUser,i={id:nl(),...r,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Vt(st.STOCKS,o),{stocks:o}}),n)try{await u1.add(n.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(r,n)=>{const i=Et.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(c=>c.id===r?{...c,...a}:c);return Vt(st.STOCKS,l),{stocks:l}}),i)try{await u1.update(i.uid,r,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==r);return Vt(st.STOCKS,a),{stocks:a}}),n)try{await u1.delete(n.uid,r)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:r=>e().stocks.filter(i=>i.daysRemaining<=r),getStockIngredients:()=>e().stocks.map(n=>n.name),syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0});const n=await u1.getAll(r.uid);t({stocks:n,loading:!1,initialized:!0}),Vt(st.STOCKS,n)}catch(n){console.error("Failed to sync stocks with Firestore:",n),t({loading:!1})}}})),VG=[{name:"",quantity:1,category:"staple"},{name:"",quantity:10,category:"protein"},{name:"",quantity:1,category:"dairy"},{name:"",quantity:1,category:"staple"},{name:"",quantity:1,category:"protein"},{name:"",quantity:1,category:"protein"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:1,category:"fruit"},{name:"",quantity:1,category:"dairy"},{name:"",quantity:1,category:"seasoning"},{name:"",quantity:1,category:"seasoning"}],Wu=wf((t,e)=>({items:Pu(st.SHOPPING,[]),loading:!1,initialized:!1,setItems:r=>t({items:r}),addItem:async r=>{const n=Et.currentUser;if(e().items.find(o=>o.name===r.name&&!o.checked))return;const a={id:nl(),...r,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return Vt(st.SHOPPING,l),{items:l}}),n)try{await Xd.add(n.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===r?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Vt(st.SHOPPING,a),{items:a}}),n)try{const i=e().items.find(a=>a.id===r);i&&await Xd.update(n.uid,r,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==r);return Vt(st.SHOPPING,a),{items:a}}),n)try{await Xd.delete(n.uid,r)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const r=Et.currentUser,n=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Vt(st.SHOPPING,a),{items:a}}),r)try{await Promise.all(n.map(i=>Xd.delete(r.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(r=>{const n=r.items,i=[...n];return VG.forEach(a=>{n.find(l=>l.name===a.name&&!l.checked)||i.push({id:nl(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Vt(st.SHOPPING,i),{items:i}})},addLowStockItems:r=>{t(n=>{const i=n.items,a=[...i];return r.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:nl(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Vt(st.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0});const n=await Xd.getAll(r.uid);t({items:n,loading:!1,initialized:!0}),Vt(st.SHOPPING,n)}catch(n){console.error("Failed to sync shopping items with Firestore:",n),t({loading:!1})}}})),FG=10,s0=wf((t,e)=>({recipeHistory:Pu(st.RECIPE_HISTORY,[]),favoriteRecipes:Pu(st.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(r,n)=>t({recipeHistory:r,favoriteRecipes:n}),addToHistory:async r=>{const n=Et.currentUser,i={id:nl(),recipe:r,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,FG);return Vt(st.RECIPE_HISTORY,o),{recipeHistory:o}}),n)try{await c1.add(n.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async r=>{const n=Et.currentUser;if(e().favoriteRecipes.find(o=>o.id===r.id))return;const a={...r,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return Vt(st.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),n)try{await c1.add(n.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async r=>{const n=Et.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==r);return Vt(st.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),n)try{await c1.delete(n.uid,r)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:r=>e().favoriteRecipes.some(i=>i.id===r),syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${r.uid}`);const i=await c1.getAll(r.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),Vt(st.RECIPE_HISTORY,a),Vt(st.FAVORITE_RECIPES,i)}catch(n){console.error("Failed to sync recipes with Firestore:",n),t({loading:!1})}}})),qI={monthlyBudget:3e4,darkMode:!1,notifications:!0,firstTime:!0},_g=wf((t,e)=>({settings:{...qI,...Pu(st.SETTINGS,qI)},loading:!1,initialized:!1,updateSettings:async r=>{const n=Et.currentUser;if(t(i=>{const a={...i.settings,...r};return Vt(st.SETTINGS,a),"darkMode"in r&&document.body.classList.toggle("dark-mode",r.darkMode),{settings:a}}),n)try{const i=e().settings;await f1.set(n.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const r=Et.currentUser,n=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:n};return Vt(st.SETTINGS,a),document.body.classList.toggle("dark-mode",n),{settings:a}}),r)try{const i=e().settings;await f1.set(r.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:r=>t(n=>{const i={...n.settings,firstTime:r};return Vt(st.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const r=Et.currentUser;if(r)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${r.uid}`);const n=await f1.get(r.uid);if(n)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:n,loading:!1,initialized:!0}),Vt(st.SETTINGS,n),document.body.classList.toggle("dark-mode",n.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await f1.set(r.uid,i),t({loading:!1,initialized:!0})}}catch(n){console.error("Failed to sync settings with Firestore:",n),t({loading:!1})}}})),UG=()=>{const{getTotalCaloriesByDate:t}=ns(),{getTotalByMonth:e}=is(),r=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),n=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return A.jsxs("div",{className:"summary-box",children:[A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:""}),A.jsxs("span",{className:"summary-value",children:[r," kcal"]})]}),A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:""}),A.jsxs("span",{className:"summary-value positive",children:["",n.toLocaleString()]})]})]})},zG=({onNavigate:t})=>{const e=[{screen:"meals",icon:A.jsx(dw,{size:32}),label:"",color:"#3b82f6"},{screen:"barcode",icon:A.jsx(fw,{size:32}),label:"",color:"#8b5cf6"},{screen:"expense",icon:A.jsx(LB,{size:32}),label:"",color:"#10b981"},{screen:"stock",icon:A.jsx(tf,{size:32}),label:"",color:"#f59e0b"},{screen:"recipe",icon:A.jsx(Q1,{size:32}),label:"AI",color:"#ef4444"},{screen:"shopping",icon:A.jsx(fv,{size:32}),label:"",color:"#06b6d4"},{screen:"report",icon:A.jsx(jB,{size:32}),label:"",color:"#6366f1"},{screen:"settings",icon:A.jsx(RB,{size:32}),label:"",color:"#64748b"},{icon:A.jsx(SB,{size:32}),label:"",color:"#ec4899",onClick:()=>window.open("https://github.com/Haradakouta/life-pwa","_blank")}],r=n=>{n.onClick?n.onClick():n.screen&&t(n.screen)};return A.jsx("div",{className:"function-grid",children:e.map((n,i)=>A.jsxs("button",{className:"function-card",style:{"--card-color":n.color},onClick:()=>r(n),children:[A.jsx("div",{className:"function-icon",style:{color:n.color},children:n.icon}),A.jsx("div",{className:"function-label",children:n.label})]},i))})},GI=({onNavigate:t})=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsx(UG,{}),A.jsx(zG,{onNavigate:t})]}),HG=()=>{const{addIntake:t}=ns(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState(""),l=()=>{if(!e||!n||!a){alert("");return}t({name:e,calories:Number(n),price:Number(a)}),r(""),i(""),o(""),alert("")};return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:""}),A.jsx("input",{value:e,onChange:c=>r(c.target.value),placeholder:": "}),A.jsx("label",{children:"(kcal)"}),A.jsx("input",{type:"number",value:n,onChange:c=>i(c.target.value),placeholder:"200"}),A.jsx("label",{children:"()"}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),A.jsx("button",{className:"submit",onClick:l,children:""})]})},$G=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:r,getTotalPriceByDate:n}=ns(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(h=>h.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=r(a),l=n(a),c=f=>{confirm("")&&e(f)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),i.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:""}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal  ",f.price]})]}),A.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Wh,{size:20})})]},f.id))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[A.jsxs("span",{children:[A.jsx("strong",{children:":"})," ",o," kcal"]}),A.jsxs("span",{children:[A.jsx("strong",{children:":"})," ",l]})]})]})]})},qG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsx(HG,{}),A.jsx($G,{})]}),GG=async(t,e)=>{try{return{user:(await Y$(Et,t,e)).user,error:null}}catch(r){return{user:null,error:r.message}}},KG=async()=>{const t=new Lo;try{return{user:(await wq(Et,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},WG=async()=>{try{return await rq(Et),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},XG=t=>tq(Et,t),mN=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!0);return C.useEffect(()=>{const i=XG(a=>{e(a),n(!1)});return()=>i()},[]),{user:t,loading:r}},YG=()=>{const{settings:t,updateSettings:e,toggleDarkMode:r}=_g(),{intakes:n}=ns(),{expenses:i}=is(),{stocks:a}=go(),{user:o}=mN(),[l,c]=C.useState((t.monthlyBudget??3e4).toString()),f=()=>{e({monthlyBudget:Number(l)}),alert("")},h=()=>{const m=[",,,,",...n.map(E=>`,${E.name},${E.calories},${E.price},${E.date}`)].join(`
`),_=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`_${new Date().toISOString().split("T")[0]}.csv`,w.click()},p=()=>{const m={intakes:n,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},_=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`_${new Date().toISOString().split("T")[0]}.json`,w.click()},v=async()=>{if(window.confirm("")){const m=await WG();m.error&&alert(": "+m.error)}};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"30000"}),A.jsxs("button",{className:"submit",onClick:f,children:[A.jsx($P,{size:18,style:{marginRight:"8px"}}),""]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(kB,{size:24})}),A.jsx("span",{className:"setting-label",children:""})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:r}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(qB,{size:24})}),A.jsx("span",{className:"setting-label",children:""})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.notifications,onChange:m=>e({notifications:m.target.checked})}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsxs("div",{style:{display:"flex",gap:"8px"},children:[A.jsxs("button",{className:"submit",onClick:h,style:{flex:1},children:[A.jsx(AB,{size:18,style:{marginRight:"8px"}}),"CSV"]}),A.jsxs("button",{className:"submit",onClick:p,style:{flex:1},children:[A.jsx(EB,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[A.jsxs("p",{children:[": ",n.length,""]}),A.jsxs("p",{children:[": ",i.length,""]}),A.jsxs("p",{children:[": ",a.length,""]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:A.jsxs("p",{children:[": ",o?.email]})}),A.jsxs("button",{className:"submit",onClick:v,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[A.jsx(OB,{size:18,style:{marginRight:"8px"}}),""]})]})]})},QG=()=>{const{addStock:t}=go(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState("1"),l=()=>{if(!e||!n){alert("");return}t({name:e,daysRemaining:Number(n),quantity:Number(a)}),r(""),i(""),o("1"),alert("")};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsx("label",{children:""}),A.jsx("input",{value:e,onChange:c=>r(c.target.value),placeholder:": "}),A.jsx("label",{children:""}),A.jsx("input",{type:"number",value:n,onChange:c=>i(c.target.value),placeholder:": 3"}),A.jsx("label",{children:""}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:l,children:""})]})},ZG=()=>{const{stocks:t,deleteStock:e}=go(),{addItem:r}=Wu(),n=l=>{confirm("")&&e(l)},i=(l,c)=>{r({name:l,quantity:c}),alert(`${l}`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"":l===1?"":`${l}`;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:""}):A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),A.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"",children:A.jsx(fv,{size:20})}),A.jsx("button",{onClick:()=>n(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"",children:A.jsx(Wh,{size:20})})]})]},l.id))})]})},JG=()=>{const{getExpiringStocks:t}=go(),{addItem:e}=Wu(),r=C.useMemo(()=>t(0),[t]),n=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...r,...n];a.length!==0&&confirm(` ${a.length}`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}`))};return r.length===0&&n.length===0?null:A.jsxs(A.Fragment,{children:[r.length>0&&A.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:" "}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>A.jsx("li",{children:a.name},a.id))})]}),n.length>0&&A.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:" "}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>A.jsx("li",{children:a.name},a.id))})]}),A.jsx("div",{className:"card",style:{padding:"12px"},children:A.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[A.jsx(fv,{size:20}),""]})})]})},eK=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsx(JG,{}),A.jsx(QG,{}),A.jsx(ZG,{})]}),tK=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=Wu(),{getExpiringStocks:r}=go(),n=()=>{t(),alert("1")},i=()=>{const a=r(2);if(a.length===0){alert("");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}`)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:" "}),A.jsx("button",{className:"submit",onClick:n,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:" 1"}),A.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:" "})]})},rK=[{keywords:["","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"",alternatives:["70%","",""]},{keywords:["","","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"WHO",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","","",""]}];function nK(t){const e=t.toLowerCase();for(const r of rK)for(const n of r.keywords)if(e.includes(n.toLowerCase()))return{type:"warning",category:r.category,reason:r.reason,alternatives:r.alternatives};return null}async function iK(t,e){try{const r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${t}3

JSON
{
  "category": "",
  "reason": "",
  "alternatives": ["1", "2", "3"]
}

 null `}]}]})});if(!r.ok)throw new Error("AI");const i=(await r.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(r){return console.error("AI:",r),null}}const aK=({productName:t,warning:e,onClose:r,onAddAlternative:n,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(!1),p=async()=>{h(!0);const _=await iK(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(_),o(!0),h(!1)},v=a&&l?l:e;return A.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:A.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[A.jsx("button",{onClick:r,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:A.jsx(dv,{size:24})}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[A.jsx(UP,{size:32,color:"#f59e0b"}),A.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:""})]}),A.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["",A.jsx("strong",{children:t}),""]})]}),A.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[A.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:[" : ",v.category]}),A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(CB,{size:20,color:"#10b981"}),""]}),A.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,_)=>A.jsxs("button",{onClick:()=>n(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:[" ",m]},_))})]}),!a&&A.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[A.jsx(C_,{size:20}),f?"AI...":"AI"]}),A.jsxs("div",{style:{display:"grid",gap:"8px"},children:[A.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:""}),A.jsx("button",{onClick:r,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:""})]})]})})},oK=()=>{const{addItem:t}=Wu(),[e,r]=C.useState(""),[n,i]=C.useState("1"),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{if(!e){alert("");return}const _=nK(e);if(_){o(_),c({name:e,quantity:Number(n)});return}h(e,Number(n))},h=(_,w)=>{t({name:_,quantity:w}),r(""),i("1")},p=()=>{o(null),c(null)},v=_=>{l&&h(_,l.quantity),p()},m=()=>{l&&h(l.name,l.quantity),p()};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),A.jsx("label",{children:""}),A.jsx("input",{value:e,onChange:_=>r(_.target.value),placeholder:": ",onKeyDown:_=>_.key==="Enter"&&f()}),A.jsx("label",{children:""}),A.jsx("input",{type:"number",value:n,onChange:_=>i(_.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:f,children:""})]}),a&&l&&A.jsx(aK,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},sK=()=>{const{items:t,toggleItem:e,deleteItem:r,clearCompleted:n}=Wu(),{addStock:i}=go(),[a,o]=C.useState(!1),l=()=>{confirm("")&&n()},c=()=>{const f=t.filter(h=>h.checked);if(f.length===0){alert("");return}confirm(` ${f.length}
7`)&&(f.forEach(h=>{i({name:h.name,quantity:h.quantity,daysRemaining:7})}),n(),o(!0),setTimeout(()=>{o(!1)},3e3))};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:""}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:""}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[A.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),A.jsx("div",{style:{flex:1},children:A.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),A.jsx("button",{onClick:()=>r(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Wh,{size:20})})]},f.id))}),t.some(f=>f.checked)&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[A.jsx(tf,{size:20}),A.jsx("span",{children:""})]}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["",A.jsx("br",{}),"7"]}),A.jsxs("button",{className:"submit",onClick:c,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsx(tf,{size:22}),"",t.filter(f=>f.checked).length,""]})]}),A.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:""})]}),a&&A.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[A.jsx(cw,{size:28}),A.jsx("span",{children:""})]})]})]})},lK=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsx(tK,{}),A.jsx(oK,{}),A.jsx(sK,{})]}),Sh="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",yN=Sh!=="YOUR_GEMINI_API_KEY_HERE";let Vc=[];function xN(t){const e=Date.now();Vc.push({type:t,timestamp:e}),Vc=Vc.filter(a=>e-a.timestamp<6e4);const r=Vc.filter(a=>a.type==="recipe").length,n=Vc.filter(a=>a.type==="receipt").length,i=Vc.length;console.log(`[API Usage] 1: ${i}`),console.log(`  - : ${r}`),console.log(`  - OCR: ${n}`),console.log(`  - : ${15-i} (Free Tier: 15/)`)}async function uK(t,e="none",r="none",n=""){if(console.log("[Gemini] API",{ingredients:t,dietaryRestriction:e,difficulty:r,customRequest:n,API_ENABLED:yN,apiKeyPrefix:Sh.substring(0,10)+"..."}),!t||t.length===0)throw new Error("");try{const i=e==="vegetarian"?"":e==="vegan"?"":"";let a="";r==="super_easy"?a=`

****: 3`:r==="under_5min"?a=`

****: 5`:r==="under_10min"?a=`

****: 10`:r==="no_fire"&&(a=`

****: `);const o=n?`

****: ${n}`:"",l=`



${i}1
${a}${o}

: ${t.join("")}



---







1.
2.
3.



---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Sh}`;xN("recipe"),console.log("[Gemini] API",{url:c.replace(Sh,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] API",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] API",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API  (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const h=await f.json();if(console.log("[Gemini] ",h),h.candidates&&h.candidates.length>0){const p=h.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] "),v.trim()}}throw console.error("[Gemini] ",h),new Error("Gemini API")}catch(i){return console.error("[Gemini] :",i),console.warn("[Gemini] "),console.info("[Gemini] API: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403: API"),fK(t,e,r)}}const cK=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result.split(",")[1];e(a)},n.onerror=r,n.readAsDataURL(t)});let KI=0;const WI=5e3;async function XI(t){console.log("[Gemini Receipt] OCR",{fileName:t.name,fileSize:t.size,API_ENABLED:yN});const e=Date.now(),r=e-KI;if(r<WI){const n=Math.ceil((WI-r)/1e3);throw new Error(`: ${n}`)}try{KI=e;const n=await cK(t),i=`



JSON
{
  "storeName": "",
  "date": "YYYY-MM-DD",
  "total": ,
  "items": [
    {
      "name": "",
      "price": ,
      "quantity": 1
    }
  ]
}

**:**
1. 
2. 
3. quantity
4. 
5. OK
6. JSON
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${Sh}`;xN("receipt"),console.log("[Gemini Receipt] API");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:n}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] API",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] API",c),o.status===429?new Error(""):new Error(`Gemini API : ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] ",l),l.candidates&&l.candidates.length>0){const c=l.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] :",f);let h=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)h=p[1];else if(f.includes("```")){const _=f.match(/```\s*([\s\S]*?)\s*```/);_&&(h=_[1])}const v=JSON.parse(h),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR",m),m}}throw new Error("")}catch(n){throw console.error("[Gemini Receipt] :",n),n}}function fK(t,e,r="none"){const n=e==="vegetarian"?"":e==="vegan"?"":"",i=r==="super_easy"?"":r==="under_5min"?"5":r==="under_10min"?"10":r==="no_fire"?"":"";return`

${t.join("")}${n}${i}


${t.map(a=>`${a} `).join(`
`)}
 
 1


1. ${t[0]||""}
2. 
3. 





 Gemini APIAI
 403API https://aistudio.google.com/app/apikey 
`.trim()}function jv(t){return Le({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const dK=({onRecipeGenerated:t,isLoading:e,setIsLoading:r})=>{const{stocks:n}=go(),{addToHistory:i}=s0(),[a,o]=C.useState(""),[l,c]=C.useState("none"),[f,h]=C.useState("none"),[p,v]=C.useState(""),m=[{value:"none",label:"",icon:A.jsx(C_,{size:16})},{value:"super_easy",label:"",icon:A.jsx(lv,{size:16})},{value:"under_5min",label:"5",icon:A.jsx(uv,{size:16})},{value:"under_10min",label:"10",icon:A.jsx(sv,{size:16})},{value:"no_fire",label:"",icon:A.jsx(jv,{size:16})}],_=[{value:"none",label:"",icon:A.jsx(Q1,{size:16})},{value:"vegetarian",label:"",icon:A.jsx("span",{children:""})},{value:"vegan",label:"",icon:A.jsx("span",{children:""})}],w=()=>{const S=n.filter(I=>I.quantity>0).map(I=>I.name).slice(0,10).join(", ");o(S)},E=async()=>{if(!a.trim()){alert("");return}r(!0);try{const S=a.split(/[,]/).map(M=>M.trim()).filter(M=>M.length>0),I=await uK(S,f,l,p),O={id:nl(),title:`${S.slice(0,3).join("")}`,content:I,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(O),t(O)}catch(S){console.error(":",S),alert("")}finally{r(!1)}};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(Q1,{size:20}),""]}),A.jsx("label",{children:""}),A.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:": , , ",disabled:e}),A.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[A.jsx(tf,{size:18,style:{marginRight:"6px"}}),""]}),A.jsx("label",{children:""}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>A.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:""}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:_.map(S=>A.jsx("button",{onClick:()=>h(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:""}),A.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:": ",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),A.jsxs("button",{className:"submit",onClick:E,disabled:e,children:[A.jsx(C_,{size:18,style:{marginRight:"8px"}}),""]})]})},hK=({recipe:t})=>{const{addToHistory:e,addToFavorites:r,removeFromFavorites:n,favoriteRecipes:i}=s0(),{addStock:a}=go(),{addItem:o}=Wu(),l=i.some(p=>p.id===t.id),c=()=>{l?n(t.id):(r(t),e(t))},f=()=>{confirm(` ${t.ingredients.length} 
7`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}`))},h=()=>{confirm(` ${t.ingredients.length} `)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}`))};return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[A.jsx("h3",{children:t.title}),A.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"":"",children:l?A.jsx(I_,{size:28}):A.jsx(GB,{size:28})})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(lv,{size:14})," "]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(uv,{size:14})," 5"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(sv,{size:14})," 10"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(jv,{size:14})," "]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:" ",vegan:" ",none:""}[t.dietaryRestriction]})]}),A.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(tf,{size:18})," "]}),A.jsxs("button",{onClick:h,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(fv,{size:18})," "]})]})]})},pK=({onRecipeSelect:t})=>{const{recipeHistory:e}=s0();if(e.length===0)return null;const r=n=>{const i=new Date(n),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"":l<60?`${l}`:c<24?`${c}`:f<7?`${f}`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(TB,{size:20}),""]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(n=>A.jsxs("div",{onClick:()=>t(n.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[A.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:n.recipe.title}),A.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:r(n.generatedAt)})]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[n.recipe.ingredients&&n.recipe.ingredients.slice(0,3).map((i,a)=>A.jsxs("span",{children:[i,a<Math.min((n.recipe.ingredients?.length||0)-1,2)?"":""]},a)),n.recipe.ingredients&&n.recipe.ingredients.length>3&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["",n.recipe.ingredients.length-3,""]})]}),(n.recipe.difficulty!=="none"||n.recipe.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[n.recipe.difficulty&&n.recipe.difficulty!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:A.jsx(lv,{size:12}),under_5min:A.jsx(uv,{size:12}),under_10min:A.jsx(sv,{size:12}),no_fire:A.jsx(jv,{size:12}),none:""}[n.recipe.difficulty]}),n.recipe.dietaryRestriction&&n.recipe.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"",vegan:"",none:""}[n.recipe.dietaryRestriction]})]})]},n.id))})]})},gK=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:r}=s0();if(e.length===0)return null;const n=(i,a)=>{i.stopPropagation(),confirm("")&&r(a)};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(I_,{size:20,color:"#fbbf24"}),""]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>A.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),A.jsx("button",{onClick:a=>n(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"",children:A.jsx(I_,{size:24})})]}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[A.jsx("span",{style:{fontWeight:500},children:":"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>A.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"":""]},o)),i.ingredients&&i.ingredients.length>4&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["",i.ingredients.length-4,""]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(lv,{size:14})," "]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(uv,{size:14})," 5"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(sv,{size:14})," 10"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(jv,{size:14})," "]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:" ",vegan:" ",none:""}[i.dietaryRestriction]})]}),i.customRequest&&A.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[A.jsx(NB,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},vK=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!1);return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"AI"}),A.jsx(dK,{onRecipeGenerated:e,isLoading:r,setIsLoading:n}),r&&A.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[A.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:A.jsx(Q1,{size:48})}),A.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"..."}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AI"})]}),t&&!r&&A.jsx(hK,{recipe:t}),A.jsx(pK,{onRecipeSelect:e}),A.jsx(gK,{onRecipeSelect:e})]})};function mK(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function yK(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var xK=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_K=(function(t){xK(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),mK(a,i.prototype),yK(a),a}return e})(Error),bK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ci=(function(t){bK(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(_K),wK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ba=(function(t){wK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ci),EK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Me=(function(t){EK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ci),AK=(function(){function t(e){if(this.binarizer=e,e===null)throw new Me("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),SK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),on=(function(t){SK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ci),TK=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),$t=(function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),CK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gE=(function(t){CK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ci),IK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YI=(function(t){IK(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(gE),OK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Me("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new YI(r);if(n>e)throw new YI(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=OK(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return $t.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),Ye=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),sn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);$t.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Me;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,c=o<i?31:r&31,f=(2<<c)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Me;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:r&31,h=(2<<f)-(1<<c)&4294967295;if((o[l]&h)!==(n?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Me("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Me("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,a=1;a<n;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Gr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),nb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(nb||(nb={}));const tr=nb;var RK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ve=(function(t){RK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ci),PK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Rt||(Rt={}));var qr=(function(){function t(e,r,n){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,f=0,h=c.length;f!==h;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=PK(o),m=v.next();!m.done;m=v.next()){var _=m.value;t.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ve("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ve("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Rt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Rt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Rt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Rt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Rt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Rt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Rt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Rt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Rt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Rt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Rt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Rt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Rt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Rt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Rt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Rt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Rt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Rt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Rt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Rt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Rt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Rt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Rt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Rt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Rt.Big5,28,"Big5"),t.GB18030=new t(Rt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Rt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),DK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$1=(function(t){DK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ci),na=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof qr?e:qr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(qr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(qr.UTF8)||e.equals(qr.ISO8859_1)||e.equals(qr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t})(),ut=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return na.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(tr.CHARACTER_SET)!==void 0)return r.get(tr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,l=0,c=0,f=0,h=0,p=0,v=0,m=0,_=0,w=0,E=0,S=0,I=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<n&&(i||a||o);O++){var M=e[O]&255;o&&(l>0?(M&128)===0?o=!1:l--:(M&128)!==0&&((M&64)===0?o=!1:(l++,(M&32)===0?c++:(l++,(M&16)===0?f++:(l++,(M&8)===0?h++:o=!1))))),i&&(M>127&&M<160?i=!1:M>159&&(M<192||M===215||M===247)&&S++),a&&(p>0?M<64||M===127||M>252?a=!1:p--:M===128||M===160||M>239?a=!1:M>160&&M<224?(v++,_=0,m++,m>w&&(w=m)):M>127?(p++,m=0,_++,_>E&&(E=_)):(m=0,_=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(I||c+f+h>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||E>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(l,c,f,h,p,v){if(l==="%%")return"%";if(r[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=r[i];break;case"c":_=r[i][0];break;case"f":_=parseFloat(r[i]).toFixed(l);break;case"p":_=parseFloat(r[i]).toPrecision(l);break;case"e":_=parseFloat(r[i]).toExponential(l);break;case"x":_=parseInt(r[i]).toString(m||16);break;case"d":_=parseFloat(parseInt(r[i],m||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(m);for(var w=parseInt(f),E=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=c!==void 0?_+E:E+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return na.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=qr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=qr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=qr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Xe=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ut.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),uo=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Me("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],l=0;l<n;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Me("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new Me("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");c++}for(var h=new t(l,c),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%l),Math.floor(p/l));return h},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Me("input matrix dimensions do not match");for(var r=new sn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*n,c=e.getRow(a,r).getBitArray(),f=0;f<n;f++)i[l+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Me("Left and top must be nonnegative");if(i<1||n<1)throw new Me("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Me("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=r;f<o;f++)for(var h=f*l,p=e;p<a;p++)c[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new sn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){$t.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new sn(e),i=new sn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,l=-1,c=-1,f=0;f<r;f++)for(var h=0;h<n;h++){var p=i[f*n+h];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),h*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;h*32+v<a&&(a=h*32+v)}if(h*32+31>l){for(var v=31;!(p>>>v);)v--;h*32+v>l&&(l=h*32+v)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Gr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Xe,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),NK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ae=(function(t){NK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ci),MK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kK=(function(t){MK(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new sn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&n.set(c);else for(var h=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-h-v)/2<f&&n.set(c),h=p,p=v}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new uo(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=r.getRow(c,this.luminances),h=Math.floor(n*4/5),p=Math.floor(n/5);p<h;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),_=r.getMatrix(),l=0;l<i;l++)for(var w=l*n,p=0;p<n;p++){var v=_[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,l=0;l<n;l++)r[l]>o&&(a=l,o=r[l]),r[l]>i&&(i=r[l]);for(var c=0,f=0,l=0;l<n;l++){var h=l-a,p=r[l]*h*h;p>f&&(c=l,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=n/16)throw new ae;for(var m=c-1,_=-1,l=c-1;l>a;l--){var w=l-a,p=w*w*(c-l)*(i-r[l]);p>_&&(m=l,_=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(TK),LK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jK=(function(t){LK(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,n,i),f=new uo(n,i);e.calculateThresholdForBlock(a,o,l,n,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,l,c){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),_=0;_<n;_++){var w=_<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var E=e.cap(_,2,n-3),S=0,I=-2;I<=2;I++){var O=l[m+I];S+=O[E-2]+O[E-1]+O[E]+O[E+1]+O[E+2]}var M=S/25;e.thresholdBlock(r,w,v,M,a,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,l){for(var c=0,f=i*o+n;c<e.BLOCK_SIZE;c++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(r[f+h]&255)<=a&&l.set(n+h,i+c)},e.calculateBlackPoints=function(r,n,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(n);var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<n;v++){var m=v<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=0,w=255,E=0,S=0,I=p*a+m;S<e.BLOCK_SIZE;S++,I+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var M=r[I+O]&255;_+=M,M<w&&(w=M),M>E&&(E=M)}if(E-w>e.MIN_DYNAMIC_RANGE)for(S++,I+=a;S<e.BLOCK_SIZE;S++,I+=a)for(var O=0;O<e.BLOCK_SIZE;O++)_+=r[I+O]&255}var L=_>>e.BLOCK_SIZE_POWER*2;if(E-w<=e.MIN_DYNAMIC_RANGE&&(L=w/2,h>0&&v>0)){var B=(f[h-1][v]+2*f[h][v-1]+f[h-1][v-1])/4;w<B&&(L=B)}f[h][v]=L}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(kK),Bv=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new $1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new $1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new $1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Xe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t})(),BK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vE=(function(t){BK(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Bv),VK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),FK=(function(t){VK(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=r.length;l<f;l+=4,c++){var h=void 0,p=r[l+3];if(p===0)h=255;else{var v=r[l],m=r[l+1],_=r[l+2];h=306*v+601*m+117*_+512>>10}o[c]=h}else for(var l=0,c=0,w=r.length;l<w;l+=4,c++){var h=void 0,p=r[l+3];if(p===0)h=255;else{var v=r[l],m=r[l+1],_=r[l+2];h=306*v+601*m+117*_+512>>10}o[c]=255-h}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return n.width=c,n.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new vE(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Bv),UK=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),zn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,c)}f((n=n.apply(t,e||[])).next())})},Hn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return c([f,h])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(h){f=[6,h],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},zK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nf=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return zn(this,void 0,void 0,function(){var e,r,n,i,a,o,l,c,f,h,p,v;return Hn(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),r=[];try{for(n=zK(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(r.length+1),f=a.groupId,h={deviceId:l,label:c,kind:o,groupId:f},r.push(h))}catch(_){p={error:_}}finally{try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(p)throw p.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return zn(this,void 0,void 0,function(){var e;return Hn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new UK(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return zn(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return zn(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return zn(this,void 0,void 0,function(){var n,i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return zn(this,void 0,void 0,function(){var n;return Hn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return zn(this,void 0,void 0,function(){var n,i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return zn(this,void 0,void 0,function(){return Hn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return zn(this,void 0,void 0,function(){var i,a;return Hn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return zn(this,void 0,void 0,function(){var i;return Hn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return zn(this,void 0,void 0,function(){var i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return zn(this,void 0,void 0,function(){var n;return Hn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return zn(this,void 0,void 0,function(){return Hn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new ba("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ba("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new ba("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new ba("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new ba("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new ba("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new ba("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new ba("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new ba("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new ba("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return zn(this,void 0,void 0,function(){return Hn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return zn(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new ae("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=r&&v instanceof ae,h=v instanceof on||v instanceof ve,p=h&&n;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof on||c instanceof ve,l=c instanceof ae;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new FK(n,r),a=new jK(i);return new AK(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Bn=(function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=$t.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=$t.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);$t.arraycopy(r,0,n,0,r.length),$t.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),ib;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ib||(ib={}));const Ne=ib;var ab;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ab||(ab={}));const An=ab;var Vv=(function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),hh=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),ll=(function(){function t(e,r){if(r.length===0)throw new Me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),$t.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=hh.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=hh.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;$t.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=hh.addOrSubtract(r[l-o],n[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=this.field,c=0;c<n;c++)for(var f=r[c],h=0;h<a;h++)o[c+h]=hh.addOrSubtract(o[c+h],l.multiply(f,i[h]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Me;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(n[l],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Me("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,c),h=r.buildMonomial(l,c);n=n.addOrSubtract(h),i=i.addOrSubtract(f)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),HK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_N=(function(t){HK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ci),$K=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oi=(function(t){$K(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);a.expTable=o;for(var f=new Int32Array(n),c=0;c<n-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new ll(a,Int32Array.from([0])),a.one=new ll(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ll(this,i)},e.prototype.inverse=function(r){if(r===0)throw new _N;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(hh),qK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),d1=(function(t){qK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ci),GK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),l0=(function(t){GK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ci),Fv=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new ll(n,e),a=new Int32Array(r),o=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var f=new ll(n,a),h=this.runEuclideanAlgorithm(n.buildMonomial(r,1),f,r),p=h[0],v=h[1],m=this.findErrorLocations(p),_=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-n.log(m[l]);if(w<0)throw new d1("Bad error location");e[w]=oi.addOrSubtract(e[w],_[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,l=r,c=a.getZero(),f=a.getOne();l.getDegree()>=(n/2|0);){var h=o,p=c;if(o=l,c=f,o.isZero())throw new d1("r_{i-1} was zero");l=h;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),_=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),E=a.multiply(l.getCoefficient(l.getDegree()),_);v=v.addOrSubtract(a.buildMonomial(w,E)),l=l.addOrSubtract(o.multiplyByMonomial(w,E))}if(f=v.multiply(c).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new l0("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new d1("sigmaTilde(0) was zero");var I=a.inverse(S),O=f.multiplyScalar(I),M=l.multiplyScalar(I);return[O,M]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new d1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var l=a.inverse(r[o]),c=1,f=0;f<n;f++)if(o!==f){var h=a.multiply(r[f],l),p=(h&1)===0?h|1:h&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),yn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(yn||(yn={}));var QI=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Vv(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=yn.UPPER,i=yn.UPPER,a="",o=0;o<r;)if(i===yn.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var f=t.readCode(e,o,8);a+=ut.castAsNonUtf8Char(f),o+=8}i=n}else{var h=i===yn.DIGIT?4:5;if(r-o<h)break;var f=t.readCode(e,o,h);o+=h;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(n=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=i)):(a+=p,i=n)}return a},t.getTable=function(e){switch(e){case"L":return yn.LOWER;case"P":return yn.PUNCT;case"M":return yn.MIXED;case"D":return yn.DIGIT;case"B":return yn.BINARY;case"U":default:return yn.UPPER}},t.getCharacter=function(e,r){switch(e){case yn.UPPER:return t.UPPER_TABLE[r];case yn.LOWER:return t.LOWER_TABLE[r];case yn.MIXED:return t.MIXED_TABLE[r];case yn.PUNCT:return t.PUNCT_TABLE[r];case yn.DIGIT:return t.DIGIT_TABLE[r];default:throw new l0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=oi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=oi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=oi.AZTEC_DATA_10):(n=12,r=oi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new ve;for(var o=e.length%n,l=new Int32Array(a),c=0;c<a;c++,o+=n)l[c]=t.readCode(e,o,n);try{var f=new Fv(r);f.decode(l,a-i)}catch(E){throw new ve(E)}for(var h=(1<<n)-1,p=0,c=0;c<i;c++){var v=l[c];if(v===0||v===h)throw new ve;(v===1||v===h-1)&&p++}for(var m=new Array(i*n-p),_=0,c=0;c<i;c++){var v=l[c];if(v===1||v===h-1)m.fill(v>1,_,_+n-1),_+=n-1;else for(var w=n-1;w>=0;--w)m[_++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),f=i/2,h=Ye.truncDivision(c,2),l=0;l<f;l++){var p=l+Ye.truncDivision(l,15);a[f-l-1]=h-p-1,a[f+l]=h+p+1}for(var l=0,v=0;l<n;l++){for(var m=(n-l)*4+(r?9:12),_=l*2,w=i-1-_,E=0;E<m;E++)for(var S=E*2,I=0;I<2;I++)o[v+S+I]=e.get(a[_+I],a[_+E]),o[v+2*m+S+I]=e.get(a[_+E],a[w-I]),o[v+4*m+S+I]=e.get(a[w-I],a[w-E]),o[v+6*m+S+I]=e.get(a[w-E],a[_+I]);v+=m*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),gt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t})(),ob=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Te=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*ob.floatToIntBits(this.x)+ob.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(n>=r&&n>=i?(o=e[0],a=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,r){return gt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t})(),mE=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),KK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),WK=(function(t){KK(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(mE),sb=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,f=!1,h=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var _=!0;(_||!c)&&r<v;)_=this.containsBlackPoint(n,i,r,!1),_?(r++,o=!0,c=!0):c||r++;if(r>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,r,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var E=!0;(E||!h)&&e>=0;)E=this.containsBlackPoint(n,i,e,!1),E?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&n>=0;)S=this.containsBlackPoint(e,r,n,!0),S?(n--,o=!0,p=!0):p||n--;if(n<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var I=r-e,O=null,M=1;O===null&&M<I;M++)O=this.getBlackPointOnSegment(e,i-M,e+M,i);if(O==null)throw new ae;for(var L=null,M=1;L===null&&M<I;M++)L=this.getBlackPointOnSegment(e,n+M,e+M,n);if(L==null)throw new ae;for(var B=null,M=1;B===null&&M<I;M++)B=this.getBlackPointOnSegment(r,n+M,r-M,n);if(B==null)throw new ae;for(var D=null,M=1;D===null&&M<I;M++)D=this.getBlackPointOnSegment(r,i-M,r-M,i);if(D==null)throw new ae;return this.centerEdges(D,O,B,L)}else throw new ae},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=gt.round(gt.distance(e,r,n,i)),o=(n-e)/a,l=(i-r)/a,c=this.image,f=0;f<a;f++){var h=gt.round(e+f*o),p=gt.round(r+f*l);if(c.get(h,p))return new Te(h,p)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),f=n.getX(),h=n.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Te(p-m,v+m),new Te(l+m,c+m),new Te(f-m,h-m),new Te(a+m,o-m)]:[new Te(p+m,v+m),new Te(l+m,c-m),new Te(f-m,h+m),new Te(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var l=e;l<=r;l++)if(a.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),ZI=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new ae;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new ae;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}},t})(),bN=(function(){function t(e,r,n,i,a,o,l,c,f){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,l,c,f,h,p,v,m,_,w,E){var S=t.quadrilateralToSquare(e,r,n,i,a,o,l,c),I=t.squareToQuadrilateral(f,h,p,v,m,_,w,E);return I.times(S)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=0;v<r;v+=2){var m=e[v],_=e[v+1],w=a*m+c*_+p;e[v]=(n*m+o*_+f)/w,e[v+1]=(i*m+l*_+h)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var _=e[m],w=r[m],E=a*_+c*w+p;e[m]=(n*_+o*w+f)/E,r[m]=(i*_+l*w+h)/E}},t.squareToQuadrilateral=function(e,r,n,i,a,o,l,c){var f=e-n+a-l,h=r-i+o-c;if(f===0&&h===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var p=n-a,v=l-a,m=i-o,_=c-o,w=p*_-v*m,E=(f*_-v*h)/w,S=(p*h-f*m)/w;return new t(n-e+E*n,l-e+S*l,e,i-r+E*i,c-r+S*c,r,E,S,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,l,c){return t.squareToQuadrilateral(e,r,n,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),XK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YK=(function(t){XK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,l,c,f,h,p,v,m,_,w,E,S,I,O,M){var L=bN.quadrilateralToQuadrilateral(a,o,l,c,f,h,p,v,m,_,w,E,S,I,O,M);return this.sampleGridWithTransform(r,n,i,L)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new ae;for(var o=new uo(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var f=l.length,h=c+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=h;a.transformPoints(l),ZI.checkAndNudgePoints(r,l);try{for(var p=0;p<f;p+=2)r.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,c)}catch{throw new ae}}return o},e})(ZI),yE=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new YK,t})(),ti=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),QK=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new WK(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ae;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,l){var c=(a>>r-2<<1)+(a&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Ye.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ae},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new Fv(oi.AZTEC_PARAM);c.decode(o,a)}catch{throw new ae}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,c,f,h))break}r=l,n=c,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;var v=new Te(r.getX()+.5,r.getY()-.5),m=new Te(n.getX()+.5,n.getY()+.5),_=new Te(i.getX()-.5,i.getY()+.5),w=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new sb(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new ti(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ti(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ti(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ti(o-7,l-7),!1,-1,-1).toResultPoint()}var c=gt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=gt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new sb(this.image,15,c,f).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ti(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ti(c+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ti(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ti(c-7,f-7),!1,-1,-1).toResultPoint()}return c=gt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=gt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new ti(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=yE.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,l=e.getX(),c=e.getY(),f=o*(r.getX()-e.getX())/a,h=o*(r.getY()-e.getY())/a,p=0;p<n;p++)this.image.get(gt.round(l+p*f),gt.round(c+p*h))&&(i|=1<<n-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new ti(e.getX()-a,e.getY()+a),r=new ti(r.getX()-a,r.getY()-a),n=new ti(n.getX()+a,n.getY()-a),i=new ti(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(n),p=0;p<h;p++)l+=i,c+=a,this.image.get(gt.round(l),gt.round(c))!==f&&o++;var v=o/n;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new ti(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Te(l+i*a,c+i*o),h=new Te(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Te(l+i*a,c+i*o),v=new Te(l-i*a,c-i*o),m=[f,p,h,v];return m},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=gt.round(e.getX()),n=gt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return gt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return gt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},t})(),lb=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new QK(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new QI().decode(l)}catch(p){n=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new QI().decode(l)}catch(p){throw n??p}var c=new Bn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Ne.AZTEC,$t.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(An.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&c.putMetadata(An.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(tr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),ZK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){ZK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new lb,r)||this}return e})(Nf);var Kr=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(tr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),l=270;o!==null&&o.get(An.ORIENTATION)===!0&&(l=l+o.get(An.ORIENTATION)%360),a.putMetadata(An.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),h=0;h<c.length;h++)c[h]=new Te(f-c[h].getY()-1,c[h].getX());return a}else throw new ae}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new sn(n),o=r&&r.get(tr.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),h=0;h<c;h++){var p=Math.trunc((h+1)/2),v=(h&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var _=function(I){if(I===1&&(a.reverse(),r&&r.get(tr.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;r.forEach(function(B,D){return O.set(D,B)}),O.delete(tr.NEED_RESULT_POINT_CALLBACK),r=O}try{var M=w.decodeRow(m,a,r);if(I===1){M.putMetadata(An.ORIENTATION,180);var L=M.getResultPoints();L!==null&&(L[0]=new Te(n-L[0].getX()-1,L[0].getY()),L[1]=new Te(n-L[1].getX()-1,L[1].getY()))}return{value:M}}catch{}},w=this,E=0;E<2;E++){var S=_(E);if(typeof S=="object")return S.value}}throw new ae},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new ae;for(var l=!e.get(r),c=0,f=r;f<o;){if(e.get(f)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===o))throw new ae},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new ae;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;n*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=r[h]*c,m=p>v?p-v:v-p;if(m>n)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),JK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),JI=(function(t){JK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,h=i;h<n;h++)if(r.get(h)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var _=Kr.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,v=m)}if(v>=0&&r.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new ae},e.decodeCode=function(r,n,i){Kr.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new ae},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(tr.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],c=0,f=new Uint8Array(20);f[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new ve}for(var p=!1,v=!1,m="",_=o[0],w=o[1],E=Int32Array.from([0,0,0,0,0,0]),S=0,I=0,O=l,M=0,L=!0,B=!1,D=!1;!p;){var N=v;switch(v=!1,S=I,I=e.decodeCode(n,E,w),f[c++]=I,I!==e.CODE_STOP&&(L=!0),I!==e.CODE_STOP&&(M++,O+=M*I),_=w,w+=E.reduce(function(se,me){return se+me},0),I){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(h){case e.CODE_CODE_A:if(I<64)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else if(I<96)D===B?m+=String.fromCharCode(I-64):m+=String.fromCharCode(I+64),D=!1;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(I<96)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(I<100)I<10&&(m+="0"),m+=I;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}N&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=w-_;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-_)/2),!1))throw new ae;if(O-=M*S,O%103!==S)throw new on;var V=m.length;if(V===0)throw new ae;V>0&&L&&(h===e.CODE_CODE_C?m=m.substring(0,V-2):m=m.substring(0,V-1));for(var z=(o[1]+o[0])/2,H=_+k/2,U=f.length,he=new Uint8Array(U),be=0;be<U;be++)he[be]=f[be];var Y=[new Te(z,r),new Te(H,r)];return new Bn(m,he,0,Y,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Kr),eW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),F2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eO=(function(t){eW(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(n,f),p=n.getNextSet(h[1]),v=n.getSize(),m,_;do{e.recordPattern(n,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new ae;m=e.patternToChar(w),this.decodeRowResult+=m,_=p;try{for(var E=(a=void 0,F2(f)),S=E.next();!S.done;S=E.next()){var I=S.value;p+=I}}catch(U){a={error:U}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}p=n.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var M=F2(f),L=M.next();!L.done;L=M.next()){var I=L.value;O+=I}}catch(U){l={error:U}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}var B=p-_-O;if(p!==v&&B*2<O)throw new ae;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,N=0,k=0;k<D;k++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(N%43))throw new on;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new ae;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var z=(h[1]+h[0])/2,H=_+O/2;return new Bn(V,null,0,[new Te(z,r),new Te(H,r)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,l=a,c=!1,f=n.length,h=a;h<i;h++)if(r.get(h)!==c)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new ae},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,l;do{var c=2147483647;try{for(var f=(n=void 0,F2(r)),h=f.next();!h.done;h=f.next()){var p=h.value;p<c&&p>o&&(c=p)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=c,l=0;for(var v=0,m=0,_=0;_<a;_++){var p=r[_];p>o&&(m|=1<<a-1-_,l++,v+=p)}if(l===3){for(var _=0;_<a&&l>0;_++){var p=r[_];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ae},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ve;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Kr),tW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),U2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tO=(function(t){tW(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.findAsteriskPattern(n),h=n.getNextSet(f[1]),p=n.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,_;do{e.recordPattern(n,h,v);var w=this.toPattern(v);if(w<0)throw new ae;m=this.patternToChar(w),this.decodeRowResult+=m,_=h;try{for(var E=(a=void 0,U2(v)),S=E.next();!S.done;S=E.next()){var I=S.value;h+=I}}catch(k){a={error:k}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}h=n.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var M=U2(v),L=M.next();!L.done;L=M.next()){var I=L.value;O+=I}}catch(k){l={error:k}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}if(h===p||!n.get(h))throw new ae;if(this.decodeRowResult.length<2)throw new ae;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),D=(f[1]+f[0])/2,N=_+O/2;return new Bn(B,null,0,[new Te(D,r),new Te(N,r)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,c=a.length,f=0,h=i;h<n;h++)if(r.get(h)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new ae},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=U2(r),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(_){n={error:_}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var f=0,h=r.length,p=0;p<h;p++){var v=Math.round(r[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ae},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new ve;var l=r.charAt(a+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ve;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,l=n-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(l)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new on},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Kr),rW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),nW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rO=(function(t){rW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,l=this.decodeStart(n),c=this.decodeEnd(n),f=new Xe;e.decodeMiddle(n,l[1],c[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(tr.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=h.length,m=!1,_=0;try{for(var w=nW(p),E=w.next();!E.done;E=w.next()){var S=E.value;if(v===S){m=!0;break}S>_&&(_=S)}}catch(M){a={error:M}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>_&&(m=!0),!m)throw new ve;var I=[new Te(l[1],r),new Te(c[0],r)],O=new Bn(h,null,0,I,Ne.ITF,new Date().getTime());return O},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<i;){Kr.recordPattern(r,n,o);for(var f=0;f<5;f++){var h=2*f;l[f]=o[h],c[f]=o[h+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){n+=v})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new ae},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ae;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ae&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),l=r.getSize(),c=!1,f=0,h=n;o.fill(0);for(var p=n;p<l;p++)if(r.get(p)!==c)o[f]++;else{if(f===a-1){if(Kr.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],$t.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new ae},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Kr.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new ae},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Kr),iW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ff=(function(t){iW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,f=n,h=a.length,p=i,v=n;v<l;v++)if(r.get(v)!==p)o[c]++;else{if(c===h-1){if(Kr.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),_=0;_<c-1;_++)o[_]=m[_];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new ae},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var h=a[f],p=Kr.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new ae},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Kr),aW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oW=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((n[0]+n[1])/2,e),new Te(a,e)],f=new Bn(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],f=0,h=0;h<5&&c<l;h++){var p=ff.decodeDigit(e,o,c,ff.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,aW(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new ae;var w=this.determineCheckDigit(f);if(t.extensionChecksum(n.toString())!==w)throw new ae;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ae},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[An.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t})(),sW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lW=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((n[0]+n[1])/2,e),new Te(a,e)],f=new Bn(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],f=0,h=0;h<2&&c<l;h++){var p=ff.decodeDigit(e,o,c,ff.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,sW(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new ae;if(parseInt(n.toString())%4!==f)throw new ae;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[An.ISSUE_NUMBER,parseInt(e)]])},t})(),uW=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=ff.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new oW;return a.decodeRow(e,r,i)}catch{var o=new lW;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),cW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hr=(function(t){cW(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(tr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Te((a[0]+a[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(o!=null){var p=new Te(f,r);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(n,f);if(o!=null){var m=new Te((v[0]+v[1])/2,r);o.foundPossibleResultPoint(m)}var _=v[1],w=_+(_-v[0]);if(w>=n.getSize()||!n.isRange(_,w,!1))throw new ae;var E=h.toString();if(E.length<8)throw new ve;if(!e.checkChecksum(E))throw new on;var S=(a[1]+a[0])/2,I=(v[1]+v[0])/2,O=this.getBarcodeFormat(),M=[new Te(S,r),new Te(I,r)],L=new Bn(E,null,0,M,O,new Date().getTime()),B=0;try{var D=uW.decodeRow(r,n,v[1]);L.putMetadata(An.UPC_EAN_EXTENSION,D.getText()),L.putAllMetadata(D.getResultMetadata()),L.addResultPoints(D.getResultPoints()),B=D.getText().length}catch{}var N=i==null?null:i.get(tr.ALLOWED_EAN_EXTENSIONS);if(N!=null){var k=!1;for(var V in N)if(B.toString()===V){k=!0;break}if(!k)throw new ae}return O===Ne.EAN_13||Ne.UPC_A,L},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(ff),fW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),nO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ub=(function(t){fW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=r.getSize(),p=n[1],v=0,m=0;m<6&&p<h;m++){var _=Hr.decodeDigit(r,f,p,Hr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var w=(a=void 0,nO(f)),E=w.next();!E.done;E=w.next()){var S=E.value;p+=S}}catch(L){a={error:L}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var I=Hr.findGuardPattern(r,p,!0,Hr.MIDDLE_PATTERN,new Int32Array(Hr.MIDDLE_PATTERN.length).fill(0));p=I[1];for(var m=0;m<6&&p<h;m++){var _=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var O=(l=void 0,nO(f)),M=O.next();!M.done;M=O.next()){var S=M.value;p+=S}}catch(D){l={error:D}}finally{try{M&&!M.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ae},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Hr),dW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),iO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aO=(function(t){dW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=r.getSize(),p=n[1],v=0;v<4&&p<h;v++){var m=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var _=(a=void 0,iO(f)),w=_.next();!w.done;w=_.next()){var E=w.value;p+=E}}catch(M){a={error:M}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var S=Hr.findGuardPattern(r,p,!0,Hr.MIDDLE_PATTERN,new Int32Array(Hr.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<h;v++){var m=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(l=void 0,iO(f)),O=I.next();!O.done;O=I.next()){var E=O.value;p+=E}}catch(B){l={error:B}}finally{try{O&&!O.done&&(c=I.return)&&c.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e})(Hr),hW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oO=(function(t){hW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new ub,r}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Bn(n.substring(1),null,null,r.getResultPoints(),Ne.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ae},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Hr),pW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sO=(function(t){pW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l=this.decodeMiddleCounters.map(function(E){return E});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],h=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(r,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,gW(l)),_=m.next();!_.done;_=m.next()){var w=_.value;f+=w}}catch(E){a={error:E}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Xe(i),h),f},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Hr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw ae.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Xe;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Hr),vW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z2=(function(t){vW(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(tr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ne.EAN_13)>-1&&a.push(new ub),i.indexOf(Ne.UPC_A)>-1&&a.push(new oO),i.indexOf(Ne.EAN_8)>-1&&a.push(new aO),i.indexOf(Ne.UPC_E)>-1&&a.push(new sO)),a.length===0&&(a.push(new ub),a.push(new oO),a.push(new aO),a.push(new sO)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var l=lO(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var h=f.decodeRow(r,n,i),p=h.getBarcodeFormat()===Ne.EAN_13&&h.getText().charAt(0)==="0",v=i==null?null:i.get(tr.POSSIBLE_FORMATS),m=v==null||v.includes(Ne.UPC_A);if(p&&m){var _=h.getRawBytes(),w=new Bn(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),Ne.UPC_A);return w.putAllMetadata(h.getResultMetadata()),w}return h}catch{}}}catch(E){a={error:E}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new ae},e.prototype.reset=function(){var r,n;try{for(var i=lO(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(Kr),mW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yW=(function(t){mW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new ae;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ae;return new Bn(o,null,0,[new Te(a.left,r),new Te(a.right,r)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],l=n[0],c=1,f=1;f<n.length;f++)n[f]===l?c++:(l=n[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,f){return(c+f)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(Kr),xW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_W=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hu=(function(t){xW(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Kr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ae},e.count=function(r){return gt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=_W(r),p=h.next();!p.done;p=h.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Kr),bg=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),wN=(function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Te(n,a)),this.resultPoints.push(new Te(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),bW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gc=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var l=bW(e),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(I){i={error:I}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var h=0,p=0,v=e.length,m=0;m<v-1;m++){var _=void 0;for(_=1,p|=1<<m;_<e[m];_++,p&=~(1<<m)){var w=t.combins(o-_-1,v-m-2);if(n&&p===0&&o-_-(v-m-1)>=v-m-1&&(w-=t.combins(o-_-(v-m),v-m-2)),v-m-1>1){for(var E=0,S=o-_-(v-m-2);S>r;S--)E+=t.combins(o-_-S-1,v-m-3);w-=E*(v-1-m)}else o-_>r&&w--;h+=w}o-=_}return h},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,l=e;l>n;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),wW=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new sn(n),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),uu=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),xE=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),EW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_a=(function(t){EW(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(xE),AW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cu=(function(t){AW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(xE),SW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Fc=(function(t){SW(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new ve;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(xE),h1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TW=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,l,c,f;if(!e)return null;if(e.length<2)throw new ae;var h=e.substring(0,2);try{for(var p=h1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===h)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(B){r={error:B}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(e.length<3)throw new ae;var _=e.substring(0,3);try{for(var w=h1(t.THREE_DIGIT_DATA_LENGTH),E=w.next();!E.done;E=w.next()){var m=E.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(B){i={error:B}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=h1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var m=I.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new ae;var O=e.substring(0,4);try{for(var M=h1(t.FOUR_DIGIT_DATA_LENGTH),L=M.next();!L.done;L=M.next()){var m=L.value;if(m[0]===O)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){c={error:B}}finally{try{L&&!L.done&&(f=M.return)&&f.call(M)}finally{if(c)throw c.error}}throw new ae},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ae;var i=n.substring(0,e);if(n.length<e+r)throw new ae;var a=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),l=n.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),q1=(function(){function t(e){this.buffer=new Xe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=TW.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Fc(this.information.getSize(),Fc.FNC1,Fc.FNC1):new Fc(this.information.getSize(),r-1,Fc.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Fc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new cu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new cu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new cu(this.current.getPosition(),this.buffer.toString()):r=new cu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new uu(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new cu(this.current.getPosition(),this.buffer.toString());return new uu(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new uu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new cu(this.current.getPosition(),this.buffer.toString());return new uu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new uu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new cu(this.current.getPosition(),this.buffer.toString());return new uu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new uu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new _a(e+5,_a.FNC1);if(r>=5&&r<15)return new _a(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new _a(e+7,""+(n+1));if(n>=90&&n<116)return new _a(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new _a(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new _a(e+5,_a.FNC1);if(r>=5&&r<15)return new _a(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new _a(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new l0("Decoding invalid alphanumeric value: "+n)}return new _a(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),EN=(function(){function t(e){this.information=e,this.generalDecoder=new q1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),CW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wa=(function(t){CW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(EN),IW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),OW=(function(t){IW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Xe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(wa),RW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),PW=(function(t){RW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Xe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(EN),DW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),G1=(function(t){DW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e})(wa),NW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),AN=(function(t){NW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+G1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ae;var r=new Xe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+G1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(G1),MW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kW=(function(t){MW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(AN),LW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jW=(function(t){LW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(AN),BW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),VW=(function(t){BW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+wa.GTIN_SIZE)throw new ae;var r=new Xe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(wa),FW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),UW=(function(t){FW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+wa.GTIN_SIZE)throw new ae;var r=new Xe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+wa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(wa),zW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Gs=(function(t){zW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ae;var r=new Xe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(G1);function HW(t){try{if(t.get(1))return new OW(t);if(!t.get(2))return new PW(t);var e=q1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new kW(t);case 5:return new jW(t)}var r=q1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new VW(t);case 13:return new UW(t)}var n=q1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Gs(t,"310","11");case 57:return new Gs(t,"320","11");case 58:return new Gs(t,"310","13");case 59:return new Gs(t,"320","13");case 60:return new Gs(t,"310","15");case 61:return new Gs(t,"320","15");case 62:return new Gs(t,"310","17");case 63:return new Gs(t,"320","17")}}catch(i){throw console.log(i),new l0("unknown decoder: "+t)}}var uO=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),$W=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),qW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ks=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GW=(function(t){qW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof ae){if(!this.pairs.length)throw new ae;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ae},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Ks(r)),f=c.next();!f.done;f=c.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(r);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new ae},e.isValidSequence=function(r){var n,i;try{for(var a=Ks(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(h){n={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new $W(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,l,c,f;try{for(var h=Ks(n),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.getPairs().length!==r.length){var m=!0;try{for(var _=(o=void 0,Ks(v.getPairs())),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,Ks(r)),O=I.next();!O.done;O=I.next()){var M=O.value;if(uO.equals(E,M)){S=!0;break}}}catch(L){c={error:L}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}S||(m=!1)}}catch(L){o={error:L}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,l,c,f;try{for(var h=Ks(n),p=h.next();!p.done;p=h.next()){var v=p.value,m=!0;try{for(var _=(o=void 0,Ks(r)),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,Ks(v.getPairs())),O=I.next();!O.done;O=I.next()){var M=O.value;if(E.equals(M)){S=!0;break}}}catch(L){c={error:L}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(L){o={error:L}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}if(m)return!0}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=wW.buildBitArray(r),i=HW(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Bn(a,null,null,c,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,a),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ae;var h;try{h=this.decodeDataCharacter(r,o,a,!1)}catch(p){h=null,console.log(p)}return new uO(f,h,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=n.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;l<o&&(h=!r.get(l),!!h);)l++;for(var p=0,v=l,m=l;m<o;m++)if(r.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new ae},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();$t.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new wN(h,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}var p=17,v=gt.sum(new Int32Array(o))/p,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new ae;for(var _=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=1*o[c]/v,O=I+.5;if(O<1){if(I<.3)throw new ae;O=1}else if(O>8){if(I>8.7)throw new ae;O=8}var M=c/2;(c&1)===0?(_[M]=O,E[M]=I-O):(w[M]=O,S[M]=I-O)}this.adjustOddEvenCounts(p);for(var L=4*n.getValue()+(i?0:2)+(a?0:1)-1,B=0,D=0,c=_.length-1;c>=0;c--){if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[L][2*c];D+=_[c]*N}B+=_[c]}for(var k=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[L][2*c+1];k+=w[c]*N}var V=D+k;if((B&1)!==0||B>13||B<4)throw new ae;var z=(13-B)/2,H=e.SYMBOL_WIDEST[z],U=9-H,he=Gc.getRSSvalue(_,H,!0),be=Gc.getRSSvalue(w,U,!1),Y=e.EVEN_TOTAL_SUBSET[z],se=e.GSUM[z],me=he*Y+be+se;return new bg(me,V)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=gt.sum(new Int32Array(this.getOddCounts())),i=gt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=n+i-r,h=(n&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new ae;o=!0}else{if(!p)throw new ae;c=!0}else if(f===-1)if(h){if(p)throw new ae;a=!0}else{if(!p)throw new ae;l=!0}else if(f===0){if(h){if(!p)throw new ae;n<i?(a=!0,c=!0):(o=!0,l=!0)}else if(p)throw new ae}else throw new ae;if(a){if(o)throw new ae;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ae;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(hu),KW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),WW=(function(t){KW(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(bg),XW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),H2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cO=(function(t){XW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var h=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,h),n.reverse();try{for(var p=H2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var _=(l=void 0,H2(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var E=w.value;if(E.getCount()>1&&e.checkChecksum(m,E))return e.constructResult(m,E)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new ae},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var l=H2(r),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Xe,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var h=r.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new Bn(o.toString(),null,0,[h[0],h[1],p[0],p[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),c=a==null?null:a.get(tr.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;n&&(f=r.getSize()-1-f),c.foundPossibleResultPoint(new Te(f,i))}var h=this.decodeDataCharacter(r,l,!0),p=this.decodeDataCharacter(r,l,!1);return new WW(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Kr.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Kr.recordPattern(r,n.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var h=i?16:15,p=gt.sum(new Int32Array(a))/h,v=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var E=a[l]/p,S=Math.floor(E+.5);S<1?S=1:S>8&&(S=8);var I=Math.floor(l/2);(l&1)===0?(v[I]=S,_[I]=E-S):(m[I]=S,w[I]=E-S)}this.adjustOddEvenCounts(i,h);for(var O=0,M=0,l=v.length-1;l>=0;l--)M*=9,M+=v[l],O+=v[l];for(var L=0,B=0,l=m.length-1;l>=0;l--)L*=9,L+=m[l],B+=m[l];var D=M+3*L;if(i){if((O&1)!==0||O>12||O<4)throw new ae;var N=(12-O)/2,k=e.OUTSIDE_ODD_WIDEST[N],V=9-k,z=Gc.getRSSvalue(v,k,!1),H=Gc.getRSSvalue(m,V,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],he=e.OUTSIDE_GSUM[N];return new bg(z*U+H+he,D)}else{if((B&1)!==0||B>10||B<4)throw new ae;var N=(10-B)/2,k=e.INSIDE_ODD_WIDEST[N],V=9-k,z=Gc.getRSSvalue(v,k,!0),H=Gc.getRSSvalue(m,V,!1),be=e.INSIDE_ODD_TOTAL_SUBSET[N],he=e.INSIDE_GSUM[N];return new bg(H*be+z+he,D)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,l=0;l<a&&(o=!r.get(l),n!==o);)l++;for(var c=0,f=l,h=l;h<a;h++)if(r.get(h)!==o)i[c]++;else{if(c===3){if(hu.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new ae},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),l=a[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);$t.arraycopy(f,0,h,1,f.length-1),h[0]=c;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=r.getSize()-1-v,m=r.getSize()-1-m),new wN(p,[l,a[1]],v,m,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=gt.sum(new Int32Array(this.getOddCounts())),a=gt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,f=!1;r?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var h=i+a-n,p=(i&1)===(r?1:0),v=(a&1)===1;if(h===1)if(p){if(v)throw new ae;l=!0}else{if(!v)throw new ae;f=!0}else if(h===-1)if(p){if(v)throw new ae;o=!0}else{if(!v)throw new ae;c=!0}else if(h===0){if(p){if(!v)throw new ae;i<a?(o=!0,f=!0):(l=!0,c=!0)}else if(v)throw new ae}else throw new ae;if(o){if(l)throw new ae;hu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&hu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new ae;hu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&hu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(hu),YW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ph=(function(t){YW(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(tr.POSSIBLE_FORMATS):null,a=r&&r.get(tr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(tr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ne.EAN_13)||i.includes(Ne.UPC_A)||i.includes(Ne.EAN_8)||i.includes(Ne.UPC_E))&&n.readers.push(new z2(r)),i.includes(Ne.CODE_39)&&n.readers.push(new eO(a,o)),i.includes(Ne.CODE_93)&&n.readers.push(new tO),i.includes(Ne.CODE_128)&&n.readers.push(new JI),i.includes(Ne.ITF)&&n.readers.push(new rO),i.includes(Ne.CODABAR)&&n.readers.push(new yW),i.includes(Ne.RSS_14)&&n.readers.push(new cO),i.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new GW))),n.readers.length===0&&(n.readers.push(new z2(r)),n.readers.push(new eO),n.readers.push(new tO),n.readers.push(new z2(r)),n.readers.push(new JI),n.readers.push(new rO),n.readers.push(new cO)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new ae},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(Kr),QW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){QW(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new ph(n),r,n)||this}return e})(Nf);var fO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),_t=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),ZW=(function(){function t(e,r,n,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var v=fO(p),m=v.next();!m.done;m=v.next()){var _=m.value;f+=_.getCount()*(_.getDataCodewords()+h)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new ve;try{for(var a=fO(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new ve},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new wt(5,new _t(1,3))),new t(2,12,12,10,10,new wt(7,new _t(1,5))),new t(3,14,14,12,12,new wt(10,new _t(1,8))),new t(4,16,16,14,14,new wt(12,new _t(1,12))),new t(5,18,18,16,16,new wt(14,new _t(1,18))),new t(6,20,20,18,18,new wt(18,new _t(1,22))),new t(7,22,22,20,20,new wt(20,new _t(1,30))),new t(8,24,24,22,22,new wt(24,new _t(1,36))),new t(9,26,26,24,24,new wt(28,new _t(1,44))),new t(10,32,32,14,14,new wt(36,new _t(1,62))),new t(11,36,36,16,16,new wt(42,new _t(1,86))),new t(12,40,40,18,18,new wt(48,new _t(1,114))),new t(13,44,44,20,20,new wt(56,new _t(1,144))),new t(14,48,48,22,22,new wt(68,new _t(1,174))),new t(15,52,52,24,24,new wt(42,new _t(2,102))),new t(16,64,64,14,14,new wt(56,new _t(2,140))),new t(17,72,72,16,16,new wt(36,new _t(4,92))),new t(18,80,80,18,18,new wt(48,new _t(4,114))),new t(19,88,88,20,20,new wt(56,new _t(4,144))),new t(20,96,96,22,22,new wt(68,new _t(4,174))),new t(21,104,104,24,24,new wt(56,new _t(6,136))),new t(22,120,120,18,18,new wt(68,new _t(6,175))),new t(23,132,132,20,20,new wt(62,new _t(8,163))),new t(24,144,144,22,22,new wt(62,new _t(8,156),new _t(2,155))),new t(25,8,18,6,16,new wt(7,new _t(1,5))),new t(26,8,32,6,14,new wt(11,new _t(1,10))),new t(27,12,26,10,24,new wt(14,new _t(1,16))),new t(28,12,36,10,16,new wt(18,new _t(1,22))),new t(29,16,36,14,16,new wt(24,new _t(1,32))),new t(30,16,48,14,22,new wt(28,new _t(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),JW=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new ve;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new uo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return ZW.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,h=!1;do if(n===a&&i===0&&!l)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!c)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,c=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!h)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,h=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new ve;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Me("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/a|0,c=o*i,f=l*a,h=new uo(f,c),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var _=m*a,w=0;w<i;++w)for(var E=p*(i+2)+1+w,S=v+w,I=0;I<a;++I){var O=m*(a+2)+1+I;if(e.get(O,E)){var M=_+I;h.set(M,S)}}return h},t})(),dO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eX=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,l=r.getECBlocks(),c=0,f=l.getECBlocks();try{for(var h=dO(f),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getCount()}}catch(he){n={error:he}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Array(c),_=0;try{for(var w=dO(f),E=w.next();!E.done;E=w.next())for(var v=E.value,S=0;S<v.getCount();S++){var I=v.getDataCodewords(),O=l.getECCodewords()+I;m[_++]=new t(I,new Uint8Array(O))}}catch(he){a={error:he}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var M=m[0].codewords.length,L=M-l.getECCodewords(),B=L-1,D=0,S=0;S<B;S++)for(var N=0;N<_;N++)m[N].codewords[S]=e[D++];for(var k=r.getVersionNumber()===24,V=k?8:_,N=0;N<V;N++)m[N].codewords[L-1]=e[D++];for(var z=m[0].codewords.length,S=L;S<z;S++)for(var N=0;N<_;N++){var H=k?(N+8)%_:N,U=k&&H>7?S-1:S;m[H].codewords[U]=e[D++]}if(D!==e.length)throw new Me;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),SN=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Me(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,c=o-l,f=255>>8-l<<c;r=(a[i]&f)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;r=r<<e|(a[i]&f)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Ur;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ur||(Ur={}));var tX=(function(){function t(){}return t.decode=function(e){var r=new SN(e),n=new Xe,i=new Xe,a=new Array,o=Ur.ASCII_ENCODE;do if(o===Ur.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Ur.C40_ENCODE:this.decodeC40Segment(r,n);break;case Ur.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Ur.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Ur.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Ur.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new ve}o=Ur.ASCII_ENCODE}while(o!==Ur.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Vv(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Ur.ASCII_ENCODE;if(a===129)return Ur.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Ur.C40_ENCODE;case 231:return Ur.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Ur.ANSIX12_ENCODE;case 239:return Ur.TEXT_ENCODE;case 240:return Ur.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return Ur.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new ve;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ve}a=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new ve;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new ve;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ve;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new ve;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(na.decode(l,ut.ISO88591))}catch(f){throw new l0("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),rX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nX=(function(){function t(){this.rsDecoder=new Fv(oi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new JW(e),a=i.getVersion(),o=i.readCodewords(),l=eX.getDataBlocks(o,a),c=0;try{for(var f=rX(l),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getNumDataCodewords()}}catch(O){r={error:O}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}for(var v=new Uint8Array(c),m=l.length,_=0;_<m;_++){var w=l[_],E=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(E,S);for(var I=0;I<S;I++)v[I*m+_]=E[I]}return tX.decode(v)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new on}for(var i=0;i<r;i++)e[i]=n[i]},t})(),iX=(function(){function t(e){this.image=e,this.rectangleDetector=new sb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ae;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=t.sampleGrid(this.image,n,i,a,o,l,c);return new mE(f,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Te(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Te(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,r),h=o,p=[a,r,n,i];return h>l&&(h=l,p[0]=r,p[1]=n,p[2]=i,p[3]=a),h>c&&(h=c,p[0]=n,p[1]=i,p[2]=a,p[3]=r),h>f&&(p[0]=i,p[1]=a,p[2]=r,p[3]=n),p},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(l,r),h=this.transitionsBetween(c,a);return f<h?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=this.transitionsBetween(n,a),c=t.shiftPoint(r,n,(l+1)*4),f=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var h=new Te(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),p=new Te(a.getX()+(r.getX()-n.getX())/(l+1),a.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var v=this.transitionsBetween(c,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>m?h:p},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(r,n,l*4),f=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var h=(r.getX()+n.getX()+i.getX()+a.getX())/4,p=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,h,p),n=t.moveAway(n,h,p),i=t.moveAway(i,h,p),a=t.moveAway(a,h,p);var v,m;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(n,r,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,n,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,r,o*4),[c,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,l){var c=yE.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(a-n);if(l){var c=n;n=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-n),h=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=n<a?1:-1,_=0,w=this.image.get(l?i:n,l?n:i),E=n,S=i;E!==a;E+=m){var I=this.image.get(l?S:E,l?E:S);if(I!==w&&(_++,w=I),p+=h,p>0){if(S===o)break;S+=v,p-=f}}return _},t})(),cb=(function(){function t(){this.decoder=new nX}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(tr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new iX(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),c=new Bn(n.getText(),l,8*l.length,i,Ne.DATA_MATRIX,$t.currentTimeMillis()),f=n.getByteSegments();f!=null&&c.putMetadata(An.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!=null&&c.putMetadata(An.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ae;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0],f=(c-l+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new ae;var p=i/2;a+=p,l+=p;for(var v=new uo(f,h),m=0;m<h;m++)for(var _=a+m*i,w=0;w<f;w++)e.get(l+w*i,_)&&v.set(w,m);return v},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new ae;var o=i-e[0];if(o===0)throw new ae;return o},t.NO_POINTS=[],t})(),aX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){aX(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new cb,r)||this}return e})(Nf);var Kc;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Kc||(Kc={}));var oX=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new ba(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Me;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Kc.L,"L",1),t.M=new t(Kc.M,"M",0),t.Q=new t(Kc.Q,"Q",3),t.H=new t(Kc.H,"H",2),t})(),sX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TN=(function(){function t(e){this.errorCorrectionLevel=oX.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Ye.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=sX(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,h=f[0];if(h===e||h===r)return new t(f[1]);var p=t.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==r&&(p=t.numBitsDiffering(r,h),p<a&&(o=f[1],a=p))}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),lX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=lX(i),o=a.next();!o.done;o=a.next()){var l=o.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),uX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tu=(function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=uX(f),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Me;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=TN.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new uo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),tn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(tn||(tn={}));var hO=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[tn.DATA_MASK_000,new t(tn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[tn.DATA_MASK_001,new t(tn.DATA_MASK_001,function(e,r){return(e&1)===0})],[tn.DATA_MASK_010,new t(tn.DATA_MASK_010,function(e,r){return r%3===0})],[tn.DATA_MASK_011,new t(tn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[tn.DATA_MASK_100,new t(tn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[tn.DATA_MASK_101,new t(tn.DATA_MASK_101,function(e,r){return e*r%6===0})],[tn.DATA_MASK_110,new t(tn.DATA_MASK_110,function(e,r){return e*r%6<3})],[tn.DATA_MASK_111,new t(tn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),cX=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ve;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=TN.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Tu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var l=Tu.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(l=Tu.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new ve},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=hO.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,_=0;_<2;_++)a.get(p-_,m)||(h++,f<<=1,this.bitMatrix.get(p-_,m)&&(f|=1),h===8&&(l[c++]=f,h=0,f=0));o=!o}if(c!==r.getTotalCodewords())throw new ve;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=hO.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),pO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fX=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,l;if(e.length!==r.getTotalCodewords())throw new Me;var c=r.getECBlocksForLevel(n),f=0,h=c.getECBlocks();try{for(var p=pO(h),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(U){i={error:U}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var E=pO(h),S=E.next();!S.done;S=E.next())for(var m=S.value,I=0;I<m.getCount();I++){var O=m.getDataCodewords(),M=c.getECCodewordsPerBlock()+O;_[w++]=new t(O,new Uint8Array(M))}}catch(U){o={error:U}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}for(var L=_[0].codewords.length,B=_.length-1;B>=0;){var D=_[B].codewords.length;if(D===L)break;B--}B++;for(var N=L-c.getECCodewordsPerBlock(),k=0,I=0;I<N;I++)for(var V=0;V<w;V++)_[V].codewords[I]=e[k++];for(var V=B;V<w;V++)_[V].codewords[N]=e[k++];for(var z=_[0].codewords.length,I=N;I<z;I++)for(var V=0;V<w;V++){var H=V<B?I:I+1;_[V].codewords[H]=e[k++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Qi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Qi||(Qi={}));var Xt=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Me;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Qi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Qi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Qi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Qi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Qi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Qi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Qi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Qi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Qi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Qi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),dX=(function(){function t(){}return t.decode=function(e,r,n,i){var a=new SN(e),o=new Xe,l=new Array,c=-1,f=-1;try{var h=null,p=!1,v=void 0;do{if(a.available()<4)v=Xt.TERMINATOR;else{var m=a.readBits(4);v=Xt.forBits(m)}switch(v){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:p=!0;break;case Xt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),f=a.readBits(8);break;case Xt.ECI:var _=t.parseECIValue(a);if(h=qr.getCharacterSetECIByValue(_),h===null)throw new ve;break;case Xt.HANZI:var w=a.readBits(4),E=a.readBits(v.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,E);break;default:var S=a.readBits(v.getCharacterCountBits(r));switch(v){case Xt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Xt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Xt.BYTE:t.decodeByteSegment(a,o,S,h,l,i);break;case Xt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new ve}break}}while(v!==Xt.TERMINATOR)}catch{throw new ve}return new Vv(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,f)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ve;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,n--}try{r.append(na.decode(i,ut.GB2312))}catch(c){throw new ve(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ve;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,n--}try{r.append(na.decode(i,ut.SHIFT_JIS))}catch(c){throw new ve(c)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new ve;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var f;i===null?f=ut.guessEncoding(l,o):f=i.getName();try{r.append(na.decode(l,f))}catch(h){throw new ve(h)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ve;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new ve;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new ve;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new ve;var o=e.readBits(4);if(o>=10)throw new ve;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new ve},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),CN=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),gO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hX=(function(){function t(){this.rsDecoder=new Fv(oi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(uo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new cX(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new CN(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=fX.getDataBlocks(f,l,c),p=0;try{for(var v=gO(h),m=v.next();!m.done;m=v.next()){var _=m.value;p+=_.getNumDataCodewords()}}catch(B){n={error:B}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var w=new Uint8Array(p),E=0;try{for(var S=gO(h),I=S.next();!I.done;I=S.next()){var _=I.value,O=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors(O,M);for(var L=0;L<M;L++)w[E++]=O[L]}}catch(B){a={error:B}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return dX.decode(w,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new on}for(var i=0;i<r;i++)e[i]=n[i]},t})(),pX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gX=(function(t){pX(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Te),vX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mX=(function(){function t(e,r,n,i,a,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!l.get(h,f);)h++;for(var p=0;h<i;){if(l.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,h);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!a.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=vX(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.aboutEquals(f,c,l))return v.combineEstimate(c,l,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new gX(l,c,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),yX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xX=(function(t){yX(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,l=(this.count*this.getY()+r)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Te),_X=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Yd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bX=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e!=null&&e.get(tr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),h=l-1;h<a&&!c;h+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,v,n);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(h+=_-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,n);m===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Te.orderBestPatterns(w),new _X(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var c=l.getHeight(),f=l.getWidth();for(o=1;e+o<c&&r+o<f&&l.get(r+o,e+o);)a[2]++,o++;if(e+o>=c||r+o>=f)return!1;for(;e+o<c&&r+o<f&&!l.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=c||r+o>=f||a[3]>=n)return!1;for(;e+o<c&&r+o<f&&l.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,h=this.possibleCenters,p=0,v=h.length;p<v;p++){var m=h[p];if(m.aboutEquals(c,l,o)){h[p]=m.combineEstimate(l,o,c),f=!0;break}}if(!f){var _=new xX(o,l,c);h.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Yd(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=Yd(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value;h.getCount()>=t.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=Yd(this.possibleCenters),_=m.next();!_.done;_=m.next()){var h=_.value;v+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(w){n={error:w}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new ae;var o=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var h=Yd(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value,m=v.getEstimatedModuleSize();c+=m,f+=m*m}}catch(L){e={error:L}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}l=c/a;var _=Math.sqrt(f/a-l*l);o.sort(function(L,B){var D=Math.abs(B.getEstimatedModuleSize()-l),N=Math.abs(L.getEstimatedModuleSize()-l);return D<N?-1:D>N?1:0});for(var w=Math.max(.2*l,_),E=0;E<o.length&&o.length>3;E++){var S=o[E];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(E,1),E--)}}if(o.length>3){var c=0;try{for(var I=Yd(o),O=I.next();!O.done;O=I.next()){var M=O.value;c+=M.getEstimatedModuleSize()}}catch(B){n={error:B}}finally{try{O&&!O.done&&(i=I.return)&&i.call(I)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(B,D){if(D.getCount()===B.getCount()){var N=Math.abs(D.getEstimatedModuleSize()-l),k=Math.abs(B.getEstimatedModuleSize()-l);return N<k?1:N>k?-1:0}else return D.getCount()-B.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),wX=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(tr.NEED_RESULT_POINT_CALLBACK);var r=new bX(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new ae("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),l=Tu.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var h=n.getX()-r.getX()+i.getX(),p=n.getY()-r.getY()+i.getY(),v=1-3/c,m=Math.floor(r.getX()+v*(h-r.getX())),_=Math.floor(r.getY()+v*(p-r.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,_,w);break}catch(O){if(!(O instanceof ae))throw O}var E=t.createTransform(r,n,i,f,o),S=t.sampleGrid(this.image,E,o),I;return f===null?I=[i,r,n]:I=[i,r,n,f],new mE(S,I)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,l,c,f,h;return i!==null?(l=i.getX(),c=i.getY(),f=o-3,h=f):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),f=o,h=o),bN.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=yE.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=gt.round(Te.distance(e,r)/i),o=gt.round(Te.distance(e,n)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new ae("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),c=Math.abs(i-r),f=-l/2,h=e<n?1:-1,p=r<i?1:-1,v=0,m=n+h,_=e,w=r;_!==m;_+=h){var E=a?w:_,S=a?_:w;if(v===1===this.image.get(E,S)){if(v===2)return gt.distance(_,w,e,r);v++}if(f+=c,f>0){if(w===i)break;w+=p,f-=l}}return v===2?gt.distance(n+h,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),l=Math.min(this.image.getWidth()-1,r+a);if(l-o<e*3)throw new ae("Alignment top exceeds estimated module size.");var c=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-c<e*3)throw new ae("Alignment bottom exceeds estimated module size.");var h=new mX(this.image,o,c,l-o,f-c,e,this.resultPointCallback);return h.find()},t})(),fb=(function(){function t(){this.decoder=new hX}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(tr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new wX(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof CN&&n.getOther().applyMirroredCorrection(i);var l=new Bn(n.getText(),n.getRawBytes(),void 0,i,Ne.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(An.BYTE_SEGMENTS,c);var f=n.getECLevel();return f!==null&&l.putMetadata(An.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(l.putMetadata(An.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(An.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ae;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||a>=o)throw new ae;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new ae;var f=Math.round((c-l+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new ae;if(h!==f)throw new ae;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new ae;l-=v}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new ae;a-=m}for(var _=new uo(f,h),w=0;w<h;w++)for(var E=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),E)&&_.set(S,w);return _},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<n;){if(l!==r.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===n)throw new ae;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),EX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ft=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return gt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=EX(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Gr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),AX=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),SX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TX=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new AX(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,l=0,c=!1;o<r.getHeight();){var f=t.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(n=void 0,SX(a)),p=h.next();!p.done;p=h.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var l=new Array(4),c=!1,f=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var h=t.findGuardPattern(e,a,i,n,!1,o,f);if(h!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,n,!1,o,f);if(p!=null)h=p;else{i++;break}}l[0]=new Te(h[0],i),l[1]=new Te(h[1],i),c=!0;break}}var v=i+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<r;v++){var h=t.findGuardPattern(e,p[0],v,n,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<t.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Te(p[0],v),l[3]=new Te(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Gr.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,a,o,l){Gr.fillWithin(l,0,l.length,0);for(var c=r,f=0;e.get(c,n)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,p=0,v=o.length,m=a;h<i;h++){var _=e.get(h,n);if(_!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],$t.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return 1/0;var c=a/o;n*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=r[h]*c,m=p>v?p-v:v-p;if(m>n)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),CX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xu=(function(){function t(e,r){if(r.length===0)throw new Me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),$t.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=CX(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){r={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;$t.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=this.field.add(r[l-o],n[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=0;l<n;l++)for(var c=r[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Me;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Xe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),IX=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new _N;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),OX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),RX=(function(t){OX(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new xu(i,new Int32Array([0])),i.one=new xu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new xu(this,i)},e.PDF417_GF=new e(ft.NUMBER_OF_CODEWORDS,3),e})(IX),PX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DX=(function(){function t(){this.field=RX.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new xu(this.field,e),l=new Int32Array(r),c=!1,f=r;f>0;f--){var h=o.evaluateAt(this.field.exp(f));l[r-f]=h,h!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(n!=null)try{for(var v=PX(n),m=v.next();!m.done;m=v.next()){var _=m.value,w=this.field.exp(e.length-1-_),E=new xu(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(E)}}catch(N){i={error:N}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new xu(this.field,l),I=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),S,r),O=I[0],M=I[1],L=this.findErrorLocations(O),B=this.findErrorMagnitudes(M,O,L),f=0;f<L.length;f++){var D=e.length-1-this.field.log(L[f]);if(D<0)throw on.getChecksumInstance();e[D]=this.field.subtract(e[D],B[f])}return L.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,h=l;if(a=o,l=c,a.isZero())throw on.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}c=p.multiply(l).subtract(h).negative()}var E=c.getCoefficient(0);if(E===0)throw on.getChecksumInstance();var S=this.field.inverse(E),I=c.multiply(S),O=o.multiply(S);return[I,O]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw on.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new xu(this.field,a),c=n.length,f=new Int32Array(c),o=0;o<c;o++){var h=this.field.inverse(n[o]),p=this.field.subtract(0,e.evaluateAt(h)),v=this.field.inverse(l.evaluateAt(h));f[o]=this.field.multiply(p,v)}return f},t})(),db=(function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,l=i==null||a==null;if(o&&l)throw new ae;o?(r=new Te(0,i.getY()),n=new Te(0,a.getY())):l&&(i=new Te(e.getWidth()-1,r.getY()),a=new Te(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var h=new Te(c.getX(),f);n?i=h:o=h}if(r>0){var p=n?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Te(p.getX(),v);n?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),NX=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),_E=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,c,f,h,p){if(o==="%%")return"%";if(r[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=r[n];break;case"c":m=r[n][0];break;case"f":m=parseFloat(r[n]).toFixed(o);break;case"p":m=parseFloat(r[n]).toPrecision(o);break;case"e":m=parseFloat(r[n]).toExponential(o);break;case"x":m=parseInt(r[n]).toString(v||16);break;case"d":m=parseFloat(parseInt(r[n],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var _=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<_;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),MX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IN=(function(){function t(e){this.boundingBox=new db(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new _E,i=0;try{for(var a=MX(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),kX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LX=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},gh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>n?(n=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===n&&i.push(m.getKey())};try{for(var o=kX(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=LX(l.value,2),f=c[0],h=c[1];a(f,h)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return ft.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),jX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vO=(function(t){jX(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=$2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,v=l;v<c;v++)if(n[v]!=null){var m=n[v],_=m.getRowNumber()-f;if(_===0)p++;else if(_===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(_<0||m.getRowNumber()>=r.getRowCount()||_>v)n[v]=null;else{var w=void 0;h>2?w=(h-2)*_:w=_;for(var E=w>=v,S=1;S<=w&&!E;S++)E=n[v-S]!=null;E?n[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=$2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,h=o;h<l;h++)if(c[h]!=null){var p=c[h];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=r.getRowCount()?c[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new gh,o=new gh,l=new gh,c=new gh;try{for(var f=$2(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){r={error:w}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<ft.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>ft.MAX_ROWS_IN_BARCODE)return null;var _=new NX(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(IN),BX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VX=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ft.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[r],f[3]=c[r],r>0&&(f[0]=n[r-1],f[4]=l[r-1],f[5]=c[r-1]),r>1&&(f[8]=n[r-2],f[10]=l[r-2],f[11]=c[r-2]),r<n.length-1&&(f[1]=n[r+1],f[6]=l[r+1],f[7]=c[r+1]),r<n.length-2&&(f[9]=n[r+2],f[12]=l[r+2],f[13]=c[r+2]);try{for(var h=BX(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new _E,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t})(),FX=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),UX=(function(){function t(){}return t.initialize=function(){for(var e=0;e<ft.SYMBOL_TABLE.length;e++)for(var r=ft.SYMBOL_TABLE[e],n=r&1,i=0;i<ft.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ft.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ft.BARS_IN_MODULE-i-1]=Math.fround(a/ft.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=gt.sum(e),n=new Int32Array(ft.BARS_IN_MODULE),i=0,a=0,o=0;o<ft.MODULES_IN_CODEWORD;o++){var l=r/(2*ft.MODULES_IN_CODEWORD)+o*r/ft.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return ft.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=gt.sum(e),n=new Array(ft.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=ob.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,f=t.RATIOS_TABLE[l],h=0;h<ft.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-n[h]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=ft.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ft.SYMBOL_TABLE.length).map(function(e){return new Array(ft.BARS_IN_MODULE)}),t})(),zX=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),mO=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),HX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$X=(function(t){HX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ci),qX=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new $X;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new gE;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),GX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KX=(function(t){GX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(ci),WX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XX=(function(t){WX(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Me("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new KX;i=Ye.MAX_VALUE}this.buf=Gr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new gE;this.ensureCapacity(this.count+i),$t.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Gr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(qX),Bt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Bt||(Bt={}));function ON(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var p1;function Xs(t){if(typeof p1>"u"&&(p1=ON()),p1===null)throw new Error("BigInt is not supported!");return p1(t)}function YX(){var t=[];t[0]=Xs(1);var e=Xs(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var QX=(function(){function t(){}return t.decode=function(e,r){var n=new Xe(""),i=qr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],l=new zX;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:qr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ve.getFormatInstance()}if(n.length()===0)throw ve.getFormatInstance();var c=new Vv(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Ye.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Xe;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Xe;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Xe;r=t.textCompaction(e,r+1,f),n.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Xe;r=t.textCompaction(e,r+1,h),n.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Xe;r=t.numericCompaction(e,r+1,p),n.setSegmentCount(Ye.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Xe;r=t.numericCompaction(e,r+1,v),n.setTimestamp(mO.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Xe;r=t.numericCompaction(e,r+1,m),n.setChecksum(Ye.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Xe;r=t.numericCompaction(e,r+1,_),n.setFileSize(mO.parseLong(_.toString()));break;default:throw ve.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(l!==-1){var w=r-l;n.isLastSegment()&&w--,n.setOptionalData(Gr.copyOfRange(e,l,l+w))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Bt.ALPHA,o=Bt.ALPHA,l=0;l<n;){var c=e[l],f="";switch(a){case Bt.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=Bt.LOWER;break;case t.ML:a=Bt.MIXED;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=Bt.ALPHA_SHIFT;break;case t.ML:a=Bt.MIXED;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Bt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Bt.LOWER;break;case t.AL:a=Bt.ALPHA;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Bt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Bt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,r,n,i,a){var o=new XX,l=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=r[i++];i<r[0]&&!f;)switch(h[l++]=p,c=900*c+p,p=r[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Xs(c)>>Xs(8*(5-v))));c=0,l=0}break}i===r[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=p);for(var m=0;m<l;m++)o.write(h[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!f;){var _=r[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Xs(c)>>Xs(8*(5-v))));c=0,l=0}}break}return a.append(na.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var l=e[r++];if(r===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Xs(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Xs(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=ON()?YX():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Qd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZX=(function(){function t(){}return t.decode=function(e,r,n,i,a,o,l){for(var c=new db(e,r,n,i,a),f=null,h=null,p,v=!0;;v=!1){if(r!=null&&(f=t.getRowIndicatorColumn(e,c,r,!0,o,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,o,l)),p=t.merge(f,h),p==null)throw ae.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,h);for(var w=f!=null,E=1;E<=_;E++){var S=w?E:_-E;if(p.getDetectionResultColumn(S)===void 0){var I=void 0;S===0||S===_?I=new vO(c,S===0):I=new IN(c),p.setDetectionResultColumn(S,I);for(var O=-1,M=O,L=c.getMinY();L<=c.getMaxY();L++){if(O=t.getStartColumn(p,S,L,w),O<0||O>c.getMaxX()){if(M===-1)continue;O=M}var B=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,O,L,o,l);B!=null&&(I.setCodeword(L,B),M=O,o=Math.min(o,B.getWidth()),l=Math.max(l,B.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=db.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new VX(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=Qd(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;v>0&&h[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Qd(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var l=new vO(r,i),c=0;c<2;c++)for(var f=c===0?1:-1,h=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=r.getMaxY()&&p>=r.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);v!=null&&(l.setCodeword(p,v),i?h=v.getStartX():h=v.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ft.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=r[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;f.length===0?n.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ft.toIntArray(n),ft.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=a[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(h){var f=h instanceof on;if(!f)throw h}if(o.length===0)throw on.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw on.getChecksumInstance()}throw on.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new gh;var f=0;try{for(var h=Qd(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,Qd(v.getCodewords())),_=m.next();!_.done;_=m.next()){var w=_.value;if(w!=null){var E=w.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){r={error:S}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var h=(a=void 0,Qd(e.getDetectionResultColumn(r).getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var f=t.getModuleBitCount(e,r,n,i,a,o);if(f==null)return null;var h,p=gt.sum(f);if(i)h=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}h=a,a=h-p}if(!t.checkCodewordSkew(p,l,c))return null;var _=UX.getDecodedValue(f),w=ft.getCodeword(_);return w===-1?null:new FX(a,h,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var l=a,c=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?l<n:l>=r)&&f<c.length;)e.get(l,o)===p?(c[f]++,l+=h):(f++,p=!p);return f===c.length||l===(i?n:r)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ve.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=QX.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw on.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ve.getFormatInstance();var n=e[0];if(n>e.length)throw ve.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ve.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new _E,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new DX,t})(),JX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hb=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ae.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ve||n instanceof on?ae.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,l=TX.detectMultiple(e,r,n);try{for(var c=JX(l.getPoints()),f=c.next();!f.done;f=c.next()){var h=f.value,p=ZX.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),v=new Bn(p.getText(),p.getRawBytes(),void 0,h,Ne.PDF_417);v.putMetadata(An.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(An.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),eY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yO=(function(t){eY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(ci),xO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tY=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e==null?null:e.get(tr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Ne.UPC_A||o===Ne.UPC_E||o===Ne.EAN_13||o===Ne.EAN_8||o===Ne.CODABAR||o===Ne.CODE_39||o===Ne.CODE_93||o===Ne.CODE_128||o===Ne.ITF||o===Ne.RSS_14||o===Ne.RSS_EXPANDED});a&&!r&&i.push(new ph(e)),n.includes(Ne.QR_CODE)&&i.push(new fb),n.includes(Ne.DATA_MATRIX)&&i.push(new cb),n.includes(Ne.AZTEC)&&i.push(new lb),n.includes(Ne.PDF_417)&&i.push(new hb),a&&r&&i.push(new ph(e))}i.length===0&&(r||i.push(new ph(e)),i.push(new fb),i.push(new cb),i.push(new lb),i.push(new hb),r&&i.push(new ph(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=xO(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new yO("No readers where selected, nothing can be read.");try{for(var i=xO(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof yO)continue}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ae("No MultiFormat Readers were able to detect the code.")},t})(),rY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),nY=(function(t){rY(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new tY;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Nf),iY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){iY(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new hb,r)||this}return e})(Nf);var aY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){aY(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new fb,r)||this}return e})(Nf);var pb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(pb||(pb={}));const g1=pb;var RN=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ll(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new ll(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Me("No error correction bytes");var n=e.length-r;if(n<=0)throw new Me("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);$t.arraycopy(e,0,a,0,n);var o=new ll(this.field,a);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),f=r-c.length,h=0;h<f;h++)e[n+h]=0;$t.arraycopy(c,0,e,n+f,c.length)},t})(),vh=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=n[o],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===n[o+1][c]&&f===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=n[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<a&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=n[o],c=0;c<i;c++)l[c]===1&&r++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(r*2-f)*10/f);return h*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Me("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,h=0;h<a;h++){var p=r?o[l][h]:o[h][l];p===f?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,f=p)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),oY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sY=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=oY(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Gr.fill(o,e)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Xe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),gb=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),lY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Wt=(function(t){lY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(ci),_O=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new sn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],h=c[1];if(n.setBoolean(f,h,l),a<8){var p=n.getWidth()-a-1,v=8;n.setBoolean(p,v,l)}else{var p=8,v=n.getHeight()-7+(a-8);n.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new sn;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(n.get(f,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,r!==255&&vh.getDataMaskBit(r,f,l)&&(h=!h),n.setBoolean(f,l,h)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Wt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Me("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!gb.isValidMaskPattern(r))throw new Wt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new sn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Wt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Wt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Wt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Wt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(r.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),uY=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),bO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return vh.applyMaskPenaltyRule1(e)+vh.applyMaskPenaltyRule2(e)+vh.applyMaskPenaltyRule3(e)+vh.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(g1.CHARACTER_SET)!==void 0;a&&(i=n.get(g1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new sn;if(o===Xt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=qr.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var f=new sn;this.appendBytes(e,o,f,i);var h;if(n!==null&&n.get(g1.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(g1.QR_VERSION).toString(),10);h=Tu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,h);if(!this.willFit(v,h,r))throw new Wt("Data too big for requested version")}else h=this.recommendVersion(r,o,l,f);var m=new sn;m.appendBitArray(l);var _=o===Xt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,h,o,m),m.appendBitArray(f);var w=h.getECBlocksForLevel(r),E=h.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(E,m);var S=this.interleaveWithECBytes(m,h.getTotalCodewords(),E,w.getNumBlocks()),I=new gb;I.setECLevel(r),I.setMode(o),I.setVersion(h);var O=h.getDimensionForVersion(),M=new sY(O,O),L=this.chooseMaskPattern(S,r,h,M);return I.setMaskPattern(L),_O.buildMatrix(S,r,h,L,M),I.setMatrix(M),I},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Tu.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),qr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xt.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Xt.BYTE}return i?Xt.ALPHANUMERIC:n?Xt.NUMERIC:Xt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=na.encode(e,qr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<gb.NUM_MASK_PATTERNS;l++){_O.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Tu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Wt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Wt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Wt("Block ID too large");var l=e%n,c=n-l,f=Math.floor(e/n),h=f+1,p=Math.floor(r/n),v=p+1,m=f-p,_=h-v;if(m!==_)throw new Wt("EC bytes mismatch");if(n!==c+l)throw new Wt("RS blocks mismatch");if(e!==(p+m)*c+(v+_)*l)throw new Wt("Total bytes mismatch");i<c?(a[0]=p,o[0]=m):(a[0]=v,o[0]=_)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,l,c;if(e.getSizeInBytes()!==n)throw new Wt("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,v=new Array,m=0;m<i;++m){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,m,_,w);var E=_[0],S=new Uint8Array(E);e.toBytes(8*f,S,0,E);var I=t.generateECBytes(S,w[0]);v.push(new uY(S,I)),h=Math.max(h,E),p=Math.max(p,I.length),f+=_[0]}if(n!==f)throw new Wt("Data bytes does not match offset");for(var O=new sn,m=0;m<h;++m)try{for(var M=(a=void 0,bO(v)),L=M.next();!L.done;L=M.next()){var B=L.value,S=B.getDataBytes();m<S.length&&O.appendBits(S[m],8)}}catch(V){a={error:V}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var D=(l=void 0,bO(v)),N=D.next();!N.done;N=D.next()){var B=N.value,I=B.getErrorCorrectionBytes();m<I.length&&O.appendBits(I[m],8)}}catch(V){l={error:V}}finally{try{N&&!N.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}if(r!==O.getSizeInBytes())throw new Wt("Interleaving error: "+r+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new RN(oi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Wt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Xt.NUMERIC:t.appendNumericBytes(e,n);break;case Xt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Xt.BYTE:t.append8BitBytes(e,n,i);break;case Xt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Wt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Wt;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Wt;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=na.encode(e,n)}catch(c){throw new Wt(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=na.encode(e,qr.SJIS)}catch(p){throw new Wt(p)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,l=n[a+1]&255,c=o<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new Wt("Invalid byte sequence");var h=(f>>8)*192+(f&255);r.appendBits(h,13)}},t.appendECI=function(e,r){r.appendBits(Xt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=qr.UTF8.getName(),t})();var cY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){cY(e,t);function e(r,n,i,a,o,l,c,f){var h=t.call(this,l,c)||this;if(h.yuvData=r,h.dataWidth=n,h.dataHeight=i,h.left=a,h.top=o,a+l>n||o+c>i)throw new Me("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return $t.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;$t.arraycopy(this.yuvData,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,f=0;f<r;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var l=o+r/2,c=o,f=o+r-1;c<l;c++,f--){var h=i[c];i[c]=i[f],i[f]=h}},e.prototype.invert=function(){return new vE(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Bv);var fY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){fY(e,t);function e(r,n,i,a,o,l,c){var f=t.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=c,r.BYTES_PER_ELEMENT===4){for(var h=n*i,p=new Uint8ClampedArray(h),v=0;v<h;v++){var m=r[v],_=m>>16&255,w=m>>7&510,E=m&255;p[v]=(_+w+E)/4&255}f.luminances=p}else f.luminances=r;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new Me("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return $t.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;$t.arraycopy(this.luminances,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new vE(this)},e})(Bv);var dY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hY=(function(t){dY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(qr),pY=(function(){function t(){}return t.ISO_8859_1=qr.ISO8859_1,t})(),vb,gY=301,vY=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=gY);return{LOG:t,ALOG:e}};vb=vY([],[]),vb.LOG;vb.ALOG;var wO;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(wO||(wO={}));var EO=129,PN=230,mY=231,yY=235,xY=236,_Y=237,bY=238,wY=239,EY=240,q2=254,AY=254,AO="[)>05",SO="[)>06",TO="",Pt=0,xn=1,$n=2,zr=3,rn=4,Rn=5,SY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Pt},t.prototype.encode=function(e){var r=Ea.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Rn:e.writeCodeword(mY),e.signalEncoderChange(Rn);return;case xn:e.writeCodeword(PN),e.signalEncoderChange(xn);return;case zr:e.writeCodeword(bY),e.signalEncoderChange(zr);break;case $n:e.writeCodeword(wY),e.signalEncoderChange($n);break;case rn:e.writeCodeword(EY),e.signalEncoderChange(rn);break;default:throw new Error("Illegal mode: "+i)}else Ea.isExtendedASCII(n)?(e.writeCodeword(yY),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ea.isDigit(e)&&Ea.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),TY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Rn},t.prototype.encode=function(e){var r=new Xe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}var a=r.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)r.setCharAt(0,ut.getCharAt(a));else if(a<=1555)r.setCharAt(0,ut.getCharAt(Math.floor(a/250)+249)),r.insert(1,ut.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,n=r.length();f<n;f++)e.writeCodeword(this.randomize255State(r.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),bE=(function(){function t(){}return t.prototype.getEncodingMode=function(){return xn},t.prototype.encodeMaximal=function(e){for(var r=new Xe,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(r.length()%3);(h===2&&f!==2||h===1&&(n>3||f!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(PN),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Xe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Xe;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var f=r.length();if(f%3===0){var h=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(q2)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(q2),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(q2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Pt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Xe;return a.append(n),a.append(i),a.toString()},t})(),CY=(function(){function t(){}return t.prototype.getEncodingMode=function(){return rn},t.prototype.encode=function(e){for(var r=new Xe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Ea.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}r.append(ut.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Pt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ut.getCharAt(e-64)):Ea.illegalCharacter(ut.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(a<<6)+o,c=l>>16&255,f=l>>8&255,h=l&255,p=new Xe;return p.append(c),r>=2&&p.append(f),r>=3&&p.append(h),p.toString()},t})(),IY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),OY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=(function(){function t(e,r,n,i,a,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,n,i,a){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=OY(PY),f=c.next();!f.done;f=c.next()){var h=f.value;if(!(r===1&&h.rectangular)&&!(r===2&&!h.rectangular)&&!(n!=null&&(h.getSymbolWidth()<n.getWidth()||h.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),RY=(function(t){IY(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(bt),PY=[new bt(!1,3,5,8,8,1),new bt(!1,5,7,10,10,1),new bt(!0,5,7,16,6,1),new bt(!1,8,10,12,12,1),new bt(!0,10,11,14,6,2),new bt(!1,12,12,14,14,1),new bt(!0,16,14,24,10,1),new bt(!1,18,14,16,16,1),new bt(!1,22,18,18,18,1),new bt(!0,22,18,16,10,2),new bt(!1,30,20,20,20,1),new bt(!0,32,24,16,14,2),new bt(!1,36,24,22,22,1),new bt(!1,44,28,24,24,1),new bt(!0,49,28,22,14,2),new bt(!1,62,36,14,14,4),new bt(!1,86,42,16,16,4),new bt(!1,114,48,18,18,4),new bt(!1,144,56,20,20,4),new bt(!1,174,68,22,22,4),new bt(!1,204,84,24,24,4,102,42),new bt(!1,280,112,14,14,16,140,56),new bt(!1,368,144,16,16,16,92,36),new bt(!1,456,192,18,18,16,114,48),new bt(!1,576,224,20,20,16,144,56),new bt(!1,696,272,22,22,16,174,68),new bt(!1,816,336,24,24,16,136,56),new bt(!1,1050,408,18,18,36,175,68),new bt(!1,1304,496,20,20,36,163,62),new RY],DY=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new Xe,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Xe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=bt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),NY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),MY=(function(t){NY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return zr},e.prototype.encode=function(r){for(var n=new Xe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Ea.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Pt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Ea.illegalCharacter(ut.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(AY),r.getNewEncoding()<0&&r.signalEncoderChange(Pt)},e})(bE),kY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),LY=(function(t){kY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $n},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(bE),Ea=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=EO+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new bE,l=[new SY,o,new LY,new MY,new CY,new TY],c=new DY(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(AO)&&e.endsWith(TO)?(c.writeCodeword(xY),c.setSkipAtEnd(2),c.pos+=AO.length):e.startsWith(SO)&&e.endsWith(TO)&&(c.writeCodeword(_Y),c.setSkipAtEnd(2),c.pos+=SO.length);var f=Pt;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();h<p&&f!==Pt&&f!==Rn&&f!==rn&&c.writeCodeword("");var v=c.getCodewords();for(v.length()<p&&v.append(EO);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===zr&&i===zr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Pt}else if(n===rn&&i===rn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Pt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Pt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(r+a===e.length){Gr.fill(o,0),Gr.fill(l,0);var c=this.findMinimums(i,l,Ye.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Pt]===c)return Pt;if(f===1){if(o[Rn]>0)return Rn;if(o[rn]>0)return rn;if(o[$n]>0)return $n;if(o[zr]>0)return zr}return xn}var h=e.charCodeAt(r+a);if(a++,this.isDigit(h)?i[Pt]+=.5:this.isExtendedASCII(h)?(i[Pt]=Math.ceil(i[Pt]),i[Pt]+=2):(i[Pt]=Math.ceil(i[Pt]),i[Pt]++),this.isNativeC40(h)?i[xn]+=2/3:this.isExtendedASCII(h)?i[xn]+=8/3:i[xn]+=4/3,this.isNativeText(h)?i[$n]+=2/3:this.isExtendedASCII(h)?i[$n]+=8/3:i[$n]+=4/3,this.isNativeX12(h)?i[zr]+=2/3:this.isExtendedASCII(h)?i[zr]+=13/3:i[zr]+=10/3,this.isNativeEDIFACT(h)?i[rn]+=3/4:this.isExtendedASCII(h)?i[rn]+=17/4:i[rn]+=13/4,this.isSpecialB256(h)?i[Rn]+=4:i[Rn]++,a>=4){if(Gr.fill(o,0),Gr.fill(l,0),this.findMinimums(i,l,Ye.MAX_VALUE,o),l[Pt]<this.min(l[Rn],l[xn],l[$n],l[zr],l[rn]))return Pt;if(l[Rn]<l[Pt]||l[Rn]+1<this.min(l[xn],l[$n],l[zr],l[rn]))return Rn;if(l[rn]+1<this.min(l[Rn],l[xn],l[$n],l[zr],l[Pt]))return rn;if(l[$n]+1<this.min(l[Rn],l[xn],l[rn],l[zr],l[Pt]))return $n;if(l[zr]+1<this.min(l[Rn],l[xn],l[rn],l[$n],l[Pt]))return zr;if(l[xn]+1<this.min(l[Pt],l[Rn],l[rn],l[$n])){if(l[xn]<l[zr])return xn;if(l[xn]===l[zr]){for(var p=r+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return zr;if(!this.isNativeX12(v))break;p++}return xn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Gr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Ye.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),G2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CO=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return na.encode(e,this.charset)!=null}catch{return!1}},t})(),jY=(function(){function t(e,r,n){var i,a,o,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(k){return new CO(hY.forName(k))}),this.encoders=[];var h=[];h.push(new CO(pY.ISO_8859_1));for(var p=r!=null&&r.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var _=(i=void 0,G2(h)),w=_.next();!w.done;w=_.next()){var E=w.value,S=e.charAt(v),I=S.charCodeAt(0);if(I===n||E.canEncode(S)){m=!0;break}}}catch(k){i={error:k}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!m)try{for(var O=(o=void 0,G2(this.ENCODERS)),M=O.next();!M.done;M=O.next()){var E=M.value;if(E.canEncode(e.charAt(v))){h.push(E),m=!0;break}}}catch(k){o={error:k}}finally{try{M&&!M.done&&(l=O.return)&&l.call(O)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var L=0;try{for(var B=G2(h),D=B.next();!D.done;D=B.next()){var E=D.value;this.encoders[L++]=E}}catch(k){c={error:k}}finally{try{D&&!D.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}}var N=-1;if(r!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&r.name===this.encoders[v].name){N=v;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return na.encode(ut.getCharAt(e),this.encoders[r].name)},t})(),BY=3,VY=(function(){function t(e,r,n){this.fnc1=n;var i=new jY(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Xe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var l=e.charAt(i).charCodeAt(0),c=0,f=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),f=c+1);for(var h=c;h<f;h++)(l===o||r.canEncode(l,h))&&this.addEdge(n,i+1,new IO(l,r,h,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new IO[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var l=0;l<r.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][l],n);for(var l=0;l<r.length();l++)a[o-1][l]=null}for(var c=-1,f=Ye.MAX_VALUE,l=0;l<r.length();l++)if(a[i][l]!=null){var h=a[i][l];h.cachedTotalSize<f&&(f=h.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=r.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var _=v.previous===null?0:v.previous.encoderIndex;_!==v.encoderIndex&&p.unshift(256+r.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),IO=(function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(o+=BY),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),FY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var OO;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(OO||(OO={}));(function(t){FY(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(VY);var UY=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),RO=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),zY=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),HY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wE=(function(t){HY(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Ye.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(zY),$Y=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qY=(function(t){$Y(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(wE);function GY(t,e,r){return new qY(t,e,r)}function Zd(t,e,r){return new wE(t,e,r)}var KY=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ul=0,wg=1,ea=2,DN=3,Za=4,WY=new wE(null,0,0),K2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],XY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function YY(t){var e,r;try{for(var n=XY(t),i=n.next();!i.done;i=n.next()){var a=i.value;Gr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[ul][Za]=0,t[wg][Za]=0,t[wg][ul]=28,t[DN][Za]=0,t[ea][Za]=0,t[ea][ul]=15,t}var NN=YY(Gr.createInt32Array(6,6)),QY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZY=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=K2[this.mode][e];i=Zd(i,a&65535,a>>16),n+=a>>16}var o=e===ea?4:5;return i=Zd(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===ea?4:5;return n=Zd(n,NN[this.mode][e],i),n=Zd(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Za||this.mode===ea){var a=K2[n][ul];r=Zd(r,a&65535,a>>16),i+=a>>16,n=ul}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=GY(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(K2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new sn;try{for(var l=QY(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(o,e)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ut.format("%s bits=%d bytes=%d",KY[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(WY,ul,0,0),t})();function JY(t){var e=ut.getCharCode(" "),r=ut.getCharCode("."),n=ut.getCharCode(",");t[ul][e]=1;for(var i=ut.getCharCode("Z"),a=ut.getCharCode("A"),o=a;o<=i;o++)t[ul][o]=o-a+2;t[wg][e]=1;for(var l=ut.getCharCode("z"),c=ut.getCharCode("a"),o=c;o<=l;o++)t[wg][o]=o-c+2;t[ea][e]=1;for(var f=ut.getCharCode("9"),h=ut.getCharCode("0"),o=h;o<=f;o++)t[ea][o]=o-h+2;t[ea][n]=12,t[ea][r]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[DN][ut.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ut.getCharCode(m[v])>0&&(t[Za][ut.getCharCode(m[v])]=v);return t}var W2=JY(Gr.createInt32Array(5,256)),v1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eQ=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ut.getCharCode(" "),r=ut.getCharCode(`
`),n=RO.singletonList(ZY.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ut.getCharCode("\r"):a=o===r?2:0;break;case ut.getCharCode("."):a=o===e?3:0;break;case ut.getCharCode(","):a=o===e?4:0;break;case ut.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var l=RO.min(n,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=v1(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,a)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=W2[e.getMode()][i]>0,o=null,l=0;l<=Za;l++){var c=W2[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!a||l===e.getMode()||l===ea){var f=o.latchAndAppend(l,c);n.push(f)}if(!a&&NN[e.getMode()][l]>=0){var h=o.shiftAndAppend(l,c);n.push(h)}}}if(e.getBinaryShiftByteCount()>0||W2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(r);n.push(p)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var l=v1(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,r,n,o)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Za,n)),e.getMode()!==Za&&i.push(a.shiftAndAppend(Za,n)),n===3||n===4){var o=a.latchAndAppend(ea,16-n).latchAndAppend(ea,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var l=v1(e),c=l.next();!c.done;c=l.next()){var f=c.value,h=!0,p=function(E){if(E.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(E)&&(o=o.filter(function(S){return S!==E}))};try{for(var v=(i=void 0,v1(o)),m=v.next();!m.done;m=v.next()){var _=m.value,w=p(_);if(w==="break")break}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(E){r={error:E}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t})(),tQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new eQ(e).encode(),a=Ye.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,l,c,f,h,p;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Me(ut.format("Illegal value %s for layers",n));f=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var v=f-f%h;if(p=t.stuffBits(i,h),p.getSize()+a>v)throw new Me("Data to large for user specified layer");if(l&&p.getSize()>h*64)throw new Me("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Me("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,f=t.totalBitsInLayer(c,l),!(o>f)){(p==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],p=t.stuffBits(i,h));var v=f-f%h;if(!(l&&p.getSize()>h*64)&&p.getSize()+a<=v)break}}}var _=t.generateCheckWords(p,f,h),w=p.getSize()/h,E=t.generateModeMessage(l,c,w),S=(l?11:14)+c*4,I=new Int32Array(S),O;if(l){O=S;for(var m=0;m<I.length;m++)I[m]=m}else{O=S+1+2*Ye.truncDivision(Ye.truncDivision(S,2)-1,15);for(var M=Ye.truncDivision(S,2),L=Ye.truncDivision(O,2),m=0;m<M;m++){var B=m+Ye.truncDivision(m,15);I[M-m-1]=L-B-1,I[M+m]=L+B+1}}for(var D=new uo(O),m=0,N=0;m<c;m++){for(var k=(c-m)*4+(l?9:12),V=0;V<k;V++)for(var z=V*2,H=0;H<2;H++)_.get(N+z+H)&&D.set(I[m*2+H],I[m*2+V]),_.get(N+k*2+z+H)&&D.set(I[m*2+V],I[S-1-m*2-H]),_.get(N+k*4+z+H)&&D.set(I[S-1-m*2-H],I[S-1-m*2-V]),_.get(N+k*6+z+H)&&D.set(I[S-1-m*2-V],I[m*2+H]);N+=k*8}if(t.drawModeMessage(D,l,O,E),l)t.drawBullsEye(D,Ye.truncDivision(O,2),5);else{t.drawBullsEye(D,Ye.truncDivision(O,2),7);for(var m=0,V=0;m<Ye.truncDivision(S,2)-1;m+=15,V+=16)for(var H=Ye.truncDivision(O,2)&1;H<O;H+=2)D.set(Ye.truncDivision(O,2)-V,H),D.set(Ye.truncDivision(O,2)+V,H),D.set(H,Ye.truncDivision(O,2)-V),D.set(H,Ye.truncDivision(O,2)+V)}var U=new UY;return U.setCompact(l),U.setSize(O),U.setLayers(c),U.setCodeWords(w),U.setMatrix(D),U},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new sn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Ye.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Ye.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,l=new RN(t.getGF(n)),c=Ye.truncDivision(r,n),f=t.bitsToWords(e,n,c);l.encode(f,c-o);var h=r%n,p=new sn;p.appendBits(0,h);try{for(var v=tQ(Array.from(f)),m=v.next();!m.done;m=v.next()){var _=m.value;p.appendBits(_,n)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var l=0,c=0;c<r;c++)l|=e.get(a*r+c)?1<<r-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return oi.AZTEC_PARAM;case 6:return oi.AZTEC_DATA_6;case 8:return oi.AZTEC_DATA_8;case 10:return oi.AZTEC_DATA_10;case 12:return oi.AZTEC_DATA_12;default:throw new Me("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new sn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(l|=1<<r-1-c);(l&a)===a?(n.appendBits(l&a,r),o--):(l&a)===0?(n.appendBits(l|1,r),o--):n.appendBits(l,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const MN="YOUR_RAKUTEN_APP_ID_HERE",rQ="b72c14dc75bcde18fb7d3628bf7e92b7";async function nQ(t){console.log(`[] JAN: ${t}`);try{const e=await iQ(t);if(e)return console.log("[] API"),e}catch(e){console.warn("[] API:",e)}try{const e=await aQ(t);if(e)return console.log("[] API"),e}catch(e){console.warn("[] API:",e)}try{const e=await oQ(t);if(e)return console.log("[] JAN Code Lookup API"),e}catch(e){console.warn("[] JAN Code Lookup API:",e)}try{const e=await sQ(t);if(e)return console.log("[] Open Food Facts API"),e}catch(e){console.warn("[] Open Food Facts API:",e)}return console.warn("[] API"),lQ(t)}async function iQ(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",MN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Items||n.Items.length===0)return null;const i=n.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function aQ(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",MN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Products||n.Products.length===0)return null;const i=n.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function oQ(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",rQ),e.searchParams.set("query",t),e.searchParams.set("type","code");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.product||n.product.length===0)return null;const i=n.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function sQ(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();if(n.status!==1||!n.product)return null;const i=n.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function lQ(t){const r={"4902102072453":{name:" 900ml",price:258,calories:67,manufacturer:"",imageUrl:""},"4901777313989":{name:" 2L",price:138,calories:0,manufacturer:"",imageUrl:""},"4902430479318":{name:" 500ml",price:148,calories:125,manufacturer:"",imageUrl:""}}[t];return r?{barcode:t,...r,source:"mock"}:{barcode:t,name:` (${t})`,price:0,manufacturer:"",source:"mock"}}const uQ=({onProductFound:t,onClose:e})=>{const r=C.useRef(null),[n,i]=C.useState(null),[a,o]=C.useState(null),[l,c]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(h(),()=>{p()}),[]);const h=async()=>{try{i(null);const m=new nY;f.current=m;const _=await m.listVideoInputDevices();if(_.length===0)throw new Error("");const w=_.find(S=>{const I=S.label.toLowerCase();return I.includes("back")||I.includes("rear")||I.includes("environment")||I.includes("camera")&&I.includes("0")}),E=w?w.deviceId:_[_.length-1].deviceId;console.log(":",w?w.label:_[_.length-1].label),m.decodeFromVideoDevice(E,r.current,async(S,I)=>{if(S&&!l){const O=S.getText();if(O===a)return;o(O),c(!0);try{const M=await nQ(O);M?(t(M),p()):(i(`: ${O}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(M){console.error(":",M),i(""),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}I&&!(I instanceof ae)&&console.error(":",I)})}catch(m){console.error(":",m),i(m instanceof Error?m.message:"")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:""}),A.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:""})]}),A.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[A.jsx("video",{ref:r,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"..."}),n&&A.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:n})]}),A.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:""})})]})},cQ=({product:t,onAdded:e,onNavigateToStock:r})=>{const{addIntake:n}=ns(),{addStock:i}=go(),[a,o]=C.useState(""),[l,c]=C.useState(t.price?.toString()||""),[f,h]=C.useState("7"),p=()=>{if(!a){alert("");return}if(!l){alert("");return}n({name:t.name,calories:Number(a),price:Number(l)}),alert(""),e()},v=()=>{if(!f){alert("");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),r?(e(),setTimeout(()=>{r()},100)):(alert(""),e())};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(cw,{size:24,color:"#10b981"}),""]}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),A.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),A.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),A.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),A.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["",t.price.toLocaleString()]})]}),A.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"",t.source==="rakuten_product"&&"",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&""]})]}),A.jsxs("div",{style:{marginBottom:"24px"},children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(dw,{size:18}),""]}),A.jsx("label",{children:" (kcal)"}),A.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:": 200"}),A.jsx("label",{children:" ()"}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:": 150"}),A.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:""})]}),A.jsxs("div",{children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(tf,{size:18}),""]}),A.jsx("label",{children:""}),A.jsx("input",{type:"number",value:f,onChange:m=>h(m.target.value),placeholder:": 7"}),A.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:r?"":""})]}),A.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:""})]})},fQ=({onReceiptScanned:t,onClose:e})=>{const r=C.useRef(null),n=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});r.current&&(r.current.srcObject=w,h(w))}catch(w){console.error(":",w),c("")}};kn.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!r.current||!n.current)){o(!0),c(null);try{const w=r.current,E=n.current,S=E.getContext("2d");if(!S)throw new Error("Canvas context ");E.width=w.videoWidth,E.height=w.videoHeight,S.drawImage(w,0,0);const I=await new Promise((L,B)=>{E.toBlob(D=>{D?L(D):B(new Error("Blob"))},"image/jpeg",.95)}),O=new File([I],"receipt.jpg",{type:"image/jpeg"}),M=await XI(O);f&&f.getTracks().forEach(L=>L.stop()),t(M)}catch(w){console.error("OCR:",w),c(w.message||"")}finally{o(!1)}}},m=async w=>{const E=w.target.files?.[0];if(E){o(!0),c(null);try{const S=await XI(E);f&&f.getTracks().forEach(I=>I.stop()),t(S)}catch(S){console.error("OCR:",S),c(S.message||"")}finally{o(!1)}}},_=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h3",{style:{color:"white",margin:0},children:""}),A.jsx("button",{onClick:_,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:A.jsx(dv,{size:24})})]}),A.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[A.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("canvas",{ref:n,style:{display:"none"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:A.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:""})}),l&&A.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[A.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),A.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[A.jsx(FB,{size:20}),""]}),A.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":A.jsx(fw,{size:32})})]})]})},dQ=({result:t,onClose:e})=>{const{addExpense:r}=is(),[n,i]=C.useState(t.items),[a,o]=C.useState(null),[l,c]=C.useState(""),[f,h]=C.useState(""),p=n.reduce((O,M)=>O+M.price*(M.quantity||1),0),v=O=>{const M=n[O];o(O),c(M.name),h(M.price.toString())},m=()=>{if(a===null)return;const O=parseInt(f,10);if(isNaN(O)||O<=0){alert("");return}const M=[...n];M[a]={...M[a],name:l.trim(),price:O},i(M),o(null),c(""),h("")},_=()=>{o(null),c(""),h("")},w=O=>{if(window.confirm("")){const M=n.filter((L,B)=>B!==O);i(M)}},E=()=>{const O=window.prompt("");if(!O||!O.trim())return;const M=window.prompt("");if(!M)return;const L=parseInt(M,10);if(isNaN(L)||L<=0){alert("");return}i([...n,{name:O.trim(),price:L,quantity:1}])},S=()=>{if(n.length===0){alert("1");return}if(!window.confirm(`${n.length}
: ${p.toLocaleString()}`))return;const O=new Date().toISOString();n.forEach(M=>{const L=M.quantity||1;for(let B=0;B<L;B++)r({category:"food",amount:M.price,memo:M.name,date:t.date||O})}),alert(""),e()},I=O=>new Intl.NumberFormat("ja-JP").format(O);return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[A.jsx(FP,{size:20}),""]}),A.jsxs("button",{onClick:E,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[A.jsx(HP,{size:18}),""]})]}),A.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:":"})," ",t.storeName]}),t.date&&A.jsxs("div",{children:[A.jsx("strong",{children:":"})," ",t.date]})]}),n.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):A.jsx("div",{style:{marginBottom:"16px"},children:n.map((O,M)=>A.jsx("div",{style:{padding:"12px",borderBottom:M<n.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===M?A.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("input",{value:l,onChange:L=>c(L.target.value),placeholder:"",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("input",{value:f,onChange:L=>h(L.target.value),type:"number",placeholder:"",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:A.jsx($P,{size:16})}),A.jsx("button",{onClick:_,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:O.name}),O.quantity&&O.quantity>1&&A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[": ",O.quantity,""]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[A.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["",I(O.price*(O.quantity||1))]}),A.jsx("button",{onClick:()=>v(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:A.jsx(VB,{size:18})}),A.jsx("button",{onClick:()=>w(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:A.jsx(Wh,{size:18})})]})]})},M))}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:""}),A.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["",I(p)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:""}),A.jsx("button",{onClick:S,className:"submit",disabled:n.length===0,style:{opacity:n.length===0?.5:1},children:""})]}),A.jsxs("details",{style:{marginTop:"16px"},children:[A.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR"}),A.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},hQ=({onNavigateToStock:t})=>{const[e,r]=C.useState("select"),[n,i]=C.useState(!1),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{r("barcode"),i(!0),o(null)},h=()=>{r("receipt"),i(!0),c(null)},p=E=>{o(E),i(!1)},v=E=>{c(E),i(!1)},m=()=>{o(null),r("select")},_=()=>{c(null),r("select")},w=()=>{r("select"),i(!1),o(null),c(null)};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),e==="select"&&!n&&!a&&!l&&A.jsx(A.Fragment,{children:A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(fw,{size:20}),""]}),A.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:""}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[A.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(MB,{size:48}),A.jsx("span",{children:""}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JAN"})]}),A.jsxs("button",{onClick:h,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(FP,{size:48}),A.jsx("span",{children:""}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR"})]})]})]})}),e==="barcode"&&n&&A.jsx(uQ,{onProductFound:p,onClose:w}),e==="barcode"&&a&&A.jsx(cQ,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&n&&A.jsx(fQ,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&A.jsx(dQ,{result:l,onClose:_})]})};function kN(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=kN(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=kN(t))&&(n&&(n+=" "),n+=e);return n}var X2={},Y2={},PO;function pQ(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Y2)),Y2}var Q2={},DO;function LN(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Q2)),Q2}var Z2={},NO;function EE(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(Z2)),Z2}var J2={},ex={},MO;function gQ(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(ex)),ex}var kO;function AE(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gQ(),r=EE();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,c+=i[l]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=n})(J2)),J2}var LO;function SE(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pQ(),r=LN(),n=EE(),i=AE();function a(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?r.isDeepKey(c)?a(l,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const h=l[c];return h===void 0?f:h}default:{if(Array.isArray(c))return o(l,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?f:h}}}function o(l,c,f){if(c.length===0)return f;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})(X2)),X2}var tx,jO;function vQ(){return jO||(jO=1,tx=SE().get),tx}var mQ=vQ();const Fu=ho(mQ);var rx={exports:{}},jt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function yQ(){if(BO)return jt;BO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case t:switch(w=w.type,w){case r:case i:case n:case c:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case h:return w;case a:return w;default:return E}}case e:return E}}}return jt.ContextConsumer=a,jt.ContextProvider=o,jt.Element=t,jt.ForwardRef=l,jt.Fragment=r,jt.Lazy=p,jt.Memo=h,jt.Portal=e,jt.Profiler=i,jt.StrictMode=n,jt.Suspense=c,jt.SuspenseList=f,jt.isContextConsumer=function(w){return _(w)===a},jt.isContextProvider=function(w){return _(w)===o},jt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},jt.isForwardRef=function(w){return _(w)===l},jt.isFragment=function(w){return _(w)===r},jt.isLazy=function(w){return _(w)===p},jt.isMemo=function(w){return _(w)===h},jt.isPortal=function(w){return _(w)===e},jt.isProfiler=function(w){return _(w)===i},jt.isStrictMode=function(w){return _(w)===n},jt.isSuspense=function(w){return _(w)===c},jt.isSuspenseList=function(w){return _(w)===f},jt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},jt.typeOf=_,jt}var VO;function xQ(){return VO||(VO=1,rx.exports=yQ()),rx.exports}var _Q=xQ(),ln=t=>t===0?0:t>0?1:-1,Ri=t=>typeof t=="number"&&t!=+t,_u=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Ri(t),co=t=>Re(t)||typeof t=="string",bQ=0,jh=t=>{var e=++bQ;return"".concat(t||"").concat(e)},Ln=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return n;var a;if(_u(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ri(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},jN=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function fr(t,e,r){return Re(t)&&Re(e)?t+r*(e-t):e}function BN(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Fu(n,e))===r)}var nr=t=>t===null||typeof t>"u",u0=t=>nr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),wQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TE(t){if(typeof t!="string")return!1;var e=wQ;return e.includes(t)}var EQ=["viewBox","children"],FO=["points","pathLength"],nx={svg:EQ,polygon:FO,polyline:FO},CE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{TE(i)&&(n[i]=(a=>r[i](r,a)))}),n},AQ=(t,e,r)=>n=>(t(e,r,n),null),c0=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];TE(i)&&typeof a=="function"&&(n||(n={}),n[i]=AQ(a,e,r))}),n},SQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VN(t){if(typeof t!="string")return!1;var e=SQ;return e.includes(t)}function vo(t){var e=Object.entries(t).filter(r=>{var[n]=r;return VN(n)});return Object.fromEntries(e)}var UO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",zO=null,ix=null,FN=t=>{if(t===zO&&Array.isArray(ix))return ix;var e=[];return C.Children.forEach(t,r=>{nr(r)||(_Q.isFragment(r)?e=e.concat(FN(r.props.children)):e.push(r))}),ix=e,zO=t,e};function IE(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>UO(i)):n=[UO(e)],FN(t).forEach(i=>{var a=Fu(i,"type.displayName")||Fu(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var UN=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,TQ=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&nx?.[n])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!n&&a.includes(e)||VN(e)),c=!!r&&TE(e);return o||l||c},sr=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;TQ((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},CQ=["children","width","height","viewBox","className","style","title","desc"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(null,arguments)}function IQ(t,e){if(t==null)return{};var r,n,i=OQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function OQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OE=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:c,desc:f}=t,h=IQ(t,CQ),p=a||{width:n,height:i,x:0,y:0},v=vt("recharts-surface",o);return C.createElement("svg",mb({},sr(h,!0,"svg"),{className:v,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),r)}),RQ=["children","className"];function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(null,arguments)}function PQ(t,e){if(t==null)return{};var r,n,i=DQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tn=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=PQ(t,RQ),a=vt("recharts-layer",n);return C.createElement("g",yb({className:a},sr(i,!0),{ref:e}),r)}),zN=jP(),HN=C.createContext(null),NQ=()=>C.useContext(HN);function zt(t){return function(){return t}}const $N=Math.cos,Eg=Math.sin,Oa=Math.sqrt,Ag=Math.PI,Uv=2*Ag,xb=Math.PI,_b=2*xb,pu=1e-6,MQ=_b-pu;function qN(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function kQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qN;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class LQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qN:kQ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,f=i-r,h=o-e,p=l-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>pu)if(!(Math.abs(p*c-f*h)>pu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,_=i-l,w=c*c+f*f,E=m*m+_*_,S=Math.sqrt(w),I=Math.sqrt(v),O=a*Math.tan((xb-Math.acos((w+v-E)/(2*S*I)))/2),M=O/I,L=O/S;Math.abs(M-1)>pu&&this._append`L${e+M*h},${r+M*p}`,this._append`A${a},${a},0,0,${+(p*m>h*_)},${this._x1=e+L*c},${this._y1=r+L*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,h=r+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>pu||Math.abs(this._y1-h)>pu)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%_b+_b),v>MQ?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:v>pu&&this._append`A${n},${n},0,${+(v>=xb)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new LQ(e)}function PE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GN(t){this._context=t}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zv(t){return new GN(t)}function KN(t){return t[0]}function WN(t){return t[1]}function XN(t,e){var r=zt(!0),n=null,i=zv,a=null,o=RE(l);t=typeof t=="function"?t:t===void 0?KN:zt(t),e=typeof e=="function"?e:e===void 0?WN:zt(e);function l(c){var f,h=(c=PE(c)).length,p,v=!1,m;for(n==null&&(a=i(m=o())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function m1(t,e,r){var n=null,i=zt(!0),a=null,o=zv,l=null,c=RE(f);t=typeof t=="function"?t:t===void 0?KN:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?WN:zt(+r);function f(p){var v,m,_,w=(p=PE(p)).length,E,S=!1,I,O=new Array(w),M=new Array(w);for(a==null&&(l=o(I=c())),v=0;v<=w;++v){if(!(v<w&&i(E=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=m;--_)l.point(O[_],M[_]);l.lineEnd(),l.areaEnd()}S&&(O[v]=+t(E,v,p),M[v]=+e(E,v,p),l.point(n?+n(E,v,p):O[v],r?+r(E,v,p):M[v]))}if(I)return l=null,I+""||null}function h(){return XN().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class YN{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function jQ(t){return new YN(t,!0)}function BQ(t){return new YN(t,!1)}const DE={draw(t,e){const r=Oa(e/Ag);t.moveTo(r,0),t.arc(0,0,r,0,Uv)}},VQ={draw(t,e){const r=Oa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},QN=Oa(1/3),FQ=QN*2,UQ={draw(t,e){const r=Oa(e/FQ),n=r*QN;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},zQ={draw(t,e){const r=Oa(e),n=-r/2;t.rect(n,n,r,r)}},HQ=.8908130915292852,ZN=Eg(Ag/10)/Eg(7*Ag/10),$Q=Eg(Uv/10)*ZN,qQ=-$N(Uv/10)*ZN,GQ={draw(t,e){const r=Oa(e*HQ),n=$Q*r,i=qQ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Uv*a/5,l=$N(o),c=Eg(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},ax=Oa(3),KQ={draw(t,e){const r=-Oa(e/(ax*3));t.moveTo(0,r*2),t.lineTo(-ax*r,-r),t.lineTo(ax*r,-r),t.closePath()}},Ki=-.5,Wi=Oa(3)/2,bb=1/Oa(12),WQ=(bb/2+1)*3,XQ={draw(t,e){const r=Oa(e/WQ),n=r/2,i=r*bb,a=n,o=r*bb+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Ki*n-Wi*i,Wi*n+Ki*i),t.lineTo(Ki*a-Wi*o,Wi*a+Ki*o),t.lineTo(Ki*l-Wi*c,Wi*l+Ki*c),t.lineTo(Ki*n+Wi*i,Ki*i-Wi*n),t.lineTo(Ki*a+Wi*o,Ki*o-Wi*a),t.lineTo(Ki*l+Wi*c,Ki*c-Wi*l),t.closePath()}};function YQ(t,e){let r=null,n=RE(i);t=typeof t=="function"?t:zt(t||DE),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Sg(){}function Tg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function JN(t){this._context=t}JN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QQ(t){return new JN(t)}function eM(t){this._context=t}eM.prototype={areaStart:Sg,areaEnd:Sg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZQ(t){return new eM(t)}function tM(t){this._context=t}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JQ(t){return new tM(t)}function rM(t){this._context=t}rM.prototype={areaStart:Sg,areaEnd:Sg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eZ(t){return new rM(t)}function HO(t){return t<0?-1:1}function $O(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(HO(a)+HO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function qO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ox(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Cg(t){this._context=t}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ox(this,this._t0,qO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ox(this,qO(this,r=$O(this,t,e)),r);break;default:ox(this,this._t0,r=$O(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nM(t){this._context=new iM(t)}(nM.prototype=Object.create(Cg.prototype)).point=function(t,e){Cg.prototype.point.call(this,e,t)};function iM(t){this._context=t}iM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function tZ(t){return new Cg(t)}function rZ(t){return new nM(t)}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=GO(t),i=GO(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GO(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function nZ(t){return new aM(t)}function Hv(t,e){this._context=t,this._t=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function iZ(t){return new Hv(t,.5)}function aZ(t){return new Hv(t,0)}function oZ(t){return new Hv(t,1)}function df(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function wb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function sZ(t,e){return t[e]}function lZ(t){const e=[];return e.key=t,e}function uZ(){var t=zt([]),e=wb,r=df,n=sZ;function i(a){var o=Array.from(t.apply(this,arguments),lZ),l,c=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+n(p,o[l].key,f,a)]).data=p;for(l=0,h=PE(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?wb:typeof a=="function"?a:zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??df,i):r},i}function cZ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}df(t,e)}}function fZ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}df(t,e)}}function dZ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,f=0;l<o;++l){for(var h=t[e[l]],p=h[n][1]||0,v=h[n-1][1]||0,m=(p-v)/2,_=0;_<l;++_){var w=t[e[_]],E=w[n][1]||0,S=w[n-1][1]||0;m+=E-S}c+=p,f+=m*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,df(t,e)}}var hZ=["type","size","sizeType"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(null,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){pZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pZ(t,e,r){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mZ(t,e){if(t==null)return{};var r,n,i=yZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oM={symbolCircle:DE,symbolCross:VQ,symbolDiamond:UQ,symbolSquare:zQ,symbolStar:GQ,symbolTriangle:KQ,symbolWye:XQ},xZ=Math.PI/180,_Z=t=>{var e="symbol".concat(u0(t));return oM[e]||DE},bZ=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*xZ;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wZ=(t,e)=>{oM["symbol".concat(u0(t))]=e},NE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=mZ(t,hZ),a=WO(WO({},i),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=_Z(o),m=YQ().type(v).size(bZ(r,n,o));return m()},{className:c,cx:f,cy:h}=a,p=sr(a,!0);return f===+f&&h===+h&&r===+r?C.createElement("path",Eb({},p,{className:vt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};NE.registerSymbol=wZ;function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ab.apply(null,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){ME(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ME(t,e,r){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xi=32;class kE extends C.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=Xi/2,a=Xi/6,o=Xi/3,l=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Xi,y2:i,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Xi,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xi/8,"h").concat(Xi,"v").concat(Xi*3/4,"h").concat(-Xi,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=EZ({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(NE,{fill:l,cx:i,cy:i,size:Xi,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Xi,height:Xi},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var v=h.formatter||i,m=vt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?a:h.color,w=v?v(h.value,h,p):h.value;return C.createElement("li",Ab({className:m,style:c,key:"legend-item-".concat(p)},c0(this.props,h,p)),C.createElement(OE,{width:r,height:r,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}ME(kE,"displayName","Legend");ME(kE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var sx={},lx={},YO;function TZ(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(lx)),lx}var ux={},QO;function sM(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(ux)),ux}var cx={},fx={},dx={},ZO;function CZ(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(dx)),dx}var JO;function LE(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(fx)),fx}var hx={},e6;function IZ(){return e6||(e6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(hx)),hx}var t6;function OZ(){return t6||(t6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE(),r=IZ();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(cx)),cx}var px={},gx={},r6;function RZ(){return r6||(r6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE();function r(n){return function(i){return e.get(i,n)}}t.property=r})(gx)),gx}var vx={},mx={},yx={},xx={},n6;function lM(){return n6||(n6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(xx)),xx}var _x={},i6;function uM(){return i6||(i6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(_x)),_x}var bx={},a6;function cM(){return a6||(a6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(bx)),bx}var o6;function PZ(){return o6||(o6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE(),r=lM(),n=uM(),i=cM();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function _(w,E,S,I,O,M){const L=m(w,E,S,I,O,M);return L!==void 0?!!L:o(w,E,_,M)},new Map)}function o(p,v,m,_){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,_);case"function":return Object.keys(v).length>0?o(p,{...v},m,_):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,_){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,_);if(v instanceof Map)return c(p,v,m,_);if(v instanceof Set)return h(p,v,m,_);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let E=0;E<w.length;E++){const S=w[E];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,m,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,E]of v.entries()){const S=p.get(w);if(m(S,E,w,p,v,_)===!1)return!1}return!0}function f(p,v,m,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let E=0;E<v.length;E++){const S=v[E];let I=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const M=p[O];let L=!1;if(m(M,S,E,p,v,_)&&(L=!0),L){w.add(O),I=!0;break}}if(!I)return!1}return!0}function h(p,v,m,_){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,_):!1}t.isMatchWith=a,t.isSetMatch=h})(yx)),yx}var s6;function jE(){return s6||(s6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PZ();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(mx)),mx}var wx={},Ex={},Ax={},l6;function DZ(){return l6||(l6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Ax)),Ax}var Sx={},u6;function fM(){return u6||(u6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Sx)),Sx}var Tx={},c6;function dM(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",_="[object Error]",w="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",L="[object Int8Array]",B="[object Int16Array]",D="[object Int32Array]",N="[object BigInt64Array]",k="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=k,t.float64ArrayTag=V,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=D,t.int8ArrayTag=L,t.mapTag=c,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=O,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=S})(Tx)),Tx}var Cx={},f6;function NZ(){return f6||(f6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(Cx)),Cx}var d6;function hM(){return d6||(d6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DZ(),r=fM(),n=dM(),i=uM(),a=NZ();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,v,m=new Map,_=void 0){const w=_?.(h,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(m.has(h))return m.get(h);if(Array.isArray(h)){const E=new Array(h.length);m.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,v,m,_);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;m.set(h,E);for(const[S,I]of h)E.set(S,l(I,S,v,m,_));return E}if(h instanceof Set){const E=new Set;m.set(h,E);for(const S of h)E.add(l(S,void 0,v,m,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);m.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,v,m,_);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return m.set(h,E),c(E,h,v,m,_),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return m.set(h,E),c(E,h,v,m,_),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof Error){const E=new h.constructor;return m.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,v,m,_),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof Number){const E=new Number(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof String){const E=new String(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(typeof h=="object"&&f(h)){const E=Object.create(Object.getPrototypeOf(h));return m.set(h,E),c(E,h,v,m,_),E}return h}function c(h,p,v=h,m,_){const w=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<w.length;E++){const S=w[E],I=Object.getOwnPropertyDescriptor(h,S);(I==null||I.writable)&&(h[S]=l(p[S],S,v,m,_))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(Ex)),Ex}var h6;function MZ(){return h6||(h6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(wx)),wx}var p6;function kZ(){return p6||(p6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE(),r=MZ();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(vx)),vx}var Ix={},Ox={},Rx={},g6;function LZ(){return g6||(g6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM(),r=dM();function n(i,a){return e.cloneDeepWith(i,(o,l,c,f)=>{const h=a?.(o,l,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(Rx)),Rx}var v6;function jZ(){return v6||(v6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LZ();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(Ox)),Ox}var Px={},Dx={},m6;function pM(){return m6||(m6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Dx)),Dx}var Nx={},y6;function BZ(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fM();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Nx)),Nx}var x6;function VZ(){return x6||(x6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LN(),r=pM(),n=BZ(),i=AE();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=o;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(Px)),Px}var _6;function FZ(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE(),r=EE(),n=jZ(),i=SE(),a=VZ();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=o})(Ix)),Ix}var b6;function UZ(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM(),r=RZ(),n=kZ(),i=FZ();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(px)),px}var w6;function zZ(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TZ(),r=sM(),n=OZ(),i=UZ();function a(o,l=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(sx)),sx}var Mx,E6;function HZ(){return E6||(E6=1,Mx=zZ().uniqBy),Mx}var $Z=HZ();const A6=ho($Z);function gM(t,e,r){return e===!0?A6(t,r):typeof e=="function"?A6(t,e):t}var kx={exports:{}},Lx={},jx={exports:{}},Bx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S6;function qZ(){if(S6)return Bx;S6=1;var t=bf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),_=n({inst:{value:m,getSnapshot:v}}),w=_[0].inst,E=_[1];return a(function(){w.value=m,w.getSnapshot=v,c(w)&&E({inst:w})},[p,m,v]),i(function(){return c(w)&&E({inst:w}),p(function(){c(w)&&E({inst:w})})},[p]),o(m),m}function c(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!r(p,m)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Bx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Bx}var T6;function GZ(){return T6||(T6=1,jx.exports=qZ()),jx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6;function KZ(){if(C6)return Lx;C6=1;var t=bf(),e=GZ();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Lx.useSyncExternalStoreWithSelector=function(f,h,p,v,m){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(B){if(!I){if(I=!0,O=B,B=v(B),m!==void 0&&w.hasValue){var D=w.value;if(m(D,B))return M=D}return M=B}if(D=M,n(O,B))return D;var N=v(B);return m!==void 0&&m(D,N)?(O=B,D):(O=B,M=N)}var I=!1,O,M,L=p===void 0?null:p;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,p,v,m]);var E=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},Lx}var I6;function WZ(){return I6||(I6=1,kx.exports=KZ()),kx.exports}var XZ=WZ(),BE=C.createContext(null),YZ=t=>t,lr=()=>{var t=C.useContext(BE);return t?t.store.dispatch:YZ},K1=()=>{},QZ=()=>K1,ZZ=(t,e)=>t===e;function Ce(t){var e=C.useContext(BE);return XZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:QZ,e?e.store.getState:K1,e?e.store.getState:K1,e?t:K1,ZZ)}function JZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var O6=t=>Array.isArray(t)?t:[t];function rJ(t){const e=Array.isArray(t[0])?t[0]:t;return tJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var iJ=class{constructor(t){this.value=t}deref(){return this.value}},aJ=typeof WeakRef<"u"?WeakRef:iJ,oJ=0,R6=1;function y1(){return{s:oJ,v:void 0,o:null,p:null}}function vM(t,e={}){let r=y1();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let l=r;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const w=_.get(m);w===void 0?(l=y1(),_.set(m,l)):l=w}else{let _=l.p;_===null&&(l.p=_=new Map);const w=_.get(m);w===void 0?(l=y1(),_.set(m,l)):l=w}}const f=l;let h;if(l.s===R6)h=l.v;else if(h=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new aJ(h):h}return f.s=R6,f.v=h,h}return o.clearCache=()=>{r=y1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function sJ(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),JZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:m=vM,argsMemoizeOptions:_=[]}=h,w=O6(v),E=O6(_),S=rJ(i),I=p(function(){return a++,f.apply(null,arguments)},...w),O=m(function(){o++;const L=nJ(S,arguments);return l=I.apply(null,L),l},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var re=sJ(vM),lJ=Object.assign((t,e=re)=>{eJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>lJ}),Vx={},Fx={},Ux={},P6;function uJ(){return P6||(P6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),l=e(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=r})(Ux)),Ux}var zx={},Hx={},D6;function mM(){return D6||(D6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Hx)),Hx}var N6;function cJ(){return N6||(N6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(zx)),zx}var M6;function fJ(){return M6||(M6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uJ(),r=cJ(),n=AE();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,_)=>{let w=m;for(let E=0;E<_.length&&w!=null;++E)w=w[_[E]];return w},h=(m,_)=>_==null||m==null?_:typeof m=="object"&&"key"in m?Object.hasOwn(_,m.key)?_[m.key]:f(_,m.path):typeof m=="function"?m(_):Array.isArray(m)?f(_,m):typeof _=="object"?_[m]:_,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(_=>h(_,m))})).slice().sort((m,_)=>{for(let w=0;w<p.length;w++){const E=e.compareValues(m.criteria[w],_.criteria[w],l[w]);if(E!==0)return E}return 0}).map(m=>m.original)}t.orderBy=i})(Fx)),Fx}var $x={},k6;function dJ(){return k6||(k6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(l,c)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&c<a?o(h,c+1):i.push(h)}};return o(r,0),i}t.flatten=e})($x)),$x}var qx={},L6;function yM(){return L6||(L6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pM(),r=LE(),n=lM(),i=cM();function a(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=a})(qx)),qx}var j6;function hJ(){return j6||(j6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fJ(),r=dJ(),n=yM();function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(Vx)),Vx}var Gx,B6;function pJ(){return B6||(B6=1,Gx=hJ().sortBy),Gx}var gJ=pJ();const $v=ho(gJ);var xM=t=>t.legend.settings,vJ=t=>t.legend.size,mJ=t=>t.legend.payload,yJ=re([mJ,xM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?$v(n,r):n});function xJ(){return Ce(yJ)}var x1=1;function _M(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>x1||Math.abs(o.left-e.left)>x1||Math.abs(o.top-e.top)>x1||Math.abs(o.width-e.width)>x1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function _n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _J=typeof Symbol=="function"&&Symbol.observable||"@@observable",V6=_J,Kx=()=>Math.random().toString(36).substring(7).split("").join("."),bJ={INIT:`@@redux/INIT${Kx()}`,REPLACE:`@@redux/REPLACE${Kx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kx()}`},Ig=bJ;function VE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function bM(t,e,r){if(typeof t!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_n(1));return r(bM)(t,e)}let n=t,i=e,a=new Map,o=a,l=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((E,S)=>{o.set(S,E)}))}function h(){if(c)throw new Error(_n(3));return i}function p(E){if(typeof E!="function")throw new Error(_n(4));if(c)throw new Error(_n(5));let S=!0;f();const I=l++;return o.set(I,E),function(){if(S){if(c)throw new Error(_n(6));S=!1,f(),o.delete(I),a=null}}}function v(E){if(!VE(E))throw new Error(_n(7));if(typeof E.type>"u")throw new Error(_n(8));if(typeof E.type!="string")throw new Error(_n(17));if(c)throw new Error(_n(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=o).forEach(I=>{I()}),E}function m(E){if(typeof E!="function")throw new Error(_n(10));n=E,v({type:Ig.REPLACE})}function _(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_n(11));function I(){const M=S;M.next&&M.next(h())}return I(),{unsubscribe:E(I)}},[V6](){return this}}}return v({type:Ig.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:m,[V6]:_}}function wJ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ig.INIT})>"u")throw new Error(_n(12));if(typeof r(void 0,{type:Ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function wM(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{wJ(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const f={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],m=o[p],_=v(m,l);if(typeof _>"u")throw l&&l.type,new Error(_n(14));f[p]=_,c=c||_!==m}return c=c||n.length!==Object.keys(o).length,c?f:o}}function Og(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function EJ(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(_n(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},l=t.map(c=>c(o));return a=Og(...l)(i.dispatch),{...i,dispatch:a}}}function EM(t){return VE(t)&&"type"in t&&typeof t.type=="string"}var AM=Symbol.for("immer-nothing"),F6=Symbol.for("immer-draftable"),Pi=Symbol.for("immer-state");function Aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hf=Object.getPrototypeOf;function Uu(t){return!!t&&!!t[Pi]}function Zo(t){return t?SM(t)||Array.isArray(t)||!!t[F6]||!!t.constructor?.[F6]||f0(t)||Gv(t):!1}var AJ=Object.prototype.constructor.toString();function SM(t){if(!t||typeof t!="object")return!1;const e=hf(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===AJ}function Rg(t,e){qv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function qv(t){const e=t[Pi];return e?e.type_:Array.isArray(t)?1:f0(t)?2:Gv(t)?3:0}function Sb(t,e){return qv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TM(t,e,r){const n=qv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function SJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function f0(t){return t instanceof Map}function Gv(t){return t instanceof Set}function gu(t){return t.copy_||t.base_}function Tb(t,e){if(f0(t))return new Map(t);if(Gv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=SM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Pi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(hf(t),n)}else{const n=hf(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function FE(t,e=!1){return Kv(t)||Uu(t)||!Zo(t)||(qv(t)>1&&Object.defineProperties(t,{set:{value:_1},add:{value:_1},clear:{value:_1},delete:{value:_1}}),Object.freeze(t),e&&Object.values(t).forEach(r=>FE(r,!0))),t}function _1(){Aa(2)}function Kv(t){return Object.isFrozen(t)}var TJ={};function zu(t){const e=TJ[t];return e||Aa(0,t),e}var Bh;function CM(){return Bh}function CJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function U6(t,e){e&&(zu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Cb(t){Ib(t),t.drafts_.forEach(IJ),t.drafts_=null}function Ib(t){t===Bh&&(Bh=t.parent_)}function z6(t){return Bh=CJ(Bh,t)}function IJ(t){const e=t[Pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function H6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Pi].modified_&&(Cb(e),Aa(4)),Zo(t)&&(t=Pg(e,t),e.parent_||Dg(e,t)),e.patches_&&zu("Patches").generateReplacementPatches_(r[Pi].base_,t,e.patches_,e.inversePatches_)):t=Pg(e,r,[]),Cb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==AM?t:void 0}function Pg(t,e,r){if(Kv(e))return e;const n=e[Pi];if(!n)return Rg(e,(i,a)=>$6(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Dg(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Rg(a,(l,c)=>$6(t,n,i,l,c,r,o)),Dg(t,i,!1),r&&t.patches_&&zu("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function $6(t,e,r,n,i,a,o){if(Uu(i)){const l=a&&e&&e.type_!==3&&!Sb(e.assigned_,n)?a.concat(n):void 0,c=Pg(t,i,l);if(TM(r,n,c),Uu(c))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Zo(i)&&!Kv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Pg(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(f0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Dg(t,i)}}function Dg(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FE(e,r)}function OJ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:CM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=UE;r&&(i=[n],a=Vh);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var UE={get(t,e){if(e===Pi)return t;const r=gu(t);if(!Sb(r,e))return RJ(t,r,e);const n=r[e];return t.finalized_||!Zo(n)?n:n===Wx(t.base_,e)?(Xx(t),t.copy_[e]=Rb(n,t)):n},has(t,e){return e in gu(t)},ownKeys(t){return Reflect.ownKeys(gu(t))},set(t,e,r){const n=IM(gu(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Wx(gu(t),e),a=i?.[Pi];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(SJ(r,i)&&(r!==void 0||Sb(t.base_,e)))return!0;Xx(t),Ob(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Wx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xx(t),Ob(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=gu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Aa(11)},getPrototypeOf(t){return hf(t.base_)},setPrototypeOf(){Aa(12)}},Vh={};Rg(UE,(t,e)=>{Vh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vh.deleteProperty=function(t,e){return Vh.set.call(this,t,e,void 0)};Vh.set=function(t,e,r){return UE.set.call(this,t[0],e,r,t[0])};function Wx(t,e){const r=t[Pi];return(r?gu(r):t)[e]}function RJ(t,e,r){const n=IM(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function IM(t,e){if(!(e in t))return;let r=hf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=hf(r)}}function Ob(t){t.modified_||(t.modified_=!0,t.parent_&&Ob(t.parent_))}function Xx(t){t.copy_||(t.copy_=Tb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(c=a,...f){return o.produce(c,h=>r.call(this,h,...f))}}typeof r!="function"&&Aa(6),n!==void 0&&typeof n!="function"&&Aa(7);let i;if(Zo(e)){const a=z6(this),o=Rb(e,void 0);let l=!0;try{i=r(o),l=!1}finally{l?Cb(a):Ib(a)}return U6(a,n),H6(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===AM&&(i=void 0),this.autoFreeze_&&FE(i,!0),n){const a=[],o=[];zu("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Aa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let n,i;return[this.produce(e,r,(o,l)=>{n=o,i=l}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Zo(t)||Aa(8),Uu(t)&&(t=qo(t));const e=z6(this),r=Rb(t,void 0);return r[Pi].isManual_=!0,Ib(e),r}finishDraft(t,e){const r=t&&t[Pi];(!r||!r.isManual_)&&Aa(9);const{scope_:n}=r;return U6(n,e),H6(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=zu("Patches").applyPatches_;return Uu(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Rb(t,e){const r=f0(t)?zu("MapSet").proxyMap_(t,e):Gv(t)?zu("MapSet").proxySet_(t,e):OJ(t,e);return(e?e.scope_:CM()).drafts_.push(r),r}function qo(t){return Uu(t)||Aa(10,t),OM(t)}function OM(t){if(!Zo(t)||Kv(t))return t;const e=t[Pi];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Tb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Tb(t,!0);return Rg(r,(n,i)=>{TM(r,n,OM(i))}),e&&(e.finalized_=!1),r}var DJ=new PJ,RM=DJ.produce;function PM(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var NJ=PM(),MJ=PM,kJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Og:Og.apply(null,arguments)};function aa(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Oi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>EM(n)&&n.type===t,r}var DM=class mh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mh.prototype)}static get[Symbol.species](){return mh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mh(...e[0].concat(this)):new mh(...e.concat(this))}};function q6(t){return Zo(t)?RM(t,()=>{}):t}function b1(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function LJ(t){return typeof t=="boolean"}var jJ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new DM;return r&&(LJ(r)?o.push(NJ):o.push(MJ(r.extraArgument))),o},BJ="RTK_autoBatch",G6=t=>e=>{setTimeout(e,t)},VJ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:G6(10):t.type==="callback"?t.queueNotification:G6(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return l.add(h),()=>{v(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[BJ],a=!i,a&&(o||(o=!0,c(f))),n.dispatch(h)}finally{i=!0}}})},FJ=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new DM(t);return n&&i.push(VJ(typeof n=="object"?n:void 0)),i};function UJ(t){const e=jJ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(VE(r))l=wM(r);else throw new Error(Oi(1));let c;typeof n=="function"?c=n(e):c=e();let f=Og;i&&(f=kJ({trace:!1,...typeof i=="object"&&i}));const h=EJ(...c),p=FJ(h);let v=typeof o=="function"?o(p):p();const m=f(...v);return bM(l,a,m)}function NM(t){const e={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Oi(28));if(l in e)throw new Error(Oi(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function zJ(t){return typeof t=="function"}function HJ(t,e){let[r,n,i]=NM(e),a;if(zJ(t))a=()=>q6(t());else{const l=q6(t);a=()=>l}function o(l=a(),c){let f=[r[c.type],...n.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Uu(h)){const m=p(h,c);return m===void 0?h:m}else{if(Zo(h))return RM(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},l)}return o.getInitialState=a,o}var $J="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qJ=(t=21)=>{let e="",r=t;for(;r--;)e+=$J[Math.random()*64|0];return e},GJ=Symbol.for("rtk-slice-createasyncthunk");function KJ(t,e){return`${t}/${e}`}function WJ({creators:t}={}){const e=t?.asyncThunk?.[GJ];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Oi(11));const o=(typeof n.reducers=="function"?n.reducers(YJ()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const L=typeof O=="string"?O:O.type;if(!L)throw new Error(Oi(12));if(L in c.sliceCaseReducersByType)throw new Error(Oi(13));return c.sliceCaseReducersByType[L]=M,f},addMatcher(O,M){return c.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return c.actionCreators[O]=M,f},exposeCaseReducer(O,M){return c.sliceCaseReducersByName[O]=M,f}};l.forEach(O=>{const M=o[O],L={reducerName:O,type:KJ(i,O),createNotation:typeof n.reducers=="function"};ZJ(M)?eee(L,M,f,e):QJ(L,M,f)});function h(){const[O={},M=[],L=void 0]=typeof n.extraReducers=="function"?NM(n.extraReducers):[n.extraReducers],B={...O,...c.sliceCaseReducersByType};return HJ(n.initialState,D=>{for(let N in B)D.addCase(N,B[N]);for(let N of c.sliceMatchers)D.addMatcher(N.matcher,N.reducer);for(let N of M)D.addMatcher(N.matcher,N.reducer);L&&D.addDefaultCase(L)})}const p=O=>O,v=new Map,m=new WeakMap;let _;function w(O,M){return _||(_=h()),_(O,M)}function E(){return _||(_=h()),_.getInitialState()}function S(O,M=!1){function L(D){let N=D[O];return typeof N>"u"&&M&&(N=b1(m,L,E)),N}function B(D=p){const N=b1(v,M,()=>new WeakMap);return b1(N,D,()=>{const k={};for(const[V,z]of Object.entries(n.selectors??{}))k[V]=XJ(z,D,()=>b1(m,D,E),M);return k})}return{reducerPath:O,getSelectors:B,get selectors(){return B(L)},selectSlice:L}}const I={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(O,{reducerPath:M,...L}={}){const B=M??a;return O.inject({reducerPath:B,reducer:w},L),{...I,...S(B,!0)}}};return I}}function XJ(t,e,r,n){function i(a,...o){let l=e(a);return typeof l>"u"&&n&&(l=r()),t(l,...o)}return i.unwrapped=t,i}var Ni=WJ();function YJ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function QJ({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!JJ(n))throw new Error(Oi(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?aa(t,o):aa(t))}function ZJ(t){return t._reducerDefinitionType==="asyncThunk"}function JJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function eee({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Oi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:f,options:h}=r,p=i(t,a,h);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),c&&n.addCase(p.rejected,c),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(e,{fulfilled:o||w1,pending:l||w1,rejected:c||w1,settled:f||w1})}function w1(){}var tee="task",MM="listener",kM="completed",zE="cancelled",ree=`task-${zE}`,nee=`task-${kM}`,Pb=`${MM}-${zE}`,iee=`${MM}-${kM}`,Wv=class{constructor(t){this.code=t,this.message=`${tee} ${zE} (reason: ${t})`}name="TaskAbortError";message},HE=(t,e)=>{if(typeof t!="function")throw new TypeError(Oi(32))},Ng=()=>{},LM=(t,e=Ng)=>(t.catch(e),t),jM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Cu=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Iu=t=>{if(t.aborted){const{reason:e}=t;throw new Wv(e)}};function BM(t,e){let r=Ng;return new Promise((n,i)=>{const a=()=>i(new Wv(t.reason));if(t.aborted){a();return}r=jM(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Ng})}var aee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Wv?"cancelled":"rejected",error:r}}finally{e?.()}},Mg=t=>e=>LM(BM(t,e).then(r=>(Iu(t),r))),VM=t=>{const e=Mg(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Jc}=Object,K6={},Xv="listenerMiddleware",oee=(t,e)=>{const r=n=>jM(t,()=>Cu(n,t.reason));return(n,i)=>{HE(n);const a=new AbortController;r(a);const o=aee(async()=>{Iu(t),Iu(a.signal);const l=await n({pause:Mg(a.signal),delay:VM(a.signal),signal:a.signal});return Iu(a.signal),l},()=>Cu(a,nee));return i?.autoJoin&&e.push(o.catch(Ng)),{result:Mg(t)(o),cancel(){Cu(a,ree)}}}},see=(t,e)=>{const r=async(n,i)=>{Iu(e);let a=()=>{};const l=[new Promise((c,f)=>{let h=t({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await BM(e,Promise.race(l));return Iu(e),c}finally{a()}};return(n,i)=>LM(r(n,i))},FM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=aa(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Oi(21));return HE(a),{predicate:i,type:e,effect:a}},UM=Jc(t=>{const{type:e,predicate:r,effect:n}=FM(t);return{id:qJ(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>UM}),W6=(t,e)=>{const{type:r,effect:n,predicate:i}=FM(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Db=t=>{t.pending.forEach(e=>{Cu(e,Pb)})},lee=t=>()=>{t.forEach(Db),t.clear()},X6=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},zM=Jc(aa(`${Xv}/add`),{withTypes:()=>zM}),uee=aa(`${Xv}/removeAll`),HM=Jc(aa(`${Xv}/remove`),{withTypes:()=>HM}),cee=(...t)=>{console.error(`${Xv}/error`,...t)},d0=(t={})=>{const e=new Map,{extra:r,onError:n=cee}=t;HE(n);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Db(h)}),a=h=>{const p=W6(e,h)??UM(h);return i(p)};Jc(a,{withTypes:()=>a});const o=h=>{const p=W6(e,h);return p&&(p.unsubscribe(),h.cancelActive&&Db(p)),!!p};Jc(o,{withTypes:()=>o});const l=async(h,p,v,m)=>{const _=new AbortController,w=see(a,_.signal),E=[];try{h.pending.add(_),await Promise.resolve(h.effect(p,Jc({},v,{getOriginalState:m,condition:(S,I)=>w(S,I).then(Boolean),take:w,delay:VM(_.signal),pause:Mg(_.signal),extra:r,signal:_.signal,fork:oee(_.signal,E),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,I,O)=>{S!==_&&(Cu(S,Pb),O.delete(S))})},cancel:()=>{Cu(_,Pb),h.pending.delete(_)},throwIfCancelled:()=>{Iu(_.signal)}})))}catch(S){S instanceof Wv||X6(n,S,{raisedBy:"effect"})}finally{await Promise.all(E),Cu(_,iee),h.pending.delete(_)}},c=lee(e);return{middleware:h=>p=>v=>{if(!EM(v))return p(v);if(zM.match(v))return a(v.payload);if(uee.match(v)){c();return}if(HM.match(v))return o(v.payload);let m=h.getState();const _=()=>{if(m===K6)throw new Error(Oi(23));return m};let w;try{if(w=p(v),e.size>0){const E=h.getState(),S=Array.from(e.values());for(const I of S){let O=!1;try{O=I.predicate(v,E,m)}catch(M){O=!1,X6(n,M,{raisedBy:"predicate"})}O&&l(I,v,h,_)}}}finally{m=K6}return w},startListening:a,stopListening:o,clearListeners:c}};function Oi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var fee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$M=Ni({name:"chartLayout",initialState:fee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:dee,setLayout:hee,setChartSize:pee,setScale:gee}=$M.actions,vee=$M.reducer;function Y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(r),!0).forEach(function(n){mee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mee(t,e,r){return(e=yee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kg=Math.PI/180,_ee=t=>t*180/Math.PI,Lr=(t,e,r,n)=>({x:t+Math.cos(-kg*n)*r,y:e+Math.sin(-kg*n)*r}),qM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bee=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},wee=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=bee({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:o,angle:_ee(c),angleInRadian:c}},Eee=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},Aee=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},See=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=wee({x:r,y:n},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:f}=Eee(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?Q6(Q6({},e),{},{radius:i,angle:Aee(h,e)}):null};function GM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){Tee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tee(t,e,r){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qt(t,e,r){return nr(t)||nr(e)?r:co(e)?Fu(t,e,r):typeof e=="function"?e(t):r}var Oee=(t,e,r,n,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f=c>0?r[c-1].coordinate:r[l-1].coordinate,h=r[c].coordinate,p=c>=l-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(ln(h-f)!==ln(p-h)){var m=[];if(ln(p-h)===ln(i[1]-i[0])){v=p;var _=h+i[1]-i[0];m[0]=Math.min(_,(_+f)/2),m[1]=Math.max(_,(_+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(h,(w+h)/2),m[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>E[0]&&t<=E[1]||t>=m[0]&&t<=m[1]){({index:o}=r[c]);break}}else{var S=Math.min(f,p),I=Math.max(f,p);if(t>(S+h)/2&&t<=(I+h)/2){({index:o}=r[c]);break}}}else if(e){for(var O=0;O<l;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:o}=e[O]);break}}return o},Ree=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Re(t[a]))return Zi(Zi({},t),{},{[a]:t[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Re(t[o]))return Zi(Zi({},t),{},{[o]:t[o]+(i||0)})}return t},Ol=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",KM=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(r),o},WM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var _=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=m==="angleAxis"&&a&&a.length>=2?ln(a[0]-a[1])*2*w:w,p||v){var E=(p||v||[]).map((S,I)=>{var O=n?n.indexOf(S):S;return{coordinate:o(O)+w,value:S,offset:w,index:I}});return E.filter(S=>!Ri(S.coordinate))}return c&&f?f.map((S,I)=>({coordinate:o(S)+w,value:S,index:I,offset:w})):o.ticks&&h!=null?o.ticks(h).map((S,I)=>({coordinate:o(S)+w,value:S,offset:w,index:I})):o.domain().map((S,I)=>({coordinate:o(S)+w,value:n?n[S]:S,index:I,offset:w}))},J6=1e-4,Pee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-J6,a=Math.max(n[0],n[1])+J6,o=t(e[0]),l=t(e[r-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[r-1]])}},Dee=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<r)&&(i[0]=r),(!Re(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Nee=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var l=Ri(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1])}},Mee=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=Ri(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},kee={sign:Nee,expand:cZ,none:df,silhouette:fZ,wiggle:dZ,positive:Mee},Lee=(t,e,r)=>{var n=kee[r],i=uZ().keys(e).value((a,o)=>+qt(a,o,0)).order(wb).offset(n);return i(t)};function jee(t){return t==null?void 0:String(t)}function e8(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nr(i[e.dataKey])){var l=BN(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=qt(i,nr(o)?e.dataKey:o);return nr(c)?null:e.scale(c)}var t8=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var l=qt(a,e.dataKey,e.scale.domain()[o]);return nr(l)?null:e.scale(l)-i/2+n},Bee=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Vee=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},Fee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Uee=(t,e,r)=>{if(t!=null)return Fee(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((c,f)=>{var h=GM(f,e,r),p=Vee(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},r8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fh=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=$v(e,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function i8(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Zi(Zi({},e),{},{dataKey:r,payload:n,value:i,name:a})}function Mf(t,e){if(t)return String(t);if(typeof e=="string")return e}function zee(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?See({x:t,y:e},n):null}var Hee=(t,e,r,n)=>{var i=e.find(f=>f&&f.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return Zi(Zi(Zi({},n),Lr(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=n;return Zi(Zi(Zi({},n),Lr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},$ee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,as=t=>t.layout.width,os=t=>t.layout.height,qee=t=>t.layout.scale,XM=t=>t.layout.margin,Yv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),YM="data-recharts-item-index",QM="data-recharts-item-data-key",h0=60;function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){Gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gee(t,e,r){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xee=t=>t.brush.height;function Yee(t){var e=Qv(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:h0;return r+i}return r},0)}function Qee(t){var e=Qv(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:h0;return r+i}return r},0)}function Zee(t){var e=Yv(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Jee(t){var e=Yv(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Xr=re([as,os,XM,Xee,Yee,Qee,Zee,Jee,xM,vJ],(t,e,r,n,i,a,o,l,c,f)=>{var h={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+l},v=E1(E1({},p),h),m=v.bottom;v.bottom+=n,v=Ree(v,c,f);var _=t-v.left-v.right,w=e-v.top-v.bottom;return E1(E1({brushBottom:m},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),ete=re(Xr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$E=re(as,os,(t,e)=>({x:0,y:0,width:t,height:e})),tte=C.createContext(null),fi=()=>C.useContext(tte)!=null,Zv=t=>t.brush,Jv=re([Zv,Xr,XM],(t,e,r)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Re(t.width)?t.width:e.width})),qE=()=>{var t,e=fi(),r=Ce(ete),n=Ce(Jv),i=(t=Ce(Zv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},rte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZM=()=>{var t;return(t=Ce(Xr))!==null&&t!==void 0?t:rte},GE=()=>Ce(as),KE=()=>Ce(os),nte=()=>Ce(t=>t.layout.margin),ct=t=>t.layout.layoutType,em=()=>Ce(ct),ite={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JM=Ni({name:"legend",initialState:ite,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=qo(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:o8,setLegendSettings:ate,addLegendPayload:e9,removeLegendPayload:t9}=JM.actions,ote=JM.reducer,ste=["contextPayload"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(null,arguments)}function s8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WE(t,e,r){return(e=lte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cte(t,e){if(t==null)return{};var r,n,i=fte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dte(t){return t.value}function hte(t){var{contextPayload:e}=t,r=cte(t,ste),n=gM(e,t.payloadUniqBy,dte),i=pf(pf({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(kE,i)}function pte(t,e,r,n,i,a){var{layout:o,align:l,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((n||0)-a.width)/2}:f=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),pf(pf({},f),h)}function gte(t){var e=lr();return C.useEffect(()=>{e(ate(t))},[e,t]),null}function vte(t){var e=lr();return C.useEffect(()=>(e(o8(t)),()=>{e(o8({width:0,height:0}))}),[e,t]),null}function mte(t){var e=xJ(),r=NQ(),n=nte(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[c,f]=_M([e]),h=GE(),p=KE();if(h==null||p==null)return null;var v=h-(n.left||0)-(n.right||0),m=tm.getWidthOrHeight(t.layout,a,i,v),_=l?o:pf(pf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},pte(o,t,n,h,p,c)),o),w=l??r;if(w==null)return null;var E=C.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},C.createElement(gte,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(vte,{width:c.width,height:c.height}),C.createElement(hte,Nb({},t,m,{margin:n,chartWidth:h,chartHeight:p,contextPayload:e})));return zN.createPortal(E,w)}class tm extends C.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&Re(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return C.createElement(mte,this.props)}}WE(tm,"displayName","Legend");WE(tm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(null,arguments)}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){yte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yte(t,e,r){return(e=xte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bte(t){return Array.isArray(t)&&co(t[0])&&co(t[1])?t.join(" ~ "):t}var wte=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var L={padding:0,margin:0},B=(l?$v(a,l):a).map((D,N)=>{if(D.type==="none")return null;var k=D.formatter||o||bte,{value:V,name:z}=D,H=V,U=z;if(k){var he=k(V,z,D,N,a);if(Array.isArray(he))[H,U]=he;else if(he!=null)H=he;else return null}var be=Yx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:be},co(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,co(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:L},B)}return null},_=Yx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Yx({margin:0},i),E=!nr(h),S=E?h:"",I=vt("recharts-default-tooltip",c),O=vt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(S=p(h,a));var M=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Mb({className:I,style:_},M),C.createElement("p",{className:O,style:w},C.isValidElement(S)?S:"".concat(S)),m())},Jd="recharts-tooltip-wrapper",Ete={visibility:"hidden"};function Ate(t){var{coordinate:e,translateX:r,translateY:n}=t;return vt(Jd,{["".concat(Jd,"-right")]:Re(r)&&e&&Re(e.x)&&r>=e.x,["".concat(Jd,"-left")]:Re(r)&&e&&Re(e.x)&&r<e.x,["".concat(Jd,"-bottom")]:Re(n)&&e&&Re(e.y)&&n>=e.y,["".concat(Jd,"-top")]:Re(n)&&e&&Re(e.y)&&n<e.y})}function u8(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[n]))return a[n];var h=r[n]-l-(i>0?i:0),p=r[n]+i;if(e[n])return o[n]?h:p;var v=c[n];if(v==null)return 0;if(o[n]){var m=h,_=v;return m<_?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var w=p+l,E=v+f;return w>E?Math.max(h,v):Math.max(p,v)}function Ste(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Tte(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,f,h,p;return o.height>0&&o.width>0&&r?(h=u8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=u8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=Ste({translateX:h,translateY:p,useTranslate3d:l})):f=Ete,{cssProperties:f,cssClasses:Ate({translateX:h,translateY:p,coordinate:r})}}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){kb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kb(t,e,r){return(e=Cte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ote extends C.PureComponent{constructor(){super(...arguments),kb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:_,lastBoundingBox:w,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:O}=Tte({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),M=S?{}:A1(A1({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=A1(A1({},M),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:L,ref:E},a)}}var Rte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rl={devToolsEnabled:!1,isSsr:Rte()},r9=()=>Ce(t=>t.rootProps.accessibilityLayer);function Di(t){return Number.isFinite(t)}function gf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(null,arguments)}function f8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(r),!0).forEach(function(n){Pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pte(t,e,r){return(e=Dte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h8={curveBasisClosed:ZQ,curveBasisOpen:JQ,curveBasis:QQ,curveBumpX:jQ,curveBumpY:BQ,curveLinearClosed:eZ,curveLinear:zv,curveMonotoneX:tZ,curveMonotoneY:rZ,curveNatural:nZ,curveStep:iZ,curveStepAfter:oZ,curveStepBefore:aZ},S1=t=>Di(t.x)&&Di(t.y),eh=t=>t.x,th=t=>t.y,Mte=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(u0(t));return(r==="curveMonotone"||r==="curveBump")&&e?h8["".concat(r).concat(e==="vertical"?"Y":"X")]:h8[r]||zv},kte=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=Mte(e,i),l=a?r.filter(S1):r,c;if(Array.isArray(n)){var f=a?n.filter(p=>S1(p)):n,h=l.map((p,v)=>d8(d8({},p),{},{base:f[v]}));return i==="vertical"?c=m1().y(th).x1(eh).x0(p=>p.base.x):c=m1().x(eh).y1(th).y0(p=>p.base.y),c.defined(S1).curve(o),c(h)}return i==="vertical"&&Re(n)?c=m1().y(th).x1(eh).x0(n):Re(n)?c=m1().x(eh).y1(th).y0(n):c=XN().x(eh).y(th),c.defined(S1).curve(o),c(l)},XE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?kte(t):n;return C.createElement("path",Lb({},vo(t),CE(t),{className:vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Lte=["x","y","top","left","width","height","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(null,arguments)}function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){Bte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bte(t,e,r){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e){if(t==null)return{};var r,n,i=zte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hte=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),$te=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=t,c=Ute(t,Lte),f=jte({x:e,y:r,top:n,left:i,width:a,height:o},c);return!Re(e)||!Re(r)||!Re(a)||!Re(o)||!Re(n)||!Re(i)?null:C.createElement("path",jb({},sr(f,!0),{className:vt("recharts-cross",l),d:Hte(e,r,a,o,n,i)}))};function qte(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Kte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kte(t,e,r){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wte(t){var e=Xte(t,"string");return typeof e=="symbol"?e:e+""}function Xte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e){var r=Gte({},t),n=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}function Yte(){}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){Qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qte(t,e,r){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ere=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),n9=(t,e,r)=>t.map(n=>"".concat(ere(n)," ").concat(e,"ms ").concat(r)).join(","),tre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Uh=(t,e)=>Object.keys(e).reduce((r,n)=>m8(m8({},r),{},{[n]:t(n,e[n])}),{});function y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(r),!0).forEach(function(n){rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rre(t,e,r){return(e=nre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lg=(t,e,r)=>t+(e-t)*r,Bb=t=>{var{from:e,to:r}=t;return e!==r},i9=(t,e,r)=>{var n=Uh((i,a)=>{if(Bb(a)){var[o,l]=t(a.from,a.to,a.velocity);return wn(wn({},a),{},{from:o,velocity:l})}return a},e);return r<1?Uh((i,a)=>Bb(a)?wn(wn({},a),{},{velocity:Lg(a.velocity,n[i].velocity,r),from:Lg(a.from,n[i].from,r)}):a,e):i9(t,n,r-1)};function are(t,e,r,n,i,a){var o,l=n.reduce((v,m)=>wn(wn({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>Uh((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Bb).length,h=null,p=v=>{o||(o=v);var m=v-o,_=m/r.dt;l=i9(r,l,_),i(wn(wn(wn({},t),e),c())),o=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function ore(t,e,r,n,i,a,o){var l=null,c=i.reduce((p,v)=>wn(wn({},p),{},{[v]:[t[v],e[v]]}),{}),f,h=p=>{f||(f=p);var v=(p-f)/n,m=Uh((w,E)=>Lg(...E,r(v)),c);if(a(wn(wn(wn({},t),e),m)),v<1)l=o.setTimeout(h);else{var _=Uh((w,E)=>Lg(...E,r(1)),c);a(wn(wn(wn({},t),e),_))}};return()=>(l=o.setTimeout(h),()=>{l()})}const sre=(t,e,r,n,i,a)=>{var o=tre(t,e);return r.isStepper===!0?are(t,e,r,o,i,a):ore(t,e,r,n,o,i,a)};var jg=1e-4,a9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],o9=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),x8=(t,e)=>r=>{var n=a9(t,e);return o9(n,r)},lre=(t,e)=>r=>{var n=a9(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return o9(i,r)},_8=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,r,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,n,r,i]=o);var f=x8(e,r),h=x8(n,i),p=lre(e,r),v=_=>_>1?1:_<0?0:_,m=_=>{for(var w=_>1?1:_,E=w,S=0;S<8;++S){var I=f(E)-w,O=p(E);if(Math.abs(I-w)<jg||O<jg)return h(E);E=v(E-I/O)}return h(E)};return m.isStepper=!1,m},ure=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,l,c)=>{var f=-(o-l)*r,h=c*n,p=c+(f-h)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<jg&&Math.abs(p)<jg?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},cre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _8(t);case"spring":return ure();default:if(t.split("(")[0]==="cubic-bezier")return _8(t)}return typeof t=="function"?t:null};function fre(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class dre{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function hre(){return fre(new dre)}var pre=C.createContext(hre);function gre(t,e){var r=C.useContext(pre);return C.useMemo(()=>e??r(t),[t,e,r])}var vre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},b8={t:0},Qx={t:1};function p0(t){var e=Cn(t,vre),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:f}=e,h=gre(e.animationId,e.animationManager),[p,v]=C.useState(r?b8:Qx),m=C.useRef(null);return C.useEffect(()=>{r||v(Qx)},[r]),C.useEffect(()=>{if(!r||!n)return Yte;var _=sre(b8,Qx,cre(a),i,v,h.getTimeoutController()),w=()=>{m.current=_()};return h.start([c,o,w,i,l]),()=>{h.stop(),m.current&&m.current(),l()}},[r,n,i,a,o,c,l,h]),f(p.t)}function g0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(jh(e)),n=C.useRef(t);return n.current!==t&&(r.current=jh(e),n.current=t),r.current}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e,r){return(e=yre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(null,arguments)}var A8=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),f+="L ".concat(t+r-l*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+o*h[1])),f+="L ".concat(t+r,",").concat(e+n-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+r-l*h[2],",").concat(e+n)),f+="L ".concat(t+l*h[3],",").concat(e+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+o*m,`
            L `).concat(t+r,",").concat(e+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+n-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},_re={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s9=t=>{var e=Cn(t,_re),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var he=r.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:_,isUpdateAnimationActive:w}=e,E=C.useRef(l),S=C.useRef(c),I=C.useRef(a),O=C.useRef(o),M=C.useMemo(()=>({x:a,y:o,width:l,height:c,radius:f}),[a,o,l,c,f]),L=g0(M,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var B=vt("recharts-rectangle",h);if(!w)return C.createElement("path",Bg({},sr(e,!0),{className:B,d:A8(a,o,l,c,f)}));var D=E.current,N=S.current,k=I.current,V=O.current,z="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),U=n9(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(p0,{animationId:L,key:L,canBegin:n>0,duration:v,easing:p,isActive:w,begin:m},he=>{var be=fr(D,l,he),Y=fr(N,c,he),se=fr(k,a,he),me=fr(V,o,he);r.current&&(E.current=be,S.current=Y,I.current=se,O.current=me);var Se;return _?he>0?Se={transition:U,strokeDasharray:H}:Se={strokeDasharray:z}:Se={strokeDasharray:H},C.createElement("path",Bg({},sr(e,!0),{className:B,d:A8(se,me,be,Y,f),ref:r,style:E8(E8({},Se),e.style)}))})};function l9(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=Lr(e,r,n,i),l=Lr(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(null,arguments)}var bre=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},T1=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,f=l*(o?1:-1)+n,h=Math.asin(l/f)/kg,p=c?i:i+a*h,v=Lr(e,r,f,p),m=Lr(e,r,n,p),_=c?i-a*h:i,w=Lr(e,r,f*Math.cos(h*kg),_);return{center:v,circleTangency:m,lineTangency:w,theta:h}},u9=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,l=bre(a,o),c=a+l,f=Lr(e,r,i,a),h=Lr(e,r,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=Lr(e,r,n,a),m=Lr(e,r,n,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},wre=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}=t,h=ln(f-c),{circleTangency:p,lineTangency:v,theta:m}=T1({cx:e,cy:r,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:w,theta:E}=T1({cx:e,cy:r,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-f):Math.abs(c-f)-m-E;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):u9({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:f});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:M,theta:L}=T1({cx:e,cy:r,radius:n,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:B,lineTangency:D,theta:N}=T1({cx:e,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=l?Math.abs(c-f):Math.abs(c-f)-L-N;if(k<0&&a===0)return"".concat(I,"L").concat(e,",").concat(r,"Z");I+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else I+="L".concat(e,",").concat(r,"Z");return I},Ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c9=t=>{var e=Cn(t,Ere),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var v=vt("recharts-sector",p),m=a-i,_=Ln(o,m,0,!0),w;return _>0&&Math.abs(f-h)<360?w=wre({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):w=u9({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),C.createElement("path",Vb({},sr(e,!0),{className:v,d:w}))};function Are(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:f,outerRadius:h,angle:p}=e,v=Lr(l,c,f,p),m=Lr(l,c,h,p);n=v.x,i=v.y,a=m.x,o=m.y}else return l9(e);return[{x:n,y:i},{x:a,y:o}]}var Zx={},Jx={},e_={},S8;function Sre(){return S8||(S8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mM();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(e_)),e_}var T8;function Tre(){return T8||(T8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sre();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Jx)),Jx}var C8;function Cre(){return C8||(C8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM(),r=Tre();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=o;return c}t.range=n})(Zx)),Zx}var t_,I8;function Ire(){return I8||(I8=1,t_=Cre().range),t_}var Ore=Ire();const f9=ho(Ore);function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YE(t){let e,r,n;t.length!==2?(e=cl,r=(l,c)=>cl(t(l),c),n=(l,c)=>t(l)-c):(e=t===cl||t===Rre?t:Pre,r=t,n=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function Pre(){return 0}function d9(t){return t===null?NaN:+t}function*Dre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Nre=YE(cl),v0=Nre.right;YE(d9).center;class O8 extends Map{constructor(e,r=Lre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(R8(this,e))}has(e){return super.has(R8(this,e))}set(e,r){return super.set(Mre(this,e),r)}delete(e){return super.delete(kre(this,e))}}function R8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Mre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function kre({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Lre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jre(t=cl){if(t===cl)return h9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function h9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bre=Math.sqrt(50),Vre=Math.sqrt(10),Fre=Math.sqrt(2);function Vg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Bre?10:a>=Vre?5:a>=Fre?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?Vg(t,e,r*2):[l,c,f]}function Fb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Vg(e,t,r):Vg(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function Ub(t,e,r){return e=+e,t=+t,r=+r,Vg(t,e,r)[2]}function zb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ub(e,t,r):Ub(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function P8(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function D8(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function p9(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?h9:jre(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),m=Math.max(r,Math.floor(e-f*p/c+v)),_=Math.min(n,Math.floor(e+(c-f)*p/c+v));p9(t,e,m,_,i)}const a=t[e];let o=r,l=n;for(rh(t,r,e),i(t[n],a)>0&&rh(t,r,n);o<l;){for(rh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?rh(t,r,l):(++l,rh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function rh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ure(t,e,r){if(t=Float64Array.from(Dre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return D8(t);if(e>=1)return P8(t);var n,i=(n-1)*e,a=Math.floor(i),o=P8(p9(t,a).subarray(0,a+1)),l=D8(t.subarray(a+1));return o+(l-o)*(i-a)}}function zre(t,e,r=d9){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Hre(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function sa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hb=Symbol("implicit");function QE(){var t=new O8,e=[],r=[],n=Hb;function i(a){let o=t.get(a);if(o===void 0){if(n!==Hb)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new O8;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QE(e,r).unknown(n)},sa.apply(i,arguments),i}function ZE(){var t=QE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,m=i<n,_=m?i:n,w=m?n:i;a=(w-_)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-c))*h,o=a*(1-c),l&&(_=Math.round(_),o=Math.round(o));var E=Hre(v).map(function(S){return _+a*S});return r(m?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return ZE(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},sa.apply(p(),arguments)}function g9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return g9(e())},t}function $re(){return g9(ZE.apply(null,arguments).paddingInner(1))}function JE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function v9(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function m0(){}var zh=.7,Fg=1/zh,ef="\\s*([+-]?\\d+)\\s*",Hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qre=/^#([0-9a-f]{3,8})$/,Gre=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),Kre=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),Wre=new RegExp(`^rgba\\(${ef},${ef},${ef},${Hh}\\)$`),Xre=new RegExp(`^rgba\\(${oo},${oo},${oo},${Hh}\\)$`),Yre=new RegExp(`^hsl\\(${Hh},${oo},${oo}\\)$`),Qre=new RegExp(`^hsla\\(${Hh},${oo},${oo},${Hh}\\)$`),N8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JE(m0,$h,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:M8,formatHex:M8,formatHex8:Zre,formatHsl:Jre,formatRgb:k8,toString:k8});function M8(){return this.rgb().formatHex()}function Zre(){return this.rgb().formatHex8()}function Jre(){return m9(this).formatHsl()}function k8(){return this.rgb().formatRgb()}function $h(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?L8(e):r===3?new si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?C1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?C1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gre.exec(t))?new si(e[1],e[2],e[3],1):(e=Kre.exec(t))?new si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wre.exec(t))?C1(e[1],e[2],e[3],e[4]):(e=Xre.exec(t))?C1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yre.exec(t))?V8(e[1],e[2]/100,e[3]/100,1):(e=Qre.exec(t))?V8(e[1],e[2]/100,e[3]/100,e[4]):N8.hasOwnProperty(t)?L8(N8[t]):t==="transparent"?new si(NaN,NaN,NaN,0):null}function L8(t){return new si(t>>16&255,t>>8&255,t&255,1)}function C1(t,e,r,n){return n<=0&&(t=e=r=NaN),new si(t,e,r,n)}function ene(t){return t instanceof m0||(t=$h(t)),t?(t=t.rgb(),new si(t.r,t.g,t.b,t.opacity)):new si}function $b(t,e,r,n){return arguments.length===1?ene(t):new si(t,e,r,n??1)}function si(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}JE(si,$b,v9(m0,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zh:Math.pow(zh,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new si(Ou(this.r),Ou(this.g),Ou(this.b),Ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j8,formatHex:j8,formatHex8:tne,formatRgb:B8,toString:B8}));function j8(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}`}function tne(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}${bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function B8(){const t=Ug(this.opacity);return`${t===1?"rgb(":"rgba("}${Ou(this.r)}, ${Ou(this.g)}, ${Ou(this.b)}${t===1?")":`, ${t})`}`}function Ug(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ou(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bu(t){return t=Ou(t),(t<16?"0":"")+t.toString(16)}function V8(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,r,n)}function m9(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof m0||(t=$h(t)),!t)return new Sa;if(t instanceof Sa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Sa(o,l,c,t.opacity)}function rne(t,e,r,n){return arguments.length===1?m9(t):new Sa(t,e,r,n??1)}function Sa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}JE(Sa,rne,v9(m0,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zh:Math.pow(zh,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new si(r_(t>=240?t-240:t+120,i,n),r_(t,i,n),r_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Sa(F8(this.h),I1(this.s),I1(this.l),Ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ug(this.opacity);return`${t===1?"hsl(":"hsla("}${F8(this.h)}, ${I1(this.s)*100}%, ${I1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function F8(t){return t=(t||0)%360,t<0?t+360:t}function I1(t){return Math.max(0,Math.min(1,t||0))}function r_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const eA=t=>()=>t;function nne(t,e){return function(r){return t+r*e}}function ine(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ane(t){return(t=+t)==1?y9:function(e,r){return r-e?ine(e,r,t):eA(isNaN(e)?r:e)}}function y9(t,e){var r=e-t;return r?nne(t,r):eA(isNaN(t)?e:t)}const U8=(function t(e){var r=ane(e);function n(i,a){var o=r((i=$b(i)).r,(a=$b(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),f=y9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n})(1);function one(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function sne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=kf(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function une(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function zg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cne(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=kf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var qb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n_=new RegExp(qb.source,"g");function fne(t){return function(){return t}}function dne(t){return function(e){return t(e)+""}}function hne(t,e){var r=qb.lastIndex=n_.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=qb.exec(t))&&(i=n_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:zg(n,i)})),r=n_.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?dne(c[0].x):fne(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function kf(t,e){var r=typeof e,n;return e==null||r==="boolean"?eA(e):(r==="number"?zg:r==="string"?(n=$h(e))?(e=n,U8):hne:e instanceof $h?U8:e instanceof Date?une:sne(e)?one:Array.isArray(e)?lne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cne:zg)(t,e)}function tA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pne(t,e){e===void 0&&(e=t,t=kf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function gne(t){return function(){return t}}function Hg(t){return+t}var z8=[0,1];function Kn(t){return t}function Gb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:gne(isNaN(e)?NaN:.5)}function vne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function mne(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Gb(i,n),a=r(o,a)):(n=Gb(n,i),a=r(a,o)),function(l){return a(n(l))}}function yne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Gb(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=v0(t,l,1,n)-1;return a[c](i[c](l))}}function y0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rm(){var t=z8,e=z8,r=kf,n,i,a,o=Kn,l,c,f;function h(){var v=Math.min(t.length,e.length);return o!==Kn&&(o=vne(t[0],t[v-1])),l=v>2?yne:mne,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(n),e,r)))(n(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(n),zg)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Hg),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=tA,h()},p.clamp=function(v){return arguments.length?(o=v?!0:Kn,h()):o!==Kn},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return n=v,i=m,h()}}function rA(){return rm()(Kn,Kn)}function xne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $g(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function vf(t){return t=$g(Math.abs(t)),t?t[1]:NaN}function _ne(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function bne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var wne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qh(t){if(!(e=wne.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qh.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var x9;function Ane(t,e){var r=$g(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(x9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+$g(t,Math.max(0,e+a-1))[0]}function H8(t,e){var r=$g(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>H8(t*100,e),r:H8,s:Ane,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function q8(t){return t}var G8=Array.prototype.map,K8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Sne(t){var e=t.grouping===void 0||t.thousands===void 0?q8:_ne(G8.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?q8:bne(G8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=qh(p);var v=p.fill,m=p.align,_=p.sign,w=p.symbol,E=p.zero,S=p.width,I=p.comma,O=p.precision,M=p.trim,L=p.type;L==="n"?(I=!0,L="g"):$8[L]||(O===void 0&&(O=12),M=!0,L="g"),(E||v==="0"&&m==="=")&&(E=!0,v="0",m="=");var B=w==="$"?r:w==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",D=w==="$"?n:/[%p]/.test(L)?o:"",N=$8[L],k=/[defgprs%]/.test(L);O=O===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(z){var H=B,U=D,he,be,Y;if(L==="c")U=N(z)+U,z="";else{z=+z;var se=z<0||1/z<0;if(z=isNaN(z)?c:N(Math.abs(z),O),M&&(z=Ene(z)),se&&+z==0&&_!=="+"&&(se=!1),H=(se?_==="("?_:l:_==="-"||_==="("?"":_)+H,U=(L==="s"?K8[8+x9/3]:"")+U+(se&&_==="("?")":""),k){for(he=-1,be=z.length;++he<be;)if(Y=z.charCodeAt(he),48>Y||Y>57){U=(Y===46?i+z.slice(he+1):z.slice(he))+U,z=z.slice(0,he);break}}}I&&!E&&(z=e(z,1/0));var me=H.length+z.length+U.length,Se=me<S?new Array(S-me+1).join(v):"";switch(I&&E&&(z=e(Se+z,Se.length?S-U.length:1/0),Se=""),m){case"<":z=H+z+U+Se;break;case"=":z=H+Se+z+U;break;case"^":z=Se.slice(0,me=Se.length>>1)+H+z+U+Se.slice(me);break;default:z=Se+H+z+U;break}return a(z)}return V.toString=function(){return p+""},V}function h(p,v){var m=f((p=qh(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(vf(v)/3)))*3,w=Math.pow(10,-_),E=K8[8+_/3];return function(S){return m(w*S)+E}}return{format:f,formatPrefix:h}}var O1,iA,_9;Tne({thousands:",",grouping:[3],currency:["$",""]});function Tne(t){return O1=Sne(t),iA=O1.format,_9=O1.formatPrefix,O1}function Cne(t){return Math.max(0,-vf(Math.abs(t)))}function Ine(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vf(e)/3)))*3-vf(Math.abs(t)))}function One(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vf(e)-vf(t))+1}function b9(t,e,r,n){var i=zb(t,e,r),a;switch(n=qh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Ine(i,o))&&(n.precision=a),_9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=One(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Cne(i))&&(n.precision=a-(n.type==="%")*2);break}}return iA(n)}function Pl(t){var e=t.domain;return t.ticks=function(r){var n=e();return Fb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return b9(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=Ub(o,l,r),f===c)return n[i]=o,n[a]=l,e(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function w9(){var t=rA();return t.copy=function(){return y0(t,w9())},sa.apply(t,arguments),Pl(t)}function E9(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Hg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return E9(t).unknown(e)},t=arguments.length?Array.from(t,Hg):[0,1],Pl(r)}function A9(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function W8(t){return Math.log(t)}function X8(t){return Math.exp(t)}function Rne(t){return-Math.log(-t)}function Pne(t){return-Math.exp(-t)}function Dne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nne(t){return t===10?Dne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Mne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Y8(t){return(e,r)=>-t(-e,r)}function aA(t){const e=t(W8,X8),r=e.domain;let n=10,i,a;function o(){return i=Mne(n),a=Nne(n),r()[0]<0?(i=Y8(i),a=Y8(a),t(Rne,Pne)):t(W8,X8),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),m=i(h),_,w;const E=l==null?10:+l;let S=[];if(!(n%1)&&m-v<E){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(_=1;_<n;++_)if(w=v<0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}}else for(;v<=m;++v)for(_=n-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}S.length*2<E&&(S=Fb(f,h,E))}else S=Fb(v,m,Math.min(m-v,E)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qh(c)).precision==null&&(c.trim=!0),c=iA(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(A9(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function S9(){const t=aA(rm()).domain([1,10]);return t.copy=()=>y0(t,S9()).base(t.base()),sa.apply(t,arguments),t}function Q8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Z8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oA(t){var e=1,r=t(Q8(e),Z8(e));return r.constant=function(n){return arguments.length?t(Q8(e=+n),Z8(e)):e},Pl(r)}function T9(){var t=oA(rm());return t.copy=function(){return y0(t,T9()).constant(t.constant())},sa.apply(t,arguments)}function J8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lne(t){return t<0?-t*t:t*t}function sA(t){var e=t(Kn,Kn),r=1;function n(){return r===1?t(Kn,Kn):r===.5?t(kne,Lne):t(J8(r),J8(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Pl(e)}function lA(){var t=sA(rm());return t.copy=function(){return y0(t,lA()).exponent(t.exponent())},sa.apply(t,arguments),t}function jne(){return lA.apply(null,arguments).exponent(.5)}function eR(t){return Math.sign(t)*t*t}function Bne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function C9(){var t=rA(),e=[0,1],r=!1,n;function i(a){var o=Bne(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(eR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Hg)).map(eR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return C9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},sa.apply(i,arguments),Pl(i)}function I9(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=zre(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[v0(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(cl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return I9().domain(t).range(e).unknown(n)},sa.apply(a,arguments)}function O9(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[v0(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return O9().domain([t,e]).range(i).unknown(a)},sa.apply(Pl(o),arguments)}function R9(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[v0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return R9().domain(t).range(e).unknown(r)},sa.apply(i,arguments)}const i_=new Date,a_=new Date;function Yr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>Yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(i_.setTime(+a),a_.setTime(+o),t(i_),t(a_),Math.floor(r(i_,a_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const qg=Yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):qg);qg.range;const Uo=1e3,ta=Uo*60,zo=ta*60,Jo=zo*24,uA=Jo*7,tR=Jo*30,o_=Jo*365,wu=Yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());wu.range;const cA=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getMinutes());cA.range;const fA=Yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCMinutes());fA.range;const dA=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*ta)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());dA.range;const hA=Yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());hA.range;const x0=Yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ta)/Jo,t=>t.getDate()-1);x0.range;const nm=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>t.getUTCDate()-1);nm.range;const P9=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>Math.floor(t/Jo));P9.range;function Xu(t){return Yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ta)/uA)}const im=Xu(0),Gg=Xu(1),Vne=Xu(2),Fne=Xu(3),mf=Xu(4),Une=Xu(5),zne=Xu(6);im.range;Gg.range;Vne.range;Fne.range;mf.range;Une.range;zne.range;function Yu(t){return Yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/uA)}const am=Yu(0),Kg=Yu(1),Hne=Yu(2),$ne=Yu(3),yf=Yu(4),qne=Yu(5),Gne=Yu(6);am.range;Kg.range;Hne.range;$ne.range;yf.range;qne.range;Gne.range;const pA=Yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pA.range;const gA=Yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gA.range;const es=Yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});es.range;const ts=Yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ts.range;function D9(t,e,r,n,i,a){const o=[[wu,1,Uo],[wu,5,5*Uo],[wu,15,15*Uo],[wu,30,30*Uo],[a,1,ta],[a,5,5*ta],[a,15,15*ta],[a,30,30*ta],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[n,1,Jo],[n,2,2*Jo],[r,1,uA],[e,1,tR],[e,3,3*tR],[t,1,o_]];function l(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const m=p&&typeof p.range=="function"?p:c(f,h,p),_=m?m.range(f,+h+1):[];return v?_.reverse():_}function c(f,h,p){const v=Math.abs(h-f)/p,m=YE(([,,E])=>E).right(o,v);if(m===o.length)return t.every(zb(f/o_,h/o_,p));if(m===0)return qg.every(Math.max(zb(f,h,p),1));const[_,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return _.every(w)}return[l,c]}const[Kne,Wne]=D9(ts,gA,am,P9,hA,fA),[Xne,Yne]=D9(es,pA,im,x0,dA,cA);function s_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Qne(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=ih(i),h=ah(i),p=ih(a),v=ah(a),m=ih(o),_=ah(o),w=ih(l),E=ah(l),S=ih(c),I=ah(c),O={a:se,A:me,b:Se,B:Ge,c:null,d:sR,e:sR,f:_ie,g:Rie,G:Die,H:mie,I:yie,j:xie,L:N9,m:bie,M:wie,p:G,q:ee,Q:cR,s:fR,S:Eie,u:Aie,U:Sie,V:Tie,w:Cie,W:Iie,x:null,X:null,y:Oie,Y:Pie,Z:Nie,"%":uR},M={a:ye,A:_e,b:Oe,B:He,c:null,d:lR,e:lR,f:jie,g:Kie,G:Xie,H:Mie,I:kie,j:Lie,L:k9,m:Bie,M:Vie,p:et,q:hr,Q:cR,s:fR,S:Fie,u:Uie,U:zie,V:Hie,w:$ie,W:qie,x:null,X:null,y:Gie,Y:Wie,Z:Yie,"%":uR},L={a:V,A:z,b:H,B:U,c:he,d:aR,e:aR,f:hie,g:iR,G:nR,H:oR,I:oR,j:uie,L:die,m:lie,M:cie,p:k,q:sie,Q:gie,s:vie,S:fie,u:rie,U:nie,V:iie,w:tie,W:aie,x:be,X:Y,y:iR,Y:nR,Z:oie,"%":pie};O.x=B(r,O),O.X=B(n,O),O.c=B(e,O),M.x=B(r,M),M.X=B(n,M),M.c=B(e,M);function B(pe,Fe){return function(We){var de=[],pr=-1,Qe=0,Br=pe.length,gr,di,fs;for(We instanceof Date||(We=new Date(+We));++pr<Br;)pe.charCodeAt(pr)===37&&(de.push(pe.slice(Qe,pr)),(di=rR[gr=pe.charAt(++pr)])!=null?gr=pe.charAt(++pr):di=gr==="e"?" ":"0",(fs=Fe[gr])&&(gr=fs(We,di)),de.push(gr),Qe=pr+1);return de.push(pe.slice(Qe,pr)),de.join("")}}function D(pe,Fe){return function(We){var de=nh(1900,void 0,1),pr=N(de,pe,We+="",0),Qe,Br;if(pr!=We.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Qe=l_(nh(de.y,0,1)),Br=Qe.getUTCDay(),Qe=Br>4||Br===0?Kg.ceil(Qe):Kg(Qe),Qe=nm.offset(Qe,(de.V-1)*7),de.y=Qe.getUTCFullYear(),de.m=Qe.getUTCMonth(),de.d=Qe.getUTCDate()+(de.w+6)%7):(Qe=s_(nh(de.y,0,1)),Br=Qe.getDay(),Qe=Br>4||Br===0?Gg.ceil(Qe):Gg(Qe),Qe=x0.offset(Qe,(de.V-1)*7),de.y=Qe.getFullYear(),de.m=Qe.getMonth(),de.d=Qe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Br="Z"in de?l_(nh(de.y,0,1)).getUTCDay():s_(nh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Br+5)%7:de.w+de.U*7-(Br+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,l_(de)):s_(de)}}function N(pe,Fe,We,de){for(var pr=0,Qe=Fe.length,Br=We.length,gr,di;pr<Qe;){if(de>=Br)return-1;if(gr=Fe.charCodeAt(pr++),gr===37){if(gr=Fe.charAt(pr++),di=L[gr in rR?Fe.charAt(pr++):gr],!di||(de=di(pe,We,de))<0)return-1}else if(gr!=We.charCodeAt(de++))return-1}return de}function k(pe,Fe,We){var de=f.exec(Fe.slice(We));return de?(pe.p=h.get(de[0].toLowerCase()),We+de[0].length):-1}function V(pe,Fe,We){var de=m.exec(Fe.slice(We));return de?(pe.w=_.get(de[0].toLowerCase()),We+de[0].length):-1}function z(pe,Fe,We){var de=p.exec(Fe.slice(We));return de?(pe.w=v.get(de[0].toLowerCase()),We+de[0].length):-1}function H(pe,Fe,We){var de=S.exec(Fe.slice(We));return de?(pe.m=I.get(de[0].toLowerCase()),We+de[0].length):-1}function U(pe,Fe,We){var de=w.exec(Fe.slice(We));return de?(pe.m=E.get(de[0].toLowerCase()),We+de[0].length):-1}function he(pe,Fe,We){return N(pe,e,Fe,We)}function be(pe,Fe,We){return N(pe,r,Fe,We)}function Y(pe,Fe,We){return N(pe,n,Fe,We)}function se(pe){return o[pe.getDay()]}function me(pe){return a[pe.getDay()]}function Se(pe){return c[pe.getMonth()]}function Ge(pe){return l[pe.getMonth()]}function G(pe){return i[+(pe.getHours()>=12)]}function ee(pe){return 1+~~(pe.getMonth()/3)}function ye(pe){return o[pe.getUTCDay()]}function _e(pe){return a[pe.getUTCDay()]}function Oe(pe){return c[pe.getUTCMonth()]}function He(pe){return l[pe.getUTCMonth()]}function et(pe){return i[+(pe.getUTCHours()>=12)]}function hr(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Fe=B(pe+="",O);return Fe.toString=function(){return pe},Fe},parse:function(pe){var Fe=D(pe+="",!1);return Fe.toString=function(){return pe},Fe},utcFormat:function(pe){var Fe=B(pe+="",M);return Fe.toString=function(){return pe},Fe},utcParse:function(pe){var Fe=D(pe+="",!0);return Fe.toString=function(){return pe},Fe}}}var rR={"-":"",_:" ",0:"0"},un=/^\s*\d+/,Zne=/^%/,Jne=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function eie(t){return t.replace(Jne,"\\$&")}function ih(t){return new RegExp("^(?:"+t.map(eie).join("|")+")","i")}function ah(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tie(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rie(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function aie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function nR(t,e,r){var n=un.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function iR(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sie(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function aR(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uie(t,e,r){var n=un.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function oR(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fie(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function die(t,e,r){var n=un.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hie(t,e,r){var n=un.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pie(t,e,r){var n=Zne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function gie(t,e,r){var n=un.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function vie(t,e,r){var n=un.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function sR(t,e){return mt(t.getDate(),e,2)}function mie(t,e){return mt(t.getHours(),e,2)}function yie(t,e){return mt(t.getHours()%12||12,e,2)}function xie(t,e){return mt(1+x0.count(es(t),t),e,3)}function N9(t,e){return mt(t.getMilliseconds(),e,3)}function _ie(t,e){return N9(t,e)+"000"}function bie(t,e){return mt(t.getMonth()+1,e,2)}function wie(t,e){return mt(t.getMinutes(),e,2)}function Eie(t,e){return mt(t.getSeconds(),e,2)}function Aie(t){var e=t.getDay();return e===0?7:e}function Sie(t,e){return mt(im.count(es(t)-1,t),e,2)}function M9(t){var e=t.getDay();return e>=4||e===0?mf(t):mf.ceil(t)}function Tie(t,e){return t=M9(t),mt(mf.count(es(t),t)+(es(t).getDay()===4),e,2)}function Cie(t){return t.getDay()}function Iie(t,e){return mt(Gg.count(es(t)-1,t),e,2)}function Oie(t,e){return mt(t.getFullYear()%100,e,2)}function Rie(t,e){return t=M9(t),mt(t.getFullYear()%100,e,2)}function Pie(t,e){return mt(t.getFullYear()%1e4,e,4)}function Die(t,e){var r=t.getDay();return t=r>=4||r===0?mf(t):mf.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Nie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function lR(t,e){return mt(t.getUTCDate(),e,2)}function Mie(t,e){return mt(t.getUTCHours(),e,2)}function kie(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Lie(t,e){return mt(1+nm.count(ts(t),t),e,3)}function k9(t,e){return mt(t.getUTCMilliseconds(),e,3)}function jie(t,e){return k9(t,e)+"000"}function Bie(t,e){return mt(t.getUTCMonth()+1,e,2)}function Vie(t,e){return mt(t.getUTCMinutes(),e,2)}function Fie(t,e){return mt(t.getUTCSeconds(),e,2)}function Uie(t){var e=t.getUTCDay();return e===0?7:e}function zie(t,e){return mt(am.count(ts(t)-1,t),e,2)}function L9(t){var e=t.getUTCDay();return e>=4||e===0?yf(t):yf.ceil(t)}function Hie(t,e){return t=L9(t),mt(yf.count(ts(t),t)+(ts(t).getUTCDay()===4),e,2)}function $ie(t){return t.getUTCDay()}function qie(t,e){return mt(Kg.count(ts(t)-1,t),e,2)}function Gie(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Kie(t,e){return t=L9(t),mt(t.getUTCFullYear()%100,e,2)}function Wie(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Xie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?yf(t):yf.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function Yie(){return"+0000"}function uR(){return"%"}function cR(t){return+t}function fR(t){return Math.floor(+t/1e3)}var Uc,j9,B9;Qie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qie(t){return Uc=Qne(t),j9=Uc.format,Uc.parse,B9=Uc.utcFormat,Uc.utcParse,Uc}function Zie(t){return new Date(t)}function Jie(t){return t instanceof Date?+t:+new Date(+t)}function vA(t,e,r,n,i,a,o,l,c,f){var h=rA(),p=h.invert,v=h.domain,m=f(".%L"),_=f(":%S"),w=f("%I:%M"),E=f("%I %p"),S=f("%a %d"),I=f("%b %d"),O=f("%B"),M=f("%Y");function L(B){return(c(B)<B?m:l(B)<B?_:o(B)<B?w:a(B)<B?E:n(B)<B?i(B)<B?S:I:r(B)<B?O:M)(B)}return h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?v(Array.from(B,Jie)):v().map(Zie)},h.ticks=function(B){var D=v();return t(D[0],D[D.length-1],B??10)},h.tickFormat=function(B,D){return D==null?L:f(D)},h.nice=function(B){var D=v();return(!B||typeof B.range!="function")&&(B=e(D[0],D[D.length-1],B??10)),B?v(A9(D,B)):h},h.copy=function(){return y0(h,vA(t,e,r,n,i,a,o,l,c,f))},h}function eae(){return sa.apply(vA(Xne,Yne,es,pA,im,x0,dA,cA,wu,j9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tae(){return sa.apply(vA(Kne,Wne,ts,gA,am,nm,hA,fA,wu,B9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var t=0,e=1,r,n,i,a,o=Kn,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(v){var m,_;return arguments.length?([m,_]=v,o=p(m,_),f):[o(0),o(1)]}}return f.range=h(kf),f.rangeRound=h(tA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V9(){var t=Pl(om()(Kn));return t.copy=function(){return Dl(t,V9())},ss.apply(t,arguments)}function F9(){var t=aA(om()).domain([1,10]);return t.copy=function(){return Dl(t,F9()).base(t.base())},ss.apply(t,arguments)}function U9(){var t=oA(om());return t.copy=function(){return Dl(t,U9()).constant(t.constant())},ss.apply(t,arguments)}function mA(){var t=sA(om());return t.copy=function(){return Dl(t,mA()).exponent(t.exponent())},ss.apply(t,arguments)}function rae(){return mA.apply(null,arguments).exponent(.5)}function z9(){var t=[],e=Kn;function r(n){if(n!=null&&!isNaN(n=+n))return e((v0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Ure(t,a/n))},r.copy=function(){return z9(e).domain(t)},ss.apply(r,arguments)}function sm(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,f=Kn,h,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(n*w<n*a?l:c),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),o=h(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function _(w){return function(E){var S,I,O;return arguments.length?([S,I,O]=E,f=pne(w,[S,I,O]),m):[f(0),f(.5),f(1)]}}return m.range=_(kf),m.rangeRound=_(tA),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return h=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function H9(){var t=Pl(sm()(Kn));return t.copy=function(){return Dl(t,H9())},ss.apply(t,arguments)}function $9(){var t=aA(sm()).domain([.1,1,10]);return t.copy=function(){return Dl(t,$9()).base(t.base())},ss.apply(t,arguments)}function q9(){var t=oA(sm());return t.copy=function(){return Dl(t,q9()).constant(t.constant())},ss.apply(t,arguments)}function yA(){var t=sA(sm());return t.copy=function(){return Dl(t,yA()).exponent(t.exponent())},ss.apply(t,arguments)}function nae(){return yA.apply(null,arguments).exponent(.5)}const yh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZE,scaleDiverging:H9,scaleDivergingLog:$9,scaleDivergingPow:yA,scaleDivergingSqrt:nae,scaleDivergingSymlog:q9,scaleIdentity:E9,scaleImplicit:Hb,scaleLinear:w9,scaleLog:S9,scaleOrdinal:QE,scalePoint:$re,scalePow:lA,scaleQuantile:I9,scaleQuantize:O9,scaleRadial:C9,scaleSequential:V9,scaleSequentialLog:F9,scaleSequentialPow:mA,scaleSequentialQuantile:z9,scaleSequentialSqrt:rae,scaleSequentialSymlog:U9,scaleSqrt:jne,scaleSymlog:T9,scaleThreshold:R9,scaleTime:eae,scaleUtc:tae,tickFormat:b9},Symbol.toStringTag,{value:"Module"}));var Nl=t=>t.chartData,xA=re([Nl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lm=(t,e,r,n)=>n?xA(t):Nl(t);function xf(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Di(e)&&Di(r))return!0}return!1}function dR(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function iae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(Di(r))i=r;else if(typeof r=="function")return;if(Di(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(xf(o))return o}}function aae(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(xf(n))return dR(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Re(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&r8.test(i)){var c=r8.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Re(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&n8.test(a)){var h=n8.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(xf(v))return e==null?v:dR(v,e,r)}}}var Lf=1e9,oae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,rr=!0,oa="[DecimalError] ",Ru=oa+"Invalid argument: ",_A=oa+"Exponent out of range: ",jf=Math.floor,vu=Math.pow,sae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ti,an=1e7,Yt=7,G9=9007199254740991,Wg=jf(G9/Yt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(t){return Go(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,r=e.constructor;return Ut(Go(e,new r(t),0,1),r.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return jr(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ti))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Ti)?new n(0):(rr=!1,e=Go(Gh(r,a),Gh(t,a),a),rr=!0,Ut(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X9(e,t):K9(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(oa+"NaN");return r.s?(rr=!1,e=Go(r,t,0,1).times(t),rr=!0,r.minus(e)):Ut(new n(r),i)};Ee.naturalExponential=Ee.exp=function(){return W9(this)};Ee.naturalLogarithm=Ee.ln=function(){return Gh(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?K9(e,t):X9(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ru+t);if(e=jr(i)+1,n=i.d.length-1,r=n*Yt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ee.squareRoot=Ee.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(oa+"NaN")}for(t=jr(l),rr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ja(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Go(l,a,o+2)).times(.5),Ja(a.d).slice(0,o)===(e=Ja(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ut(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return rr=!0,Ut(n,r)};Ee.times=Ee.mul=function(t){var e,r,n,i,a,o,l,c,f,h=this,p=h.constructor,v=h.d,m=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=m.length,c<f&&(a=v,v=m,m=a,o=c,c=f,f=o),a=[],o=c+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+m[n]*v[i-n-1]+e,a[i--]=l%an|0,e=l/an|0;a[i]=(a[i]+e)%an|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,rr?Ut(t,p.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(fo(t,0,Lf),e===void 0?e=n.rounding:fo(e,0,8),Ut(r,t+jr(r)+1,e))};Ee.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Hu(n,!0):(fo(t,0,Lf),e===void 0?e=i.rounding:fo(e,0,8),n=Ut(new i(n),t+1,e),r=Hu(n,!0,t+1)),r};Ee.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Hu(i):(fo(t,0,Lf),e===void 0?e=a.rounding:fo(e,0,8),n=Ut(new a(i),t+jr(i)+1,e),r=Hu(n.abs(),!1,t+jr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),jr(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Ti);if(l=new c(l),!l.s){if(t.s<1)throw Error(oa+"Infinity");return l}if(l.eq(Ti))return l;if(n=c.precision,t.eq(Ti))return Ut(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=h<0?-h:h)<=G9){for(i=new c(Ti),e=Math.ceil(n/Yt+4),rr=!1;r%2&&(i=i.times(l),pR(i.d,e)),r=jf(r/2),r!==0;)l=l.times(l),pR(l.d,e);return rr=!0,t.s<0?new c(Ti).div(i):Ut(i,n)}}else if(a<0)throw Error(oa+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,rr=!1,i=t.times(Gh(l,n+f)),rr=!0,i=W9(i),i.s=a,i};Ee.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=jr(i),n=Hu(i,r<=a.toExpNeg||r>=a.toExpPos)):(fo(t,1,Lf),e===void 0?e=a.rounding:fo(e,0,8),i=Ut(new a(i),t,e),r=jr(i),n=Hu(i,t<=r||r<=a.toExpNeg,t)),n};Ee.toSignificantDigits=Ee.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(fo(t,1,Lf),e===void 0?e=n.rounding:fo(e,0,8)),Ut(new n(r),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jr(t),r=t.constructor;return Hu(t,e<=r.toExpNeg||e>=r.toExpPos)};function K9(t,e){var r,n,i,a,o,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),rr?Ut(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=f.length):(n=f,i=o,l=c.length),o=Math.ceil(p/Yt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/an|0,c[a]%=an;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,rr?Ut(e,p):e}function fo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ru+t)}function Ja(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Yt-n.length,r&&(a+=Ys(r)),a+=n;o=t[e],n=o+"",r=Yt-n.length,r&&(a+=Ys(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Go=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%an|0,o=a/an|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*an+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,f,h,p,v,m,_,w,E,S,I,O,M,L,B,D,N,k=n.constructor,V=n.s==i.s?1:-1,z=n.d,H=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(oa+"Division by zero");for(c=n.e-i.e,D=H.length,L=z.length,m=new k(V),_=m.d=[],f=0;H[f]==(z[f]||0);)++f;if(H[f]>(z[f]||0)&&--c,a==null?I=a=k.precision:o?I=a+(jr(n)-jr(i))+1:I=a,I<0)return new k(0);if(I=I/Yt+2|0,f=0,D==1)for(h=0,H=H[0],I++;(f<L||h)&&I--;f++)O=h*an+(z[f]||0),_[f]=O/H|0,h=O%H|0;else{for(h=an/(H[0]+1)|0,h>1&&(H=t(H,h),z=t(z,h),D=H.length,L=z.length),M=D,w=z.slice(0,D),E=w.length;E<D;)w[E++]=0;N=H.slice(),N.unshift(0),B=H[0],H[1]>=an/2&&++B;do h=0,l=e(H,w,D,E),l<0?(S=w[0],D!=E&&(S=S*an+(w[1]||0)),h=S/B|0,h>1?(h>=an&&(h=an-1),p=t(H,h),v=p.length,E=w.length,l=e(p,w,v,E),l==1&&(h--,r(p,D<v?N:H,v))):(h==0&&(l=h=1),p=H.slice()),v=p.length,v<E&&p.unshift(0),r(w,p,E),l==-1&&(E=w.length,l=e(H,w,D,E),l<1&&(h++,r(w,D<E?N:H,E))),E=w.length):l===0&&(h++,w=[0]),_[f++]=h,l&&w[0]?w[E++]=z[M]||0:(w=[z[M]],E=1);while((M++<L||w[0]!==void 0)&&I--)}return _[0]||_.shift(),m.e=c,Ut(m,o?a+jr(m)+1:a)}})();function W9(t,e){var r,n,i,a,o,l,c=0,f=0,h=t.constructor,p=h.precision;if(jr(t)>16)throw Error(_A+jr(t));if(!t.s)return new h(Ti);for(rr=!1,l=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(vu(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new h(Ti),h.precision=l;;){if(i=Ut(i.times(t),l),r=r.times(++c),o=a.plus(Go(i,r,l)),Ja(o.d).slice(0,l)===Ja(a.d).slice(0,l)){for(;f--;)a=Ut(a.times(a),l);return h.precision=p,e==null?(rr=!0,Ut(a,p)):a}a=o}}function jr(t){for(var e=t.e*Yt,r=t.d[0];r>=10;r/=10)e++;return e}function u_(t,e,r){if(e>t.LN10.sd())throw rr=!0,r&&(t.precision=r),Error(oa+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Ys(t){for(var e="";t--;)e+="0";return e}function Gh(t,e){var r,n,i,a,o,l,c,f,h,p=1,v=10,m=t,_=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(oa+(m.s?"NaN":"-Infinity"));if(m.eq(Ti))return new w(0);if(e==null?(rr=!1,f=E):f=e,m.eq(10))return e==null&&(rr=!0),u_(w,f);if(f+=v,w.precision=f,r=Ja(_),n=r.charAt(0),a=jr(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Ja(m.d),n=r.charAt(0),p++;a=jr(m),n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1))}else return c=u_(w,f+2,E).times(a+""),m=Gh(new w(n+"."+r.slice(1)),f-v).plus(c),w.precision=E,e==null?(rr=!0,Ut(m,E)):m;for(l=o=m=Go(m.minus(Ti),m.plus(Ti),f),h=Ut(m.times(m),f),i=3;;){if(o=Ut(o.times(h),f),c=l.plus(Go(o,new w(i),f)),Ja(c.d).slice(0,f)===Ja(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(u_(w,f+2,E).times(a+""))),l=Go(l,new w(p),f),w.precision=E,e==null?(rr=!0,Ut(l,E)):l;l=c,i+=2}}function hR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=jf(r/Yt),t.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Yt;n<i;)t.d.push(+e.slice(n,n+=Yt));e=e.slice(n),n=Yt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),rr&&(t.e>Wg||t.e<-Wg))throw Error(_A+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,r){var n,i,a,o,l,c,f,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Yt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Yt),a=p.length,h>=a)return t;for(f=a=p[h],o=1;a>=10;a/=10)o++;n%=Yt,i=n-Yt+o}if(r!==void 0&&(a=vu(10,o-i-1),l=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/vu(10,o-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=jr(t),p.length=1,e=e-a-1,p[0]=vu(10,(Yt-e%Yt)%Yt),t.e=jf(-e/Yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=vu(10,Yt-n),p[h]=i>0?(f/vu(10,o-i)%vu(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==an&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=an)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(rr&&(t.e>Wg||t.e<-Wg))throw Error(_A+jr(t));return t}function X9(t,e){var r,n,i,a,o,l,c,f,h,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),rr?Ut(e,m):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),o=f-n,o){for(h=o<0,h?(r=c,o=-o,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(m/Yt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=an-1;--c[a],c[i]+=an}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,rr?Ut(e,m):e):new v(0)}function Hu(t,e,r){var n,i=jr(t),a=Ja(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ys(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ys(-i-1)+a,r&&(n=r-o)>0&&(a+=Ys(n))):i>=o?(a+=Ys(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ys(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ys(n))),t.s<0?"-"+a:a}function pR(t,e){if(t.length>e)return t.length=e,!0}function Y9(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ru+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return hR(o,a.toString())}else if(typeof a!="string")throw Error(Ru+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sae.test(a))hR(o,a);else throw Error(Ru+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y9,i.config=i.set=lae,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lae(t){if(!t||typeof t!="object")throw Error(oa+"Object expected");var e,r,n,i=["precision",1,Lf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(jf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ru+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ru+r+": "+n);return this}var bA=Y9(oae);Ti=new bA(1);const Dt=bA;var uae=t=>t,Q9={},Z9=t=>t===Q9,gR=t=>function e(){return arguments.length===0||arguments.length===1&&Z9(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},J9=(t,e)=>t===1?e:gR(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==Q9).length;return a>=t?e(...n):J9(t-a,gR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=n.map(h=>Z9(h)?l.shift():h);return e(...f,...l)}))}),um=t=>J9(t.length,t),Kb=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},cae=um((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),fae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return uae;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},Wb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),e7=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,r=t(...i)),r}};function t7(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function r7(t,e,r){for(var n=new Dt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}um((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});um((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});um((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var n7=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},i7=(t,e,r)=>{if(t.lte(0))return new Dt(0);var n=t7(t.toNumber()),i=new Dt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Dt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?new Dt(c.toNumber()):new Dt(Math.ceil(c.toNumber()))},dae=(t,e,r)=>{var n=new Dt(1),i=new Dt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Dt(10).pow(t7(t)-1),i=new Dt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):r||(i=new Dt(Math.floor(t)));var o=Math.floor((e-1)/2),l=fae(cae(c=>i.add(new Dt(c-o).mul(n)).toNumber()),Kb);return l(0,e)},a7=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var o=i7(new Dt(r).sub(e).div(n-1),i,a),l;e<=0&&r>=0?l=new Dt(0):(l=new Dt(e).add(r).div(2),l=l.sub(new Dt(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Dt(r).sub(l).div(o).toNumber()),h=c+f+1;return h>n?a7(e,r,n,i,a+1):(h<n&&(f=r>0?f+(n-h):f,c=r>0?c:c+(n-h)),{step:o,tickMin:l.sub(new Dt(c).mul(o)),tickMax:l.add(new Dt(f).mul(o))})};function hae(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,l]=n7([e,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Kb(0,n-1).map(()=>1/0)]:[...Kb(0,n-1).map(()=>-1/0),l];return e>r?Wb(c):c}if(o===l)return dae(o,n,i);var{step:f,tickMin:h,tickMax:p}=a7(o,l,a,i,0),v=r7(h,p.add(new Dt(.1).mul(f)),f);return e>r?Wb(v):v}function pae(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=n7([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var l=Math.max(e,2),c=i7(new Dt(o).sub(a).div(l-1),i,0),f=[...r7(new Dt(a),new Dt(o),c),o];return i===!1&&(f=f.map(h=>Math.round(h))),r>n?Wb(f):f}var gae=e7(hae),vae=e7(pae),o7=t=>t.rootProps.maxBarSize,mae=t=>t.rootProps.barGap,s7=t=>t.rootProps.barCategoryGap,yae=t=>t.rootProps.barSize,_0=t=>t.rootProps.stackOffset,wA=t=>t.options.chartName,EA=t=>t.rootProps.syncId,l7=t=>t.rootProps.syncMethod,AA=t=>t.options.eventEmitter,jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ai={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},xae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},_ae={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ai.scale,tick:Ai.tick,tickCount:Ai.tickCount,ticks:void 0,type:Ai.type,unit:void 0},bae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wae={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ai.scale,tick:Ai.tick,tickCount:Ai.tickCount,ticks:void 0,type:"category",unit:void 0},SA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?bae:xae,TA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wae:_ae,fm=t=>t.polarOptions,CA=re([as,os,Xr],qM),u7=re([fm,CA],(t,e)=>{if(t!=null)return Ln(t.innerRadius,e,0)}),c7=re([fm,CA],(t,e)=>{if(t!=null)return Ln(t.outerRadius,e,e*.8)}),Eae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},f7=re([fm],Eae);re([SA,f7],cm);var d7=re([CA,u7,c7],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});re([TA,d7],cm);var h7=re([ct,fm,u7,c7,as,os],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:f}=e;return{cx:Ln(o,i,i/2),cy:Ln(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:f,clockWise:!1}}}),ir=(t,e)=>e,b0=(t,e,r)=>r;function IA(t){return t?.id}var Qr=t=>{var e=ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Bf=t=>t.tooltip.settings.axisId,cn=t=>{var e=Qr(t),r=Bf(t);return w0(t,e,r)},p7=re([cn],t=>t?.dataKey);function g7(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:n;if(!(f==null||f.length===0)){var h=IA(l);f.forEach((p,v)=>{var m=a==null||i?v:String(qt(p,a,null)),_=qt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[h]:_}),o.set(m,w)})}}),Array.from(o.values())}function dm(t){return t.stackId!=null&&t.dataKey!=null}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){Aae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aae(t,e,r){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xb=[0,"auto"],wi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v7=(t,e)=>t.cartesianAxis.xAxis[e],ls=(t,e)=>{var r=v7(t,e);return r??wi},Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:h0},m7=(t,e)=>t.cartesianAxis.yAxis[e],us=(t,e)=>{var r=m7(t,e);return r??Ei},Cae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OA=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Cae},Er=(t,e,r)=>{switch(e){case"xAxis":return ls(t,r);case"yAxis":return us(t,r);case"zAxis":return OA(t,r);case"angleAxis":return SA(t,r);case"radiusAxis":return TA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Iae=(t,e,r)=>{switch(e){case"xAxis":return ls(t,r);case"yAxis":return us(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},w0=(t,e,r)=>{switch(e){case"xAxis":return ls(t,r);case"yAxis":return us(t,r);case"angleAxis":return SA(t,r);case"radiusAxis":return TA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},y7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function RA(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var hm=t=>t.graphicalItems.cartesianItems,Oae=re([ir,b0],RA),PA=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),E0=re([hm,Er,Oae],PA),x7=re([E0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dm)),_7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),b7=re([E0],_7),DA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Rae=re([E0],DA),NA=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},MA=re([Rae,lm],NA),kA=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:qt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:qt(i,n)}))):t.map(n=>({value:n})),pm=re([MA,Er,E0],kA);function w7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Qu(t){return t.filter(e=>co(e)||e instanceof Date).map(Number).filter(e=>Ri(e)===!1)}function Pae(t,e,r){return!r||typeof e!="number"||Ri(e)?[]:r.length?Qu(r.flatMap(n=>{var i=qt(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Di(a)||!Di(o)))return[e-a,e+o]})):[]}var Dae=re([x7,lm,cn],g7),E7=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(IA);return[o,{stackedData:Lee(t,c,r),graphicalItems:l}]}))},Yb=re([Dae,x7,_0],E7),A7=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=Uee(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Nae=re([Yb,Nl,ir],A7),S7=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var l,c,f=(l=n[o.id])===null||l===void 0?void 0:l.filter(p=>w7(i,p)),h=qt(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:h,errorDomain:Pae(a,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:qt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),gm=t=>t.errorBars,T7=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>w7(r,n));re([b7,gm,ir],T7);var Mae=re([MA,Er,b7,gm,ir],S7);function kae(t){var{value:e}=t;if(co(e)||e instanceof Date)return e}var mR=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Qu(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lae=(t,e,r)=>{var n=t.map(kae).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&jN(n))?f9(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},LA=t=>{var e;if(t==null||!("domain"in t))return Xb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Qu(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Xb},Yg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},C7=t=>t.referenceElements.dots,Vf=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),jae=re([C7,ir,b0],Vf),I7=t=>t.referenceElements.areas,Bae=re([I7,ir,b0],Vf),O7=t=>t.referenceElements.lines,Vae=re([O7,ir,b0],Vf),R7=(t,e)=>{var r=Qu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fae=re(jae,ir,R7),P7=(t,e)=>{var r=Qu(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Uae=re([Bae,ir],P7),D7=(t,e)=>{var r=Qu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zae=re(Vae,ir,D7),Hae=re(Fae,zae,Uae,(t,e,r)=>Yg(t,r,e)),N7=re([Er],LA),jA=(t,e,r,n,i,a,o)=>{var l=iae(e,t.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?Yg(r,i,mR(n)):Yg(i,mR(n));return aae(e,f,t.allowDataOverflow)},$ae=re([Er,N7,Nae,Mae,Hae,ct,ir],jA),qae=[0,1],BA=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,f=Ol(e,a);return f&&l==null?f9(0,r.length):c==="category"?Lae(n,t,f):i==="expand"?qae:o}},VA=re([Er,ct,MA,pm,_0,ir,$ae],BA),M7=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(u0(a));return l in yh?l:"point"}}},Ff=re([Er,ct,y7,wA,ir],M7);function Gae(t){if(t!=null){if(t in yh)return yh[t]();var e="scale".concat(u0(t));if(e in yh)return yh[e]()}}function FA(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Gae(e);if(i!=null){var a=i.domain(r).range(n);return Pee(a),a}}}var UA=(t,e,r)=>{var n=LA(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xf(t))return gae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xf(t))return vae(t,e.tickCount,e.allowDecimals)}},zA=re([VA,w0,Ff],UA),HA=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&xf(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],l=r[r.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},Kae=re([Er,VA,zA,ir],HA),Wae=re(pm,Er,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Qu(t.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),k7=re(Wae,ct,s7,Xr,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Di(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Ln(r,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),Xae=(t,e)=>{var r=ls(t,e);return r==null||typeof r.padding!="string"?0:k7(t,"xAxis",e,r.padding)},Yae=(t,e)=>{var r=us(t,e);return r==null||typeof r.padding!="string"?0:k7(t,"yAxis",e,r.padding)},Qae=re(ls,Xae,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Zae=re(us,Yae,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Jae=re([Xr,Qae,Jv,Zv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),eoe=re([Xr,ct,Zae,Jv,Zv,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),A0=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Jae(t,r,n);case"yAxis":return eoe(t,r,n);case"zAxis":return(i=OA(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return f7(t);case"radiusAxis":return d7(t,r);default:return}},L7=re([Er,A0],cm),Uf=re([Er,Ff,Kae,L7],FA);re([E0,gm,ir],T7);function j7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var vm=(t,e)=>e,mm=(t,e,r)=>r,toe=re(Yv,vm,mm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(j7)),roe=re(Qv,vm,mm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(j7)),B7=(t,e)=>({width:t.width,height:e.height}),noe=(t,e)=>{var r=typeof e.width=="number"?e.width:h0;return{width:r,height:t.height}},V7=re(Xr,ls,B7),ioe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},aoe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},ooe=re(os,Xr,toe,vm,mm,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=B7(e,l);o==null&&(o=ioe(e,n,t));var f=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),soe=re(as,Xr,roe,vm,mm,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=noe(e,l);o==null&&(o=aoe(e,n,t));var f=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),loe=(t,e)=>{var r=ls(t,e);if(r!=null)return ooe(t,r.orientation,r.mirror)},uoe=re([Xr,ls,loe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),coe=(t,e)=>{var r=us(t,e);if(r!=null)return soe(t,r.orientation,r.mirror)},foe=re([Xr,us,coe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),F7=re(Xr,us,(t,e)=>{var r=typeof e.width=="number"?e.width:h0;return{width:r,height:t.height}}),yR=(t,e,r)=>{switch(e){case"xAxis":return V7(t,r).width;case"yAxis":return F7(t,r).height;default:return}},U7=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=Ol(t,n),c=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&jN(c))return c}},$A=re([ct,pm,Er,ir],U7),z7=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Ol(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},qA=re([ct,pm,w0,ir],z7),xR=re([ct,Iae,Ff,Uf,$A,qA,A0,zA,ir],(t,e,r,n,i,a,o,l,c)=>{if(e==null)return null;var f=Ol(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}),doe=(t,e,r,n,i,a,o,l,c)=>{if(!(e==null||n==null)){var f=Ol(t,c),{type:h,ticks:p,tickCount:v}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/m:0;_=c==="angleAxis"&&a!=null&&a.length>=2?ln(a[0]-a[1])*2*_:_;var w=p||i;if(w){var E=w.map((S,I)=>{var O=o?o.indexOf(S):S;return{index:I,coordinate:n(O)+_,value:S,offset:_}});return E.filter(S=>!Ri(S.coordinate))}return f&&l?l.map((S,I)=>({coordinate:n(S)+_,value:S,index:I,offset:_})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+_,value:S,offset:_})):n.domain().map((S,I)=>({coordinate:n(S)+_,value:o?o[S]:S,index:I,offset:_}))}},H7=re([ct,w0,Ff,Uf,zA,A0,$A,qA,ir],doe),hoe=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=Ol(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&n?.length>=2?ln(n[0]-n[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.ticks?r.ticks(c).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:i?i[h]:h,index:p,offset:f}))}},yl=re([ct,w0,Uf,A0,$A,qA,ir],hoe),xl=re(Er,Uf,(t,e)=>{if(!(t==null||e==null))return Xg(Xg({},t),{},{scale:e})}),poe=re([Er,Ff,VA,L7],FA);re((t,e,r)=>OA(t,r),poe,(t,e)=>{if(!(t==null||e==null))return Xg(Xg({},t),{},{scale:e})});var goe=re([ct,Yv,Qv],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$7=t=>t.options.defaultTooltipEventType,q7=t=>t.options.validateTooltipEventTypes;function G7(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function GA(t,e){var r=$7(t),n=q7(t);return G7(e,r,n)}function voe(t){return Ce(e=>GA(e,t))}var K7=(t,e)=>{var r,n=Number(e);if(!(Ri(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},moe=t=>t.tooltip.settings,tl={active:!1,index:null,dataKey:void 0,coordinate:void 0},yoe={itemInteraction:{click:tl,hover:tl},axisInteraction:{click:tl,hover:tl},keyboardInteraction:tl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},W7=Ni({name:"tooltip",initialState:yoe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=qo(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:xoe,removeTooltipEntrySettings:_oe,setTooltipSettingsState:boe,setActiveMouseOverItemIndex:X7,mouseLeaveItem:woe,mouseLeaveChart:Y7,setActiveClickItemIndex:Eoe,setMouseOverAxisIndex:Q7,setMouseClickAxisIndex:Aoe,setSyncInteraction:Qb,setKeyboardInteraction:Zb}=W7.actions,Soe=W7.reducer;function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){Toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Toe(t,e,r){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ooe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Roe(t){return t.index!=null}var Z7=(t,e,r,n)=>{if(e==null)return tl;var i=Ooe(t,e,r);if(i==null)return tl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Roe(i)){if(a)return R1(R1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return R1(R1({},tl),{},{coordinate:i.coordinate})},KA=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!Di(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},J7=(t,e,r,n,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],f=c==null?void 0:l(c.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:h.coordinate}}}},ek=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},S0=t=>t.options.tooltipPayloadSearcher,zf=t=>t.tooltip;function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){Poe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Poe(t,e,r){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Doe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t,e){return t??e}var tk=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:h}=r,p=[];return t.reduce((v,m)=>{var _,{dataDefinedOnItem:w,settings:E}=m,S=Moe(w,l),I=Array.isArray(S)?GM(S,f,h):S,O=(_=E?.dataKey)!==null&&_!==void 0?_:n,M=E?.nameKey,L;if(n&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?L=BN(I,n,i):L=a(I,e,c,M),Array.isArray(L))L.forEach(D=>{var N=wR(wR({},E),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(i8({tooltipEntrySettings:N,dataKey:D.dataKey,payload:D.payload,value:qt(D.payload,D.dataKey),name:D.name}))});else{var B;v.push(i8({tooltipEntrySettings:E,dataKey:O,payload:L,value:qt(L,O),name:(B=qt(L,M))!==null&&B!==void 0?B:E?.name}))}return v},p)}},WA=re([cn,ct,y7,wA,Qr],M7),koe=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Loe=re([Qr,Bf],RA),T0=re([koe,cn,Loe],PA),joe=re([T0],t=>t.filter(dm)),Boe=re([T0],DA),Hf=re([Boe,Nl],NA),Voe=re([joe,Nl,cn],g7),XA=re([Hf,cn,T0],kA),Foe=re([cn],LA),Uoe=re([T0],t=>t.filter(dm)),zoe=re([Voe,Uoe,_0],E7),Hoe=re([zoe,Nl,Qr],A7),$oe=re([T0],_7),qoe=re([Hf,cn,$oe,gm,Qr],S7),Goe=re([C7,Qr,Bf],Vf),Koe=re([Goe,Qr],R7),Woe=re([I7,Qr,Bf],Vf),Xoe=re([Woe,Qr],P7),Yoe=re([O7,Qr,Bf],Vf),Qoe=re([Yoe,Qr],D7),Zoe=re([Koe,Qoe,Xoe],Yg),Joe=re([cn,Foe,Hoe,qoe,Zoe,ct,Qr],jA),rk=re([cn,ct,Hf,XA,_0,Qr,Joe],BA),ese=re([rk,cn,WA],UA),tse=re([cn,rk,ese,Qr],HA),nk=t=>{var e=Qr(t),r=Bf(t),n=!1;return A0(t,e,r,n)},ik=re([cn,nk],cm),ak=re([cn,WA,tse,ik],FA),rse=re([ct,XA,cn,Qr],U7),nse=re([ct,XA,cn,Qr],z7),ise=(t,e,r,n,i,a,o,l)=>{if(e){var{type:c}=e,f=Ol(t,l);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ln(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:n(v)+p,value:v,index:m,offset:p})):n.domain().map((v,m)=>({coordinate:n(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},cs=re([ct,cn,WA,ak,nk,rse,nse,Qr],ise),YA=re([$7,q7,moe],(t,e,r)=>G7(r.shared,t,e)),ok=t=>t.tooltip.settings.trigger,QA=t=>t.tooltip.settings.defaultIndex,ym=re([zf,YA,ok,QA],Z7),_l=re([ym,Hf],KA),sk=re([cs,_l],K7),lk=re([ym],t=>{if(t)return t.dataKey}),uk=re([zf,YA,ok,QA],ek),ase=re([as,os,ct,Xr,cs,QA,uk,S0],J7),ose=re([ym,ase],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),sse=re([ym],t=>t.active),lse=re([uk,_l,Nl,p7,sk,S0,YA],tk),use=re([lse],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cse(t,e,r){return(e=fse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hse=()=>Ce(cn),pse=()=>{var t=hse(),e=Ce(cs),r=Ce(ak);return Fh(AR(AR({},t),{},{scale:r}),e)},gse=()=>Ce(wA),ZA=(t,e)=>e,ck=(t,e,r)=>r,JA=(t,e,r,n)=>n,vse=re(cs,t=>$v(t,e=>e.coordinate)),eS=re([zf,ZA,ck,JA],Z7),fk=re([eS,Hf],KA),mse=(t,e,r)=>{if(e!=null){var n=zf(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dk=re([zf,ZA,ck,JA],ek),Qg=re([as,os,ct,Xr,cs,JA,dk,S0],J7),yse=re([eS,Qg],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),hk=re(cs,fk,K7),xse=re([dk,fk,Nl,p7,hk,S0,ZA],tk),_se=re([eS],t=>({isActive:t.active,activeIndex:t.index})),bse=(t,e,r,n,i,a,o,l)=>{if(!(!t||!e||!n||!i||!a)){var c=zee(t.chartX,t.chartY,e,r,l);if(c){var f=$ee(c,e),h=Oee(f,o,a,n,i),p=Hee(e,a,h,c);return{activeIndex:String(h),activeCoordinate:p}}}};function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){wse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wse(t,e,r){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ese(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sse(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=t,h=e,p=r,v=n;if(!l||!h||f!=="ScatterChart"&&c!=="axis")return null;var m,_;if(f==="ScatterChart")m=h,_=$te;else if(f==="BarChart")m=qte(o,h,i,a),_=s9;else if(o==="radial"){var{cx:w,cy:E,radius:S,startAngle:I,endAngle:O}=l9(h);m={cx:w,cy:E,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},_=c9}else m={points:Are(o,h,i)},_=XE;var M=typeof l=="object"&&"className"in l?l.className:void 0,L=P1(P1(P1(P1({stroke:"#ccc",pointerEvents:"none"},i),m),sr(l,!1)),{},{payload:p,payloadIndex:v,className:vt("recharts-tooltip-cursor",M)});return C.isValidElement(l)?C.cloneElement(l,L):C.createElement(_,L)}function Tse(t){var e=pse(),r=ZM(),n=em(),i=gse();return C.createElement(Sse,Jb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var pk=C.createContext(null),Cse=()=>C.useContext(pk),c_={exports:{}},TR;function Ise(){return TR||(TR=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,p||c,v),_=r?r+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,_=new Array(m);v<m;v++)_[v]=p[v].fn;return _},l.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,v,m,_){var w=r?r+f:f;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,I,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,v),!0;case 5:return E.fn.call(E.context,h,p,v,m),!0;case 6:return E.fn.call(E.context,h,p,v,m,_),!0}for(O=1,I=new Array(S-1);O<S;O++)I[O-1]=arguments[O];E.fn.apply(E.context,I)}else{var M=E.length,L;for(O=0;O<M;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),S){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,h);break;case 3:E[O].fn.call(E[O].context,h,p);break;case 4:E[O].fn.call(E[O].context,h,p,v);break;default:if(!I)for(L=1,I=new Array(S-1);L<S;L++)I[L-1]=arguments[L];E[O].fn.apply(E[O].context,I)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,v){var m=r?r+f:f;if(!this._events[m])return this;if(!h)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===h&&(!v||_.once)&&(!p||_.context===p)&&o(this,m);else{for(var w=0,E=[],S=_.length;w<S;w++)(_[w].fn!==h||v&&!_[w].once||p&&_[w].context!==p)&&E.push(_[w]);E.length?this._events[m]=E.length===1?E[0]:E:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(c_)),c_.exports}var Ose=Ise();const Rse=ho(Ose);var Kh=new Rse,ew="recharts.syncEvent.tooltip",CR="recharts.syncEvent.brush";function tS(t,e){if(e){var r=Number.parseInt(e,10);if(!Ri(r))return t?.[r]}}var Pse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gk=Ni({name:"options",initialState:Pse,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Dse=gk.reducer,{createEventEmitter:Nse}=gk.actions;function Mse(t){return t.tooltip.syncInteraction}var kse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vk=Ni({name:"chartData",initialState:kse,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:IR,setDataStartEndIndexes:Lse,setComputedData:mpe}=vk.actions,jse=vk.reducer,Bse=["x","y"];function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e,r){return(e=Fse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fse(t){var e=Use(t,"string");return typeof e=="symbol"?e:e+""}function Use(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zse(t,e){if(t==null)return{};var r,n,i=Hse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var mk=()=>{};function $se(){var t=Ce(EA),e=Ce(AA),r=lr(),n=Ce(l7),i=Ce(cs),a=em(),o=qE(),l=Ce(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return mk;var c=(f,h,p)=>{if(e!==p&&t===f){if(n==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var m=h.payload.coordinate,{x:_,y:w}=m,E=zse(m,Bse),S=fu(fu(fu({},E),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),I=fu(fu({},h),{},{payload:fu(fu({},h.payload),{},{coordinate:S})});r(I)}else r(h);return}if(i!=null){var O;if(typeof n=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=n(i,M);O=i[L]}else n==="value"&&(O=i.find(U=>String(U.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||o==null){r(Qb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:N}=B,k=Math.min(D,o.x+o.width),V=Math.min(N,o.y+o.height),z={x:a==="horizontal"?O.coordinate:k,y:a==="horizontal"?V:O.coordinate},H=Qb({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});r(H)}}};return Kh.on(ew,c),()=>{Kh.off(ew,c)}},[l,r,e,t,n,i,a,o])}function qse(){var t=Ce(EA),e=Ce(AA),r=lr();C.useEffect(()=>{if(t==null)return mk;var n=(i,a,o)=>{e!==o&&t===i&&r(Lse(a))};return Kh.on(CR,n),()=>{Kh.off(CR,n)}},[r,e,t])}function Gse(){var t=lr();C.useEffect(()=>{t(Nse())},[t]),$se(),qse()}function Kse(t,e,r,n,i,a){var o=Ce(v=>mse(v,t,e)),l=Ce(AA),c=Ce(EA),f=Ce(l7),h=Ce(Mse),p=h?.active;C.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=Qb({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Kh.emit(ew,c,v,l)}},[p,r,o,i,n,l,c,f,a])}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){Wse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wse(t,e,r){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t){return t.dataKey}function Zse(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(wte,e)}var DR=[],Jse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xm(t){var e=Cn(t,Jse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:_,cursor:w,shared:E,trigger:S,defaultIndex:I,portal:O,axisId:M}=e,L=lr(),B=typeof I=="number"?String(I):I;C.useEffect(()=>{L(boe({shared:E,trigger:S,axisId:M,active:r,defaultIndex:B}))},[L,E,S,M,r,B]);var D=qE(),N=r9(),k=voe(E),{activeIndex:V,isActive:z}=Ce(Oe=>_se(Oe,k,S,B)),H=Ce(Oe=>xse(Oe,k,S,B)),U=Ce(Oe=>hk(Oe,k,S,B)),he=Ce(Oe=>yse(Oe,k,S,B)),be=H,Y=Cse(),se=r??z,[me,Se]=_M([be,se]),Ge=k==="axis"?U:void 0;Kse(k,S,he,Ge,V,se);var G=O??Y;if(G==null)return null;var ee=be??DR;se||(ee=DR),l&&ee.length&&(ee=gM(be.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),h,Qse));var ye=ee.length>0,_e=C.createElement(Ote,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:se,coordinate:he,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:D,wrapperStyle:_,lastBoundingBox:me,innerRef:Se,hasPortalFromProps:!!O},Zse(o,PR(PR({},e),{},{payload:ee,label:Ge,active:se,coordinate:he,accessibilityLayer:N})));return C.createElement(C.Fragment,null,zN.createPortal(_e,G),se&&C.createElement(Tse,{cursor:w,tooltipEventType:k,coordinate:he,payload:be,index:V}))}var f_={},d_={},h_={},NR;function ele(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),o=void 0,l=null},E=()=>{h()},S=function(...I){if(i?.aborted)return;o=this,l=I;const O=v==null;m(),c&&O&&h()};return S.schedule=m,S.cancel=w,S.flush=E,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(h_)),h_}var MR;function tle(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ele();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const v=e.debounce(function(...w){h=n.apply(this,w),p=null},i,{edges:f}),m=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=n.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},_=()=>(v.flush(),h);return m.cancel=v.cancel,m.flush=_,m}t.debounce=r})(d_)),d_}var kR;function rle(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tle();function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:l})}t.throttle=r})(f_)),f_}var p_,LR;function nle(){return LR||(LR=1,p_=rle().throttle),p_}var ile=nle();const ale=ho(ile);var Th=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){ole(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ole(t,e,r){return(e=sle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sle(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _m=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:f,debounce:h=0,id:p,className:v,onResize:m,style:_={}}=t,w=C.useRef(null),E=C.useRef();E.current=m,C.useImperativeHandle(e,()=>w.current);var[S,I]=C.useState({containerWidth:n.width,containerHeight:n.height}),O=C.useCallback((L,B)=>{I(D=>{var N=Math.round(L),k=Math.round(B);return D.containerWidth===N&&D.containerHeight===k?D:{containerWidth:N,containerHeight:k}})},[]);C.useEffect(()=>{var L=k=>{var V,{width:z,height:H}=k[0].contentRect;O(z,H),(V=E.current)===null||V===void 0||V.call(E,z,H)};h>0&&(L=ale(L,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),{width:D,height:N}=w.current.getBoundingClientRect();return O(D,N),B.observe(w.current),()=>{B.disconnect()}},[O,h]);var M=C.useMemo(()=>{var{containerWidth:L,containerHeight:B}=S;if(L<0||B<0)return null;Th(_u(i)||_u(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Th(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=_u(i)?L:i,N=_u(a)?B:a;return r&&r>0&&(D?N=D/r:N&&(D=N*r),c&&N>c&&(N=c)),Th(D>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,i,a,o,l,r),C.Children.map(f,k=>C.cloneElement(k,{width:D,height:N,style:g_({width:D,height:N},k.props.style)}))},[r,f,a,c,l,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:vt("recharts-responsive-container",v),style:g_(g_({},_),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),$f=t=>null;$f.displayName="Cell";function ule(t,e,r){return(e=cle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cle(t){var e=fle(t,"string");return typeof e=="symbol"?e:e+""}function fle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dle{constructor(e){ule(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ple(t,e,r){return(e=gle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gle(t){var e=vle(t,"string");return typeof e=="symbol"?e:e+""}function vle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mle={cacheSize:2e3,enableCache:!0},yk=hle({},mle),VR=new dle(yk.cacheSize),yle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FR="recharts_measurement_span";function xle(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var UR=(t,e)=>{try{var r=document.getElementById(FR);r||(r=document.createElement("span"),r.setAttribute("id",FR),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,yle,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ch=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rl.isSsr)return{width:0,height:0};if(!yk.enableCache)return UR(e,r);var n=xle(e,r),i=VR.get(n);if(i)return i;var a=UR(e,r);return VR.set(n,a),a},zR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_le=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ble=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wle=Object.keys(xk),Wc="NaN";function Ele(t,e){return t*xk[e]}class ri{static parse(e){var r,[,n,i]=(r=ble.exec(e))!==null&&r!==void 0?r:[];return new ri(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Ri(e)&&(this.unit=""),r!==""&&!_le.test(r)&&(this.num=NaN,this.unit=""),wle.includes(r)&&(this.num=Ele(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ri(NaN,""):new ri(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ri(NaN,""):new ri(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ri(NaN,""):new ri(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ri(NaN,""):new ri(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}function _k(t){if(t.includes(Wc))return Wc;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=zR.exec(e))!==null&&r!==void 0?r:[],o=ri.parse(n??""),l=ri.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Wc;e=e.replace(zR,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,v]=(f=HR.exec(e))!==null&&f!==void 0?f:[],m=ri.parse(h??""),_=ri.parse(v??""),w=p==="+"?m.add(_):m.subtract(_);if(w.isNaN())return Wc;e=e.replace(HR,w.toString())}return e}var $R=/\(([^()]*)\)/;function Ale(t){for(var e=t,r;(r=$R.exec(e))!=null;){var[,n]=r;e=e.replace($R,_k(n))}return e}function Sle(t){var e=t.replace(/\s+/g,"");return e=Ale(e),e=_k(e),e}function Tle(t){try{return Sle(t)}catch{return Wc}}function v_(t){var e=Tle(t.slice(5,-1));return e===Wc?"":e}var Cle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ile=["dx","dy","angle","className","breakAll"];function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(null,arguments)}function qR(t,e){if(t==null)return{};var r,n,i=Ole(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ole(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bk=/[ \f\n\r\t\v\u2028\u2029]+/,wk=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];nr(e)||(r?i=e.toString().split(""):i=e.toString().split(bk));var a=i.map(l=>({word:l,width:Ch(l,n).width})),o=r?0:Ch("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Rle=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=t,f=Re(a),h=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((H,U)=>{var{word:he,width:be}=U,Y=H[H.length-1];if(Y&&(n==null||i||Y.width+be+r<Number(n)))Y.words.push(he),Y.width+=be+r;else{var se={words:[he],width:be};H.push(se)}return H},[])},v=p(e),m=V=>V.reduce((z,H)=>z.width>H.width?z:H);if(!f||i)return v;var _=v.length>a||m(v).width>Number(n);if(!_)return v;for(var w="",E=V=>{var z=h.slice(0,V),H=wk({breakAll:c,style:l,children:z+w}).wordsWithComputedWidth,U=p(H),he=U.length>a||m(U).width>Number(n);return[he,U]},S=0,I=h.length-1,O=0,M;S<=I&&O<=h.length-1;){var L=Math.floor((S+I)/2),B=L-1,[D,N]=E(B),[k]=E(L);if(!D&&!k&&(S=L+1),D&&k&&(I=L-1),!D&&k){M=N;break}O++}return M||v},GR=t=>{var e=nr(t)?[]:t.toString().split(bk);return[{words:e}]},Ple=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!Rl.isSsr){var l,c,f=wk({breakAll:a,children:n,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,c=p}else return GR(n);return Rle({breakAll:a,children:n,maxLines:o,style:i},l,c,e,r)}return GR(n)},KR="#808080",bm=C.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:f=KR}=t,h=qR(t,Cle),p=C.useMemo(()=>Ple({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:m,angle:_,className:w,breakAll:E}=h,S=qR(h,Ile);if(!co(r)||!co(n)||p.length===0)return null;var I=r+(Re(v)?v:0),O=n+(Re(m)?m:0),M;switch(c){case"start":M=v_("calc(".concat(a,")"));break;case"middle":M=v_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:M=v_("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(o){var B=p[0].width,{width:D}=h;L.push("scale(".concat(Re(D)?D/B:1,")"))}return _&&L.push("rotate(".concat(_,", ").concat(I,", ").concat(O,")")),L.length&&(S.transform=L.join(" ")),C.createElement("text",tw({},sr(S,!0),{ref:e,x:I,y:O,className:vt("recharts-text",w),textAnchor:l,fill:f.includes("url")?KR:f}),p.map((N,k)=>{var V=N.words.join(E?"":" ");return C.createElement("tspan",{x:I,dy:k===0?M:i,key:"".concat(V,"-").concat(k)},V)}))});bm.displayName="Text";var Dle=["labelRef"];function Nle(t,e){if(t==null)return{};var r,n,i=Mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function WR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return(e=Lle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lle(t){var e=jle(t,"string");return typeof e=="symbol"?e:e+""}function jle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(null,arguments)}var Ek=C.createContext(null),Ble=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return C.createElement(Ek.Provider,{value:o},a)},Ak=()=>{var t=C.useContext(Ek),e=qE();return t||e},Vle=C.createContext(null),Fle=()=>{var t=C.useContext(Vle),e=Ce(h7);return t||e},Ule=t=>{var{value:e,formatter:r}=t,n=nr(t.children)?e:t.children;return typeof r=="function"?r(n):n},rS=t=>t!=null&&typeof t=="function",zle=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Hle=(t,e,r,n,i)=>{var{offset:a,className:o}=t,{cx:l,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:m}=i,_=(f+h)/2,w=zle(p,v),E=w>=0?1:-1,S,I;switch(e){case"insideStart":S=p+E*a,I=m;break;case"insideEnd":S=v-E*a,I=!m;break;case"end":S=v+E*a,I=m;break;default:throw new Error("Unsupported position ".concat(e))}I=w<=0?I:!I;var O=Lr(l,c,_,S),M=Lr(l,c,_,S+(I?1:-1)*359),L="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(M.x,",").concat(M.y),B=nr(t.id)?jh("recharts-radial-line-"):t.id;return C.createElement("text",Bo({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:B,d:L})),C.createElement("textPath",{xlinkHref:"#".concat(B)},r))},$le=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(r==="outside"){var{x:h,y:p}=Lr(n,i,o+e,f);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:_}=Lr(n,i,v,f);return{x:m,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Sk=t=>"cx"in t&&Re(t.cx),qle=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Sk(r)&&(a=r);var{x:o,y:l,width:c,height:f}=e,h=f>=0?1:-1,p=h*n,v=h>0?"end":"start",m=h>0?"start":"end",_=c>=0?1:-1,w=_*n,E=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var I={x:o+c/2,y:l-h*n,textAnchor:"middle",verticalAnchor:v};return _r(_r({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return _r(_r({},O),a?{height:Math.max(a.y+a.height-(l+f),0),width:c}:{})}if(i==="left"){var M={x:o-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return _r(_r({},M),a?{width:Math.max(M.x-a.x,0),height:f}:{})}if(i==="right"){var L={x:o+c+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return _r(_r({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:f}:{})}var B=a?{width:c,height:f}:{};return i==="insideLeft"?_r({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideRight"?_r({x:o+c-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},B):i==="insideTop"?_r({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},B):i==="insideBottom"?_r({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?_r({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},B):i==="insideTopRight"?_r({x:o+c-w,y:l+p,textAnchor:E,verticalAnchor:m},B):i==="insideBottomLeft"?_r({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},B):i==="insideBottomRight"?_r({x:o+c-w,y:l+f-p,textAnchor:E,verticalAnchor:v},B):i&&typeof i=="object"&&(Re(i.x)||_u(i.x))&&(Re(i.y)||_u(i.y))?_r({x:o+Ln(i.x,c),y:l+Ln(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):_r({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Gle={offset:5};function Qs(t){var e=Cn(t,Gle),{viewBox:r,position:n,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,h=Fle(),p=Ak(),v=n==="center"?p:h??p,m=r||v;if(!m||nr(i)&&nr(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var _=_r(_r({},e),{},{viewBox:m});if(C.isValidElement(o)){var{labelRef:w}=_,E=Nle(_,Dle);return C.cloneElement(o,E)}var S;if(typeof o=="function"){if(S=C.createElement(o,_),C.isValidElement(S))return S}else S=Ule(e);var I=Sk(m),O=sr(e,!0);if(I&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Hle(e,n,S,O,m);var M=I?$le(m,e.offset,e.position):qle(e,m);return C.createElement(bm,Bo({ref:f,className:vt("recharts-label",l)},O,M,{breakAll:c}),S)}Qs.displayName="Label";var Kle=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(Qs,Bo({key:"label-implicit"},n)):co(t)?C.createElement(Qs,Bo({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===Qs?C.cloneElement(t,_r({key:"label-implicit"},n)):C.createElement(Qs,Bo({key:"label-implicit",content:t},n)):rS(t)?C.createElement(Qs,Bo({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(Qs,Bo({},t,{key:"label-implicit"},n)):null};function Wle(t){var{label:e}=t,r=Ak();return Kle(e,r)||null}var m_={},y_={},XR;function Xle(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(y_)),y_}var x_={},YR;function Yle(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(x_)),x_}var QR;function Qle(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xle(),r=Yle(),n=LE();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(m_)),m_}var __,ZR;function Zle(){return ZR||(ZR=1,__=Qle().last),__}var Jle=Zle();const eue=ho(Jle);var tue=["valueAccessor"],rue=["dataKey","clockWise","id","textBreakAll"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zg.apply(null,arguments)}function JR(t,e){if(t==null)return{};var r,n,i=nue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iue=t=>Array.isArray(t.value)?eue(t.value):t.value,Tk=C.createContext(void 0),Ck=Tk.Provider,Ik=C.createContext(void 0),aue=Ik.Provider;function oue(){return C.useContext(Tk)}function sue(){return C.useContext(Ik)}function W1(t){var{valueAccessor:e=iue}=t,r=JR(t,tue),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,l=JR(r,rue),c=oue(),f=sue(),h=c||f;return!h||!h.length?null:C.createElement(Tn,{className:"recharts-label-list"},h.map((p,v)=>{var m,_=nr(n)?e(p,v):qt(p&&p.payload,n),w=nr(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement(Qs,Zg({},sr(p,!0),l,w,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}W1.displayName="LabelList";function nS(t){var{label:e}=t;return e?e===!0?C.createElement(W1,{key:"labelList-implicit"}):C.isValidElement(e)||rS(e)?C.createElement(W1,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(W1,Zg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(null,arguments)}var Ok=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=vt("recharts-dot",i);return e===+e&&r===+r&&n===+n?C.createElement("circle",rw({},vo(t),CE(t),{className:a,cx:e,cy:r,r:n})):null},Rk=t=>t.graphicalItems.polarItems,lue=re([ir,b0],RA),iS=re([Rk,Er,lue],PA),uue=re([iS],DA),aS=re([uue,xA],NA),cue=re([aS,Er,iS],kA),fue=re([aS,Er,iS],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=qt(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:qt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),eP=()=>{},due=re([Er,N7,eP,fue,eP,ct,ir],jA),Pk=re([Er,ct,aS,cue,_0,ir,due],BA),hue=re([Pk,Er,Ff],UA);re([Er,Pk,hue,ir],HA);var pue={radiusAxis:{},angleAxis:{}},Dk=Ni({name:"polarAxis",initialState:pue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ype,removeRadiusAxis:xpe,addAngleAxis:_pe,removeAngleAxis:bpe}=Dk.actions,gue=Dk.reducer;function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vue(t,e,r){return(e=mue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mue(t){var e=yue(t,"string");return typeof e=="symbol"?e:e+""}function yue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue=(t,e)=>e,oS=re([Rk,xue],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),_ue=[],sS=(t,e,r)=>r?.length===0?_ue:r,Nk=re([xA,oS,sS],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>rP(rP({},e.presentationProps),a.props))),i!=null)return i}}),bue=re([Nk,oS,sS],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=qt(n,e.nameKey,e.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:Mf(o,e.dataKey),color:l,payload:n,type:e.legendType}})}),wue=re([Nk,oS,sS,Xr],(t,e,r,n)=>{if(!(e==null||t==null))return xce({offset:n,pieSettings:e,displayedData:t,cells:r})}),b_={},nP;function Eue(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(b_)),b_}var w_,iP;function Aue(){return iP||(iP=1,w_=Eue().isPlainObject),w_}var Sue=Aue();const Tue=ho(Sue);function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){Cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cue(t,e,r){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iue(t){var e=Oue(t,"string");return typeof e=="symbol"?e:e+""}function Oue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(null,arguments)}var sP=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Rue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pue=t=>{var e=Cn(t,Rue),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,v=C.useRef(),[m,_]=C.useState(-1),w=C.useRef(i),E=C.useRef(a),S=C.useRef(o),I=C.useRef(r),O=C.useRef(n),M=g0(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var he=v.current.getTotalLength();he&&_(he)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var L=vt("recharts-trapezoid",l);if(!p)return C.createElement("g",null,C.createElement("path",Jg({},sr(e,!0),{className:L,d:sP(r,n,i,a,o)})));var B=w.current,D=E.current,N=S.current,k=I.current,V=O.current,z="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),U=n9(["strokeDasharray"],f,c);return C.createElement(p0,{animationId:M,key:M,canBegin:m>0,duration:f,easing:c,isActive:p,begin:h},he=>{var be=fr(B,i,he),Y=fr(D,a,he),se=fr(N,o,he),me=fr(k,r,he),Se=fr(V,n,he);v.current&&(w.current=be,E.current=Y,S.current=se,I.current=me,O.current=Se);var Ge=he>0?{transition:U,strokeDasharray:H}:{strokeDasharray:z};return C.createElement("path",Jg({},sr(e,!0),{className:L,d:sP(me,Se,be,Y,se),ref:v,style:oP(oP({},Ge),e.style)}))})},Due=["option","shapeType","propTransformer","activeClassName","isActive"];function Nue(t,e){if(t==null)return{};var r,n,i=Mue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kue(t,e,r){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){return ev(ev({},e),t)}function Vue(t,e){return t==="symbols"}function uP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(s9,r);case"trapezoid":return C.createElement(Pue,r);case"sector":return C.createElement(c9,r);case"symbols":if(Vue(e))return C.createElement(NE,r);break;default:return null}}function Fue(t){return C.isValidElement(t)?t.props:t}function Mk(t){var{option:e,shapeType:r,propTransformer:n=Bue,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Nue(t,Due),l;if(C.isValidElement(e))l=C.cloneElement(e,ev(ev({},o),Fue(e)));else if(typeof e=="function")l=e(o);else if(Tue(e)&&typeof e!="boolean"){var c=n(e,o);l=C.createElement(uP,{shapeType:r,elementProps:c})}else{var f=o;l=C.createElement(uP,{shapeType:r,elementProps:f})}return a?C.createElement(Tn,{className:i},l):l}var lS=(t,e)=>{var r=lr();return(n,i)=>a=>{t?.(n,i,a),r(X7({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},uS=t=>{var e=lr();return(r,n)=>i=>{t?.(r,n,i),e(woe())}},cS=(t,e)=>{var r=lr();return(n,i)=>a=>{t?.(n,i,a),r(Eoe({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function fS(t){var{fn:e,args:r}=t,n=lr(),i=fi();return C.useEffect(()=>{if(!i){var a=e(r);return n(xoe(a)),()=>{n(_oe(a))}}},[e,r,n,i]),null}var kk=()=>{};function Lk(t){var{legendPayload:e}=t,r=lr(),n=fi();return C.useEffect(()=>n?kk:(r(e9(e)),()=>{r(t9(e))}),[r,n,e]),null}function Uue(t){var{legendPayload:e}=t,r=lr(),n=Ce(ct);return C.useEffect(()=>n!=="centric"&&n!=="radial"?kk:(r(e9(e)),()=>{r(t9(e))}),[r,n,e]),null}var E_,zue=()=>{var[t]=C.useState(()=>jh("uid-"));return t},Hue=(E_=nB.useId)!==null&&E_!==void 0?E_:zue;function $ue(t,e){var r=Hue();return e||(t?"".concat(t,"-").concat(r):r)}var que=C.createContext(void 0),dS=t=>{var{id:e,type:r,children:n}=t,i=$ue("recharts-".concat(r),e);return C.createElement(que.Provider,{value:i},n(i))},Gue={cartesianItems:[],polarItems:[]},jk=Ni({name:"graphicalItems",initialState:Gue,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=qo(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=qo(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=qo(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Kue,replaceCartesianGraphicalItem:Wue,removeCartesianGraphicalItem:Xue,addPolarGraphicalItem:Yue,removePolarGraphicalItem:Que}=jk.actions,Zue=jk.reducer;function Bk(t){var e=lr(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?e(Kue(t)):r.current!==t&&e(Wue({prev:r.current,next:t})),r.current=t},[e,t]),C.useEffect(()=>()=>{r.current&&(e(Xue(r.current)),r.current=null)},[e]),null}function Jue(t){var e=lr();return C.useEffect(()=>(e(Yue(t)),()=>{e(Que(t))}),[e,t]),null}var ece=["onMouseEnter","onClick","onMouseLeave"],tce=["id"],rce=["id"];function hS(t,e){if(t==null)return{};var r,n,i=nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){ice(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ice(t,e,r){return(e=ace(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ace(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bl.apply(null,arguments)}function sce(t){var e=C.useMemo(()=>IE(t.children,$f),[t.children]),r=Ce(n=>bue(n,t.id,e));return r==null?null:C.createElement(Uue,{legendPayload:r})}function lce(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:Mf(l,e),hide:c,type:f,color:o,unit:""}}}var uce=(t,e)=>t>e?"start":t<e?"end":"middle",cce=(t,e,r)=>Ln(typeof e=="function"?e(t):e,r,r*.8),fce=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,l=qM(a,o),c=i+Ln(t.cx,a,a/2),f=n+Ln(t.cy,o,o/2),h=Ln(t.innerRadius,l,0),p=cce(r,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:v}},dce=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function hce(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var pce=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=vt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(XE,bl({},e,{type:"linear",className:r}))},gce=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=vt("recharts-pie-label-text",hce(t));return C.createElement(bm,bl({},e,{alignmentBaseline:"middle",className:i}),n)};function vce(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var l=vo(r),c=sr(i,!1),f=sr(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var _=(v.startAngle+v.endAngle)/2,w=Lr(v.cx,v.cy,v.outerRadius+h,_),E=er(er(er(er({},l),v),{},{stroke:"none"},c),{},{index:m,textAnchor:uce(w.x,v.cx)},w),S=er(er(er(er({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[Lr(v.cx,v.cy,v.outerRadius,_),w],key:"line"});return C.createElement(Tn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&pce(a,S),gce(i,E,qt(v,o)))});return C.createElement(Tn,{className:"recharts-pie-labels"},p)}function mce(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(nS,{label:i}):C.createElement(vce,{sectors:e,props:r,showLabels:n})}function yce(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=Ce(_l),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,f=hS(i,ece),h=lS(o,i.dataKey),p=uS(c),v=cS(l,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((m,_)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=r&&String(_)===a,E=a?n:null,S=w?r:E,I=er(er({},m),{},{stroke:m.stroke,tabIndex:-1,[YM]:_,[QM]:i.dataKey});return C.createElement(Tn,bl({tabIndex:-1,className:"recharts-pie-sector"},c0(f,m,_),{onMouseEnter:h(m,_),onMouseLeave:p(m,_),onClick:v(m,_),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(_)}),C.createElement(Mk,bl({option:S,isActive:w,shapeType:"sector"},I)))}))}function xce(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=r,v=Math.abs(r.minAngle),m=dce(l,c),_=Math.abs(m),w=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,E=n.filter(B=>qt(B,f,0)!==0).length,S=(_>=360?E:E-1)*w,I=_-E*v-S,O=n.reduce((B,D)=>{var N=qt(D,f,0);return B+(Re(N)?N:0)},0),M;if(O>0){var L;M=n.map((B,D)=>{var N=qt(B,f,0),k=qt(B,h,D),V=fce(r,a,B),z=(Re(N)?N:0)/O,H,U=er(er({},B),i&&i[D]&&i[D].props);D?H=L.endAngle+ln(m)*w*(N!==0?1:0):H=l;var he=H+ln(m)*((N!==0?v:0)+z*I),be=(H+he)/2,Y=(V.innerRadius+V.outerRadius)/2,se=[{name:k,value:N,payload:U,dataKey:f,type:p}],me=Lr(V.cx,V.cy,Y,be);return L=er(er(er(er({},r.presentationProps),{},{percent:z,cornerRadius:o,name:k,tooltipPayload:se,midAngle:be,middleRadius:Y,tooltipPosition:me},U),V),{},{value:N,startAngle:H,endAngle:he,payload:U,paddingAngle:ln(m)*w}),L})}return M}function _ce(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return C.createElement(aue,{value:e?i:void 0},n)}function bce(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=e,v=g0(e,"recharts-pie-"),m=r.current,[_,w]=C.useState(!1),E=C.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=C.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return C.createElement(_ce,{showLabels:!_,sectors:n},C.createElement(p0,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:E,key:v},I=>{var O=[],M=n&&n[0],L=M?.startAngle;return n?.forEach((B,D)=>{var N=m&&m[D],k=D>0?Fu(B,"paddingAngle",0):0;if(N){var V=fr(N.endAngle-N.startAngle,B.endAngle-B.startAngle,I),z=er(er({},B),{},{startAngle:L+k,endAngle:L+V+k});O.push(z),L=z.endAngle}else{var{endAngle:H,startAngle:U}=B,he=fr(0,H-U,I),be=er(er({},B),{},{startAngle:L+k,endAngle:L+he+k});O.push(be),L=be.endAngle}}),r.current=O,C.createElement(Tn,null,C.createElement(yce,{sectors:O,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(mce,{showLabels:!_,sectors:n,props:e}),e.children)}var wce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Rl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ece(t){var{id:e}=t,r=hS(t,tce),{hide:n,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>IE(t.children,$f),[t.children]),l=Ce(h=>wue(h,e,o)),c=C.useRef(null),f=vt("recharts-pie",i);return n||l==null?(c.current=null,C.createElement(Tn,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(fS,{fn:lce,args:er(er({},t),{},{sectors:l})}),C.createElement(Tn,{tabIndex:a,className:f},C.createElement(bce,{props:er(er({},r),{},{sectors:l}),previousSectorsRef:c})))}function pS(t){var e=Cn(t,wce),{id:r}=e,n=hS(e,rce),i=vo(n);return C.createElement(dS,{id:r,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(Jue,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(sce,bl({},n,{id:a})),C.createElement(Ece,bl({},n,{id:a}))))}pS.displayName="Pie";function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cce={xAxis:{},yAxis:{},zAxis:{}},Vk=Ni({name:"cartesianAxis",initialState:Cce,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=dP(dP({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ice,removeXAxis:Oce,addYAxis:Rce,removeYAxis:Pce,addZAxis:wpe,removeZAxis:Epe,updateYAxisWidth:Dce}=Vk.actions,Nce=Vk.reducer,Mce=re([Xr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),kce=re([Mce,as,os],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),gS=()=>Ce(kce),Lce=()=>Ce(use);function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){jce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jce(t,e,r){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bce(t){var e=Vce(t,"string");return typeof e=="symbol"?e:e+""}function Vce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fce=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=pP(pP({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},sr(i,!1)),CE(i)),l;return C.isValidElement(i)?l=C.cloneElement(i,o):typeof i=="function"?l=i(o):l=C.createElement(Ok,o),C.createElement(Tn,{className:"recharts-active-dot"},l)};function Uce(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=Ce(_l),o=Lce();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return nr(l)?null:Fce({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var zce="Invariant failed";function Hce(t,e){throw new Error(zce)}var $ce=["x","y"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(null,arguments)}function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){qce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qce(t,e,r){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wce(t,e){if(t==null)return{};var r,n,i=Xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Yce(t,e){var{x:r,y:n}=t,i=Wce(t,$ce),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return oh(oh(oh(oh(oh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function vS(t){return C.createElement(Mk,nw({shapeType:"rectangle",propTransformer:Yce,activeClassName:"recharts-active-bar"},t))}var Qce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Re(e))return e;var a=Re(n)||nr(n);return a?e(n,i):(a||Hce(),r)}},Zce={},Fk=Ni({name:"errorBars",initialState:Zce,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Ape,replaceErrorBar:Spe,removeErrorBar:Tpe}=Fk.actions,Jce=Fk.reducer,efe=["children"];function tfe(t,e){if(t==null)return{};var r,n,i=rfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ife=C.createContext(nfe);function Uk(t){var{children:e}=t,r=tfe(t,efe);return C.createElement(ife.Provider,{value:r},e)}function mS(t,e){var r,n,i=Ce(f=>ls(f,t)),a=Ce(f=>us(f,e)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:wi.allowDataOverflow,l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Ei.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function zk(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=gS(),{needClipX:a,needClipY:o,needClip:l}=mS(e,r);if(!l)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:a?c:c-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var afe=["onMouseEnter","onMouseLeave","onClick"],ofe=["value","background","tooltipPosition"],sfe=["id"],lfe=["onMouseEnter","onClick","onMouseLeave"];function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wl.apply(null,arguments)}function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){ufe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ufe(t,e,r){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tv(t,e){if(t==null)return{};var r,n,i=dfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hfe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Mf(r,e),payload:t}]};function pfe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Mf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function gfe(t){var e=Ce(_l),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,f=tv(a,afe),h=lS(o,n),p=uS(l),v=cS(c,n);if(!i||r==null)return null;var m=sr(i,!1);return C.createElement(C.Fragment,null,r.map((_,w)=>{var{value:E,background:S,tooltipPosition:I}=_,O=tv(_,ofe);if(!S)return null;var M=h(_,w),L=p(_,w),B=v(_,w),D=qn(qn(qn(qn(qn({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},S),m),c0(f,_,w)),{},{onMouseEnter:M,onMouseLeave:L,onClick:B,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(vS,wl({key:"background-bar-".concat(D.index)},D))}))}function vfe(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return qn(qn({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(Ck,{value:e?i:void 0},r)}function mfe(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=t,l=Ce(_l),c=Ce(lk),f=r&&String(a)===l&&(c==null||o===c),h=f?r:e;return C.createElement(vS,wl({},n,i,{isActive:f,option:h,index:a,dataKey:o}))}function yfe(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return C.createElement(vS,wl({},r,n,{isActive:!1,option:e,index:i,dataKey:a}))}function xfe(t){var{data:e,props:r}=t,n=vo(r),{id:i}=n,a=tv(n,sfe),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:f,onClick:h,onMouseLeave:p}=r,v=tv(r,lfe),m=lS(f,l),_=uS(p),w=cS(h,l);return e?C.createElement(C.Fragment,null,e.map((E,S)=>C.createElement(Tn,wl({className:"recharts-bar-rectangle"},c0(v,E,S),{onMouseEnter:m(E,S),onMouseLeave:_(E,S),onClick:w(E,S),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(S)}),c?C.createElement(mfe,{shape:o,activeBar:c,baseProps:a,entry:E,index:S,dataKey:l}):C.createElement(yfe,{shape:o,baseProps:a,entry:E,index:S,dataKey:l})))):null}function _fe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=r.current,v=g0(e,"recharts-bar-"),[m,_]=C.useState(!1),w=!m,E=C.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),S=C.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return C.createElement(vfe,{showLabels:w,rects:n},C.createElement(p0,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:v},I=>{var O=I===1?n:n?.map((M,L)=>{var B=p&&p[L];if(B)return qn(qn({},M),{},{x:fr(B.x,M.x,I),y:fr(B.y,M.y,I),width:fr(B.width,M.width,I),height:fr(B.height,M.height,I)});if(i==="horizontal"){var D=fr(0,M.height,I);return qn(qn({},M),{},{y:M.y+M.height-D,height:D})}var N=fr(0,M.width,I);return qn(qn({},M),{},{width:N})});return I>0&&(r.current=O??null),O==null?null:C.createElement(Tn,null,C.createElement(xfe,{props:e,data:O}))}),C.createElement(nS,{label:e.label}),e.children)}function bfe(t){var e=C.useRef(null);return C.createElement(_fe,{previousRectanglesRef:e,props:t})}var Hk=0,wfe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:qt(t,e)}};class Efe extends C.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:f}=this.props;if(e||r==null)return null;var h=vt("recharts-bar",i),p=f;return C.createElement(Tn,{className:h,id:f},l&&C.createElement("defs",null,C.createElement(zk,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},C.createElement(gfe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),C.createElement(bfe,this.props)))}}var Afe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Rl.isSsr,legendType:"rect",minPointSize:Hk,xAxisId:0,yAxisId:0};function Sfe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=mS(e,r),v=em(),m=fi(),_=IE(t.children,$f),w=Ce(I=>Jfe(I,e,r,m,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,S=w?.[0];return S==null||S.height==null||S.width==null?E=0:E=v==="vertical"?S.height/2:S.width/2,C.createElement(Uk,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:wfe,errorBarOffset:E},C.createElement(Efe,wl({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function Tfe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:v,cells:m,parentViewBox:_}=t,w=e==="horizontal"?l:o,E=h?w.scale.domain():null,S=Bee({numericAxis:w});return p.map((I,O)=>{var M,L,B,D,N,k;h?M=Dee(h[O],E):(M=qt(I,r),Array.isArray(M)||(M=[S,M]));var V=Qce(n,Hk)(M[1],O);if(e==="horizontal"){var z,[H,U]=[l.scale(M[0]),l.scale(M[1])];L=t8({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:O}),B=(z=U??H)!==null&&z!==void 0?z:void 0,D=i.size;var he=H-U;if(N=Ri(he)?0:he,k={x:L,y:v.top,width:D,height:v.height},Math.abs(V)>0&&Math.abs(N)<Math.abs(V)){var be=ln(N||V)*(Math.abs(V)-Math.abs(N));B-=be,N+=be}}else{var[Y,se]=[o.scale(M[0]),o.scale(M[1])];if(L=Y,B=t8({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:O}),D=se-Y,N=i.size,k={x:v.left,y:B,width:v.width,height:N},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var me=ln(D||V)*(Math.abs(V)-Math.abs(D));D+=me}}if(L==null||B==null||D==null||N==null)return null;var Se=qn(qn({},I),{},{x:L,y:B,width:D,height:N,value:h?M:M[1],payload:I,background:k,tooltipPosition:{x:L+D/2,y:B+N/2},parentViewBox:_},m&&m[O]&&m[O].props);return Se}).filter(Boolean)}function Cfe(t){var e=Cn(t,Afe),r=fi();return C.createElement(dS,{id:e.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(Lk,{legendPayload:hfe(e)}),C.createElement(fS,{fn:pfe,args:e}),C.createElement(Bk,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:jee(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Sfe,wl({},e,{id:n}))))}var $k=C.memo(Cfe);$k.displayName="Bar";function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Ife(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ife(t,e,r){return(e=Ofe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ofe(t){var e=Rfe(t,"string");return typeof e=="symbol"?e:e+""}function Rfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pfe=(t,e)=>e,Dfe=(t,e,r)=>r,Nfe=(t,e,r,n)=>n,Mfe=(t,e,r,n,i)=>i,C0=re([hm,Mfe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),kfe=re([C0],t=>t?.maxBarSize),Lfe=(t,e,r,n,i,a)=>a,yP=(t,e,r)=>{var n=r??t;if(!nr(n))return Ln(n,e,0)},jfe=re([ct,hm,Pfe,Dfe,Nfe],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Bfe=(t,e,r,n)=>{var i=ct(t);return i==="horizontal"?Yb(t,"yAxis",r,n):Yb(t,"xAxis",e,n)},Vfe=(t,e,r)=>{var n=ct(t);return n==="horizontal"?yR(t,"xAxis",e):yR(t,"yAxis",r)},Ffe=(t,e,r)=>{var n={},i=t.filter(dm),a=t.filter(f=>f.stackId==null),o=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),l=Object.entries(o).map(f=>{var[h,p]=f,v=p.map(_=>_.dataKey),m=yP(e,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:m}}),c=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),p=yP(e,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...c]},Ufe=re([jfe,yae,Vfe],Ffe),zfe=(t,e,r,n,i)=>{var a,o,l=C0(t,e,r,n,i);if(l!=null){var c=ct(t),f=o7(t),{maxBarSize:h}=l,p=nr(h)?f:h,v,m;return c==="horizontal"?(v=xl(t,"xAxis",e,n),m=yl(t,"xAxis",e,n)):(v=xl(t,"yAxis",r,n),m=yl(t,"yAxis",r,n)),(a=(o=Fh(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},qk=(t,e,r,n)=>{var i=ct(t),a,o;return i==="horizontal"?(a=xl(t,"xAxis",e,n),o=yl(t,"xAxis",e,n)):(a=xl(t,"yAxis",r,n),o=yl(t,"yAxis",r,n)),Fh(a,o)};function Hfe(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=Ln(t,r,0,!0),l,c=[];if(Di(n[0].barSize)){var f=!1,h=r/a,p=n.reduce((S,I)=>S+(I.barSize||0),0);p+=(a-1)*o,p>=r&&(p-=(a-1)*o,o=0),p>=r&&h>0&&(f=!0,h*=.9,p=a*h);var v=(r-p)/2>>0,m={offset:v-o,size:0};l=n.reduce((S,I)=>{var O,M={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:m.offset+m.size+o,size:f?h:(O=I.barSize)!==null&&O!==void 0?O:0}},L=[...S,M];return m=L[L.length-1].position,L},c)}else{var _=Ln(e,r,0,!0);r-2*_-(a-1)*o<=0&&(o=0);var w=(r-2*_-(a-1)*o)/a;w>1&&(w>>=0);var E=Di(i)?Math.min(w,i):w;l=n.reduce((S,I,O)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_+(w+o)*O+(w-E)/2,size:E}}],c)}return l}}var $fe=(t,e,r,n,i,a,o)=>{var l=nr(o)?e:o,c=Hfe(r,n,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(f=>D1(D1({},f),{},{position:D1(D1({},f.position),{},{offset:f.position.offset-i/2})}))),c},qfe=re([Ufe,o7,mae,s7,zfe,qk,kfe],$fe),Gfe=(t,e,r,n)=>xl(t,"xAxis",e,n),Kfe=(t,e,r,n)=>xl(t,"yAxis",r,n),Wfe=(t,e,r,n)=>yl(t,"xAxis",e,n),Xfe=(t,e,r,n)=>yl(t,"yAxis",r,n),Yfe=re([qfe,C0],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Qfe=(t,e)=>{var r=IA(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Zfe=re([Bfe,C0],Qfe),Jfe=re([Xr,$E,Gfe,Kfe,Wfe,Xfe,Yfe,ct,lm,qk,Zfe,C0,Lfe],(t,e,r,n,i,a,o,l,c,f,h,p,v)=>{var{chartData:m,dataStartIndex:_,dataEndIndex:w}=c;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||f==null)){var{data:E}=p,S;if(E!=null&&E.length>0?S=E:S=m?.slice(_,w+1),S!=null)return Tfe({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:S,offset:t,cells:v})}}),Gk=t=>{var{chartData:e}=t,r=lr(),n=fi();return C.useEffect(()=>n?()=>{}:(r(IR(e)),()=>{r(IR(void 0))}),[e,r,n]),null},xP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Kk=Ni({name:"brush",initialState:xP,reducers:{setBrushSettings(t,e){return e.payload==null?xP:e.payload}}}),{setBrushSettings:Cpe}=Kk.actions,ede=Kk.reducer;function tde(t,e,r){return(e=rde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yS{static create(e){return new yS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}tde(yS,"EPS",1e-4);function ide(t){return(t%180+180)%180}var ade=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ide(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ode={dots:[],areas:[],lines:[]},Wk=Ni({name:"referenceElements",initialState:ode,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=qo(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=qo(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=qo(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:Ipe,removeDot:Ope,addArea:Rpe,removeArea:Ppe,addLine:Dpe,removeLine:Npe}=Wk.actions,sde=Wk.reducer,lde=C.createContext(void 0),ude=t=>{var{children:e}=t,[r]=C.useState("".concat(jh("recharts"),"-clip")),n=gS();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return C.createElement(lde.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function _f(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Xk(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function cde(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ade(n,r)}function fde(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function rv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function dde(t,e){return Xk(t,e+1)}function hde(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=e,c=0,f=1,h=o,p=function(){var _=n?.[c];if(_===void 0)return{v:Xk(n,f)};var w=c,E,S=()=>(E===void 0&&(E=r(_,w)),E),I=_.coordinate,O=c===0||rv(t,I,S,h,l);O||(c=0,h=o,f+=1),O&&(h=I+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pde(t,e,r){return(e=gde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mde(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=e,{end:c}=e,f=function(v){var m=a[v],_,w=()=>(_===void 0&&(_=r(m,v)),_);if(v===o-1){var E=t*(m.coordinate+t*w()/2-c);a[v]=m=Pn(Pn({},m),{},{tickCoord:E>0?m.coordinate-E*t:m.coordinate})}else a[v]=m=Pn(Pn({},m),{},{tickCoord:m.coordinate});var S=rv(t,m.tickCoord,w,l,c);S&&(c=m.tickCoord-t*(w()/2+i),a[v]=Pn(Pn({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return a}function yde(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:c,end:f}=e;if(a){var h=n[l-1],p=r(h,l-1),v=t*(h.coordinate+t*p/2-f);o[l-1]=h=Pn(Pn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var m=rv(t,h.tickCoord,()=>p,c,f);m&&(f=h.tickCoord-t*(p/2+i),o[l-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var _=a?l-1:l,w=function(I){var O=o[I],M,L=()=>(M===void 0&&(M=r(O,I)),M);if(I===0){var B=t*(O.coordinate-t*L()/2-c);o[I]=O=Pn(Pn({},O),{},{tickCoord:B<0?O.coordinate-B*t:O.coordinate})}else o[I]=O=Pn(Pn({},O),{},{tickCoord:O.coordinate});var D=rv(t,O.tickCoord,L,c,f);D&&(c=O.tickCoord+t*(L()/2+i),o[I]=Pn(Pn({},O),{},{isShow:!0}))},E=0;E<_;E++)w(E);return o}function xS(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!n)return[];if(Re(c)||Rl.isSsr){var v;return(v=dde(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var m=[],_=l==="top"||l==="bottom"?"width":"height",w=h&&_==="width"?Ch(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=(O,M)=>{var L=typeof f=="function"?f(O.value,M):O.value;return _==="width"?cde(Ch(L,{fontSize:e,letterSpacing:r}),w,p):Ch(L,{fontSize:e,letterSpacing:r})[_]},S=i.length>=2?ln(i[1].coordinate-i[0].coordinate):1,I=fde(a,S,_);return c==="equidistantPreserveStart"?hde(S,I,E,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=yde(S,I,E,i,o,c==="preserveStartEnd"):m=mde(S,I,E,i,o),m.filter(O=>O.isShow))}var xde=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,f=o+c+l+(r?n:0);return Math.round(f)}return 0},_de=["axisLine","width","height","className","hide","ticks"],bde=["viewBox"],wde=["viewBox"];function iw(t,e){if(t==null)return{};var r,n,i=Ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ede(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(null,arguments)}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){Ade(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ade(t,e,r){return(e=Sde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sde(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _S={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Cde(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var f=$r($r($r({},c),sr(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=$r($r({},f),{},{x1:e,y1:r+h*i,x2:e+n,y2:r+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=$r($r({},f),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return C.createElement("line",$u({},f,{className:vt("recharts-cartesian-axis-line",Fu(l,"className"))}))}function Ide(t,e,r,n,i,a,o,l,c){var f,h,p,v,m,_,w=l?-1:1,E=t.tickSize||o,S=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=r+ +!l*i,p=v-w*E,_=p-w*c,m=S;break;case"left":p=v=t.coordinate,h=e+ +!l*n,f=h-w*E,m=f-w*c,_=S;break;case"right":p=v=t.coordinate,h=e+ +l*n,f=h+w*E,m=f+w*c,_=S;break;default:f=h=t.coordinate,v=r+ +l*i,p=v+w*E,_=p+w*c,m=S;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:m,y:_}}}function Ode(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Rde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Pde(t){var{option:e,tickProps:r,value:n}=t,i,a=vt(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,$r($r({},r),{},{className:a}));else if(typeof e=="function")i=e($r($r({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=vt(o,e?.className)),i=C.createElement(bm,$u({},r,{className:o}),n)}return i}function Dde(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:h,x:p,y:v,width:m,height:_,tickSize:w,tickMargin:E,fontSize:S,letterSpacing:I,getTicksConfig:O,events:M}=t,L=xS($r($r({},O),{},{ticks:e}),S,I),B=Ode(f,h),D=Rde(f,h),N=vo(O),k=sr(r,!1),V=$r($r({},N),{},{fill:"none"},sr(n,!1)),z=L.map((H,U)=>{var{line:he,tick:be}=Ide(H,p,v,m,_,f,w,h,E),Y=$r($r($r($r({textAnchor:B,verticalAnchor:D},N),{},{stroke:"none",fill:i},k),be),{},{index:U,payload:H,visibleTicksCount:L.length,tickFormatter:a,padding:l},c);return C.createElement(Tn,$u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},c0(M,H,U)),n&&C.createElement("line",$u({},V,he,{className:vt("recharts-cartesian-axis-tick-line",Fu(n,"className"))})),r&&C.createElement(Pde,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(H.value,U):H.value).concat(o||"")}))});return z.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var Nde=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l}=t,c=iw(t,_de),[f,h]=C.useState(""),[p,v]=C.useState(""),m=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return xde({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=C.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(E);var S=E[0];if(S){var I=window.getComputedStyle(S),O=I.fontSize,M=I.letterSpacing;(O!==f||M!==p)&&(h(O),v(M))}}},[f,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Tn,{className:vt("recharts-cartesian-axis",a),ref:_},C.createElement(Cde,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:vo(t)}),C.createElement(Dde,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),C.createElement(Ble,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(Wle,{label:t.label}),t.children))}),Mde=C.memo(Nde,(t,e)=>{var{viewBox:r}=t,n=iw(t,bde),{viewBox:i}=e,a=iw(e,wde);return _f(r,i)&&_f(n,a)}),bS=C.forwardRef((t,e)=>{var r=Cn(t,_S);return C.createElement(Mde,$u({},r,{ref:e}))});bS.displayName="CartesianAxis";var kde=["x1","y1","x2","y2","key"],Lde=["offset"],jde=["xAxisId","yAxisId"],Bde=["xAxisId","yAxisId"];function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){Vde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vde(t,e,r){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(null,arguments)}function nv(t,e){if(t==null)return{};var r,n,i=zde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=t;return C.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Yk(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:l}=e,c=nv(e,kde),f=vo(c),{offset:h}=f,p=nv(f,Lde);r=C.createElement("line",Eu({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function $de(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=nv(t,jde),c=i.map((f,h)=>{var p=Mn(Mn({},l),{},{x1:e,y1:f,x2:e+r,y2:f,key:"line-".concat(h),index:h});return Yk(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function qde(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=nv(t,Bde),c=i.map((f,h)=>{var p=Mn(Mn({},l),{},{x1:f,y1:e,x2:f,y2:e+r,key:"line-".concat(h),index:h});return Yk(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Gde(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:_,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Kde(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%r.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:l,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wde=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return KM(xS(Mn(Mn(Mn({},_S),r),{},{ticks:WM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},Xde=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return KM(xS(Mn(Mn(Mn({},_S),r),{},{ticks:WM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},Yde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wS(t){var e=GE(),r=KE(),n=ZM(),i=Mn(Mn({},Cn(t,Yde)),{},{x:Re(t.x)?t.x:n.left,y:Re(t.y)?t.y:n.top,width:Re(t.width)?t.width:n.width,height:Re(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,_=fi(),w=Ce(k=>xR(k,"xAxis",a,_)),E=Ce(k=>xR(k,"yAxis",o,_));if(!Re(f)||f<=0||!Re(h)||h<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||Wde,I=i.horizontalCoordinatesGenerator||Xde,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof I=="function"){var L=v&&v.length,B=I({yAxis:E?Mn(Mn({},E),{},{ticks:L?v:E.ticks}):void 0,width:e,height:r,offset:n},L?!0:p);Th(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(O=B)}if((!M||!M.length)&&typeof S=="function"){var D=m&&m.length,N=S({xAxis:w?Mn(Mn({},w),{},{ticks:D?m:w.ticks}):void 0,width:e,height:r,offset:n},D?!0:p);Th(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(M=N)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Hde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(Gde,Eu({},i,{horizontalPoints:O})),C.createElement(Kde,Eu({},i,{verticalPoints:M})),C.createElement($de,Eu({},i,{offset:n,horizontalPoints:O,xAxis:w,yAxis:E})),C.createElement(qde,Eu({},i,{offset:n,verticalPoints:M,xAxis:w,yAxis:E})))}wS.displayName="CartesianGrid";var Qk=(t,e,r,n)=>xl(t,"xAxis",e,n),Zk=(t,e,r,n)=>yl(t,"xAxis",e,n),Jk=(t,e,r,n)=>xl(t,"yAxis",r,n),eL=(t,e,r,n)=>yl(t,"yAxis",r,n),Qde=re([ct,Qk,Jk,Zk,eL],(t,e,r,n,i)=>Ol(t,"xAxis")?Fh(e,n,!1):Fh(r,i,!1)),Zde=(t,e,r,n,i)=>i;function Jde(t){return t.type==="line"}var ehe=re([hm,Zde],(t,e)=>t.filter(Jde).find(r=>r.id===e)),the=re([ct,Qk,Jk,Zk,eL,ehe,Qde,lm],(t,e,r,n,i,a,o,l)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=l;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=c?.slice(f,h+1),m!=null)return Ehe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),rhe=["id"],nhe=["type","layout","connectNulls","needClip"],ihe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ES(t,e){if(t==null)return{};var r,n,i=lhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(null,arguments)}var uhe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Mf(r,e),payload:t}]};function che(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Mf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var tL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fhe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var dhe=(t,e,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return tL(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,l=[],c=0,f=0;c<r.length;f+=r[c],++c)if(f+r[c]>a){l=[...r.slice(0,c),a-f];break}var h=l.length%2===0?[0,o]:[o];return[...fhe(r,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function hhe(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=vt("recharts-line-dot",typeof t!="boolean"?t.className:"");r=C.createElement(Ok,qu({},e,{className:n}))}return r}function phe(t,e){return t==null?!1:e?!0:t.length===1}function ghe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!phe(r,i))return null;var{id:l}=n,c=ES(n,rhe),f=UN(i),h=vo(c),p=sr(i,!0),v=r.map((_,w)=>{var E=Si(Si(Si({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:r});return hhe(i,E)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Tn,qu({className:"recharts-line-dots",key:"dots"},m),v)}function vhe(t){var{showLabels:e,children:r,points:n}=t,i=C.useMemo(()=>n?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Si(Si({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(Ck,{value:e?i:null},r)}function AP(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:c,needClip:f}=a,h=ES(a,nhe),p=Si(Si({},sr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(XE,qu({},p,{pathRef:r})),C.createElement(ghe,{points:n,clipPathId:e,props:a}))}function mhe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yhe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:m,height:_,onAnimationEnd:w,onAnimationStart:E}=r,S=i.current,I=g0(r,"recharts-line-"),[O,M]=C.useState(!1),L=!O,B=C.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),D=C.useCallback(()=>{typeof E=="function"&&E(),M(!0)},[E]),N=mhe(n.current),k=a.current;return C.createElement(vhe,{points:o,showLabels:L},r.children,C.createElement(p0,{animationId:I,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:B,onAnimationStart:D,key:I},V=>{var z=fr(k,N+k,V),H=Math.min(z,N),U;if(c)if(l){var he="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));U=dhe(H,N,he)}else U=tL(N,H);else U=l==null?void 0:String(l);if(S){var be=S.length/o.length,Y=V===1?o:o.map((se,me)=>{var Se=Math.floor(me*be);if(S[Se]){var Ge=S[Se];return Si(Si({},se),{},{x:fr(Ge.x,se.x,V),y:fr(Ge.y,se.y,V)})}return v?Si(Si({},se),{},{x:fr(m*2,se.x,V),y:fr(_/2,se.y,V)}):Si(Si({},se),{},{x:se.x,y:se.y})});return i.current=Y,C.createElement(AP,{props:r,points:Y,clipPathId:e,pathRef:n,strokeDasharray:U})}return V>0&&N>0&&(i.current=o,a.current=H),C.createElement(AP,{props:r,points:o,clipPathId:e,pathRef:n,strokeDasharray:U})}),C.createElement(nS,{label:r.label}))}function xhe(t){var{clipPathId:e,props:r}=t,n=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(yhe,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var _he=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:qt(t.payload,e)});class bhe extends C.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:h,height:p,id:v,needClip:m}=this.props;if(r)return null;var _=vt("recharts-line",a),w=v,{r:E=3,strokeWidth:S=2}=(e=sr(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=UN(n),O=E*2+S;return C.createElement(C.Fragment,null,C.createElement(Tn,{className:_},m&&C.createElement("defs",null,C.createElement(zk,{clipPathId:w,xAxisId:o,yAxisId:l}),!I&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:f-O/2,y:c-O/2,width:h+O,height:p+O}))),C.createElement(Uk,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:_he,errorBarOffset:0},C.createElement(xhe,{props:this.props,clipPathId:w}))),C.createElement(Uce,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var rL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Rl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function whe(t){var e=Cn(t,rL),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:m,yAxisId:_,id:w}=e,E=ES(e,ihe),{needClip:S}=mS(m,_),I=gS(),O=em(),M=fi(),L=Ce(V=>the(V,m,_,M,w));if(O!=="horizontal"&&O!=="vertical"||L==null||I==null)return null;var{height:B,width:D,x:N,y:k}=I;return C.createElement(bhe,qu({},E,{id:w,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:_,points:L,layout:O,height:B,width:D,left:N,top:k,needClip:S}))}function Ehe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((f,h)=>{var p=qt(f,o);if(e==="horizontal"){var v=e8({axis:r,ticks:i,bandSize:l,entry:f,index:h}),m=nr(p)?null:n.scale(p);return{x:v,y:m,value:p,payload:f}}var _=nr(p)?null:r.scale(p),w=e8({axis:n,ticks:a,bandSize:l,entry:f,index:h});return _==null||w==null?null:{x:_,y:w,value:p,payload:f}}).filter(Boolean)}function Ahe(t){var e=Cn(t,rL),r=fi();return C.createElement(dS,{id:e.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(Lk,{legendPayload:uhe(e)}),C.createElement(fS,{fn:che,args:e}),C.createElement(Bk,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(whe,qu({},e,{id:n}))))}var nL=C.memo(Ahe);nL.displayName="Line";var She=["dangerouslySetInnerHTML","ticks"],The=["id"],Che=["domain"],Ihe=["domain"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(null,arguments)}function iv(t,e){if(t==null)return{};var r,n,i=Ohe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ohe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Rhe(t){var e=lr();return C.useEffect(()=>(e(Ice(t)),()=>{e(Oce(t))}),[t,e]),null}var Phe=t=>{var{xAxisId:e,className:r}=t,n=Ce($E),i=fi(),a="xAxis",o=Ce(E=>Uf(E,a,e,i)),l=Ce(E=>H7(E,a,e,i)),c=Ce(E=>V7(E,e)),f=Ce(E=>uoe(E,e)),h=Ce(E=>v7(E,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=iv(t,She),{id:_}=h,w=iv(h,The);return C.createElement(bS,aw({},m,w,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:vt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},Dhe={allowDataOverflow:wi.allowDataOverflow,allowDecimals:wi.allowDecimals,allowDuplicatedCategory:wi.allowDuplicatedCategory,height:wi.height,hide:!1,mirror:wi.mirror,orientation:wi.orientation,padding:wi.padding,reversed:wi.reversed,scale:wi.scale,tickCount:wi.tickCount,type:wi.type,xAxisId:0},Nhe=t=>{var e,r,n,i,a,o=Cn(t,Dhe);return C.createElement(C.Fragment,null,C.createElement(Rhe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Phe,o))},Mhe=(t,e)=>{var{domain:r}=t,n=iv(t,Che),{domain:i}=e,a=iv(e,Ihe);return _f(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:_f({domain:r},{domain:i}):!1},AS=C.memo(Nhe,Mhe);AS.displayName="XAxis";var khe=["dangerouslySetInnerHTML","ticks"],Lhe=["id"],jhe=["domain"],Bhe=["domain"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ow.apply(null,arguments)}function av(t,e){if(t==null)return{};var r,n,i=Vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fhe(t){var e=lr();return C.useEffect(()=>(e(Rce(t)),()=>{e(Pce(t))}),[t,e]),null}var Uhe=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=C.useRef(null),o=C.useRef(null),l=Ce($E),c=fi(),f=lr(),h="yAxis",p=Ce(L=>Uf(L,h,e,c)),v=Ce(L=>F7(L,e)),m=Ce(L=>foe(L,e)),_=Ce(L=>H7(L,h,e,c)),w=Ce(L=>m7(L,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!v||rS(i)||C.isValidElement(i)||w==null)){var L=a.current;if(L){var B=L.getCalculatedWidth();Math.round(v.width)!==Math.round(B)&&f(Dce({id:e,width:B}))}}},[_,v,f,i,e,n,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=t,I=av(t,khe),{id:O}=w,M=av(w,Lhe);return C.createElement(bS,ow({},I,M,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:vt("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:_}))},zhe={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,hide:!1,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tickCount:Ei.tickCount,type:Ei.type,width:Ei.width,yAxisId:0},Hhe=t=>{var e,r,n,i,a,o=Cn(t,zhe);return C.createElement(C.Fragment,null,C.createElement(Fhe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Uhe,o))},$he=(t,e)=>{var{domain:r}=t,n=av(t,jhe),{domain:i}=e,a=av(e,Bhe);return _f(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:_f({domain:r},{domain:i}):!1},SS=C.memo(Hhe,$he);SS.displayName="YAxis";var A_={exports:{}},S_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function qhe(){if(SP)return S_;SP=1;var t=bf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return S_.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var m=i(null);if(m.current===null){var _={hasValue:!1,value:null};m.current=_}else _=m.current;m=o(function(){function E(L){if(!S){if(S=!0,I=L,L=p(L),v!==void 0&&_.hasValue){var B=_.value;if(v(B,L))return O=B}return O=L}if(B=O,r(I,L))return B;var D=p(L);return v!==void 0&&v(B,D)?(I=L,B):(I=L,O=D)}var S=!1,I,O,M=h===void 0?null:h;return[function(){return E(f())},M===null?void 0:function(){return E(M())}]},[f,h,p,v]);var w=n(c,m[0],m[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},S_}var TP;function Ghe(){return TP||(TP=1,A_.exports=qhe()),A_.exports}Ghe();function Khe(t){t()}function Whe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Khe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var CP={notify(){},get:()=>[]};function Xhe(t,e){let r,n=CP,i=0,a=!1;function o(w){h();const E=n.subscribe(w);let S=!1;return()=>{S||(S=!0,E(),p())}}function l(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,r||(r=t.subscribe(c),n=Whe())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=CP)}function v(){a||(a=!0,h())}function m(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>n};return _}var Yhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qhe=Yhe(),Zhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jhe=Zhe(),e0e=()=>Qhe||Jhe?C.useLayoutEffect:C.useEffect,t0e=e0e(),r0e=Symbol.for("react-redux-context"),n0e=typeof globalThis<"u"?globalThis:{};function i0e(){if(!C.createContext)return{};const t=n0e[r0e]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var a0e=i0e();function o0e(t){const{children:e,context:r,serverState:n,store:i}=t,a=C.useMemo(()=>{const c=Xhe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=C.useMemo(()=>i.getState(),[i]);t0e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=r||a0e;return C.createElement(l.Provider,{value:a},e)}var s0e=o0e,l0e=(t,e)=>e,TS=re([l0e,ct,h7,Qr,ik,cs,vse,Xr],bse),CS=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},iL=aa("mouseClick"),aL=d0();aL.startListening({actionCreator:iL,effect:(t,e)=>{var r=t.payload,n=TS(e.getState(),CS(r));n?.activeIndex!=null&&e.dispatch(Aoe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sw=aa("mouseMove"),oL=d0();oL.startListening({actionCreator:sw,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=GA(n,n.tooltip.settings.shared),a=TS(n,CS(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(Q7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Y7()))}});var IP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},sL=Ni({name:"rootProps",initialState:IP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:IP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),u0e=sL.reducer,{updateOptions:c0e}=sL.actions,lL=Ni({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:f0e}=lL.actions,d0e=lL.reducer,uL=aa("keyDown"),cL=aa("focus"),IS=d0();IS.startListening({actionCreator:uL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(KA(i,Hf(r))),l=cs(r);if(a==="Enter"){var c=Qg(r,"axis","hover",String(i.index));e.dispatch(Zb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=goe(r),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*h;if(!(l==null||v>=l.length||v<0)){var m=Qg(r,"axis","hover",String(v));e.dispatch(Zb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});IS.startListening({actionCreator:cL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Qg(r,"axis","hover",String(a));e.dispatch(Zb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Yi=aa("externalEvent"),fL=d0();fL.startListening({actionCreator:Yi,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:ose(r),activeDataKey:lk(r),activeIndex:_l(r),activeLabel:sk(r),activeTooltipIndex:_l(r),isTooltipActive:sse(r)};t.payload.handler(n,t.payload.reactEvent)}}});var h0e=re([zf],t=>t.tooltipItemPayloads),p0e=re([h0e,S0,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),dL=aa("touchMove"),hL=d0();hL.startListening({actionCreator:dL,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=GA(n,n.tooltip.settings.shared);if(i==="axis"){var a=TS(n,CS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(Q7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(YM),h=(o=c.getAttribute(QM))!==null&&o!==void 0?o:void 0,p=p0e(e.getState(),f,h);e.dispatch(X7({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var g0e=wM({brush:ede,cartesianAxis:Nce,chartData:jse,errorBars:Jce,graphicalItems:Zue,layout:vee,legend:ote,options:Dse,polarAxis:gue,polarOptions:d0e,referenceElements:sde,rootProps:u0e,tooltip:Soe}),v0e=function(e){return UJ({reducer:g0e,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([aL.middleware,oL.middleware,IS.middleware,fL.middleware,hL.middleware]),devTools:Rl.devToolsEnabled})};function pL(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=fi(),a=C.useRef(null);if(i)return r;a.current==null&&(a.current=v0e(e));var o=BE;return C.createElement(s0e,{context:o,store:a.current},r)}function gL(t){var{layout:e,width:r,height:n,margin:i}=t,a=lr(),o=fi();return C.useEffect(()=>{o||(a(hee(e)),a(pee({width:r,height:n})),a(dee(i)))},[a,o,e,r,n,i]),null}function vL(t){var e=lr();return C.useEffect(()=>{e(c0e(t))},[e,t]),null}var m0e=["children"];function y0e(t,e){if(t==null)return{};var r,n,i=x0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function x0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ov.apply(null,arguments)}var _0e={width:"100%",height:"100%"},b0e=C.forwardRef((t,e)=>{var r=GE(),n=KE(),i=r9();if(!gf(r)||!gf(n))return null;var{children:a,otherAttributes:o,title:l,desc:c}=t,f,h;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,C.createElement(OE,ov({},o,{title:l,desc:c,role:h,tabIndex:f,width:r,height:n,style:_0e,ref:e}),a)}),w0e=t=>{var{children:e}=t,r=Ce(Jv);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return C.createElement(OE,{width:n,height:i,x:o,y:a},e)},OP=C.forwardRef((t,e)=>{var{children:r}=t,n=y0e(t,m0e),i=fi();return i?C.createElement(w0e,null,r):C.createElement(b0e,ov({ref:e},n),r)});function E0e(){var t=lr(),[e,r]=C.useState(null),n=Ce(qee);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Di(a)&&a!==n&&t(gee(a))}},[e,t,n]),r}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){S0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S0e(t,e,r){return(e=T0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T0e(t){var e=C0e(t,"string");return typeof e=="symbol"?e:e+""}function C0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I0e=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:_,onTouchStart:w,style:E,width:S}=t,I=lr(),[O,M]=C.useState(null),[L,B]=C.useState(null);Gse();var D=E0e(),N=C.useCallback(ee=>{D(ee),typeof e=="function"&&e(ee),M(ee),B(ee)},[D,e,M,B]),k=C.useCallback(ee=>{I(iL(ee)),I(Yi({handler:a,reactEvent:ee}))},[I,a]),V=C.useCallback(ee=>{I(sw(ee)),I(Yi({handler:f,reactEvent:ee}))},[I,f]),z=C.useCallback(ee=>{I(Y7()),I(Yi({handler:h,reactEvent:ee}))},[I,h]),H=C.useCallback(ee=>{I(sw(ee)),I(Yi({handler:p,reactEvent:ee}))},[I,p]),U=C.useCallback(()=>{I(cL())},[I]),he=C.useCallback(ee=>{I(uL(ee.key))},[I]),be=C.useCallback(ee=>{I(Yi({handler:o,reactEvent:ee}))},[I,o]),Y=C.useCallback(ee=>{I(Yi({handler:l,reactEvent:ee}))},[I,l]),se=C.useCallback(ee=>{I(Yi({handler:c,reactEvent:ee}))},[I,c]),me=C.useCallback(ee=>{I(Yi({handler:v,reactEvent:ee}))},[I,v]),Se=C.useCallback(ee=>{I(Yi({handler:w,reactEvent:ee}))},[I,w]),Ge=C.useCallback(ee=>{I(dL(ee)),I(Yi({handler:_,reactEvent:ee}))},[I,_]),G=C.useCallback(ee=>{I(Yi({handler:m,reactEvent:ee}))},[I,m]);return C.createElement(pk.Provider,{value:O},C.createElement(HN.Provider,{value:L},C.createElement("div",{className:vt("recharts-wrapper",n),style:A0e({position:"relative",cursor:"default",width:S,height:i},E),onClick:k,onContextMenu:be,onDoubleClick:Y,onFocus:U,onKeyDown:he,onMouseDown:se,onMouseEnter:V,onMouseLeave:z,onMouseMove:H,onMouseUp:me,onTouchEnd:G,onTouchMove:Ge,onTouchStart:Se,ref:N},r)))}),O0e=["children","className","width","height","style","compact","title","desc"];function R0e(t,e){if(t==null)return{};var r,n,i=P0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function P0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var mL=C.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:l,title:c,desc:f}=t,h=R0e(t,O0e),p=vo(h);return l?C.createElement(OP,{otherAttributes:p,title:c,desc:f},r):C.createElement(I0e,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(OP,{otherAttributes:p,title:c,desc:f,ref:e},C.createElement(ude,null,r)))}),D0e=["width","height"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(null,arguments)}function N0e(t,e){if(t==null)return{};var r,n,i=M0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function M0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var k0e={top:5,right:5,bottom:5,left:5},L0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:k0e,reverseStackOrder:!1,syncMethod:"index"},yL=C.forwardRef(function(e,r){var n,i=Cn(e.categoricalChartProps,L0e),{width:a,height:o}=i,l=N0e(i,D0e);if(!gf(a)||!gf(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(pL,{preloadedState:{options:m},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:c},C.createElement(Gk,{chartData:v.data}),C.createElement(gL,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement(vL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(mL,lw({},l,{width:a,height:o,ref:r})))}),j0e=["axis"],B0e=C.forwardRef((t,e)=>C.createElement(yL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:j0e,tooltipPayloadSearcher:tS,categoricalChartProps:t,ref:e})),V0e=["axis","item"],F0e=C.forwardRef((t,e)=>C.createElement(yL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:V0e,tooltipPayloadSearcher:tS,categoricalChartProps:t,ref:e}));function U0e(t){var e=lr();return C.useEffect(()=>{e(f0e(t))},[e,t]),null}var z0e=["width","height","layout"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(null,arguments)}function H0e(t,e){if(t==null)return{};var r,n,i=$0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var q0e={top:5,right:5,bottom:5,left:5},G0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:q0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},K0e=C.forwardRef(function(e,r){var n,i=Cn(e.categoricalChartProps,G0e),{width:a,height:o,layout:l}=i,c=H0e(i,z0e);if(!gf(a)||!gf(o))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(pL,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},C.createElement(Gk,{chartData:i.data}),C.createElement(gL,{width:a,height:o,layout:l,margin:i.margin}),C.createElement(vL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(U0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(mL,uw({width:a,height:o},c,{ref:r})))}),W0e=["item"],X0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xL=C.forwardRef((t,e)=>{var r=Cn(t,X0e);return C.createElement(K0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:W0e,tooltipPayloadSearcher:tS,categoricalChartProps:r,ref:e})});const Y0e=()=>{const{intakes:t}=ns(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(h=>h.date.startsWith(l)).reduce((h,p)=>h+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),r=e.some(n=>n.calories>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:" "}),r?A.jsx(_m,{width:"100%",height:250,children:A.jsxs(B0e,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(wS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(AS,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(SS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(xm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),A.jsx(nL,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:" (kcal)"})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:""}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},Q0e=()=>{const{expenses:t}=is(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(n.getFullYear(),n.getMonth()-a,1),l=o.getFullYear(),c=o.getMonth()+1,h=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}`,amount:h})}return i},[t]),r=e.some(n=>n.amount>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:" "}),r?A.jsx(_m,{width:"100%",height:250,children:A.jsxs(F0e,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(wS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(AS,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(SS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(xm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:n=>`${n.toLocaleString()}`}),A.jsx($k,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:""})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:""}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},Z0e=()=>{const{intakes:t}=ns(),e=C.useMemo(()=>{const r=new Map;return t.forEach(i=>{const a=r.get(i.name)||0;r.set(i.name,a+1)}),Array.from(r.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"  TOP5"}),e.length===0?A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:""}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]}):A.jsx("div",{style:{marginTop:"16px"},children:e.map(r=>A.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:r.rank<e.length?"1px solid var(--border)":"none"},children:[A.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:r.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":r.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":r.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:r.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:r.rank}),A.jsxs("div",{style:{flex:1,minWidth:0},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[": ",r.count,""]})]})]},r.rank))})]})},N1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],J0e=()=>{const{intakes:t}=ns(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"",c=i.get(l)||0;i.set(l,c+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),r=e.reduce((i,a)=>i+a.value,0),n=r>0;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:" "}),n?A.jsxs(A.Fragment,{children:[A.jsx(_m,{width:"100%",height:250,children:A.jsxs(xL,{children:[A.jsx(pS,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>A.jsx($f,{fill:N1[a%N1.length]},`cell-${a}`))}),A.jsx(xm,{formatter:i=>`${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),A.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:N1[a%N1.length],flexShrink:0}}),A.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),A.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["",i.value.toLocaleString()]})]},i.name))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontWeight:600},children:""}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["",r.toLocaleString()]})]})]}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:""}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},epe=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:" "}),A.jsx(Y0e,{}),A.jsx(Q0e,{}),A.jsx(Z0e,{}),A.jsx(J0e,{})]}),_L=({selectedYear:t,selectedMonth:e,selectedDate:r,onSelectDate:n,onMonthChange:i,mode:a="month"})=>{const[o,l]=C.useState(t),[c,f]=C.useState(e),h=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let M=c-1,L=o;M<1&&(M=12,L-=1),f(M),l(L),i&&i(L,M)},m=()=>{let M=c+1,L=o;M>12&&(M=1,L+=1),f(M),l(L),i&&i(L,M)},_=M=>{if(a==="date"&&n){const L=new Date(o,c-1,M);n(L)}},w=()=>{a==="month"&&i&&i(o,c)},E=M=>{const L=new Date;return L.getFullYear()===o&&L.getMonth()+1===c&&L.getDate()===M},S=M=>r?r.getFullYear()===o&&r.getMonth()+1===c&&r.getDate()===M:!1,I=[];for(let M=0;M<p;M++)I.push(null);for(let M=1;M<=h;M++)I.push(M);const O=["","","","","","",""];return A.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx(HB,{size:24})}),A.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o," ",c,""]}),A.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx($B,{size:24})})]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:O.map((M,L)=>A.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:L===0?"#ef4444":L===6?"#3b82f6":"var(--text-secondary)"},children:M},L))}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:I.map((M,L)=>{if(M===null)return A.jsx("div",{},`empty-${L}`);const B=E(M),D=S(M),N=L%7;return A.jsx("button",{onClick:()=>_(M),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:B?"2px solid var(--primary)":"none",borderRadius:"8px",background:D?"var(--primary)":B?"var(--background)":"transparent",color:D?"white":N===0?"#ef4444":N===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:D||B?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:k=>{a==="date"&&!D&&(k.currentTarget.style.background="var(--background)")},onMouseLeave:k=>{a==="date"&&!D&&(k.currentTarget.style.background="transparent")},children:M},M)})}),a==="date"&&A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:r?`: ${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`:""})]})},tpe=({isOpen:t,selectedDate:e,onClose:r,onConfirm:n})=>{const[i,a]=kn.useState(e);if(kn.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{n(i),r()};return A.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:""}),A.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(dv,{size:24})})]}),A.jsx(_L,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[A.jsx("button",{onClick:r,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:""}),A.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[A.jsx(zB,{size:20}),""]})]})]})})},rpe=()=>{const{addExpense:t}=is(),[e,r]=C.useState("food"),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(new Date),[p,v]=C.useState(!1),m=[{value:"food",label:""},{value:"transport",label:""},{value:"utilities",label:""},{value:"entertainment",label:""},{value:"health",label:""},{value:"other",label:""}],_=()=>{if(!a||Number(a)<=0){alert("");return}if(e==="other"&&!n.trim()){alert("");return}t({category:e,customCategory:e==="other"?n.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("")},w=E=>`${E.getFullYear()}${E.getMonth()+1}${E.getDate()}`;return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:""}),A.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsx("span",{children:w(f)}),A.jsx(cv,{size:20,color:"var(--primary)"})]}),A.jsx("label",{children:""}),A.jsx("select",{value:e,onChange:E=>r(E.target.value),children:m.map(E=>A.jsx("option",{value:E.value,children:E.label},E.value))}),e==="other"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{children:""}),A.jsx("input",{value:n,onChange:E=>i(E.target.value),placeholder:": "})]}),A.jsx("label",{children:"()"}),A.jsx("input",{type:"number",value:a,onChange:E=>o(E.target.value),placeholder:"1000",min:"0"}),A.jsx("label",{children:""}),A.jsx("input",{value:l,onChange:E=>c(E.target.value),placeholder:": "}),A.jsxs("button",{className:"submit",onClick:_,children:[A.jsx(HP,{size:20}),""]}),A.jsx(tpe,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:h})]})},OS=({isOpen:t,selectedYear:e,selectedMonth:r,onClose:n,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),n()};return A.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:""}),A.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(dv,{size:24})})]}),A.jsx(_L,{selectedYear:e,selectedMonth:r,onMonthChange:a,mode:"month"}),A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:""})]})})},npe=()=>{const{getTotalByMonth:t}=is(),{settings:e}=_g(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e.monthlyBudget??3e4,f=t(r,i),h=f/c*100,p=c-f,v=E=>new Intl.NumberFormat("ja-JP").format(E),_=h>=100?{color:"#ef4444",icon:A.jsx(UP,{size:24}),message:""}:h>=80?{color:"#f59e0b",icon:A.jsx(PB,{size:24}),message:""}:{color:"#10b981",icon:A.jsx(cw,{size:24}),message:""},w=(E,S)=>{n(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:""}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[r," ",i,""]}),A.jsx(cv,{size:20,color:"var(--primary)"})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[A.jsx("div",{style:{color:_.color},children:_.icon}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:"bold",color:_.color},children:_.message}),A.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?` ${v(p)}`:` ${v(Math.abs(p))}`})]}),A.jsx("div",{style:{textAlign:"right"},children:A.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:_.color},children:[h.toFixed(1),"%"]})})]}),A.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[A.jsx("div",{style:{background:`linear-gradient(90deg, ${_.color}, ${_.color}dd)`,height:"100%",width:`${Math.min(h,100)}%`,transition:"width 0.3s ease"}}),A.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:h>50?"white":"var(--text)",fontSize:"14px"},children:["",v(f)," / ",v(c)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:""}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["",v(f)]})]}),A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:""}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["",v(c)]})]})]}),A.jsx(OS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},Ws=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],PP=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],bL=t=>{if(!t)return Ws[5];let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e),e=e&e;const r=Math.abs(e)%PP.length;return PP[r]},wL=t=>({food:Ws[0],transport:Ws[1],utilities:Ws[2],entertainment:Ws[3],health:Ws[4],other:Ws[5]})[t]||Ws[5],ipe=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=is(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=[{value:"food",label:""},{value:"transport",label:""},{value:"utilities",label:""},{value:"entertainment",label:""},{value:"health",label:""}],f=e(r,i),h=C.useMemo(()=>{const _=new Map;return c.forEach(w=>{const E=t(w.value,r,i);E>0&&_.set(w.value,{name:w.label,value:E,color:wL(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const E=`custom_${w.customCategory}`,S=_.get(E);S?S.value+=w.amount:_.set(E,{name:w.customCategory,value:w.amount,color:bL(w.customCategory)})}}),Array.from(_.values())},[r,i,f,t]),p=h.reduce((_,w)=>_+w.value,0),v=_=>new Intl.NumberFormat("ja-JP").format(_),m=(_,w)=>{n(_),a(w)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:""}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[r," ",i,""]}),A.jsx(cv,{size:20,color:"var(--primary)"})]}),f.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[A.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:""}),A.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["",v(p)]})]}),h.length>0&&A.jsxs(A.Fragment,{children:[A.jsx(_m,{width:"100%",height:250,children:A.jsxs(xL,{children:[A.jsx(pS,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: ${v(_.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((_,w)=>A.jsx($f,{fill:_.color},`cell-${w}`))}),A.jsx(xm,{formatter:_=>`${v(_)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),A.jsx(tm,{})]})}),A.jsx("div",{style:{marginTop:"20px"},children:h.map((_,w)=>{const E=(_.value/p*100).toFixed(1);return A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<h.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:_.color}}),A.jsx("span",{children:_.name})]}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsxs("div",{style:{fontWeight:"bold"},children:["",v(_.value)]}),A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[E,"%"]})]})]},w)})})]})]}),A.jsx(OS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},ape=()=>{const{deleteExpense:t,getExpensesByMonth:e}=is(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e(r,i),f={food:"",transport:"",utilities:"",entertainment:"",health:"",other:""},h=E=>E.category==="other"&&E.customCategory?E.customCategory:f[E.category],p=E=>E.category==="other"&&E.customCategory?bL(E.customCategory):wL(E.category),v=E=>{window.confirm("")&&t(E)},m=E=>{const S=new Date(E);return`${S.getMonth()+1}/${S.getDate()}`},_=E=>new Intl.NumberFormat("ja-JP").format(E),w=(E,S)=>{n(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsxs("span",{children:[r," ",i,""]}),A.jsx(cv,{size:20,color:"var(--primary)"})]}),c.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):A.jsx("div",{className:"list",children:c.sort((E,S)=>new Date(S.date).getTime()-new Date(E.date).getTime()).map(E=>A.jsxs("div",{className:"list-item",children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[A.jsx("span",{style:{background:p(E),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:h(E)}),A.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(E.date)})]}),E.memo&&A.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:E.memo})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["",_(E.amount)]}),A.jsx("button",{className:"delete",onClick:()=>v(E.id),style:{padding:"8px"},children:A.jsx(Wh,{size:20})})]})]},E.id))}),A.jsx(OS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},ope=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:""}),A.jsx(npe,{}),A.jsx(rpe,{}),A.jsx(ipe,{}),A.jsx("h3",{children:""}),A.jsx(ape,{})]}),spe=()=>{const[t,e]=C.useState("home"),r=i=>({home:"",meals:"",barcode:"",report:"",settings:"",stock:"",shopping:"",recipe:"AI",expense:""})[i],n=()=>{switch(t){case"home":return A.jsx(GI,{onNavigate:e});case"meals":return A.jsx(qG,{});case"barcode":return A.jsx(hQ,{onNavigateToStock:()=>e("stock")});case"report":return A.jsx(epe,{});case"settings":return A.jsx(YG,{});case"stock":return A.jsx(eK,{});case"shopping":return A.jsx(lK,{});case"recipe":return A.jsx(vK,{});case"expense":return A.jsx(ope,{});default:return A.jsx(GI,{onNavigate:e})}};return A.jsxs(A.Fragment,{children:[A.jsx(fB,{title:r(t)}),A.jsx("main",{children:n()}),A.jsx(KB,{currentScreen:t,onNavigate:e})]})};function lpe(t){return Le({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const upe="modulepreload",cpe=function(t){return"/life-pwa-react/"+t},DP={},NP=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=f(r.map(h=>{if(h=cpe(h),h in DP)return;DP[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":upe,p||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((_,w)=>{m.addEventListener("load",_),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},MP=()=>Math.floor(1e5+Math.random()*9e5).toString(),kP=async(t,e)=>{const r=ui(wr(dt,"verificationCodes"),t),n=new Date;n.setMinutes(n.getMinutes()+10),await WH(r,{code:e,email:t,expiresAt:n.toISOString(),createdAt:new Date().toISOString()})},fpe=async(t,e)=>{try{const r=ui(wr(dt,"verificationCodes"),t),n=await KH(r);if(!n.exists())return{valid:!1,error:""};const i=n.data();return new Date(i.expiresAt)<new Date?(await ju(r),{valid:!1,error:""}):i.code!==e?{valid:!1,error:""}:(await ju(r),{valid:!0})}catch(r){return console.error("Code verification error:",r),{valid:!1,error:""}}},LP=async(t,e)=>{try{const{httpsCallable:r}=await NP(async()=>{const{httpsCallable:a}=await Promise.resolve().then(()=>kG);return{httpsCallable:a}},void 0),{functions:n}=await NP(async()=>{const{functions:a}=await Promise.resolve().then(()=>BG);return{functions:a}},void 0);await r(n,"sendVerificationEmail")({email:t,code:e}),console.log(`Verification email sent to ${t}`)}catch(r){console.error("Failed to send email via Cloud Function:",r),console.log(`
====================================
  - 
====================================







: ${e}

 10
 





AI


 
 AI
 
 
 
 OCR



 2025 
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`
:

: ${e}

`)}},dpe=({onComplete:t,onBack:e})=>{const[r,n]=C.useState("email"),[i,a]=C.useState(""),[o,l]=C.useState(""),[c,f]=C.useState(""),[h,p]=C.useState(""),[v,m]=C.useState(""),[_,w]=C.useState(!1),[E,S]=C.useState(!1),[I,O]=C.useState(""),M=async k=>{k.preventDefault(),O(""),S(!0);try{const V=MP();await kP(i,V),await LP(i,V),n("code")}catch(V){O(V.message||"")}finally{S(!1)}},L=async k=>{k.preventDefault(),O(""),S(!0);try{const V=await fpe(i,o);if(!V.valid){O(V.error||""),S(!1);return}n("profile")}catch(V){O(V.message||"")}finally{S(!1)}},B=async k=>{if(k.preventDefault(),O(""),h!==v){O("");return}if(h.length<6){O("6");return}n("2fa")},D=async()=>{S(!0),O("");try{const V=(await X$(Et,i,h)).user;await Z$(V,{displayName:c}),_&&console.log(""),t()}catch(k){O(k.message||"")}finally{S(!1)}},N=async()=>{S(!0),O("");try{const k=MP();await kP(i,k),await LP(i,k),alert("")}catch{O("")}finally{S(!1)}};return A.jsxs("div",{className:"register-flow",children:[A.jsxs("div",{className:"progress-bar",children:[A.jsx("div",{className:`progress-step ${r==="email"?"active":["code","profile","2fa"].includes(r)?"completed":""}`,children:"1"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="code"?"active":["profile","2fa"].includes(r)?"completed":""}`,children:"2"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="profile"?"active":r==="2fa"?"completed":""}`,children:"3"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="2fa"?"active":""}`,children:"4"})]}),r==="email"&&A.jsxs("form",{onSubmit:M,className:"step-form",children:[A.jsxs("button",{type:"button",onClick:e,className:"back-button-small",children:[A.jsx(UB,{})," "]}),A.jsxs("h2",{children:[A.jsx(zP,{})," "]}),A.jsx("p",{className:"step-description",children:""}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"email",value:i,onChange:k=>a(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",disabled:E,children:E?"...":""})]}),r==="code"&&A.jsxs("form",{onSubmit:L,className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(DB,{})," "]}),A.jsxs("p",{className:"step-description",children:[A.jsx("strong",{children:i})," 6"]}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",disabled:E||o.length!==6,children:E?"...":""}),A.jsx("button",{type:"button",onClick:N,className:"link-button",disabled:E,children:""})]}),r==="profile"&&A.jsxs("form",{onSubmit:B,className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(l4,{})," "]}),A.jsx("p",{className:"step-description",children:""}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(l4,{})," "]}),A.jsx("input",{type:"text",value:c,onChange:k=>f(k.target.value),placeholder:"",required:!0,autoFocus:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(T_,{})," "]}),A.jsx("input",{type:"password",value:h,onChange:k=>p(k.target.value),placeholder:"6",minLength:6,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(T_,{})," "]}),A.jsx("input",{type:"password",value:v,onChange:k=>m(k.target.value),placeholder:"",minLength:6,required:!0})]}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",children:""})]}),r==="2fa"&&A.jsxs("div",{className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(BB,{})," "]}),A.jsx("p",{className:"step-description",children:""}),A.jsxs("div",{className:"option-card",children:[A.jsxs("div",{className:"option-info",children:[A.jsx("h3",{children:""}),A.jsx("p",{children:" "})]}),A.jsxs("label",{className:"toggle-option",children:[A.jsx("input",{type:"checkbox",checked:_,onChange:k=>w(k.target.checked)}),A.jsx("span",{className:"toggle-slider"}),A.jsx("span",{className:"toggle-label",children:_?"":""})]}),A.jsx("p",{className:"small-text",children:" "})]}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{onClick:D,className:"submit-button",disabled:E,children:E?"...":""})]}),A.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: none;
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .option-card {
          background: var(--background);
          padding: 24px;
          border-radius: 12px;
          border: 2px solid var(--border);
        }

        .option-info h3 {
          color: var(--text);
          font-size: 18px;
          margin: 0 0 12px 0;
        }

        .option-info p {
          color: var(--text-secondary);
          line-height: 1.6;
          margin: 0 0 20px 0;
        }

        .toggle-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
          padding: 12px 0;
        }

        .toggle-option input {
          display: none;
        }

        .toggle-slider {
          width: 50px;
          height: 26px;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          transition: all 0.3s;
        }

        .toggle-slider::after {
          content: '';
          position: absolute;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: white;
          top: 3px;
          left: 3px;
          transition: all 0.3s;
        }

        .toggle-option input:checked + .toggle-slider {
          background: var(--primary);
        }

        .toggle-option input:checked + .toggle-slider::after {
          left: 27px;
        }

        .toggle-label {
          color: var(--text);
          font-weight: 500;
        }

        .small-text {
          color: var(--text-secondary);
          font-size: 12px;
          margin: 12px 0 0 0;
        }
      `})]})},hpe=({onLoginSuccess:t})=>{const[e,r]=C.useState(!1),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(!1),p=async m=>{m.preventDefault(),c(""),h(!0);try{const _=await GG(n,a);_.error?c(_.error):t()}catch(_){c(_.message||"")}finally{h(!1)}},v=async()=>{c(""),h(!0);try{const m=await KG();m.error?c(m.error):t()}catch(m){c(m.message||"")}finally{h(!1)}};return e?A.jsxs("div",{className:"login-screen",children:[A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:" "}),A.jsx("p",{children:""})]}),A.jsx(dpe,{onComplete:t,onBack:()=>r(!1)})]}),A.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):A.jsxs("div",{className:"login-screen",children:[A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:" "}),A.jsx("p",{children:"AI"})]}),A.jsxs("form",{onSubmit:p,className:"login-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(zP,{})," "]}),A.jsx("input",{type:"email",value:n,onChange:m=>i(m.target.value),placeholder:"email@example.com",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(T_,{})," "]}),A.jsx("input",{type:"password",value:a,onChange:m=>o(m.target.value),placeholder:"6",minLength:6,required:!0})]}),l&&A.jsx("div",{className:"error-message",children:l}),A.jsx("button",{type:"submit",className:"login-button",disabled:f,children:f?"...":A.jsxs(A.Fragment,{children:[A.jsx(IB,{})," "]})}),A.jsx("button",{type:"button",onClick:()=>r(!0),className:"register-link-button",children:""})]}),A.jsx("div",{className:"divider",children:A.jsx("span",{children:""})}),A.jsxs("button",{onClick:v,className:"google-login-button",disabled:f,children:[A.jsx(lpe,{})," Google"]}),A.jsx("div",{className:"login-footer",children:A.jsxs("p",{children:[" Firebase Authentication",A.jsx("br",{}),"Firestore"]})})]}),A.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function ppe(){const{settings:t}=_g(),{user:e,loading:r}=mN(),[n,i]=C.useState(!1),a=ns(),o=is(),l=go(),c=Wu(),f=s0(),h=_g();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),c.syncWithFirestore(),f.syncWithFirestore(),h.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(v){console.error("Failed to sync stores with Firestore:",v)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),r||n?A.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:A.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:r?"...":"..."})}):e?A.jsx(spe,{}):A.jsx(hpe,{onLoginSuccess:()=>{}})}cB.createRoot(document.getElementById("root")).render(A.jsx(kn.StrictMode,{children:A.jsx(ppe,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
