function xU(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Mo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w2={exports:{}},Ah={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function bU(){if(xI)return Ah;xI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return Ah.Fragment=e,Ah.jsx=r,Ah.jsxs=r,Ah}var bI;function wU(){return bI||(bI=1,w2.exports=bU()),w2.exports}var g=wU(),_2={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function _U(){if(wI)return qe;wI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function S(G,J,we){this.props=G,this.context=J,this.refs=A,this.updater=we||_}S.prototype.isReactComponent={},S.prototype.setState=function(G,J){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,J,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function T(){}T.prototype=S.prototype;function O(G,J,we){this.props=G,this.context=J,this.refs=A,this.updater=we||_}var N=O.prototype=new T;N.constructor=O,b(N,S.prototype),N.isPureReactComponent=!0;var M=Array.isArray;function L(){}var R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(G,J,we){var Se=we.ref;return{$$typeof:t,type:G,key:J,ref:Se!==void 0?Se:null,props:we}}function B(G,J){return j(G.type,J,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function V(G){var J={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(we){return J[we]})}var z=/\/+/g;function Q(G,J){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):J.toString(36)}function de(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(J){G.status==="pending"&&(G.status="fulfilled",G.value=J)},function(J){G.status==="pending"&&(G.status="rejected",G.reason=J)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,J,we,Se,Ne){var We=typeof G;(We==="undefined"||We==="boolean")&&(G=null);var at=!1;if(G===null)at=!0;else switch(We){case"bigint":case"string":case"number":at=!0;break;case"object":switch(G.$$typeof){case t:case e:at=!0;break;case d:return at=G._init,Y(at(G._payload),J,we,Se,Ne)}}if(at)return Ne=Ne(G),at=Se===""?"."+Q(G,0):Se,M(Ne)?(we="",at!=null&&(we=at.replace(z,"$&/")+"/"),Y(Ne,J,we,"",function($e){return $e})):Ne!=null&&(U(Ne)&&(Ne=B(Ne,we+(Ne.key==null||G&&G.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+at)),J.push(Ne)),1;at=0;var _r=Se===""?".":Se+":";if(M(G))for(var ye=0;ye<G.length;ye++)Se=G[ye],We=_r+Q(Se,ye),at+=Y(Se,J,we,We,Ne);else if(ye=y(G),typeof ye=="function")for(G=ye.call(G),ye=0;!(Se=G.next()).done;)Se=Se.value,We=_r+Q(Se,ye++),at+=Y(Se,J,we,We,Ne);else if(We==="object"){if(typeof G.then=="function")return Y(de(G),J,we,Se,Ne);throw J=String(G),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return at}function re(G,J,we){if(G==null)return G;var Se=[],Ne=0;return Y(G,Se,"","",function(We){return J.call(we,We,Ne++)}),Se}function K(G){if(G._status===-1){var J=G._result;J=J(),J.then(function(we){(G._status===0||G._status===-1)&&(G._status=1,G._result=we)},function(we){(G._status===0||G._status===-1)&&(G._status=2,G._result=we)}),G._status===-1&&(G._status=0,G._result=J)}if(G._status===1)return G._result.default;throw G._result}var ve=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ae={map:re,forEach:function(G,J,we){re(G,function(){J.apply(this,arguments)},we)},count:function(G){var J=0;return re(G,function(){J++}),J},toArray:function(G){return re(G,function(J){return J})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return qe.Activity=p,qe.Children=Ae,qe.Component=S,qe.Fragment=r,qe.Profiler=i,qe.PureComponent=O,qe.StrictMode=n,qe.Suspense=c,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,qe.__COMPILER_RUNTIME={__proto__:null,c:function(G){return R.H.useMemoCache(G)}},qe.cache=function(G){return function(){return G.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(G,J,we){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Se=b({},G.props),Ne=G.key;if(J!=null)for(We in J.key!==void 0&&(Ne=""+J.key),J)!D.call(J,We)||We==="key"||We==="__self"||We==="__source"||We==="ref"&&J.ref===void 0||(Se[We]=J[We]);var We=arguments.length-2;if(We===1)Se.children=we;else if(1<We){for(var at=Array(We),_r=0;_r<We;_r++)at[_r]=arguments[_r+2];Se.children=at}return j(G.type,Ne,Se)},qe.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},qe.createElement=function(G,J,we){var Se,Ne={},We=null;if(J!=null)for(Se in J.key!==void 0&&(We=""+J.key),J)D.call(J,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ne[Se]=J[Se]);var at=arguments.length-2;if(at===1)Ne.children=we;else if(1<at){for(var _r=Array(at),ye=0;ye<at;ye++)_r[ye]=arguments[ye+2];Ne.children=_r}if(G&&G.defaultProps)for(Se in at=G.defaultProps,at)Ne[Se]===void 0&&(Ne[Se]=at[Se]);return j(G,We,Ne)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(G){return{$$typeof:s,render:G}},qe.isValidElement=U,qe.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:K}},qe.memo=function(G,J){return{$$typeof:f,type:G,compare:J===void 0?null:J}},qe.startTransition=function(G){var J=R.T,we={};R.T=we;try{var Se=G(),Ne=R.S;Ne!==null&&Ne(we,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(L,ve)}catch(We){ve(We)}finally{J!==null&&we.types!==null&&(J.types=we.types),R.T=J}},qe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},qe.use=function(G){return R.H.use(G)},qe.useActionState=function(G,J,we){return R.H.useActionState(G,J,we)},qe.useCallback=function(G,J){return R.H.useCallback(G,J)},qe.useContext=function(G){return R.H.useContext(G)},qe.useDebugValue=function(){},qe.useDeferredValue=function(G,J){return R.H.useDeferredValue(G,J)},qe.useEffect=function(G,J){return R.H.useEffect(G,J)},qe.useEffectEvent=function(G){return R.H.useEffectEvent(G)},qe.useId=function(){return R.H.useId()},qe.useImperativeHandle=function(G,J,we){return R.H.useImperativeHandle(G,J,we)},qe.useInsertionEffect=function(G,J){return R.H.useInsertionEffect(G,J)},qe.useLayoutEffect=function(G,J){return R.H.useLayoutEffect(G,J)},qe.useMemo=function(G,J){return R.H.useMemo(G,J)},qe.useOptimistic=function(G,J){return R.H.useOptimistic(G,J)},qe.useReducer=function(G,J,we){return R.H.useReducer(G,J,we)},qe.useRef=function(G){return R.H.useRef(G)},qe.useState=function(G){return R.H.useState(G)},qe.useSyncExternalStore=function(G,J,we){return R.H.useSyncExternalStore(G,J,we)},qe.useTransition=function(){return R.H.useTransition()},qe.version="19.2.0",qe}var _I;function rd(){return _I||(_I=1,_2.exports=_U()),_2.exports}var C=rd();const Hn=Mo(C),AU=xU({__proto__:null,default:Hn},[C]);var A2={exports:{}},Eh={},E2={exports:{}},S2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI;function EU(){return AI||(AI=1,(function(t){function e(Y,re){var K=Y.length;Y.push(re);e:for(;0<K;){var ve=K-1>>>1,Ae=Y[ve];if(0<i(Ae,re))Y[ve]=re,Y[K]=Ae,K=ve;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var re=Y[0],K=Y.pop();if(K!==re){Y[0]=K;e:for(var ve=0,Ae=Y.length,G=Ae>>>1;ve<G;){var J=2*(ve+1)-1,we=Y[J],Se=J+1,Ne=Y[Se];if(0>i(we,K))Se<Ae&&0>i(Ne,we)?(Y[ve]=Ne,Y[Se]=K,ve=Se):(Y[ve]=we,Y[J]=K,ve=J);else if(Se<Ae&&0>i(Ne,K))Y[ve]=Ne,Y[Se]=K,ve=Se;else break e}}return re}function i(Y,re){var K=Y.sortIndex-re.sortIndex;return K!==0?K:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],f=[],d=1,p=null,v=3,y=!1,_=!1,b=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var re=r(f);re!==null;){if(re.callback===null)n(f);else if(re.startTime<=Y)n(f),re.sortIndex=re.expirationTime,e(c,re);else break;re=r(f)}}function M(Y){if(b=!1,N(Y),!_)if(r(c)!==null)_=!0,L||(L=!0,V());else{var re=r(f);re!==null&&de(M,re.startTime-Y)}}var L=!1,R=-1,D=5,j=-1;function B(){return A?!0:!(t.unstable_now()-j<D)}function U(){if(A=!1,L){var Y=t.unstable_now();j=Y;var re=!0;try{e:{_=!1,b&&(b=!1,T(R),R=-1),y=!0;var K=v;try{t:{for(N(Y),p=r(c);p!==null&&!(p.expirationTime>Y&&B());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,v=p.priorityLevel;var Ae=ve(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ae=="function"){p.callback=Ae,N(Y),re=!0;break t}p===r(c)&&n(c),N(Y)}else n(c);p=r(c)}if(p!==null)re=!0;else{var G=r(f);G!==null&&de(M,G.startTime-Y),re=!1}}break e}finally{p=null,v=K,y=!1}re=void 0}}finally{re?V():L=!1}}}var V;if(typeof O=="function")V=function(){O(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=U,V=function(){Q.postMessage(null)}}else V=function(){S(U,0)};function de(Y,re){R=S(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var K=v;v=re;try{return Y()}finally{v=K}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=v;v=Y;try{return re()}finally{v=K}},t.unstable_scheduleCallback=function(Y,re,K){var ve=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,Y){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=K+Ae,Y={id:d++,callback:re,priorityLevel:Y,startTime:K,expirationTime:Ae,sortIndex:-1},K>ve?(Y.sortIndex=K,e(f,Y),r(c)===null&&Y===r(f)&&(b?(T(R),R=-1):b=!0,de(M,K-ve))):(Y.sortIndex=Ae,e(c,Y),_||y||(_=!0,L||(L=!0,V()))),Y},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Y){var re=v;return function(){var K=v;v=re;try{return Y.apply(this,arguments)}finally{v=K}}}})(S2)),S2}var EI;function SU(){return EI||(EI=1,E2.exports=EU()),E2.exports}var C2={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function CU(){if(SI)return jn;SI=1;var t=rd();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,jn.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},jn.flushSync=function(c){var f=o.T,d=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=f,n.p=d,n.d.f()}},jn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},jn.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},jn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=s(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=s(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},jn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=s(d,f.crossOrigin);n.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=s(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},jn.requestFormReset=function(c){n.d.r(c)},jn.unstable_batchedUpdates=function(c,f){return c(f)},jn.useFormState=function(c,f,d){return o.H.useFormState(c,f,d)},jn.useFormStatus=function(){return o.H.useHostTransitionStatus()},jn.version="19.2.0",jn}var CI;function mD(){if(CI)return C2.exports;CI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C2.exports=CU(),C2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function TU(){if(TI)return Eh;TI=1;var t=SU(),e=rd(),r=mD();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function s(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function f(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(n(188));return u!==l?null:l}for(var h=l,m=u;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return c(w),l;if(E===m)return c(w),u;E=E.sibling}throw Error(n(188))}if(h.return!==m.return)h=w,m=E;else{for(var P=!1,F=w.child;F;){if(F===h){P=!0,h=w,m=E;break}if(F===m){P=!0,m=w,h=E;break}F=F.sibling}if(!P){for(F=E.child;F;){if(F===h){P=!0,h=E,m=w;break}if(F===m){P=!0,m=E,h=w;break}F=F.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function V(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var z=Symbol.for("react.client.reference");function Q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===z?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case j:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case O:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case N:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return u=l.displayName||null,u!==null?u:Q(l.type)||"Memo";case D:u=l._payload,l=l._init;try{return Q(l(u))}catch{}}return null}var de=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ve=[],Ae=-1;function G(l){return{current:l}}function J(l){0>Ae||(l.current=ve[Ae],ve[Ae]=null,Ae--)}function we(l,u){Ae++,ve[Ae]=l.current,l.current=u}var Se=G(null),Ne=G(null),We=G(null),at=G(null);function _r(l,u){switch(we(We,u),we(Ne,l),we(Se,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?V3(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=V3(u),l=H3(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(Se),we(Se,l)}function ye(){J(Se),J(Ne),J(We)}function $e(l){l.memoizedState!==null&&we(at,l);var u=Se.current,h=H3(u,l.type);u!==h&&(we(Ne,l),we(Se,h))}function Ze(l){Ne.current===l&&(J(Se),J(Ne)),at.current===l&&(J(at),xh._currentValue=K)}var me,Ar;function tt(l){if(me===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);me=u&&u[1]||"",Ar=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+l+Ar}var Gr=!1;function Er(l,u){if(!l||Gr)return"";Gr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var ie=se}Reflect.construct(l,[],he)}else{try{he.call()}catch(se){ie=se}l.call(he.prototype)}}else{try{throw Error()}catch(se){ie=se}(he=l())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),P=E[0],F=E[1];if(P&&F){var q=P.split(`
`),ne=F.split(`
`);for(w=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ne.length&&!ne[w].includes("DetermineComponentFrameRoot");)w++;if(m===q.length||w===ne.length)for(m=q.length-1,w=ne.length-1;1<=m&&0<=w&&q[m]!==ne[w];)w--;for(;1<=m&&0<=w;m--,w--)if(q[m]!==ne[w]){if(m!==1||w!==1)do if(m--,w--,0>w||q[m]!==ne[w]){var ce=`
`+q[m].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=m&&0<=w);break}}}finally{Gr=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?tt(h):""}function Ei(l,u){switch(l.tag){case 26:case 27:case 5:return tt(l.type);case 16:return tt("Lazy");case 13:return l.child!==u&&u!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Er(l.type,!1);case 11:return Er(l.type.render,!1);case 1:return Er(l.type,!0);case 31:return tt("Activity");default:return""}}function ks(l){try{var u="",h=null;do u+=Ei(l,h),h=l,l=l.return;while(l);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Dr=Object.prototype.hasOwnProperty,Wr=t.unstable_scheduleCallback,Ms=t.unstable_cancelCallback,Ay=t.unstable_shouldYield,_0=t.unstable_requestPaint,Kn=t.unstable_now,ac=t.unstable_getCurrentPriorityLevel,_d=t.unstable_ImmediatePriority,Ad=t.unstable_UserBlockingPriority,js=t.unstable_NormalPriority,Ey=t.unstable_LowPriority,A0=t.unstable_IdlePriority,E0=t.log,S0=t.unstable_setDisableYieldValue,Ta=null,xn=null;function Yi(l){if(typeof E0=="function"&&S0(l),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(Ta,l)}catch{}}var Sr=Math.clz32?Math.clz32:T0,C0=Math.log,Ou=Math.LN2;function T0(l){return l>>>=0,l===0?32:31-(C0(l)/Ou|0)|0}var Za=256,oc=262144,Nr=4194304;function Ja(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function eo(l,u,h){var m=l.pendingLanes;if(m===0)return 0;var w=0,E=l.suspendedLanes,P=l.pingedLanes;l=l.warmLanes;var F=m&134217727;return F!==0?(m=F&~E,m!==0?w=Ja(m):(P&=F,P!==0?w=Ja(P):h||(h=F&~l,h!==0&&(w=Ja(h))))):(F=m&~E,F!==0?w=Ja(F):P!==0?w=Ja(P):h||(h=m&~l,h!==0&&(w=Ja(h)))),w===0?0:u!==0&&u!==w&&(u&E)===0&&(E=w&-w,h=u&-u,E>=h||E===32&&(h&4194048)!==0)?u:w}function Ia(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Sy(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(){var l=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),l}function to(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function sc(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Cy(l,u,h,m,w,E){var P=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var F=l.entanglements,q=l.expirationTimes,ne=l.hiddenUpdates;for(h=P&~h;0<h;){var ce=31-Sr(h),he=1<<ce;F[ce]=0,q[ce]=-1;var ie=ne[ce];if(ie!==null)for(ne[ce]=null,ce=0;ce<ie.length;ce++){var se=ie[ce];se!==null&&(se.lane&=-536870913)}h&=~he}m!==0&&lc(l,m,0),E!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=E&~(P&~u))}function lc(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var m=31-Sr(u);l.entangledLanes|=u,l.entanglements[m]=l.entanglements[m]|1073741824|h&261930}function Ed(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var m=31-Sr(h),w=1<<m;w&u|l[m]&u&&(l[m]|=u),h&=~w}}function Sd(l,u){var h=u&-u;return h=(h&42)!==0?1:cc(h),(h&(l.suspendedLanes|u))!==0?0:h}function cc(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function zo(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function O0(){var l=re.p;return l!==0?l:(l=window.event,l===void 0?32:dI(l.type))}function Oa(l,u){var h=re.p;try{return re.p=l,u()}finally{re.p=h}}var Ra=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ra,sn="__reactProps$"+Ra,ro="__reactContainer$"+Ra,Ru="__reactEvents$"+Ra,Ty="__reactListeners$"+Ra,R0="__reactHandles$"+Ra,P0="__reactResources$"+Ra,no="__reactMarker$"+Ra;function Pu(l){delete l[kr],delete l[sn],delete l[Ru],delete l[Ty],delete l[R0]}function io(l){var u=l[kr];if(u)return u;for(var h=l.parentNode;h;){if(u=h[ro]||h[kr]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=X3(l);l!==null;){if(h=l[kr])return h;l=X3(l)}return u}l=h,h=l.parentNode}return null}function Xi(l){if(l=l[kr]||l[ro]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Si(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function ao(l){var u=l[P0];return u||(u=l[P0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Mr(l){l[no]=!0}var Cd=new Set,Td={};function oo(l,u){so(l,u),so(l+"Capture",u)}function so(l,u){for(Td[l]=u,l=0;l<u.length;l++)Cd.add(u[l])}var Id=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Rd={};function D0(l){return Dr.call(Rd,l)?!0:Dr.call(Od,l)?!1:Id.test(l)?Rd[l]=!0:(Od[l]=!0,!1)}function Du(l,u,h){if(D0(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function Ci(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function jr(l,u,h,m){if(m===null)l.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+m)}}function ln(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ls(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Pd(l,u,h){var m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,E=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return w.call(this)},set:function(P){h=""+P,E.call(this,P)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Pt(l){if(!l._valueTracker){var u=Ls(l)?"checked":"value";l._valueTracker=Pd(l,u,""+l[u])}}function uc(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return l&&(m=Ls(l)?l.checked?"true":"false":l.value),l=m,l!==h?(u.setValue(l),!0):!1}function lo(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var fc=/[\n"\\]/g;function ci(l){return l.replace(fc,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Nu(l,u,h,m,w,E,P,F){l.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?l.type=P:l.removeAttribute("type"),u!=null?P==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+ln(u)):l.value!==""+ln(u)&&(l.value=""+ln(u)):P!=="submit"&&P!=="reset"||l.removeAttribute("value"),u!=null?Dd(l,P,ln(u)):h!=null?Dd(l,P,ln(h)):m!=null&&l.removeAttribute("value"),w==null&&E!=null&&(l.defaultChecked=!!E),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?l.name=""+ln(F):l.removeAttribute("name")}function N0(l,u,h,m,w,E,P,F){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(l.type=E),u!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){Pt(l);return}h=h!=null?""+ln(h):"",u=u!=null?""+ln(u):h,F||u===l.value||(l.value=u),l.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,l.checked=F?l.checked:!!m,l.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.name=P),Pt(l)}function Dd(l,u,h){u==="number"&&lo(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Bs(l,u,h,m){if(l=l.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<l.length;h++)w=u.hasOwnProperty("$"+l[h].value),l[h].selected!==w&&(l[h].selected=w),w&&m&&(l[h].defaultSelected=!0)}else{for(h=""+ln(h),u=null,w=0;w<l.length;w++){if(l[w].value===h){l[w].selected=!0,m&&(l[w].defaultSelected=!0);return}u!==null||l[w].disabled||(u=l[w])}u!==null&&(u.selected=!0)}}function k0(l,u,h){if(u!=null&&(u=""+ln(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+ln(h):""}function zs(l,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(n(92));if(de(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=ln(u),l.defaultValue=h,m=l.textContent,m===h&&m!==""&&m!==null&&(l.value=m),Pt(l)}function ui(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var M0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(l,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":m?l.setProperty(u,h):typeof h!="number"||h===0||M0.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function kd(l,u,h){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?l.setProperty(m,""):m==="float"?l.cssFloat="":l[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&h[w]!==m&&Nd(l,w,m)}else for(var E in u)u.hasOwnProperty(E)&&Nd(l,E,u[E])}function ku(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(l){return Us.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Pa(){}var Md=null;function Qi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fs=null,co=null;function dc(l){var u=Xi(l);if(u&&(l=u.stateNode)){var h=l[sn]||null;e:switch(l=u.stateNode,u.type){case"input":if(Nu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ci(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==l&&m.form===l.form){var w=m[sn]||null;if(!w)throw Error(n(90));Nu(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===l.form&&uc(m)}break e;case"textarea":k0(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Bs(l,!!h.multiple,u,!1)}}}var ju=!1;function Vs(l,u,h){if(ju)return l(u,h);ju=!0;try{var m=l(u);return m}finally{if(ju=!1,(Fs!==null||co!==null)&&(Og(),Fs&&(u=Fs,l=co,co=Fs=null,dc(u),l)))for(u=0;u<l.length;u++)dc(l[u])}}function Da(l,u){var h=l.stateNode;if(h===null)return null;var m=h[sn]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(l=l.type,m=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!m;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(Zi)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){hc=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{hc=!1}var uo=null,jd=null,pc=null;function Ld(){if(pc)return pc;var l,u=jd,h=u.length,m,w="value"in uo?uo.value:uo.textContent,E=w.length;for(l=0;l<h&&u[l]===w[l];l++);var P=h-l;for(m=1;m<=P&&u[h-m]===w[E-m];m++);return pc=w.slice(l,1<m?1-m:void 0)}function gc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Uo(){return!0}function Na(){return!1}function bn(l){function u(h,m,w,E,P){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var F in l)l.hasOwnProperty(F)&&(h=l[F],this[F]=h?h(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Uo:Na,this.isPropagationStopped=Na,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),u}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=bn(Fo),Hs=p({},Fo,{view:0,detail:0}),Bd=bn(Hs),$s,Lu,ho,Bu=p({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ho&&(ho&&l.type==="mousemove"?($s=l.screenX-ho.screenX,Lu=l.screenY-ho.screenY):Lu=$s=0,ho=l),$s)},movementY:function(l){return"movementY"in l?l.movementY:Lu}}),zd=bn(Bu),vc=p({},Bu,{dataTransfer:0}),L0=bn(vc),B0=p({},Hs,{relatedTarget:0}),mc=bn(B0),Ud=p({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=bn(Ud),zu=p({},Fo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),U0=bn(zu),F0=p({},Fo,{data:0}),po=bn(F0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=$0[l])?!!u[l]:!1}function qs(){return q0}var Yn=p({},Hs,{key:function(l){if(l.key){var u=V0[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=gc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?H0[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(l){return l.type==="keypress"?gc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?gc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),G0=bn(Yn),W0=p({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=bn(W0),x=p({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),I=bn(x),k=p({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=bn(k),Z=p({},Bu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=bn(Z),xe=p({},Fo,{newState:0,oldState:0}),Ke=bn(xe),Cr=[9,13,27,32],At=Zi&&"CompositionEvent"in window,ir=null;Zi&&"documentMode"in document&&(ir=document.documentMode);var Ji=Zi&&"TextEvent"in window&&!ir,go=Zi&&(!At||ir&&8<ir&&11>=ir),ka=" ",Ma=!1;function yc(l,u){switch(l){case"keyup":return Cr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Fu=!1;function HB(l,u){switch(l){case"compositionend":return Uu(u);case"keypress":return u.which!==32?null:(Ma=!0,ka);case"textInput":return l=u.data,l===ka&&Ma?null:l;default:return null}}function $B(l,u){if(Fu)return l==="compositionend"||!At&&yc(l,u)?(l=Ld(),pc=jd=uo=null,Fu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return go&&u.locale!=="ko"?null:u.data;default:return null}}var qB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JC(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!qB[l.type]:u==="textarea"}function eT(l,u,h,m){Fs?co?co.push(m):co=[m]:Fs=m,u=jg(u,"onChange"),0<u.length&&(h=new fo("onChange","change",null,h,m),l.push({event:h,listeners:u}))}var Fd=null,Vd=null;function GB(l){j3(l,0)}function K0(l){var u=Si(l);if(uc(u))return l}function tT(l,u){if(l==="change")return u}var rT=!1;if(Zi){var Iy;if(Zi){var Oy="oninput"in document;if(!Oy){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),Oy=typeof nT.oninput=="function"}Iy=Oy}else Iy=!1;rT=Iy&&(!document.documentMode||9<document.documentMode)}function iT(){Fd&&(Fd.detachEvent("onpropertychange",aT),Vd=Fd=null)}function aT(l){if(l.propertyName==="value"&&K0(Vd)){var u=[];eT(u,Vd,l,Qi(l)),Vs(GB,u)}}function WB(l,u,h){l==="focusin"?(iT(),Fd=u,Vd=h,Fd.attachEvent("onpropertychange",aT)):l==="focusout"&&iT()}function KB(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return K0(Vd)}function YB(l,u){if(l==="click")return K0(u)}function XB(l,u){if(l==="input"||l==="change")return K0(u)}function QB(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ti=typeof Object.is=="function"?Object.is:QB;function Hd(l,u){if(Ti(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!Dr.call(u,w)||!Ti(l[w],u[w]))return!1}return!0}function oT(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function sT(l,u){var h=oT(l);l=0;for(var m;h;){if(h.nodeType===3){if(m=l+h.textContent.length,l<=u&&m>=u)return{node:h,offset:u-l};l=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oT(h)}}function lT(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?lT(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function cT(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=lo(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=lo(l.document)}return u}function Ry(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var ZB=Zi&&"documentMode"in document&&11>=document.documentMode,Vu=null,Py=null,$d=null,Dy=!1;function uT(l,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Dy||Vu==null||Vu!==lo(m)||(m=Vu,"selectionStart"in m&&Ry(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$d&&Hd($d,m)||($d=m,m=jg(Py,"onSelect"),0<m.length&&(u=new fo("onSelect","select",null,u,h),l.push({event:u,listeners:m}),u.target=Vu)))}function xc(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Hu={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionrun:xc("Transition","TransitionRun"),transitionstart:xc("Transition","TransitionStart"),transitioncancel:xc("Transition","TransitionCancel"),transitionend:xc("Transition","TransitionEnd")},Ny={},fT={};Zi&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function bc(l){if(Ny[l])return Ny[l];if(!Hu[l])return l;var u=Hu[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in fT)return Ny[l]=u[h];return l}var dT=bc("animationend"),hT=bc("animationiteration"),pT=bc("animationstart"),JB=bc("transitionrun"),ez=bc("transitionstart"),tz=bc("transitioncancel"),gT=bc("transitionend"),vT=new Map,ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ky.push("scrollEnd");function ja(l,u){vT.set(l,u),oo(u,[l])}var Y0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ea=[],$u=0,My=0;function X0(){for(var l=$u,u=My=$u=0;u<l;){var h=ea[u];ea[u++]=null;var m=ea[u];ea[u++]=null;var w=ea[u];ea[u++]=null;var E=ea[u];if(ea[u++]=null,m!==null&&w!==null){var P=m.pending;P===null?w.next=w:(w.next=P.next,P.next=w),m.pending=w}E!==0&&mT(h,w,E)}}function Q0(l,u,h,m){ea[$u++]=l,ea[$u++]=u,ea[$u++]=h,ea[$u++]=m,My|=m,l.lanes|=m,l=l.alternate,l!==null&&(l.lanes|=m)}function jy(l,u,h,m){return Q0(l,u,h,m),Z0(l)}function wc(l,u){return Q0(l,null,null,u),Z0(l)}function mT(l,u,h){l.lanes|=h;var m=l.alternate;m!==null&&(m.lanes|=h);for(var w=!1,E=l.return;E!==null;)E.childLanes|=h,m=E.alternate,m!==null&&(m.childLanes|=h),E.tag===22&&(l=E.stateNode,l===null||l._visibility&1||(w=!0)),l=E,E=E.return;return l.tag===3?(E=l.stateNode,w&&u!==null&&(w=31-Sr(h),l=E.hiddenUpdates,m=l[w],m===null?l[w]=[u]:m.push(u),u.lane=h|536870912),E):null}function Z0(l){if(50<dh)throw dh=0,qx=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var qu={};function rz(l,u,h,m){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(l,u,h,m){return new rz(l,u,h,m)}function Ly(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ho(l,u){var h=l.alternate;return h===null?(h=Ii(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function yT(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function J0(l,u,h,m,w,E){var P=0;if(m=l,typeof l=="function")Ly(l)&&(P=1);else if(typeof l=="string")P=sU(l,h,Se.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case j:return l=Ii(31,h,u,w),l.elementType=j,l.lanes=E,l;case b:return _c(h.children,w,E,u);case A:P=8,w|=24;break;case S:return l=Ii(12,h,u,w|2),l.elementType=S,l.lanes=E,l;case M:return l=Ii(13,h,u,w),l.elementType=M,l.lanes=E,l;case L:return l=Ii(19,h,u,w),l.elementType=L,l.lanes=E,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:P=10;break e;case T:P=9;break e;case N:P=11;break e;case R:P=14;break e;case D:P=16,m=null;break e}P=29,h=Error(n(130,l===null?"null":typeof l,"")),m=null}return u=Ii(P,h,u,w),u.elementType=l,u.type=m,u.lanes=E,u}function _c(l,u,h,m){return l=Ii(7,l,m,u),l.lanes=h,l}function By(l,u,h){return l=Ii(6,l,null,u),l.lanes=h,l}function xT(l){var u=Ii(18,null,null,0);return u.stateNode=l,u}function zy(l,u,h){return u=Ii(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var bT=new WeakMap;function ta(l,u){if(typeof l=="object"&&l!==null){var h=bT.get(l);return h!==void 0?h:(u={value:l,source:u,stack:ks(u)},bT.set(l,u),u)}return{value:l,source:u,stack:ks(u)}}var Gu=[],Wu=0,eg=null,qd=0,ra=[],na=0,Gs=null,vo=1,mo="";function $o(l,u){Gu[Wu++]=qd,Gu[Wu++]=eg,eg=l,qd=u}function wT(l,u,h){ra[na++]=vo,ra[na++]=mo,ra[na++]=Gs,Gs=l;var m=vo;l=mo;var w=32-Sr(m)-1;m&=~(1<<w),h+=1;var E=32-Sr(u)+w;if(30<E){var P=w-w%5;E=(m&(1<<P)-1).toString(32),m>>=P,w-=P,vo=1<<32-Sr(u)+w|h<<w|m,mo=E+l}else vo=1<<E|h<<w|m,mo=l}function Uy(l){l.return!==null&&($o(l,1),wT(l,1,0))}function Fy(l){for(;l===eg;)eg=Gu[--Wu],Gu[Wu]=null,qd=Gu[--Wu],Gu[Wu]=null;for(;l===Gs;)Gs=ra[--na],ra[na]=null,mo=ra[--na],ra[na]=null,vo=ra[--na],ra[na]=null}function _T(l,u){ra[na++]=vo,ra[na++]=mo,ra[na++]=Gs,vo=u.id,mo=u.overflow,Gs=l}var wn=null,Jt=null,dt=!1,Ws=null,ia=!1,Vy=Error(n(519));function Ks(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gd(ta(u,l)),Vy}function AT(l){var u=l.stateNode,h=l.type,m=l.memoizedProps;switch(u[kr]=l,u[sn]=m,h){case"dialog":nt("cancel",u),nt("close",u);break;case"iframe":case"object":case"embed":nt("load",u);break;case"video":case"audio":for(h=0;h<ph.length;h++)nt(ph[h],u);break;case"source":nt("error",u);break;case"img":case"image":case"link":nt("error",u),nt("load",u);break;case"details":nt("toggle",u);break;case"input":nt("invalid",u),N0(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":nt("invalid",u);break;case"textarea":nt("invalid",u),zs(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||U3(u.textContent,h)?(m.popover!=null&&(nt("beforetoggle",u),nt("toggle",u)),m.onScroll!=null&&nt("scroll",u),m.onScrollEnd!=null&&nt("scrollend",u),m.onClick!=null&&(u.onclick=Pa),u=!0):u=!1,u||Ks(l,!0)}function ET(l){for(wn=l.return;wn;)switch(wn.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:wn=wn.return}}function Ku(l){if(l!==wn)return!1;if(!dt)return ET(l),dt=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||o2(l.type,l.memoizedProps)),h=!h),h&&Jt&&Ks(l),ET(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Jt=Y3(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Jt=Y3(l)}else u===27?(u=Jt,ll(l.type)?(l=f2,f2=null,Jt=l):Jt=u):Jt=wn?oa(l.stateNode.nextSibling):null;return!0}function Ac(){Jt=wn=null,dt=!1}function Hy(){var l=Ws;return l!==null&&(pi===null?pi=l:pi.push.apply(pi,l),Ws=null),l}function Gd(l){Ws===null?Ws=[l]:Ws.push(l)}var $y=G(null),Ec=null,qo=null;function Ys(l,u,h){we($y,u._currentValue),u._currentValue=h}function Go(l){l._currentValue=$y.current,J($y)}function qy(l,u,h){for(;l!==null;){var m=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),l===h)break;l=l.return}}function Gy(l,u,h,m){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var E=w.dependencies;if(E!==null){var P=w.child;E=E.firstContext;e:for(;E!==null;){var F=E;E=w;for(var q=0;q<u.length;q++)if(F.context===u[q]){E.lanes|=h,F=E.alternate,F!==null&&(F.lanes|=h),qy(E.return,h,l),m||(P=null);break e}E=F.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(n(341));P.lanes|=h,E=P.alternate,E!==null&&(E.lanes|=h),qy(P,h,l),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===l){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function Yu(l,u,h,m){l=null;for(var w=u,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var F=w.type;Ti(w.pendingProps.value,P.value)||(l!==null?l.push(F):l=[F])}}else if(w===at.current){if(P=w.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(xh):l=[xh])}w=w.return}l!==null&&Gy(u,l,h,m),u.flags|=262144}function tg(l){for(l=l.firstContext;l!==null;){if(!Ti(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Sc(l){Ec=l,qo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _n(l){return ST(Ec,l)}function rg(l,u){return Ec===null&&Sc(l),ST(l,u)}function ST(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},qo===null){if(l===null)throw Error(n(308));qo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else qo=qo.next=u;return h}var nz=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,m){l.push(m)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},iz=t.unstable_scheduleCallback,az=t.unstable_NormalPriority,Lr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wy(){return{controller:new nz,data:new Map,refCount:0}}function Wd(l){l.refCount--,l.refCount===0&&iz(az,function(){l.controller.abort()})}var Kd=null,Ky=0,Xu=0,Qu=null;function oz(l,u){if(Kd===null){var h=Kd=[];Ky=0,Xu=Qx(),Qu={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Ky++,u.then(CT,CT),u}function CT(){if(--Ky===0&&Kd!==null){Qu!==null&&(Qu.status="fulfilled");var l=Kd;Kd=null,Xu=0,Qu=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function sz(l,u){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return l.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var TT=Y.S;Y.S=function(l,u){u3=Kn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&oz(l,u),TT!==null&&TT(l,u)};var Cc=G(null);function Yy(){var l=Cc.current;return l!==null?l:qt.pooledCache}function ng(l,u){u===null?we(Cc,Cc.current):we(Cc,u.pool)}function IT(){var l=Yy();return l===null?null:{parent:Lr._currentValue,pool:l}}var Zu=Error(n(460)),Xy=Error(n(474)),ig=Error(n(542)),ag={then:function(){}};function OT(l){return l=l.status,l==="fulfilled"||l==="rejected"}function RT(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(Pa,Pa),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,DT(l),l;default:if(typeof u.status=="string")u.then(Pa,Pa);else{if(l=qt,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,DT(l),l}throw Ic=u,Zu}}function Tc(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ic=h,Zu):h}}var Ic=null;function PT(){if(Ic===null)throw Error(n(459));var l=Ic;return Ic=null,l}function DT(l){if(l===Zu||l===ig)throw Error(n(483))}var Ju=null,Yd=0;function og(l){var u=Yd;return Yd+=1,Ju===null&&(Ju=[]),RT(Ju,l,u)}function Xd(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function sg(l,u){throw u.$$typeof===v?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function NT(l){function u(X,W){if(l){var te=X.deletions;te===null?(X.deletions=[W],X.flags|=16):te.push(W)}}function h(X,W){if(!l)return null;for(;W!==null;)u(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function w(X,W){return X=Ho(X,W),X.index=0,X.sibling=null,X}function E(X,W,te){return X.index=te,l?(te=X.alternate,te!==null?(te=te.index,te<W?(X.flags|=67108866,W):te):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function P(X){return l&&X.alternate===null&&(X.flags|=67108866),X}function F(X,W,te,fe){return W===null||W.tag!==6?(W=By(te,X.mode,fe),W.return=X,W):(W=w(W,te),W.return=X,W)}function q(X,W,te,fe){var Me=te.type;return Me===b?ce(X,W,te.props.children,fe,te.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&Tc(Me)===W.type)?(W=w(W,te.props),Xd(W,te),W.return=X,W):(W=J0(te.type,te.key,te.props,null,X.mode,fe),Xd(W,te),W.return=X,W)}function ne(X,W,te,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=zy(te,X.mode,fe),W.return=X,W):(W=w(W,te.children||[]),W.return=X,W)}function ce(X,W,te,fe,Me){return W===null||W.tag!==7?(W=_c(te,X.mode,fe,Me),W.return=X,W):(W=w(W,te),W.return=X,W)}function he(X,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=By(""+W,X.mode,te),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return te=J0(W.type,W.key,W.props,null,X.mode,te),Xd(te,W),te.return=X,te;case _:return W=zy(W,X.mode,te),W.return=X,W;case D:return W=Tc(W),he(X,W,te)}if(de(W)||V(W))return W=_c(W,X.mode,te,null),W.return=X,W;if(typeof W.then=="function")return he(X,og(W),te);if(W.$$typeof===O)return he(X,rg(X,W),te);sg(X,W)}return null}function ie(X,W,te,fe){var Me=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Me!==null?null:F(X,W,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return te.key===Me?q(X,W,te,fe):null;case _:return te.key===Me?ne(X,W,te,fe):null;case D:return te=Tc(te),ie(X,W,te,fe)}if(de(te)||V(te))return Me!==null?null:ce(X,W,te,fe,null);if(typeof te.then=="function")return ie(X,W,og(te),fe);if(te.$$typeof===O)return ie(X,W,rg(X,te),fe);sg(X,te)}return null}function se(X,W,te,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(te)||null,F(W,X,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return X=X.get(fe.key===null?te:fe.key)||null,q(W,X,fe,Me);case _:return X=X.get(fe.key===null?te:fe.key)||null,ne(W,X,fe,Me);case D:return fe=Tc(fe),se(X,W,te,fe,Me)}if(de(fe)||V(fe))return X=X.get(te)||null,ce(W,X,fe,Me,null);if(typeof fe.then=="function")return se(X,W,te,og(fe),Me);if(fe.$$typeof===O)return se(X,W,te,rg(W,fe),Me);sg(W,fe)}return null}function Ie(X,W,te,fe){for(var Me=null,yt=null,De=W,Xe=W=0,st=null;De!==null&&Xe<te.length;Xe++){De.index>Xe?(st=De,De=null):st=De.sibling;var xt=ie(X,De,te[Xe],fe);if(xt===null){De===null&&(De=st);break}l&&De&&xt.alternate===null&&u(X,De),W=E(xt,W,Xe),yt===null?Me=xt:yt.sibling=xt,yt=xt,De=st}if(Xe===te.length)return h(X,De),dt&&$o(X,Xe),Me;if(De===null){for(;Xe<te.length;Xe++)De=he(X,te[Xe],fe),De!==null&&(W=E(De,W,Xe),yt===null?Me=De:yt.sibling=De,yt=De);return dt&&$o(X,Xe),Me}for(De=m(De);Xe<te.length;Xe++)st=se(De,X,Xe,te[Xe],fe),st!==null&&(l&&st.alternate!==null&&De.delete(st.key===null?Xe:st.key),W=E(st,W,Xe),yt===null?Me=st:yt.sibling=st,yt=st);return l&&De.forEach(function(hl){return u(X,hl)}),dt&&$o(X,Xe),Me}function Ue(X,W,te,fe){if(te==null)throw Error(n(151));for(var Me=null,yt=null,De=W,Xe=W=0,st=null,xt=te.next();De!==null&&!xt.done;Xe++,xt=te.next()){De.index>Xe?(st=De,De=null):st=De.sibling;var hl=ie(X,De,xt.value,fe);if(hl===null){De===null&&(De=st);break}l&&De&&hl.alternate===null&&u(X,De),W=E(hl,W,Xe),yt===null?Me=hl:yt.sibling=hl,yt=hl,De=st}if(xt.done)return h(X,De),dt&&$o(X,Xe),Me;if(De===null){for(;!xt.done;Xe++,xt=te.next())xt=he(X,xt.value,fe),xt!==null&&(W=E(xt,W,Xe),yt===null?Me=xt:yt.sibling=xt,yt=xt);return dt&&$o(X,Xe),Me}for(De=m(De);!xt.done;Xe++,xt=te.next())xt=se(De,X,Xe,xt.value,fe),xt!==null&&(l&&xt.alternate!==null&&De.delete(xt.key===null?Xe:xt.key),W=E(xt,W,Xe),yt===null?Me=xt:yt.sibling=xt,yt=xt);return l&&De.forEach(function(yU){return u(X,yU)}),dt&&$o(X,Xe),Me}function Vt(X,W,te,fe){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case y:e:{for(var Me=te.key;W!==null;){if(W.key===Me){if(Me=te.type,Me===b){if(W.tag===7){h(X,W.sibling),fe=w(W,te.props.children),fe.return=X,X=fe;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&Tc(Me)===W.type){h(X,W.sibling),fe=w(W,te.props),Xd(fe,te),fe.return=X,X=fe;break e}h(X,W);break}else u(X,W);W=W.sibling}te.type===b?(fe=_c(te.props.children,X.mode,fe,te.key),fe.return=X,X=fe):(fe=J0(te.type,te.key,te.props,null,X.mode,fe),Xd(fe,te),fe.return=X,X=fe)}return P(X);case _:e:{for(Me=te.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){h(X,W.sibling),fe=w(W,te.children||[]),fe.return=X,X=fe;break e}else{h(X,W);break}else u(X,W);W=W.sibling}fe=zy(te,X.mode,fe),fe.return=X,X=fe}return P(X);case D:return te=Tc(te),Vt(X,W,te,fe)}if(de(te))return Ie(X,W,te,fe);if(V(te)){if(Me=V(te),typeof Me!="function")throw Error(n(150));return te=Me.call(te),Ue(X,W,te,fe)}if(typeof te.then=="function")return Vt(X,W,og(te),fe);if(te.$$typeof===O)return Vt(X,W,rg(X,te),fe);sg(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(h(X,W.sibling),fe=w(W,te),fe.return=X,X=fe):(h(X,W),fe=By(te,X.mode,fe),fe.return=X,X=fe),P(X)):h(X,W)}return function(X,W,te,fe){try{Yd=0;var Me=Vt(X,W,te,fe);return Ju=null,Me}catch(De){if(De===Zu||De===ig)throw De;var yt=Ii(29,De,null,X.mode);return yt.lanes=fe,yt.return=X,yt}finally{}}}var Oc=NT(!0),kT=NT(!1),Xs=!1;function Qy(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zy(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Qs(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Zs(l,u,h){var m=l.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=Z0(l),mT(l,null,h),u}return Q0(l,m,u,h),Z0(l)}function Qd(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=l.pendingLanes,h|=m,u.lanes=h,Ed(l,h)}}function Jy(l,u){var h=l.updateQueue,m=l.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=P:E=E.next=P,h=h.next}while(h!==null);E===null?w=E=u:E=E.next=u}else w=E=u;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var ex=!1;function Zd(){if(ex){var l=Qu;if(l!==null)throw l}}function Jd(l,u,h,m){ex=!1;var w=l.updateQueue;Xs=!1;var E=w.firstBaseUpdate,P=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var q=F,ne=q.next;q.next=null,P===null?E=ne:P.next=ne,P=q;var ce=l.alternate;ce!==null&&(ce=ce.updateQueue,F=ce.lastBaseUpdate,F!==P&&(F===null?ce.firstBaseUpdate=ne:F.next=ne,ce.lastBaseUpdate=q))}if(E!==null){var he=w.baseState;P=0,ce=ne=q=null,F=E;do{var ie=F.lane&-536870913,se=ie!==F.lane;if(se?(ot&ie)===ie:(m&ie)===ie){ie!==0&&ie===Xu&&(ex=!0),ce!==null&&(ce=ce.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ie=l,Ue=F;ie=u;var Vt=h;switch(Ue.tag){case 1:if(Ie=Ue.payload,typeof Ie=="function"){he=Ie.call(Vt,he,ie);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ue.payload,ie=typeof Ie=="function"?Ie.call(Vt,he,ie):Ie,ie==null)break e;he=p({},he,ie);break e;case 2:Xs=!0}}ie=F.callback,ie!==null&&(l.flags|=64,se&&(l.flags|=8192),se=w.callbacks,se===null?w.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ce===null?(ne=ce=se,q=he):ce=ce.next=se,P|=ie;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;se=F,F=se.next,se.next=null,w.lastBaseUpdate=se,w.shared.pending=null}}while(!0);ce===null&&(q=he),w.baseState=q,w.firstBaseUpdate=ne,w.lastBaseUpdate=ce,E===null&&(w.shared.lanes=0),nl|=P,l.lanes=P,l.memoizedState=he}}function MT(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function jT(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)MT(h[l],u)}var ef=G(null),lg=G(0);function LT(l,u){l=ts,we(lg,l),we(ef,u),ts=l|u.baseLanes}function tx(){we(lg,ts),we(ef,ef.current)}function rx(){ts=lg.current,J(ef),J(lg)}var Oi=G(null),aa=null;function Js(l){var u=l.alternate;we(Tr,Tr.current&1),we(Oi,l),aa===null&&(u===null||ef.current!==null||u.memoizedState!==null)&&(aa=l)}function nx(l){we(Tr,Tr.current),we(Oi,l),aa===null&&(aa=l)}function BT(l){l.tag===22?(we(Tr,Tr.current),we(Oi,l),aa===null&&(aa=l)):el()}function el(){we(Tr,Tr.current),we(Oi,Oi.current)}function Ri(l){J(Oi),aa===l&&(aa=null),J(Tr)}var Tr=G(0);function cg(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||c2(h)||u2(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Wo=0,Ye=null,Ut=null,Br=null,ug=!1,tf=!1,Rc=!1,fg=0,eh=0,rf=null,lz=0;function vr(){throw Error(n(321))}function ix(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Ti(l[h],u[h]))return!1;return!0}function ax(l,u,h,m,w,E){return Wo=E,Ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=l===null||l.memoizedState===null?w4:bx,Rc=!1,E=h(m,w),Rc=!1,tf&&(E=UT(u,h,m,w)),zT(l),E}function zT(l){Y.H=nh;var u=Ut!==null&&Ut.next!==null;if(Wo=0,Br=Ut=Ye=null,ug=!1,eh=0,rf=null,u)throw Error(n(300));l===null||zr||(l=l.dependencies,l!==null&&tg(l)&&(zr=!0))}function UT(l,u,h,m){Ye=l;var w=0;do{if(tf&&(rf=null),eh=0,tf=!1,25<=w)throw Error(n(301));if(w+=1,Br=Ut=null,l.updateQueue!=null){var E=l.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Y.H=_4,E=u(h,m)}while(tf);return E}function cz(){var l=Y.H,u=l.useState()[0];return u=typeof u.then=="function"?th(u):u,l=l.useState()[0],(Ut!==null?Ut.memoizedState:null)!==l&&(Ye.flags|=1024),u}function ox(){var l=fg!==0;return fg=0,l}function sx(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function lx(l){if(ug){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ug=!1}Wo=0,Br=Ut=Ye=null,tf=!1,eh=fg=0,rf=null}function Xn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Ye.memoizedState=Br=l:Br=Br.next=l,Br}function Ir(){if(Ut===null){var l=Ye.alternate;l=l!==null?l.memoizedState:null}else l=Ut.next;var u=Br===null?Ye.memoizedState:Br.next;if(u!==null)Br=u,Ut=l;else{if(l===null)throw Ye.alternate===null?Error(n(467)):Error(n(310));Ut=l,l={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Br===null?Ye.memoizedState=Br=l:Br=Br.next=l}return Br}function dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(l){var u=eh;return eh+=1,rf===null&&(rf=[]),l=RT(rf,l,u),u=Ye,(Br===null?u.memoizedState:Br.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?w4:bx),l}function hg(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return th(l);if(l.$$typeof===O)return _n(l)}throw Error(n(438,String(l)))}function cx(l){var u=null,h=Ye.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=Ye.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=dg(),Ye.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),m=0;m<l;m++)h[m]=B;return u.index++,h}function Ko(l,u){return typeof u=="function"?u(l):u}function pg(l){var u=Ir();return ux(u,Ut,l)}function ux(l,u,h){var m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=h;var w=l.baseQueue,E=m.pending;if(E!==null){if(w!==null){var P=w.next;w.next=E.next,E.next=P}u.baseQueue=w=E,m.pending=null}if(E=l.baseState,w===null)l.memoizedState=E;else{u=w.next;var F=P=null,q=null,ne=u,ce=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(ot&he)===he:(Wo&he)===he){var ie=ne.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===Xu&&(ce=!0);else if((Wo&ie)===ie){ne=ne.next,ie===Xu&&(ce=!0);continue}else he={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(F=q=he,P=E):q=q.next=he,Ye.lanes|=ie,nl|=ie;he=ne.action,Rc&&h(E,he),E=ne.hasEagerState?ne.eagerState:h(E,he)}else ie={lane:he,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(F=q=ie,P=E):q=q.next=ie,Ye.lanes|=he,nl|=he;ne=ne.next}while(ne!==null&&ne!==u);if(q===null?P=E:q.next=F,!Ti(E,l.memoizedState)&&(zr=!0,ce&&(h=Qu,h!==null)))throw h;l.memoizedState=E,l.baseState=P,l.baseQueue=q,m.lastRenderedState=E}return w===null&&(m.lanes=0),[l.memoizedState,m.dispatch]}function fx(l){var u=Ir(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var m=h.dispatch,w=h.pending,E=u.memoizedState;if(w!==null){h.pending=null;var P=w=w.next;do E=l(E,P.action),P=P.next;while(P!==w);Ti(E,u.memoizedState)||(zr=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,m]}function FT(l,u,h){var m=Ye,w=Ir(),E=dt;if(E){if(h===void 0)throw Error(n(407));h=h()}else h=u();var P=!Ti((Ut||w).memoizedState,h);if(P&&(w.memoizedState=h,zr=!0),w=w.queue,px($T.bind(null,m,w,l),[l]),w.getSnapshot!==u||P||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,nf(9,{destroy:void 0},HT.bind(null,m,w,h,u),null),qt===null)throw Error(n(349));E||(Wo&127)!==0||VT(m,u,h)}return h}function VT(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=Ye.updateQueue,u===null?(u=dg(),Ye.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function HT(l,u,h,m){u.value=h,u.getSnapshot=m,qT(u)&&GT(l)}function $T(l,u,h){return h(function(){qT(u)&&GT(l)})}function qT(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Ti(l,h)}catch{return!0}}function GT(l){var u=wc(l,2);u!==null&&gi(u,l,2)}function dx(l){var u=Xn();if(typeof l=="function"){var h=l;if(l=h(),Rc){Yi(!0);try{h()}finally{Yi(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:l},u}function WT(l,u,h,m){return l.baseState=h,ux(l,Ut,typeof m=="function"?m:Ko)}function uz(l,u,h,m,w){if(mg(l))throw Error(n(485));if(l=u.action,l!==null){var E={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};Y.T!==null?h(!0):E.isTransition=!1,m(E),h=u.pending,h===null?(E.next=u.pending=E,KT(u,E)):(E.next=h.next,u.pending=h.next=E)}}function KT(l,u){var h=u.action,m=u.payload,w=l.state;if(u.isTransition){var E=Y.T,P={};Y.T=P;try{var F=h(w,m),q=Y.S;q!==null&&q(P,F),YT(l,u,F)}catch(ne){hx(l,u,ne)}finally{E!==null&&P.types!==null&&(E.types=P.types),Y.T=E}}else try{E=h(w,m),YT(l,u,E)}catch(ne){hx(l,u,ne)}}function YT(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){XT(l,u,m)},function(m){return hx(l,u,m)}):XT(l,u,h)}function XT(l,u,h){u.status="fulfilled",u.value=h,QT(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,KT(l,h)))}function hx(l,u,h){var m=l.pending;if(l.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,QT(u),u=u.next;while(u!==m)}l.action=null}function QT(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function ZT(l,u){return u}function JT(l,u){if(dt){var h=qt.formState;if(h!==null){e:{var m=Ye;if(dt){if(Jt){t:{for(var w=Jt,E=ia;w.nodeType!==8;){if(!E){w=null;break t}if(w=oa(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Jt=oa(w.nextSibling),m=w.data==="F!";break e}}Ks(m)}m=!1}m&&(u=h[0])}}return h=Xn(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZT,lastRenderedState:u},h.queue=m,h=y4.bind(null,Ye,m),m.dispatch=h,m=dx(!1),E=xx.bind(null,Ye,!1,m.queue),m=Xn(),w={state:u,dispatch:null,action:l,pending:null},m.queue=w,h=uz.bind(null,Ye,w,E,h),w.dispatch=h,m.memoizedState=l,[u,h,!1]}function e4(l){var u=Ir();return t4(u,Ut,l)}function t4(l,u,h){if(u=ux(l,u,ZT)[0],l=pg(Ko)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=th(u)}catch(P){throw P===Zu?ig:P}else m=u;u=Ir();var w=u.queue,E=w.dispatch;return h!==u.memoizedState&&(Ye.flags|=2048,nf(9,{destroy:void 0},fz.bind(null,w,h),null)),[m,E,l]}function fz(l,u){l.action=u}function r4(l){var u=Ir(),h=Ut;if(h!==null)return t4(u,h,l);Ir(),u=u.memoizedState,h=Ir();var m=h.queue.dispatch;return h.memoizedState=l,[u,m,!1]}function nf(l,u,h,m){return l={tag:l,create:h,deps:m,inst:u,next:null},u=Ye.updateQueue,u===null&&(u=dg(),Ye.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(m=h.next,h.next=l,l.next=m,u.lastEffect=l),l}function n4(){return Ir().memoizedState}function gg(l,u,h,m){var w=Xn();Ye.flags|=l,w.memoizedState=nf(1|u,{destroy:void 0},h,m===void 0?null:m)}function vg(l,u,h,m){var w=Ir();m=m===void 0?null:m;var E=w.memoizedState.inst;Ut!==null&&m!==null&&ix(m,Ut.memoizedState.deps)?w.memoizedState=nf(u,E,h,m):(Ye.flags|=l,w.memoizedState=nf(1|u,E,h,m))}function i4(l,u){gg(8390656,8,l,u)}function px(l,u){vg(2048,8,l,u)}function dz(l){Ye.flags|=4;var u=Ye.updateQueue;if(u===null)u=dg(),Ye.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function a4(l){var u=Ir().memoizedState;return dz({ref:u,nextImpl:l}),function(){if((Et&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function o4(l,u){return vg(4,2,l,u)}function s4(l,u){return vg(4,4,l,u)}function l4(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function c4(l,u,h){h=h!=null?h.concat([l]):null,vg(4,4,l4.bind(null,u,l),h)}function gx(){}function u4(l,u){var h=Ir();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&ix(u,m[1])?m[0]:(h.memoizedState=[l,u],l)}function f4(l,u){var h=Ir();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&ix(u,m[1]))return m[0];if(m=l(),Rc){Yi(!0);try{l()}finally{Yi(!1)}}return h.memoizedState=[m,u],m}function vx(l,u,h){return h===void 0||(Wo&1073741824)!==0&&(ot&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=d3(),Ye.lanes|=l,nl|=l,h)}function d4(l,u,h,m){return Ti(h,u)?h:ef.current!==null?(l=vx(l,h,m),Ti(l,u)||(zr=!0),l):(Wo&42)===0||(Wo&1073741824)!==0&&(ot&261930)===0?(zr=!0,l.memoizedState=h):(l=d3(),Ye.lanes|=l,nl|=l,u)}function h4(l,u,h,m,w){var E=re.p;re.p=E!==0&&8>E?E:8;var P=Y.T,F={};Y.T=F,xx(l,!1,u,h);try{var q=w(),ne=Y.S;if(ne!==null&&ne(F,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ce=sz(q,m);rh(l,u,ce,Ni(l))}else rh(l,u,m,Ni(l))}catch(he){rh(l,u,{then:function(){},status:"rejected",reason:he},Ni())}finally{re.p=E,P!==null&&F.types!==null&&(P.types=F.types),Y.T=P}}function hz(){}function mx(l,u,h,m){if(l.tag!==5)throw Error(n(476));var w=p4(l).queue;h4(l,w,u,K,h===null?hz:function(){return g4(l),h(m)})}function p4(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:K},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function g4(l){var u=p4(l);u.next===null&&(u=l.alternate.memoizedState),rh(l,u.next.queue,{},Ni())}function yx(){return _n(xh)}function v4(){return Ir().memoizedState}function m4(){return Ir().memoizedState}function pz(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=Ni();l=Qs(h);var m=Zs(u,l,h);m!==null&&(gi(m,u,h),Qd(m,u,h)),u={cache:Wy()},l.payload=u;return}u=u.return}}function gz(l,u,h){var m=Ni();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},mg(l)?x4(u,h):(h=jy(l,u,h,m),h!==null&&(gi(h,l,m),b4(h,u,m)))}function y4(l,u,h){var m=Ni();rh(l,u,h,m)}function rh(l,u,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(mg(l))x4(u,w);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var P=u.lastRenderedState,F=E(P,h);if(w.hasEagerState=!0,w.eagerState=F,Ti(F,P))return Q0(l,u,w,0),qt===null&&X0(),!1}catch{}finally{}if(h=jy(l,u,w,m),h!==null)return gi(h,l,m),b4(h,u,m),!0}return!1}function xx(l,u,h,m){if(m={lane:2,revertLane:Qx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},mg(l)){if(u)throw Error(n(479))}else u=jy(l,h,m,2),u!==null&&gi(u,l,2)}function mg(l){var u=l.alternate;return l===Ye||u!==null&&u===Ye}function x4(l,u){tf=ug=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function b4(l,u,h){if((h&4194048)!==0){var m=u.lanes;m&=l.pendingLanes,h|=m,u.lanes=h,Ed(l,h)}}var nh={readContext:_n,use:hg,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};nh.useEffectEvent=vr;var w4={readContext:_n,use:hg,useCallback:function(l,u){return Xn().memoizedState=[l,u===void 0?null:u],l},useContext:_n,useEffect:i4,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,gg(4194308,4,l4.bind(null,u,l),h)},useLayoutEffect:function(l,u){return gg(4194308,4,l,u)},useInsertionEffect:function(l,u){gg(4,2,l,u)},useMemo:function(l,u){var h=Xn();u=u===void 0?null:u;var m=l();if(Rc){Yi(!0);try{l()}finally{Yi(!1)}}return h.memoizedState=[m,u],m},useReducer:function(l,u,h){var m=Xn();if(h!==void 0){var w=h(u);if(Rc){Yi(!0);try{h(u)}finally{Yi(!1)}}}else w=u;return m.memoizedState=m.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},m.queue=l,l=l.dispatch=gz.bind(null,Ye,l),[m.memoizedState,l]},useRef:function(l){var u=Xn();return l={current:l},u.memoizedState=l},useState:function(l){l=dx(l);var u=l.queue,h=y4.bind(null,Ye,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:gx,useDeferredValue:function(l,u){var h=Xn();return vx(h,l,u)},useTransition:function(){var l=dx(!1);return l=h4.bind(null,Ye,l.queue,!0,!1),Xn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var m=Ye,w=Xn();if(dt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),qt===null)throw Error(n(349));(ot&127)!==0||VT(m,u,h)}w.memoizedState=h;var E={value:h,getSnapshot:u};return w.queue=E,i4($T.bind(null,m,E,l),[l]),m.flags|=2048,nf(9,{destroy:void 0},HT.bind(null,m,E,h,u),null),h},useId:function(){var l=Xn(),u=qt.identifierPrefix;if(dt){var h=mo,m=vo;h=(m&~(1<<32-Sr(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=fg++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=lz++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:yx,useFormState:JT,useActionState:JT,useOptimistic:function(l){var u=Xn();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=xx.bind(null,Ye,!0,h),h.dispatch=u,[l,u]},useMemoCache:cx,useCacheRefresh:function(){return Xn().memoizedState=pz.bind(null,Ye)},useEffectEvent:function(l){var u=Xn(),h={impl:l};return u.memoizedState=h,function(){if((Et&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},bx={readContext:_n,use:hg,useCallback:u4,useContext:_n,useEffect:px,useImperativeHandle:c4,useInsertionEffect:o4,useLayoutEffect:s4,useMemo:f4,useReducer:pg,useRef:n4,useState:function(){return pg(Ko)},useDebugValue:gx,useDeferredValue:function(l,u){var h=Ir();return d4(h,Ut.memoizedState,l,u)},useTransition:function(){var l=pg(Ko)[0],u=Ir().memoizedState;return[typeof l=="boolean"?l:th(l),u]},useSyncExternalStore:FT,useId:v4,useHostTransitionStatus:yx,useFormState:e4,useActionState:e4,useOptimistic:function(l,u){var h=Ir();return WT(h,Ut,l,u)},useMemoCache:cx,useCacheRefresh:m4};bx.useEffectEvent=a4;var _4={readContext:_n,use:hg,useCallback:u4,useContext:_n,useEffect:px,useImperativeHandle:c4,useInsertionEffect:o4,useLayoutEffect:s4,useMemo:f4,useReducer:fx,useRef:n4,useState:function(){return fx(Ko)},useDebugValue:gx,useDeferredValue:function(l,u){var h=Ir();return Ut===null?vx(h,l,u):d4(h,Ut.memoizedState,l,u)},useTransition:function(){var l=fx(Ko)[0],u=Ir().memoizedState;return[typeof l=="boolean"?l:th(l),u]},useSyncExternalStore:FT,useId:v4,useHostTransitionStatus:yx,useFormState:r4,useActionState:r4,useOptimistic:function(l,u){var h=Ir();return Ut!==null?WT(h,Ut,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:cx,useCacheRefresh:m4};_4.useEffectEvent=a4;function wx(l,u,h,m){u=l.memoizedState,h=h(m,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var _x={enqueueSetState:function(l,u,h){l=l._reactInternals;var m=Ni(),w=Qs(m);w.payload=u,h!=null&&(w.callback=h),u=Zs(l,w,m),u!==null&&(gi(u,l,m),Qd(u,l,m))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var m=Ni(),w=Qs(m);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=Zs(l,w,m),u!==null&&(gi(u,l,m),Qd(u,l,m))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=Ni(),m=Qs(h);m.tag=2,u!=null&&(m.callback=u),u=Zs(l,m,h),u!==null&&(gi(u,l,h),Qd(u,l,h))}};function A4(l,u,h,m,w,E,P){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(m,E,P):u.prototype&&u.prototype.isPureReactComponent?!Hd(h,m)||!Hd(w,E):!0}function E4(l,u,h,m){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==l&&_x.enqueueReplaceState(u,u.state,null)}function Pc(l,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var w in l)h[w]===void 0&&(h[w]=l[w])}return h}function S4(l){Y0(l)}function C4(l){console.error(l)}function T4(l){Y0(l)}function yg(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function I4(l,u,h){try{var m=l.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Ax(l,u,h){return h=Qs(h),h.tag=3,h.payload={element:null},h.callback=function(){yg(l,u)},h}function O4(l){return l=Qs(l),l.tag=3,l}function R4(l,u,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;l.payload=function(){return w(E)},l.callback=function(){I4(u,h,m)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){I4(u,h,m),typeof w!="function"&&(il===null?il=new Set([this]):il.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function vz(l,u,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&Yu(u,h,w,!0),h=Oi.current,h!==null){switch(h.tag){case 31:case 13:return aa===null?Rg():h.alternate===null&&mr===0&&(mr=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===ag?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),Kx(l,m,w)),!1;case 22:return h.flags|=65536,m===ag?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),Kx(l,m,w)),!1}throw Error(n(435,h.tag))}return Kx(l,m,w),Rg(),!1}if(dt)return u=Oi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==Vy&&(l=Error(n(422),{cause:m}),Gd(ta(l,h)))):(m!==Vy&&(u=Error(n(423),{cause:m}),Gd(ta(u,h))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,m=ta(m,h),w=Ax(l.stateNode,m,w),Jy(l,w),mr!==4&&(mr=2)),!1;var E=Error(n(520),{cause:m});if(E=ta(E,h),fh===null?fh=[E]:fh.push(E),mr!==4&&(mr=2),u===null)return!0;m=ta(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=w&-w,h.lanes|=l,l=Ax(h.stateNode,m,l),Jy(h,l),!1;case 1:if(u=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(il===null||!il.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=O4(w),R4(w,l,h,m),Jy(h,w),!1}h=h.return}while(h!==null);return!1}var Ex=Error(n(461)),zr=!1;function An(l,u,h,m){u.child=l===null?kT(u,null,h,m):Oc(u,l.child,h,m)}function P4(l,u,h,m,w){h=h.render;var E=u.ref;if("ref"in m){var P={};for(var F in m)F!=="ref"&&(P[F]=m[F])}else P=m;return Sc(u),m=ax(l,u,h,P,E,w),F=ox(),l!==null&&!zr?(sx(l,u,w),Yo(l,u,w)):(dt&&F&&Uy(u),u.flags|=1,An(l,u,m,w),u.child)}function D4(l,u,h,m,w){if(l===null){var E=h.type;return typeof E=="function"&&!Ly(E)&&E.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=E,N4(l,u,E,m,w)):(l=J0(h.type,null,m,u,u.mode,w),l.ref=u.ref,l.return=u,u.child=l)}if(E=l.child,!Dx(l,w)){var P=E.memoizedProps;if(h=h.compare,h=h!==null?h:Hd,h(P,m)&&l.ref===u.ref)return Yo(l,u,w)}return u.flags|=1,l=Ho(E,m),l.ref=u.ref,l.return=u,u.child=l}function N4(l,u,h,m,w){if(l!==null){var E=l.memoizedProps;if(Hd(E,m)&&l.ref===u.ref)if(zr=!1,u.pendingProps=m=E,Dx(l,w))(l.flags&131072)!==0&&(zr=!0);else return u.lanes=l.lanes,Yo(l,u,w)}return Sx(l,u,h,m,w)}function k4(l,u,h,m){var w=m.children,E=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,l!==null){for(m=u.child=l.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~E}else m=0,u.child=null;return M4(l,u,E,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&ng(u,E!==null?E.cachePool:null),E!==null?LT(u,E):tx(),BT(u);else return m=u.lanes=536870912,M4(l,u,E!==null?E.baseLanes|h:h,h,m)}else E!==null?(ng(u,E.cachePool),LT(u,E),el(),u.memoizedState=null):(l!==null&&ng(u,null),tx(),el());return An(l,u,w,h),u.child}function ih(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function M4(l,u,h,m,w){var E=Yy();return E=E===null?null:{parent:Lr._currentValue,pool:E},u.memoizedState={baseLanes:h,cachePool:E},l!==null&&ng(u,null),tx(),BT(u),l!==null&&Yu(l,u,m,!0),u.childLanes=w,null}function xg(l,u){return u=wg({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function j4(l,u,h){return Oc(u,l.child,null,h),l=xg(u,u.pendingProps),l.flags|=2,Ri(u),u.memoizedState=null,l}function mz(l,u,h){var m=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(dt){if(m.mode==="hidden")return l=xg(u,m),u.lanes=536870912,ih(null,l);if(nx(u),(l=Jt)?(l=K3(l,ia),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Gs!==null?{id:vo,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},h=xT(l),h.return=u,u.child=h,wn=u,Jt=null)):l=null,l===null)throw Ks(u);return u.lanes=536870912,null}return xg(u,m)}var E=l.memoizedState;if(E!==null){var P=E.dehydrated;if(nx(u),w)if(u.flags&256)u.flags&=-257,u=j4(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(zr||Yu(l,u,h,!1),w=(h&l.childLanes)!==0,zr||w){if(m=qt,m!==null&&(P=Sd(m,h),P!==0&&P!==E.retryLane))throw E.retryLane=P,wc(l,P),gi(m,l,P),Ex;Rg(),u=j4(l,u,h)}else l=E.treeContext,Jt=oa(P.nextSibling),wn=u,dt=!0,Ws=null,ia=!1,l!==null&&_T(u,l),u=xg(u,m),u.flags|=4096;return u}return l=Ho(l.child,{mode:m.mode,children:m.children}),l.ref=u.ref,u.child=l,l.return=u,l}function bg(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function Sx(l,u,h,m,w){return Sc(u),h=ax(l,u,h,m,void 0,w),m=ox(),l!==null&&!zr?(sx(l,u,w),Yo(l,u,w)):(dt&&m&&Uy(u),u.flags|=1,An(l,u,h,w),u.child)}function L4(l,u,h,m,w,E){return Sc(u),u.updateQueue=null,h=UT(u,m,h,w),zT(l),m=ox(),l!==null&&!zr?(sx(l,u,E),Yo(l,u,E)):(dt&&m&&Uy(u),u.flags|=1,An(l,u,h,E),u.child)}function B4(l,u,h,m,w){if(Sc(u),u.stateNode===null){var E=qu,P=h.contextType;typeof P=="object"&&P!==null&&(E=_n(P)),E=new h(m,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=_x,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=m,E.state=u.memoizedState,E.refs={},Qy(u),P=h.contextType,E.context=typeof P=="object"&&P!==null?_n(P):qu,E.state=u.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(wx(u,h,P,m),E.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&_x.enqueueReplaceState(E,E.state,null),Jd(u,m,E,w),Zd(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(l===null){E=u.stateNode;var F=u.memoizedProps,q=Pc(h,F);E.props=q;var ne=E.context,ce=h.contextType;P=qu,typeof ce=="object"&&ce!==null&&(P=_n(ce));var he=h.getDerivedStateFromProps;ce=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function",F=u.pendingProps!==F,ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F||ne!==P)&&E4(u,E,m,P),Xs=!1;var ie=u.memoizedState;E.state=ie,Jd(u,m,E,w),Zd(),ne=u.memoizedState,F||ie!==ne||Xs?(typeof he=="function"&&(wx(u,h,he,m),ne=u.memoizedState),(q=Xs||A4(u,h,q,m,ie,ne,P))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ne),E.props=m,E.state=ne,E.context=P,m=q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{E=u.stateNode,Zy(l,u),P=u.memoizedProps,ce=Pc(h,P),E.props=ce,he=u.pendingProps,ie=E.context,ne=h.contextType,q=qu,typeof ne=="object"&&ne!==null&&(q=_n(ne)),F=h.getDerivedStateFromProps,(ne=typeof F=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==he||ie!==q)&&E4(u,E,m,q),Xs=!1,ie=u.memoizedState,E.state=ie,Jd(u,m,E,w),Zd();var se=u.memoizedState;P!==he||ie!==se||Xs||l!==null&&l.dependencies!==null&&tg(l.dependencies)?(typeof F=="function"&&(wx(u,h,F,m),se=u.memoizedState),(ce=Xs||A4(u,h,ce,m,ie,se,q)||l!==null&&l.dependencies!==null&&tg(l.dependencies))?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,se,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,se,q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=se),E.props=m,E.state=se,E.context=q,m=ce):(typeof E.componentDidUpdate!="function"||P===l.memoizedProps&&ie===l.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&ie===l.memoizedState||(u.flags|=1024),m=!1)}return E=m,bg(l,u),m=(u.flags&128)!==0,E||m?(E=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,l!==null&&m?(u.child=Oc(u,l.child,null,w),u.child=Oc(u,null,h,w)):An(l,u,h,w),u.memoizedState=E.state,l=u.child):l=Yo(l,u,w),l}function z4(l,u,h,m){return Ac(),u.flags|=256,An(l,u,h,m),u.child}var Cx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tx(l){return{baseLanes:l,cachePool:IT()}}function Ix(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=Di),l}function U4(l,u,h){var m=u.pendingProps,w=!1,E=(u.flags&128)!==0,P;if((P=E)||(P=l!==null&&l.memoizedState===null?!1:(Tr.current&2)!==0),P&&(w=!0,u.flags&=-129),P=(u.flags&32)!==0,u.flags&=-33,l===null){if(dt){if(w?Js(u):el(),(l=Jt)?(l=K3(l,ia),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Gs!==null?{id:vo,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},h=xT(l),h.return=u,u.child=h,wn=u,Jt=null)):l=null,l===null)throw Ks(u);return u2(l)?u.lanes=32:u.lanes=536870912,null}var F=m.children;return m=m.fallback,w?(el(),w=u.mode,F=wg({mode:"hidden",children:F},w),m=_c(m,w,h,null),F.return=u,m.return=u,F.sibling=m,u.child=F,m=u.child,m.memoizedState=Tx(h),m.childLanes=Ix(l,P,h),u.memoizedState=Cx,ih(null,m)):(Js(u),Ox(u,F))}var q=l.memoizedState;if(q!==null&&(F=q.dehydrated,F!==null)){if(E)u.flags&256?(Js(u),u.flags&=-257,u=Rx(l,u,h)):u.memoizedState!==null?(el(),u.child=l.child,u.flags|=128,u=null):(el(),F=m.fallback,w=u.mode,m=wg({mode:"visible",children:m.children},w),F=_c(F,w,h,null),F.flags|=2,m.return=u,F.return=u,m.sibling=F,u.child=m,Oc(u,l.child,null,h),m=u.child,m.memoizedState=Tx(h),m.childLanes=Ix(l,P,h),u.memoizedState=Cx,u=ih(null,m));else if(Js(u),u2(F)){if(P=F.nextSibling&&F.nextSibling.dataset,P)var ne=P.dgst;P=ne,m=Error(n(419)),m.stack="",m.digest=P,Gd({value:m,source:null,stack:null}),u=Rx(l,u,h)}else if(zr||Yu(l,u,h,!1),P=(h&l.childLanes)!==0,zr||P){if(P=qt,P!==null&&(m=Sd(P,h),m!==0&&m!==q.retryLane))throw q.retryLane=m,wc(l,m),gi(P,l,m),Ex;c2(F)||Rg(),u=Rx(l,u,h)}else c2(F)?(u.flags|=192,u.child=l.child,u=null):(l=q.treeContext,Jt=oa(F.nextSibling),wn=u,dt=!0,Ws=null,ia=!1,l!==null&&_T(u,l),u=Ox(u,m.children),u.flags|=4096);return u}return w?(el(),F=m.fallback,w=u.mode,q=l.child,ne=q.sibling,m=Ho(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,ne!==null?F=Ho(ne,F):(F=_c(F,w,h,null),F.flags|=2),F.return=u,m.return=u,m.sibling=F,u.child=m,ih(null,m),m=u.child,F=l.child.memoizedState,F===null?F=Tx(h):(w=F.cachePool,w!==null?(q=Lr._currentValue,w=w.parent!==q?{parent:q,pool:q}:w):w=IT(),F={baseLanes:F.baseLanes|h,cachePool:w}),m.memoizedState=F,m.childLanes=Ix(l,P,h),u.memoizedState=Cx,ih(l.child,m)):(Js(u),h=l.child,l=h.sibling,h=Ho(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,l!==null&&(P=u.deletions,P===null?(u.deletions=[l],u.flags|=16):P.push(l)),u.child=h,u.memoizedState=null,h)}function Ox(l,u){return u=wg({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function wg(l,u){return l=Ii(22,l,null,u),l.lanes=0,l}function Rx(l,u,h){return Oc(u,l.child,null,h),l=Ox(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function F4(l,u,h){l.lanes|=u;var m=l.alternate;m!==null&&(m.lanes|=u),qy(l.return,u,h)}function Px(l,u,h,m,w,E){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:E}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=h,P.tailMode=w,P.treeForkCount=E)}function V4(l,u,h){var m=u.pendingProps,w=m.revealOrder,E=m.tail;m=m.children;var P=Tr.current,F=(P&2)!==0;if(F?(P=P&1|2,u.flags|=128):P&=1,we(Tr,P),An(l,u,m,h),m=dt?qd:0,!F&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&F4(l,h,u);else if(l.tag===19)F4(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)l=h.alternate,l!==null&&cg(l)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),Px(u,!1,w,h,E,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(l=w.alternate,l!==null&&cg(l)===null){u.child=w;break}l=w.sibling,w.sibling=h,h=w,w=l}Px(u,!0,h,null,E,m);break;case"together":Px(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function Yo(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),nl|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(Yu(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,h=Ho(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Ho(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function Dx(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&tg(l)))}function yz(l,u,h){switch(u.tag){case 3:_r(u,u.stateNode.containerInfo),Ys(u,Lr,l.memoizedState.cache),Ac();break;case 27:case 5:$e(u);break;case 4:_r(u,u.stateNode.containerInfo);break;case 10:Ys(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,nx(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Js(u),u.flags|=128,null):(h&u.child.childLanes)!==0?U4(l,u,h):(Js(u),l=Yo(l,u,h),l!==null?l.sibling:null);Js(u);break;case 19:var w=(l.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(Yu(l,u,h,!1),m=(h&u.childLanes)!==0),w){if(m)return V4(l,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),we(Tr,Tr.current),m)break;return null;case 22:return u.lanes=0,k4(l,u,h,u.pendingProps);case 24:Ys(u,Lr,l.memoizedState.cache)}return Yo(l,u,h)}function H4(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)zr=!0;else{if(!Dx(l,h)&&(u.flags&128)===0)return zr=!1,yz(l,u,h);zr=(l.flags&131072)!==0}else zr=!1,dt&&(u.flags&1048576)!==0&&wT(u,qd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(l=Tc(u.elementType),u.type=l,typeof l=="function")Ly(l)?(m=Pc(l,m),u.tag=1,u=B4(null,u,l,m,h)):(u.tag=0,u=Sx(null,u,l,m,h));else{if(l!=null){var w=l.$$typeof;if(w===N){u.tag=11,u=P4(null,u,l,m,h);break e}else if(w===R){u.tag=14,u=D4(null,u,l,m,h);break e}}throw u=Q(l)||l,Error(n(306,u,""))}}return u;case 0:return Sx(l,u,u.type,u.pendingProps,h);case 1:return m=u.type,w=Pc(m,u.pendingProps),B4(l,u,m,w,h);case 3:e:{if(_r(u,u.stateNode.containerInfo),l===null)throw Error(n(387));m=u.pendingProps;var E=u.memoizedState;w=E.element,Zy(l,u),Jd(u,m,null,h);var P=u.memoizedState;if(m=P.cache,Ys(u,Lr,m),m!==E.cache&&Gy(u,[Lr],h,!0),Zd(),m=P.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:P.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=z4(l,u,m,h);break e}else if(m!==w){w=ta(Error(n(424)),u),Gd(w),u=z4(l,u,m,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Jt=oa(l.firstChild),wn=u,dt=!0,Ws=null,ia=!0,h=kT(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ac(),m===w){u=Yo(l,u,h);break e}An(l,u,m,h)}u=u.child}return u;case 26:return bg(l,u),l===null?(h=eI(u.type,null,u.pendingProps,null))?u.memoizedState=h:dt||(h=u.type,l=u.pendingProps,m=Lg(We.current).createElement(h),m[kr]=u,m[sn]=l,En(m,h,l),Mr(m),u.stateNode=m):u.memoizedState=eI(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return $e(u),l===null&&dt&&(m=u.stateNode=Q3(u.type,u.pendingProps,We.current),wn=u,ia=!0,w=Jt,ll(u.type)?(f2=w,Jt=oa(m.firstChild)):Jt=w),An(l,u,u.pendingProps.children,h),bg(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&dt&&((w=m=Jt)&&(m=Kz(m,u.type,u.pendingProps,ia),m!==null?(u.stateNode=m,wn=u,Jt=oa(m.firstChild),ia=!1,w=!0):w=!1),w||Ks(u)),$e(u),w=u.type,E=u.pendingProps,P=l!==null?l.memoizedProps:null,m=E.children,o2(w,E)?m=null:P!==null&&o2(w,P)&&(u.flags|=32),u.memoizedState!==null&&(w=ax(l,u,cz,null,null,h),xh._currentValue=w),bg(l,u),An(l,u,m,h),u.child;case 6:return l===null&&dt&&((l=h=Jt)&&(h=Yz(h,u.pendingProps,ia),h!==null?(u.stateNode=h,wn=u,Jt=null,l=!0):l=!1),l||Ks(u)),null;case 13:return U4(l,u,h);case 4:return _r(u,u.stateNode.containerInfo),m=u.pendingProps,l===null?u.child=Oc(u,null,m,h):An(l,u,m,h),u.child;case 11:return P4(l,u,u.type,u.pendingProps,h);case 7:return An(l,u,u.pendingProps,h),u.child;case 8:return An(l,u,u.pendingProps.children,h),u.child;case 12:return An(l,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,Ys(u,u.type,m.value),An(l,u,m.children,h),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,Sc(u),w=_n(w),m=m(w),u.flags|=1,An(l,u,m,h),u.child;case 14:return D4(l,u,u.type,u.pendingProps,h);case 15:return N4(l,u,u.type,u.pendingProps,h);case 19:return V4(l,u,h);case 31:return mz(l,u,h);case 22:return k4(l,u,h,u.pendingProps);case 24:return Sc(u),m=_n(Lr),l===null?(w=Yy(),w===null&&(w=qt,E=Wy(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),u.memoizedState={parent:m,cache:w},Qy(u),Ys(u,Lr,w)):((l.lanes&h)!==0&&(Zy(l,u),Jd(u,null,null,h),Zd()),w=l.memoizedState,E=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Ys(u,Lr,m)):(m=E.cache,Ys(u,Lr,m),m!==w.cache&&Gy(u,[Lr],h,!0))),An(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Xo(l){l.flags|=4}function Nx(l,u,h,m,w){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(w&335544128)===w)if(l.stateNode.complete)l.flags|=8192;else if(v3())l.flags|=8192;else throw Ic=ag,Xy}else l.flags&=-16777217}function $4(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!aI(u))if(v3())l.flags|=8192;else throw Ic=ag,Xy}function _g(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?I0():536870912,l.lanes|=u,lf|=u)}function ah(l,u){if(!dt)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:m.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,m=0;if(u)for(var w=l.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=m,l.childLanes=h,u}function xz(l,u,h){var m=u.pendingProps;switch(Fy(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:return er(u),null;case 3:return h=u.stateNode,m=null,l!==null&&(m=l.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Go(Lr),ye(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Ku(u)?Xo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Hy())),er(u),null;case 26:var w=u.type,E=u.memoizedState;return l===null?(Xo(u),E!==null?(er(u),$4(u,E)):(er(u),Nx(u,w,null,m,h))):E?E!==l.memoizedState?(Xo(u),er(u),$4(u,E)):(er(u),u.flags&=-16777217):(l=l.memoizedProps,l!==m&&Xo(u),er(u),Nx(u,w,l,m,h)),null;case 27:if(Ze(u),h=We.current,w=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==m&&Xo(u);else{if(!m){if(u.stateNode===null)throw Error(n(166));return er(u),null}l=Se.current,Ku(u)?AT(u):(l=Q3(w,m,h),u.stateNode=l,Xo(u))}return er(u),null;case 5:if(Ze(u),w=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==m&&Xo(u);else{if(!m){if(u.stateNode===null)throw Error(n(166));return er(u),null}if(E=Se.current,Ku(u))AT(u);else{var P=Lg(We.current);switch(E){case 1:E=P.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=P.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=P.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?P.createElement(w,{is:m.is}):P.createElement(w)}}E[kr]=u,E[sn]=m;e:for(P=u.child;P!==null;){if(P.tag===5||P.tag===6)E.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===u)break e;for(;P.sibling===null;){if(P.return===null||P.return===u)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}u.stateNode=E;e:switch(En(E,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Xo(u)}}return er(u),Nx(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==m&&Xo(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(n(166));if(l=We.current,Ku(u)){if(l=u.stateNode,h=u.memoizedProps,m=null,w=wn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}l[kr]=u,l=!!(l.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||U3(l.nodeValue,h)),l||Ks(u,!0)}else l=Lg(l).createTextNode(m),l[kr]=u,u.stateNode=l}return er(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(m=Ku(u),h!==null){if(l===null){if(!m)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[kr]=u}else Ac(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),l=!1}else h=Hy(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(Ri(u),u):(Ri(u),null);if((u.flags&128)!==0)throw Error(n(558))}return er(u),null;case 13:if(m=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=Ku(u),m!==null&&m.dehydrated!==null){if(l===null){if(!w)throw Error(n(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[kr]=u}else Ac(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),w=!1}else w=Hy(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Ri(u),u):(Ri(u),null)}return Ri(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,l=l!==null&&l.memoizedState!==null,h&&(m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),_g(u,u.updateQueue),er(u),null);case 4:return ye(),l===null&&t2(u.stateNode.containerInfo),er(u),null;case 10:return Go(u.type),er(u),null;case 19:if(J(Tr),m=u.memoizedState,m===null)return er(u),null;if(w=(u.flags&128)!==0,E=m.rendering,E===null)if(w)ah(m,!1);else{if(mr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(E=cg(l),E!==null){for(u.flags|=128,ah(m,!1),l=E.updateQueue,u.updateQueue=l,_g(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)yT(h,l),h=h.sibling;return we(Tr,Tr.current&1|2),dt&&$o(u,m.treeForkCount),u.child}l=l.sibling}m.tail!==null&&Kn()>Tg&&(u.flags|=128,w=!0,ah(m,!1),u.lanes=4194304)}else{if(!w)if(l=cg(E),l!==null){if(u.flags|=128,w=!0,l=l.updateQueue,u.updateQueue=l,_g(u,l),ah(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!dt)return er(u),null}else 2*Kn()-m.renderingStartTime>Tg&&h!==536870912&&(u.flags|=128,w=!0,ah(m,!1),u.lanes=4194304);m.isBackwards?(E.sibling=u.child,u.child=E):(l=m.last,l!==null?l.sibling=E:u.child=E,m.last=E)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=Kn(),l.sibling=null,h=Tr.current,we(Tr,w?h&1|2:h&1),dt&&$o(u,m.treeForkCount),l):(er(u),null);case 22:case 23:return Ri(u),rx(),m=u.memoizedState!==null,l!==null?l.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(er(u),u.subtreeFlags&6&&(u.flags|=8192)):er(u),h=u.updateQueue,h!==null&&_g(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),l!==null&&J(Cc),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Go(Lr),er(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function bz(l,u){switch(Fy(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Go(Lr),ye(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Ze(u),null;case 31:if(u.memoizedState!==null){if(Ri(u),u.alternate===null)throw Error(n(340));Ac()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Ri(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ac()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return J(Tr),null;case 4:return ye(),null;case 10:return Go(u.type),null;case 22:case 23:return Ri(u),rx(),l!==null&&J(Cc),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Go(Lr),null;case 25:return null;default:return null}}function q4(l,u){switch(Fy(u),u.tag){case 3:Go(Lr),ye();break;case 26:case 27:case 5:Ze(u);break;case 4:ye();break;case 31:u.memoizedState!==null&&Ri(u);break;case 13:Ri(u);break;case 19:J(Tr);break;case 10:Go(u.type);break;case 22:case 23:Ri(u),rx(),l!==null&&J(Cc);break;case 24:Go(Lr)}}function oh(l,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&l)===l){m=void 0;var E=h.create,P=h.inst;m=E(),P.destroy=m}h=h.next}while(h!==w)}}catch(F){Nt(u,u.return,F)}}function tl(l,u,h){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&l)===l){var P=m.inst,F=P.destroy;if(F!==void 0){P.destroy=void 0,w=u;var q=h,ne=F;try{ne()}catch(ce){Nt(w,q,ce)}}}m=m.next}while(m!==E)}}catch(ce){Nt(u,u.return,ce)}}function G4(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{jT(u,h)}catch(m){Nt(l,l.return,m)}}}function W4(l,u,h){h.props=Pc(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(m){Nt(l,u,m)}}function sh(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var m=l.stateNode;break;case 30:m=l.stateNode;break;default:m=l.stateNode}typeof h=="function"?l.refCleanup=h(m):h.current=m}}catch(w){Nt(l,u,w)}}function yo(l,u){var h=l.ref,m=l.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Nt(l,u,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Nt(l,u,w)}else h.current=null}function K4(l){var u=l.type,h=l.memoizedProps,m=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Nt(l,l.return,w)}}function kx(l,u,h){try{var m=l.stateNode;Vz(m,l.type,h,u),m[sn]=u}catch(w){Nt(l,l.return,w)}}function Y4(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ll(l.type)||l.tag===4}function Mx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Y4(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ll(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jx(l,u,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Pa));else if(m!==4&&(m===27&&ll(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(jx(l,u,h),l=l.sibling;l!==null;)jx(l,u,h),l=l.sibling}function Ag(l,u,h){var m=l.tag;if(m===5||m===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(m!==4&&(m===27&&ll(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Ag(l,u,h),l=l.sibling;l!==null;)Ag(l,u,h),l=l.sibling}function X4(l){var u=l.stateNode,h=l.memoizedProps;try{for(var m=l.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);En(u,m,h),u[kr]=l,u[sn]=h}catch(E){Nt(l,l.return,E)}}var Qo=!1,Ur=!1,Lx=!1,Q4=typeof WeakSet=="function"?WeakSet:Set,cn=null;function wz(l,u){if(l=l.containerInfo,i2=$g,l=cT(l),Ry(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var P=0,F=-1,q=-1,ne=0,ce=0,he=l,ie=null;t:for(;;){for(var se;he!==h||w!==0&&he.nodeType!==3||(F=P+w),he!==E||m!==0&&he.nodeType!==3||(q=P+m),he.nodeType===3&&(P+=he.nodeValue.length),(se=he.firstChild)!==null;)ie=he,he=se;for(;;){if(he===l)break t;if(ie===h&&++ne===w&&(F=P),ie===E&&++ce===m&&(q=P),(se=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=se}h=F===-1||q===-1?null:{start:F,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(a2={focusedElem:l,selectionRange:h},$g=!1,cn=u;cn!==null;)if(u=cn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,cn=l;else for(;cn!==null;){switch(u=cn,E=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)w=l[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&E!==null){l=void 0,h=u,w=E.memoizedProps,E=E.memoizedState,m=h.stateNode;try{var Ie=Pc(h.type,w);l=m.getSnapshotBeforeUpdate(Ie,E),m.__reactInternalSnapshotBeforeUpdate=l}catch(Ue){Nt(h,h.return,Ue)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)l2(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":l2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,cn=l;break}cn=u.return}}function Z4(l,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Jo(l,h),m&4&&oh(5,h);break;case 1:if(Jo(l,h),m&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(P){Nt(h,h.return,P)}else{var w=Pc(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(w,u,l.__reactInternalSnapshotBeforeUpdate)}catch(P){Nt(h,h.return,P)}}m&64&&G4(h),m&512&&sh(h,h.return);break;case 3:if(Jo(l,h),m&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{jT(l,u)}catch(P){Nt(h,h.return,P)}}break;case 27:u===null&&m&4&&X4(h);case 26:case 5:Jo(l,h),u===null&&m&4&&K4(h),m&512&&sh(h,h.return);break;case 12:Jo(l,h);break;case 31:Jo(l,h),m&4&&t3(l,h);break;case 13:Jo(l,h),m&4&&r3(l,h),m&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=Rz.bind(null,h),Xz(l,h))));break;case 22:if(m=h.memoizedState!==null||Qo,!m){u=u!==null&&u.memoizedState!==null||Ur,w=Qo;var E=Ur;Qo=m,(Ur=u)&&!E?es(l,h,(h.subtreeFlags&8772)!==0):Jo(l,h),Qo=w,Ur=E}break;case 30:break;default:Jo(l,h)}}function J4(l){var u=l.alternate;u!==null&&(l.alternate=null,J4(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Pu(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ar=null,fi=!1;function Zo(l,u,h){for(h=h.child;h!==null;)e3(l,u,h),h=h.sibling}function e3(l,u,h){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ta,h)}catch{}switch(h.tag){case 26:Ur||yo(h,u),Zo(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ur||yo(h,u);var m=ar,w=fi;ll(h.type)&&(ar=h.stateNode,fi=!1),Zo(l,u,h),vh(h.stateNode),ar=m,fi=w;break;case 5:Ur||yo(h,u);case 6:if(m=ar,w=fi,ar=null,Zo(l,u,h),ar=m,fi=w,ar!==null)if(fi)try{(ar.nodeType===9?ar.body:ar.nodeName==="HTML"?ar.ownerDocument.body:ar).removeChild(h.stateNode)}catch(E){Nt(h,u,E)}else try{ar.removeChild(h.stateNode)}catch(E){Nt(h,u,E)}break;case 18:ar!==null&&(fi?(l=ar,G3(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),vf(l)):G3(ar,h.stateNode));break;case 4:m=ar,w=fi,ar=h.stateNode.containerInfo,fi=!0,Zo(l,u,h),ar=m,fi=w;break;case 0:case 11:case 14:case 15:tl(2,h,u),Ur||tl(4,h,u),Zo(l,u,h);break;case 1:Ur||(yo(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&W4(h,u,m)),Zo(l,u,h);break;case 21:Zo(l,u,h);break;case 22:Ur=(m=Ur)||h.memoizedState!==null,Zo(l,u,h),Ur=m;break;default:Zo(l,u,h)}}function t3(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{vf(l)}catch(h){Nt(u,u.return,h)}}}function r3(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{vf(l)}catch(h){Nt(u,u.return,h)}}function _z(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Q4),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Q4),u;default:throw Error(n(435,l.tag))}}function Eg(l,u){var h=_z(l);u.forEach(function(m){if(!h.has(m)){h.add(m);var w=Pz.bind(null,l,m);m.then(w,w)}})}function di(l,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],E=l,P=u,F=P;e:for(;F!==null;){switch(F.tag){case 27:if(ll(F.type)){ar=F.stateNode,fi=!1;break e}break;case 5:ar=F.stateNode,fi=!1;break e;case 3:case 4:ar=F.stateNode.containerInfo,fi=!0;break e}F=F.return}if(ar===null)throw Error(n(160));e3(E,P,w),ar=null,fi=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)n3(u,l),u=u.sibling}var La=null;function n3(l,u){var h=l.alternate,m=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:di(u,l),hi(l),m&4&&(tl(3,l,l.return),oh(3,l),tl(5,l,l.return));break;case 1:di(u,l),hi(l),m&512&&(Ur||h===null||yo(h,h.return)),m&64&&Qo&&(l=l.updateQueue,l!==null&&(m=l.callbacks,m!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=La;if(di(u,l),hi(l),m&512&&(Ur||h===null||yo(h,h.return)),m&4){var E=h!==null?h.memoizedState:null;if(m=l.memoizedState,h===null)if(m===null)if(l.stateNode===null){e:{m=l.type,h=l.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[no]||E[kr]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),En(E,m,h),E[kr]=l,Mr(E),m=E;break e;case"link":var P=nI("link","href",w).get(m+(h.href||""));if(P){for(var F=0;F<P.length;F++)if(E=P[F],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(F,1);break t}}E=w.createElement(m),En(E,m,h),w.head.appendChild(E);break;case"meta":if(P=nI("meta","content",w).get(m+(h.content||""))){for(F=0;F<P.length;F++)if(E=P[F],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(F,1);break t}}E=w.createElement(m),En(E,m,h),w.head.appendChild(E);break;default:throw Error(n(468,m))}E[kr]=l,Mr(E),m=E}l.stateNode=m}else iI(w,l.type,l.stateNode);else l.stateNode=rI(w,m,l.memoizedProps);else E!==m?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,m===null?iI(w,l.type,l.stateNode):rI(w,m,l.memoizedProps)):m===null&&l.stateNode!==null&&kx(l,l.memoizedProps,h.memoizedProps)}break;case 27:di(u,l),hi(l),m&512&&(Ur||h===null||yo(h,h.return)),h!==null&&m&4&&kx(l,l.memoizedProps,h.memoizedProps);break;case 5:if(di(u,l),hi(l),m&512&&(Ur||h===null||yo(h,h.return)),l.flags&32){w=l.stateNode;try{ui(w,"")}catch(Ie){Nt(l,l.return,Ie)}}m&4&&l.stateNode!=null&&(w=l.memoizedProps,kx(l,w,h!==null?h.memoizedProps:w)),m&1024&&(Lx=!0);break;case 6:if(di(u,l),hi(l),m&4){if(l.stateNode===null)throw Error(n(162));m=l.memoizedProps,h=l.stateNode;try{h.nodeValue=m}catch(Ie){Nt(l,l.return,Ie)}}break;case 3:if(Ug=null,w=La,La=Bg(u.containerInfo),di(u,l),La=w,hi(l),m&4&&h!==null&&h.memoizedState.isDehydrated)try{vf(u.containerInfo)}catch(Ie){Nt(l,l.return,Ie)}Lx&&(Lx=!1,i3(l));break;case 4:m=La,La=Bg(l.stateNode.containerInfo),di(u,l),hi(l),La=m;break;case 12:di(u,l),hi(l);break;case 31:di(u,l),hi(l),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,Eg(l,m)));break;case 13:di(u,l),hi(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Cg=Kn()),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,Eg(l,m)));break;case 22:w=l.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,ne=Qo,ce=Ur;if(Qo=ne||w,Ur=ce||q,di(u,l),Ur=ce,Qo=ne,hi(l),m&8192)e:for(u=l.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||q||Qo||Ur||Dc(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){q=h=u;try{if(E=q.stateNode,w)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{F=q.stateNode;var he=q.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;F.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ie){Nt(q,q.return,Ie)}}}else if(u.tag===6){if(h===null){q=u;try{q.stateNode.nodeValue=w?"":q.memoizedProps}catch(Ie){Nt(q,q.return,Ie)}}}else if(u.tag===18){if(h===null){q=u;try{var se=q.stateNode;w?W3(se,!0):W3(q.stateNode,!1)}catch(Ie){Nt(q,q.return,Ie)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=l.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Eg(l,h))));break;case 19:di(u,l),hi(l),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,Eg(l,m)));break;case 30:break;case 21:break;default:di(u,l),hi(l)}}function hi(l){var u=l.flags;if(u&2){try{for(var h,m=l.return;m!==null;){if(Y4(m)){h=m;break}m=m.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var w=h.stateNode,E=Mx(l);Ag(l,E,w);break;case 5:var P=h.stateNode;h.flags&32&&(ui(P,""),h.flags&=-33);var F=Mx(l);Ag(l,F,P);break;case 3:case 4:var q=h.stateNode.containerInfo,ne=Mx(l);jx(l,ne,q);break;default:throw Error(n(161))}}catch(ce){Nt(l,l.return,ce)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function i3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;i3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Jo(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Z4(l,u.alternate,u),u=u.sibling}function Dc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:tl(4,u,u.return),Dc(u);break;case 1:yo(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&W4(u,u.return,h),Dc(u);break;case 27:vh(u.stateNode);case 26:case 5:yo(u,u.return),Dc(u);break;case 22:u.memoizedState===null&&Dc(u);break;case 30:Dc(u);break;default:Dc(u)}l=l.sibling}}function es(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=l,E=u,P=E.flags;switch(E.tag){case 0:case 11:case 15:es(w,E,h),oh(4,E);break;case 1:if(es(w,E,h),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ne){Nt(m,m.return,ne)}if(m=E,w=m.updateQueue,w!==null){var F=m.stateNode;try{var q=w.shared.hiddenCallbacks;if(q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<q.length;w++)MT(q[w],F)}catch(ne){Nt(m,m.return,ne)}}h&&P&64&&G4(E),sh(E,E.return);break;case 27:X4(E);case 26:case 5:es(w,E,h),h&&m===null&&P&4&&K4(E),sh(E,E.return);break;case 12:es(w,E,h);break;case 31:es(w,E,h),h&&P&4&&t3(w,E);break;case 13:es(w,E,h),h&&P&4&&r3(w,E);break;case 22:E.memoizedState===null&&es(w,E,h),sh(E,E.return);break;case 30:break;default:es(w,E,h)}u=u.sibling}}function Bx(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Wd(h))}function zx(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Wd(l))}function Ba(l,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)a3(l,u,h,m),u=u.sibling}function a3(l,u,h,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Ba(l,u,h,m),w&2048&&oh(9,u);break;case 1:Ba(l,u,h,m);break;case 3:Ba(l,u,h,m),w&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Wd(l)));break;case 12:if(w&2048){Ba(l,u,h,m),l=u.stateNode;try{var E=u.memoizedProps,P=E.id,F=E.onPostCommit;typeof F=="function"&&F(P,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(q){Nt(u,u.return,q)}}else Ba(l,u,h,m);break;case 31:Ba(l,u,h,m);break;case 13:Ba(l,u,h,m);break;case 23:break;case 22:E=u.stateNode,P=u.alternate,u.memoizedState!==null?E._visibility&2?Ba(l,u,h,m):lh(l,u):E._visibility&2?Ba(l,u,h,m):(E._visibility|=2,af(l,u,h,m,(u.subtreeFlags&10256)!==0||!1)),w&2048&&Bx(P,u);break;case 24:Ba(l,u,h,m),w&2048&&zx(u.alternate,u);break;default:Ba(l,u,h,m)}}function af(l,u,h,m,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=l,P=u,F=h,q=m,ne=P.flags;switch(P.tag){case 0:case 11:case 15:af(E,P,F,q,w),oh(8,P);break;case 23:break;case 22:var ce=P.stateNode;P.memoizedState!==null?ce._visibility&2?af(E,P,F,q,w):lh(E,P):(ce._visibility|=2,af(E,P,F,q,w)),w&&ne&2048&&Bx(P.alternate,P);break;case 24:af(E,P,F,q,w),w&&ne&2048&&zx(P.alternate,P);break;default:af(E,P,F,q,w)}u=u.sibling}}function lh(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,m=u,w=m.flags;switch(m.tag){case 22:lh(h,m),w&2048&&Bx(m.alternate,m);break;case 24:lh(h,m),w&2048&&zx(m.alternate,m);break;default:lh(h,m)}u=u.sibling}}var ch=8192;function of(l,u,h){if(l.subtreeFlags&ch)for(l=l.child;l!==null;)o3(l,u,h),l=l.sibling}function o3(l,u,h){switch(l.tag){case 26:of(l,u,h),l.flags&ch&&l.memoizedState!==null&&lU(h,La,l.memoizedState,l.memoizedProps);break;case 5:of(l,u,h);break;case 3:case 4:var m=La;La=Bg(l.stateNode.containerInfo),of(l,u,h),La=m;break;case 22:l.memoizedState===null&&(m=l.alternate,m!==null&&m.memoizedState!==null?(m=ch,ch=16777216,of(l,u,h),ch=m):of(l,u,h));break;default:of(l,u,h)}}function s3(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function uh(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];cn=m,c3(m,l)}s3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)l3(l),l=l.sibling}function l3(l){switch(l.tag){case 0:case 11:case 15:uh(l),l.flags&2048&&tl(9,l,l.return);break;case 3:uh(l);break;case 12:uh(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Sg(l)):uh(l);break;default:uh(l)}}function Sg(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];cn=m,c3(m,l)}s3(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:tl(8,u,u.return),Sg(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Sg(u));break;default:Sg(u)}l=l.sibling}}function c3(l,u){for(;cn!==null;){var h=cn;switch(h.tag){case 0:case 11:case 15:tl(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wd(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,cn=m;else e:for(h=l;cn!==null;){m=cn;var w=m.sibling,E=m.return;if(J4(m),m===h){cn=null;break e}if(w!==null){w.return=E,cn=w;break e}cn=E}}}var Az={getCacheForType:function(l){var u=_n(Lr),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return _n(Lr).controller.signal}},Ez=typeof WeakMap=="function"?WeakMap:Map,Et=0,qt=null,rt=null,ot=0,Dt=0,Pi=null,rl=!1,sf=!1,Ux=!1,ts=0,mr=0,nl=0,Nc=0,Fx=0,Di=0,lf=0,fh=null,pi=null,Vx=!1,Cg=0,u3=0,Tg=1/0,Ig=null,il=null,Kr=0,al=null,cf=null,rs=0,Hx=0,$x=null,f3=null,dh=0,qx=null;function Ni(){return(Et&2)!==0&&ot!==0?ot&-ot:Y.T!==null?Qx():O0()}function d3(){if(Di===0)if((ot&536870912)===0||dt){var l=oc;oc<<=1,(oc&3932160)===0&&(oc=262144),Di=l}else Di=536870912;return l=Oi.current,l!==null&&(l.flags|=32),Di}function gi(l,u,h){(l===qt&&(Dt===2||Dt===9)||l.cancelPendingCommit!==null)&&(uf(l,0),ol(l,ot,Di,!1)),sc(l,h),((Et&2)===0||l!==qt)&&(l===qt&&((Et&2)===0&&(Nc|=h),mr===4&&ol(l,ot,Di,!1)),xo(l))}function h3(l,u,h){if((Et&6)!==0)throw Error(n(327));var m=!h&&(u&127)===0&&(u&l.expiredLanes)===0||Ia(l,u),w=m?Tz(l,u):Wx(l,u,!0),E=m;do{if(w===0){sf&&!m&&ol(l,u,0,!1);break}else{if(h=l.current.alternate,E&&!Sz(h)){w=Wx(l,u,!1),E=!1;continue}if(w===2){if(E=u,l.errorRecoveryDisabledLanes&E)var P=0;else P=l.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){u=P;e:{var F=l;w=fh;var q=F.current.memoizedState.isDehydrated;if(q&&(uf(F,P).flags|=256),P=Wx(F,P,!1),P!==2){if(Ux&&!q){F.errorRecoveryDisabledLanes|=E,Nc|=E,w=4;break e}E=pi,pi=w,E!==null&&(pi===null?pi=E:pi.push.apply(pi,E))}w=P}if(E=!1,w!==2)continue}}if(w===1){uf(l,0),ol(l,u,0,!0);break}e:{switch(m=l,E=w,E){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:ol(m,u,Di,!rl);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(w=Cg+300-Kn(),10<w)){if(ol(m,u,Di,!rl),eo(m,0,!0)!==0)break e;rs=u,m.timeoutHandle=$3(p3.bind(null,m,h,pi,Ig,Vx,u,Di,Nc,lf,rl,E,"Throttled",-0,0),w);break e}p3(m,h,pi,Ig,Vx,u,Di,Nc,lf,rl,E,null,-0,0)}}break}while(!0);xo(l)}function p3(l,u,h,m,w,E,P,F,q,ne,ce,he,ie,se){if(l.timeoutHandle=-1,he=u.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},o3(u,E,he);var Ie=(E&62914560)===E?Cg-Kn():(E&4194048)===E?u3-Kn():0;if(Ie=cU(he,Ie),Ie!==null){rs=E,l.cancelPendingCommit=Ie(_3.bind(null,l,u,E,h,m,w,P,F,q,ce,he,null,ie,se)),ol(l,E,P,!ne);return}}_3(l,u,E,h,m,w,P,F,q)}function Sz(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],E=w.getSnapshot;w=w.value;try{if(!Ti(E(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ol(l,u,h,m){u&=~Fx,u&=~Nc,l.suspendedLanes|=u,l.pingedLanes&=~u,m&&(l.warmLanes|=u),m=l.expirationTimes;for(var w=u;0<w;){var E=31-Sr(w),P=1<<E;m[E]=-1,w&=~P}h!==0&&lc(l,h,u)}function Og(){return(Et&6)===0?(hh(0),!1):!0}function Gx(){if(rt!==null){if(Dt===0)var l=rt.return;else l=rt,qo=Ec=null,lx(l),Ju=null,Yd=0,l=rt;for(;l!==null;)q4(l.alternate,l),l=l.return;rt=null}}function uf(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,qz(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),rs=0,Gx(),qt=l,rt=h=Ho(l.current,null),ot=u,Dt=0,Pi=null,rl=!1,sf=Ia(l,u),Ux=!1,lf=Di=Fx=Nc=nl=mr=0,pi=fh=null,Vx=!1,(u&8)!==0&&(u|=u&32);var m=l.entangledLanes;if(m!==0)for(l=l.entanglements,m&=u;0<m;){var w=31-Sr(m),E=1<<w;u|=l[w],m&=~E}return ts=u,X0(),h}function g3(l,u){Ye=null,Y.H=nh,u===Zu||u===ig?(u=PT(),Dt=3):u===Xy?(u=PT(),Dt=4):Dt=u===Ex?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pi=u,rt===null&&(mr=1,yg(l,ta(u,l.current)))}function v3(){var l=Oi.current;return l===null?!0:(ot&4194048)===ot?aa===null:(ot&62914560)===ot||(ot&536870912)!==0?l===aa:!1}function m3(){var l=Y.H;return Y.H=nh,l===null?nh:l}function y3(){var l=Y.A;return Y.A=Az,l}function Rg(){mr=4,rl||(ot&4194048)!==ot&&Oi.current!==null||(sf=!0),(nl&134217727)===0&&(Nc&134217727)===0||qt===null||ol(qt,ot,Di,!1)}function Wx(l,u,h){var m=Et;Et|=2;var w=m3(),E=y3();(qt!==l||ot!==u)&&(Ig=null,uf(l,u)),u=!1;var P=mr;e:do try{if(Dt!==0&&rt!==null){var F=rt,q=Pi;switch(Dt){case 8:Gx(),P=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(u=!0);var ne=Dt;if(Dt=0,Pi=null,ff(l,F,q,ne),h&&sf){P=0;break e}break;default:ne=Dt,Dt=0,Pi=null,ff(l,F,q,ne)}}Cz(),P=mr;break}catch(ce){g3(l,ce)}while(!0);return u&&l.shellSuspendCounter++,qo=Ec=null,Et=m,Y.H=w,Y.A=E,rt===null&&(qt=null,ot=0,X0()),P}function Cz(){for(;rt!==null;)x3(rt)}function Tz(l,u){var h=Et;Et|=2;var m=m3(),w=y3();qt!==l||ot!==u?(Ig=null,Tg=Kn()+500,uf(l,u)):sf=Ia(l,u);e:do try{if(Dt!==0&&rt!==null){u=rt;var E=Pi;t:switch(Dt){case 1:Dt=0,Pi=null,ff(l,u,E,1);break;case 2:case 9:if(OT(E)){Dt=0,Pi=null,b3(u);break}u=function(){Dt!==2&&Dt!==9||qt!==l||(Dt=7),xo(l)},E.then(u,u);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:OT(E)?(Dt=0,Pi=null,b3(u)):(Dt=0,Pi=null,ff(l,u,E,7));break;case 5:var P=null;switch(rt.tag){case 26:P=rt.memoizedState;case 5:case 27:var F=rt;if(P?aI(P):F.stateNode.complete){Dt=0,Pi=null;var q=F.sibling;if(q!==null)rt=q;else{var ne=F.return;ne!==null?(rt=ne,Pg(ne)):rt=null}break t}}Dt=0,Pi=null,ff(l,u,E,5);break;case 6:Dt=0,Pi=null,ff(l,u,E,6);break;case 8:Gx(),mr=6;break e;default:throw Error(n(462))}}Iz();break}catch(ce){g3(l,ce)}while(!0);return qo=Ec=null,Y.H=m,Y.A=w,Et=h,rt!==null?0:(qt=null,ot=0,X0(),mr)}function Iz(){for(;rt!==null&&!Ay();)x3(rt)}function x3(l){var u=H4(l.alternate,l,ts);l.memoizedProps=l.pendingProps,u===null?Pg(l):rt=u}function b3(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=L4(h,u,u.pendingProps,u.type,void 0,ot);break;case 11:u=L4(h,u,u.pendingProps,u.type.render,u.ref,ot);break;case 5:lx(u);default:q4(h,u),u=rt=yT(u,ts),u=H4(h,u,ts)}l.memoizedProps=l.pendingProps,u===null?Pg(l):rt=u}function ff(l,u,h,m){qo=Ec=null,lx(u),Ju=null,Yd=0;var w=u.return;try{if(vz(l,w,u,h,ot)){mr=1,yg(l,ta(h,l.current)),rt=null;return}}catch(E){if(w!==null)throw rt=w,E;mr=1,yg(l,ta(h,l.current)),rt=null;return}u.flags&32768?(dt||m===1?l=!0:sf||(ot&536870912)!==0?l=!1:(rl=l=!0,(m===2||m===9||m===3||m===6)&&(m=Oi.current,m!==null&&m.tag===13&&(m.flags|=16384))),w3(u,l)):Pg(u)}function Pg(l){var u=l;do{if((u.flags&32768)!==0){w3(u,rl);return}l=u.return;var h=xz(u.alternate,u,ts);if(h!==null){rt=h;return}if(u=u.sibling,u!==null){rt=u;return}rt=u=l}while(u!==null);mr===0&&(mr=5)}function w3(l,u){do{var h=bz(l.alternate,l);if(h!==null){h.flags&=32767,rt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){rt=l;return}rt=l=h}while(l!==null);mr=6,rt=null}function _3(l,u,h,m,w,E,P,F,q){l.cancelPendingCommit=null;do Dg();while(Kr!==0);if((Et&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(E=u.lanes|u.childLanes,E|=My,Cy(l,h,E,P,F,q),l===qt&&(rt=qt=null,ot=0),cf=u,al=l,rs=h,Hx=E,$x=w,f3=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Dz(js,function(){return T3(),null})):(l.callbackNode=null,l.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,w=re.p,re.p=2,P=Et,Et|=4;try{wz(l,u,h)}finally{Et=P,re.p=w,Y.T=m}}Kr=1,A3(),E3(),S3()}}function A3(){if(Kr===1){Kr=0;var l=al,u=cf,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var m=re.p;re.p=2;var w=Et;Et|=4;try{n3(u,l);var E=a2,P=cT(l.containerInfo),F=E.focusedElem,q=E.selectionRange;if(P!==F&&F&&F.ownerDocument&&lT(F.ownerDocument.documentElement,F)){if(q!==null&&Ry(F)){var ne=q.start,ce=q.end;if(ce===void 0&&(ce=ne),"selectionStart"in F)F.selectionStart=ne,F.selectionEnd=Math.min(ce,F.value.length);else{var he=F.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),Ie=F.textContent.length,Ue=Math.min(q.start,Ie),Vt=q.end===void 0?Ue:Math.min(q.end,Ie);!se.extend&&Ue>Vt&&(P=Vt,Vt=Ue,Ue=P);var X=sT(F,Ue),W=sT(F,Vt);if(X&&W&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var te=he.createRange();te.setStart(X.node,X.offset),se.removeAllRanges(),Ue>Vt?(se.addRange(te),se.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),se.addRange(te))}}}}for(he=[],se=F;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<he.length;F++){var fe=he[F];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}$g=!!i2,a2=i2=null}finally{Et=w,re.p=m,Y.T=h}}l.current=u,Kr=2}}function E3(){if(Kr===2){Kr=0;var l=al,u=cf,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var m=re.p;re.p=2;var w=Et;Et|=4;try{Z4(l,u.alternate,u)}finally{Et=w,re.p=m,Y.T=h}}Kr=3}}function S3(){if(Kr===4||Kr===3){Kr=0,_0();var l=al,u=cf,h=rs,m=f3;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Kr=5:(Kr=0,cf=al=null,C3(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(il=null),zo(h),u=u.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ta,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=Y.T,w=re.p,re.p=2,Y.T=null;try{for(var E=l.onRecoverableError,P=0;P<m.length;P++){var F=m[P];E(F.value,{componentStack:F.stack})}}finally{Y.T=u,re.p=w}}(rs&3)!==0&&Dg(),xo(l),w=l.pendingLanes,(h&261930)!==0&&(w&42)!==0?l===qx?dh++:(dh=0,qx=l):dh=0,hh(0)}}function C3(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Wd(u)))}function Dg(){return A3(),E3(),S3(),T3()}function T3(){if(Kr!==5)return!1;var l=al,u=Hx;Hx=0;var h=zo(rs),m=Y.T,w=re.p;try{re.p=32>h?32:h,Y.T=null,h=$x,$x=null;var E=al,P=rs;if(Kr=0,cf=al=null,rs=0,(Et&6)!==0)throw Error(n(331));var F=Et;if(Et|=4,l3(E.current),a3(E,E.current,P,h),Et=F,hh(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ta,E)}catch{}return!0}finally{re.p=w,Y.T=m,C3(l,u)}}function I3(l,u,h){u=ta(h,u),u=Ax(l.stateNode,u,2),l=Zs(l,u,2),l!==null&&(sc(l,2),xo(l))}function Nt(l,u,h){if(l.tag===3)I3(l,l,h);else for(;u!==null;){if(u.tag===3){I3(u,l,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(il===null||!il.has(m))){l=ta(h,l),h=O4(2),m=Zs(u,h,2),m!==null&&(R4(h,m,u,l),sc(m,2),xo(m));break}}u=u.return}}function Kx(l,u,h){var m=l.pingCache;if(m===null){m=l.pingCache=new Ez;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(h)||(Ux=!0,w.add(h),l=Oz.bind(null,l,u,h),u.then(l,l))}function Oz(l,u,h){var m=l.pingCache;m!==null&&m.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,qt===l&&(ot&h)===h&&(mr===4||mr===3&&(ot&62914560)===ot&&300>Kn()-Cg?(Et&2)===0&&uf(l,0):Fx|=h,lf===ot&&(lf=0)),xo(l)}function O3(l,u){u===0&&(u=I0()),l=wc(l,u),l!==null&&(sc(l,u),xo(l))}function Rz(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),O3(l,h)}function Pz(l,u){var h=0;switch(l.tag){case 31:case 13:var m=l.stateNode,w=l.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=l.stateNode;break;case 22:m=l.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(u),O3(l,h)}function Dz(l,u){return Wr(l,u)}var Ng=null,df=null,Yx=!1,kg=!1,Xx=!1,sl=0;function xo(l){l!==df&&l.next===null&&(df===null?Ng=df=l:df=df.next=l),kg=!0,Yx||(Yx=!0,kz())}function hh(l,u){if(!Xx&&kg){Xx=!0;do for(var h=!1,m=Ng;m!==null;){if(l!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var P=m.suspendedLanes,F=m.pingedLanes;E=(1<<31-Sr(42|l)+1)-1,E&=w&~(P&~F),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,N3(m,E))}else E=ot,E=eo(m,m===qt?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||Ia(m,E)||(h=!0,N3(m,E));m=m.next}while(h);Xx=!1}}function Nz(){R3()}function R3(){kg=Yx=!1;var l=0;sl!==0&&$z()&&(l=sl);for(var u=Kn(),h=null,m=Ng;m!==null;){var w=m.next,E=P3(m,u);E===0?(m.next=null,h===null?Ng=w:h.next=w,w===null&&(df=h)):(h=m,(l!==0||(E&3)!==0)&&(kg=!0)),m=w}Kr!==0&&Kr!==5||hh(l),sl!==0&&(sl=0)}function P3(l,u){for(var h=l.suspendedLanes,m=l.pingedLanes,w=l.expirationTimes,E=l.pendingLanes&-62914561;0<E;){var P=31-Sr(E),F=1<<P,q=w[P];q===-1?((F&h)===0||(F&m)!==0)&&(w[P]=Sy(F,u)):q<=u&&(l.expiredLanes|=F),E&=~F}if(u=qt,h=ot,h=eo(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m=l.callbackNode,h===0||l===u&&(Dt===2||Dt===9)||l.cancelPendingCommit!==null)return m!==null&&m!==null&&Ms(m),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||Ia(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(m!==null&&Ms(m),zo(h)){case 2:case 8:h=Ad;break;case 32:h=js;break;case 268435456:h=A0;break;default:h=js}return m=D3.bind(null,l),h=Wr(h,m),l.callbackPriority=u,l.callbackNode=h,u}return m!==null&&m!==null&&Ms(m),l.callbackPriority=2,l.callbackNode=null,2}function D3(l,u){if(Kr!==0&&Kr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(Dg()&&l.callbackNode!==h)return null;var m=ot;return m=eo(l,l===qt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m===0?null:(h3(l,m,u),P3(l,Kn()),l.callbackNode!=null&&l.callbackNode===h?D3.bind(null,l):null)}function N3(l,u){if(Dg())return null;h3(l,u,!0)}function kz(){Gz(function(){(Et&6)!==0?Wr(_d,Nz):R3()})}function Qx(){if(sl===0){var l=Xu;l===0&&(l=Za,Za<<=1,(Za&261888)===0&&(Za=256)),sl=l}return sl}function k3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Mu(""+l)}function M3(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function Mz(l,u,h,m,w){if(u==="submit"&&h&&h.stateNode===w){var E=k3((w[sn]||null).action),P=m.submitter;P&&(u=(u=P[sn]||null)?k3(u.formAction):P.getAttribute("formAction"),u!==null&&(E=u,P=null));var F=new fo("action","action",null,m,w);l.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(sl!==0){var q=P?M3(w,P):new FormData(w);mx(h,{pending:!0,data:q,method:w.method,action:E},null,q)}}else typeof E=="function"&&(F.preventDefault(),q=P?M3(w,P):new FormData(w),mx(h,{pending:!0,data:q,method:w.method,action:E},E,q))},currentTarget:w}]})}}for(var Zx=0;Zx<ky.length;Zx++){var Jx=ky[Zx],jz=Jx.toLowerCase(),Lz=Jx[0].toUpperCase()+Jx.slice(1);ja(jz,"on"+Lz)}ja(dT,"onAnimationEnd"),ja(hT,"onAnimationIteration"),ja(pT,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(JB,"onTransitionRun"),ja(ez,"onTransitionStart"),ja(tz,"onTransitionCancel"),ja(gT,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function j3(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var m=l[h],w=m.event;m=m.listeners;e:{var E=void 0;if(u)for(var P=m.length-1;0<=P;P--){var F=m[P],q=F.instance,ne=F.currentTarget;if(F=F.listener,q!==E&&w.isPropagationStopped())break e;E=F,w.currentTarget=ne;try{E(w)}catch(ce){Y0(ce)}w.currentTarget=null,E=q}else for(P=0;P<m.length;P++){if(F=m[P],q=F.instance,ne=F.currentTarget,F=F.listener,q!==E&&w.isPropagationStopped())break e;E=F,w.currentTarget=ne;try{E(w)}catch(ce){Y0(ce)}w.currentTarget=null,E=q}}}}function nt(l,u){var h=u[Ru];h===void 0&&(h=u[Ru]=new Set);var m=l+"__bubble";h.has(m)||(L3(u,l,2,!1),h.add(m))}function e2(l,u,h){var m=0;u&&(m|=4),L3(h,l,m,u)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function t2(l){if(!l[Mg]){l[Mg]=!0,Cd.forEach(function(h){h!=="selectionchange"&&(Bz.has(h)||e2(h,!1,l),e2(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Mg]||(u[Mg]=!0,e2("selectionchange",!1,u))}}function L3(l,u,h,m){switch(dI(u)){case 2:var w=dU;break;case 8:w=hU;break;default:w=v2}h=w.bind(null,u,h,l),w=void 0,!hc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?l.addEventListener(u,h,{capture:!0,passive:w}):l.addEventListener(u,h,!0):w!==void 0?l.addEventListener(u,h,{passive:w}):l.addEventListener(u,h,!1)}function r2(l,u,h,m,w){var E=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var F=m.stateNode.containerInfo;if(F===w)break;if(P===4)for(P=m.return;P!==null;){var q=P.tag;if((q===3||q===4)&&P.stateNode.containerInfo===w)return;P=P.return}for(;F!==null;){if(P=io(F),P===null)return;if(q=P.tag,q===5||q===6||q===26||q===27){m=E=P;continue e}F=F.parentNode}}m=m.return}Vs(function(){var ne=E,ce=Qi(h),he=[];e:{var ie=vT.get(l);if(ie!==void 0){var se=fo,Ie=l;switch(l){case"keypress":if(gc(h)===0)break e;case"keydown":case"keyup":se=G0;break;case"focusin":Ie="focus",se=mc;break;case"focusout":Ie="blur",se=mc;break;case"beforeblur":case"afterblur":se=mc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=I;break;case dT:case hT:case pT:se=z0;break;case gT:se=H;break;case"scroll":case"scrollend":se=Bd;break;case"wheel":se=oe;break;case"copy":case"cut":case"paste":se=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Vo;break;case"toggle":case"beforetoggle":se=Ke}var Ue=(u&4)!==0,Vt=!Ue&&(l==="scroll"||l==="scrollend"),X=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var W=ne,te;W!==null;){var fe=W;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||X===null||(fe=Da(W,X),fe!=null&&Ue.push(gh(W,fe,te))),Vt)break;W=W.return}0<Ue.length&&(ie=new se(ie,Ie,null,h,ce),he.push({event:ie,listeners:Ue}))}}if((u&7)===0){e:{if(ie=l==="mouseover"||l==="pointerover",se=l==="mouseout"||l==="pointerout",ie&&h!==Md&&(Ie=h.relatedTarget||h.fromElement)&&(io(Ie)||Ie[ro]))break e;if((se||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(Ie=h.relatedTarget||h.toElement,se=ne,Ie=Ie?io(Ie):null,Ie!==null&&(Vt=a(Ie),Ue=Ie.tag,Ie!==Vt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ie=null)):(se=null,Ie=ne),se!==Ie)){if(Ue=zd,fe="onMouseLeave",X="onMouseEnter",W="mouse",(l==="pointerout"||l==="pointerover")&&(Ue=Vo,fe="onPointerLeave",X="onPointerEnter",W="pointer"),Vt=se==null?ie:Si(se),te=Ie==null?ie:Si(Ie),ie=new Ue(fe,W+"leave",se,h,ce),ie.target=Vt,ie.relatedTarget=te,fe=null,io(ce)===ne&&(Ue=new Ue(X,W+"enter",Ie,h,ce),Ue.target=te,Ue.relatedTarget=Vt,fe=Ue),Vt=fe,se&&Ie)t:{for(Ue=zz,X=se,W=Ie,te=0,fe=X;fe;fe=Ue(fe))te++;fe=0;for(var Me=W;Me;Me=Ue(Me))fe++;for(;0<te-fe;)X=Ue(X),te--;for(;0<fe-te;)W=Ue(W),fe--;for(;te--;){if(X===W||W!==null&&X===W.alternate){Ue=X;break t}X=Ue(X),W=Ue(W)}Ue=null}else Ue=null;se!==null&&B3(he,ie,se,Ue,!1),Ie!==null&&Vt!==null&&B3(he,Vt,Ie,Ue,!0)}}e:{if(ie=ne?Si(ne):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var yt=tT;else if(JC(ie))if(rT)yt=XB;else{yt=KB;var De=WB}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&ku(ne.elementType)&&(yt=tT):yt=YB;if(yt&&(yt=yt(l,ne))){eT(he,yt,h,ce);break e}De&&De(l,ie,ne),l==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&Dd(ie,"number",ie.value)}switch(De=ne?Si(ne):window,l){case"focusin":(JC(De)||De.contentEditable==="true")&&(Vu=De,Py=ne,$d=null);break;case"focusout":$d=Py=Vu=null;break;case"mousedown":Dy=!0;break;case"contextmenu":case"mouseup":case"dragend":Dy=!1,uT(he,h,ce);break;case"selectionchange":if(ZB)break;case"keydown":case"keyup":uT(he,h,ce)}var Xe;if(At)e:{switch(l){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Fu?yc(l,h)&&(st="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(st="onCompositionStart");st&&(go&&h.locale!=="ko"&&(Fu||st!=="onCompositionStart"?st==="onCompositionEnd"&&Fu&&(Xe=Ld()):(uo=ce,jd="value"in uo?uo.value:uo.textContent,Fu=!0)),De=jg(ne,st),0<De.length&&(st=new po(st,l,null,h,ce),he.push({event:st,listeners:De}),Xe?st.data=Xe:(Xe=Uu(h),Xe!==null&&(st.data=Xe)))),(Xe=Ji?HB(l,h):$B(l,h))&&(st=jg(ne,"onBeforeInput"),0<st.length&&(De=new po("onBeforeInput","beforeinput",null,h,ce),he.push({event:De,listeners:st}),De.data=Xe)),Mz(he,l,ne,h,ce)}j3(he,u)})}function gh(l,u,h){return{instance:l,listener:u,currentTarget:h}}function jg(l,u){for(var h=u+"Capture",m=[];l!==null;){var w=l,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Da(l,h),w!=null&&m.unshift(gh(l,w,E)),w=Da(l,u),w!=null&&m.push(gh(l,w,E))),l.tag===3)return m;l=l.return}return[]}function zz(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function B3(l,u,h,m,w){for(var E=u._reactName,P=[];h!==null&&h!==m;){var F=h,q=F.alternate,ne=F.stateNode;if(F=F.tag,q!==null&&q===m)break;F!==5&&F!==26&&F!==27||ne===null||(q=ne,w?(ne=Da(h,E),ne!=null&&P.unshift(gh(h,ne,q))):w||(ne=Da(h,E),ne!=null&&P.push(gh(h,ne,q)))),h=h.return}P.length!==0&&l.push({event:u,listeners:P})}var Uz=/\r\n?/g,Fz=/\u0000|\uFFFD/g;function z3(l){return(typeof l=="string"?l:""+l).replace(Uz,`
`).replace(Fz,"")}function U3(l,u){return u=z3(u),z3(l)===u}function Ft(l,u,h,m,w,E){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||ui(l,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&ui(l,""+m);break;case"className":Ci(l,"class",m);break;case"tabIndex":Ci(l,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(l,h,m);break;case"style":kd(l,m,E);break;case"data":if(u!=="object"){Ci(l,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(h);break}m=Mu(""+m),l.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(u!=="input"&&Ft(l,u,"name",w.name,w,null),Ft(l,u,"formEncType",w.formEncType,w,null),Ft(l,u,"formMethod",w.formMethod,w,null),Ft(l,u,"formTarget",w.formTarget,w,null)):(Ft(l,u,"encType",w.encType,w,null),Ft(l,u,"method",w.method,w,null),Ft(l,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(h);break}m=Mu(""+m),l.setAttribute(h,m);break;case"onClick":m!=null&&(l.onclick=Pa);break;case"onScroll":m!=null&&nt("scroll",l);break;case"onScrollEnd":m!=null&&nt("scrollend",l);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"multiple":l.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":l.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){l.removeAttribute("xlink:href");break}h=Mu(""+m),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(h,""+m):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":m===!0?l.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(h,m):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?l.setAttribute(h,m):l.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?l.removeAttribute(h):l.setAttribute(h,m);break;case"popover":nt("beforetoggle",l),nt("toggle",l),Du(l,"popover",m);break;case"xlinkActuate":jr(l,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":jr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":jr(l,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":jr(l,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":jr(l,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":jr(l,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":jr(l,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":jr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":jr(l,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Du(l,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=j0.get(h)||h,Du(l,h,m))}}function n2(l,u,h,m,w,E){switch(h){case"style":kd(l,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"children":typeof m=="string"?ui(l,m):(typeof m=="number"||typeof m=="bigint")&&ui(l,""+m);break;case"onScroll":m!=null&&nt("scroll",l);break;case"onScrollEnd":m!=null&&nt("scrollend",l);break;case"onClick":m!=null&&(l.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Td.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),E=l[sn]||null,E=E!=null?E[h]:null,typeof E=="function"&&l.removeEventListener(u,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,m,w);break e}h in l?l[h]=m:m===!0?l.setAttribute(h,""):Du(l,h,m)}}}function En(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",l),nt("load",l);var m=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var P=h[E];if(P!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Ft(l,u,E,P,h,null)}}w&&Ft(l,u,"srcSet",h.srcSet,h,null),m&&Ft(l,u,"src",h.src,h,null);return;case"input":nt("invalid",l);var F=E=P=w=null,q=null,ne=null;for(m in h)if(h.hasOwnProperty(m)){var ce=h[m];if(ce!=null)switch(m){case"name":w=ce;break;case"type":P=ce;break;case"checked":q=ce;break;case"defaultChecked":ne=ce;break;case"value":E=ce;break;case"defaultValue":F=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,u));break;default:Ft(l,u,m,ce,h,null)}}N0(l,E,F,q,ne,P,w,!1);return;case"select":nt("invalid",l),m=P=E=null;for(w in h)if(h.hasOwnProperty(w)&&(F=h[w],F!=null))switch(w){case"value":E=F;break;case"defaultValue":P=F;break;case"multiple":m=F;default:Ft(l,u,w,F,h,null)}u=E,h=P,l.multiple=!!m,u!=null?Bs(l,!!m,u,!1):h!=null&&Bs(l,!!m,h,!0);return;case"textarea":nt("invalid",l),E=w=m=null;for(P in h)if(h.hasOwnProperty(P)&&(F=h[P],F!=null))switch(P){case"value":m=F;break;case"defaultValue":w=F;break;case"children":E=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(n(91));break;default:Ft(l,u,P,F,h,null)}zs(l,m,w,E);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(m=h[q],m!=null))switch(q){case"selected":l.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ft(l,u,q,m,h,null)}return;case"dialog":nt("beforetoggle",l),nt("toggle",l),nt("cancel",l),nt("close",l);break;case"iframe":case"object":nt("load",l);break;case"video":case"audio":for(m=0;m<ph.length;m++)nt(ph[m],l);break;case"image":nt("error",l),nt("load",l);break;case"details":nt("toggle",l);break;case"embed":case"source":case"link":nt("error",l),nt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in h)if(h.hasOwnProperty(ne)&&(m=h[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Ft(l,u,ne,m,h,null)}return;default:if(ku(u)){for(ce in h)h.hasOwnProperty(ce)&&(m=h[ce],m!==void 0&&n2(l,u,ce,m,h,void 0));return}}for(F in h)h.hasOwnProperty(F)&&(m=h[F],m!=null&&Ft(l,u,F,m,h,null))}function Vz(l,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,P=null,F=null,q=null,ne=null,ce=null;for(se in h){var he=h[se];if(h.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=he;default:m.hasOwnProperty(se)||Ft(l,u,se,null,m,he)}}for(var ie in m){var se=m[ie];if(he=h[ie],m.hasOwnProperty(ie)&&(se!=null||he!=null))switch(ie){case"type":E=se;break;case"name":w=se;break;case"checked":ne=se;break;case"defaultChecked":ce=se;break;case"value":P=se;break;case"defaultValue":F=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,u));break;default:se!==he&&Ft(l,u,ie,se,m,he)}}Nu(l,P,F,q,ne,ce,E,w);return;case"select":se=P=F=ie=null;for(E in h)if(q=h[E],h.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":se=q;default:m.hasOwnProperty(E)||Ft(l,u,E,null,m,q)}for(w in m)if(E=m[w],q=h[w],m.hasOwnProperty(w)&&(E!=null||q!=null))switch(w){case"value":ie=E;break;case"defaultValue":F=E;break;case"multiple":P=E;default:E!==q&&Ft(l,u,w,E,m,q)}u=F,h=P,m=se,ie!=null?Bs(l,!!h,ie,!1):!!m!=!!h&&(u!=null?Bs(l,!!h,u,!0):Bs(l,!!h,h?[]:"",!1));return;case"textarea":se=ie=null;for(F in h)if(w=h[F],h.hasOwnProperty(F)&&w!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Ft(l,u,F,null,m,w)}for(P in m)if(w=m[P],E=h[P],m.hasOwnProperty(P)&&(w!=null||E!=null))switch(P){case"value":ie=w;break;case"defaultValue":se=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==E&&Ft(l,u,P,w,m,E)}k0(l,ie,se);return;case"option":for(var Ie in h)if(ie=h[Ie],h.hasOwnProperty(Ie)&&ie!=null&&!m.hasOwnProperty(Ie))switch(Ie){case"selected":l.selected=!1;break;default:Ft(l,u,Ie,null,m,ie)}for(q in m)if(ie=m[q],se=h[q],m.hasOwnProperty(q)&&ie!==se&&(ie!=null||se!=null))switch(q){case"selected":l.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ft(l,u,q,ie,m,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in h)ie=h[Ue],h.hasOwnProperty(Ue)&&ie!=null&&!m.hasOwnProperty(Ue)&&Ft(l,u,Ue,null,m,ie);for(ne in m)if(ie=m[ne],se=h[ne],m.hasOwnProperty(ne)&&ie!==se&&(ie!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,u));break;default:Ft(l,u,ne,ie,m,se)}return;default:if(ku(u)){for(var Vt in h)ie=h[Vt],h.hasOwnProperty(Vt)&&ie!==void 0&&!m.hasOwnProperty(Vt)&&n2(l,u,Vt,void 0,m,ie);for(ce in m)ie=m[ce],se=h[ce],!m.hasOwnProperty(ce)||ie===se||ie===void 0&&se===void 0||n2(l,u,ce,ie,m,se);return}}for(var X in h)ie=h[X],h.hasOwnProperty(X)&&ie!=null&&!m.hasOwnProperty(X)&&Ft(l,u,X,null,m,ie);for(he in m)ie=m[he],se=h[he],!m.hasOwnProperty(he)||ie===se||ie==null&&se==null||Ft(l,u,he,ie,m,se)}function F3(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hz(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],E=w.transferSize,P=w.initiatorType,F=w.duration;if(E&&F&&F3(P)){for(P=0,F=w.responseEnd,m+=1;m<h.length;m++){var q=h[m],ne=q.startTime;if(ne>F)break;var ce=q.transferSize,he=q.initiatorType;ce&&F3(he)&&(q=q.responseEnd,P+=ce*(q<F?1:(F-ne)/(q-ne)))}if(--m,u+=8*(E+P)/(w.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var i2=null,a2=null;function Lg(l){return l.nodeType===9?l:l.ownerDocument}function V3(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H3(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function o2(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var s2=null;function $z(){var l=window.event;return l&&l.type==="popstate"?l===s2?!1:(s2=l,!0):(s2=null,!1)}var $3=typeof setTimeout=="function"?setTimeout:void 0,qz=typeof clearTimeout=="function"?clearTimeout:void 0,q3=typeof Promise=="function"?Promise:void 0,Gz=typeof queueMicrotask=="function"?queueMicrotask:typeof q3<"u"?function(l){return q3.resolve(null).then(l).catch(Wz)}:$3;function Wz(l){setTimeout(function(){throw l})}function ll(l){return l==="head"}function G3(l,u){var h=u,m=0;do{var w=h.nextSibling;if(l.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){l.removeChild(w),vf(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")vh(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,vh(h);for(var E=h.firstChild;E;){var P=E.nextSibling,F=E.nodeName;E[no]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=P}}else h==="body"&&vh(l.ownerDocument.body);h=w}while(h);vf(u)}function W3(l,u){var h=l;l=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=m}while(h)}function l2(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":l2(h),Pu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function Kz(l,u,h,m){for(;l.nodeType===1;){var w=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(m){if(!l[no])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(E=l.getAttribute("rel"),E==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(E!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(E=l.getAttribute("src"),(E!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===E)return l}else return l;if(l=oa(l.nextSibling),l===null)break}return null}function Yz(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=oa(l.nextSibling),l===null))return null;return l}function K3(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=oa(l.nextSibling),l===null))return null;return l}function c2(l){return l.data==="$?"||l.data==="$~"}function u2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function Xz(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),l._reactRetry=m}}function oa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var f2=null;function Y3(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return oa(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function X3(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function Q3(l,u,h){switch(u=Lg(h),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function vh(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Pu(l)}var sa=new Map,Z3=new Set;function Bg(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ns=re.d;re.d={f:Qz,r:Zz,D:Jz,C:eU,L:tU,m:rU,X:iU,S:nU,M:aU};function Qz(){var l=ns.f(),u=Og();return l||u}function Zz(l){var u=Xi(l);u!==null&&u.tag===5&&u.type==="form"?g4(u):ns.r(l)}var hf=typeof document>"u"?null:document;function J3(l,u,h){var m=hf;if(m&&typeof u=="string"&&u){var w=ci(u);w='link[rel="'+l+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),Z3.has(w)||(Z3.add(w),l={rel:l,crossOrigin:h,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),En(u,"link",l),Mr(u),m.head.appendChild(u)))}}function Jz(l){ns.D(l),J3("dns-prefetch",l,null)}function eU(l,u){ns.C(l,u),J3("preconnect",l,u)}function tU(l,u,h){ns.L(l,u,h);var m=hf;if(m&&l&&u){var w='link[rel="preload"][as="'+ci(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ci(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ci(h.imageSizes)+'"]')):w+='[href="'+ci(l)+'"]';var E=w;switch(u){case"style":E=pf(l);break;case"script":E=gf(l)}sa.has(E)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),sa.set(E,l),m.querySelector(w)!==null||u==="style"&&m.querySelector(mh(E))||u==="script"&&m.querySelector(yh(E))||(u=m.createElement("link"),En(u,"link",l),Mr(u),m.head.appendChild(u)))}}function rU(l,u){ns.m(l,u);var h=hf;if(h&&l){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+ci(m)+'"][href="'+ci(l)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=gf(l)}if(!sa.has(E)&&(l=p({rel:"modulepreload",href:l},u),sa.set(E,l),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yh(E)))return}m=h.createElement("link"),En(m,"link",l),Mr(m),h.head.appendChild(m)}}}function nU(l,u,h){ns.S(l,u,h);var m=hf;if(m&&l){var w=ao(m).hoistableStyles,E=pf(l);u=u||"default";var P=w.get(E);if(!P){var F={loading:0,preload:null};if(P=m.querySelector(mh(E)))F.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=sa.get(E))&&d2(l,h);var q=P=m.createElement("link");Mr(q),En(q,"link",l),q._p=new Promise(function(ne,ce){q.onload=ne,q.onerror=ce}),q.addEventListener("load",function(){F.loading|=1}),q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,zg(P,u,m)}P={type:"stylesheet",instance:P,count:1,state:F},w.set(E,P)}}}function iU(l,u){ns.X(l,u);var h=hf;if(h&&l){var m=ao(h).hoistableScripts,w=gf(l),E=m.get(w);E||(E=h.querySelector(yh(w)),E||(l=p({src:l,async:!0},u),(u=sa.get(w))&&h2(l,u),E=h.createElement("script"),Mr(E),En(E,"link",l),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function aU(l,u){ns.M(l,u);var h=hf;if(h&&l){var m=ao(h).hoistableScripts,w=gf(l),E=m.get(w);E||(E=h.querySelector(yh(w)),E||(l=p({src:l,async:!0,type:"module"},u),(u=sa.get(w))&&h2(l,u),E=h.createElement("script"),Mr(E),En(E,"link",l),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function eI(l,u,h,m){var w=(w=We.current)?Bg(w):null;if(!w)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=pf(h.href),h=ao(w).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=pf(h.href);var E=ao(w).hoistableStyles,P=E.get(l);if(P||(w=w.ownerDocument||w,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(l,P),(E=w.querySelector(mh(l)))&&!E._p&&(P.instance=E,P.state.loading=5),sa.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},sa.set(l,h),E||oU(w,l,h,P.state))),u&&m===null)throw Error(n(528,""));return P}if(u&&m!==null)throw Error(n(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=gf(h),h=ao(w).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function pf(l){return'href="'+ci(l)+'"'}function mh(l){return'link[rel="stylesheet"]['+l+"]"}function tI(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function oU(l,u,h,m){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=l.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),En(u,"link",h),Mr(u),l.head.appendChild(u))}function gf(l){return'[src="'+ci(l)+'"]'}function yh(l){return"script[async]"+l}function rI(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=l.querySelector('style[data-href~="'+ci(h.href)+'"]');if(m)return u.instance=m,Mr(m),m;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(l.ownerDocument||l).createElement("style"),Mr(m),En(m,"style",w),zg(m,h.precedence,l),u.instance=m;case"stylesheet":w=pf(h.href);var E=l.querySelector(mh(w));if(E)return u.state.loading|=4,u.instance=E,Mr(E),E;m=tI(h),(w=sa.get(w))&&d2(m,w),E=(l.ownerDocument||l).createElement("link"),Mr(E);var P=E;return P._p=new Promise(function(F,q){P.onload=F,P.onerror=q}),En(E,"link",m),u.state.loading|=4,zg(E,h.precedence,l),u.instance=E;case"script":return E=gf(h.src),(w=l.querySelector(yh(E)))?(u.instance=w,Mr(w),w):(m=h,(w=sa.get(E))&&(m=p({},h),h2(m,w)),l=l.ownerDocument||l,w=l.createElement("script"),Mr(w),En(w,"link",m),l.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,zg(m,h.precedence,l));return u.instance}function zg(l,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,P=0;P<m.length;P++){var F=m[P];if(F.dataset.precedence===u)E=F;else if(E!==w)break}E?E.parentNode.insertBefore(l,E.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function d2(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function h2(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Ug=null;function nI(l,u,h){if(Ug===null){var m=new Map,w=Ug=new Map;w.set(h,m)}else w=Ug,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(l))return m;for(m.set(l,null),h=h.getElementsByTagName(l),w=0;w<h.length;w++){var E=h[w];if(!(E[no]||E[kr]||l==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(u)||"";P=l+P;var F=m.get(P);F?F.push(E):m.set(P,[E])}}return m}function iI(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function sU(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function aI(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function lU(l,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=pf(m.href),E=u.querySelector(mh(w));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Fg.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=E,Mr(E);return}E=u.ownerDocument||u,m=tI(m),(w=sa.get(w))&&d2(m,w),E=E.createElement("link"),Mr(E);var P=E;P._p=new Promise(function(F,q){P.onload=F,P.onerror=q}),En(E,"link",m),h.instance=E}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=Fg.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var p2=0;function cU(l,u){return l.stylesheets&&l.count===0&&Hg(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var m=setTimeout(function(){if(l.stylesheets&&Hg(l,l.stylesheets),l.unsuspend){var E=l.unsuspend;l.unsuspend=null,E()}},6e4+u);0<l.imgBytes&&p2===0&&(p2=62500*Hz());var w=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Hg(l,l.stylesheets),l.unsuspend)){var E=l.unsuspend;l.unsuspend=null,E()}},(l.imgBytes>p2?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function Fg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hg(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Vg=null;function Hg(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Vg=new Map,u.forEach(uU,l),Vg=null,Fg.call(l))}function uU(l,u){if(!(u.state.loading&4)){var h=Vg.get(l);if(h)var m=h.get(null);else{h=new Map,Vg.set(l,h);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var P=w[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),m=P)}m&&h.set(null,m)}w=u.instance,P=w.getAttribute("data-precedence"),E=h.get(P)||m,E===m&&h.set(null,w),h.set(P,w),this.count++,m=Fg.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),u.state.loading|=4}}var xh={$$typeof:O,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function fU(l,u,h,m,w,E,P,F,q){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=to(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.hiddenUpdates=to(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function oI(l,u,h,m,w,E,P,F,q,ne,ce,he){return l=new fU(l,u,h,P,q,ne,ce,he,F),u=1,E===!0&&(u|=24),E=Ii(3,null,null,u),l.current=E,E.stateNode=l,u=Wy(),u.refCount++,l.pooledCache=u,u.refCount++,E.memoizedState={element:m,isDehydrated:h,cache:u},Qy(E),l}function sI(l){return l?(l=qu,l):qu}function lI(l,u,h,m,w,E){w=sI(w),m.context===null?m.context=w:m.pendingContext=w,m=Qs(u),m.payload={element:h},E=E===void 0?null:E,E!==null&&(m.callback=E),h=Zs(l,m,u),h!==null&&(gi(h,l,u),Qd(h,l,u))}function cI(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function g2(l,u){cI(l,u),(l=l.alternate)&&cI(l,u)}function uI(l){if(l.tag===13||l.tag===31){var u=wc(l,67108864);u!==null&&gi(u,l,67108864),g2(l,67108864)}}function fI(l){if(l.tag===13||l.tag===31){var u=Ni();u=cc(u);var h=wc(l,u);h!==null&&gi(h,l,u),g2(l,u)}}var $g=!0;function dU(l,u,h,m){var w=Y.T;Y.T=null;var E=re.p;try{re.p=2,v2(l,u,h,m)}finally{re.p=E,Y.T=w}}function hU(l,u,h,m){var w=Y.T;Y.T=null;var E=re.p;try{re.p=8,v2(l,u,h,m)}finally{re.p=E,Y.T=w}}function v2(l,u,h,m){if($g){var w=m2(m);if(w===null)r2(l,u,m,qg,h),hI(l,m);else if(gU(w,l,u,h,m))m.stopPropagation();else if(hI(l,m),u&4&&-1<pU.indexOf(l)){for(;w!==null;){var E=Xi(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=Ja(E.pendingLanes);if(P!==0){var F=E;for(F.pendingLanes|=2,F.entangledLanes|=2;P;){var q=1<<31-Sr(P);F.entanglements[1]|=q,P&=~q}xo(E),(Et&6)===0&&(Tg=Kn()+500,hh(0))}}break;case 31:case 13:F=wc(E,2),F!==null&&gi(F,E,2),Og(),g2(E,2)}if(E=m2(m),E===null&&r2(l,u,m,qg,h),E===w)break;w=E}w!==null&&m.stopPropagation()}else r2(l,u,m,null,h)}}function m2(l){return l=Qi(l),y2(l)}var qg=null;function y2(l){if(qg=null,l=io(l),l!==null){var u=a(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===31){if(l=s(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return qg=l,null}function dI(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ac()){case _d:return 2;case Ad:return 8;case js:case Ey:return 32;case A0:return 268435456;default:return 32}default:return 32}}var x2=!1,cl=null,ul=null,fl=null,bh=new Map,wh=new Map,dl=[],pU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hI(l,u){switch(l){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":bh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(u.pointerId)}}function _h(l,u,h,m,w,E){return l===null||l.nativeEvent!==E?(l={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},u!==null&&(u=Xi(u),u!==null&&uI(u)),l):(l.eventSystemFlags|=m,u=l.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),l)}function gU(l,u,h,m,w){switch(u){case"focusin":return cl=_h(cl,l,u,h,m,w),!0;case"dragenter":return ul=_h(ul,l,u,h,m,w),!0;case"mouseover":return fl=_h(fl,l,u,h,m,w),!0;case"pointerover":var E=w.pointerId;return bh.set(E,_h(bh.get(E)||null,l,u,h,m,w)),!0;case"gotpointercapture":return E=w.pointerId,wh.set(E,_h(wh.get(E)||null,l,u,h,m,w)),!0}return!1}function pI(l){var u=io(l.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,Oa(l.priority,function(){fI(h)});return}}else if(u===31){if(u=s(h),u!==null){l.blockedOn=u,Oa(l.priority,function(){fI(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Gg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=m2(l.nativeEvent);if(h===null){h=l.nativeEvent;var m=new h.constructor(h.type,h);Md=m,h.target.dispatchEvent(m),Md=null}else return u=Xi(h),u!==null&&uI(u),l.blockedOn=h,!1;u.shift()}return!0}function gI(l,u,h){Gg(l)&&h.delete(u)}function vU(){x2=!1,cl!==null&&Gg(cl)&&(cl=null),ul!==null&&Gg(ul)&&(ul=null),fl!==null&&Gg(fl)&&(fl=null),bh.forEach(gI),wh.forEach(gI)}function Wg(l,u){l.blockedOn===u&&(l.blockedOn=null,x2||(x2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vU)))}var Kg=null;function vI(l){Kg!==l&&(Kg=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kg===l&&(Kg=null);for(var u=0;u<l.length;u+=3){var h=l[u],m=l[u+1],w=l[u+2];if(typeof m!="function"){if(y2(m||h)===null)continue;break}var E=Xi(h);E!==null&&(l.splice(u,3),u-=3,mx(E,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function vf(l){function u(q){return Wg(q,l)}cl!==null&&Wg(cl,l),ul!==null&&Wg(ul,l),fl!==null&&Wg(fl,l),bh.forEach(u),wh.forEach(u);for(var h=0;h<dl.length;h++){var m=dl[h];m.blockedOn===l&&(m.blockedOn=null)}for(;0<dl.length&&(h=dl[0],h.blockedOn===null);)pI(h),h.blockedOn===null&&dl.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],E=h[m+1],P=w[sn]||null;if(typeof E=="function")P||vI(h);else if(P){var F=null;if(E&&E.hasAttribute("formAction")){if(w=E,P=E[sn]||null)F=P.formAction;else if(y2(w)!==null)continue}else F=P.action;typeof F=="function"?h[m+1]=F:(h.splice(m,3),m-=3),vI(h)}}}function mI(){function l(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(P){return w=P})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function b2(l){this._internalRoot=l}Yg.prototype.render=b2.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var h=u.current,m=Ni();lI(h,m,l,u,null,null)},Yg.prototype.unmount=b2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;lI(l.current,2,null,l,null,null),Og(),u[ro]=null}};function Yg(l){this._internalRoot=l}Yg.prototype.unstable_scheduleHydration=function(l){if(l){var u=O0();l={blockedOn:null,target:l,priority:u};for(var h=0;h<dl.length&&u!==0&&u<dl[h].priority;h++);dl.splice(h,0,l),h===0&&pI(l)}};var yI=e.version;if(yI!=="19.2.0")throw Error(n(527,yI,"19.2.0"));re.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var mU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{Ta=Xg.inject(mU),xn=Xg}catch{}}return Eh.createRoot=function(l,u){if(!i(l))throw Error(n(299));var h=!1,m="",w=S4,E=C4,P=T4;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=oI(l,1,!1,null,null,h,m,null,w,E,P,mI),l[ro]=u.current,t2(l),new b2(u)},Eh.hydrateRoot=function(l,u,h){if(!i(l))throw Error(n(299));var m=!1,w="",E=S4,P=C4,F=T4,q=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(F=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),u=oI(l,1,!0,u,h??null,m,w,q,E,P,F,mI),u.context=sI(null),h=u.current,m=Ni(),m=cc(m),w=Qs(m),w.callback=null,Zs(h,w,m),h=m,u.current.lanes=h,sc(u,h),xo(u),l[ro]=u.current,t2(l),new Yg(u)},Eh.version="19.2.0",Eh}var II;function IU(){if(II)return A2.exports;II=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A2.exports=TU(),A2.exports}var OU=IU();const RU=Mo(OU),PU=({title:t,onNavigate:e})=>g.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t,g.jsx("button",{onClick:()=>e("admin"),style:{background:"none",border:"1px solid white",color:"white",padding:"5px 10px",borderRadius:"5px",cursor:"pointer"},children:"Admin"})]});var yD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OI=Hn.createContext&&Hn.createContext(yD),DU=["attr","size","title"];function NU(t,e){if(t==null)return{};var r=kU(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W1.apply(this,arguments)}function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){MU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MU(t,e,r){return e=jU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jU(t){var e=LU(t,"string");return typeof e=="symbol"?e:e+""}function LU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xD(t){return t&&t.map((e,r)=>Hn.createElement(e.tag,K1({key:r},e.attr),xD(e.child)))}function _e(t){return e=>Hn.createElement(BU,W1({attr:K1({},t.attr)},e),xD(t.child))}function BU(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=NU(t,DU),s=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Hn.createElement("svg",W1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:K1(K1({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Hn.createElement("title",null,a),t.children)};return OI!==void 0?Hn.createElement(OI.Consumer,null,r=>e(r)):e(yD)}function zU(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function UU(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function sm(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function FU(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function VU(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function lm(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function cm(t){return _e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function HU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(t)}function $U(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"},child:[]}]})(t)}function qU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function Np(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function mu(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function GU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function yu(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function WU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function bD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(t)}function wD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(t)}function KU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function YU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function XU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function Il(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function QU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function ZU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function _D(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function mA(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(t)}function JU(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function nd(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function eF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function yA(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function AD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function ED(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function tF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"},child:[]}]})(t)}function Nw(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"},child:[]}]})(t)}function rF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function SD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(t)}function CD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(t)}function um(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function nF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function sp(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function iu(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function TD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"},child:[]}]})(t)}function PI(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"},child:[]}]})(t)}function iF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"},child:[]}]})(t)}function xA(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function ID(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(t)}function aF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function OD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function oF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function sF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"},child:[]}]})(t)}function Y1(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function lp(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function RD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function lF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function cF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function cp(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function fm(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function xu(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function T2(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function bA(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function PD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function wA(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function zi(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function DD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function uF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(t)}function Qg(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3V13zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3z"},child:[]}]})(t)}function ND(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function kD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function fF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function jf(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function MD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function jD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function DI(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function NI(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function LD(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function dF(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function kw(t){return _e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const hF=({currentScreen:t,onNavigate:e})=>{const r=[{screen:"home",icon:g.jsx(FU,{size:24}),label:""},{screen:"meals",icon:g.jsx(fm,{size:24}),label:""},{screen:"barcode",icon:g.jsx(UU,{size:24}),label:""},{screen:"report",icon:g.jsx(zU,{size:24}),label:""},{screen:"social",icon:g.jsx(kD,{size:24}),label:""},{screen:"settings",icon:g.jsx(VU,{size:24}),label:""}];return g.jsx("nav",{id:"bottomNav",children:r.map(n=>g.jsxs("button",{className:`nav-item ${t===n.screen?"active":""}`,onClick:()=>e(n.screen),children:[g.jsx("span",{children:n.icon}),g.jsx("span",{children:n.label})]},n.screen))})};function BD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=BD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function wt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=BD(t))&&(n&&(n+=" "),n+=e);return n}var I2={},O2={},kI;function pF(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(O2)),O2}var R2={},MI;function zD(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(R2)),R2}var P2={},jI;function _A(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(P2)),P2}var D2={},N2={},LI;function gF(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(N2)),N2}var BI;function AA(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gF(),r=_A();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",f="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const p=i[s];f?p==="\\"&&s+1<o?(s++,c+=i[s]):p===f?f="":c+=p:d?p==='"'||p==="'"?f=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,s++}return c&&a.push(c),a}t.toPath=n})(D2)),D2}var zI;function EA(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pF(),r=zD(),n=_A(),i=AA();function a(s,c,f){if(s==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const d=s[c];return d===void 0?r.isDeepKey(c)?a(s,i.toPath(c),f):f:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?f:d}default:{if(Array.isArray(c))return o(s,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const d=s[c];return d===void 0?f:d}}}function o(s,c,f){if(c.length===0)return f;let d=s;for(let p=0;p<c.length;p++){if(d==null||e.isUnsafeProperty(c[p]))return f;d=d[c[p]]}return d===void 0?f:d}t.get=a})(I2)),I2}var k2,UI;function vF(){return UI||(UI=1,k2=EA().get),k2}var mF=vF();const au=Mo(mF);var M2={exports:{}},Ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function yF(){if(FI)return Ht;FI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function _(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case t:switch(b=b.type,b){case r:case i:case n:case c:case f:case v:return b;default:switch(b=b&&b.$$typeof,b){case o:case s:case p:case d:return b;case a:return b;default:return A}}case e:return A}}}return Ht.ContextConsumer=a,Ht.ContextProvider=o,Ht.Element=t,Ht.ForwardRef=s,Ht.Fragment=r,Ht.Lazy=p,Ht.Memo=d,Ht.Portal=e,Ht.Profiler=i,Ht.StrictMode=n,Ht.Suspense=c,Ht.SuspenseList=f,Ht.isContextConsumer=function(b){return _(b)===a},Ht.isContextProvider=function(b){return _(b)===o},Ht.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Ht.isForwardRef=function(b){return _(b)===s},Ht.isFragment=function(b){return _(b)===r},Ht.isLazy=function(b){return _(b)===p},Ht.isMemo=function(b){return _(b)===d},Ht.isPortal=function(b){return _(b)===e},Ht.isProfiler=function(b){return _(b)===i},Ht.isStrictMode=function(b){return _(b)===n},Ht.isSuspense=function(b){return _(b)===c},Ht.isSuspenseList=function(b){return _(b)===f},Ht.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===d||b.$$typeof===o||b.$$typeof===a||b.$$typeof===s||b.$$typeof===y||b.getModuleId!==void 0)},Ht.typeOf=_,Ht}var VI;function xF(){return VI||(VI=1,M2.exports=yF()),M2.exports}var bF=xF(),gn=t=>t===0?0:t>0?1:-1,Hi=t=>typeof t=="number"&&t!=+t,Vc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ke=t=>(typeof t=="number"||t instanceof Number)&&!Hi(t),Ro=t=>ke(t)||typeof t=="string",wF=0,up=t=>{var e=++wF;return"".concat(t||"").concat(e)},qn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&typeof e!="string")return n;var a;if(Vc(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Hi(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},UD=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function yr(t,e,r){return ke(t)&&ke(e)?t+r*(e-t):e}function FD(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):au(n,e))===r)}var cr=t=>t===null||typeof t>"u",kp=t=>cr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),_F=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SA(t){if(typeof t!="string")return!1;var e=_F;return e.includes(t)}var AF=["viewBox","children"],HI=["points","pathLength"],j2={svg:AF,polygon:HI,polyline:HI},CA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{SA(i)&&(n[i]=(a=>r[i](r,a)))}),n},EF=(t,e,r)=>n=>(t(e,r,n),null),Mp=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];SA(i)&&typeof a=="function"&&(n||(n={}),n[i]=EF(a,e,r))}),n},SF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VD(t){if(typeof t!="string")return!1;var e=SF;return e.includes(t)}function jo(t){var e=Object.entries(t).filter(r=>{var[n]=r;return VD(n)});return Object.fromEntries(e)}var $I=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",qI=null,L2=null,HD=t=>{if(t===qI&&Array.isArray(L2))return L2;var e=[];return C.Children.forEach(t,r=>{cr(r)||(bF.isFragment(r)?e=e.concat(HD(r.props.children)):e.push(r))}),L2=e,qI=t,e};function TA(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>$I(i)):n=[$I(e)],HD(t).forEach(i=>{var a=au(i,"type.displayName")||au(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var $D=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,CF=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&j2?.[n])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),s=typeof t!="function"&&(!!n&&a.includes(e)||VD(e)),c=!!r&&SA(e);return o||s||c},hr=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;CF((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},TF=["children","width","height","viewBox","className","style","title","desc"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(null,arguments)}function IF(t,e){if(t==null)return{};var r,n,i=OF(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function OF(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IA=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:c,desc:f}=t,d=IF(t,TF),p=a||{width:n,height:i,x:0,y:0},v=wt("recharts-surface",o);return C.createElement("svg",Mw({},hr(d,!0,"svg"),{className:v,width:n,height:i,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),r)}),RF=["children","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(null,arguments)}function PF(t,e){if(t==null)return{};var r,n,i=DF(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DF(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nn=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=PF(t,RF),a=wt("recharts-layer",n);return C.createElement("g",jw({className:a},hr(i,!0),{ref:e}),r)}),qD=mD(),GD=C.createContext(null),NF=()=>C.useContext(GD);function Wt(t){return function(){return t}}const WD=Math.cos,X1=Math.sin,Ya=Math.sqrt,Q1=Math.PI,dm=2*Q1,Lw=Math.PI,Bw=2*Lw,Lc=1e-6,kF=Bw-Lc;function KD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function MF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return KD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?KD:MF(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,f=i-r,d=o-e,p=s-r,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Lc)if(!(Math.abs(p*c-f*d)>Lc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,_=i-s,b=c*c+f*f,A=y*y+_*_,S=Math.sqrt(b),T=Math.sqrt(v),O=a*Math.tan((Lw-Math.acos((b+v-A)/(2*S*T)))/2),N=O/T,M=O/S;Math.abs(N-1)>Lc&&this._append`L${e+N*d},${r+N*p}`,this._append`A${a},${a},0,0,${+(p*y>d*_)},${this._x1=e+M*c},${this._y1=r+M*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),f=e+s,d=r+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Lc||Math.abs(this._y1-d)>Lc)&&this._append`L${f},${d}`,n&&(v<0&&(v=v%Bw+Bw),v>kF?this._append`A${n},${n},0,1,${p},${e-s},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:v>Lc&&this._append`A${n},${n},0,${+(v>=Lw)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function OA(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jF(e)}function RA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YD(t){this._context=t}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hm(t){return new YD(t)}function XD(t){return t[0]}function QD(t){return t[1]}function ZD(t,e){var r=Wt(!0),n=null,i=hm,a=null,o=OA(s);t=typeof t=="function"?t:t===void 0?XD:Wt(t),e=typeof e=="function"?e:e===void 0?QD:Wt(e);function s(c){var f,d=(c=RA(c)).length,p,v=!1,y;for(n==null&&(a=i(y=o())),f=0;f<=d;++f)!(f<d&&r(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(y)return a=null,y+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function Zg(t,e,r){var n=null,i=Wt(!0),a=null,o=hm,s=null,c=OA(f);t=typeof t=="function"?t:t===void 0?XD:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?QD:Wt(+r);function f(p){var v,y,_,b=(p=RA(p)).length,A,S=!1,T,O=new Array(b),N=new Array(b);for(a==null&&(s=o(T=c())),v=0;v<=b;++v){if(!(v<b&&i(A=p[v],v,p))===S)if(S=!S)y=v,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=v-1;_>=y;--_)s.point(O[_],N[_]);s.lineEnd(),s.areaEnd()}S&&(O[v]=+t(A,v,p),N[v]=+e(A,v,p),s.point(n?+n(A,v,p):O[v],r?+r(A,v,p):N[v]))}if(T)return s=null,T+""||null}function d(){return ZD().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),f):r},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(r)},f.lineX1=function(){return d().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(s=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=s=null:s=o(a=p),f):a},f}class JD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function LF(t){return new JD(t,!0)}function BF(t){return new JD(t,!1)}const PA={draw(t,e){const r=Ya(e/Q1);t.moveTo(r,0),t.arc(0,0,r,0,dm)}},zF={draw(t,e){const r=Ya(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},eN=Ya(1/3),UF=eN*2,FF={draw(t,e){const r=Ya(e/UF),n=r*eN;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},VF={draw(t,e){const r=Ya(e),n=-r/2;t.rect(n,n,r,r)}},HF=.8908130915292852,tN=X1(Q1/10)/X1(7*Q1/10),$F=X1(dm/10)*tN,qF=-WD(dm/10)*tN,GF={draw(t,e){const r=Ya(e*HF),n=$F*r,i=qF*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=dm*a/5,s=WD(o),c=X1(o);t.lineTo(c*r,-s*r),t.lineTo(s*n-c*i,c*n+s*i)}t.closePath()}},B2=Ya(3),WF={draw(t,e){const r=-Ya(e/(B2*3));t.moveTo(0,r*2),t.lineTo(-B2*r,-r),t.lineTo(B2*r,-r),t.closePath()}},la=-.5,ca=Ya(3)/2,zw=1/Ya(12),KF=(zw/2+1)*3,YF={draw(t,e){const r=Ya(e/KF),n=r/2,i=r*zw,a=n,o=r*zw+r,s=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(la*n-ca*i,ca*n+la*i),t.lineTo(la*a-ca*o,ca*a+la*o),t.lineTo(la*s-ca*c,ca*s+la*c),t.lineTo(la*n+ca*i,la*i-ca*n),t.lineTo(la*a+ca*o,la*o-ca*a),t.lineTo(la*s+ca*c,la*c-ca*s),t.closePath()}};function XF(t,e){let r=null,n=OA(i);t=typeof t=="function"?t:Wt(t||PA),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Z1(){}function J1(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function rN(t){this._context=t}rN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:J1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:J1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QF(t){return new rN(t)}function nN(t){this._context=t}nN.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:J1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZF(t){return new nN(t)}function iN(t){this._context=t}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:J1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JF(t){return new iN(t)}function aN(t){this._context=t}aN.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eV(t){return new aN(t)}function GI(t){return t<0?-1:1}function WI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(GI(a)+GI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function z2(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function ev(t){this._context=t}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z2(this,this._t0,KI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,z2(this,KI(this,r=WI(this,t,e)),r);break;default:z2(this,this._t0,r=WI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oN(t){this._context=new sN(t)}(oN.prototype=Object.create(ev.prototype)).point=function(t,e){ev.prototype.point.call(this,e,t)};function sN(t){this._context=t}sN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function tV(t){return new ev(t)}function rV(t){return new oN(t)}function lN(t){this._context=t}lN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=YI(t),i=YI(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function nV(t){return new lN(t)}function pm(t,e){this._context=t,this._t=e}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function iV(t){return new pm(t,.5)}function aV(t){return new pm(t,0)}function oV(t){return new pm(t,1)}function Lf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Uw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function sV(t,e){return t[e]}function lV(t){const e=[];return e.key=t,e}function cV(){var t=Wt([]),e=Uw,r=Lf,n=sV;function i(a){var o=Array.from(t.apply(this,arguments),lV),s,c=o.length,f=-1,d;for(const p of a)for(s=0,++f;s<c;++s)(o[s][f]=[0,+n(p,o[s].key,f,a)]).data=p;for(s=0,d=RA(e(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Wt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Uw:typeof a=="function"?a:Wt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Lf,i):r},i}function uV(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Lf(t,e)}}function fV(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Lf(t,e)}}function dV(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,f=0;s<o;++s){for(var d=t[e[s]],p=d[n][1]||0,v=d[n-1][1]||0,y=(p-v)/2,_=0;_<s;++_){var b=t[e[_]],A=b[n][1]||0,S=b[n-1][1]||0;y+=A-S}c+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Lf(t,e)}}var hV=["type","size","sizeType"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(null,arguments)}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){pV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pV(t,e,r){return(e=gV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gV(t){var e=vV(t,"string");return typeof e=="symbol"?e:e+""}function vV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mV(t,e){if(t==null)return{};var r,n,i=yV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cN={symbolCircle:PA,symbolCross:zF,symbolDiamond:FF,symbolSquare:VF,symbolStar:GF,symbolTriangle:WF,symbolWye:YF},xV=Math.PI/180,bV=t=>{var e="symbol".concat(kp(t));return cN[e]||PA},wV=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*xV;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_V=(t,e)=>{cN["symbol".concat(kp(t))]=e},DA=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=mV(t,hV),a=QI(QI({},i),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var v=bV(o),y=XF().type(v).size(wV(r,n,o));return y()},{className:c,cx:f,cy:d}=a,p=hr(a,!0);return f===+f&&d===+d&&r===+r?C.createElement("path",Fw({},p,{className:wt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:s()})):null};DA.registerSymbol=_V;function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(null,arguments)}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){NA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NA(t,e,r){return(e=EV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EV(t){var e=SV(t,"string");return typeof e=="symbol"?e:e+""}function SV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ua=32;class kA extends C.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ua/2,a=ua/6,o=ua/3,s=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ua,y2:i,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ua,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(ua/8,"h").concat(ua,"v").concat(ua*3/4,"h").concat(-ua,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=AV({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(DA,{fill:s,cx:i,cy:i,size:ua,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:ua,height:ua},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var v=d.formatter||i,y=wt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var _=d.inactive?a:d.color,b=v?v(d.value,d,p):d.value;return C.createElement("li",Vw({className:y,style:c,key:"legend-item-".concat(p)},Mp(this.props,d,p)),C.createElement(IA,{width:r,height:r,viewBox:s,style:f,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}NA(kA,"displayName","Legend");NA(kA,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var U2={},F2={},JI;function CV(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(F2)),F2}var V2={},e6;function uN(){return e6||(e6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(V2)),V2}var H2={},$2={},q2={},t6;function TV(){return t6||(t6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(q2)),q2}var r6;function MA(){return r6||(r6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TV();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})($2)),$2}var G2={},n6;function IV(){return n6||(n6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(G2)),G2}var i6;function OV(){return i6||(i6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MA(),r=IV();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(H2)),H2}var W2={},K2={},a6;function RV(){return a6||(a6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EA();function r(n){return function(i){return e.get(i,n)}}t.property=r})(K2)),K2}var Y2={},X2={},Q2={},Z2={},o6;function fN(){return o6||(o6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Z2)),Z2}var J2={},s6;function dN(){return s6||(s6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(J2)),J2}var eb={},l6;function hN(){return l6||(l6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(eb)),eb}var c6;function PV(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jA(),r=fN(),n=dN(),i=hN();function a(p,v,y){return typeof y!="function"?e.isMatch(p,v):o(p,v,function _(b,A,S,T,O,N){const M=y(b,A,S,T,O,N);return M!==void 0?!!M:o(b,A,_,N)},new Map)}function o(p,v,y,_){if(v===p)return!0;switch(typeof v){case"object":return s(p,v,y,_);case"function":return Object.keys(v).length>0?o(p,{...v},y,_):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function s(p,v,y,_){if(v==null)return!0;if(Array.isArray(v))return f(p,v,y,_);if(v instanceof Map)return c(p,v,y,_);if(v instanceof Set)return d(p,v,y,_);const b=Object.keys(v);if(p==null)return b.length===0;if(b.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let A=0;A<b.length;A++){const S=b[A];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!y(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,y,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,A]of v.entries()){const S=p.get(b);if(y(S,A,b,p,v,_)===!1)return!1}return!0}function f(p,v,y,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let A=0;A<v.length;A++){const S=v[A];let T=!1;for(let O=0;O<p.length;O++){if(b.has(O))continue;const N=p[O];let M=!1;if(y(N,S,A,p,v,_)&&(M=!0),M){b.add(O),T=!0;break}}if(!T)return!1}return!0}function d(p,v,y,_){return v.size===0?!0:p instanceof Set?f([...p],[...v],y,_):!1}t.isMatchWith=a,t.isSetMatch=d})(Q2)),Q2}var u6;function jA(){return u6||(u6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PV();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(X2)),X2}var tb={},rb={},nb={},f6;function DV(){return f6||(f6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(nb)),nb}var ib={},d6;function pN(){return d6||(d6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(ib)),ib}var ab={},h6;function gN(){return h6||(h6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",_="[object Error]",b="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",N="[object BigUint64Array]",M="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",D="[object BigInt64Array]",j="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=b,t.dateTag=s,t.errorTag=_,t.float32ArrayTag=j,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=R,t.int8ArrayTag=M,t.mapTag=c,t.numberTag=n,t.objectTag=y,t.regexpTag=e,t.setTag=f,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=T,t.uint32ArrayTag=O,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=S})(ab)),ab}var ob={},p6;function NV(){return p6||(p6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(ob)),ob}var g6;function vN(){return g6||(g6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DV(),r=pN(),n=gN(),i=dN(),a=NV();function o(d,p){return s(d,void 0,d,new Map,p)}function s(d,p,v,y=new Map,_=void 0){const b=_?.(d,p,v,y);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const A=new Array(d.length);y.set(d,A);for(let S=0;S<d.length;S++)A[S]=s(d[S],S,v,y,_);return Object.hasOwn(d,"index")&&(A.index=d.index),Object.hasOwn(d,"input")&&(A.input=d.input),A}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const A=new RegExp(d.source,d.flags);return A.lastIndex=d.lastIndex,A}if(d instanceof Map){const A=new Map;y.set(d,A);for(const[S,T]of d)A.set(S,s(T,S,v,y,_));return A}if(d instanceof Set){const A=new Set;y.set(d,A);for(const S of d)A.add(s(S,void 0,v,y,_));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const A=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,A);for(let S=0;S<d.length;S++)A[S]=s(d[S],S,v,y,_);return A}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const A=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,A),c(A,d,v,y,_),A}if(typeof File<"u"&&d instanceof File){const A=new File([d],d.name,{type:d.type});return y.set(d,A),c(A,d,v,y,_),A}if(typeof Blob<"u"&&d instanceof Blob){const A=new Blob([d],{type:d.type});return y.set(d,A),c(A,d,v,y,_),A}if(d instanceof Error){const A=new d.constructor;return y.set(d,A),A.message=d.message,A.name=d.name,A.stack=d.stack,A.cause=d.cause,c(A,d,v,y,_),A}if(d instanceof Boolean){const A=new Boolean(d.valueOf());return y.set(d,A),c(A,d,v,y,_),A}if(d instanceof Number){const A=new Number(d.valueOf());return y.set(d,A),c(A,d,v,y,_),A}if(d instanceof String){const A=new String(d.valueOf());return y.set(d,A),c(A,d,v,y,_),A}if(typeof d=="object"&&f(d)){const A=Object.create(Object.getPrototypeOf(d));return y.set(d,A),c(A,d,v,y,_),A}return d}function c(d,p,v=d,y,_){const b=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<b.length;A++){const S=b[A],T=Object.getOwnPropertyDescriptor(d,S);(T==null||T.writable)&&(d[S]=s(p[S],S,v,y,_))}}function f(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=c})(rb)),rb}var v6;function kV(){return v6||(v6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vN();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(tb)),tb}var m6;function MV(){return m6||(m6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jA(),r=kV();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(Y2)),Y2}var sb={},lb={},cb={},y6;function jV(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vN(),r=gN();function n(i,a){return e.cloneDeepWith(i,(o,s,c,f)=>{const d=a?.(o,s,c,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(cb)),cb}var x6;function LV(){return x6||(x6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jV();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(lb)),lb}var ub={},fb={},b6;function mN(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(fb)),fb}var db={},w6;function BV(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pN();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(db)),db}var _6;function zV(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zD(),r=mN(),n=BV(),i=AA();function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&e.isDeepKey(s)&&o?.[s]==null?c=i.toPath(s):c=[s],c.length===0)return!1;let f=o;for(let d=0;d<c.length;d++){const p=c[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(ub)),ub}var A6;function UV(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jA(),r=_A(),n=LV(),i=EA(),a=zV();function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(f){const d=i.get(f,s);return d===void 0?a.has(f,s):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=o})(sb)),sb}var E6;function FV(){return E6||(E6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uN(),r=RV(),n=MV(),i=UV();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(W2)),W2}var S6;function VV(){return S6||(S6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CV(),r=uN(),n=OV(),i=FV();function a(o,s=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(s)):[]}t.uniqBy=a})(U2)),U2}var hb,C6;function HV(){return C6||(C6=1,hb=VV().uniqBy),hb}var $V=HV();const T6=Mo($V);function yN(t,e,r){return e===!0?T6(t,r):typeof e=="function"?T6(t,e):t}var pb={exports:{}},gb={},vb={exports:{}},mb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6;function qV(){if(I6)return mb;I6=1;var t=rd();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(p,v){var y=v(),_=n({inst:{value:y,getSnapshot:v}}),b=_[0].inst,A=_[1];return a(function(){b.value=y,b.getSnapshot=v,c(b)&&A({inst:b})},[p,y,v]),i(function(){return c(b)&&A({inst:b}),p(function(){c(b)&&A({inst:b})})},[p]),o(y),y}function c(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!r(p,y)}catch{return!0}}function f(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:s;return mb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,mb}var O6;function GV(){return O6||(O6=1,vb.exports=qV()),vb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R6;function WV(){if(R6)return gb;R6=1;var t=rd(),e=GV();function r(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,c=t.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(f,d,p,v,y){var _=a(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=s(function(){function S(L){if(!T){if(T=!0,O=L,L=v(L),y!==void 0&&b.hasValue){var R=b.value;if(y(R,L))return N=R}return N=L}if(R=N,n(O,L))return R;var D=v(L);return y!==void 0&&y(R,D)?(O=L,R):(O=L,N=D)}var T=!1,O,N,M=p===void 0?null:p;return[function(){return S(d())},M===null?void 0:function(){return S(M())}]},[d,p,v,y]);var A=i(f,_[0],_[1]);return o(function(){b.hasValue=!0,b.value=A},[A]),c(A),A},gb}var P6;function KV(){return P6||(P6=1,pb.exports=WV()),pb.exports}var YV=KV(),LA=C.createContext(null),XV=t=>t,gr=()=>{var t=C.useContext(LA);return t?t.store.dispatch:XV},D1=()=>{},QV=()=>D1,ZV=(t,e)=>t===e;function Pe(t){var e=C.useContext(LA);return YV.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:QV,e?e.store.getState:D1,e?e.store.getState:D1,e?t:D1,ZV)}function JV(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var D6=t=>Array.isArray(t)?t:[t];function rH(t){const e=Array.isArray(t[0])?t[0]:t;return tH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nH(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var iH=class{constructor(t){this.value=t}deref(){return this.value}},aH=typeof WeakRef<"u"?WeakRef:iH,oH=0,N6=1;function Jg(){return{s:oH,v:void 0,o:null,p:null}}function xN(t,e={}){let r=Jg();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let s=r;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=s.o;_===null&&(s.o=_=new WeakMap);const b=_.get(y);b===void 0?(s=Jg(),_.set(y,s)):s=b}else{let _=s.p;_===null&&(s.p=_=new Map);const b=_.get(y);b===void 0?(s=Jg(),_.set(y,s)):s=b}}const f=s;let d;if(s.s===N6)d=s.v;else if(d=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new aH(d):d}return f.s=N6,f.v=d,d}return o.clearCache=()=>{r=Jg(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function sH(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,s,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),JV(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:y=xN,argsMemoizeOptions:_=[]}=d,b=D6(v),A=D6(_),S=rH(i),T=p(function(){return a++,f.apply(null,arguments)},...b),O=y(function(){o++;const M=nH(S,arguments);return s=T.apply(null,M),s},...A);return Object.assign(O,{resultFunc:f,memoizedResultFunc:T,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ae=sH(xN),lH=Object.assign((t,e=ae)=>{eH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>lH}),yb={},xb={},bb={},k6;function cH(){return k6||(k6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),s=e(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=r})(bb)),bb}var wb={},_b={},M6;function bN(){return M6||(M6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(_b)),_b}var j6;function uH(){return j6||(j6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(wb)),wb}var L6;function fH(){return L6||(L6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH(),r=uH(),n=AA();function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(y=>String(y));const f=(y,_)=>{let b=y;for(let A=0;A<_.length&&b!=null;++A)b=b[_[A]];return b},d=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:f(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?f(_,y):typeof _=="object"?_[y]:_,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(_=>d(_,y))})).slice().sort((y,_)=>{for(let b=0;b<p.length;b++){const A=e.compareValues(y.criteria[b],_.criteria[b],s[b]);if(A!==0)return A}return 0}).map(y=>y.original)}t.orderBy=i})(xb)),xb}var Ab={},B6;function dH(){return B6||(B6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(s,c)=>{for(let f=0;f<s.length;f++){const d=s[f];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(r,0),i}t.flatten=e})(Ab)),Ab}var Eb={},z6;function wN(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mN(),r=MA(),n=fN(),i=hN();function a(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&e.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.eq(c[s],o):!1}t.isIterateeCall=a})(Eb)),Eb}var U6;function hH(){return U6||(U6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fH(),r=dH(),n=wN();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(yb)),yb}var Sb,F6;function pH(){return F6||(F6=1,Sb=hH().sortBy),Sb}var gH=pH();const gm=Mo(gH);var _N=t=>t.legend.settings,vH=t=>t.legend.size,mH=t=>t.legend.payload,yH=ae([mH,_N],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?gm(n,r):n});function xH(){return Pe(yH)}var e1=1;function AN(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>e1||Math.abs(o.left-e.left)>e1||Math.abs(o.top-e.top)>e1||Math.abs(o.width-e.width)>e1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function In(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bH=typeof Symbol=="function"&&Symbol.observable||"@@observable",V6=bH,Cb=()=>Math.random().toString(36).substring(7).split("").join("."),wH={INIT:`@@redux/INIT${Cb()}`,REPLACE:`@@redux/REPLACE${Cb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cb()}`},tv=wH;function BA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function EN(t,e,r){if(typeof t!="function")throw new Error(In(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(In(1));return r(EN)(t,e)}let n=t,i=e,a=new Map,o=a,s=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((A,S)=>{o.set(S,A)}))}function d(){if(c)throw new Error(In(3));return i}function p(A){if(typeof A!="function")throw new Error(In(4));if(c)throw new Error(In(5));let S=!0;f();const T=s++;return o.set(T,A),function(){if(S){if(c)throw new Error(In(6));S=!1,f(),o.delete(T),a=null}}}function v(A){if(!BA(A))throw new Error(In(7));if(typeof A.type>"u")throw new Error(In(8));if(typeof A.type!="string")throw new Error(In(17));if(c)throw new Error(In(9));try{c=!0,i=n(i,A)}finally{c=!1}return(a=o).forEach(T=>{T()}),A}function y(A){if(typeof A!="function")throw new Error(In(10));n=A,v({type:tv.REPLACE})}function _(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(In(11));function T(){const N=S;N.next&&N.next(d())}return T(),{unsubscribe:A(T)}},[V6](){return this}}}return v({type:tv.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:y,[V6]:_}}function _H(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:tv.INIT})>"u")throw new Error(In(12));if(typeof r(void 0,{type:tv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function SN(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{_H(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const f={};for(let d=0;d<n.length;d++){const p=n[d],v=r[p],y=o[p],_=v(y,s);if(typeof _>"u")throw s&&s.type,new Error(In(14));f[p]=_,c=c||_!==y}return c=c||n.length!==Object.keys(o).length,c?f:o}}function rv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function AH(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(In(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},s=t.map(c=>c(o));return a=rv(...s)(i.dispatch),{...i,dispatch:a}}}function CN(t){return BA(t)&&"type"in t&&typeof t.type=="string"}var TN=Symbol.for("immer-nothing"),H6=Symbol.for("immer-draftable"),$i=Symbol.for("immer-state");function Fa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function ou(t){return!!t&&!!t[$i]}function gs(t){return t?IN(t)||Array.isArray(t)||!!t[H6]||!!t.constructor?.[H6]||jp(t)||mm(t):!1}var EH=Object.prototype.constructor.toString();function IN(t){if(!t||typeof t!="object")return!1;const e=Bf(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===EH}function nv(t,e){vm(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function vm(t){const e=t[$i];return e?e.type_:Array.isArray(t)?1:jp(t)?2:mm(t)?3:0}function Hw(t,e){return vm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ON(t,e,r){const n=vm(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function SH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jp(t){return t instanceof Map}function mm(t){return t instanceof Set}function Bc(t){return t.copy_||t.base_}function $w(t,e){if(jp(t))return new Map(t);if(mm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=IN(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[$i];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Bf(t),n)}else{const n=Bf(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function zA(t,e=!1){return ym(t)||ou(t)||!gs(t)||(vm(t)>1&&Object.defineProperties(t,{set:{value:t1},add:{value:t1},clear:{value:t1},delete:{value:t1}}),Object.freeze(t),e&&Object.values(t).forEach(r=>zA(r,!0))),t}function t1(){Fa(2)}function ym(t){return Object.isFrozen(t)}var CH={};function su(t){const e=CH[t];return e||Fa(0,t),e}var fp;function RN(){return fp}function TH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $6(t,e){e&&(su("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function qw(t){Gw(t),t.drafts_.forEach(IH),t.drafts_=null}function Gw(t){t===fp&&(fp=t.parent_)}function q6(t){return fp=TH(fp,t)}function IH(t){const e=t[$i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function G6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[$i].modified_&&(qw(e),Fa(4)),gs(t)&&(t=iv(e,t),e.parent_||av(e,t)),e.patches_&&su("Patches").generateReplacementPatches_(r[$i].base_,t,e.patches_,e.inversePatches_)):t=iv(e,r,[]),qw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==TN?t:void 0}function iv(t,e,r){if(ym(e))return e;const n=e[$i];if(!n)return nv(e,(i,a)=>W6(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return av(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),nv(a,(s,c)=>W6(t,n,i,s,c,r,o)),av(t,i,!1),r&&t.patches_&&su("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function W6(t,e,r,n,i,a,o){if(ou(i)){const s=a&&e&&e.type_!==3&&!Hw(e.assigned_,n)?a.concat(n):void 0,c=iv(t,i,s);if(ON(r,n,c),ou(c))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(gs(i)&&!ym(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;iv(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(jp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&av(t,i)}}function av(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zA(e,r)}function OH(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:RN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=UA;r&&(i=[n],a=dp);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var UA={get(t,e){if(e===$i)return t;const r=Bc(t);if(!Hw(r,e))return RH(t,r,e);const n=r[e];return t.finalized_||!gs(n)?n:n===Tb(t.base_,e)?(Ib(t),t.copy_[e]=Kw(n,t)):n},has(t,e){return e in Bc(t)},ownKeys(t){return Reflect.ownKeys(Bc(t))},set(t,e,r){const n=PN(Bc(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Tb(Bc(t),e),a=i?.[$i];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(SH(r,i)&&(r!==void 0||Hw(t.base_,e)))return!0;Ib(t),Ww(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Tb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ib(t),Ww(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Bc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Fa(11)},getPrototypeOf(t){return Bf(t.base_)},setPrototypeOf(){Fa(12)}},dp={};nv(UA,(t,e)=>{dp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dp.deleteProperty=function(t,e){return dp.set.call(this,t,e,void 0)};dp.set=function(t,e,r){return UA.set.call(this,t[0],e,r,t[0])};function Tb(t,e){const r=t[$i];return(r?Bc(r):t)[e]}function RH(t,e,r){const n=PN(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function PN(t,e){if(!(e in t))return;let r=Bf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bf(r)}}function Ww(t){t.modified_||(t.modified_=!0,t.parent_&&Ww(t.parent_))}function Ib(t){t.copy_||(t.copy_=$w(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(c=a,...f){return o.produce(c,d=>r.call(this,d,...f))}}typeof r!="function"&&Fa(6),n!==void 0&&typeof n!="function"&&Fa(7);let i;if(gs(e)){const a=q6(this),o=Kw(e,void 0);let s=!0;try{i=r(o),s=!1}finally{s?qw(a):Gw(a)}return $6(a,n),G6(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===TN&&(i=void 0),this.autoFreeze_&&zA(i,!0),n){const a=[],o=[];su("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Fa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,c=>e(c,...s));let n,i;return[this.produce(e,r,(o,s)=>{n=o,i=s}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){gs(t)||Fa(8),ou(t)&&(t=fs(t));const e=q6(this),r=Kw(t,void 0);return r[$i].isManual_=!0,Gw(e),r}finishDraft(t,e){const r=t&&t[$i];(!r||!r.isManual_)&&Fa(9);const{scope_:n}=r;return $6(n,e),G6(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=su("Patches").applyPatches_;return ou(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Kw(t,e){const r=jp(t)?su("MapSet").proxyMap_(t,e):mm(t)?su("MapSet").proxySet_(t,e):OH(t,e);return(e?e.scope_:RN()).drafts_.push(r),r}function fs(t){return ou(t)||Fa(10,t),DN(t)}function DN(t){if(!gs(t)||ym(t))return t;const e=t[$i];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=$w(t,e.scope_.immer_.useStrictShallowCopy_)}else r=$w(t,!0);return nv(r,(n,i)=>{ON(r,n,DN(i))}),e&&(e.finalized_=!1),r}var DH=new PH,NN=DH.produce;function kN(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var NH=kN(),kH=kN,MH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rv:rv.apply(null,arguments)};function xa(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>CN(n)&&n.type===t,r}var MN=class zh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zh.prototype)}static get[Symbol.species](){return zh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zh(...e[0].concat(this)):new zh(...e.concat(this))}};function K6(t){return gs(t)?NN(t,()=>{}):t}function r1(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function jH(t){return typeof t=="boolean"}var LH=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new MN;return r&&(jH(r)?o.push(NH):o.push(kH(r.extraArgument))),o},BH="RTK_autoBatch",Y6=t=>e=>{setTimeout(e,t)},zH=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const s=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Y6(10):t.type==="callback"?t.queueNotification:Y6(t.timeout),f=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),v=n.subscribe(p);return s.add(d),()=>{v(),s.delete(d)}},dispatch(d){try{return i=!d?.meta?.[BH],a=!i,a&&(o||(o=!0,c(f))),n.dispatch(d)}finally{i=!0}}})},UH=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new MN(t);return n&&i.push(zH(typeof n=="object"?n:void 0)),i};function FH(t){const e=LH(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof r=="function")s=r;else if(BA(r))s=SN(r);else throw new Error(Vi(1));let c;typeof n=="function"?c=n(e):c=e();let f=rv;i&&(f=MH({trace:!1,...typeof i=="object"&&i}));const d=AH(...c),p=UH(d);let v=typeof o=="function"?o(p):p();const y=f(...v);return EN(s,a,y)}function jN(t){const e={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Vi(28));if(s in e)throw new Error(Vi(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function VH(t){return typeof t=="function"}function HH(t,e){let[r,n,i]=jN(e),a;if(VH(t))a=()=>K6(t());else{const s=K6(t);a=()=>s}function o(s=a(),c){let f=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(ou(d)){const y=p(d,c);return y===void 0?d:y}else{if(gs(d))return NN(d,v=>p(v,c));{const v=p(d,c);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},s)}return o.getInitialState=a,o}var $H="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qH=(t=21)=>{let e="",r=t;for(;r--;)e+=$H[Math.random()*64|0];return e},GH=Symbol.for("rtk-slice-createasyncthunk");function WH(t,e){return`${t}/${e}`}function KH({creators:t}={}){const e=t?.asyncThunk?.[GH];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Vi(11));const o=(typeof n.reducers=="function"?n.reducers(XH()):n.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,N){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(Vi(12));if(M in c.sliceCaseReducersByType)throw new Error(Vi(13));return c.sliceCaseReducersByType[M]=N,f},addMatcher(O,N){return c.sliceMatchers.push({matcher:O,reducer:N}),f},exposeAction(O,N){return c.actionCreators[O]=N,f},exposeCaseReducer(O,N){return c.sliceCaseReducersByName[O]=N,f}};s.forEach(O=>{const N=o[O],M={reducerName:O,type:WH(i,O),createNotation:typeof n.reducers=="function"};ZH(N)?e$(M,N,f,e):QH(M,N,f)});function d(){const[O={},N=[],M=void 0]=typeof n.extraReducers=="function"?jN(n.extraReducers):[n.extraReducers],L={...O,...c.sliceCaseReducersByType};return HH(n.initialState,R=>{for(let D in L)R.addCase(D,L[D]);for(let D of c.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of N)R.addMatcher(D.matcher,D.reducer);M&&R.addDefaultCase(M)})}const p=O=>O,v=new Map,y=new WeakMap;let _;function b(O,N){return _||(_=d()),_(O,N)}function A(){return _||(_=d()),_.getInitialState()}function S(O,N=!1){function M(R){let D=R[O];return typeof D>"u"&&N&&(D=r1(y,M,A)),D}function L(R=p){const D=r1(v,N,()=>new WeakMap);return r1(D,R,()=>{const j={};for(const[B,U]of Object.entries(n.selectors??{}))j[B]=YH(U,R,()=>r1(y,R,A),N);return j})}return{reducerPath:O,getSelectors:L,get selectors(){return L(M)},selectSlice:M}}const T={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...S(a),injectInto(O,{reducerPath:N,...M}={}){const L=N??a;return O.inject({reducerPath:L,reducer:b},M),{...T,...S(L,!0)}}};return T}}function YH(t,e,r,n){function i(a,...o){let s=e(a);return typeof s>"u"&&n&&(s=r()),t(s,...o)}return i.unwrapped=t,i}var Ki=KH();function XH(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function QH({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!JH(n))throw new Error(Vi(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?xa(t,o):xa(t))}function ZH(t){return t._reducerDefinitionType==="asyncThunk"}function JH(t){return t._reducerDefinitionType==="reducerWithPrepare"}function e$({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Vi(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:f,options:d}=r,p=i(t,a,d);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),s&&n.addCase(p.pending,s),c&&n.addCase(p.rejected,c),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(e,{fulfilled:o||n1,pending:s||n1,rejected:c||n1,settled:f||n1})}function n1(){}var t$="task",LN="listener",BN="completed",FA="cancelled",r$=`task-${FA}`,n$=`task-${BN}`,Yw=`${LN}-${FA}`,i$=`${LN}-${BN}`,xm=class{constructor(t){this.code=t,this.message=`${t$} ${FA} (reason: ${t})`}name="TaskAbortError";message},VA=(t,e)=>{if(typeof t!="function")throw new TypeError(Vi(32))},ov=()=>{},zN=(t,e=ov)=>(t.catch(e),t),UN=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xc=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Qc=t=>{if(t.aborted){const{reason:e}=t;throw new xm(e)}};function FN(t,e){let r=ov;return new Promise((n,i)=>{const a=()=>i(new xm(t.reason));if(t.aborted){a();return}r=UN(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=ov})}var a$=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof xm?"cancelled":"rejected",error:r}}finally{e?.()}},sv=t=>e=>zN(FN(t,e).then(r=>(Qc(t),r))),VN=t=>{const e=sv(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:If}=Object,X6={},bm="listenerMiddleware",o$=(t,e)=>{const r=n=>UN(t,()=>Xc(n,t.reason));return(n,i)=>{VA(n);const a=new AbortController;r(a);const o=a$(async()=>{Qc(t),Qc(a.signal);const s=await n({pause:sv(a.signal),delay:VN(a.signal),signal:a.signal});return Qc(a.signal),s},()=>Xc(a,n$));return i?.autoJoin&&e.push(o.catch(ov)),{result:sv(t)(o),cancel(){Xc(a,r$)}}}},s$=(t,e)=>{const r=async(n,i)=>{Qc(e);let a=()=>{};const s=[new Promise((c,f)=>{let d=t({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await FN(e,Promise.race(s));return Qc(e),c}finally{a()}};return(n,i)=>zN(r(n,i))},HN=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=xa(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Vi(21));return VA(a),{predicate:i,type:e,effect:a}},$N=If(t=>{const{type:e,predicate:r,effect:n}=HN(t);return{id:qH(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Vi(22))}}},{withTypes:()=>$N}),Q6=(t,e)=>{const{type:r,effect:n,predicate:i}=HN(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Xw=t=>{t.pending.forEach(e=>{Xc(e,Yw)})},l$=t=>()=>{t.forEach(Xw),t.clear()},Z6=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},qN=If(xa(`${bm}/add`),{withTypes:()=>qN}),c$=xa(`${bm}/removeAll`),GN=If(xa(`${bm}/remove`),{withTypes:()=>GN}),u$=(...t)=>{console.error(`${bm}/error`,...t)},Lp=(t={})=>{const e=new Map,{extra:r,onError:n=u$}=t;VA(n);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&Xw(d)}),a=d=>{const p=Q6(e,d)??$N(d);return i(p)};If(a,{withTypes:()=>a});const o=d=>{const p=Q6(e,d);return p&&(p.unsubscribe(),d.cancelActive&&Xw(p)),!!p};If(o,{withTypes:()=>o});const s=async(d,p,v,y)=>{const _=new AbortController,b=s$(a,_.signal),A=[];try{d.pending.add(_),await Promise.resolve(d.effect(p,If({},v,{getOriginalState:y,condition:(S,T)=>b(S,T).then(Boolean),take:b,delay:VN(_.signal),pause:sv(_.signal),extra:r,signal:_.signal,fork:o$(_.signal,A),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((S,T,O)=>{S!==_&&(Xc(S,Yw),O.delete(S))})},cancel:()=>{Xc(_,Yw),d.pending.delete(_)},throwIfCancelled:()=>{Qc(_.signal)}})))}catch(S){S instanceof xm||Z6(n,S,{raisedBy:"effect"})}finally{await Promise.all(A),Xc(_,i$),d.pending.delete(_)}},c=l$(e);return{middleware:d=>p=>v=>{if(!CN(v))return p(v);if(qN.match(v))return a(v.payload);if(c$.match(v)){c();return}if(GN.match(v))return o(v.payload);let y=d.getState();const _=()=>{if(y===X6)throw new Error(Vi(23));return y};let b;try{if(b=p(v),e.size>0){const A=d.getState(),S=Array.from(e.values());for(const T of S){let O=!1;try{O=T.predicate(v,A,y)}catch(N){O=!1,Z6(n,N,{raisedBy:"predicate"})}O&&s(T,v,d,_)}}}finally{y=X6}return b},startListening:a,stopListening:o,clearListeners:c}};function Vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var f$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WN=Ki({name:"chartLayout",initialState:f$,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:d$,setLayout:h$,setChartSize:p$,setScale:g$}=WN.actions,v$=WN.reducer;function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){m$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$(t,e,r){return(e=y$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=x$(t,"string");return typeof e=="symbol"?e:e+""}function x$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lv=Math.PI/180,b$=t=>t*180/Math.PI,Hr=(t,e,r,n)=>({x:t+Math.cos(-lv*n)*r,y:e+Math.sin(-lv*n)*r}),KN=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},w$=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},_$=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=w$({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:o,angle:b$(c),angleInRadian:c}},A$=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},E$=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},S$=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=_$({x:r,y:n},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:f}=A$(e),d=a,p;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=c}return p?eO(eO({},e),{},{radius:i,angle:E$(d,e)}):null};function YN(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){C$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C$(t,e,r){return(e=T$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=I$(t,"string");return typeof e=="symbol"?e:e+""}function I$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xt(t,e,r){return cr(t)||cr(e)?r:Ro(e)?au(t,e,r):typeof e=="function"?e(t):r}var O$=(t,e,r,n,i)=>{var a,o=-1,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var f=c>0?r[c-1].coordinate:r[s-1].coordinate,d=r[c].coordinate,p=c>=s-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(gn(d-f)!==gn(p-d)){var y=[];if(gn(p-d)===gn(i[1]-i[0])){v=p;var _=d+i[1]-i[0];y[0]=Math.min(_,(_+f)/2),y[1]=Math.max(_,(_+f)/2)}else{v=f;var b=p+i[1]-i[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var A=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>A[0]&&t<=A[1]||t>=y[0]&&t<=y[1]){({index:o}=r[c]);break}}else{var S=Math.min(f,p),T=Math.max(f,p);if(t>(S+d)/2&&t<=(T+d)/2){({index:o}=r[c]);break}}}else if(e){for(var O=0;O<s;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<s-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===s-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:o}=e[O]);break}}return o},R$=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ke(t[a]))return ha(ha({},t),{},{[a]:t[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ke(t[o]))return ha(ha({},t),{},{[o]:t[o]+(i||0)})}return t},Xl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",XN=(t,e,r,n)=>{if(n)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(r),o},QN=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:v,axisType:y}=t;if(!o)return null;var _=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(b=y==="angleAxis"&&a&&a.length>=2?gn(a[0]-a[1])*2*b:b,p||v){var A=(p||v||[]).map((S,T)=>{var O=n?n.indexOf(S):S;return{coordinate:o(O)+b,value:S,offset:b,index:T}});return A.filter(S=>!Hi(S.coordinate))}return c&&f?f.map((S,T)=>({coordinate:o(S)+b,value:S,index:T,offset:b})):o.ticks&&d!=null?o.ticks(d).map((S,T)=>({coordinate:o(S)+b,value:S,offset:b,index:T})):o.domain().map((S,T)=>({coordinate:o(S)+b,value:n?n[S]:S,index:T,offset:b}))},rO=1e-4,P$=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-rO,a=Math.max(n[0],n[1])+rO,o=t(e[0]),s=t(e[r-1]);(o<i||o>a||s<i||s>a)&&t.domain([e[0],e[r-1]])}},D$=(t,e)=>{if(!e||e.length!==2||!ke(e[0])||!ke(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<r)&&(i[0]=r),(!ke(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},N$=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var s=Hi(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=i,t[o][r][1]=i+s,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1])}},k$=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=Hi(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},M$={sign:N$,expand:uV,none:Lf,silhouette:fV,wiggle:dV,positive:k$},j$=(t,e,r)=>{var n=M$[r],i=cV().keys(e).value((a,o)=>+Xt(a,o,0)).order(Uw).offset(n);return i(t)};function L$(t){return t==null?void 0:String(t)}function nO(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cr(i[e.dataKey])){var s=FD(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Xt(i,cr(o)?e.dataKey:o);return cr(c)?null:e.scale(c)}var iO=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var s=Xt(a,e.dataKey,e.scale.domain()[o]);return cr(s)?null:e.scale(s)-i/2+n},B$=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},z$=t=>{var e=t.flat(2).filter(ke);return[Math.min(...e),Math.max(...e)]},U$=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],F$=(t,e,r)=>{if(t!=null)return U$(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,s=o.reduce((c,f)=>{var d=YN(f,e,r),p=z$(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},aO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hp=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=gm(e,d=>d.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function sO(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return ha(ha({},e),{},{dataKey:r,payload:n,value:i,name:a})}function id(t,e){if(t)return String(t);if(typeof e=="string")return e}function V$(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?S$({x:t,y:e},n):null}var H$=(t,e,r,n)=>{var i=e.find(f=>f&&f.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return ha(ha(ha({},n),Hr(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=n;return ha(ha(ha({},n),Hr(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},$$=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Es=t=>t.layout.width,Ss=t=>t.layout.height,q$=t=>t.layout.scale,ZN=t=>t.layout.margin,wm=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_m=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),JN="data-recharts-item-index",ek="data-recharts-item-data-key",Bp=60;function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){G$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G$(t,e,r){return(e=W$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W$(t){var e=K$(t,"string");return typeof e=="symbol"?e:e+""}function K$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y$=t=>t.brush.height;function X$(t){var e=_m(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Bp;return r+i}return r},0)}function Q$(t){var e=_m(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Bp;return r+i}return r},0)}function Z$(t){var e=wm(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function J$(t){var e=wm(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nn=ae([Es,Ss,ZN,Y$,X$,Q$,Z$,J$,_N,vH],(t,e,r,n,i,a,o,s,c,f)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+s},v=i1(i1({},p),d),y=v.bottom;v.bottom+=n,v=R$(v,c,f);var _=t-v.left-v.right,b=e-v.top-v.bottom;return i1(i1({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(b,0)})}),eq=ae(nn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),HA=ae(Es,Ss,(t,e)=>({x:0,y:0,width:t,height:e})),tq=C.createContext(null),_i=()=>C.useContext(tq)!=null,Am=t=>t.brush,Em=ae([Am,nn,ZN],(t,e,r)=>({height:t.height,x:ke(t.x)?t.x:e.left,y:ke(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:ke(t.width)?t.width:e.width})),$A=()=>{var t,e=_i(),r=Pe(eq),n=Pe(Em),i=(t=Pe(Am))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},rq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tk=()=>{var t;return(t=Pe(nn))!==null&&t!==void 0?t:rq},qA=()=>Pe(Es),GA=()=>Pe(Ss),nq=()=>Pe(t=>t.layout.margin),vt=t=>t.layout.layoutType,Sm=()=>Pe(vt),iq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rk=Ki({name:"legend",initialState:iq,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=fs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:cO,setLegendSettings:aq,addLegendPayload:nk,removeLegendPayload:ik}=rk.actions,oq=rk.reducer,sq=["contextPayload"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(null,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){WA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WA(t,e,r){return(e=lq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lq(t){var e=cq(t,"string");return typeof e=="symbol"?e:e+""}function cq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uq(t,e){if(t==null)return{};var r,n,i=fq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dq(t){return t.value}function hq(t){var{contextPayload:e}=t,r=uq(t,sq),n=yN(e,t.payloadUniqBy,dq),i=zf(zf({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(kA,i)}function pq(t,e,r,n,i,a){var{layout:o,align:s,verticalAlign:c}=e,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?f={left:((n||0)-a.width)/2}:f=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),zf(zf({},f),d)}function gq(t){var e=gr();return C.useEffect(()=>{e(aq(t))},[e,t]),null}function vq(t){var e=gr();return C.useEffect(()=>(e(cO(t)),()=>{e(cO({width:0,height:0}))}),[e,t]),null}function mq(t){var e=xH(),r=NF(),n=nq(),{width:i,height:a,wrapperStyle:o,portal:s}=t,[c,f]=AN([e]),d=qA(),p=GA();if(d==null||p==null)return null;var v=d-(n.left||0)-(n.right||0),y=Cm.getWidthOrHeight(t.layout,a,i,v),_=s?o:zf(zf({position:"absolute",width:y?.width||i||"auto",height:y?.height||a||"auto"},pq(o,t,n,d,p,c)),o),b=s??r;if(b==null)return null;var A=C.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},C.createElement(gq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(vq,{width:c.width,height:c.height}),C.createElement(hq,Qw({},t,y,{margin:n,chartWidth:d,chartHeight:p,contextPayload:e})));return qD.createPortal(A,b)}class Cm extends C.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&ke(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return C.createElement(mq,this.props)}}WA(Cm,"displayName","Legend");WA(Cm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(null,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ob(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){yq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yq(t,e,r){return(e=xq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xq(t){var e=bq(t,"string");return typeof e=="symbol"?e:e+""}function bq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wq(t){return Array.isArray(t)&&Ro(t[0])&&Ro(t[1])?t.join(" ~ "):t}var _q=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var M={padding:0,margin:0},L=(s?gm(a,s):a).map((R,D)=>{if(R.type==="none")return null;var j=R.formatter||o||wq,{value:B,name:U}=R,V=B,z=U;if(j){var Q=j(B,U,R,D,a);if(Array.isArray(Q))[V,z]=Q;else if(Q!=null)V=Q;else return null}var de=Ob({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:de},Ro(z)?C.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ro(z)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},V),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},_=Ob({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Ob({margin:0},i),A=!cr(d),S=A?d:"",T=wt("recharts-default-tooltip",c),O=wt("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(S=p(d,a));var N=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Zw({className:T,style:_},N),C.createElement("p",{className:O,style:b},C.isValidElement(S)?S:"".concat(S)),y())},Sh="recharts-tooltip-wrapper",Aq={visibility:"hidden"};function Eq(t){var{coordinate:e,translateX:r,translateY:n}=t;return wt(Sh,{["".concat(Sh,"-right")]:ke(r)&&e&&ke(e.x)&&r>=e.x,["".concat(Sh,"-left")]:ke(r)&&e&&ke(e.x)&&r<e.x,["".concat(Sh,"-bottom")]:ke(n)&&e&&ke(e.y)&&n>=e.y,["".concat(Sh,"-top")]:ke(n)&&e&&ke(e.y)&&n<e.y})}function dO(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:f}=t;if(a&&ke(a[n]))return a[n];var d=r[n]-s-(i>0?i:0),p=r[n]+i;if(e[n])return o[n]?d:p;var v=c[n];if(v==null)return 0;if(o[n]){var y=d,_=v;return y<_?Math.max(p,v):Math.max(d,v)}if(f==null)return 0;var b=p+s,A=v+f;return b>A?Math.max(d,v):Math.max(p,v)}function Sq(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cq(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=t,f,d,p;return o.height>0&&o.width>0&&r?(d=dO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=dO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=Sq({translateX:d,translateY:p,useTranslate3d:s})):f=Aq,{cssProperties:f,cssClasses:Eq({translateX:d,translateY:p,coordinate:r})}}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){Jw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jw(t,e,r){return(e=Tq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tq(t){var e=Iq(t,"string");return typeof e=="symbol"?e:e+""}function Iq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Oq extends C.PureComponent{constructor(){super(...arguments),Jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:f,position:d,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:_,lastBoundingBox:b,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:T,cssProperties:O}=Cq({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:y}),N=S?{}:a1(a1({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),M=a1(a1({},N),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},_);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:M,ref:A},a)}}var Rq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ql={devToolsEnabled:!1,isSsr:Rq()},ak=()=>Pe(t=>t.rootProps.accessibilityLayer);function qi(t){return Number.isFinite(t)}function Uf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_.apply(null,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){Pq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pq(t,e,r){return(e=Dq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dq(t){var e=Nq(t,"string");return typeof e=="symbol"?e:e+""}function Nq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vO={curveBasisClosed:ZF,curveBasisOpen:JF,curveBasis:QF,curveBumpX:LF,curveBumpY:BF,curveLinearClosed:eV,curveLinear:hm,curveMonotoneX:tV,curveMonotoneY:rV,curveNatural:nV,curveStep:iV,curveStepAfter:oV,curveStepBefore:aV},o1=t=>qi(t.x)&&qi(t.y),Ch=t=>t.x,Th=t=>t.y,kq=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(kp(t));return(r==="curveMonotone"||r==="curveBump")&&e?vO["".concat(r).concat(e==="vertical"?"Y":"X")]:vO[r]||hm},Mq=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=kq(e,i),s=a?r.filter(o1):r,c;if(Array.isArray(n)){var f=a?n.filter(p=>o1(p)):n,d=s.map((p,v)=>gO(gO({},p),{},{base:f[v]}));return i==="vertical"?c=Zg().y(Th).x1(Ch).x0(p=>p.base.x):c=Zg().x(Ch).y1(Th).y0(p=>p.base.y),c.defined(o1).curve(o),c(d)}return i==="vertical"&&ke(n)?c=Zg().y(Th).x1(Ch).x0(n):ke(n)?c=Zg().x(Ch).y1(Th).y0(n):c=ZD().x(Ch).y(Th),c.defined(o1).curve(o),c(s)},KA=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Mq(t):n;return C.createElement("path",e_({},jo(t),CA(t),{className:wt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},jq=["x","y","top","left","width","height","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t_.apply(null,arguments)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Bq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bq(t,e,r){return(e=zq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zq(t){var e=Uq(t,"string");return typeof e=="symbol"?e:e+""}function Uq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fq(t,e){if(t==null)return{};var r,n,i=Vq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hq=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),$q=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=t,c=Fq(t,jq),f=Lq({x:e,y:r,top:n,left:i,width:a,height:o},c);return!ke(e)||!ke(r)||!ke(a)||!ke(o)||!ke(n)||!ke(i)?null:C.createElement("path",t_({},hr(f,!0),{className:wt("recharts-cross",s),d:Hq(e,r,a,o,n,i)}))};function qq(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){Wq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wq(t,e,r){return(e=Kq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kq(t){var e=Yq(t,"string");return typeof e=="symbol"?e:e+""}function Yq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mn(t,e){var r=Gq({},t),n=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function Xq(){}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){Qq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qq(t,e,r){return(e=Zq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ok=(t,e,r)=>t.map(n=>"".concat(eG(n)," ").concat(e,"ms ").concat(r)).join(","),tG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),pp=(t,e)=>Object.keys(e).reduce((r,n)=>bO(bO({},r),{},{[n]:t(n,e[n])}),{});function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){rG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rG(t,e,r){return(e=nG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=iG(t,"string");return typeof e=="symbol"?e:e+""}function iG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cv=(t,e,r)=>t+(e-t)*r,r_=t=>{var{from:e,to:r}=t;return e!==r},sk=(t,e,r)=>{var n=pp((i,a)=>{if(r_(a)){var[o,s]=t(a.from,a.to,a.velocity);return On(On({},a),{},{from:o,velocity:s})}return a},e);return r<1?pp((i,a)=>r_(a)?On(On({},a),{},{velocity:cv(a.velocity,n[i].velocity,r),from:cv(a.from,n[i].from,r)}):a,e):sk(t,n,r-1)};function aG(t,e,r,n,i,a){var o,s=n.reduce((v,y)=>On(On({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>pp((v,y)=>y.from,s),f=()=>!Object.values(s).filter(r_).length,d=null,p=v=>{o||(o=v);var y=v-o,_=y/r.dt;s=sk(r,s,_),i(On(On(On({},t),e),c())),o=v,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function oG(t,e,r,n,i,a,o){var s=null,c=i.reduce((p,v)=>On(On({},p),{},{[v]:[t[v],e[v]]}),{}),f,d=p=>{f||(f=p);var v=(p-f)/n,y=pp((b,A)=>cv(...A,r(v)),c);if(a(On(On(On({},t),e),y)),v<1)s=o.setTimeout(d);else{var _=pp((b,A)=>cv(...A,r(1)),c);a(On(On(On({},t),e),_))}};return()=>(s=o.setTimeout(d),()=>{s()})}const sG=(t,e,r,n,i,a)=>{var o=tG(t,e);return r.isStepper===!0?aG(t,e,r,o,i,a):oG(t,e,r,n,o,i,a)};var uv=1e-4,lk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ck=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),_O=(t,e)=>r=>{var n=lk(t,e);return ck(n,r)},lG=(t,e)=>r=>{var n=lk(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return ck(i,r)},AO=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,r,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,n,r,i]=o);var f=_O(e,r),d=_O(n,i),p=lG(e,r),v=_=>_>1?1:_<0?0:_,y=_=>{for(var b=_>1?1:_,A=b,S=0;S<8;++S){var T=f(A)-b,O=p(A);if(Math.abs(T-b)<uv||O<uv)return d(A);A=v(A-T/O)}return d(A)};return y.isStepper=!1,y},cG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,s,c)=>{var f=-(o-s)*r,d=c*n,p=c+(f-d)*i/1e3,v=c*i/1e3+o;return Math.abs(v-s)<uv&&Math.abs(p)<uv?[s,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},uG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AO(t);case"spring":return cG();default:if(t.split("(")[0]==="cubic-bezier")return AO(t)}return typeof t=="function"?t:null};function fG(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...f]=s;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class dG{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function hG(){return fG(new dG)}var pG=C.createContext(hG);function gG(t,e){var r=C.useContext(pG);return C.useMemo(()=>e??r(t),[t,e,r])}var vG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EO={t:0},Rb={t:1};function zp(t){var e=Mn(t,vG),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:f}=e,d=gG(e.animationId,e.animationManager),[p,v]=C.useState(r?EO:Rb),y=C.useRef(null);return C.useEffect(()=>{r||v(Rb)},[r]),C.useEffect(()=>{if(!r||!n)return Xq;var _=sG(EO,Rb,uG(a),i,v,d.getTimeoutController()),b=()=>{y.current=_()};return d.start([c,o,b,i,s]),()=>{d.stop(),y.current&&y.current(),s()}},[r,n,i,a,o,c,s,d]),f(p.t)}function Up(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(up(e)),n=C.useRef(t);return n.current!==t&&(r.current=up(e),n.current=t),r.current}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){mG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mG(t,e,r){return(e=yG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(null,arguments)}var TO=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+s*d[0],",").concat(e)),f+="L ".concat(t+r-s*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+o*d[1])),f+="L ".concat(t+r,",").concat(e+n-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-s*d[2],",").concat(e+n)),f+="L ".concat(t+s*d[3],",").concat(e+n),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-o*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);f="M ".concat(t,",").concat(e+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+s*y,",").concat(e,`
            L `).concat(t+r-s*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r,",").concat(e+o*y,`
            L `).concat(t+r,",").concat(e+n-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r-s*y,",").concat(e+n,`
            L `).concat(t+s*y,",").concat(e+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(e+n-o*y," Z")}else f="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},bG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=t=>{var e=Mn(t,bG),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:f,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:b}=e,A=C.useRef(s),S=C.useRef(c),T=C.useRef(a),O=C.useRef(o),N=C.useMemo(()=>({x:a,y:o,width:s,height:c,radius:f}),[a,o,s,c,f]),M=Up(N,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var L=wt("recharts-rectangle",d);if(!b)return C.createElement("path",fv({},hr(e,!0),{className:L,d:TO(a,o,s,c,f)}));var R=A.current,D=S.current,j=T.current,B=O.current,U="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),z=ok(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(zp,{animationId:M,key:M,canBegin:n>0,duration:v,easing:p,isActive:b,begin:y},Q=>{var de=yr(R,s,Q),Y=yr(D,c,Q),re=yr(j,a,Q),K=yr(B,o,Q);r.current&&(A.current=de,S.current=Y,T.current=re,O.current=K);var ve;return _?Q>0?ve={transition:z,strokeDasharray:V}:ve={strokeDasharray:U}:ve={strokeDasharray:V},C.createElement("path",fv({},hr(e,!0),{className:L,d:TO(re,K,de,Y,f),ref:r,style:CO(CO({},ve),e.style)}))})};function fk(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=Hr(e,r,n,i),s=Hr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n_.apply(null,arguments)}var wG=(t,e)=>{var r=gn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},s1=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=t,f=s*(o?1:-1)+n,d=Math.asin(s/f)/lv,p=c?i:i+a*d,v=Hr(e,r,f,p),y=Hr(e,r,n,p),_=c?i-a*d:i,b=Hr(e,r,f*Math.cos(d*lv),_);return{center:v,circleTangency:y,lineTangency:b,theta:d}},dk=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,s=wG(a,o),c=a+s,f=Hr(e,r,i,a),d=Hr(e,r,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var v=Hr(e,r,n,a),y=Hr(e,r,n,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},_G=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:f}=t,d=gn(f-c),{circleTangency:p,lineTangency:v,theta:y}=s1({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:b,theta:A}=s1({cx:e,cy:r,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:s}),S=s?Math.abs(c-f):Math.abs(c-f)-y-A;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):dk({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:f});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:N,theta:M}=s1({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:L,lineTangency:R,theta:D}=s1({cx:e,cy:r,radius:n,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),j=s?Math.abs(c-f):Math.abs(c-f)-M-D;if(j<0&&a===0)return"".concat(T,"L").concat(e,",").concat(r,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else T+="L".concat(e,",").concat(r,"Z");return T},AG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hk=t=>{var e=Mn(t,AG),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:f,endAngle:d,className:p}=e;if(a<i||f===d)return null;var v=wt("recharts-sector",p),y=a-i,_=qn(o,y,0,!0),b;return _>0&&Math.abs(f-d)<360?b=_G({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,y/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:f,endAngle:d}):b=dk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),C.createElement("path",n_({},hr(e,!0),{className:v,d:b}))};function EG(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:s,cy:c,innerRadius:f,outerRadius:d,angle:p}=e,v=Hr(s,c,f,p),y=Hr(s,c,d,p);n=v.x,i=v.y,a=y.x,o=y.y}else return fk(e);return[{x:n,y:i},{x:a,y:o}]}var Pb={},Db={},Nb={},IO;function SG(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bN();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Nb)),Nb}var OO;function CG(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SG();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Db)),Db}var RO;function TG(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wN(),r=CG();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let f=0;f<s;f++)c[f]=i,i+=o;return c}t.range=n})(Pb)),Pb}var kb,PO;function IG(){return PO||(PO=1,kb=TG().range),kb}var OG=IG();const pk=Mo(OG);function Ol(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YA(t){let e,r,n;t.length!==2?(e=Ol,r=(s,c)=>Ol(t(s),c),n=(s,c)=>t(s)-c):(e=t===Ol||t===RG?t:PG,r=t,n=t);function i(s,c,f=0,d=s.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(s[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(s,c,f=0,d=s.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(s[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function o(s,c,f=0,d=s.length){const p=i(s,c,f,d-1);return p>f&&n(s[p-1],c)>-n(s[p],c)?p-1:p}return{left:i,center:o,right:a}}function PG(){return 0}function gk(t){return t===null?NaN:+t}function*DG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const NG=YA(Ol),Fp=NG.right;YA(gk).center;class DO extends Map{constructor(e,r=jG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(NO(this,e))}has(e){return super.has(NO(this,e))}set(e,r){return super.set(kG(this,e),r)}delete(e){return super.delete(MG(this,e))}}function NO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function kG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function MG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function jG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LG(t=Ol){if(t===Ol)return vk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const BG=Math.sqrt(50),zG=Math.sqrt(10),UG=Math.sqrt(2);function dv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=BG?10:a>=zG?5:a>=UG?2:1;let s,c,f;return i<0?(f=Math.pow(10,-i)/o,s=Math.round(t*f),c=Math.round(e*f),s/f<t&&++s,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,s=Math.round(t/f),c=Math.round(e/f),s*f<t&&++s,c*f>e&&--c),c<s&&.5<=r&&r<2?dv(t,e,r*2):[s,c,f]}function i_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?dv(e,t,r):dv(t,e,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let f=0;f<s;++f)c[f]=(a-f)/-o;else for(let f=0;f<s;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<s;++f)c[f]=(i+f)/-o;else for(let f=0;f<s;++f)c[f]=(i+f)*o;return c}function a_(t,e,r){return e=+e,t=+t,r=+r,dv(t,e,r)[2]}function o_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?a_(e,t,r):a_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function kO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mk(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?vk:LG(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/c+v)),_=Math.min(n,Math.floor(e+(c-f)*p/c+v));mk(t,e,y,_,i)}const a=t[e];let o=r,s=n;for(Ih(t,r,e),i(t[n],a)>0&&Ih(t,r,n);o<s;){for(Ih(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Ih(t,r,s):(++s,Ih(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Ih(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function FG(t,e,r){if(t=Float64Array.from(DG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return MO(t);if(e>=1)return kO(t);var n,i=(n-1)*e,a=Math.floor(i),o=kO(mk(t,a).subarray(0,a+1)),s=MO(t.subarray(a+1));return o+(s-o)*(i-a)}}function VG(t,e,r=gk){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function HG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Aa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const s_=Symbol("implicit");function XA(){var t=new DO,e=[],r=[],n=s_;function i(a){let o=t.get(a);if(o===void 0){if(n!==s_)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new DO;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return XA(e,r).unknown(n)},Aa.apply(i,arguments),i}function QA(){var t=XA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,y=i<n,_=y?i:n,b=y?n:i;a=(b-_)/Math.max(1,v-c+f*2),s&&(a=Math.floor(a)),_+=(b-_-a*(v-c))*d,o=a*(1-c),s&&(_=Math.round(_),o=Math.round(o));var A=HG(v).map(function(S){return _+a*S});return r(y?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,s=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(s=!!v,p()):s},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return QA(e(),[n,i]).round(s).paddingInner(c).paddingOuter(f).align(d)},Aa.apply(p(),arguments)}function yk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yk(e())},t}function $G(){return yk(QA.apply(null,arguments).paddingInner(1))}function ZA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function xk(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Vp(){}var gp=.7,hv=1/gp,Of="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qG=/^#([0-9a-f]{3,8})$/,GG=new RegExp(`^rgb\\(${Of},${Of},${Of}\\)$`),WG=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),KG=new RegExp(`^rgba\\(${Of},${Of},${Of},${vp}\\)$`),YG=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${vp}\\)$`),XG=new RegExp(`^hsl\\(${vp},${Eo},${Eo}\\)$`),QG=new RegExp(`^hsla\\(${vp},${Eo},${Eo},${vp}\\)$`),jO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZA(Vp,mp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LO,formatHex:LO,formatHex8:ZG,formatHsl:JG,formatRgb:BO,toString:BO});function LO(){return this.rgb().formatHex()}function ZG(){return this.rgb().formatHex8()}function JG(){return bk(this).formatHsl()}function BO(){return this.rgb().formatRgb()}function mp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?zO(e):r===3?new wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?l1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?l1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GG.exec(t))?new wi(e[1],e[2],e[3],1):(e=WG.exec(t))?new wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KG.exec(t))?l1(e[1],e[2],e[3],e[4]):(e=YG.exec(t))?l1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XG.exec(t))?VO(e[1],e[2]/100,e[3]/100,1):(e=QG.exec(t))?VO(e[1],e[2]/100,e[3]/100,e[4]):jO.hasOwnProperty(t)?zO(jO[t]):t==="transparent"?new wi(NaN,NaN,NaN,0):null}function zO(t){return new wi(t>>16&255,t>>8&255,t&255,1)}function l1(t,e,r,n){return n<=0&&(t=e=r=NaN),new wi(t,e,r,n)}function eW(t){return t instanceof Vp||(t=mp(t)),t?(t=t.rgb(),new wi(t.r,t.g,t.b,t.opacity)):new wi}function l_(t,e,r,n){return arguments.length===1?eW(t):new wi(t,e,r,n??1)}function wi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ZA(wi,l_,xk(Vp,{brighter(t){return t=t==null?hv:Math.pow(hv,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gp:Math.pow(gp,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wi(Zc(this.r),Zc(this.g),Zc(this.b),pv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UO,formatHex:UO,formatHex8:tW,formatRgb:FO,toString:FO}));function UO(){return`#${Hc(this.r)}${Hc(this.g)}${Hc(this.b)}`}function tW(){return`#${Hc(this.r)}${Hc(this.g)}${Hc(this.b)}${Hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function FO(){const t=pv(this.opacity);return`${t===1?"rgb(":"rgba("}${Zc(this.r)}, ${Zc(this.g)}, ${Zc(this.b)}${t===1?")":`, ${t})`}`}function pv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hc(t){return t=Zc(t),(t<16?"0":"")+t.toString(16)}function VO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Va(t,e,r,n)}function bk(t){if(t instanceof Va)return new Va(t.h,t.s,t.l,t.opacity);if(t instanceof Vp||(t=mp(t)),!t)return new Va;if(t instanceof Va)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Va(o,s,c,t.opacity)}function rW(t,e,r,n){return arguments.length===1?bk(t):new Va(t,e,r,n??1)}function Va(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ZA(Va,rW,xk(Vp,{brighter(t){return t=t==null?hv:Math.pow(hv,t),new Va(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gp:Math.pow(gp,t),new Va(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new wi(Mb(t>=240?t-240:t+120,i,n),Mb(t,i,n),Mb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Va(HO(this.h),c1(this.s),c1(this.l),pv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pv(this.opacity);return`${t===1?"hsl(":"hsla("}${HO(this.h)}, ${c1(this.s)*100}%, ${c1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function HO(t){return t=(t||0)%360,t<0?t+360:t}function c1(t){return Math.max(0,Math.min(1,t||0))}function Mb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const JA=t=>()=>t;function nW(t,e){return function(r){return t+r*e}}function iW(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function aW(t){return(t=+t)==1?wk:function(e,r){return r-e?iW(e,r,t):JA(isNaN(e)?r:e)}}function wk(t,e){var r=e-t;return r?nW(t,r):JA(isNaN(t)?e:t)}const $O=(function t(e){var r=aW(e);function n(i,a){var o=r((i=l_(i)).r,(a=l_(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),f=wk(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=f(d),i+""}}return n.gamma=t,n})(1);function oW(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function sW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lW(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ad(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function cW(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function gv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function uW(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ad(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var c_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jb=new RegExp(c_.source,"g");function fW(t){return function(){return t}}function dW(t){return function(e){return t(e)+""}}function hW(t,e){var r=c_.lastIndex=jb.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(n=c_.exec(t))&&(i=jb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:gv(n,i)})),r=jb.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?dW(c[0].x):fW(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)s[(p=c[d]).i]=p.x(f);return s.join("")})}function ad(t,e){var r=typeof e,n;return e==null||r==="boolean"?JA(e):(r==="number"?gv:r==="string"?(n=mp(e))?(e=n,$O):hW:e instanceof mp?$O:e instanceof Date?cW:sW(e)?oW:Array.isArray(e)?lW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uW:gv)(t,e)}function eE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pW(t,e){e===void 0&&(e=t,t=ad);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function gW(t){return function(){return t}}function vv(t){return+t}var qO=[0,1];function ni(t){return t}function u_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:gW(isNaN(e)?NaN:.5)}function vW(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function mW(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=u_(i,n),a=r(o,a)):(n=u_(n,i),a=r(a,o)),function(s){return a(n(s))}}function yW(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=u_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var c=Fp(t,s,1,n)-1;return a[c](i[c](s))}}function Hp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tm(){var t=qO,e=qO,r=ad,n,i,a,o=ni,s,c,f;function d(){var v=Math.min(t.length,e.length);return o!==ni&&(o=vW(t[0],t[v-1])),s=v>2?yW:mW,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=s(t.map(n),e,r)))(n(o(v)))}return p.invert=function(v){return o(i((f||(f=s(e,t.map(n),gv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,vv),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=eE,d()},p.clamp=function(v){return arguments.length?(o=v?!0:ni,d()):o!==ni},p.interpolate=function(v){return arguments.length?(r=v,d()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return n=v,i=y,d()}}function tE(){return Tm()(ni,ni)}function xW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ff(t){return t=mv(Math.abs(t)),t?t[1]:NaN}function bW(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function wW(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _W=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yp(t){if(!(e=_W.exec(t)))throw new Error("invalid format: "+t);var e;return new rE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yp.prototype=rE.prototype;function rE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AW(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var _k;function EW(t,e){var r=mv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(_k=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mv(t,Math.max(0,e+a-1))[0]}function GO(t,e){var r=mv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const WO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GO(t*100,e),r:GO,s:EW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KO(t){return t}var YO=Array.prototype.map,XO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SW(t){var e=t.grouping===void 0||t.thousands===void 0?KO:bW(YO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?KO:wW(YO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=yp(p);var v=p.fill,y=p.align,_=p.sign,b=p.symbol,A=p.zero,S=p.width,T=p.comma,O=p.precision,N=p.trim,M=p.type;M==="n"?(T=!0,M="g"):WO[M]||(O===void 0&&(O=12),N=!0,M="g"),(A||v==="0"&&y==="=")&&(A=!0,v="0",y="=");var L=b==="$"?r:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=b==="$"?n:/[%p]/.test(M)?o:"",D=WO[M],j=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function B(U){var V=L,z=R,Q,de,Y;if(M==="c")z=D(U)+z,U="";else{U=+U;var re=U<0||1/U<0;if(U=isNaN(U)?c:D(Math.abs(U),O),N&&(U=AW(U)),re&&+U==0&&_!=="+"&&(re=!1),V=(re?_==="("?_:s:_==="-"||_==="("?"":_)+V,z=(M==="s"?XO[8+_k/3]:"")+z+(re&&_==="("?")":""),j){for(Q=-1,de=U.length;++Q<de;)if(Y=U.charCodeAt(Q),48>Y||Y>57){z=(Y===46?i+U.slice(Q+1):U.slice(Q))+z,U=U.slice(0,Q);break}}}T&&!A&&(U=e(U,1/0));var K=V.length+U.length+z.length,ve=K<S?new Array(S-K+1).join(v):"";switch(T&&A&&(U=e(ve+U,ve.length?S-z.length:1/0),ve=""),y){case"<":U=V+U+z+ve;break;case"=":U=V+ve+U+z;break;case"^":U=ve.slice(0,K=ve.length>>1)+V+U+z+ve.slice(K);break;default:U=ve+V+U+z;break}return a(U)}return B.toString=function(){return p+""},B}function d(p,v){var y=f((p=yp(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Ff(v)/3)))*3,b=Math.pow(10,-_),A=XO[8+_/3];return function(S){return y(b*S)+A}}return{format:f,formatPrefix:d}}var u1,nE,Ak;CW({thousands:",",grouping:[3],currency:["$",""]});function CW(t){return u1=SW(t),nE=u1.format,Ak=u1.formatPrefix,u1}function TW(t){return Math.max(0,-Ff(Math.abs(t)))}function IW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ff(e)/3)))*3-Ff(Math.abs(t)))}function OW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ff(e)-Ff(t))+1}function Ek(t,e,r,n){var i=o_(t,e,r),a;switch(n=yp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=IW(i,o))&&(n.precision=a),Ak(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=OW(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=TW(i))&&(n.precision=a-(n.type==="%")*2);break}}return nE(n)}function Zl(t){var e=t.domain;return t.ticks=function(r){var n=e();return i_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Ek(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],c,f,d=10;for(s<o&&(f=o,o=s,s=f,f=i,i=a,a=f);d-- >0;){if(f=a_(o,s,r),f===c)return n[i]=o,n[a]=s,e(n);if(f>0)o=Math.floor(o/f)*f,s=Math.ceil(s/f)*f;else if(f<0)o=Math.ceil(o*f)/f,s=Math.floor(s*f)/f;else break;c=f}return t},t}function Sk(){var t=tE();return t.copy=function(){return Hp(t,Sk())},Aa.apply(t,arguments),Zl(t)}function Ck(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,vv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Ck(t).unknown(e)},t=arguments.length?Array.from(t,vv):[0,1],Zl(r)}function Tk(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function QO(t){return Math.log(t)}function ZO(t){return Math.exp(t)}function RW(t){return-Math.log(-t)}function PW(t){return-Math.exp(-t)}function DW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NW(t){return t===10?DW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JO(t){return(e,r)=>-t(-e,r)}function iE(t){const e=t(QO,ZO),r=e.domain;let n=10,i,a;function o(){return i=kW(n),a=NW(n),r()[0]<0?(i=JO(i),a=JO(a),t(RW,PW)):t(QO,ZO),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const c=r();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),y=i(d),_,b;const A=s==null?10:+s;let S=[];if(!(n%1)&&y-v<A){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(_=1;_<n;++_)if(b=v<0?_/a(-v):_*a(v),!(b<f)){if(b>d)break;S.push(b)}}else for(;v<=y;++v)for(_=n-1;_>=1;--_)if(b=v>0?_/a(-v):_*a(v),!(b<f)){if(b>d)break;S.push(b)}S.length*2<A&&(S=i_(f,d,A))}else S=i_(v,y,Math.min(y-v,A)).map(a);return p?S.reverse():S},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yp(c)).precision==null&&(c.trim=!0),c=nE(c)),s===1/0)return c;const f=Math.max(1,n*s/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=f?c(d):""}},e.nice=()=>r(Tk(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function Ik(){const t=iE(Tm()).domain([1,10]);return t.copy=()=>Hp(t,Ik()).base(t.base()),Aa.apply(t,arguments),t}function e8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function t8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aE(t){var e=1,r=t(e8(e),t8(e));return r.constant=function(n){return arguments.length?t(e8(e=+n),t8(e)):e},Zl(r)}function Ok(){var t=aE(Tm());return t.copy=function(){return Hp(t,Ok()).constant(t.constant())},Aa.apply(t,arguments)}function r8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function MW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jW(t){return t<0?-t*t:t*t}function oE(t){var e=t(ni,ni),r=1;function n(){return r===1?t(ni,ni):r===.5?t(MW,jW):t(r8(r),r8(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Zl(e)}function sE(){var t=oE(Tm());return t.copy=function(){return Hp(t,sE()).exponent(t.exponent())},Aa.apply(t,arguments),t}function LW(){return sE.apply(null,arguments).exponent(.5)}function n8(t){return Math.sign(t)*t*t}function BW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Rk(){var t=tE(),e=[0,1],r=!1,n;function i(a){var o=BW(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(n8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,vv)).map(n8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Rk(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Aa.apply(i,arguments),Zl(i)}function Pk(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=VG(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Fp(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ol),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Pk().domain(t).range(e).unknown(n)},Aa.apply(a,arguments)}function Dk(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Fp(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Dk().domain([t,e]).range(i).unknown(a)},Aa.apply(Zl(o),arguments)}function Nk(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Fp(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nk().domain(t).range(e).unknown(r)},Aa.apply(i,arguments)}const Lb=new Date,Bb=new Date;function an(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let f;do c.push(f=new Date(+a)),e(a,s),t(a);while(f<a&&a<o);return c},i.filter=a=>an(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Lb.setTime(+a),Bb.setTime(+o),t(Lb),t(Bb),Math.floor(r(Lb,Bb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const yv=an(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?an(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):yv);yv.range;const ss=1e3,ga=ss*60,ls=ga*60,vs=ls*24,lE=vs*7,i8=vs*30,zb=vs*365,$c=an(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getUTCSeconds());$c.range;const cE=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss)},(t,e)=>{t.setTime(+t+e*ga)},(t,e)=>(e-t)/ga,t=>t.getMinutes());cE.range;const uE=an(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ga)},(t,e)=>(e-t)/ga,t=>t.getUTCMinutes());uE.range;const fE=an(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss-t.getMinutes()*ga)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getHours());fE.range;const dE=an(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCHours());dE.range;const $p=an(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ga)/vs,t=>t.getDate()-1);$p.range;const Im=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Im.range;const kk=an(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));kk.range;function bu(t){return an(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ga)/lE)}const Om=bu(0),xv=bu(1),zW=bu(2),UW=bu(3),Vf=bu(4),FW=bu(5),VW=bu(6);Om.range;xv.range;zW.range;UW.range;Vf.range;FW.range;VW.range;function wu(t){return an(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/lE)}const Rm=wu(0),bv=wu(1),HW=wu(2),$W=wu(3),Hf=wu(4),qW=wu(5),GW=wu(6);Rm.range;bv.range;HW.range;$W.range;Hf.range;qW.range;GW.range;const hE=an(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hE.range;const pE=an(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pE.range;const ms=an(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ms.range;const ys=an(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:an(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ys.range;function Mk(t,e,r,n,i,a){const o=[[$c,1,ss],[$c,5,5*ss],[$c,15,15*ss],[$c,30,30*ss],[a,1,ga],[a,5,5*ga],[a,15,15*ga],[a,30,30*ga],[i,1,ls],[i,3,3*ls],[i,6,6*ls],[i,12,12*ls],[n,1,vs],[n,2,2*vs],[r,1,lE],[e,1,i8],[e,3,3*i8],[t,1,zb]];function s(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),_=y?y.range(f,+d+1):[];return v?_.reverse():_}function c(f,d,p){const v=Math.abs(d-f)/p,y=YA(([,,A])=>A).right(o,v);if(y===o.length)return t.every(o_(f/zb,d/zb,p));if(y===0)return yv.every(Math.max(o_(f,d,p),1));const[_,b]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return _.every(b)}return[s,c]}const[WW,KW]=Mk(ys,pE,Rm,kk,dE,uE),[YW,XW]=Mk(ms,hE,Om,$p,fE,cE);function Ub(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Oh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function QW(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,f=Rh(i),d=Ph(i),p=Rh(a),v=Ph(a),y=Rh(o),_=Ph(o),b=Rh(s),A=Ph(s),S=Rh(c),T=Ph(c),O={a:re,A:K,b:ve,B:Ae,c:null,d:u8,e:u8,f:bK,g:RK,G:DK,H:mK,I:yK,j:xK,L:jk,m:wK,M:_K,p:G,q:J,Q:h8,s:p8,S:AK,u:EK,U:SK,V:CK,w:TK,W:IK,x:null,X:null,y:OK,Y:PK,Z:NK,"%":d8},N={a:we,A:Se,b:Ne,B:We,c:null,d:f8,e:f8,f:LK,g:WK,G:YK,H:kK,I:MK,j:jK,L:Bk,m:BK,M:zK,p:at,q:_r,Q:h8,s:p8,S:UK,u:FK,U:VK,V:HK,w:$K,W:qK,x:null,X:null,y:GK,Y:KK,Z:XK,"%":d8},M={a:B,A:U,b:V,B:z,c:Q,d:l8,e:l8,f:hK,g:s8,G:o8,H:c8,I:c8,j:cK,L:dK,m:lK,M:uK,p:j,q:sK,Q:gK,s:vK,S:fK,u:rK,U:nK,V:iK,w:tK,W:aK,x:de,X:Y,y:s8,Y:o8,Z:oK,"%":pK};O.x=L(r,O),O.X=L(n,O),O.c=L(e,O),N.x=L(r,N),N.X=L(n,N),N.c=L(e,N);function L(ye,$e){return function(Ze){var me=[],Ar=-1,tt=0,Gr=ye.length,Er,Ei,ks;for(Ze instanceof Date||(Ze=new Date(+Ze));++Ar<Gr;)ye.charCodeAt(Ar)===37&&(me.push(ye.slice(tt,Ar)),(Ei=a8[Er=ye.charAt(++Ar)])!=null?Er=ye.charAt(++Ar):Ei=Er==="e"?" ":"0",(ks=$e[Er])&&(Er=ks(Ze,Ei)),me.push(Er),tt=Ar+1);return me.push(ye.slice(tt,Ar)),me.join("")}}function R(ye,$e){return function(Ze){var me=Oh(1900,void 0,1),Ar=D(me,ye,Ze+="",0),tt,Gr;if(Ar!=Ze.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if($e&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(tt=Fb(Oh(me.y,0,1)),Gr=tt.getUTCDay(),tt=Gr>4||Gr===0?bv.ceil(tt):bv(tt),tt=Im.offset(tt,(me.V-1)*7),me.y=tt.getUTCFullYear(),me.m=tt.getUTCMonth(),me.d=tt.getUTCDate()+(me.w+6)%7):(tt=Ub(Oh(me.y,0,1)),Gr=tt.getDay(),tt=Gr>4||Gr===0?xv.ceil(tt):xv(tt),tt=$p.offset(tt,(me.V-1)*7),me.y=tt.getFullYear(),me.m=tt.getMonth(),me.d=tt.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Gr="Z"in me?Fb(Oh(me.y,0,1)).getUTCDay():Ub(Oh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Gr+5)%7:me.w+me.U*7-(Gr+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Fb(me)):Ub(me)}}function D(ye,$e,Ze,me){for(var Ar=0,tt=$e.length,Gr=Ze.length,Er,Ei;Ar<tt;){if(me>=Gr)return-1;if(Er=$e.charCodeAt(Ar++),Er===37){if(Er=$e.charAt(Ar++),Ei=M[Er in a8?$e.charAt(Ar++):Er],!Ei||(me=Ei(ye,Ze,me))<0)return-1}else if(Er!=Ze.charCodeAt(me++))return-1}return me}function j(ye,$e,Ze){var me=f.exec($e.slice(Ze));return me?(ye.p=d.get(me[0].toLowerCase()),Ze+me[0].length):-1}function B(ye,$e,Ze){var me=y.exec($e.slice(Ze));return me?(ye.w=_.get(me[0].toLowerCase()),Ze+me[0].length):-1}function U(ye,$e,Ze){var me=p.exec($e.slice(Ze));return me?(ye.w=v.get(me[0].toLowerCase()),Ze+me[0].length):-1}function V(ye,$e,Ze){var me=S.exec($e.slice(Ze));return me?(ye.m=T.get(me[0].toLowerCase()),Ze+me[0].length):-1}function z(ye,$e,Ze){var me=b.exec($e.slice(Ze));return me?(ye.m=A.get(me[0].toLowerCase()),Ze+me[0].length):-1}function Q(ye,$e,Ze){return D(ye,e,$e,Ze)}function de(ye,$e,Ze){return D(ye,r,$e,Ze)}function Y(ye,$e,Ze){return D(ye,n,$e,Ze)}function re(ye){return o[ye.getDay()]}function K(ye){return a[ye.getDay()]}function ve(ye){return c[ye.getMonth()]}function Ae(ye){return s[ye.getMonth()]}function G(ye){return i[+(ye.getHours()>=12)]}function J(ye){return 1+~~(ye.getMonth()/3)}function we(ye){return o[ye.getUTCDay()]}function Se(ye){return a[ye.getUTCDay()]}function Ne(ye){return c[ye.getUTCMonth()]}function We(ye){return s[ye.getUTCMonth()]}function at(ye){return i[+(ye.getUTCHours()>=12)]}function _r(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var $e=L(ye+="",O);return $e.toString=function(){return ye},$e},parse:function(ye){var $e=R(ye+="",!1);return $e.toString=function(){return ye},$e},utcFormat:function(ye){var $e=L(ye+="",N);return $e.toString=function(){return ye},$e},utcParse:function(ye){var $e=R(ye+="",!0);return $e.toString=function(){return ye},$e}}}var a8={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,ZW=/^%/,JW=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function eK(t){return t.replace(JW,"\\$&")}function Rh(t){return new RegExp("^(?:"+t.map(eK).join("|")+")","i")}function Ph(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tK(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rK(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function aK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function o8(t,e,r){var n=mn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function s8(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oK(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sK(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function l8(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cK(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function c8(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fK(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function dK(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hK(t,e,r){var n=mn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pK(t,e,r){var n=ZW.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function gK(t,e,r){var n=mn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function vK(t,e,r){var n=mn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function u8(t,e){return _t(t.getDate(),e,2)}function mK(t,e){return _t(t.getHours(),e,2)}function yK(t,e){return _t(t.getHours()%12||12,e,2)}function xK(t,e){return _t(1+$p.count(ms(t),t),e,3)}function jk(t,e){return _t(t.getMilliseconds(),e,3)}function bK(t,e){return jk(t,e)+"000"}function wK(t,e){return _t(t.getMonth()+1,e,2)}function _K(t,e){return _t(t.getMinutes(),e,2)}function AK(t,e){return _t(t.getSeconds(),e,2)}function EK(t){var e=t.getDay();return e===0?7:e}function SK(t,e){return _t(Om.count(ms(t)-1,t),e,2)}function Lk(t){var e=t.getDay();return e>=4||e===0?Vf(t):Vf.ceil(t)}function CK(t,e){return t=Lk(t),_t(Vf.count(ms(t),t)+(ms(t).getDay()===4),e,2)}function TK(t){return t.getDay()}function IK(t,e){return _t(xv.count(ms(t)-1,t),e,2)}function OK(t,e){return _t(t.getFullYear()%100,e,2)}function RK(t,e){return t=Lk(t),_t(t.getFullYear()%100,e,2)}function PK(t,e){return _t(t.getFullYear()%1e4,e,4)}function DK(t,e){var r=t.getDay();return t=r>=4||r===0?Vf(t):Vf.ceil(t),_t(t.getFullYear()%1e4,e,4)}function NK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function f8(t,e){return _t(t.getUTCDate(),e,2)}function kK(t,e){return _t(t.getUTCHours(),e,2)}function MK(t,e){return _t(t.getUTCHours()%12||12,e,2)}function jK(t,e){return _t(1+Im.count(ys(t),t),e,3)}function Bk(t,e){return _t(t.getUTCMilliseconds(),e,3)}function LK(t,e){return Bk(t,e)+"000"}function BK(t,e){return _t(t.getUTCMonth()+1,e,2)}function zK(t,e){return _t(t.getUTCMinutes(),e,2)}function UK(t,e){return _t(t.getUTCSeconds(),e,2)}function FK(t){var e=t.getUTCDay();return e===0?7:e}function VK(t,e){return _t(Rm.count(ys(t)-1,t),e,2)}function zk(t){var e=t.getUTCDay();return e>=4||e===0?Hf(t):Hf.ceil(t)}function HK(t,e){return t=zk(t),_t(Hf.count(ys(t),t)+(ys(t).getUTCDay()===4),e,2)}function $K(t){return t.getUTCDay()}function qK(t,e){return _t(bv.count(ys(t)-1,t),e,2)}function GK(t,e){return _t(t.getUTCFullYear()%100,e,2)}function WK(t,e){return t=zk(t),_t(t.getUTCFullYear()%100,e,2)}function KK(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function YK(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Hf(t):Hf.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function XK(){return"+0000"}function d8(){return"%"}function h8(t){return+t}function p8(t){return Math.floor(+t/1e3)}var mf,Uk,Fk;QK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QK(t){return mf=QW(t),Uk=mf.format,mf.parse,Fk=mf.utcFormat,mf.utcParse,mf}function ZK(t){return new Date(t)}function JK(t){return t instanceof Date?+t:+new Date(+t)}function gE(t,e,r,n,i,a,o,s,c,f){var d=tE(),p=d.invert,v=d.domain,y=f(".%L"),_=f(":%S"),b=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),T=f("%b %d"),O=f("%B"),N=f("%Y");function M(L){return(c(L)<L?y:s(L)<L?_:o(L)<L?b:a(L)<L?A:n(L)<L?i(L)<L?S:T:r(L)<L?O:N)(L)}return d.invert=function(L){return new Date(p(L))},d.domain=function(L){return arguments.length?v(Array.from(L,JK)):v().map(ZK)},d.ticks=function(L){var R=v();return t(R[0],R[R.length-1],L??10)},d.tickFormat=function(L,R){return R==null?M:f(R)},d.nice=function(L){var R=v();return(!L||typeof L.range!="function")&&(L=e(R[0],R[R.length-1],L??10)),L?v(Tk(R,L)):d},d.copy=function(){return Hp(d,gE(t,e,r,n,i,a,o,s,c,f))},d}function eY(){return Aa.apply(gE(YW,XW,ms,hE,Om,$p,fE,cE,$c,Uk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tY(){return Aa.apply(gE(WW,KW,ys,pE,Rm,Im,dE,uE,$c,Fk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pm(){var t=0,e=1,r,n,i,a,o=ni,s=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,s?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(s=!!p,f):s},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(v){var y,_;return arguments.length?([y,_]=v,o=p(y,_),f):[o(0),o(1)]}}return f.range=d(ad),f.rangeRound=d(eE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Jl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Vk(){var t=Zl(Pm()(ni));return t.copy=function(){return Jl(t,Vk())},Cs.apply(t,arguments)}function Hk(){var t=iE(Pm()).domain([1,10]);return t.copy=function(){return Jl(t,Hk()).base(t.base())},Cs.apply(t,arguments)}function $k(){var t=aE(Pm());return t.copy=function(){return Jl(t,$k()).constant(t.constant())},Cs.apply(t,arguments)}function vE(){var t=oE(Pm());return t.copy=function(){return Jl(t,vE()).exponent(t.exponent())},Cs.apply(t,arguments)}function rY(){return vE.apply(null,arguments).exponent(.5)}function qk(){var t=[],e=ni;function r(n){if(n!=null&&!isNaN(n=+n))return e((Fp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ol),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>FG(t,a/n))},r.copy=function(){return qk(e).domain(t)},Cs.apply(r,arguments)}function Dm(){var t=0,e=.5,r=1,n=1,i,a,o,s,c,f=ni,d,p=!1,v;function y(b){return isNaN(b=+b)?v:(b=.5+((b=+d(b))-a)*(n*b<n*a?s:c),f(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,y):[t,e,r]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(f=b,y):f};function _(b){return function(A){var S,T,O;return arguments.length?([S,T,O]=A,f=pW(b,[S,T,O]),y):[f(0),f(.5),f(1)]}}return y.range=_(ad),y.rangeRound=_(eE),y.unknown=function(b){return arguments.length?(v=b,y):v},function(b){return d=b,i=b(t),a=b(e),o=b(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,y}}function Gk(){var t=Zl(Dm()(ni));return t.copy=function(){return Jl(t,Gk())},Cs.apply(t,arguments)}function Wk(){var t=iE(Dm()).domain([.1,1,10]);return t.copy=function(){return Jl(t,Wk()).base(t.base())},Cs.apply(t,arguments)}function Kk(){var t=aE(Dm());return t.copy=function(){return Jl(t,Kk()).constant(t.constant())},Cs.apply(t,arguments)}function mE(){var t=oE(Dm());return t.copy=function(){return Jl(t,mE()).exponent(t.exponent())},Cs.apply(t,arguments)}function nY(){return mE.apply(null,arguments).exponent(.5)}const Uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QA,scaleDiverging:Gk,scaleDivergingLog:Wk,scaleDivergingPow:mE,scaleDivergingSqrt:nY,scaleDivergingSymlog:Kk,scaleIdentity:Ck,scaleImplicit:s_,scaleLinear:Sk,scaleLog:Ik,scaleOrdinal:XA,scalePoint:$G,scalePow:sE,scaleQuantile:Pk,scaleQuantize:Dk,scaleRadial:Rk,scaleSequential:Vk,scaleSequentialLog:Hk,scaleSequentialPow:vE,scaleSequentialQuantile:qk,scaleSequentialSqrt:rY,scaleSequentialSymlog:$k,scaleSqrt:LW,scaleSymlog:Ok,scaleThreshold:Nk,scaleTime:eY,scaleUtc:tY,tickFormat:Ek},Symbol.toStringTag,{value:"Module"}));var ec=t=>t.chartData,yE=ae([ec],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Nm=(t,e,r,n)=>n?yE(t):ec(t);function $f(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(qi(e)&&qi(r))return!0}return!1}function g8(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function iY(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(qi(r))i=r;else if(typeof r=="function")return;if(qi(n))a=n;else if(typeof n=="function")return;var o=[i,a];if($f(o))return o}}function aY(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if($f(n))return g8(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ke(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&aO.test(i)){var c=aO.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(ke(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e?.[1]))}catch{}else if(typeof a=="string"&&oO.test(a)){var d=oO.exec(a);if(d==null||e==null)s=void 0;else{var p=+d[1];s=e[1]+p}}else s=e?.[1];var v=[o,s];if($f(v))return e==null?v:g8(v,e,r)}}}var od=1e9,oY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bE,sr=!0,ba="[DecimalError] ",Jc=ba+"Invalid argument: ",xE=ba+"Exponent out of range: ",sd=Math.floor,zc=Math.pow,sY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bi,dn=1e7,nr=7,Yk=9007199254740991,wv=sd(Yk/nr),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*nr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return ds(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return Gt(ds(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return qr(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Bi))throw Error(ba+"NaN");if(r.s<1)throw Error(ba+(r.s?"NaN":"-Infinity"));return r.eq(Bi)?new n(0):(sr=!1,e=ds(xp(r,a),xp(t,a),a),sr=!0,Gt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zk(e,t):Xk(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ba+"NaN");return r.s?(sr=!1,e=ds(r,t,0,1).times(t),sr=!0,r.minus(e)):Gt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return Qk(this)};Te.naturalLogarithm=Te.ln=function(){return xp(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xk(e,t):Zk(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jc+t);if(e=qr(i)+1,n=i.d.length-1,r=n*nr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(ba+"NaN")}for(t=qr(s),sr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=wo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(ds(s,a,o+2)).times(.5),wo(a.d).slice(0,o)===(e=wo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Gt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return sr=!0,Gt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,o,s,c,f,d=this,p=d.constructor,v=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,r=d.e+t.e,c=v.length,f=y.length,c<f&&(a=v,v=y,y=a,o=c,c=f,f=o),a=[],o=c+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)s=a[i]+y[n]*v[i-n-1]+e,a[i--]=s%dn|0,e=s/dn|0;a[i]=(a[i]+e)%dn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,sr?Gt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Po(t,0,od),e===void 0?e=n.rounding:Po(e,0,8),Gt(r,t+qr(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=lu(n,!0):(Po(t,0,od),e===void 0?e=i.rounding:Po(e,0,8),n=Gt(new i(n),t+1,e),r=lu(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?lu(i):(Po(t,0,od),e===void 0?e=a.rounding:Po(e,0,8),n=Gt(new a(i),t+qr(i)+1,e),r=lu(n.abs(),!1,t+qr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Gt(new e(t),qr(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,o,s=this,c=s.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(Bi);if(s=new c(s),!s.s){if(t.s<1)throw Error(ba+"Infinity");return s}if(s.eq(Bi))return s;if(n=c.precision,t.eq(Bi))return Gt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=Yk){for(i=new c(Bi),e=Math.ceil(n/nr+4),sr=!1;r%2&&(i=i.times(s),m8(i.d,e)),r=sd(r/2),r!==0;)s=s.times(s),m8(s.d,e);return sr=!0,t.s<0?new c(Bi).div(i):Gt(i,n)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,sr=!1,i=t.times(xp(s,n+f)),sr=!0,i=Qk(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=qr(i),n=lu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Po(t,1,od),e===void 0?e=a.rounding:Po(e,0,8),i=Gt(new a(i),t,e),r=qr(i),n=lu(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Po(t,1,od),e===void 0?e=n.rounding:Po(e,0,8)),Gt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),r=t.constructor;return lu(t,e<=r.toExpNeg||e>=r.toExpPos)};function Xk(t,e){var r,n,i,a,o,s,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),sr?Gt(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=f.length):(n=f,i=o,s=c.length),o=Math.ceil(p/nr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=f.length,s-a<0&&(a=s,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/dn|0,c[a]%=dn;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,sr?Gt(e,p):e}function Po(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Jc+t)}function wo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=nr-n.length,r&&(a+=xl(r)),a+=n;o=t[e],n=o+"",r=nr-n.length,r&&(a+=xl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ds=(function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%dn|0,o=a/dn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*dn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,f,d,p,v,y,_,b,A,S,T,O,N,M,L,R,D,j=n.constructor,B=n.s==i.s?1:-1,U=n.d,V=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(ba+"Division by zero");for(c=n.e-i.e,R=V.length,M=U.length,y=new j(B),_=y.d=[],f=0;V[f]==(U[f]||0);)++f;if(V[f]>(U[f]||0)&&--c,a==null?T=a=j.precision:o?T=a+(qr(n)-qr(i))+1:T=a,T<0)return new j(0);if(T=T/nr+2|0,f=0,R==1)for(d=0,V=V[0],T++;(f<M||d)&&T--;f++)O=d*dn+(U[f]||0),_[f]=O/V|0,d=O%V|0;else{for(d=dn/(V[0]+1)|0,d>1&&(V=t(V,d),U=t(U,d),R=V.length,M=U.length),N=R,b=U.slice(0,R),A=b.length;A<R;)b[A++]=0;D=V.slice(),D.unshift(0),L=V[0],V[1]>=dn/2&&++L;do d=0,s=e(V,b,R,A),s<0?(S=b[0],R!=A&&(S=S*dn+(b[1]||0)),d=S/L|0,d>1?(d>=dn&&(d=dn-1),p=t(V,d),v=p.length,A=b.length,s=e(p,b,v,A),s==1&&(d--,r(p,R<v?D:V,v))):(d==0&&(s=d=1),p=V.slice()),v=p.length,v<A&&p.unshift(0),r(b,p,A),s==-1&&(A=b.length,s=e(V,b,R,A),s<1&&(d++,r(b,R<A?D:V,A))),A=b.length):s===0&&(d++,b=[0]),_[f++]=d,s&&b[0]?b[A++]=U[N]||0:(b=[U[N]],A=1);while((N++<M||b[0]!==void 0)&&T--)}return _[0]||_.shift(),y.e=c,Gt(y,o?a+qr(y)+1:a)}})();function Qk(t,e){var r,n,i,a,o,s,c=0,f=0,d=t.constructor,p=d.precision;if(qr(t)>16)throw Error(xE+qr(t));if(!t.s)return new d(Bi);for(sr=!1,s=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(zc(2,f))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Bi),d.precision=s;;){if(i=Gt(i.times(t),s),r=r.times(++c),o=a.plus(ds(i,r,s)),wo(o.d).slice(0,s)===wo(a.d).slice(0,s)){for(;f--;)a=Gt(a.times(a),s);return d.precision=p,e==null?(sr=!0,Gt(a,p)):a}a=o}}function qr(t){for(var e=t.e*nr,r=t.d[0];r>=10;r/=10)e++;return e}function Vb(t,e,r){if(e>t.LN10.sd())throw sr=!0,r&&(t.precision=r),Error(ba+"LN10 precision limit exceeded");return Gt(new t(t.LN10),e)}function xl(t){for(var e="";t--;)e+="0";return e}function xp(t,e){var r,n,i,a,o,s,c,f,d,p=1,v=10,y=t,_=y.d,b=y.constructor,A=b.precision;if(y.s<1)throw Error(ba+(y.s?"NaN":"-Infinity"));if(y.eq(Bi))return new b(0);if(e==null?(sr=!1,f=A):f=e,y.eq(10))return e==null&&(sr=!0),Vb(b,f);if(f+=v,b.precision=f,r=wo(_),n=r.charAt(0),a=qr(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=wo(y.d),n=r.charAt(0),p++;a=qr(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return c=Vb(b,f+2,A).times(a+""),y=xp(new b(n+"."+r.slice(1)),f-v).plus(c),b.precision=A,e==null?(sr=!0,Gt(y,A)):y;for(s=o=y=ds(y.minus(Bi),y.plus(Bi),f),d=Gt(y.times(y),f),i=3;;){if(o=Gt(o.times(d),f),c=s.plus(ds(o,new b(i),f)),wo(c.d).slice(0,f)===wo(s.d).slice(0,f))return s=s.times(2),a!==0&&(s=s.plus(Vb(b,f+2,A).times(a+""))),s=ds(s,new b(p),f),b.precision=A,e==null?(sr=!0,Gt(s,A)):s;s=c,i+=2}}function v8(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=sd(r/nr),t.d=[],n=(r+1)%nr,r<0&&(n+=nr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=nr;n<i;)t.d.push(+e.slice(n,n+=nr));e=e.slice(n),n=nr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),sr&&(t.e>wv||t.e<-wv))throw Error(xE+r)}else t.s=0,t.e=0,t.d=[0];return t}function Gt(t,e,r){var n,i,a,o,s,c,f,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=nr,i=e,f=p[d=0];else{if(d=Math.ceil((n+1)/nr),a=p.length,d>=a)return t;for(f=a=p[d],o=1;a>=10;a/=10)o++;n%=nr,i=n-nr+o}if(r!==void 0&&(a=zc(10,o-i-1),s=f/a%10|0,c=e<0||p[d+1]!==void 0||f%a,c=r<4?(s||c)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?f/zc(10,o-i):0:p[d-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=qr(t),p.length=1,e=e-a-1,p[0]=zc(10,(nr-e%nr)%nr),t.e=sd(-e/nr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=d,a=1,d--):(p.length=d+1,a=zc(10,nr-n),p[d]=i>0?(f/zc(10,o-i)%zc(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==dn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=dn)break;p[d--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(sr&&(t.e>wv||t.e<-wv))throw Error(xE+qr(t));return t}function Zk(t,e){var r,n,i,a,o,s,c,f,d,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),sr?Gt(e,y):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),o=f-n,o){for(d=o<0,d?(r=c,o=-o,s=p.length):(r=p,n=f,s=c.length),i=Math.max(Math.ceil(y/nr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=p.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(r=c,c=p,p=r,e.s=-e.s),s=c.length,i=p.length-s;i>0;--i)c[s++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=dn-1;--c[a],c[i]+=dn}c[i]-=p[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,sr?Gt(e,y):e):new v(0)}function lu(t,e,r){var n,i=qr(t),a=wo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+xl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xl(-i-1)+a,r&&(n=r-o)>0&&(a+=xl(n))):i>=o?(a+=xl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+xl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=xl(n))),t.s<0?"-"+a:a}function m8(t,e){if(t.length>e)return t.length=e,!0}function Jk(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return v8(o,a.toString())}else if(typeof a!="string")throw Error(Jc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sY.test(a))v8(o,a);else throw Error(Jc+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Jk,i.config=i.set=lY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lY(t){if(!t||typeof t!="object")throw Error(ba+"Object expected");var e,r,n,i=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(sd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Jc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jc+r+": "+n);return this}var bE=Jk(oY);Bi=new bE(1);const jt=bE;var cY=t=>t,eM={},tM=t=>t===eM,y8=t=>function e(){return arguments.length===0||arguments.length===1&&tM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},rM=(t,e)=>t===1?e:y8(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==eM).length;return a>=t?e(...n):rM(t-a,y8(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var f=n.map(d=>tM(d)?s.shift():d);return e(...f,...s)}))}),km=t=>rM(t.length,t),f_=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},uY=km((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),fY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return cY;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,c)=>c(s),a(...arguments))}},d_=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),nM=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,s)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[s])})||(e=i,r=t(...i)),r}};function iM(t){var e;return t===0?e=1:e=Math.floor(new jt(t).abs().log(10).toNumber())+1,e}function aM(t,e,r){for(var n=new jt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}km((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});km((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});km((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var oM=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},sM=(t,e,r)=>{if(t.lte(0))return new jt(0);var n=iM(t.toNumber()),i=new jt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new jt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return e?new jt(c.toNumber()):new jt(Math.ceil(c.toNumber()))},dY=(t,e,r)=>{var n=new jt(1),i=new jt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new jt(10).pow(iM(t)-1),i=new jt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new jt(Math.floor(t)))}else t===0?i=new jt(Math.floor((e-1)/2)):r||(i=new jt(Math.floor(t)));var o=Math.floor((e-1)/2),s=fY(uY(c=>i.add(new jt(c-o).mul(n)).toNumber()),f_);return s(0,e)},lM=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=sM(new jt(r).sub(e).div(n-1),i,a),s;e<=0&&r>=0?s=new jt(0):(s=new jt(e).add(r).div(2),s=s.sub(new jt(s).mod(o)));var c=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new jt(r).sub(s).div(o).toNumber()),d=c+f+1;return d>n?lM(e,r,n,i,a+1):(d<n&&(f=r>0?f+(n-d):f,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new jt(c).mul(o)),tickMax:s.add(new jt(f).mul(o))})};function hY(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=oM([e,r]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...f_(0,n-1).map(()=>1/0)]:[...f_(0,n-1).map(()=>-1/0),s];return e>r?d_(c):c}if(o===s)return dY(o,n,i);var{step:f,tickMin:d,tickMax:p}=lM(o,s,a,i,0),v=aM(d,p.add(new jt(.1).mul(f)),f);return e>r?d_(v):v}function pY(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=oM([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(e,2),c=sM(new jt(o).sub(a).div(s-1),i,0),f=[...aM(new jt(a),new jt(o),c),o];return i===!1&&(f=f.map(d=>Math.round(d))),r>n?d_(f):f}var gY=nM(hY),vY=nM(pY),cM=t=>t.rootProps.maxBarSize,mY=t=>t.rootProps.barGap,uM=t=>t.rootProps.barCategoryGap,yY=t=>t.rootProps.barSize,qp=t=>t.rootProps.stackOffset,wE=t=>t.options.chartName,_E=t=>t.rootProps.syncId,fM=t=>t.rootProps.syncMethod,AE=t=>t.options.eventEmitter,is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},xY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:is.reversed,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:is.type,unit:void 0},bY={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},wY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_Y={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},EE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?wY:xY,SE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?_Y:bY,jm=t=>t.polarOptions,CE=ae([Es,Ss,nn],KN),dM=ae([jm,CE],(t,e)=>{if(t!=null)return qn(t.innerRadius,e,0)}),hM=ae([jm,CE],(t,e)=>{if(t!=null)return qn(t.outerRadius,e,e*.8)}),AY=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},pM=ae([jm],AY);ae([EE,pM],Mm);var gM=ae([CE,dM,hM],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});ae([SE,gM],Mm);var vM=ae([vt,jm,dM,hM,Es,Ss],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:f}=e;return{cx:qn(o,i,i/2),cy:qn(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:f,clockWise:!1}}}),ur=(t,e)=>e,Gp=(t,e,r)=>r;function TE(t){return t?.id}var on=t=>{var e=vt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ld=t=>t.tooltip.settings.axisId,yn=t=>{var e=on(t),r=ld(t);return Wp(t,e,r)},mM=ae([yn],t=>t?.dataKey);function yM(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return t.forEach(s=>{var c,f=(c=s.data)!==null&&c!==void 0?c:n;if(!(f==null||f.length===0)){var d=TE(s);f.forEach((p,v)=>{var y=a==null||i?v:String(Xt(p,a,null)),_=Xt(p,s.dataKey,0),b;o.has(y)?b=o.get(y):b={},Object.assign(b,{[d]:_}),o.set(y,b)})}}),Array.from(o.values())}function Lm(t){return t.stackId!=null&&t.dataKey!=null}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){EY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EY(t,e,r){return(e=SY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SY(t){var e=CY(t,"string");return typeof e=="symbol"?e:e+""}function CY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h_=[0,"auto"],ki={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xM=(t,e)=>t.cartesianAxis.xAxis[e],Ts=(t,e)=>{var r=xM(t,e);return r??ki},Mi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:h_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bp},bM=(t,e)=>t.cartesianAxis.yAxis[e],Is=(t,e)=>{var r=bM(t,e);return r??Mi},TY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},IE=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??TY},Pr=(t,e,r)=>{switch(e){case"xAxis":return Ts(t,r);case"yAxis":return Is(t,r);case"zAxis":return IE(t,r);case"angleAxis":return EE(t,r);case"radiusAxis":return SE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},IY=(t,e,r)=>{switch(e){case"xAxis":return Ts(t,r);case"yAxis":return Is(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Wp=(t,e,r)=>{switch(e){case"xAxis":return Ts(t,r);case"yAxis":return Is(t,r);case"angleAxis":return EE(t,r);case"radiusAxis":return SE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},wM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function OE(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Bm=t=>t.graphicalItems.cartesianItems,OY=ae([ur,Gp],OE),RE=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),Kp=ae([Bm,Pr,OY],RE),_M=ae([Kp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Lm)),AM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),EM=ae([Kp],AM),PE=t=>t.map(e=>e.data).filter(Boolean).flat(1),RY=ae([Kp],PE),DE=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},NE=ae([RY,Nm],DE),kE=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Xt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Xt(i,n)}))):t.map(n=>({value:n})),zm=ae([NE,Pr,Kp],kE);function SM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function _u(t){return t.filter(e=>Ro(e)||e instanceof Date).map(Number).filter(e=>Hi(e)===!1)}function PY(t,e,r){return!r||typeof e!="number"||Hi(e)?[]:r.length?_u(r.flatMap(n=>{var i=Xt(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!qi(a)||!qi(o)))return[e-a,e+o]})):[]}var DY=ae([_M,Nm,yn],yM),CM=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,c=s.map(TE);return[o,{stackedData:j$(t,c,r),graphicalItems:s}]}))},p_=ae([DY,_M,qp],CM),TM=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=F$(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},NY=ae([p_,ec,ur],TM),IM=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var s,c,f=(s=n[o.id])===null||s===void 0?void 0:s.filter(p=>SM(i,p)),d=Xt(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:PY(a,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Xt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Um=t=>t.errorBars,OM=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>SM(r,n));ae([EM,Um,ur],OM);var kY=ae([NE,Pr,EM,Um,ur],IM);function MY(t){var{value:e}=t;if(Ro(e)||e instanceof Date)return e}var b8=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=_u(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jY=(t,e,r)=>{var n=t.map(MY).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&UD(n))?pk(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},ME=t=>{var e;if(t==null||!("domain"in t))return h_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=_u(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:h_},Av=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},RM=t=>t.referenceElements.dots,cd=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),LY=ae([RM,ur,Gp],cd),PM=t=>t.referenceElements.areas,BY=ae([PM,ur,Gp],cd),DM=t=>t.referenceElements.lines,zY=ae([DM,ur,Gp],cd),NM=(t,e)=>{var r=_u(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},UY=ae(LY,ur,NM),kM=(t,e)=>{var r=_u(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FY=ae([BY,ur],kM),MM=(t,e)=>{var r=_u(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VY=ae(zY,ur,MM),HY=ae(UY,VY,FY,(t,e,r)=>Av(t,r,e)),jM=ae([Pr],ME),jE=(t,e,r,n,i,a,o)=>{var s=iY(e,t.allowDataOverflow);if(s!=null)return s;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?Av(r,i,b8(n)):Av(i,b8(n));return aY(e,f,t.allowDataOverflow)},$Y=ae([Pr,jM,NY,kY,HY,vt,ur],jE),qY=[0,1],LE=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=t,f=Xl(e,a);return f&&s==null?pk(0,r.length):c==="category"?jY(n,t,f):i==="expand"?qY:o}},BE=ae([Pr,vt,NE,zm,qp,ur,$Y],LE),LM=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(kp(a));return s in Uh?s:"point"}}},ud=ae([Pr,vt,wM,wE,ur],LM);function GY(t){if(t!=null){if(t in Uh)return Uh[t]();var e="scale".concat(kp(t));if(e in Uh)return Uh[e]()}}function zE(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=GY(e);if(i!=null){var a=i.domain(r).range(n);return P$(a),a}}}var UE=(t,e,r)=>{var n=ME(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$f(t))return gY(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&$f(t))return vY(t,e.tickCount,e.allowDecimals)}},FE=ae([BE,Wp,ud],UE),VE=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&$f(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return e},WY=ae([Pr,BE,FE,ur],VE),KY=ae(zm,Pr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(_u(t.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),BM=ae(KY,vt,uM,nn,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!qi(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=qn(r,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),YY=(t,e)=>{var r=Ts(t,e);return r==null||typeof r.padding!="string"?0:BM(t,"xAxis",e,r.padding)},XY=(t,e)=>{var r=Is(t,e);return r==null||typeof r.padding!="string"?0:BM(t,"yAxis",e,r.padding)},QY=ae(Ts,YY,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),ZY=ae(Is,XY,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),JY=ae([nn,QY,Em,Am,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),eX=ae([nn,vt,ZY,Em,Am,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Yp=(t,e,r,n)=>{var i;switch(e){case"xAxis":return JY(t,r,n);case"yAxis":return eX(t,r,n);case"zAxis":return(i=IE(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return pM(t);case"radiusAxis":return gM(t,r);default:return}},zM=ae([Pr,Yp],Mm),fd=ae([Pr,ud,WY,zM],zE);ae([Kp,Um,ur],OM);function UM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Fm=(t,e)=>e,Vm=(t,e,r)=>r,tX=ae(wm,Fm,Vm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(UM)),rX=ae(_m,Fm,Vm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(UM)),FM=(t,e)=>({width:t.width,height:e.height}),nX=(t,e)=>{var r=typeof e.width=="number"?e.width:Bp;return{width:r,height:t.height}},VM=ae(nn,Ts,FM),iX=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},aX=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},oX=ae(Ss,nn,tX,Fm,Vm,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=FM(e,s);o==null&&(o=iX(e,n,t));var f=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),sX=ae(Es,nn,rX,Fm,Vm,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=nX(e,s);o==null&&(o=aX(e,n,t));var f=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),lX=(t,e)=>{var r=Ts(t,e);if(r!=null)return oX(t,r.orientation,r.mirror)},cX=ae([nn,Ts,lX,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),uX=(t,e)=>{var r=Is(t,e);if(r!=null)return sX(t,r.orientation,r.mirror)},fX=ae([nn,Is,uX,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),HM=ae(nn,Is,(t,e)=>{var r=typeof e.width=="number"?e.width:Bp;return{width:r,height:t.height}}),w8=(t,e,r)=>{switch(e){case"xAxis":return VM(t,r).width;case"yAxis":return HM(t,r).height;default:return}},$M=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=Xl(t,n),c=e.map(f=>f.value);if(o&&s&&a==="category"&&i&&UD(c))return c}},HE=ae([vt,zm,Pr,ur],$M),qM=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Xl(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},$E=ae([vt,zm,Wp,ur],qM),_8=ae([vt,IY,ud,fd,HE,$E,Yp,FE,ur],(t,e,r,n,i,a,o,s,c)=>{if(e==null)return null;var f=Xl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:s,range:o,realScaleType:r,scale:n}}),dX=(t,e,r,n,i,a,o,s,c)=>{if(!(e==null||n==null)){var f=Xl(t,c),{type:d,ticks:p,tickCount:v}=e,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=d==="category"&&n.bandwidth?n.bandwidth()/y:0;_=c==="angleAxis"&&a!=null&&a.length>=2?gn(a[0]-a[1])*2*_:_;var b=p||i;if(b){var A=b.map((S,T)=>{var O=o?o.indexOf(S):S;return{index:T,coordinate:n(O)+_,value:S,offset:_}});return A.filter(S=>!Hi(S.coordinate))}return f&&s?s.map((S,T)=>({coordinate:n(S)+_,value:S,index:T,offset:_})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+_,value:S,offset:_})):n.domain().map((S,T)=>({coordinate:n(S)+_,value:o?o[S]:S,index:T,offset:_}))}},GM=ae([vt,Wp,ud,fd,FE,Yp,HE,$E,ur],dX),hX=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var s=Xl(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&n?.length>=2?gn(n[0]-n[1])*2*f:f,s&&a?a.map((d,p)=>({coordinate:r(d)+f,value:d,index:p,offset:f})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+f,value:d,offset:f})):r.domain().map((d,p)=>({coordinate:r(d)+f,value:i?i[d]:d,index:p,offset:f}))}},Ll=ae([vt,Wp,fd,Yp,HE,$E,ur],hX),Bl=ae(Pr,fd,(t,e)=>{if(!(t==null||e==null))return _v(_v({},t),{},{scale:e})}),pX=ae([Pr,ud,BE,zM],zE);ae((t,e,r)=>IE(t,r),pX,(t,e)=>{if(!(t==null||e==null))return _v(_v({},t),{},{scale:e})});var gX=ae([vt,wm,_m],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WM=t=>t.options.defaultTooltipEventType,KM=t=>t.options.validateTooltipEventTypes;function YM(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function qE(t,e){var r=WM(t),n=KM(t);return YM(e,r,n)}function vX(t){return Pe(e=>qE(e,t))}var XM=(t,e)=>{var r,n=Number(e);if(!(Hi(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},mX=t=>t.tooltip.settings,_l={active:!1,index:null,dataKey:void 0,coordinate:void 0},yX={itemInteraction:{click:_l,hover:_l},axisInteraction:{click:_l,hover:_l},keyboardInteraction:_l,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QM=Ki({name:"tooltip",initialState:yX,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=fs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:xX,removeTooltipEntrySettings:bX,setTooltipSettingsState:wX,setActiveMouseOverItemIndex:ZM,mouseLeaveItem:_X,mouseLeaveChart:JM,setActiveClickItemIndex:AX,setMouseOverAxisIndex:e9,setMouseClickAxisIndex:EX,setSyncInteraction:g_,setKeyboardInteraction:v_}=QM.actions,SX=QM.reducer;function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){CX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CX(t,e,r){return(e=TX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OX(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function RX(t){return t.index!=null}var t9=(t,e,r,n)=>{if(e==null)return _l;var i=OX(t,e,r);if(i==null)return _l;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(RX(i)){if(a)return f1(f1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return f1(f1({},_l),{},{coordinate:i.coordinate})},GE=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!qi(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},r9=(t,e,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],f=c==null?void 0:s(c.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},n9=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Xp=t=>t.options.tooltipPayloadSearcher,dd=t=>t.tooltip;function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){PX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PX(t,e,r){return(e=DX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DX(t){var e=NX(t,"string");return typeof e=="symbol"?e:e+""}function NX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kX(t,e){return t??e}var i9=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:f,dataEndIndex:d}=r,p=[];return t.reduce((v,y)=>{var _,{dataDefinedOnItem:b,settings:A}=y,S=kX(b,s),T=Array.isArray(S)?YN(S,f,d):S,O=(_=A?.dataKey)!==null&&_!==void 0?_:n,N=A?.nameKey,M;if(n&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?M=FD(T,n,i):M=a(T,e,c,N),Array.isArray(M))M.forEach(R=>{var D=S8(S8({},A),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(sO({tooltipEntrySettings:D,dataKey:R.dataKey,payload:R.payload,value:Xt(R.payload,R.dataKey),name:R.name}))});else{var L;v.push(sO({tooltipEntrySettings:A,dataKey:O,payload:M,value:Xt(M,O),name:(L=Xt(M,N))!==null&&L!==void 0?L:A?.name}))}return v},p)}},WE=ae([yn,vt,wM,wE,on],LM),MX=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jX=ae([on,ld],OE),Qp=ae([MX,yn,jX],RE),LX=ae([Qp],t=>t.filter(Lm)),BX=ae([Qp],PE),hd=ae([BX,ec],DE),zX=ae([LX,ec,yn],yM),KE=ae([hd,yn,Qp],kE),UX=ae([yn],ME),FX=ae([Qp],t=>t.filter(Lm)),VX=ae([zX,FX,qp],CM),HX=ae([VX,ec,on],TM),$X=ae([Qp],AM),qX=ae([hd,yn,$X,Um,on],IM),GX=ae([RM,on,ld],cd),WX=ae([GX,on],NM),KX=ae([PM,on,ld],cd),YX=ae([KX,on],kM),XX=ae([DM,on,ld],cd),QX=ae([XX,on],MM),ZX=ae([WX,QX,YX],Av),JX=ae([yn,UX,HX,qX,ZX,vt,on],jE),a9=ae([yn,vt,hd,KE,qp,on,JX],LE),eQ=ae([a9,yn,WE],UE),tQ=ae([yn,a9,eQ,on],VE),o9=t=>{var e=on(t),r=ld(t),n=!1;return Yp(t,e,r,n)},s9=ae([yn,o9],Mm),l9=ae([yn,WE,tQ,s9],zE),rQ=ae([vt,KE,yn,on],$M),nQ=ae([vt,KE,yn,on],qM),iQ=(t,e,r,n,i,a,o,s)=>{if(e){var{type:c}=e,f=Xl(t,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return p=s==="angleAxis"&&i!=null&&i?.length>=2?gn(i[0]-i[1])*2*p:p,f&&o?o.map((v,y)=>({coordinate:n(v)+p,value:v,index:y,offset:p})):n.domain().map((v,y)=>({coordinate:n(v)+p,value:a?a[v]:v,index:y,offset:p}))}}},Os=ae([vt,yn,WE,l9,o9,rQ,nQ,on],iQ),YE=ae([WM,KM,mX],(t,e,r)=>YM(r.shared,t,e)),c9=t=>t.tooltip.settings.trigger,XE=t=>t.tooltip.settings.defaultIndex,Hm=ae([dd,YE,c9,XE],t9),zl=ae([Hm,hd],GE),u9=ae([Os,zl],XM),f9=ae([Hm],t=>{if(t)return t.dataKey}),d9=ae([dd,YE,c9,XE],n9),aQ=ae([Es,Ss,vt,nn,Os,XE,d9,Xp],r9),oQ=ae([Hm,aQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),sQ=ae([Hm],t=>t.active),lQ=ae([d9,zl,ec,mM,u9,Xp,YE],i9),cQ=ae([lQ],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function C8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(r),!0).forEach(function(n){uQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uQ(t,e,r){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fQ(t){var e=dQ(t,"string");return typeof e=="symbol"?e:e+""}function dQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hQ=()=>Pe(yn),pQ=()=>{var t=hQ(),e=Pe(Os),r=Pe(l9);return hp(T8(T8({},t),{},{scale:r}),e)},gQ=()=>Pe(wE),QE=(t,e)=>e,h9=(t,e,r)=>r,ZE=(t,e,r,n)=>n,vQ=ae(Os,t=>gm(t,e=>e.coordinate)),JE=ae([dd,QE,h9,ZE],t9),p9=ae([JE,hd],GE),mQ=(t,e,r)=>{if(e!=null){var n=dd(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},g9=ae([dd,QE,h9,ZE],n9),Ev=ae([Es,Ss,vt,nn,Os,ZE,g9,Xp],r9),yQ=ae([JE,Ev],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),v9=ae(Os,p9,XM),xQ=ae([g9,p9,ec,mM,v9,Xp,QE],i9),bQ=ae([JE],t=>({isActive:t.active,activeIndex:t.index})),wQ=(t,e,r,n,i,a,o,s)=>{if(!(!t||!e||!n||!i||!a)){var c=V$(t.chartX,t.chartY,e,r,s);if(c){var f=$$(c,e),d=O$(f,o,a,n,i),p=H$(e,a,d,c);return{activeIndex:String(d),activeCoordinate:p}}}};function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m_.apply(null,arguments)}function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){_Q(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Q(t,e,r){return(e=AQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AQ(t){var e=EQ(t,"string");return typeof e=="symbol"?e:e+""}function EQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:f}=t,d=e,p=r,v=n;if(!s||!d||f!=="ScatterChart"&&c!=="axis")return null;var y,_;if(f==="ScatterChart")y=d,_=$q;else if(f==="BarChart")y=qq(o,d,i,a),_=uk;else if(o==="radial"){var{cx:b,cy:A,radius:S,startAngle:T,endAngle:O}=fk(d);y={cx:b,cy:A,startAngle:T,endAngle:O,innerRadius:S,outerRadius:S},_=hk}else y={points:EG(o,d,i)},_=KA;var N=typeof s=="object"&&"className"in s?s.className:void 0,M=d1(d1(d1(d1({stroke:"#ccc",pointerEvents:"none"},i),y),hr(s,!1)),{},{payload:p,payloadIndex:v,className:wt("recharts-tooltip-cursor",N)});return C.isValidElement(s)?C.cloneElement(s,M):C.createElement(_,M)}function CQ(t){var e=pQ(),r=tk(),n=Sm(),i=gQ();return C.createElement(SQ,m_({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var m9=C.createContext(null),TQ=()=>C.useContext(m9),Hb={exports:{}},O8;function IQ(){return O8||(O8=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,v),_=r?r+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},s.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,_=new Array(y);v<y;v++)_[v]=p[v].fn;return _},s.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},s.prototype.emit=function(f,d,p,v,y,_){var b=r?r+f:f;if(!this._events[b])return!1;var A=this._events[b],S=arguments.length,T,O;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,p),!0;case 4:return A.fn.call(A.context,d,p,v),!0;case 5:return A.fn.call(A.context,d,p,v,y),!0;case 6:return A.fn.call(A.context,d,p,v,y,_),!0}for(O=1,T=new Array(S-1);O<S;O++)T[O-1]=arguments[O];A.fn.apply(A.context,T)}else{var N=A.length,M;for(O=0;O<N;O++)switch(A[O].once&&this.removeListener(f,A[O].fn,void 0,!0),S){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,d);break;case 3:A[O].fn.call(A[O].context,d,p);break;case 4:A[O].fn.call(A[O].context,d,p,v);break;default:if(!T)for(M=1,T=new Array(S-1);M<S;M++)T[M-1]=arguments[M];A[O].fn.apply(A[O].context,T)}}return!0},s.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},s.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},s.prototype.removeListener=function(f,d,p,v){var y=r?r+f:f;if(!this._events[y])return this;if(!d)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!v||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var b=0,A=[],S=_.length;b<S;b++)(_[b].fn!==d||v&&!_[b].once||p&&_[b].context!==p)&&A.push(_[b]);A.length?this._events[y]=A.length===1?A[0]:A:o(this,y)}return this},s.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Hb)),Hb.exports}var OQ=IQ();const RQ=Mo(OQ);var bp=new RQ,y_="recharts.syncEvent.tooltip",R8="recharts.syncEvent.brush";function eS(t,e){if(e){var r=Number.parseInt(e,10);if(!Hi(r))return t?.[r]}}var PQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},y9=Ki({name:"options",initialState:PQ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DQ=y9.reducer,{createEventEmitter:NQ}=y9.actions;function kQ(t){return t.tooltip.syncInteraction}var MQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x9=Ki({name:"chartData",initialState:MQ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:P8,setDataStartEndIndexes:jQ,setComputedData:iye}=x9.actions,LQ=x9.reducer,BQ=["x","y"];function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(n){zQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zQ(t,e,r){return(e=UQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UQ(t){var e=FQ(t,"string");return typeof e=="symbol"?e:e+""}function FQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VQ(t,e){if(t==null)return{};var r,n,i=HQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var b9=()=>{};function $Q(){var t=Pe(_E),e=Pe(AE),r=gr(),n=Pe(fM),i=Pe(Os),a=Sm(),o=$A(),s=Pe(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return b9;var c=(f,d,p)=>{if(e!==p&&t===f){if(n==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate){var y=d.payload.coordinate,{x:_,y:b}=y,A=VQ(y,BQ),S=kc(kc(kc({},A),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof b=="number"&&{y:Math.max(o.y,Math.min(b,o.y+o.height))}),T=kc(kc({},d),{},{payload:kc(kc({},d.payload),{},{coordinate:S})});r(T)}else r(d);return}if(i!=null){var O;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=n(i,N);O=i[M]}else n==="value"&&(O=i.find(z=>String(z.value)===d.payload.label));var{coordinate:L}=d.payload;if(O==null||d.payload.active===!1||L==null||o==null){r(g_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:D}=L,j=Math.min(R,o.x+o.width),B=Math.min(D,o.y+o.height),U={x:a==="horizontal"?O.coordinate:j,y:a==="horizontal"?B:O.coordinate},V=g_({active:d.payload.active,coordinate:U,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label});r(V)}}};return bp.on(y_,c),()=>{bp.off(y_,c)}},[s,r,e,t,n,i,a,o])}function qQ(){var t=Pe(_E),e=Pe(AE),r=gr();C.useEffect(()=>{if(t==null)return b9;var n=(i,a,o)=>{e!==o&&t===i&&r(jQ(a))};return bp.on(R8,n),()=>{bp.off(R8,n)}},[r,e,t])}function GQ(){var t=gr();C.useEffect(()=>{t(NQ())},[t]),$Q(),qQ()}function WQ(t,e,r,n,i,a){var o=Pe(v=>mQ(v,t,e)),s=Pe(AE),c=Pe(_E),f=Pe(fM),d=Pe(kQ),p=d?.active;C.useEffect(()=>{if(!p&&c!=null&&s!=null){var v=g_({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});bp.emit(y_,c,v,s)}},[p,r,o,i,n,s,c,f,a])}function N8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(r),!0).forEach(function(n){KQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KQ(t,e,r){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQ(t){var e=XQ(t,"string");return typeof e=="symbol"?e:e+""}function XQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QQ(t){return t.dataKey}function ZQ(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(_q,e)}var M8=[],JQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ql.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zp(t){var e=Mn(t,JQ),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:f,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:y,wrapperStyle:_,cursor:b,shared:A,trigger:S,defaultIndex:T,portal:O,axisId:N}=e,M=gr(),L=typeof T=="number"?String(T):T;C.useEffect(()=>{M(wX({shared:A,trigger:S,axisId:N,active:r,defaultIndex:L}))},[M,A,S,N,r,L]);var R=$A(),D=ak(),j=vX(A),{activeIndex:B,isActive:U}=Pe(Ne=>bQ(Ne,j,S,L)),V=Pe(Ne=>xQ(Ne,j,S,L)),z=Pe(Ne=>v9(Ne,j,S,L)),Q=Pe(Ne=>yQ(Ne,j,S,L)),de=V,Y=TQ(),re=r??U,[K,ve]=AN([de,re]),Ae=j==="axis"?z:void 0;WQ(j,S,Q,Ae,B,re);var G=O??Y;if(G==null)return null;var J=de??M8;re||(J=M8),s&&J.length&&(J=yN(de.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||e.includeHidden)),d,QQ));var we=J.length>0,Se=C.createElement(Oq,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:re,coordinate:Q,hasPayload:we,offset:f,position:p,reverseDirection:v,useTranslate3d:y,viewBox:R,wrapperStyle:_,lastBoundingBox:K,innerRef:ve,hasPortalFromProps:!!O},ZQ(o,k8(k8({},e),{},{payload:J,label:Ae,active:re,coordinate:Q,accessibilityLayer:D})));return C.createElement(C.Fragment,null,qD.createPortal(Se,G),re&&C.createElement(CQ,{cursor:b,tooltipEventType:j,coordinate:Q,payload:de,index:B}))}var $b={},qb={},Gb={},j8;function eZ(){return j8||(j8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},p=()=>{f&&d(),b()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{_(),o=void 0,s=null},A=()=>{d()},S=function(...T){if(i?.aborted)return;o=this,s=T;const O=v==null;y(),c&&O&&d()};return S.schedule=y,S.cancel=b,S.flush=A,i?.addEventListener("abort",b,{once:!0}),S}t.debounce=e})(Gb)),Gb}var L8;function tZ(){return L8||(L8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eZ();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),s&&(f[1]="trailing");let d,p=null;const v=e.debounce(function(...b){d=n.apply(this,b),p=null},i,{edges:f}),y=function(...b){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=n.apply(this,b),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,b),d)},_=()=>(v.flush(),d);return y.cancel=v.cancel,y.flush=_,y}t.debounce=r})(qb)),qb}var B8;function rZ(){return B8||(B8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tZ();function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:s})}t.throttle=r})($b)),$b}var Wb,z8;function nZ(){return z8||(z8=1,Wb=rZ().throttle),Wb}var iZ=nZ();const aZ=Mo(iZ);var Qh=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){oZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oZ(t,e,r){return(e=sZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sZ(t){var e=lZ(t,"string");return typeof e=="symbol"?e:e+""}function lZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jp=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:c,children:f,debounce:d=0,id:p,className:v,onResize:y,style:_={}}=t,b=C.useRef(null),A=C.useRef();A.current=y,C.useImperativeHandle(e,()=>b.current);var[S,T]=C.useState({containerWidth:n.width,containerHeight:n.height}),O=C.useCallback((M,L)=>{T(R=>{var D=Math.round(M),j=Math.round(L);return R.containerWidth===D&&R.containerHeight===j?R:{containerWidth:D,containerHeight:j}})},[]);C.useEffect(()=>{var M=j=>{var B,{width:U,height:V}=j[0].contentRect;O(U,V),(B=A.current)===null||B===void 0||B.call(A,U,V)};d>0&&(M=aZ(M,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:R,height:D}=b.current.getBoundingClientRect();return O(R,D),L.observe(b.current),()=>{L.disconnect()}},[O,d]);var N=C.useMemo(()=>{var{containerWidth:M,containerHeight:L}=S;if(M<0||L<0)return null;Qh(Vc(i)||Vc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Qh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Vc(i)?M:i,D=Vc(a)?L:a;return r&&r>0&&(R?D=R/r:D&&(R=D*r),c&&D>c&&(D=c)),Qh(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,i,a,o,s,r),C.Children.map(f,j=>C.cloneElement(j,{width:R,height:D,style:Kb({width:R,height:D},j.props.style)}))},[r,f,a,c,s,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:wt("recharts-responsive-container",v),style:Kb(Kb({},_),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:b},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Au=t=>null;Au.displayName="Cell";function cZ(t,e,r){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dZ{constructor(e){cZ(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){pZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pZ(t,e,r){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mZ={cacheSize:2e3,enableCache:!0},w9=hZ({},mZ),V8=new dZ(w9.cacheSize),yZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H8="recharts_measurement_span";function xZ(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var $8=(t,e)=>{try{var r=document.getElementById(H8);r||(r=document.createElement("span"),r.setAttribute("id",H8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,yZ,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ql.isSsr)return{width:0,height:0};if(!w9.enableCache)return $8(e,r);var n=xZ(e,r),i=V8.get(n);if(i)return i;var a=$8(e,r);return V8.set(n,a),a},q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Z=Object.keys(_9),Sf="NaN";function AZ(t,e){return t*_9[e]}class mi{static parse(e){var r,[,n,i]=(r=wZ.exec(e))!==null&&r!==void 0?r:[];return new mi(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Hi(e)&&(this.unit=""),r!==""&&!bZ.test(r)&&(this.num=NaN,this.unit=""),_Z.includes(r)&&(this.num=AZ(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hi(this.num)}}function A9(t){if(t.includes(Sf))return Sf;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=q8.exec(e))!==null&&r!==void 0?r:[],o=mi.parse(n??""),s=mi.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Sf;e=e.replace(q8,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,v]=(f=G8.exec(e))!==null&&f!==void 0?f:[],y=mi.parse(d??""),_=mi.parse(v??""),b=p==="+"?y.add(_):y.subtract(_);if(b.isNaN())return Sf;e=e.replace(G8,b.toString())}return e}var W8=/\(([^()]*)\)/;function EZ(t){for(var e=t,r;(r=W8.exec(e))!=null;){var[,n]=r;e=e.replace(W8,A9(n))}return e}function SZ(t){var e=t.replace(/\s+/g,"");return e=EZ(e),e=A9(e),e}function CZ(t){try{return SZ(t)}catch{return Sf}}function Yb(t){var e=CZ(t.slice(5,-1));return e===Sf?"":e}var TZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IZ=["dx","dy","angle","className","breakAll"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x_.apply(null,arguments)}function K8(t,e){if(t==null)return{};var r,n,i=OZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function OZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var E9=/[ \f\n\r\t\v\u2028\u2029]+/,S9=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];cr(e)||(r?i=e.toString().split(""):i=e.toString().split(E9));var a=i.map(s=>({word:s,width:Zh(s,n).width})),o=r?0:Zh("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},RZ=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=t,f=ke(a),d=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((V,z)=>{var{word:Q,width:de}=z,Y=V[V.length-1];if(Y&&(n==null||i||Y.width+de+r<Number(n)))Y.words.push(Q),Y.width+=de+r;else{var re={words:[Q],width:de};V.push(re)}return V},[])},v=p(e),y=B=>B.reduce((U,V)=>U.width>V.width?U:V);if(!f||i)return v;var _=v.length>a||y(v).width>Number(n);if(!_)return v;for(var b="",A=B=>{var U=d.slice(0,B),V=S9({breakAll:c,style:s,children:U+b}).wordsWithComputedWidth,z=p(V),Q=z.length>a||y(z).width>Number(n);return[Q,z]},S=0,T=d.length-1,O=0,N;S<=T&&O<=d.length-1;){var M=Math.floor((S+T)/2),L=M-1,[R,D]=A(L),[j]=A(M);if(!R&&!j&&(S=M+1),R&&j&&(T=M-1),!R&&j){N=D;break}O++}return N||v},Y8=t=>{var e=cr(t)?[]:t.toString().split(E9);return[{words:e}]},PZ=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!Ql.isSsr){var s,c,f=S9({breakAll:a,children:n,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;s=d,c=p}else return Y8(n);return RZ({breakAll:a,children:n,maxLines:o,style:i},s,c,e,r)}return Y8(n)},X8="#808080",$m=C.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:f=X8}=t,d=K8(t,TZ),p=C.useMemo(()=>PZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:y,angle:_,className:b,breakAll:A}=d,S=K8(d,IZ);if(!Ro(r)||!Ro(n)||p.length===0)return null;var T=r+(ke(v)?v:0),O=n+(ke(y)?y:0),N;switch(c){case"start":N=Yb("calc(".concat(a,")"));break;case"middle":N=Yb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:N=Yb("calc(".concat(p.length-1," * -").concat(i,")"));break}var M=[];if(o){var L=p[0].width,{width:R}=d;M.push("scale(".concat(ke(R)?R/L:1,")"))}return _&&M.push("rotate(".concat(_,", ").concat(T,", ").concat(O,")")),M.length&&(S.transform=M.join(" ")),C.createElement("text",x_({},hr(S,!0),{ref:e,x:T,y:O,className:wt("recharts-text",b),textAnchor:s,fill:f.includes("url")?X8:f}),p.map((D,j)=>{var B=D.words.join(A?"":" ");return C.createElement("tspan",{x:T,dy:j===0?N:i,key:"".concat(B,"-").concat(j)},B)}))});$m.displayName="Text";var DZ=["labelRef"];function NZ(t,e){if(t==null)return{};var r,n,i=kZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){MZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MZ(t,e,r){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jZ(t){var e=LZ(t,"string");return typeof e=="symbol"?e:e+""}function LZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(null,arguments)}var C9=C.createContext(null),BZ=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return C.createElement(C9.Provider,{value:o},a)},T9=()=>{var t=C.useContext(C9),e=$A();return t||e},zZ=C.createContext(null),UZ=()=>{var t=C.useContext(zZ),e=Pe(vM);return t||e},FZ=t=>{var{value:e,formatter:r}=t,n=cr(t.children)?e:t.children;return typeof r=="function"?r(n):n},tS=t=>t!=null&&typeof t=="function",VZ=(t,e)=>{var r=gn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},HZ=(t,e,r,n,i)=>{var{offset:a,className:o}=t,{cx:s,cy:c,innerRadius:f,outerRadius:d,startAngle:p,endAngle:v,clockWise:y}=i,_=(f+d)/2,b=VZ(p,v),A=b>=0?1:-1,S,T;switch(e){case"insideStart":S=p+A*a,T=y;break;case"insideEnd":S=v-A*a,T=!y;break;case"end":S=v+A*a,T=y;break;default:throw new Error("Unsupported position ".concat(e))}T=b<=0?T:!T;var O=Hr(s,c,_,S),N=Hr(s,c,_,S+(T?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(T?0:1,`,
    `).concat(N.x,",").concat(N.y),L=cr(t.id)?up("recharts-radial-line-"):t.id;return C.createElement("text",as({},n,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:L,d:M})),C.createElement("textPath",{xlinkHref:"#".concat(L)},r))},$Z=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=t,f=(s+c)/2;if(r==="outside"){var{x:d,y:p}=Hr(n,i,o+e,f);return{x:d,y:p,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:y,y:_}=Hr(n,i,v,f);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},I9=t=>"cx"in t&&ke(t.cx),qZ=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!I9(r)&&(a=r);var{x:o,y:s,width:c,height:f}=e,d=f>=0?1:-1,p=d*n,v=d>0?"end":"start",y=d>0?"start":"end",_=c>=0?1:-1,b=_*n,A=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var T={x:o+c/2,y:s-d*n,textAnchor:"middle",verticalAnchor:v};return Or(Or({},T),a?{height:Math.max(s-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:s+f+p,textAnchor:"middle",verticalAnchor:y};return Or(Or({},O),a?{height:Math.max(a.y+a.height-(s+f),0),width:c}:{})}if(i==="left"){var N={x:o-b,y:s+f/2,textAnchor:A,verticalAnchor:"middle"};return Or(Or({},N),a?{width:Math.max(N.x-a.x,0),height:f}:{})}if(i==="right"){var M={x:o+c+b,y:s+f/2,textAnchor:S,verticalAnchor:"middle"};return Or(Or({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:f}:{})}var L=a?{width:c,height:f}:{};return i==="insideLeft"?Or({x:o+b,y:s+f/2,textAnchor:S,verticalAnchor:"middle"},L):i==="insideRight"?Or({x:o+c-b,y:s+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideTop"?Or({x:o+c/2,y:s+p,textAnchor:"middle",verticalAnchor:y},L):i==="insideBottom"?Or({x:o+c/2,y:s+f-p,textAnchor:"middle",verticalAnchor:v},L):i==="insideTopLeft"?Or({x:o+b,y:s+p,textAnchor:S,verticalAnchor:y},L):i==="insideTopRight"?Or({x:o+c-b,y:s+p,textAnchor:A,verticalAnchor:y},L):i==="insideBottomLeft"?Or({x:o+b,y:s+f-p,textAnchor:S,verticalAnchor:v},L):i==="insideBottomRight"?Or({x:o+c-b,y:s+f-p,textAnchor:A,verticalAnchor:v},L):i&&typeof i=="object"&&(ke(i.x)||Vc(i.x))&&(ke(i.y)||Vc(i.y))?Or({x:o+qn(i.x,c),y:s+qn(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):Or({x:o+c/2,y:s+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},GZ={offset:5};function bl(t){var e=Mn(t,GZ),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:c,labelRef:f}=e,d=UZ(),p=T9(),v=n==="center"?p:d??p,y=r||v;if(!y||cr(i)&&cr(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var _=Or(Or({},e),{},{viewBox:y});if(C.isValidElement(o)){var{labelRef:b}=_,A=NZ(_,DZ);return C.cloneElement(o,A)}var S;if(typeof o=="function"){if(S=C.createElement(o,_),C.isValidElement(S))return S}else S=FZ(e);var T=I9(y),O=hr(e,!0);if(T&&(n==="insideStart"||n==="insideEnd"||n==="end"))return HZ(e,n,S,O,y);var N=T?$Z(y,e.offset,e.position):qZ(e,y);return C.createElement($m,as({ref:f,className:wt("recharts-label",s)},O,N,{breakAll:c}),S)}bl.displayName="Label";var WZ=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(bl,as({key:"label-implicit"},n)):Ro(t)?C.createElement(bl,as({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===bl?C.cloneElement(t,Or({key:"label-implicit"},n)):C.createElement(bl,as({key:"label-implicit",content:t},n)):tS(t)?C.createElement(bl,as({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(bl,as({},t,{key:"label-implicit"},n)):null};function KZ(t){var{label:e}=t,r=T9();return WZ(e,r)||null}var Xb={},Qb={},Z8;function YZ(){return Z8||(Z8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Qb)),Qb}var Zb={},J8;function XZ(){return J8||(J8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Zb)),Zb}var eR;function QZ(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YZ(),r=XZ(),n=MA();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(Xb)),Xb}var Jb,tR;function ZZ(){return tR||(tR=1,Jb=QZ().last),Jb}var JZ=ZZ();const eJ=Mo(JZ);var tJ=["valueAccessor"],rJ=["dataKey","clockWise","id","textBreakAll"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sv.apply(null,arguments)}function rR(t,e){if(t==null)return{};var r,n,i=nJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iJ=t=>Array.isArray(t.value)?eJ(t.value):t.value,O9=C.createContext(void 0),R9=O9.Provider,P9=C.createContext(void 0),aJ=P9.Provider;function oJ(){return C.useContext(O9)}function sJ(){return C.useContext(P9)}function N1(t){var{valueAccessor:e=iJ}=t,r=rR(t,tJ),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=rR(r,rJ),c=oJ(),f=sJ(),d=c||f;return!d||!d.length?null:C.createElement(Nn,{className:"recharts-label-list"},d.map((p,v)=>{var y,_=cr(n)?e(p,v):Xt(p&&p.payload,n),b=cr(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement(bl,Sv({},hr(p,!0),s,b,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}N1.displayName="LabelList";function rS(t){var{label:e}=t;return e?e===!0?C.createElement(N1,{key:"labelList-implicit"}):C.isValidElement(e)||tS(e)?C.createElement(N1,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(N1,Sv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b_.apply(null,arguments)}var D9=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=wt("recharts-dot",i);return e===+e&&r===+r&&n===+n?C.createElement("circle",b_({},jo(t),CA(t),{className:a,cx:e,cy:r,r:n})):null},N9=t=>t.graphicalItems.polarItems,lJ=ae([ur,Gp],OE),nS=ae([N9,Pr,lJ],RE),cJ=ae([nS],PE),iS=ae([cJ,yE],DE),uJ=ae([iS,Pr,nS],kE),fJ=ae([iS,Pr,nS],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=Xt(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:Xt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),nR=()=>{},dJ=ae([Pr,jM,nR,fJ,nR,vt,ur],jE),k9=ae([Pr,vt,iS,uJ,qp,ur,dJ],LE),hJ=ae([k9,Pr,ud],UE);ae([Pr,k9,hJ,ur],VE);var pJ={radiusAxis:{},angleAxis:{}},M9=Ki({name:"polarAxis",initialState:pJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:aye,removeRadiusAxis:oye,addAngleAxis:sye,removeAngleAxis:lye}=M9.actions,gJ=M9.reducer;function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){vJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vJ(t,e,r){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=yJ(t,"string");return typeof e=="symbol"?e:e+""}function yJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xJ=(t,e)=>e,aS=ae([N9,xJ],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),bJ=[],oS=(t,e,r)=>r?.length===0?bJ:r,j9=ae([yE,aS,oS],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>aR(aR({},e.presentationProps),a.props))),i!=null)return i}}),wJ=ae([j9,aS,oS],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=Xt(n,e.nameKey,e.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=e.fill,{value:id(o,e.dataKey),color:s,payload:n,type:e.legendType}})}),_J=ae([j9,aS,oS,nn],(t,e,r,n)=>{if(!(e==null||t==null))return xee({offset:n,pieSettings:e,displayedData:t,cells:r})}),ew={},oR;function AJ(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(ew)),ew}var tw,sR;function EJ(){return sR||(sR=1,tw=AJ().isPlainObject),tw}var SJ=EJ();const CJ=Mo(SJ);function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){TJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TJ(t,e,r){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IJ(t){var e=OJ(t,"string");return typeof e=="symbol"?e:e+""}function OJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(null,arguments)}var uR=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},RJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PJ=t=>{var e=Mn(t,RJ),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:c,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,v=C.useRef(),[y,_]=C.useState(-1),b=C.useRef(i),A=C.useRef(a),S=C.useRef(o),T=C.useRef(r),O=C.useRef(n),N=Up(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&_(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var M=wt("recharts-trapezoid",s);if(!p)return C.createElement("g",null,C.createElement("path",Cv({},hr(e,!0),{className:M,d:uR(r,n,i,a,o)})));var L=b.current,R=A.current,D=S.current,j=T.current,B=O.current,U="0px ".concat(y===-1?1:y,"px"),V="".concat(y,"px 0px"),z=ok(["strokeDasharray"],f,c);return C.createElement(zp,{animationId:N,key:N,canBegin:y>0,duration:f,easing:c,isActive:p,begin:d},Q=>{var de=yr(L,i,Q),Y=yr(R,a,Q),re=yr(D,o,Q),K=yr(j,r,Q),ve=yr(B,n,Q);v.current&&(b.current=de,A.current=Y,S.current=re,T.current=K,O.current=ve);var Ae=Q>0?{transition:z,strokeDasharray:V}:{strokeDasharray:U};return C.createElement("path",Cv({},hr(e,!0),{className:M,d:uR(K,ve,de,Y,re),ref:v,style:cR(cR({},Ae),e.style)}))})},DJ=["option","shapeType","propTransformer","activeClassName","isActive"];function NJ(t,e){if(t==null)return{};var r,n,i=kJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){MJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e,r){return(e=jJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t,e){return Tv(Tv({},e),t)}function zJ(t,e){return t==="symbols"}function dR(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(uk,r);case"trapezoid":return C.createElement(PJ,r);case"sector":return C.createElement(hk,r);case"symbols":if(zJ(e))return C.createElement(DA,r);break;default:return null}}function UJ(t){return C.isValidElement(t)?t.props:t}function L9(t){var{option:e,shapeType:r,propTransformer:n=BJ,activeClassName:i="recharts-active-shape",isActive:a}=t,o=NJ(t,DJ),s;if(C.isValidElement(e))s=C.cloneElement(e,Tv(Tv({},o),UJ(e)));else if(typeof e=="function")s=e(o);else if(CJ(e)&&typeof e!="boolean"){var c=n(e,o);s=C.createElement(dR,{shapeType:r,elementProps:c})}else{var f=o;s=C.createElement(dR,{shapeType:r,elementProps:f})}return a?C.createElement(Nn,{className:i},s):s}var sS=(t,e)=>{var r=gr();return(n,i)=>a=>{t?.(n,i,a),r(ZM({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},lS=t=>{var e=gr();return(r,n)=>i=>{t?.(r,n,i),e(_X())}},cS=(t,e)=>{var r=gr();return(n,i)=>a=>{t?.(n,i,a),r(AX({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function uS(t){var{fn:e,args:r}=t,n=gr(),i=_i();return C.useEffect(()=>{if(!i){var a=e(r);return n(xX(a)),()=>{n(bX(a))}}},[e,r,n,i]),null}var B9=()=>{};function z9(t){var{legendPayload:e}=t,r=gr(),n=_i();return C.useEffect(()=>n?B9:(r(nk(e)),()=>{r(ik(e))}),[r,n,e]),null}function FJ(t){var{legendPayload:e}=t,r=gr(),n=Pe(vt);return C.useEffect(()=>n!=="centric"&&n!=="radial"?B9:(r(nk(e)),()=>{r(ik(e))}),[r,n,e]),null}var rw,VJ=()=>{var[t]=C.useState(()=>up("uid-"));return t},HJ=(rw=AU.useId)!==null&&rw!==void 0?rw:VJ;function $J(t,e){var r=HJ();return e||(t?"".concat(t,"-").concat(r):r)}var qJ=C.createContext(void 0),fS=t=>{var{id:e,type:r,children:n}=t,i=$J("recharts-".concat(r),e);return C.createElement(qJ.Provider,{value:i},n(i))},GJ={cartesianItems:[],polarItems:[]},U9=Ki({name:"graphicalItems",initialState:GJ,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=fs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=fs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=fs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:WJ,replaceCartesianGraphicalItem:KJ,removeCartesianGraphicalItem:YJ,addPolarGraphicalItem:XJ,removePolarGraphicalItem:QJ}=U9.actions,ZJ=U9.reducer;function F9(t){var e=gr(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?e(WJ(t)):r.current!==t&&e(KJ({prev:r.current,next:t})),r.current=t},[e,t]),C.useEffect(()=>()=>{r.current&&(e(YJ(r.current)),r.current=null)},[e]),null}function JJ(t){var e=gr();return C.useEffect(()=>(e(XJ(t)),()=>{e(QJ(t))}),[e,t]),null}var eee=["onMouseEnter","onClick","onMouseLeave"],tee=["id"],ree=["id"];function dS(t,e){if(t==null)return{};var r,n,i=nee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(n){iee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iee(t,e,r){return(e=aee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aee(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(null,arguments)}function see(t){var e=C.useMemo(()=>TA(t.children,Au),[t.children]),r=Pe(n=>wJ(n,t.id,e));return r==null?null:C.createElement(FJ,{legendPayload:r})}function lee(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:id(s,e),hide:c,type:f,color:o,unit:""}}}var cee=(t,e)=>t>e?"start":t<e?"end":"middle",uee=(t,e,r)=>qn(typeof e=="function"?e(t):e,r,r*.8),fee=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,s=KN(a,o),c=i+qn(t.cx,a,a/2),f=n+qn(t.cy,o,o/2),d=qn(t.innerRadius,s,0),p=uee(r,t.outerRadius,s),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:d,outerRadius:p,maxRadius:v}},dee=(t,e)=>{var r=gn(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function hee(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var pee=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=wt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(KA,Ul({},e,{type:"linear",className:r}))},gee=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=wt("recharts-pie-label-text",hee(t));return C.createElement($m,Ul({},e,{alignmentBaseline:"middle",className:i}),n)};function vee(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var s=jo(r),c=hr(i,!1),f=hr(a,!1),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,y)=>{var _=(v.startAngle+v.endAngle)/2,b=Hr(v.cx,v.cy,v.outerRadius+d,_),A=or(or(or(or({},s),v),{},{stroke:"none"},c),{},{index:y,textAnchor:cee(b.x,v.cx)},b),S=or(or(or(or({},s),v),{},{fill:"none",stroke:v.fill},f),{},{index:y,points:[Hr(v.cx,v.cy,v.outerRadius,_),b],key:"line"});return C.createElement(Nn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},a&&pee(a,S),gee(i,A,Xt(v,o)))});return C.createElement(Nn,{className:"recharts-pie-labels"},p)}function mee(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(rS,{label:i}):C.createElement(vee,{sectors:e,props:r,showLabels:n})}function yee(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=Pe(zl),{onMouseEnter:o,onClick:s,onMouseLeave:c}=i,f=dS(i,eee),d=sS(o,i.dataKey),p=lS(c),v=cS(s,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((y,_)=>{if(y?.startAngle===0&&y?.endAngle===0&&e.length!==1)return null;var b=r&&String(_)===a,A=a?n:null,S=b?r:A,T=or(or({},y),{},{stroke:y.stroke,tabIndex:-1,[JN]:_,[ek]:i.dataKey});return C.createElement(Nn,Ul({tabIndex:-1,className:"recharts-pie-sector"},Mp(f,y,_),{onMouseEnter:d(y,_),onMouseLeave:p(y,_),onClick:v(y,_),key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(_)}),C.createElement(L9,Ul({option:S,isActive:b,shapeType:"sector"},T)))}))}function xee(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:c,dataKey:f,nameKey:d,tooltipType:p}=r,v=Math.abs(r.minAngle),y=dee(s,c),_=Math.abs(y),b=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,A=n.filter(L=>Xt(L,f,0)!==0).length,S=(_>=360?A:A-1)*b,T=_-A*v-S,O=n.reduce((L,R)=>{var D=Xt(R,f,0);return L+(ke(D)?D:0)},0),N;if(O>0){var M;N=n.map((L,R)=>{var D=Xt(L,f,0),j=Xt(L,d,R),B=fee(r,a,L),U=(ke(D)?D:0)/O,V,z=or(or({},L),i&&i[R]&&i[R].props);R?V=M.endAngle+gn(y)*b*(D!==0?1:0):V=s;var Q=V+gn(y)*((D!==0?v:0)+U*T),de=(V+Q)/2,Y=(B.innerRadius+B.outerRadius)/2,re=[{name:j,value:D,payload:z,dataKey:f,type:p}],K=Hr(B.cx,B.cy,Y,de);return M=or(or(or(or({},r.presentationProps),{},{percent:U,cornerRadius:o,name:j,tooltipPayload:re,midAngle:de,middleRadius:Y,tooltipPosition:K},z),B),{},{value:D,startAngle:V,endAngle:Q,payload:z,paddingAngle:gn(y)*b}),M})}return N}function bee(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return C.createElement(aJ,{value:e?i:void 0},n)}function wee(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:c,inactiveShape:f,onAnimationStart:d,onAnimationEnd:p}=e,v=Up(e,"recharts-pie-"),y=r.current,[_,b]=C.useState(!1),A=C.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=C.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return C.createElement(bee,{showLabels:!_,sectors:n},C.createElement(zp,{animationId:v,begin:a,duration:o,isActive:i,easing:s,onAnimationStart:S,onAnimationEnd:A,key:v},T=>{var O=[],N=n&&n[0],M=N?.startAngle;return n?.forEach((L,R)=>{var D=y&&y[R],j=R>0?au(L,"paddingAngle",0):0;if(D){var B=yr(D.endAngle-D.startAngle,L.endAngle-L.startAngle,T),U=or(or({},L),{},{startAngle:M+j,endAngle:M+B+j});O.push(U),M=U.endAngle}else{var{endAngle:V,startAngle:z}=L,Q=yr(0,V-z,T),de=or(or({},L),{},{startAngle:M+j,endAngle:M+Q+j});O.push(de),M=de.endAngle}}),r.current=O,C.createElement(Nn,null,C.createElement(yee,{sectors:O,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(mee,{showLabels:!_,sectors:n,props:e}),e.children)}var _ee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ql.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Aee(t){var{id:e}=t,r=dS(t,tee),{hide:n,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>TA(t.children,Au),[t.children]),s=Pe(d=>_J(d,e,o)),c=C.useRef(null),f=wt("recharts-pie",i);return n||s==null?(c.current=null,C.createElement(Nn,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(uS,{fn:lee,args:or(or({},t),{},{sectors:s})}),C.createElement(Nn,{tabIndex:a,className:f},C.createElement(wee,{props:or(or({},r),{},{sectors:s}),previousSectorsRef:c})))}function qm(t){var e=Mn(t,_ee),{id:r}=e,n=dS(e,ree),i=jo(n);return C.createElement(fS,{id:r,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(JJ,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(see,Ul({},n,{id:a})),C.createElement(Aee,Ul({},n,{id:a}))))}qm.displayName="Pie";function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){Eee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eee(t,e,r){return(e=See(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tee={xAxis:{},yAxis:{},zAxis:{}},V9=Ki({name:"cartesianAxis",initialState:Tee,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=gR(gR({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Iee,removeXAxis:Oee,addYAxis:Ree,removeYAxis:Pee,addZAxis:cye,removeZAxis:uye,updateYAxisWidth:Dee}=V9.actions,Nee=V9.reducer,kee=ae([nn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Mee=ae([kee,Es,Ss],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),hS=()=>Pe(Mee),jee=()=>Pe(cQ);function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){Lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lee(t,e,r){return(e=Bee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uee=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=mR(mR({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},hr(i,!1)),CA(i)),s;return C.isValidElement(i)?s=C.cloneElement(i,o):typeof i=="function"?s=i(o):s=C.createElement(D9,o),C.createElement(Nn,{className:"recharts-active-dot"},s)};function Fee(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=Pe(zl),o=jee();if(e==null||o==null)return null;var s=e.find(c=>o.includes(c.payload));return cr(s)?null:Uee({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Vee="Invariant failed";function Hee(t,e){throw new Error(Vee)}var $ee=["x","y"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w_.apply(null,arguments)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){qee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qee(t,e,r){return(e=Gee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kee(t,e){if(t==null)return{};var r,n,i=Yee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Xee(t,e){var{x:r,y:n}=t,i=Kee(t,$ee),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Dh(Dh(Dh(Dh(Dh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function pS(t){return C.createElement(L9,w_({shapeType:"rectangle",propTransformer:Xee,activeClassName:"recharts-active-bar"},t))}var Qee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ke(e))return e;var a=ke(n)||cr(n);return a?e(n,i):(a||Hee(),r)}},Zee={},H9=Ki({name:"errorBars",initialState:Zee,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:fye,replaceErrorBar:dye,removeErrorBar:hye}=H9.actions,Jee=H9.reducer,ete=["children"];function tte(t,e){if(t==null)return{};var r,n,i=rte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ite=C.createContext(nte);function $9(t){var{children:e}=t,r=tte(t,ete);return C.createElement(ite.Provider,{value:r},e)}function gS(t,e){var r,n,i=Pe(f=>Ts(f,t)),a=Pe(f=>Is(f,e)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ki.allowDataOverflow,s=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Mi.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function q9(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=hS(),{needClipX:a,needClipY:o,needClip:s}=gS(e,r);if(!s)return null;var{x:c,y:f,width:d,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:a?c:c-d/2,y:o?f:f-p/2,width:a?d:d*2,height:o?p:p*2}))}var ate=["onMouseEnter","onMouseLeave","onClick"],ote=["value","background","tooltipPosition"],ste=["id"],lte=["onMouseEnter","onClick","onMouseLeave"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fl.apply(null,arguments)}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(n){cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e,r){return(e=ute(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(t,e){if(t==null)return{};var r,n,i=dte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hte=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:id(r,e),payload:t}]};function pte(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:id(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:s}}}function gte(t){var e=Pe(zl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,f=Iv(a,ate),d=sS(o,n),p=lS(s),v=cS(c,n);if(!i||r==null)return null;var y=hr(i,!1);return C.createElement(C.Fragment,null,r.map((_,b)=>{var{value:A,background:S,tooltipPosition:T}=_,O=Iv(_,ote);if(!S)return null;var N=d(_,b),M=p(_,b),L=v(_,b),R=ti(ti(ti(ti(ti({option:i,isActive:String(b)===e},O),{},{fill:"#eee"},S),y),Mp(f,_,b)),{},{onMouseEnter:N,onMouseLeave:M,onClick:L,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return C.createElement(pS,Fl({key:"background-bar-".concat(R.index)},R))}))}function vte(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return ti(ti({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(R9,{value:e?i:void 0},r)}function mte(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=t,s=Pe(zl),c=Pe(f9),f=r&&String(a)===s&&(c==null||o===c),d=f?r:e;return C.createElement(pS,Fl({},n,i,{isActive:f,option:d,index:a,dataKey:o}))}function yte(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return C.createElement(pS,Fl({},r,n,{isActive:!1,option:e,index:i,dataKey:a}))}function xte(t){var{data:e,props:r}=t,n=jo(r),{id:i}=n,a=Iv(n,ste),{shape:o,dataKey:s,activeBar:c}=r,{onMouseEnter:f,onClick:d,onMouseLeave:p}=r,v=Iv(r,lte),y=sS(f,s),_=lS(p),b=cS(d,s);return e?C.createElement(C.Fragment,null,e.map((A,S)=>C.createElement(Nn,Fl({className:"recharts-bar-rectangle"},Mp(v,A,S),{onMouseEnter:y(A,S),onMouseLeave:_(A,S),onClick:b(A,S),key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(S)}),c?C.createElement(mte,{shape:o,activeBar:c,baseProps:a,entry:A,index:S,dataKey:s}):C.createElement(yte,{shape:o,baseProps:a,entry:A,index:S,dataKey:s})))):null}function bte(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:f,onAnimationStart:d}=e,p=r.current,v=Up(e,"recharts-bar-"),[y,_]=C.useState(!1),b=!y,A=C.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),S=C.useCallback(()=>{typeof d=="function"&&d(),_(!0)},[d]);return C.createElement(vte,{showLabels:b,rects:n},C.createElement(zp,{animationId:v,begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:A,onAnimationStart:S,key:v},T=>{var O=T===1?n:n?.map((N,M)=>{var L=p&&p[M];if(L)return ti(ti({},N),{},{x:yr(L.x,N.x,T),y:yr(L.y,N.y,T),width:yr(L.width,N.width,T),height:yr(L.height,N.height,T)});if(i==="horizontal"){var R=yr(0,N.height,T);return ti(ti({},N),{},{y:N.y+N.height-R,height:R})}var D=yr(0,N.width,T);return ti(ti({},N),{},{width:D})});return T>0&&(r.current=O??null),O==null?null:C.createElement(Nn,null,C.createElement(xte,{props:e,data:O}))}),C.createElement(rS,{label:e.label}),e.children)}function wte(t){var e=C.useRef(null);return C.createElement(bte,{previousRectanglesRef:e,props:t})}var G9=0,_te=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Xt(t,e)}};class Ate extends C.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:c,id:f}=this.props;if(e||r==null)return null;var d=wt("recharts-bar",i),p=f;return C.createElement(Nn,{className:d,id:f},s&&C.createElement("defs",null,C.createElement(q9,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):void 0},C.createElement(gte,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),C.createElement(wte,this.props)))}}var Ete={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ql.isSsr,legendType:"rect",minPointSize:G9,xAxisId:0,yAxisId:0};function Ste(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=gS(e,r),v=Sm(),y=_i(),_=TA(t.children,Au),b=Pe(T=>Jte(T,e,r,y,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=b?.[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,C.createElement($9,{xAxisId:e,yAxisId:r,data:b,dataPointFormatter:_te,errorBarOffset:A},C.createElement(Ate,Fl({},t,{layout:v,needClip:p,data:b,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:f,isAnimationActive:d})))}function Cte(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:f,stackedData:d,displayedData:p,offset:v,cells:y,parentViewBox:_}=t,b=e==="horizontal"?s:o,A=d?b.scale.domain():null,S=B$({numericAxis:b});return p.map((T,O)=>{var N,M,L,R,D,j;d?N=D$(d[O],A):(N=Xt(T,r),Array.isArray(N)||(N=[S,N]));var B=Qee(n,G9)(N[1],O);if(e==="horizontal"){var U,[V,z]=[s.scale(N[0]),s.scale(N[1])];M=iO({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:T,index:O}),L=(U=z??V)!==null&&U!==void 0?U:void 0,R=i.size;var Q=V-z;if(D=Hi(Q)?0:Q,j={x:M,y:v.top,width:R,height:v.height},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var de=gn(D||B)*(Math.abs(B)-Math.abs(D));L-=de,D+=de}}else{var[Y,re]=[o.scale(N[0]),o.scale(N[1])];if(M=Y,L=iO({axis:s,ticks:f,bandSize:a,offset:i.offset,entry:T,index:O}),R=re-Y,D=i.size,j={x:v.left,y:L,width:v.width,height:D},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var K=gn(R||B)*(Math.abs(B)-Math.abs(R));R+=K}}if(M==null||L==null||R==null||D==null)return null;var ve=ti(ti({},T),{},{x:M,y:L,width:R,height:D,value:d?N:N[1],payload:T,background:j,tooltipPosition:{x:M+R/2,y:L+D/2},parentViewBox:_},y&&y[O]&&y[O].props);return ve}).filter(Boolean)}function Tte(t){var e=Mn(t,Ete),r=_i();return C.createElement(fS,{id:e.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(z9,{legendPayload:hte(e)}),C.createElement(uS,{fn:pte,args:e}),C.createElement(F9,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:L$(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Ste,Fl({},e,{id:n}))))}var W9=C.memo(Tte);W9.displayName="Bar";function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){Ite(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ite(t,e,r){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ote(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pte=(t,e)=>e,Dte=(t,e,r)=>r,Nte=(t,e,r,n)=>n,kte=(t,e,r,n,i)=>i,e0=ae([Bm,kte],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Mte=ae([e0],t=>t?.maxBarSize),jte=(t,e,r,n,i,a)=>a,wR=(t,e,r)=>{var n=r??t;if(!cr(n))return qn(n,e,0)},Lte=ae([vt,Bm,Pte,Dte,Nte],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Bte=(t,e,r,n)=>{var i=vt(t);return i==="horizontal"?p_(t,"yAxis",r,n):p_(t,"xAxis",e,n)},zte=(t,e,r)=>{var n=vt(t);return n==="horizontal"?w8(t,"xAxis",e):w8(t,"yAxis",r)},Ute=(t,e,r)=>{var n={},i=t.filter(Lm),a=t.filter(f=>f.stackId==null),o=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),n),s=Object.entries(o).map(f=>{var[d,p]=f,v=p.map(_=>_.dataKey),y=wR(e,r,p[0].barSize);return{stackId:d,dataKeys:v,barSize:y}}),c=a.map(f=>{var d=[f.dataKey].filter(v=>v!=null),p=wR(e,r,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...s,...c]},Fte=ae([Lte,yY,zte],Ute),Vte=(t,e,r,n,i)=>{var a,o,s=e0(t,e,r,n,i);if(s!=null){var c=vt(t),f=cM(t),{maxBarSize:d}=s,p=cr(d)?f:d,v,y;return c==="horizontal"?(v=Bl(t,"xAxis",e,n),y=Ll(t,"xAxis",e,n)):(v=Bl(t,"yAxis",r,n),y=Ll(t,"yAxis",r,n)),(a=(o=hp(v,y,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},K9=(t,e,r,n)=>{var i=vt(t),a,o;return i==="horizontal"?(a=Bl(t,"xAxis",e,n),o=Ll(t,"xAxis",e,n)):(a=Bl(t,"yAxis",r,n),o=Ll(t,"yAxis",r,n)),hp(a,o)};function Hte(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=qn(t,r,0,!0),s,c=[];if(qi(n[0].barSize)){var f=!1,d=r/a,p=n.reduce((S,T)=>S+(T.barSize||0),0);p+=(a-1)*o,p>=r&&(p-=(a-1)*o,o=0),p>=r&&d>0&&(f=!0,d*=.9,p=a*d);var v=(r-p)/2>>0,y={offset:v-o,size:0};s=n.reduce((S,T)=>{var O,N={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:y.offset+y.size+o,size:f?d:(O=T.barSize)!==null&&O!==void 0?O:0}},M=[...S,N];return y=M[M.length-1].position,M},c)}else{var _=qn(e,r,0,!0);r-2*_-(a-1)*o<=0&&(o=0);var b=(r-2*_-(a-1)*o)/a;b>1&&(b>>=0);var A=qi(i)?Math.min(b,i):b;s=n.reduce((S,T,O)=>[...S,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:_+(b+o)*O+(b-A)/2,size:A}}],c)}return s}}var $te=(t,e,r,n,i,a,o)=>{var s=cr(o)?e:o,c=Hte(r,n,i!==a?i:a,t,s);return i!==a&&c!=null&&(c=c.map(f=>h1(h1({},f),{},{position:h1(h1({},f.position),{},{offset:f.position.offset-i/2})}))),c},qte=ae([Fte,cM,mY,uM,Vte,K9,Mte],$te),Gte=(t,e,r,n)=>Bl(t,"xAxis",e,n),Wte=(t,e,r,n)=>Bl(t,"yAxis",r,n),Kte=(t,e,r,n)=>Ll(t,"xAxis",e,n),Yte=(t,e,r,n)=>Ll(t,"yAxis",r,n),Xte=ae([qte,e0],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Qte=(t,e)=>{var r=TE(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Zte=ae([Bte,e0],Qte),Jte=ae([nn,HA,Gte,Wte,Kte,Yte,Xte,vt,Nm,K9,Zte,e0,jte],(t,e,r,n,i,a,o,s,c,f,d,p,v)=>{var{chartData:y,dataStartIndex:_,dataEndIndex:b}=c;if(!(p==null||o==null||e==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||f==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=y?.slice(_,b+1),S!=null)return Cte({layout:s,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:t,cells:v})}}),Y9=t=>{var{chartData:e}=t,r=gr(),n=_i();return C.useEffect(()=>n?()=>{}:(r(P8(e)),()=>{r(P8(void 0))}),[e,r,n]),null},_R={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X9=Ki({name:"brush",initialState:_R,reducers:{setBrushSettings(t,e){return e.payload==null?_R:e.payload}}}),{setBrushSettings:pye}=X9.actions,ere=X9.reducer;function tre(t,e,r){return(e=rre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vS{static create(e){return new vS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}tre(vS,"EPS",1e-4);function ire(t){return(t%180+180)%180}var are=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ire(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ore={dots:[],areas:[],lines:[]},Q9=Ki({name:"referenceElements",initialState:ore,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=fs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=fs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=fs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:gye,removeDot:vye,addArea:mye,removeArea:yye,addLine:xye,removeLine:bye}=Q9.actions,sre=Q9.reducer,lre=C.createContext(void 0),cre=t=>{var{children:e}=t,[r]=C.useState("".concat(up("recharts"),"-clip")),n=hS();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return C.createElement(lre.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function qf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Z9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ure(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return are(n,r)}function fre(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Ov(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function dre(t,e){return Z9(t,e+1)}function hre(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=e,c=0,f=1,d=o,p=function(){var _=n?.[c];if(_===void 0)return{v:Z9(n,f)};var b=c,A,S=()=>(A===void 0&&(A=r(_,b)),A),T=_.coordinate,O=c===0||Ov(t,T,S,d,s);O||(c=0,d=o,f+=1),O&&(d=T+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return(e=gre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mre(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=e,{end:c}=e,f=function(v){var y=a[v],_,b=()=>(_===void 0&&(_=r(y,v)),_);if(v===o-1){var A=t*(y.coordinate+t*b()/2-c);a[v]=y=zn(zn({},y),{},{tickCoord:A>0?y.coordinate-A*t:y.coordinate})}else a[v]=y=zn(zn({},y),{},{tickCoord:y.coordinate});var S=Ov(t,y.tickCoord,b,s,c);S&&(c=y.tickCoord-t*(b()/2+i),a[v]=zn(zn({},y),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function yre(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:c,end:f}=e;if(a){var d=n[s-1],p=r(d,s-1),v=t*(d.coordinate+t*p/2-f);o[s-1]=d=zn(zn({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var y=Ov(t,d.tickCoord,()=>p,c,f);y&&(f=d.tickCoord-t*(p/2+i),o[s-1]=zn(zn({},d),{},{isShow:!0}))}for(var _=a?s-1:s,b=function(T){var O=o[T],N,M=()=>(N===void 0&&(N=r(O,T)),N);if(T===0){var L=t*(O.coordinate-t*M()/2-c);o[T]=O=zn(zn({},O),{},{tickCoord:L<0?O.coordinate-L*t:O.coordinate})}else o[T]=O=zn(zn({},O),{},{tickCoord:O.coordinate});var R=Ov(t,O.tickCoord,M,c,f);R&&(c=O.tickCoord+t*(M()/2+i),o[T]=zn(zn({},O),{},{isShow:!0}))},A=0;A<_;A++)b(A);return o}function mS(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!n)return[];if(ke(c)||Ql.isSsr){var v;return(v=dre(i,ke(c)?c:0))!==null&&v!==void 0?v:[]}var y=[],_=s==="top"||s==="bottom"?"width":"height",b=d&&_==="width"?Zh(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},A=(O,N)=>{var M=typeof f=="function"?f(O.value,N):O.value;return _==="width"?ure(Zh(M,{fontSize:e,letterSpacing:r}),b,p):Zh(M,{fontSize:e,letterSpacing:r})[_]},S=i.length>=2?gn(i[1].coordinate-i[0].coordinate):1,T=fre(a,S,_);return c==="equidistantPreserveStart"?hre(S,T,A,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=yre(S,T,A,i,o,c==="preserveStartEnd"):y=mre(S,T,A,i,o),y.filter(O=>O.isShow))}var xre=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var s=r?r.getBoundingClientRect().width:0,c=i+a,f=o+c+s+(r?n:0);return Math.round(f)}return 0},bre=["axisLine","width","height","className","hide","ticks"],wre=["viewBox"],_re=["viewBox"];function __(t,e){if(t==null)return{};var r,n,i=Are(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Are(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(null,arguments)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){Ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ere(t,e,r){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=Cre(t,"string");return typeof e=="symbol"?e:e+""}function Cre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Tre(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=t;if(!s)return null;var f=Qr(Qr(Qr({},c),hr(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=Qr(Qr({},f),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Qr(Qr({},f),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return C.createElement("line",cu({},f,{className:wt("recharts-cartesian-axis-line",au(s,"className"))}))}function Ire(t,e,r,n,i,a,o,s,c){var f,d,p,v,y,_,b=s?-1:1,A=t.tickSize||o,S=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,v=r+ +!s*i,p=v-b*A,_=p-b*c,y=S;break;case"left":p=v=t.coordinate,d=e+ +!s*n,f=d-b*A,y=f-b*c,_=S;break;case"right":p=v=t.coordinate,d=e+ +s*n,f=d+b*A,y=f+b*c,_=S;break;default:f=d=t.coordinate,v=r+ +s*i,p=v+b*A,_=p+b*c,y=S;break}return{line:{x1:f,y1:p,x2:d,y2:v},tick:{x:y,y:_}}}function Ore(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Rre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Pre(t){var{option:e,tickProps:r,value:n}=t,i,a=wt(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,Qr(Qr({},r),{},{className:a}));else if(typeof e=="function")i=e(Qr(Qr({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=wt(o,e?.className)),i=C.createElement($m,cu({},r,{className:o}),n)}return i}function Dre(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:c,orientation:f,mirror:d,x:p,y:v,width:y,height:_,tickSize:b,tickMargin:A,fontSize:S,letterSpacing:T,getTicksConfig:O,events:N}=t,M=mS(Qr(Qr({},O),{},{ticks:e}),S,T),L=Ore(f,d),R=Rre(f,d),D=jo(O),j=hr(r,!1),B=Qr(Qr({},D),{},{fill:"none"},hr(n,!1)),U=M.map((V,z)=>{var{line:Q,tick:de}=Ire(V,p,v,y,_,f,b,d,A),Y=Qr(Qr(Qr(Qr({textAnchor:L,verticalAnchor:R},D),{},{stroke:"none",fill:i},j),de),{},{index:z,payload:V,visibleTicksCount:M.length,tickFormatter:a,padding:s},c);return C.createElement(Nn,cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Mp(N,V,z)),n&&C.createElement("line",cu({},B,Q,{className:wt("recharts-cartesian-axis-tick-line",au(n,"className"))})),r&&C.createElement(Pre,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(V.value,z):V.value).concat(o||"")}))});return U.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var Nre=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s}=t,c=__(t,bre),[f,d]=C.useState(""),[p,v]=C.useState(""),y=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return xre({ticks:y.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=C.useCallback(b=>{if(b){var A=b.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=Array.from(A);var S=A[0];if(S){var T=window.getComputedStyle(S),O=T.fontSize,N=T.letterSpacing;(O!==f||N!==p)&&(d(O),v(N))}}},[f,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Nn,{className:wt("recharts-cartesian-axis",a),ref:_},C.createElement(Tre,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:jo(t)}),C.createElement(Dre,{ticks:s,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),C.createElement(BZ,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(KZ,{label:t.label}),t.children))}),kre=C.memo(Nre,(t,e)=>{var{viewBox:r}=t,n=__(t,wre),{viewBox:i}=e,a=__(e,_re);return qf(r,i)&&qf(n,a)}),xS=C.forwardRef((t,e)=>{var r=Mn(t,yS);return C.createElement(kre,cu({},r,{ref:e}))});xS.displayName="CartesianAxis";var Mre=["x1","y1","x2","y2","key"],jre=["offset"],Lre=["xAxisId","yAxisId"],Bre=["xAxisId","yAxisId"];function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){zre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zre(t,e,r){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ure(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qc.apply(null,arguments)}function Rv(t,e){if(t==null)return{};var r,n,i=Vre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hre=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=t;return C.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function J9(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=e,c=Rv(e,Mre),f=jo(c),{offset:d}=f,p=Rv(f,jre);r=C.createElement("line",qc({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function $re(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=Rv(t,Lre),c=i.map((f,d)=>{var p=Fn(Fn({},s),{},{x1:e,y1:f,x2:e+r,y2:f,key:"line-".concat(d),index:d});return J9(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function qre(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=Rv(t,Bre),c=i.map((f,d)=>{var p=Fn(Fn({},s),{},{x1:f,y1:e,x2:f,y2:e+r,key:"line-".concat(d),index:d});return J9(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Gre(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=s.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var y=!f[v+1],_=y?i+o-p:f[v+1]-p;if(_<=0)return null;var b=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Wre(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var y=!f[v+1],_=y?i+o-p:f[v+1]-p;if(_<=0)return null;var b=v%r.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:s,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Kre=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return XN(mS(Fn(Fn(Fn({},yS),r),{},{ticks:QN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},Yre=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return XN(mS(Fn(Fn(Fn({},yS),r),{},{ticks:QN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},Xre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function bS(t){var e=qA(),r=GA(),n=tk(),i=Fn(Fn({},Mn(t,Xre)),{},{x:ke(t.x)?t.x:n.left,y:ke(t.y)?t.y:n.top,width:ke(t.width)?t.width:n.width,height:ke(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:f,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:y}=i,_=_i(),b=Pe(j=>_8(j,"xAxis",a,_)),A=Pe(j=>_8(j,"yAxis",o,_));if(!ke(f)||f<=0||!ke(d)||d<=0||!ke(s)||s!==+s||!ke(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||Kre,T=i.horizontalCoordinatesGenerator||Yre,{horizontalPoints:O,verticalPoints:N}=i;if((!O||!O.length)&&typeof T=="function"){var M=v&&v.length,L=T({yAxis:A?Fn(Fn({},A),{},{ticks:M?v:A.ticks}):void 0,width:e,height:r,offset:n},M?!0:p);Qh(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(O=L)}if((!N||!N.length)&&typeof S=="function"){var R=y&&y.length,D=S({xAxis:b?Fn(Fn({},b),{},{ticks:R?y:b.ticks}):void 0,width:e,height:r,offset:n},R?!0:p);Qh(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Hre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(Gre,qc({},i,{horizontalPoints:O})),C.createElement(Wre,qc({},i,{verticalPoints:N})),C.createElement($re,qc({},i,{offset:n,horizontalPoints:O,xAxis:b,yAxis:A})),C.createElement(qre,qc({},i,{offset:n,verticalPoints:N,xAxis:b,yAxis:A})))}bS.displayName="CartesianGrid";var ej=(t,e,r,n)=>Bl(t,"xAxis",e,n),tj=(t,e,r,n)=>Ll(t,"xAxis",e,n),rj=(t,e,r,n)=>Bl(t,"yAxis",r,n),nj=(t,e,r,n)=>Ll(t,"yAxis",r,n),Qre=ae([vt,ej,rj,tj,nj],(t,e,r,n,i)=>Xl(t,"xAxis")?hp(e,n,!1):hp(r,i,!1)),Zre=(t,e,r,n,i)=>i;function Jre(t){return t.type==="line"}var ene=ae([Bm,Zre],(t,e)=>t.filter(Jre).find(r=>r.id===e)),tne=ae([vt,ej,rj,tj,nj,ene,Qre,Nm],(t,e,r,n,i,a,o,s)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=s;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=c?.slice(f,d+1),y!=null)return Ane({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:y})}}),rne=["id"],nne=["type","layout","connectNulls","needClip"],ine=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ane(t,e,r){return(e=one(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function one(t){var e=sne(t,"string");return typeof e=="symbol"?e:e+""}function sne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wS(t,e){if(t==null)return{};var r,n,i=lne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uu.apply(null,arguments)}var cne=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:id(r,e),payload:t}]};function une(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:id(o,e),hide:s,type:t.tooltipType,color:t.stroke,unit:c}}}var ij=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fne(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var dne=(t,e,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return ij(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,s=[],c=0,f=0;c<r.length;f+=r[c],++c)if(f+r[c]>a){s=[...r.slice(0,c),a-f];break}var d=s.length%2===0?[0,o]:[o];return[...fne(r,i),...s,...d].map(p=>"".concat(p,"px")).join(", ")};function hne(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=wt("recharts-line-dot",typeof t!="boolean"?t.className:"");r=C.createElement(D9,uu({},e,{className:n}))}return r}function pne(t,e){return t==null?!1:e?!0:t.length===1}function gne(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!pne(r,i))return null;var{id:s}=n,c=wS(n,rne),f=$D(i),d=jo(c),p=hr(i,!0),v=r.map((_,b)=>{var A=Li(Li(Li({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:r});return hne(i,A)}),y={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Nn,uu({className:"recharts-line-dots",key:"dots"},y),v)}function vne(t){var{showLabels:e,children:r,points:n}=t,i=C.useMemo(()=>n?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Li(Li({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(R9,{value:e?i:null},r)}function TR(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:o,layout:s,connectNulls:c,needClip:f}=a,d=wS(a,nne),p=Li(Li({},hr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(KA,uu({},p,{pathRef:r})),C.createElement(gne,{points:n,clipPathId:e,props:a}))}function mne(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yne(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:v,width:y,height:_,onAnimationEnd:b,onAnimationStart:A}=r,S=i.current,T=Up(r,"recharts-line-"),[O,N]=C.useState(!1),M=!O,L=C.useCallback(()=>{typeof b=="function"&&b(),N(!1)},[b]),R=C.useCallback(()=>{typeof A=="function"&&A(),N(!0)},[A]),D=mne(n.current),j=a.current;return C.createElement(vne,{points:o,showLabels:M},r.children,C.createElement(zp,{animationId:T,begin:f,duration:d,isActive:c,easing:p,onAnimationEnd:L,onAnimationStart:R,key:T},B=>{var U=yr(j,D+j,B),V=Math.min(U,D),z;if(c)if(s){var Q="".concat(s).split(/[,\s]+/gim).map(re=>parseFloat(re));z=dne(V,D,Q)}else z=ij(D,V);else z=s==null?void 0:String(s);if(S){var de=S.length/o.length,Y=B===1?o:o.map((re,K)=>{var ve=Math.floor(K*de);if(S[ve]){var Ae=S[ve];return Li(Li({},re),{},{x:yr(Ae.x,re.x,B),y:yr(Ae.y,re.y,B)})}return v?Li(Li({},re),{},{x:yr(y*2,re.x,B),y:yr(_/2,re.y,B)}):Li(Li({},re),{},{x:re.x,y:re.y})});return i.current=Y,C.createElement(TR,{props:r,points:Y,clipPathId:e,pathRef:n,strokeDasharray:z})}return B>0&&D>0&&(i.current=o,a.current=V),C.createElement(TR,{props:r,points:o,clipPathId:e,pathRef:n,strokeDasharray:z})}),C.createElement(rS,{label:r.label}))}function xne(t){var{clipPathId:e,props:r}=t,n=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(yne,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var bne=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Xt(t.payload,e)});class wne extends C.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:c,left:f,width:d,height:p,id:v,needClip:y}=this.props;if(r)return null;var _=wt("recharts-line",a),b=v,{r:A=3,strokeWidth:S=2}=(e=hr(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},T=$D(n),O=A*2+S;return C.createElement(C.Fragment,null,C.createElement(Nn,{className:_},y&&C.createElement("defs",null,C.createElement(q9,{clipPathId:b,xAxisId:o,yAxisId:s}),!T&&C.createElement("clipPath",{id:"clipPath-dots-".concat(b)},C.createElement("rect",{x:f-O/2,y:c-O/2,width:d+O,height:p+O}))),C.createElement($9,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:bne,errorBarOffset:0},C.createElement(xne,{props:this.props,clipPathId:b}))),C.createElement(Fee,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ql.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function _ne(t){var e=Mn(t,aj),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:f,isAnimationActive:d,label:p,legendType:v,xAxisId:y,yAxisId:_,id:b}=e,A=wS(e,ine),{needClip:S}=gS(y,_),T=hS(),O=Sm(),N=_i(),M=Pe(B=>tne(B,y,_,N,b));if(O!=="horizontal"&&O!=="vertical"||M==null||T==null)return null;var{height:L,width:R,x:D,y:j}=T;return C.createElement(wne,uu({},A,{id:b,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:f,label:p,legendType:v,xAxisId:y,yAxisId:_,points:M,layout:O,height:L,width:R,left:D,top:j,needClip:S}))}function Ane(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=t;return c.map((f,d)=>{var p=Xt(f,o);if(e==="horizontal"){var v=nO({axis:r,ticks:i,bandSize:s,entry:f,index:d}),y=cr(p)?null:n.scale(p);return{x:v,y,value:p,payload:f}}var _=cr(p)?null:r.scale(p),b=nO({axis:n,ticks:a,bandSize:s,entry:f,index:d});return _==null||b==null?null:{x:_,y:b,value:p,payload:f}}).filter(Boolean)}function Ene(t){var e=Mn(t,aj),r=_i();return C.createElement(fS,{id:e.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(z9,{legendPayload:cne(e)}),C.createElement(uS,{fn:une,args:e}),C.createElement(F9,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(_ne,uu({},e,{id:n}))))}var oj=C.memo(Ene);oj.displayName="Line";var Sne=["dangerouslySetInnerHTML","ticks"],Cne=["id"],Tne=["domain"],Ine=["domain"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A_.apply(null,arguments)}function Pv(t,e){if(t==null)return{};var r,n,i=One(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function One(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Rne(t){var e=gr();return C.useEffect(()=>(e(Iee(t)),()=>{e(Oee(t))}),[t,e]),null}var Pne=t=>{var{xAxisId:e,className:r}=t,n=Pe(HA),i=_i(),a="xAxis",o=Pe(A=>fd(A,a,e,i)),s=Pe(A=>GM(A,a,e,i)),c=Pe(A=>VM(A,e)),f=Pe(A=>cX(A,e)),d=Pe(A=>xM(A,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,y=Pv(t,Sne),{id:_}=d,b=Pv(d,Cne);return C.createElement(xS,A_({},y,b,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:wt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},Dne={allowDataOverflow:ki.allowDataOverflow,allowDecimals:ki.allowDecimals,allowDuplicatedCategory:ki.allowDuplicatedCategory,height:ki.height,hide:!1,mirror:ki.mirror,orientation:ki.orientation,padding:ki.padding,reversed:ki.reversed,scale:ki.scale,tickCount:ki.tickCount,type:ki.type,xAxisId:0},Nne=t=>{var e,r,n,i,a,o=Mn(t,Dne);return C.createElement(C.Fragment,null,C.createElement(Rne,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Pne,o))},kne=(t,e)=>{var{domain:r}=t,n=Pv(t,Tne),{domain:i}=e,a=Pv(e,Ine);return qf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:qf({domain:r},{domain:i}):!1},_S=C.memo(Nne,kne);_S.displayName="XAxis";var Mne=["dangerouslySetInnerHTML","ticks"],jne=["id"],Lne=["domain"],Bne=["domain"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E_.apply(null,arguments)}function Dv(t,e){if(t==null)return{};var r,n,i=zne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Une(t){var e=gr();return C.useEffect(()=>(e(Ree(t)),()=>{e(Pee(t))}),[t,e]),null}var Fne=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=C.useRef(null),o=C.useRef(null),s=Pe(HA),c=_i(),f=gr(),d="yAxis",p=Pe(M=>fd(M,d,e,c)),v=Pe(M=>HM(M,e)),y=Pe(M=>fX(M,e)),_=Pe(M=>GM(M,d,e,c)),b=Pe(M=>bM(M,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!v||tS(i)||C.isValidElement(i)||b==null)){var M=a.current;if(M){var L=M.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(Dee({id:e,width:L}))}}},[_,v,f,i,e,n,b]),v==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=t,T=Dv(t,Mne),{id:O}=b,N=Dv(b,jne);return C.createElement(xS,E_({},T,N,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:wt("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:_}))},Vne={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:Mi.allowDecimals,allowDuplicatedCategory:Mi.allowDuplicatedCategory,hide:!1,mirror:Mi.mirror,orientation:Mi.orientation,padding:Mi.padding,reversed:Mi.reversed,scale:Mi.scale,tickCount:Mi.tickCount,type:Mi.type,width:Mi.width,yAxisId:0},Hne=t=>{var e,r,n,i,a,o=Mn(t,Vne);return C.createElement(C.Fragment,null,C.createElement(Une,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Fne,o))},$ne=(t,e)=>{var{domain:r}=t,n=Dv(t,Lne),{domain:i}=e,a=Dv(e,Bne);return qf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:qf({domain:r},{domain:i}):!1},AS=C.memo(Hne,$ne);AS.displayName="YAxis";var nw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function qne(){if(IR)return iw;IR=1;var t=rd();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return iw.useSyncExternalStoreWithSelector=function(c,f,d,p,v){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=o(function(){function A(M){if(!S){if(S=!0,T=M,M=p(M),v!==void 0&&_.hasValue){var L=_.value;if(v(L,M))return O=L}return O=M}if(L=O,r(T,M))return L;var R=p(M);return v!==void 0&&v(L,R)?(T=M,L):(T=M,O=R)}var S=!1,T,O,N=d===void 0?null:d;return[function(){return A(f())},N===null?void 0:function(){return A(N())}]},[f,d,p,v]);var b=n(c,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=b},[b]),s(b),b},iw}var OR;function Gne(){return OR||(OR=1,nw.exports=qne()),nw.exports}Gne();function Wne(t){t()}function Kne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wne(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var RR={notify(){},get:()=>[]};function Yne(t,e){let r,n=RR,i=0,a=!1;function o(b){d();const A=n.subscribe(b);let S=!1;return()=>{S||(S=!0,A(),p())}}function s(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function d(){i++,r||(r=t.subscribe(c),n=Kne())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=RR)}function v(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return _}var Xne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qne=Xne(),Zne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jne=Zne(),eie=()=>Qne||Jne?C.useLayoutEffect:C.useEffect,tie=eie(),rie=Symbol.for("react-redux-context"),nie=typeof globalThis<"u"?globalThis:{};function iie(){if(!C.createContext)return{};const t=nie[rie]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var aie=iie();function oie(t){const{children:e,context:r,serverState:n,store:i}=t,a=C.useMemo(()=>{const c=Yne(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=C.useMemo(()=>i.getState(),[i]);tie(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=r||aie;return C.createElement(s.Provider,{value:a},e)}var sie=oie,lie=(t,e)=>e,ES=ae([lie,vt,vM,on,s9,Os,vQ,nn],wQ),SS=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},sj=xa("mouseClick"),lj=Lp();lj.startListening({actionCreator:sj,effect:(t,e)=>{var r=t.payload,n=ES(e.getState(),SS(r));n?.activeIndex!=null&&e.dispatch(EX({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var S_=xa("mouseMove"),cj=Lp();cj.startListening({actionCreator:S_,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=qE(n,n.tooltip.settings.shared),a=ES(n,SS(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(e9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(JM()))}});var PR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},uj=Ki({name:"rootProps",initialState:PR,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:PR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),cie=uj.reducer,{updateOptions:uie}=uj.actions,fj=Ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:fie}=fj.actions,die=fj.reducer,dj=xa("keyDown"),hj=xa("focus"),CS=Lp();CS.startListening({actionCreator:dj,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(GE(i,hd(r))),s=Os(r);if(a==="Enter"){var c=Ev(r,"axis","hover",String(i.index));e.dispatch(v_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=gX(r),d=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*d;if(!(s==null||v>=s.length||v<0)){var y=Ev(r,"axis","hover",String(v));e.dispatch(v_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});CS.startListening({actionCreator:hj,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Ev(r,"axis","hover",String(a));e.dispatch(v_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var fa=xa("externalEvent"),pj=Lp();pj.startListening({actionCreator:fa,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:oQ(r),activeDataKey:f9(r),activeIndex:zl(r),activeLabel:u9(r),activeTooltipIndex:zl(r),isTooltipActive:sQ(r)};t.payload.handler(n,t.payload.reactEvent)}}});var hie=ae([dd],t=>t.tooltipItemPayloads),pie=ae([hie,Xp,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),gj=xa("touchMove"),vj=Lp();vj.startListening({actionCreator:gj,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=qE(n,n.tooltip.settings.shared);if(i==="axis"){var a=ES(n,SS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(e9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(JN),d=(o=c.getAttribute(ek))!==null&&o!==void 0?o:void 0,p=pie(e.getState(),f,d);e.dispatch(ZM({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var gie=SN({brush:ere,cartesianAxis:Nee,chartData:LQ,errorBars:Jee,graphicalItems:ZJ,layout:v$,legend:oq,options:DQ,polarAxis:gJ,polarOptions:die,referenceElements:sre,rootProps:cie,tooltip:SX}),vie=function(e){return FH({reducer:gie,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([lj.middleware,cj.middleware,CS.middleware,pj.middleware,vj.middleware]),devTools:Ql.devToolsEnabled})};function mj(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=_i(),a=C.useRef(null);if(i)return r;a.current==null&&(a.current=vie(e));var o=LA;return C.createElement(sie,{context:o,store:a.current},r)}function yj(t){var{layout:e,width:r,height:n,margin:i}=t,a=gr(),o=_i();return C.useEffect(()=>{o||(a(h$(e)),a(p$({width:r,height:n})),a(d$(i)))},[a,o,e,r,n,i]),null}function xj(t){var e=gr();return C.useEffect(()=>{e(uie(t))},[e,t]),null}var mie=["children"];function yie(t,e){if(t==null)return{};var r,n,i=xie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(null,arguments)}var bie={width:"100%",height:"100%"},wie=C.forwardRef((t,e)=>{var r=qA(),n=GA(),i=ak();if(!Uf(r)||!Uf(n))return null;var{children:a,otherAttributes:o,title:s,desc:c}=t,f,d;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,C.createElement(IA,Nv({},o,{title:s,desc:c,role:d,tabIndex:f,width:r,height:n,style:bie,ref:e}),a)}),_ie=t=>{var{children:e}=t,r=Pe(Em);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return C.createElement(IA,{width:n,height:i,x:o,y:a},e)},DR=C.forwardRef((t,e)=>{var{children:r}=t,n=yie(t,mie),i=_i();return i?C.createElement(_ie,null,r):C.createElement(wie,Nv({ref:e},n),r)});function Aie(){var t=gr(),[e,r]=C.useState(null),n=Pe(q$);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;qi(a)&&a!==n&&t(g$(a))}},[e,t,n]),r}function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){Sie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sie(t,e,r){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iie=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:b,style:A,width:S}=t,T=gr(),[O,N]=C.useState(null),[M,L]=C.useState(null);GQ();var R=Aie(),D=C.useCallback(J=>{R(J),typeof e=="function"&&e(J),N(J),L(J)},[R,e,N,L]),j=C.useCallback(J=>{T(sj(J)),T(fa({handler:a,reactEvent:J}))},[T,a]),B=C.useCallback(J=>{T(S_(J)),T(fa({handler:f,reactEvent:J}))},[T,f]),U=C.useCallback(J=>{T(JM()),T(fa({handler:d,reactEvent:J}))},[T,d]),V=C.useCallback(J=>{T(S_(J)),T(fa({handler:p,reactEvent:J}))},[T,p]),z=C.useCallback(()=>{T(hj())},[T]),Q=C.useCallback(J=>{T(dj(J.key))},[T]),de=C.useCallback(J=>{T(fa({handler:o,reactEvent:J}))},[T,o]),Y=C.useCallback(J=>{T(fa({handler:s,reactEvent:J}))},[T,s]),re=C.useCallback(J=>{T(fa({handler:c,reactEvent:J}))},[T,c]),K=C.useCallback(J=>{T(fa({handler:v,reactEvent:J}))},[T,v]),ve=C.useCallback(J=>{T(fa({handler:b,reactEvent:J}))},[T,b]),Ae=C.useCallback(J=>{T(gj(J)),T(fa({handler:_,reactEvent:J}))},[T,_]),G=C.useCallback(J=>{T(fa({handler:y,reactEvent:J}))},[T,y]);return C.createElement(m9.Provider,{value:O},C.createElement(GD.Provider,{value:M},C.createElement("div",{className:wt("recharts-wrapper",n),style:Eie({position:"relative",cursor:"default",width:S,height:i},A),onClick:j,onContextMenu:de,onDoubleClick:Y,onFocus:z,onKeyDown:Q,onMouseDown:re,onMouseEnter:B,onMouseLeave:U,onMouseMove:V,onMouseUp:K,onTouchEnd:G,onTouchMove:Ae,onTouchStart:ve,ref:D},r)))}),Oie=["children","className","width","height","style","compact","title","desc"];function Rie(t,e){if(t==null)return{};var r,n,i=Pie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bj=C.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:c,desc:f}=t,d=Rie(t,Oie),p=jo(d);return s?C.createElement(DR,{otherAttributes:p,title:c,desc:f},r):C.createElement(Iie,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(DR,{otherAttributes:p,title:c,desc:f,ref:e},C.createElement(cre,null,r)))}),Die=["width","height"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C_.apply(null,arguments)}function Nie(t,e){if(t==null)return{};var r,n,i=kie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mie={top:5,right:5,bottom:5,left:5},jie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mie,reverseStackOrder:!1,syncMethod:"index"},wj=C.forwardRef(function(e,r){var n,i=Mn(e.categoricalChartProps,jie),{width:a,height:o}=i,s=Nie(i,Die);if(!Uf(a)||!Uf(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,y={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(mj,{preloadedState:{options:y},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:c},C.createElement(Y9,{chartData:v.data}),C.createElement(yj,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement(xj,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(bj,C_({},s,{width:a,height:o,ref:r})))}),Lie=["axis"],Bie=C.forwardRef((t,e)=>C.createElement(wj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lie,tooltipPayloadSearcher:eS,categoricalChartProps:t,ref:e})),zie=["axis","item"],Uie=C.forwardRef((t,e)=>C.createElement(wj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zie,tooltipPayloadSearcher:eS,categoricalChartProps:t,ref:e}));function Fie(t){var e=gr();return C.useEffect(()=>{e(fie(t))},[e,t]),null}var Vie=["width","height","layout"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T_.apply(null,arguments)}function Hie(t,e){if(t==null)return{};var r,n,i=$ie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $ie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qie={top:5,right:5,bottom:5,left:5},Gie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qie,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Wie=C.forwardRef(function(e,r){var n,i=Mn(e.categoricalChartProps,Gie),{width:a,height:o,layout:s}=i,c=Hie(i,Vie);if(!Uf(a)||!Uf(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,y={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(mj,{preloadedState:{options:y},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},C.createElement(Y9,{chartData:i.data}),C.createElement(yj,{width:a,height:o,layout:s,margin:i.margin}),C.createElement(xj,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(Fie,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(bj,T_({width:a,height:o},c,{ref:r})))}),Kie=["item"],Yie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},TS=C.forwardRef((t,e)=>{var r=Mn(t,Yie);return C.createElement(Wie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Kie,tooltipPayloadSearcher:eS,categoricalChartProps:r,ref:e})});const kR=t=>{let e;const r=new Set,n=(f,d)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(y=>y(e,v))}},i=()=>e,s={setState:n,getState:i,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f))},c=e=t(n,i,s);return s},Xie=(t=>t?kR(t):kR),Qie=t=>t;function Zie(t,e=Qie){const r=Hn.useSyncExternalStore(t.subscribe,Hn.useCallback(()=>e(t.getState()),[t,e]),Hn.useCallback(()=>e(t.getInitialState()),[t,e]));return Hn.useDebugValue(r),r}const MR=t=>{const e=Xie(t),r=n=>Zie(e,n);return Object.assign(r,e),r},Eu=(t=>t?MR(t):MR);function Vl(t,e){try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`localStorage (${t}):`,r),e}}function Lt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`localStorage (${t}):`,r)}}const it={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings",BADGES:"app-badges"},Sn=[];for(let t=0;t<256;++t)Sn.push((t+256).toString(16).slice(1));function Jie(t,e=0){return(Sn[t[e+0]]+Sn[t[e+1]]+Sn[t[e+2]]+Sn[t[e+3]]+"-"+Sn[t[e+4]]+Sn[t[e+5]]+"-"+Sn[t[e+6]]+Sn[t[e+7]]+"-"+Sn[t[e+8]]+Sn[t[e+9]]+"-"+Sn[t[e+10]]+Sn[t[e+11]]+Sn[t[e+12]]+Sn[t[e+13]]+Sn[t[e+14]]+Sn[t[e+15]]).toLowerCase()}let aw;const eae=new Uint8Array(16);function tae(){if(!aw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");aw=crypto.getRandomValues.bind(crypto)}return aw(eae)}const rae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jR={randomUUID:rae};function nae(t,e,r){t=t||{};const n=t.random??t.rng?.()??tae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Jie(n)}function iae(t,e,r){return jR.randomUUID&&!t?jR.randomUUID():nae(t)}function Rl(){return iae()}const aae=()=>{};var LR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},oae=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Aj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=a>>2,p=(a&3)<<4|s>>4;let v=(s&15)<<2|f>>6,y=f&63;c||(y=64,o||(v=64)),n.push(r[d],r[p],r[v],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_j(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oae(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||f==null||p==null)throw new sae;const v=a<<2|s>>4;if(n.push(v),f!==64){const y=s<<4&240|f>>2;if(n.push(y),p!==64){const _=f<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lae=function(t){const e=_j(t);return Aj.encodeByteArray(e,!0)},kv=function(t){return lae(t).replace(/\./g,"")},Ej=function(t){try{return Aj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=()=>cae().__FIREBASE_DEFAULTS__,fae=()=>{if(typeof process>"u"||typeof LR>"u")return;const t=LR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dae=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ej(t[1]);return e&&JSON.parse(e)},Gm=()=>{try{return aae()||uae()||fae()||dae()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sj=t=>Gm()?.emulatorHosts?.[t],IS=t=>{const e=Sj(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Cj=()=>Gm()?.config,Tj=t=>Gm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kv(JSON.stringify(r)),kv(JSON.stringify(o)),""].join(".")}const Jh={};function pae(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jh))Jh[e]?t.emulator.push(e):t.prod.push(e);return t}function gae(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let BR=!1;function Km(t,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Jh[t]===e||Jh[t]||BR)return;Jh[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=pae().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function s(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{BR=!0,o()},v}function d(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=gae(n),y=r("text"),_=document.getElementById(y)||document.createElement("span"),b=r("learnmore"),A=document.getElementById(b)||document.createElement("a"),S=r("preprendIcon"),T=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;s(O),d(A,b);const N=f();c(T,S),O.append(T,_,A,N),document.body.appendChild(O)}a?(_.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function mae(){const t=Gm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xae(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wae(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _ae(){return!mae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aae(){try{return typeof indexedDB=="object"}catch{return!1}}function Eae(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae="FirebaseError";class Xa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Sae,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t0.prototype.create)}}class t0{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Cae(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Xa(i,s,n)}}function Cae(t,e){return t.replace(Tae,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Tae=/\{\$([^}]+)}/g;function Iae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(zR(a)&&zR(o)){if(!fu(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function zR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Vh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Oae(t,e){const r=new Rae(t,e);return r.subscribe.bind(r)}class Rae{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Pae(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ow),i.error===void 0&&(i.error=ow),i.complete===void 0&&(i.complete=ow);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pae(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ow(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new hae;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kae(e))try{this.getOrInitializeService({instanceIdentifier:Uc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uc){return this.instances.has(e)}getOptions(e=Uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Nae(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Uc){return this.component?this.component.multipleInstances?e:Uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nae(t){return t===Uc?void 0:t}function kae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Dae(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const jae={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Lae=lt.INFO,Bae={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},zae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Bae[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OS{constructor(e){this.name=e,this._logLevel=Lae,this._logHandler=zae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Uae=(t,e)=>e.some(r=>t instanceof r);let UR,FR;function Fae(){return UR||(UR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vae(){return FR||(FR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Oj=new WeakMap,I_=new WeakMap,Rj=new WeakMap,sw=new WeakMap,RS=new WeakMap;function Hae(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Pl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Oj.set(r,t)}).catch(()=>{}),RS.set(e,t),e}function $ae(t){if(I_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});I_.set(t,e)}let O_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return I_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rj.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Pl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qae(t){O_=t(O_)}function Gae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(lw(this),e,...r);return Rj.set(n,e.sort?e.sort():[e]),Pl(n)}:Vae().includes(t)?function(...e){return t.apply(lw(this),e),Pl(Oj.get(this))}:function(...e){return Pl(t.apply(lw(this),e))}}function Wae(t){return typeof t=="function"?Gae(t):(t instanceof IDBTransaction&&$ae(t),Uae(t,Fae())?new Proxy(t,O_):t)}function Pl(t){if(t instanceof IDBRequest)return Hae(t);if(sw.has(t))return sw.get(t);const e=Wae(t);return e!==t&&(sw.set(t,e),RS.set(e,t)),e}const lw=t=>RS.get(t);function Kae(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Pl(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Pl(o.result),c.oldVersion,c.newVersion,Pl(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),s.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const Yae=["get","getKey","getAll","getAllKeys","count"],Xae=["put","add","delete","clear"],cw=new Map;function VR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cw.get(e))return cw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Xae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Yae.includes(r)))return;const a=async function(o,...s){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(s.shift())),(await Promise.all([f[r](...s),i&&c.done]))[0]};return cw.set(e,a),a}qae(t=>({...t,get:(e,r,n)=>VR(e,r)||t.get(e,r,n),has:(e,r)=>!!VR(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Zae(t){return t.getComponent()?.type==="VERSION"}const R_="@firebase/app",HR="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new OS("@firebase/app"),Jae="@firebase/app-compat",eoe="@firebase/analytics-compat",toe="@firebase/analytics",roe="@firebase/app-check-compat",noe="@firebase/app-check",ioe="@firebase/auth",aoe="@firebase/auth-compat",ooe="@firebase/database",soe="@firebase/data-connect",loe="@firebase/database-compat",coe="@firebase/functions",uoe="@firebase/functions-compat",foe="@firebase/installations",doe="@firebase/installations-compat",hoe="@firebase/messaging",poe="@firebase/messaging-compat",goe="@firebase/performance",voe="@firebase/performance-compat",moe="@firebase/remote-config",yoe="@firebase/remote-config-compat",xoe="@firebase/storage",boe="@firebase/storage-compat",woe="@firebase/firestore",_oe="@firebase/ai",Aoe="@firebase/firestore-compat",Eoe="firebase",Soe="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="[DEFAULT]",Coe={[R_]:"fire-core",[Jae]:"fire-core-compat",[toe]:"fire-analytics",[eoe]:"fire-analytics-compat",[noe]:"fire-app-check",[roe]:"fire-app-check-compat",[ioe]:"fire-auth",[aoe]:"fire-auth-compat",[ooe]:"fire-rtdb",[soe]:"fire-data-connect",[loe]:"fire-rtdb-compat",[coe]:"fire-fn",[uoe]:"fire-fn-compat",[foe]:"fire-iid",[doe]:"fire-iid-compat",[hoe]:"fire-fcm",[poe]:"fire-fcm-compat",[goe]:"fire-perf",[voe]:"fire-perf-compat",[moe]:"fire-rc",[yoe]:"fire-rc-compat",[xoe]:"fire-gcs",[boe]:"fire-gcs-compat",[woe]:"fire-fst",[Aoe]:"fire-fst-compat",[_oe]:"fire-vertex","fire-js":"fire-js",[Eoe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map,Toe=new Map,D_=new Map;function $R(t,e){try{t.container.addComponent(e)}catch(r){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hl(t){const e=t.name;if(D_.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;D_.set(e,t);for(const r of Mv.values())$R(r,t);for(const r of Toe.values())$R(r,t);return!0}function n0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dl=new t0("app","Firebase",Ioe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=Soe;function Pj(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:P_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Dl.create("bad-app-name",{appName:String(i)});if(r||(r=Cj()),!r)throw Dl.create("no-options");const a=Mv.get(i);if(a){if(fu(r,a.options)&&fu(n,a.config))return a;throw Dl.create("duplicate-app",{appName:i})}const o=new Mae(i);for(const c of D_.values())o.addComponent(c);const s=new Ooe(r,n,o);return Mv.set(i,s),s}function Ym(t=P_){const e=Mv.get(t);if(!e&&t===P_&&Cj())return Pj();if(!e)throw Dl.create("no-app",{appName:t});return e}function ma(t,e,r){let n=Coe[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(o.join(" "));return}Hl(new xs(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe="firebase-heartbeat-database",Poe=1,wp="firebase-heartbeat-store";let uw=null;function Dj(){return uw||(uw=Kae(Roe,Poe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wp)}catch(r){console.warn(r)}}}}).catch(t=>{throw Dl.create("idb-open",{originalErrorMessage:t.message})})),uw}async function Doe(t){try{const r=(await Dj()).transaction(wp),n=await r.objectStore(wp).get(Nj(t));return await r.done,n}catch(e){if(e instanceof Xa)bs.warn(e.message);else{const r=Dl.create("idb-get",{originalErrorMessage:e?.message});bs.warn(r.message)}}}async function qR(t,e){try{const n=(await Dj()).transaction(wp,"readwrite");await n.objectStore(wp).put(e,Nj(t)),await n.done}catch(r){if(r instanceof Xa)bs.warn(r.message);else{const n=Dl.create("idb-set",{originalErrorMessage:r?.message});bs.warn(n.message)}}}function Nj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=1024,koe=30;class Moe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Loe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=GR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>koe){const i=Boe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=GR(),{heartbeatsToSend:r,unsentEntries:n}=joe(this._heartbeatsCache.heartbeats),i=kv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return bs.warn(e),""}}}function GR(){return new Date().toISOString().substring(0,10)}function joe(t,e=Noe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),WR(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),WR(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Loe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aae()?Eae().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Doe(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return qR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function WR(t){return kv(JSON.stringify({version:2,heartbeats:t})).length}function Boe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zoe(t){Hl(new xs("platform-logger",e=>new Qae(e),"PRIVATE")),Hl(new xs("heartbeat",e=>new Moe(e),"PRIVATE")),ma(R_,HR,t),ma(R_,HR,"esm2020"),ma("fire-js","")}zoe("");var KR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,kj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,D){function j(){}j.prototype=D.prototype,R.F=D.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(B,U,V){for(var z=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)z[Q-2]=arguments[Q];return D.prototype[U].apply(B,z)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,D,j){j||(j=0);const B=Array(16);if(typeof D=="string")for(var U=0;U<16;++U)B[U]=D.charCodeAt(j++)|D.charCodeAt(j++)<<8|D.charCodeAt(j++)<<16|D.charCodeAt(j++)<<24;else for(U=0;U<16;++U)B[U]=D[j++]|D[j++]<<8|D[j++]<<16|D[j++]<<24;D=R.g[0],j=R.g[1],U=R.g[2];let V=R.g[3],z;z=D+(V^j&(U^V))+B[0]+3614090360&4294967295,D=j+(z<<7&4294967295|z>>>25),z=V+(U^D&(j^U))+B[1]+3905402710&4294967295,V=D+(z<<12&4294967295|z>>>20),z=U+(j^V&(D^j))+B[2]+606105819&4294967295,U=V+(z<<17&4294967295|z>>>15),z=j+(D^U&(V^D))+B[3]+3250441966&4294967295,j=U+(z<<22&4294967295|z>>>10),z=D+(V^j&(U^V))+B[4]+4118548399&4294967295,D=j+(z<<7&4294967295|z>>>25),z=V+(U^D&(j^U))+B[5]+1200080426&4294967295,V=D+(z<<12&4294967295|z>>>20),z=U+(j^V&(D^j))+B[6]+2821735955&4294967295,U=V+(z<<17&4294967295|z>>>15),z=j+(D^U&(V^D))+B[7]+4249261313&4294967295,j=U+(z<<22&4294967295|z>>>10),z=D+(V^j&(U^V))+B[8]+1770035416&4294967295,D=j+(z<<7&4294967295|z>>>25),z=V+(U^D&(j^U))+B[9]+2336552879&4294967295,V=D+(z<<12&4294967295|z>>>20),z=U+(j^V&(D^j))+B[10]+4294925233&4294967295,U=V+(z<<17&4294967295|z>>>15),z=j+(D^U&(V^D))+B[11]+2304563134&4294967295,j=U+(z<<22&4294967295|z>>>10),z=D+(V^j&(U^V))+B[12]+1804603682&4294967295,D=j+(z<<7&4294967295|z>>>25),z=V+(U^D&(j^U))+B[13]+4254626195&4294967295,V=D+(z<<12&4294967295|z>>>20),z=U+(j^V&(D^j))+B[14]+2792965006&4294967295,U=V+(z<<17&4294967295|z>>>15),z=j+(D^U&(V^D))+B[15]+1236535329&4294967295,j=U+(z<<22&4294967295|z>>>10),z=D+(U^V&(j^U))+B[1]+4129170786&4294967295,D=j+(z<<5&4294967295|z>>>27),z=V+(j^U&(D^j))+B[6]+3225465664&4294967295,V=D+(z<<9&4294967295|z>>>23),z=U+(D^j&(V^D))+B[11]+643717713&4294967295,U=V+(z<<14&4294967295|z>>>18),z=j+(V^D&(U^V))+B[0]+3921069994&4294967295,j=U+(z<<20&4294967295|z>>>12),z=D+(U^V&(j^U))+B[5]+3593408605&4294967295,D=j+(z<<5&4294967295|z>>>27),z=V+(j^U&(D^j))+B[10]+38016083&4294967295,V=D+(z<<9&4294967295|z>>>23),z=U+(D^j&(V^D))+B[15]+3634488961&4294967295,U=V+(z<<14&4294967295|z>>>18),z=j+(V^D&(U^V))+B[4]+3889429448&4294967295,j=U+(z<<20&4294967295|z>>>12),z=D+(U^V&(j^U))+B[9]+568446438&4294967295,D=j+(z<<5&4294967295|z>>>27),z=V+(j^U&(D^j))+B[14]+3275163606&4294967295,V=D+(z<<9&4294967295|z>>>23),z=U+(D^j&(V^D))+B[3]+4107603335&4294967295,U=V+(z<<14&4294967295|z>>>18),z=j+(V^D&(U^V))+B[8]+1163531501&4294967295,j=U+(z<<20&4294967295|z>>>12),z=D+(U^V&(j^U))+B[13]+2850285829&4294967295,D=j+(z<<5&4294967295|z>>>27),z=V+(j^U&(D^j))+B[2]+4243563512&4294967295,V=D+(z<<9&4294967295|z>>>23),z=U+(D^j&(V^D))+B[7]+1735328473&4294967295,U=V+(z<<14&4294967295|z>>>18),z=j+(V^D&(U^V))+B[12]+2368359562&4294967295,j=U+(z<<20&4294967295|z>>>12),z=D+(j^U^V)+B[5]+4294588738&4294967295,D=j+(z<<4&4294967295|z>>>28),z=V+(D^j^U)+B[8]+2272392833&4294967295,V=D+(z<<11&4294967295|z>>>21),z=U+(V^D^j)+B[11]+1839030562&4294967295,U=V+(z<<16&4294967295|z>>>16),z=j+(U^V^D)+B[14]+4259657740&4294967295,j=U+(z<<23&4294967295|z>>>9),z=D+(j^U^V)+B[1]+2763975236&4294967295,D=j+(z<<4&4294967295|z>>>28),z=V+(D^j^U)+B[4]+1272893353&4294967295,V=D+(z<<11&4294967295|z>>>21),z=U+(V^D^j)+B[7]+4139469664&4294967295,U=V+(z<<16&4294967295|z>>>16),z=j+(U^V^D)+B[10]+3200236656&4294967295,j=U+(z<<23&4294967295|z>>>9),z=D+(j^U^V)+B[13]+681279174&4294967295,D=j+(z<<4&4294967295|z>>>28),z=V+(D^j^U)+B[0]+3936430074&4294967295,V=D+(z<<11&4294967295|z>>>21),z=U+(V^D^j)+B[3]+3572445317&4294967295,U=V+(z<<16&4294967295|z>>>16),z=j+(U^V^D)+B[6]+76029189&4294967295,j=U+(z<<23&4294967295|z>>>9),z=D+(j^U^V)+B[9]+3654602809&4294967295,D=j+(z<<4&4294967295|z>>>28),z=V+(D^j^U)+B[12]+3873151461&4294967295,V=D+(z<<11&4294967295|z>>>21),z=U+(V^D^j)+B[15]+530742520&4294967295,U=V+(z<<16&4294967295|z>>>16),z=j+(U^V^D)+B[2]+3299628645&4294967295,j=U+(z<<23&4294967295|z>>>9),z=D+(U^(j|~V))+B[0]+4096336452&4294967295,D=j+(z<<6&4294967295|z>>>26),z=V+(j^(D|~U))+B[7]+1126891415&4294967295,V=D+(z<<10&4294967295|z>>>22),z=U+(D^(V|~j))+B[14]+2878612391&4294967295,U=V+(z<<15&4294967295|z>>>17),z=j+(V^(U|~D))+B[5]+4237533241&4294967295,j=U+(z<<21&4294967295|z>>>11),z=D+(U^(j|~V))+B[12]+1700485571&4294967295,D=j+(z<<6&4294967295|z>>>26),z=V+(j^(D|~U))+B[3]+2399980690&4294967295,V=D+(z<<10&4294967295|z>>>22),z=U+(D^(V|~j))+B[10]+4293915773&4294967295,U=V+(z<<15&4294967295|z>>>17),z=j+(V^(U|~D))+B[1]+2240044497&4294967295,j=U+(z<<21&4294967295|z>>>11),z=D+(U^(j|~V))+B[8]+1873313359&4294967295,D=j+(z<<6&4294967295|z>>>26),z=V+(j^(D|~U))+B[15]+4264355552&4294967295,V=D+(z<<10&4294967295|z>>>22),z=U+(D^(V|~j))+B[6]+2734768916&4294967295,U=V+(z<<15&4294967295|z>>>17),z=j+(V^(U|~D))+B[13]+1309151649&4294967295,j=U+(z<<21&4294967295|z>>>11),z=D+(U^(j|~V))+B[4]+4149444226&4294967295,D=j+(z<<6&4294967295|z>>>26),z=V+(j^(D|~U))+B[11]+3174756917&4294967295,V=D+(z<<10&4294967295|z>>>22),z=U+(D^(V|~j))+B[2]+718787259&4294967295,U=V+(z<<15&4294967295|z>>>17),z=j+(V^(U|~D))+B[9]+3951481745&4294967295,R.g[0]=R.g[0]+D&4294967295,R.g[1]=R.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+V&4294967295}n.prototype.v=function(R,D){D===void 0&&(D=R.length);const j=D-this.blockSize,B=this.C;let U=this.h,V=0;for(;V<D;){if(U==0)for(;V<=j;)i(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<D;)if(B[U++]=R.charCodeAt(V++),U==this.blockSize){i(this,B),U=0;break}}else for(;V<D;)if(B[U++]=R[V++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=D},n.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var D=1;D<R.length-8;++D)R[D]=0;D=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=D&255,D/=256;for(this.v(R),R=Array(16),D=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)R[D++]=this.g[j]>>>B&255;return R};function a(R,D){var j=s;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=D(R)}function o(R,D){this.h=D;const j=[];let B=!0;for(let U=R.length-1;U>=0;U--){const V=R[U]|0;B&&V==D||(j[U]=V,B=!1)}this.g=j}var s={};function c(R){return-128<=R&&R<128?a(R,function(D){return new o([D|0],D<0?-1:0)}):new o([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return A(f(-R));const D=[];let j=1;for(let B=0;R>=j;B++)D[B]=R/j|0,j*=4294967296;return new o(D,0)}function d(R,D){if(R.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R.charAt(0)=="-")return A(d(R.substring(1),D));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(D,8));let B=p;for(let V=0;V<R.length;V+=8){var U=Math.min(8,R.length-V);const z=parseInt(R.substring(V,V+U),D);U<8?(U=f(Math.pow(D,U)),B=B.j(U).add(f(z))):(B=B.j(j),B=B.add(f(z)))}return B}var p=c(0),v=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-A(this).m();let R=0,D=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);R+=(B>=0?B:4294967296+B)*D,D*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(b(this))return"-"+A(this).toString(R);const D=f(Math.pow(R,6));var j=this;let B="";for(;;){const U=N(j,D).g;j=S(j,U.j(D));let V=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=U,_(j))return V+B;for(;V.length<6;)V="0"+V;B=V+B}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(let D=0;D<R.g.length;D++)if(R.g[D]!=0)return!1;return!0}function b(R){return R.h==-1}t.l=function(R){return R=S(this,R),b(R)?-1:_(R)?0:1};function A(R){const D=R.g.length,j=[];for(let B=0;B<D;B++)j[B]=~R.g[B];return new o(j,~R.h).add(v)}t.abs=function(){return b(this)?A(this):this},t.add=function(R){const D=Math.max(this.g.length,R.g.length),j=[];let B=0;for(let U=0;U<=D;U++){let V=B+(this.i(U)&65535)+(R.i(U)&65535),z=(V>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);B=z>>>16,V&=65535,z&=65535,j[U]=z<<16|V}return new o(j,j[j.length-1]&-2147483648?-1:0)};function S(R,D){return R.add(A(D))}t.j=function(R){if(_(this)||_(R))return p;if(b(this))return b(R)?A(this).j(A(R)):A(A(this).j(R));if(b(R))return A(this.j(A(R)));if(this.l(y)<0&&R.l(y)<0)return f(this.m()*R.m());const D=this.g.length+R.g.length,j=[];for(var B=0;B<2*D;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<R.g.length;U++){const V=this.i(B)>>>16,z=this.i(B)&65535,Q=R.i(U)>>>16,de=R.i(U)&65535;j[2*B+2*U]+=z*de,T(j,2*B+2*U),j[2*B+2*U+1]+=V*de,T(j,2*B+2*U+1),j[2*B+2*U+1]+=z*Q,T(j,2*B+2*U+1),j[2*B+2*U+2]+=V*Q,T(j,2*B+2*U+2)}for(R=0;R<D;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=D;R<2*D;R++)j[R]=0;return new o(j,0)};function T(R,D){for(;(R[D]&65535)!=R[D];)R[D+1]+=R[D]>>>16,R[D]&=65535,D++}function O(R,D){this.g=R,this.h=D}function N(R,D){if(_(D))throw Error("division by zero");if(_(R))return new O(p,p);if(b(R))return D=N(A(R),D),new O(A(D.g),A(D.h));if(b(D))return D=N(R,A(D)),new O(A(D.g),D.h);if(R.g.length>30){if(b(R)||b(D))throw Error("slowDivide_ only works with positive integers.");for(var j=v,B=D;B.l(R)<=0;)j=M(j),B=M(B);var U=L(j,1),V=L(B,1);for(B=L(B,2),j=L(j,2);!_(B);){var z=V.add(B);z.l(R)<=0&&(U=U.add(j),V=z),B=L(B,1),j=L(j,1)}return D=S(R,U.j(D)),new O(U,D)}for(U=p;R.l(D)>=0;){for(j=Math.max(1,Math.floor(R.m()/D.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),V=f(j),z=V.j(D);b(z)||z.l(R)>0;)j-=B,V=f(j),z=V.j(D);_(V)&&(V=v),U=U.add(V),R=S(R,z)}return new O(U,R)}t.B=function(R){return N(this,R).h},t.and=function(R){const D=Math.max(this.g.length,R.g.length),j=[];for(let B=0;B<D;B++)j[B]=this.i(B)&R.i(B);return new o(j,this.h&R.h)},t.or=function(R){const D=Math.max(this.g.length,R.g.length),j=[];for(let B=0;B<D;B++)j[B]=this.i(B)|R.i(B);return new o(j,this.h|R.h)},t.xor=function(R){const D=Math.max(this.g.length,R.g.length),j=[];for(let B=0;B<D;B++)j[B]=this.i(B)^R.i(B);return new o(j,this.h^R.h)};function M(R){const D=R.g.length+1,j=[];for(let B=0;B<D;B++)j[B]=R.i(B)<<1|R.i(B-1)>>>31;return new o(j,R.h)}function L(R,D){const j=D>>5;D%=32;const B=R.g.length-j,U=[];for(let V=0;V<B;V++)U[V]=D>0?R.i(V+j)>>>D|R.i(V+j+1)<<32-D:R.i(V+j);return new o(U,R.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,kj=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Nl=o}).apply(typeof KR<"u"?KR:typeof self<"u"?self:typeof window<"u"?window:{});var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mj,Hh,jj,k1,N_,Lj,Bj,zj;(function(){var t,e=Object.defineProperty;function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof p1=="object"&&p1];for(var I=0;I<x.length;++I){var k=x[I];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(x,I){if(I)e:{var k=n;x=x.split(".");for(var H=0;H<x.length-1;H++){var Z=x[H];if(!(Z in k))break e;k=k[Z]}x=x[x.length-1],H=k[x],I=I(H),I!=H&&I!=null&&e(k,x,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(I){var k=[],H;for(H in I)Object.prototype.hasOwnProperty.call(I,H)&&k.push([H,I[H]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(x){var I=typeof x;return I=="object"&&x!=null||I=="function"}function c(x,I,k){return x.call.apply(x.bind,arguments)}function f(x,I,k){return f=c,f.apply(null,arguments)}function d(x,I){var k=Array.prototype.slice.call(arguments,1);return function(){var H=k.slice();return H.push.apply(H,arguments),x.apply(this,H)}}function p(x,I){function k(){}k.prototype=I.prototype,x.Z=I.prototype,x.prototype=new k,x.prototype.constructor=x,x.Ob=function(H,Z,oe){for(var xe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)xe[Ke-2]=arguments[Ke];return I.prototype[Z].apply(H,xe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function y(x){const I=x.length;if(I>0){const k=Array(I);for(let H=0;H<I;H++)k[H]=x[H];return k}return[]}function _(x,I){for(let H=1;H<arguments.length;H++){const Z=arguments[H];var k=typeof Z;if(k=k!="object"?k:Z?Array.isArray(Z)?"array":k:"null",k=="array"||k=="object"&&typeof Z.length=="number"){k=x.length||0;const oe=Z.length||0;x.length=k+oe;for(let xe=0;xe<oe;xe++)x[k+xe]=Z[xe]}else x.push(Z)}}class b{constructor(I,k){this.i=I,this.j=k,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function A(x){o.setTimeout(()=>{throw x},0)}function S(){var x=R;let I=null;return x.g&&(I=x.g,x.g=x.g.next,x.g||(x.h=null),I.next=null),I}class T{constructor(){this.h=this.g=null}add(I,k){const H=O.get();H.set(I,k),this.h?this.h.next=H:this.g=H,this.h=H}}var O=new b(()=>new N,x=>x.reset());class N{constructor(){this.next=this.g=this.h=null}set(I,k){this.h=I,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,R=new T,D=()=>{const x=Promise.resolve(void 0);M=()=>{x.then(j)}};function j(){for(var x;x=S();){try{x.h.call(x.g)}catch(k){A(k)}var I=O;I.j(x),I.h<100&&(I.h++,x.next=I.g,I.g=x)}L=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(x,I){this.type=x,this.g=this.target=I,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,I=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const k=()=>{};o.addEventListener("test",k,I),o.removeEventListener("test",k,I)}catch{}return x})();function z(x){return/^[\s\xa0]*$/.test(x)}function Q(x,I){U.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,I)}p(Q,U),Q.prototype.init=function(x,I){const k=this.type=x.type,H=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=I,I=x.relatedTarget,I||(k=="mouseover"?I=x.fromElement:k=="mouseout"&&(I=x.toElement)),this.relatedTarget=I,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(x,I,k,H,Z){this.listener=x,this.proxy=null,this.src=I,this.type=k,this.capture=!!H,this.ha=Z,this.key=++Y,this.da=this.fa=!1}function K(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ve(x,I,k){for(const H in x)I.call(k,x[H],H,x)}function Ae(x,I){for(const k in x)I.call(void 0,x[k],k,x)}function G(x){const I={};for(const k in x)I[k]=x[k];return I}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(x,I){let k,H;for(let Z=1;Z<arguments.length;Z++){H=arguments[Z];for(k in H)x[k]=H[k];for(let oe=0;oe<J.length;oe++)k=J[oe],Object.prototype.hasOwnProperty.call(H,k)&&(x[k]=H[k])}}function Se(x){this.src=x,this.g={},this.h=0}Se.prototype.add=function(x,I,k,H,Z){const oe=x.toString();x=this.g[oe],x||(x=this.g[oe]=[],this.h++);const xe=We(x,I,H,Z);return xe>-1?(I=x[xe],k||(I.fa=!1)):(I=new re(I,this.src,oe,!!H,Z),I.fa=k,x.push(I)),I};function Ne(x,I){const k=I.type;if(k in x.g){var H=x.g[k],Z=Array.prototype.indexOf.call(H,I,void 0),oe;(oe=Z>=0)&&Array.prototype.splice.call(H,Z,1),oe&&(K(I),x.g[k].length==0&&(delete x.g[k],x.h--))}}function We(x,I,k,H){for(let Z=0;Z<x.length;++Z){const oe=x[Z];if(!oe.da&&oe.listener==I&&oe.capture==!!k&&oe.ha==H)return Z}return-1}var at="closure_lm_"+(Math.random()*1e6|0),_r={};function ye(x,I,k,H,Z){if(Array.isArray(I)){for(let oe=0;oe<I.length;oe++)ye(x,I[oe],k,H,Z);return null}return k=ks(k),x&&x[de]?x.J(I,k,s(H)?!!H.capture:!1,Z):$e(x,I,k,!1,H,Z)}function $e(x,I,k,H,Z,oe){if(!I)throw Error("Invalid event type");const xe=s(Z)?!!Z.capture:!!Z;let Ke=Er(x);if(Ke||(x[at]=Ke=new Se(x)),k=Ke.add(I,k,H,xe,oe),k.proxy)return k;if(H=Ze(),k.proxy=H,H.src=x,H.listener=k,x.addEventListener)V||(Z=xe),Z===void 0&&(Z=!1),x.addEventListener(I.toString(),H,Z);else if(x.attachEvent)x.attachEvent(tt(I.toString()),H);else if(x.addListener&&x.removeListener)x.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ze(){function x(k){return I.call(x.src,x.listener,k)}const I=Gr;return x}function me(x,I,k,H,Z){if(Array.isArray(I))for(var oe=0;oe<I.length;oe++)me(x,I[oe],k,H,Z);else H=s(H)?!!H.capture:!!H,k=ks(k),x&&x[de]?(x=x.i,oe=String(I).toString(),oe in x.g&&(I=x.g[oe],k=We(I,k,H,Z),k>-1&&(K(I[k]),Array.prototype.splice.call(I,k,1),I.length==0&&(delete x.g[oe],x.h--)))):x&&(x=Er(x))&&(I=x.g[I.toString()],x=-1,I&&(x=We(I,k,H,Z)),(k=x>-1?I[x]:null)&&Ar(k))}function Ar(x){if(typeof x!="number"&&x&&!x.da){var I=x.src;if(I&&I[de])Ne(I.i,x);else{var k=x.type,H=x.proxy;I.removeEventListener?I.removeEventListener(k,H,x.capture):I.detachEvent?I.detachEvent(tt(k),H):I.addListener&&I.removeListener&&I.removeListener(H),(k=Er(I))?(Ne(k,x),k.h==0&&(k.src=null,I[at]=null)):K(x)}}}function tt(x){return x in _r?_r[x]:_r[x]="on"+x}function Gr(x,I){if(x.da)x=!0;else{I=new Q(I,this);const k=x.listener,H=x.ha||x.src;x.fa&&Ar(x),x=k.call(H,I)}return x}function Er(x){return x=x[at],x instanceof Se?x:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ks(x){return typeof x=="function"?x:(x[Ei]||(x[Ei]=function(I){return x.handleEvent(I)}),x[Ei])}function Dr(){B.call(this),this.i=new Se(this),this.M=this,this.G=null}p(Dr,B),Dr.prototype[de]=!0,Dr.prototype.removeEventListener=function(x,I,k,H){me(this,x,I,k,H)};function Wr(x,I){var k,H=x.G;if(H)for(k=[];H;H=H.G)k.push(H);if(x=x.M,H=I.type||I,typeof I=="string")I=new U(I,x);else if(I instanceof U)I.target=I.target||x;else{var Z=I;I=new U(H,x),we(I,Z)}Z=!0;let oe,xe;if(k)for(xe=k.length-1;xe>=0;xe--)oe=I.g=k[xe],Z=Ms(oe,H,!0,I)&&Z;if(oe=I.g=x,Z=Ms(oe,H,!0,I)&&Z,Z=Ms(oe,H,!1,I)&&Z,k)for(xe=0;xe<k.length;xe++)oe=I.g=k[xe],Z=Ms(oe,H,!1,I)&&Z}Dr.prototype.N=function(){if(Dr.Z.N.call(this),this.i){var x=this.i;for(const I in x.g){const k=x.g[I];for(let H=0;H<k.length;H++)K(k[H]);delete x.g[I],x.h--}}this.G=null},Dr.prototype.J=function(x,I,k,H){return this.i.add(String(x),I,!1,k,H)},Dr.prototype.K=function(x,I,k,H){return this.i.add(String(x),I,!0,k,H)};function Ms(x,I,k,H){if(I=x.i.g[String(I)],!I)return!0;I=I.concat();let Z=!0;for(let oe=0;oe<I.length;++oe){const xe=I[oe];if(xe&&!xe.da&&xe.capture==k){const Ke=xe.listener,Cr=xe.ha||xe.src;xe.fa&&Ne(x.i,xe),Z=Ke.call(Cr,H)!==!1&&Z}}return Z&&!H.defaultPrevented}function Ay(x,I){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:o.setTimeout(x,I||0)}function _0(x){x.g=Ay(()=>{x.g=null,x.i&&(x.i=!1,_0(x))},x.l);const I=x.h;x.h=null,x.m.apply(null,I)}class Kn extends B{constructor(I,k){super(),this.m=I,this.l=k,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:_0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ac(x){B.call(this),this.h=x,this.g={}}p(ac,B);var _d=[];function Ad(x){ve(x.g,function(I,k){this.g.hasOwnProperty(k)&&Ar(I)},x),x.g={}}ac.prototype.N=function(){ac.Z.N.call(this),Ad(this)},ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=o.JSON.stringify,Ey=o.JSON.parse,A0=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function E0(){}function S0(){}var Ta={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xn(){U.call(this,"d")}p(xn,U);function Yi(){U.call(this,"c")}p(Yi,U);var Sr={},C0=null;function Ou(){return C0=C0||new Dr}Sr.Ia="serverreachability";function T0(x){U.call(this,Sr.Ia,x)}p(T0,U);function Za(x){const I=Ou();Wr(I,new T0(I))}Sr.STAT_EVENT="statevent";function oc(x,I){U.call(this,Sr.STAT_EVENT,x),this.stat=I}p(oc,U);function Nr(x){const I=Ou();Wr(I,new oc(I,x))}Sr.Ja="timingevent";function Ja(x,I){U.call(this,Sr.Ja,x),this.size=I}p(Ja,U);function eo(x,I){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},I)}function Ia(){this.g=!0}Ia.prototype.ua=function(){this.g=!1};function Sy(x,I,k,H,Z,oe){x.info(function(){if(x.g)if(oe){var xe="",Ke=oe.split("&");for(let At=0;At<Ke.length;At++){var Cr=Ke[At].split("=");if(Cr.length>1){const ir=Cr[0];Cr=Cr[1];const Ji=ir.split("_");xe=Ji.length>=2&&Ji[1]=="type"?xe+(ir+"="+Cr+"&"):xe+(ir+"=redacted&")}}}else xe=null;else xe=oe;return"XMLHTTP REQ ("+H+") [attempt "+Z+"]: "+I+`
`+k+`
`+xe})}function I0(x,I,k,H,Z,oe,xe){x.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+Z+"]: "+I+`
`+k+`
`+oe+" "+xe})}function to(x,I,k,H){x.info(function(){return"XMLHTTP TEXT ("+I+"): "+Cy(x,k)+(H?" "+H:"")})}function sc(x,I){x.info(function(){return"TIMEOUT: "+I})}Ia.prototype.info=function(){};function Cy(x,I){if(!x.g)return I;if(!I)return null;try{const oe=JSON.parse(I);if(oe){for(x=0;x<oe.length;x++)if(Array.isArray(oe[x])){var k=oe[x];if(!(k.length<2)){var H=k[1];if(Array.isArray(H)&&!(H.length<1)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let xe=1;xe<H.length;xe++)H[xe]=""}}}}return js(oe)}catch{return I}}var lc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ed={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sd;function cc(){}p(cc,E0),cc.prototype.g=function(){return new XMLHttpRequest},Sd=new cc;function zo(x){return encodeURIComponent(String(x))}function O0(x){var I=1;x=x.split(":");const k=[];for(;I>0&&x.length;)k.push(x.shift()),I--;return x.length&&k.push(x.join(":")),k}function Oa(x,I,k,H){this.j=x,this.i=I,this.l=k,this.S=H||1,this.V=new ac(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ra}function Ra(){this.i=null,this.g="",this.h=!1}var kr={},sn={};function ro(x,I,k){x.M=1,x.A=uc(jr(I)),x.u=k,x.R=!0,Ru(x,null)}function Ru(x,I){x.F=Date.now(),no(x),x.B=jr(x.A);var k=x.B,H=x.S;Array.isArray(H)||(H=[String(H)]),ku(k.i,"t",H),x.C=0,k=x.j.L,x.h=new Ra,x.g=$0(x.j,k?I:null,!x.u),x.P>0&&(x.O=new Kn(f(x.Y,x,x.g),x.P)),I=x.V,k=x.g,H=x.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(_d[0]=Z.toString()),Z=_d);for(let oe=0;oe<Z.length;oe++){const xe=ye(k,Z[oe],H||I.handleEvent,!1,I.h||I);if(!xe)break;I.g[xe.key]=xe}I=x.J?G(x.J):{},x.u?(x.v||(x.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,I)):(x.v="GET",x.g.ea(x.B,x.v,null,I)),Za(),Sy(x.i,x.v,x.B,x.l,x.S,x.u)}Oa.prototype.ba=function(x){x=x.target;const I=this.O;I&&Na(x)==3?I.j():this.Y(x)},Oa.prototype.Y=function(x){try{if(x==this.g)e:{const Ke=Na(this.g),Cr=this.g.ya(),At=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Ke!=4||Cr==7||(Cr==8||At<=0?Za(3):Za(2)),io(this);var I=this.g.ca();this.X=I;var k=Ty(this);if(this.o=I==200,I0(this.i,this.v,this.B,this.l,this.S,Ke,I),this.o){if(this.U&&!this.L){t:{if(this.g){var H,Z=this.g;if((H=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(H)){var oe=H;break t}}oe=null}if(x=oe)to(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ao(this,x);else{this.o=!1,this.m=3,Nr(12),Si(this),Xi(this);break e}}if(this.R){x=!0;let ir;for(;!this.K&&this.C<k.length;)if(ir=P0(this,k),ir==sn){Ke==4&&(this.m=4,Nr(14),x=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==kr){this.m=4,Nr(15),to(this.i,this.l,k,"[Invalid Chunk]"),x=!1;break}else to(this.i,this.l,ir,null),ao(this,ir);if(R0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||k.length!=0||this.h.h||(this.m=1,Nr(16),x=!1),this.o=this.o&&x,!x)to(this.i,this.l,k,"[Invalid Chunked Response]"),Si(this),Xi(this);else if(k.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ud(xe),xe.P=!0,Nr(11))}}else to(this.i,this.l,k,null),ao(this,k);Ke==4&&Si(this),this.o&&!this.K&&(Ke==4?U0(this.j,this):(this.o=!1,no(this)))}else Fo(this.g),I==400&&k.indexOf("Unknown SID")>0?(this.m=3,Nr(12)):(this.m=0,Nr(13)),Si(this),Xi(this)}}}catch{}finally{}};function Ty(x){if(!R0(x))return x.g.la();const I=bn(x.g);if(I==="")return"";let k="";const H=I.length,Z=Na(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Si(x),Xi(x),"";x.h.i=new o.TextDecoder}for(let oe=0;oe<H;oe++)x.h.h=!0,k+=x.h.i.decode(I[oe],{stream:!(Z&&oe==H-1)});return I.length=0,x.h.g+=k,x.C=0,x.h.g}function R0(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function P0(x,I){var k=x.C,H=I.indexOf(`
`,k);return H==-1?sn:(k=Number(I.substring(k,H)),isNaN(k)?kr:(H+=1,H+k>I.length?sn:(I=I.slice(H,H+k),x.C=H+k,I)))}Oa.prototype.cancel=function(){this.K=!0,Si(this)};function no(x){x.T=Date.now()+x.H,Pu(x,x.H)}function Pu(x,I){if(x.D!=null)throw Error("WatchDog timer not null");x.D=eo(f(x.aa,x),I)}function io(x){x.D&&(o.clearTimeout(x.D),x.D=null)}Oa.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(sc(this.i,this.B),this.M!=2&&(Za(),Nr(17)),Si(this),this.m=2,Xi(this)):Pu(this,this.T-x)};function Xi(x){x.j.I==0||x.K||U0(x.j,x)}function Si(x){io(x);var I=x.O;I&&typeof I.dispose=="function"&&I.dispose(),x.O=null,Ad(x.V),x.g&&(I=x.g,x.g=null,I.abort(),I.dispose())}function ao(x,I){try{var k=x.j;if(k.I!=0&&(k.g==x||so(k.h,x))){if(!x.L&&so(k.h,x)&&k.I==3){try{var H=k.Ba.g.parse(I)}catch{H=null}if(Array.isArray(H)&&H.length==3){var Z=H;if(Z[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<x.F)zu(k),$s(k);else break e;mc(k),Nr(18)}}else k.xa=Z[1],0<k.xa-k.K&&Z[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=eo(f(k.Va,k),6e3));oo(k.h)<=1&&k.ta&&(k.ta=void 0)}else po(k,11)}else if((x.L||k.g==x)&&zu(k),!z(I))for(Z=k.Ba.g.parse(I),I=0;I<Z.length;I++){let At=Z[I];const ir=At[0];if(!(ir<=k.K))if(k.K=ir,At=At[1],k.I==2)if(At[0]=="c"){k.M=At[1],k.ba=At[2];const Ji=At[3];Ji!=null&&(k.ka=Ji,k.j.info("VER="+k.ka));const go=At[4];go!=null&&(k.za=go,k.j.info("SVER="+k.za));const ka=At[5];ka!=null&&typeof ka=="number"&&ka>0&&(H=1.5*ka,k.O=H,k.j.info("backChannelRequestTimeoutMs_="+H)),H=k;const Ma=x.g;if(Ma){const yc=Ma.g?Ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yc){var oe=H.h;oe.g||yc.indexOf("spdy")==-1&&yc.indexOf("quic")==-1&&yc.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Id(oe,oe.h),oe.h=null))}if(H.G){const Uu=Ma.g?Ma.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(H.wa=Uu,Pt(H.J,H.G,Uu))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-x.F,k.j.info("Handshake RTT: "+k.T+"ms")),H=k;var xe=x;if(H.na=H0(H,H.L?H.ba:null,H.W),xe.L){Od(H.h,xe);var Ke=xe,Cr=H.O;Cr&&(Ke.H=Cr),Ke.D&&(io(Ke),no(Ke)),H.g=xe}else B0(H);k.i.length>0&&ho(k)}else At[0]!="stop"&&At[0]!="close"||po(k,7);else k.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?po(k,7):Bd(k):At[0]!="noop"&&k.l&&k.l.qa(At),k.A=0)}}Za(4)}catch{}}var Mr=class{constructor(x,I){this.g=x,this.map=I}};function Cd(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Td(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function oo(x){return x.h?1:x.g?x.g.size:0}function so(x,I){return x.h?x.h==I:x.g?x.g.has(I):!1}function Id(x,I){x.g?x.g.add(I):x.h=I}function Od(x,I){x.h&&x.h==I?x.h=null:x.g&&x.g.has(I)&&x.g.delete(I)}Cd.prototype.cancel=function(){if(this.i=Rd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Rd(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let I=x.i;for(const k of x.g.values())I=I.concat(k.G);return I}return y(x.i)}var D0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(x,I){if(x){x=x.split("&");for(let k=0;k<x.length;k++){const H=x[k].indexOf("=");let Z,oe=null;H>=0?(Z=x[k].substring(0,H),oe=x[k].substring(H+1)):Z=x[k],I(Z,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Ci(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;x instanceof Ci?(this.l=x.l,ln(this,x.j),this.o=x.o,this.g=x.g,Ls(this,x.u),this.h=x.h,Pd(this,j0(x.i)),this.m=x.m):x&&(I=String(x).match(D0))?(this.l=!1,ln(this,I[1]||"",!0),this.o=lo(I[2]||""),this.g=lo(I[3]||"",!0),Ls(this,I[4]),this.h=lo(I[5]||"",!0),Pd(this,I[6]||"",!0),this.m=lo(I[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Ci.prototype.toString=function(){const x=[];var I=this.j;I&&x.push(fc(I,Nu,!0),":");var k=this.g;return(k||I=="file")&&(x.push("//"),(I=this.o)&&x.push(fc(I,Nu,!0),"@"),x.push(zo(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&x.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&x.push("/"),x.push(fc(k,k.charAt(0)=="/"?Dd:N0,!0))),(k=this.i.toString())&&x.push("?",k),(k=this.m)&&x.push("#",fc(k,k0)),x.join("")},Ci.prototype.resolve=function(x){const I=jr(this);let k=!!x.j;k?ln(I,x.j):k=!!x.o,k?I.o=x.o:k=!!x.g,k?I.g=x.g:k=x.u!=null;var H=x.h;if(k)Ls(I,x.u);else if(k=!!x.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var Z=I.h.lastIndexOf("/");Z!=-1&&(H=I.h.slice(0,Z+1)+H)}if(Z=H,Z==".."||Z==".")H="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){H=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const oe=[];for(let xe=0;xe<Z.length;){const Ke=Z[xe++];Ke=="."?H&&xe==Z.length&&oe.push(""):Ke==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),H&&xe==Z.length&&oe.push("")):(oe.push(Ke),H=!0)}H=oe.join("/")}else H=Z}return k?I.h=H:k=x.i.toString()!=="",k?Pd(I,j0(x.i)):k=!!x.m,k&&(I.m=x.m),I};function jr(x){return new Ci(x)}function ln(x,I,k){x.j=k?lo(I,!0):I,x.j&&(x.j=x.j.replace(/:$/,""))}function Ls(x,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);x.u=I}else x.u=null}function Pd(x,I,k){I instanceof zs?(x.i=I,Mu(x.i,x.l)):(k||(I=fc(I,Bs)),x.i=new zs(I,x.l))}function Pt(x,I,k){x.i.set(I,k)}function uc(x){return Pt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function lo(x,I){return x?I?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function fc(x,I,k){return typeof x=="string"?(x=encodeURI(x).replace(I,ci),k&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ci(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Nu=/[#\/\?@]/g,N0=/[#\?:]/g,Dd=/[#\?]/g,Bs=/[#\?@]/g,k0=/#/g;function zs(x,I){this.h=this.g=null,this.i=x||null,this.j=!!I}function ui(x){x.g||(x.g=new Map,x.h=0,x.i&&Du(x.i,function(I,k){x.add(decodeURIComponent(I.replace(/\+/g," ")),k)}))}t=zs.prototype,t.add=function(x,I){ui(this),this.i=null,x=Us(this,x);let k=this.g.get(x);return k||this.g.set(x,k=[]),k.push(I),this.h+=1,this};function M0(x,I){ui(x),I=Us(x,I),x.g.has(I)&&(x.i=null,x.h-=x.g.get(I).length,x.g.delete(I))}function Nd(x,I){return ui(x),I=Us(x,I),x.g.has(I)}t.forEach=function(x,I){ui(this),this.g.forEach(function(k,H){k.forEach(function(Z){x.call(I,Z,H,this)},this)},this)};function kd(x,I){ui(x);let k=[];if(typeof I=="string")Nd(x,I)&&(k=k.concat(x.g.get(Us(x,I))));else for(x=Array.from(x.g.values()),I=0;I<x.length;I++)k=k.concat(x[I]);return k}t.set=function(x,I){return ui(this),this.i=null,x=Us(this,x),Nd(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[I]),this.h+=1,this},t.get=function(x,I){return x?(x=kd(this,x),x.length>0?String(x[0]):I):I};function ku(x,I,k){M0(x,I),k.length>0&&(x.i=null,x.g.set(Us(x,I),y(k)),x.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],I=Array.from(this.g.keys());for(let H=0;H<I.length;H++){var k=I[H];const Z=zo(k);k=kd(this,k);for(let oe=0;oe<k.length;oe++){let xe=Z;k[oe]!==""&&(xe+="="+zo(k[oe])),x.push(xe)}}return this.i=x.join("&")};function j0(x){const I=new zs;return I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),I}function Us(x,I){return I=String(I),x.j&&(I=I.toLowerCase()),I}function Mu(x,I){I&&!x.j&&(ui(x),x.i=null,x.g.forEach(function(k,H){const Z=H.toLowerCase();H!=Z&&(M0(this,H),ku(this,Z,k))},x)),x.j=I}function Pa(x,I){const k=new Ia;if(o.Image){const H=new Image;H.onload=d(Qi,k,"TestLoadImage: loaded",!0,I,H),H.onerror=d(Qi,k,"TestLoadImage: error",!1,I,H),H.onabort=d(Qi,k,"TestLoadImage: abort",!1,I,H),H.ontimeout=d(Qi,k,"TestLoadImage: timeout",!1,I,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=x}else I(!1)}function Md(x,I){const k=new Ia,H=new AbortController,Z=setTimeout(()=>{H.abort(),Qi(k,"TestPingServer: timeout",!1,I)},1e4);fetch(x,{signal:H.signal}).then(oe=>{clearTimeout(Z),oe.ok?Qi(k,"TestPingServer: ok",!0,I):Qi(k,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Z),Qi(k,"TestPingServer: error",!1,I)})}function Qi(x,I,k,H,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),H(k)}catch{}}function Fs(){this.g=new A0}function co(x){this.i=x.Sb||null,this.h=x.ab||!1}p(co,E0),co.prototype.g=function(){return new dc(this.i,this.h)};function dc(x,I){Dr.call(this),this.H=x,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(dc,Dr),t=dc.prototype,t.open=function(x,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=I,this.readyState=1,Da(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(I.body=x),(this.H||o).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ju(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function ju(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var I=x.value?x.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!x.done}))&&(this.response=this.responseText+=I)}x.done?Vs(this):Da(this),this.readyState==3&&ju(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Vs(this))},t.Na=function(x){this.g&&(this.response=x,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Da(x)}t.setRequestHeader=function(x,I){this.A.append(x,I)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],I=this.h.entries();for(var k=I.next();!k.done;)k=k.value,x.push(k[0]+": "+k[1]),k=I.next();return x.join(`\r
`)};function Da(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Zi(x){let I="";return ve(x,function(k,H){I+=H,I+=":",I+=k,I+=`\r
`}),I}function hc(x,I,k){e:{for(H in k){var H=!1;break e}H=!0}H||(k=Zi(k),typeof x=="string"?k!=null&&zo(k):Pt(x,I,k))}function zt(x){Dr.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(zt,Dr);var uo=/^https?$/i,jd=["POST","PUT"];t=zt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,I,k,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);I=I?I.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(I,String(x),!0),this.B=!1}catch(oe){pc(this,oe);return}if(x=k||"",k=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var Z in H)k.set(Z,H[Z]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const oe of H.keys())k.set(oe,H.get(oe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(k.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(jd,I,void 0)>=0)||H||Z||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,xe]of k)this.g.setRequestHeader(oe,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(oe){pc(this,oe)}};function pc(x,I){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=I,x.o=5,Ld(x),Uo(x)}function Ld(x){x.A||(x.A=!0,Wr(x,"complete"),Wr(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Wr(this,"complete"),Wr(this,"abort"),Uo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uo(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?gc(this):this.Xa())},t.Xa=function(){gc(this)};function gc(x){if(x.h&&typeof a<"u"){if(x.v&&Na(x)==4)setTimeout(x.Ca.bind(x),0);else if(Wr(x,"readystatechange"),Na(x)==4){x.h=!1;try{const oe=x.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var k;if(!(k=I)){var H;if(H=oe===0){let xe=String(x.D).match(D0)[1]||null;!xe&&o.self&&o.self.location&&(xe=o.self.location.protocol.slice(0,-1)),H=!uo.test(xe?xe.toLowerCase():"")}k=H}if(k)Wr(x,"complete"),Wr(x,"success");else{x.o=6;try{var Z=Na(x)>2?x.g.statusText:""}catch{Z=""}x.l=Z+" ["+x.ca()+"]",Ld(x)}}finally{Uo(x)}}}}function Uo(x,I){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const k=x.g;x.g=null,I||Wr(x,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Na(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var I=this.g.responseText;return x&&I.indexOf(x)==0&&(I=I.substring(x.length)),Ey(I)}};function bn(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(x){const I={};x=(x.g&&Na(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<x.length;H++){if(z(x[H]))continue;var k=O0(x[H]);const Z=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const oe=I[Z]||[];I[Z]=oe,oe.push(k)}Ae(I,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(x,I,k){return k&&k.internalChannelParams&&k.internalChannelParams[x]||I}function Hs(x){this.za=0,this.i=[],this.j=new Ia,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fo("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fo("baseRetryDelayMs",5e3,x),this.Za=fo("retryDelaySeedMs",1e4,x),this.Ta=fo("forwardChannelMaxRetries",2,x),this.va=fo("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Cd(x&&x.concurrentRequestLimit),this.Ba=new Fs,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Hs.prototype,t.ka=8,t.I=1,t.connect=function(x,I,k,H){Nr(0),this.W=x,this.H=I||{},k&&H!==void 0&&(this.H.OSID=k,this.H.OAID=H),this.F=this.X,this.J=H0(this,null,this.W),ho(this)};function Bd(x){if(Lu(x),x.I==3){var I=x.V++,k=jr(x.J);if(Pt(k,"SID",x.M),Pt(k,"RID",I),Pt(k,"TYPE","terminate"),vc(x,k),I=new Oa(x,x.j,I),I.M=2,I.A=uc(jr(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(I.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=I.A,k=!0),k||(I.g=$0(I.j,null),I.g.ea(I.A)),I.F=Date.now(),no(I)}V0(x)}function $s(x){x.g&&(Ud(x),x.g.cancel(),x.g=null)}function Lu(x){$s(x),x.v&&(o.clearTimeout(x.v),x.v=null),zu(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function ho(x){if(!Td(x.h)&&!x.m){x.m=!0;var I=x.Ea;M||D(),L||(M(),L=!0),R.add(I,x),x.D=0}}function Bu(x,I){return oo(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=I.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=eo(f(x.Ea,x,I),F0(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Z=new Oa(this,this.j,x);let oe=this.o;if(this.U&&(oe?(oe=G(oe),we(oe,this.U)):oe=this.U),this.u!==null||this.R||(Z.J=oe,oe=null),this.S)e:{for(var I=0,k=0;k<this.i.length;k++){t:{var H=this.i[k];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(I+=H,I>4096){I=k;break e}if(I===4096||k===this.i.length-1){I=k+1;break e}}I=1e3}else I=1e3;I=L0(this,Z,I),k=jr(this.J),Pt(k,"RID",x),Pt(k,"CVER",22),this.G&&Pt(k,"X-HTTP-Session-Id",this.G),vc(this,k),oe&&(this.R?I="headers="+zo(Zi(oe))+"&"+I:this.u&&hc(k,this.u,oe)),Id(this.h,Z),this.Ra&&Pt(k,"TYPE","init"),this.S?(Pt(k,"$req",I),Pt(k,"SID","null"),Z.U=!0,ro(Z,k,null)):ro(Z,k,I),this.I=2}}else this.I==3&&(x?zd(this,x):this.i.length==0||Td(this.h)||zd(this))};function zd(x,I){var k;I?k=I.l:k=x.V++;const H=jr(x.J);Pt(H,"SID",x.M),Pt(H,"RID",k),Pt(H,"AID",x.K),vc(x,H),x.u&&x.o&&hc(H,x.u,x.o),k=new Oa(x,x.j,k,x.D+1),x.u===null&&(k.J=x.o),I&&(x.i=I.G.concat(x.i)),I=L0(x,k,1e3),k.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Id(x.h,k),ro(k,H,I)}function vc(x,I){x.H&&ve(x.H,function(k,H){Pt(I,H,k)}),x.l&&ve({},function(k,H){Pt(I,H,k)})}function L0(x,I,k){k=Math.min(x.i.length,k);const H=x.l?f(x.l.Ka,x.l,x):null;e:{var Z=x.i;let Ke=-1;for(;;){const Cr=["count="+k];Ke==-1?k>0?(Ke=Z[0].g,Cr.push("ofs="+Ke)):Ke=0:Cr.push("ofs="+Ke);let At=!0;for(let ir=0;ir<k;ir++){var oe=Z[ir].g;const Ji=Z[ir].map;if(oe-=Ke,oe<0)Ke=Math.max(0,Z[ir].g-100),At=!1;else try{oe="req"+oe+"_"||"";try{var xe=Ji instanceof Map?Ji:Object.entries(Ji);for(const[go,ka]of xe){let Ma=ka;s(ka)&&(Ma=js(ka)),Cr.push(oe+go+"="+encodeURIComponent(Ma))}}catch(go){throw Cr.push(oe+"type="+encodeURIComponent("_badmap")),go}}catch{H&&H(Ji)}}if(At){xe=Cr.join("&");break e}}xe=void 0}return x=x.i.splice(0,k),I.G=x,xe}function B0(x){if(!x.g&&!x.v){x.Y=1;var I=x.Da;M||D(),L||(M(),L=!0),R.add(I,x),x.A=0}}function mc(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=eo(f(x.Da,x),F0(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,z0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=eo(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nr(10),$s(this),z0(this))};function Ud(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function z0(x){x.g=new Oa(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var I=jr(x.na);Pt(I,"RID","rpc"),Pt(I,"SID",x.M),Pt(I,"AID",x.K),Pt(I,"CI",x.F?"0":"1"),!x.F&&x.ia&&Pt(I,"TO",x.ia),Pt(I,"TYPE","xmlhttp"),vc(x,I),x.u&&x.o&&hc(I,x.u,x.o),x.O&&(x.g.H=x.O);var k=x.g;x=x.ba,k.M=1,k.A=uc(jr(I)),k.u=null,k.R=!0,Ru(k,x)}t.Va=function(){this.C!=null&&(this.C=null,$s(this),mc(this),Nr(19))};function zu(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function U0(x,I){var k=null;if(x.g==I){zu(x),Ud(x),x.g=null;var H=2}else if(so(x.h,I))k=I.G,Od(x.h,I),H=1;else return;if(x.I!=0){if(I.o)if(H==1){k=I.u?I.u.length:0,I=Date.now()-I.F;var Z=x.D;H=Ou(),Wr(H,new Ja(H,k)),ho(x)}else B0(x);else if(Z=I.m,Z==3||Z==0&&I.X>0||!(H==1&&Bu(x,I)||H==2&&mc(x)))switch(k&&k.length>0&&(I=x.h,I.i=I.i.concat(k)),Z){case 1:po(x,5);break;case 4:po(x,10);break;case 3:po(x,6);break;default:po(x,2)}}}function F0(x,I){let k=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(k*=2),k*I}function po(x,I){if(x.j.info("Error code "+I),I==2){var k=f(x.bb,x),H=x.Ua;const Z=!H;H=new Ci(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ln(H,"https"),uc(H),Z?Pa(H.toString(),k):Md(H.toString(),k)}else Nr(2);x.I=0,x.l&&x.l.pa(I),V0(x),Lu(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Nr(2)):(this.j.info("Failed to ping google.com"),Nr(1))};function V0(x){if(x.I=0,x.ja=[],x.l){const I=Rd(x.h);(I.length!=0||x.i.length!=0)&&(_(x.ja,I),_(x.ja,x.i),x.h.i.length=0,y(x.i),x.i.length=0),x.l.oa()}}function H0(x,I,k){var H=k instanceof Ci?jr(k):new Ci(k);if(H.g!="")I&&(H.g=I+"."+H.g),Ls(H,H.u);else{var Z=o.location;H=Z.protocol,I=I?I+"."+Z.hostname:Z.hostname,Z=+Z.port;const oe=new Ci(null);H&&ln(oe,H),I&&(oe.g=I),Z&&Ls(oe,Z),k&&(oe.h=k),H=oe}return k=x.G,I=x.wa,k&&I&&Pt(H,k,I),Pt(H,"VER",x.ka),vc(x,H),H}function $0(x,I,k){if(I&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=x.Aa&&!x.ma?new zt(new co({ab:k})):new zt(x.ma),I.Fa(x.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q0(){}t=q0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qs(){}qs.prototype.g=function(x,I){return new Yn(x,I)};function Yn(x,I){Dr.call(this),this.g=new Hs(I),this.l=x,this.h=I&&I.messageUrlParams||null,x=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(x?x["X-WebChannel-Content-Type"]=I.messageContentType:x={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(x?x["X-WebChannel-Client-Profile"]=I.sa:x={"X-WebChannel-Client-Profile":I.sa}),this.g.U=x,(x=I&&I.Qb)&&!z(x)&&(this.g.u=x),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!z(I)&&(this.g.G=I,x=this.h,x!==null&&I in x&&(x=this.h,I in x&&delete x[I])),this.j=new Vo(this)}p(Yn,Dr),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Bd(this.g)},Yn.prototype.o=function(x){var I=this.g;if(typeof x=="string"){var k={};k.__data__=x,x=k}else this.v&&(k={},k.__data__=js(x),x=k);I.i.push(new Mr(I.Ya++,x)),I.I==3&&ho(I)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Bd(this.g),delete this.g,Yn.Z.N.call(this)};function G0(x){xn.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var I=x.__sm__;if(I){e:{for(const k in I){x=k;break e}x=void 0}(this.i=x)&&(x=this.i,I=I!==null&&x in I?I[x]:void 0),this.data=I}else this.data=x}p(G0,xn);function W0(){Yi.call(this),this.status=1}p(W0,Yi);function Vo(x){this.g=x}p(Vo,q0),Vo.prototype.ra=function(){Wr(this.g,"a")},Vo.prototype.qa=function(x){Wr(this.g,new G0(x))},Vo.prototype.pa=function(x){Wr(this.g,new W0)},Vo.prototype.oa=function(){Wr(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,zj=function(){return new qs},Bj=function(){return Ou()},Lj=Sr,N_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,k1=lc,Ed.COMPLETE="complete",jj=Ed,S0.EventType=Ta,Ta.OPEN="a",Ta.CLOSE="b",Ta.ERROR="c",Ta.MESSAGE="d",Dr.prototype.listen=Dr.prototype.J,Hh=S0,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,Mj=zt}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});const YR="@firebase/firestore",XR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new OS("@firebase/firestore");function wf(){return du.logLevel}function Ce(t,...e){if(du.logLevel<=lt.DEBUG){const r=e.map(PS);du.debug(`Firestore (${pd}): ${t}`,...r)}}function ws(t,...e){if(du.logLevel<=lt.ERROR){const r=e.map(PS);du.error(`Firestore (${pd}): ${t}`,...r)}}function Gf(t,...e){if(du.logLevel<=lt.WARN){const r=e.map(PS);du.warn(`Firestore (${pd}): ${t}`,...r)}}function PS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Uj(t,n,r)}function Uj(t,e,r){let n=`FIRESTORE (${pd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ws(n),new Error(n)}function Rt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Uj(e,i,n)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Xa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Un.UNAUTHENTICATED)))}shutdown(){}}class Foe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Voe{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Rt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hs,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},s=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>s(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?s(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hs)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Rt(typeof n.accessToken=="string",31837,{l:n}),new Fj(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class Hoe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $oe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Hoe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qoe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Rt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Rt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new QR(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Goe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function k_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return fw(i)===fw(a)?ct(i,a):fw(i)?1:-1}return ct(t.length,e.length)}const Woe=55296,Koe=57343;function fw(t){const e=t.charCodeAt(0);return e>=Woe&&e<=Koe}function Wf(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__name__";class bo{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ve(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ve(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return bo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bo?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=bo.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return ct(e.length,r.length)}static compareSegments(e,r){const n=bo.isNumericId(e),i=bo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?bo.extractNumericId(e).compare(bo.extractNumericId(r)):k_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nl.fromString(e.substring(4,e.length-2))}}class Kt extends bo{construct(e,r,n){return new Kt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Kt(r)}static emptyPath(){return new Kt([])}}const Yoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends bo{construct(e,r,n){return new Pn(e,r,n)}static isValidIdentifier(e){return Yoe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZR}static keyField(){return new Pn([ZR])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(r)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Kt.fromString(e))}static fromName(e){return new je(Kt.fromString(e).popFirst(5))}static empty(){return new je(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Kt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e,r){if(!r)throw new Ee(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xoe(t,e,r,n){if(e===!0&&n===!0)throw new Ee(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function JR(t){if(!je.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eP(t){if(je.isDocumentKey(t))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xm(t);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Qoe(t,e){if(e<=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){const r={typeString:t};return e&&(r.value=e),r}function i0(t,e){if(!Hj(t))throw new Ee(ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Ee(ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=-62135596800,rP=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*rP);return new Yt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<tP)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rP}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(i0(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:$r("string",Yt._jsonSchemaVersion),seconds:$r("number"),nanoseconds:$r("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Yt(0,0))}static max(){return new He(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Zoe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(n===1e9?new Yt(r+1,0):new Yt(r,n));return new $l(i,je.empty(),e)}function Joe(t){return new $l(t.readTime,t.key,_p)}class $l{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new $l(He.min(),je.empty(),_p)}static max(){return new $l(He.max(),je.empty(),_p)}}function ese(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=je.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==tse)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ge(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ge?r:ge.resolve(r)}catch(r){return ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ge.reject(r)}static resolve(e){return new ge(((r,n)=>{r(e)}))}static reject(e){return new ge(((r,n)=>{n(e)}))}static waitFor(e){return new ge(((r,n)=>{let i=0,a=0,o=!1;e.forEach((s=>{++i,s.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=ge.resolve(!1);for(const n of e)r=r.next((i=>i?ge.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new ge(((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next((d=>{o[f]=d,++s,s===a&&n(o)}),(d=>i(d)))}}))}static doWhile(e,r){return new ge(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function nse(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=-1;function Zm(t){return t==null}function jv(t){return t===0&&1/t==-1/0}function ise(t){return typeof t=="number"&&Number.isInteger(t)&&!jv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="";function ase(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=nP(e)),e=ose(t.get(r),e);return nP(e)}function ose(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case $j:r+="";break;default:r+=a}}return r}function nP(t){return t+$j+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function tc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function qj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r){this.comparator=e,this.root=r||Rn.EMPTY}insert(e,r){return new pr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g1(this.root,e,this.comparator,!1)}getReverseIterator(){return new g1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g1(this.root,e,this.comparator,!0)}}class g1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Rn.RED,this.left=i??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Rn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Rn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new aP(this.data.getIterator())}getIteratorFrom(e){return new aP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new rn(this.comparator);return r.data=e,r}}class aP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Ui([])}unionWith(e){let r=new rn(Pn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ui(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wf(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Gj("Invalid base64 string: "+a):a}})(e);return new kn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const sse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const r=sse.exec(t);if(Rt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rr(t.seconds),nanos:Rr(t.nanos)}}function Rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gl(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="server_timestamp",Kj="__type__",Yj="__previous_value__",Xj="__local_write_time__";function kS(t){return(t?.mapValue?.fields||{})[Kj]?.stringValue===Wj}function Jm(t){const e=t.mapValue.fields[Yj];return kS(e)?Jm(e):e}function Ap(t){const e=ql(t.mapValue.fields[Xj].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e,r,n,i,a,o,s,c,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const Lv="(default)";class Ep{constructor(e,r){this.projectId=e,this.database=r||Lv}static empty(){return new Ep("","")}get isDefaultDatabase(){return this.database===Lv}isEqual(e){return e instanceof Ep&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="__type__",cse="__max__",v1={mapValue:{}},Zj="__vector__",Bv="value";function Wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kS(t)?4:fse(t)?9007199254740991:use(t)?10:11:Ve(28295,{value:t})}function Do(t,e){if(t===e)return!0;const r=Wl(t);if(r!==Wl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ap(t).isEqual(Ap(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ql(i.timestampValue),s=ql(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Gl(i.bytesValue).isEqual(Gl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Rr(i.geoPointValue.latitude)===Rr(a.geoPointValue.latitude)&&Rr(i.geoPointValue.longitude)===Rr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Rr(i.integerValue)===Rr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Rr(i.doubleValue),s=Rr(a.doubleValue);return o===s?jv(o)===jv(s):isNaN(o)&&isNaN(s)}return!1})(t,e);case 9:return Wf(t.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(iP(o)!==iP(s))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(s[c]===void 0||!Do(o[c],s[c])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Sp(t,e){return(t.values||[]).find((r=>Do(r,e)))!==void 0}function Kf(t,e){if(t===e)return 0;const r=Wl(t),n=Wl(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const s=Rr(a.integerValue||a.doubleValue),c=Rr(o.integerValue||o.doubleValue);return s<c?-1:s>c?1:s===c?0:isNaN(s)?isNaN(c)?0:-1:1})(t,e);case 3:return oP(t.timestampValue,e.timestampValue);case 4:return oP(Ap(t),Ap(e));case 5:return k_(t.stringValue,e.stringValue);case 6:return(function(a,o){const s=Gl(a),c=Gl(o);return s.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const s=a.split("/"),c=o.split("/");for(let f=0;f<s.length&&f<c.length;f++){const d=ct(s[f],c[f]);if(d!==0)return d}return ct(s.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const s=ct(Rr(a.latitude),Rr(o.latitude));return s!==0?s:ct(Rr(a.longitude),Rr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return sP(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const s=a.fields||{},c=o.fields||{},f=s[Bv]?.arrayValue,d=c[Bv]?.arrayValue,p=ct(f?.values?.length||0,d?.values?.length||0);return p!==0?p:sP(f,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===v1.mapValue&&o===v1.mapValue)return 0;if(a===v1.mapValue)return 1;if(o===v1.mapValue)return-1;const s=a.fields||{},c=Object.keys(s),f=o.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=k_(c[p],d[p]);if(v!==0)return v;const y=Kf(s[c[p]],f[d[p]]);if(y!==0)return y}return ct(c.length,d.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:r})}}function oP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=ql(t),n=ql(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function sP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Kf(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function Yf(t){return M_(t)}function M_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=ql(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Gl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return je.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=M_(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${M_(r.fields[o])}`;return i+"}"})(t.mapValue):Ve(61005,{value:t})}function M1(t){switch(Wl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jm(t);return e?16+M1(e):16;case 5:return 2*t.stringValue.length;case 6:return Gl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+M1(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return tc(n.fields,((a,o)=>{i+=a.length+M1(o)})),i})(t.mapValue);default:throw Ve(13486,{value:t})}}function lP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function MS(t){return!!t&&"arrayValue"in t}function cP(t){return!!t&&"nullValue"in t}function uP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function j1(t){return!!t&&"mapValue"in t}function use(t){return(t?.mapValue?.fields||{})[Qj]?.stringValue===Zj}function ep(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return tc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ep(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ep(t.arrayValue.values[r]);return e}return{...t}}function fse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!j1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(r)}setAll(e){let r=Pn.emptyPath(),n={},i=[];e.forEach(((o,s)=>{if(!r.isImmediateParentOf(s)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=ep(o):i.push(s.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());j1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];j1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){tc(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new xi(ep(this.value))}}function Jj(t){const e=[];return tc(t.fields,((r,n)=>{const i=new Pn([r]);if(j1(n)){const a=Jj(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Vn(e,0,He.min(),He.min(),He.min(),xi.empty(),0)}static newFoundDocument(e,r,n,i){return new Vn(e,1,r,He.min(),n,i,0)}static newNoDocument(e,r){return new Vn(e,2,r,He.min(),He.min(),xi.empty(),0)}static newUnknownDocument(e,r){return new Vn(e,3,r,He.min(),He.min(),xi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,r){this.position=e,this.inclusive=r}}function fP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=je.comparator(je.fromName(o.referenceValue),r.key):n=Kf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function dP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Do(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r="asc"){this.field=e,this.dir=r}}function dse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{}class Vr extends e7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new pse(e,r,n):r==="array-contains"?new mse(e,n):r==="in"?new yse(e,n):r==="not-in"?new xse(e,n):r==="array-contains-any"?new bse(e,n):new Vr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new gse(e,n):new vse(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Kf(r,this.value)):r!==null&&Wl(this.value)===Wl(r)&&this.matchesComparison(Kf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wa extends e7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Wa(e,r)}matches(e){return t7(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t7(t){return t.op==="and"}function r7(t){return hse(t)&&t7(t)}function hse(t){for(const e of t.filters)if(e instanceof Wa)return!1;return!0}function L_(t){if(t instanceof Vr)return t.field.canonicalString()+t.op.toString()+Yf(t.value);if(r7(t))return t.filters.map((e=>L_(e))).join(",");{const e=t.filters.map((r=>L_(r))).join(",");return`${t.op}(${e})`}}function n7(t,e){return t instanceof Vr?(function(n,i){return i instanceof Vr&&n.op===i.op&&n.field.isEqual(i.field)&&Do(n.value,i.value)})(t,e):t instanceof Wa?(function(n,i){return i instanceof Wa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,s)=>a&&n7(o,i.filters[s])),!0):!1})(t,e):void Ve(19439)}function i7(t){return t instanceof Vr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yf(r.value)}`})(t):t instanceof Wa?(function(r){return r.op.toString()+" {"+r.getFilters().map(i7).join(" ,")+"}"})(t):"Filter"}class pse extends Vr{constructor(e,r,n){super(e,r,n),this.key=je.fromName(n.referenceValue)}matches(e){const r=je.comparator(e.key,this.key);return this.matchesComparison(r)}}class gse extends Vr{constructor(e,r){super(e,"in",r),this.keys=a7("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class vse extends Vr{constructor(e,r){super(e,"not-in",r),this.keys=a7("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function a7(t,e){return(e.arrayValue?.values||[]).map((r=>je.fromName(r.referenceValue)))}class mse extends Vr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return MS(r)&&Sp(r.arrayValue,this.value)}}class yse extends Vr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sp(this.value.arrayValue,r)}}class xse extends Vr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Sp(this.value.arrayValue,r)}}class bse extends Vr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!MS(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Sp(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function hP(t,e=null,r=[],n=[],i=null,a=null,o=null){return new wse(t,e,r,n,i,a,o)}function jS(t){const e=Ge(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>L_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Zm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Yf(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Yf(n))).join(",")),e.Te=r}return e.Te}function LS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!dse(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!n7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dP(t.startAt,e.startAt)&&dP(t.endAt,e.endAt)}function B_(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _se(t,e,r,n,i,a,o,s){return new md(t,e,r,n,i,a,o,s)}function ey(t){return new md(t)}function pP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o7(t){return t.collectionGroup!==null}function tp(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new rn(Pn.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(s=s.add(f.field))}))})),s})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cp(a,n))})),r.has(Pn.keyField().canonicalString())||e.Ie.push(new Cp(Pn.keyField(),n))}return e.Ie}function So(t){const e=Ge(t);return e.Ee||(e.Ee=Ase(e,tp(t))),e.Ee}function Ase(t,e){if(t.limitType==="F")return hP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Cp(i.field,a)}));const r=t.endAt?new zv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zv(t.startAt.position,t.startAt.inclusive):null;return hP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function z_(t,e){const r=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Uv(t,e,r){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ty(t,e){return LS(So(t),So(e))&&t.limitType===e.limitType}function s7(t){return`${jS(So(t))}|lt:${t.limitType}`}function _f(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>i7(i))).join(", ")}]`),Zm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Yf(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Yf(i))).join(",")),`Target(${n})`})(So(t))}; limitType=${t.limitType})`}function ry(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of tp(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,s,c){const f=fP(o,s,c);return o.inclusive?f<=0:f<0})(n.startAt,tp(n),i)||n.endAt&&!(function(o,s,c){const f=fP(o,s,c);return o.inclusive?f>=0:f>0})(n.endAt,tp(n),i))})(t,e)}function Ese(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l7(t){return(e,r)=>{let n=!1;for(const i of tp(t)){const a=Sse(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Sse(t,e,r){const n=t.field.isKeyField()?je.comparator(e.key,r.key):(function(a,o,s){const c=o.data.field(a),f=s.data.field(a);return c!==null&&f!==null?Kf(c,f):Ve(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tc(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return qj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse=new pr(je.comparator);function _s(){return Cse}const c7=new pr(je.comparator);function $h(...t){let e=c7;for(const r of t)e=e.insert(r.key,r);return e}function u7(t){let e=c7;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Gc(){return rp()}function f7(){return rp()}function rp(){return new Cu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Tse=new pr(je.comparator),Ise=new rn(je.comparator);function ut(...t){let e=Ise;for(const r of t)e=e.add(r);return e}const Ose=new rn(ct);function Rse(){return Ose}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jv(e)?"-0":e}}function d7(t){return{integerValue:""+t}}function h7(t,e){return ise(e)?d7(e):BS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this._=void 0}}function Pse(t,e,r){return t instanceof Tp?(function(i,a){const o={fields:{[Kj]:{stringValue:Wj},[Xj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kS(a)&&(a=Jm(a)),a&&(o.fields[Yj]=a),{mapValue:o}})(r,e):t instanceof Ip?g7(t,e):t instanceof Op?v7(t,e):(function(i,a){const o=p7(i,a),s=gP(o)+gP(i.Ae);return j_(o)&&j_(i.Ae)?d7(s):BS(i.serializer,s)})(t,e)}function Dse(t,e,r){return t instanceof Ip?g7(t,e):t instanceof Op?v7(t,e):r}function p7(t,e){return t instanceof Rp?(function(n){return j_(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Tp extends ny{}class Ip extends ny{constructor(e){super(),this.elements=e}}function g7(t,e){const r=m7(e);for(const n of t.elements)r.some((i=>Do(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Op extends ny{constructor(e){super(),this.elements=e}}function v7(t,e){let r=m7(e);for(const n of t.elements)r=r.filter((i=>!Do(i,n)));return{arrayValue:{values:r}}}class Rp extends ny{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function gP(t){return Rr(t.integerValue||t.doubleValue)}function m7(t){return MS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r){this.field=e,this.transform=r}}function Nse(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Ip&&i instanceof Ip||n instanceof Op&&i instanceof Op?Wf(n.elements,i.elements,Do):n instanceof Rp&&i instanceof Rp?Do(n.Ae,i.Ae):n instanceof Tp&&i instanceof Tp})(t.transform,e.transform)}class kse{constructor(e,r){this.version=e,this.transformResults=r}}class oi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function L1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iy{}function x7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ay(t.key,oi.none()):new a0(t.key,t.data,oi.none());{const r=t.data,n=xi.empty();let i=new rn(Pn.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new rc(t.key,n,new Ui(i.toArray()),oi.none())}}function Mse(t,e,r){t instanceof a0?(function(i,a,o){const s=i.value.clone(),c=mP(i.fieldTransforms,a,o.transformResults);s.setAll(c),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()})(t,e,r):t instanceof rc?(function(i,a,o){if(!L1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=mP(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(b7(i)),c.setAll(s),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function np(t,e,r,n){return t instanceof a0?(function(a,o,s,c){if(!L1(a.precondition,o))return s;const f=a.value.clone(),d=yP(a.fieldTransforms,c,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof rc?(function(a,o,s,c){if(!L1(a.precondition,o))return s;const f=yP(a.fieldTransforms,c,o),d=o.data;return d.setAll(b7(a)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,o,s){return L1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s})(t,e,r)}function jse(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=p7(n.transform,i||null);a!=null&&(r===null&&(r=xi.empty()),r.set(n.field,a))}return r||null}function vP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Wf(n,i,((a,o)=>Nse(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class a0 extends iy{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rc extends iy{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b7(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function mP(t,e,r){const n=new Map;Rt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,Dse(o,s,r[i]))}return n}function yP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,Pse(a,o,e))}return n}class ay extends iy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lse extends iy{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Mse(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=np(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=np(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=f7();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const c=x7(o,s);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(He.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Wf(this.mutations,e.mutations,((r,n)=>vP(r,n)))&&Wf(this.baseMutations,e.baseMutations,((r,n)=>vP(r,n)))}}class zS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Rt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Tse})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new zS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,ht;function Fse(t){switch(t){case ue.OK:return Ve(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function w7(t){if(t===void 0)return ws("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Fr.OK:return ue.OK;case Fr.CANCELLED:return ue.CANCELLED;case Fr.UNKNOWN:return ue.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return ue.INTERNAL;case Fr.UNAVAILABLE:return ue.UNAVAILABLE;case Fr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Fr.NOT_FOUND:return ue.NOT_FOUND;case Fr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Fr.ABORTED:return ue.ABORTED;case Fr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Fr.DATA_LOSS:return ue.DATA_LOSS;default:return Ve(39323,{code:t})}}(ht=Fr||(Fr={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hse=new Nl([4294967295,4294967295],0);function xP(t){const e=Vse().encode(t),r=new kj;return r.update(e),new Uint8Array(r.digest())}function bP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Nl([r,n],0),new Nl([i,a],0)]}class US{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qh(`Invalid padding: ${r}`);if(n<0)throw new qh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Nl.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Nl.fromNumber(n)));return i.compare(Hse)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=xP(e),[n,i]=bP(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new US(a,i,r);return n.forEach((s=>o.insert(s))),o}insert(e){if(this.ge===0)return;const r=xP(e),[n,i]=bP(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,o0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new oy(He.min(),i,new pr(ct),_s(),ut())}}class o0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new o0(n,r,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class _7{constructor(e,r){this.targetId=e,this.Ce=r}}class A7{constructor(e,r,n=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class wP{constructor(){this.ve=0,this.Fe=_P(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),r=ut(),n=ut();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ve(38017,{changeType:a})}})),new o0(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=_P()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $se{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=m1(),this.He=m1(),this.Ye=new pr(ct)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(B_(a))if(n===0){const o=new je(a.path);this.et(r,o,Vn.newNoDocument(o,He.min()))}else Rt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(e),c=s?this.ct(s,e,o):1;if(c!==0){this.it(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Gl(n).toUint8Array()}catch(c){if(c instanceof Gj)return Gf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new US(o,i,a)}catch(c){return Gf(c instanceof qh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const s=this.ot(o);if(s){if(a.current&&B_(s.target)){const c=new je(s.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Vn.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=ut();this.He.forEach(((a,o)=>{let s=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new oy(e,r,this.Ye,this.je,n);return this.je=_s(),this.Je=m1(),this.He=m1(),this.Ye=new pr(ct),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new wP,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new rn(ct),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new rn(ct),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wP),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function m1(){return new pr(je.comparator)}function _P(){return new pr(je.comparator)}const qse={asc:"ASCENDING",desc:"DESCENDING"},Gse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wse={and:"AND",or:"OR"};class Kse{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function U_(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function Fv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yse(t,e){return Fv(t,e.toTimestamp())}function Co(t){return Rt(!!t,49232),He.fromTimestamp((function(r){const n=ql(r);return new Yt(n.seconds,n.nanos)})(t))}function FS(t,e){return F_(t,e).canonicalString()}function F_(t,e){const r=(function(i){return new Kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function S7(t){const e=Kt.fromString(t);return Rt(R7(e),10190,{key:e.toString()}),e}function V_(t,e){return FS(t.databaseId,e.path)}function dw(t,e){const r=S7(e);if(r.get(1)!==t.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new je(T7(r))}function C7(t,e){return FS(t.databaseId,e)}function Xse(t){const e=S7(t);return e.length===4?Kt.emptyPath():T7(e)}function H_(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T7(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AP(t,e,r){return{name:V_(t,e),fields:r.value.mapValue.fields}}function Qse(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ve(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,d){return f.useProto3Json?(Rt(d===void 0||typeof d=="string",58123),kn.fromBase64String(d||"")):(Rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),kn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&(function(f){const d=f.code===void 0?ue.UNKNOWN:w7(f.code);return new Ee(d,f.message||"")})(o);r=new A7(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=dw(t,n.document.name),a=Co(n.document.updateTime),o=n.document.createTime?Co(n.document.createTime):He.min(),s=new xi({mapValue:{fields:n.document.fields}}),c=Vn.newFoundDocument(i,a,o,s),f=n.targetIds||[],d=n.removedTargetIds||[];r=new B1(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=dw(t,n.document),a=n.readTime?Co(n.readTime):He.min(),o=Vn.newNoDocument(i,a),s=n.removedTargetIds||[];r=new B1([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=dw(t,n.document),a=n.removedTargetIds||[];r=new B1([],a,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new Use(i,a),s=n.targetId;r=new _7(s,o)}}return r}function Zse(t,e){let r;if(e instanceof a0)r={update:AP(t,e.key,e.value)};else if(e instanceof ay)r={delete:V_(t,e.key)};else if(e instanceof rc)r={update:AP(t,e.key,e.data),updateMask:sle(e.fieldMask)};else{if(!(e instanceof Lse))return Ve(16599,{Vt:e.type});r={verify:V_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const s=o.transform;if(s instanceof Tp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ip)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Op)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Rp)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw Ve(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Yse(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)})(t,e.precondition)),r}function Jse(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?Co(i.updateTime):Co(a);return o.isEqual(He.min())&&(o=Co(a)),new kse(o,i.transformResults||[])})(r,e)))):[]}function ele(t,e){return{documents:[C7(t,e.path)]}}function tle(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=C7(t,i);const a=(function(f){if(f.length!==0)return O7(Wa.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((d=>(function(v){return{field:Af(v.field),direction:ile(v.dir)}})(d)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=U_(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function rle(t){let e=Xse(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Rt(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=(function(p){const v=I7(p);return v instanceof Wa&&r7(v)?v.getFilters():[v]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((v=>(function(_){return new Cp(Ef(_.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(r.orderBy));let s=null;r.limit&&(s=(function(p){let v;return v=typeof p=="object"?p.value:p,Zm(v)?null:v})(r.limit));let c=null;r.startAt&&(c=(function(p){const v=!!p.before,y=p.values||[];return new zv(y,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const v=!p.before,y=p.values||[];return new zv(y,v)})(r.endAt)),_se(e,i,o,a,s,"F",c,f)}function nle(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function I7(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ef(r.unaryFilter.field);return Vr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ef(r.unaryFilter.field);return Vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ef(r.unaryFilter.field);return Vr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ef(r.unaryFilter.field);return Vr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Vr.create(Ef(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Wa.create(r.compositeFilter.filters.map((n=>I7(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(r.compositeFilter.op))})(t):Ve(30097,{filter:t})}function ile(t){return qse[t]}function ale(t){return Gse[t]}function ole(t){return Wse[t]}function Af(t){return{fieldPath:t.canonicalString()}}function Ef(t){return Pn.fromServerFormat(t.fieldPath)}function O7(t){return t instanceof Vr?(function(r){if(r.op==="=="){if(uP(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NAN"}};if(cP(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uP(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NOT_NAN"}};if(cP(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(r.field),op:ale(r.op),value:r.value}}})(t):t instanceof Wa?(function(r){const n=r.getFilters().map((i=>O7(i)));return n.length===1?n[0]:{compositeFilter:{op:ole(r.op),filters:n}}})(t):Ve(54877,{filter:t})}function sle(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function R7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r,n,i,a=He.min(),o=He.min(),s=kn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(e){return new Tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e){this.yt=e}}function cle(t){const e=rle({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ule{constructor(){this.Cn=new fle}addToCollectionParentIndex(e,r){return this.Cn.add(r),ge.resolve()}getCollectionParents(e,r){return ge.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ge.resolve()}deleteFieldIndex(e,r){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,r){return ge.resolve()}getDocumentsMatchingTarget(e,r){return ge.resolve(null)}getIndexType(e,r){return ge.resolve(0)}getFieldIndexes(e,r){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,r){return ge.resolve($l.min())}getMinOffsetFromCollectionGroup(e,r){return ge.resolve($l.min())}updateCollectionGroup(e,r,n){return ge.resolve()}updateIndexEntries(e,r){return ge.resolve()}}class fle{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new rn(Kt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P7=41943040;class yi{static withCacheSize(e){return new yi(e,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(P7,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xf(0)}static cr(){return new Xf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="LruGarbageCollector",dle=1048576;function CP([t,e],[r,n]){const i=ct(t,r);return i===0?ct(e,n):i}class hle{constructor(e){this.Ir=e,this.buffer=new rn(CP),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();CP(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ple{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(SP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){vd(r)?Ce(SP,"Ignoring IndexedDB error during garbage collection: ",r):await gd(r)}await this.Vr(3e5)}))}}class gle{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return ge.resolve(Qm.ce);const n=new hle(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(EP)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EP):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,s,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,s=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),wf()<=lt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(c-s)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function vle(t,e){return new gle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(){this.changes=new Cu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&np(n.mutation,i,Ui.empty(),Yt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ut()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ut()){const i=Gc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=$h();return a.forEach(((s,c)=>{o=o.insert(s,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Gc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ut())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,s)=>{r.set(o,s)}))}))}computeViews(e,r,n,i){let a=_s();const o=rp(),s=(function(){return rp()})();return r.forEach(((c,f)=>{const d=n.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof rc)?a=a.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),np(d.mutation,f,d.mutation.getFieldMask(),Yt.now())):o.set(f.key,Ui.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,d)=>o.set(f,d))),r.forEach(((f,d)=>s.set(f,new yle(d,o.get(f)??null)))),s)))}recalculateAndSaveOverlays(e,r){const n=rp();let i=new pr(((o,s)=>o-s)),a=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const s of o)s.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let d=n.get(c)||Ui.empty();d=s.applyToLocalView(f,d),n.set(c,d);const p=(i.get(s.batchId)||ut()).add(c);i=i.insert(s.batchId,p)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const c=s.getNext(),f=c.key,d=c.value,p=f7();d.forEach((v=>{if(!a.has(v)){const y=x7(r.get(v),n.get(v));y!==null&&p.set(v,y),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ge.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):o7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ge.resolve(Gc());let s=_p,c=a;return o.next((f=>ge.forEach(f,((d,p)=>(s<p.largestBatchId&&(s=p.largestBatchId),a.get(d)?ge.resolve():this.remoteDocumentCache.getEntry(e,d).next((v=>{c=c.insert(d,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,ut()))).next((d=>({batchId:s,changes:u7(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new je(r)).next((n=>{let i=$h();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=$h();return this.indexManager.getCollectionParents(e,a).next((s=>ge.forEach(s,(c=>{const f=(function(p,v){return new md(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((d=>{d.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Vn.newInvalidDocument(d)))}));let s=$h();return o.forEach(((c,f)=>{const d=a.get(c);d!==void 0&&np(d.mutation,f,Ui.empty(),Yt.now()),ry(r,f)&&(s=s.insert(c,f))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ge.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Co(i.createTime)}})(r)),ge.resolve()}getNamedQuery(e,r){return ge.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:cle(i.bundledQuery),readTime:Co(i.readTime)}})(r)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(){this.overlays=new pr(je.comparator),this.qr=new Map}getOverlay(e,r){return ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Gc();return ge.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),ge.resolve()}getOverlaysForCollection(e,r,n){const i=Gc(),a=r.length+1,o=new je(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const c=s.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new pr(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=a.get(f.largestBatchId);d===null&&(d=Gc(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const s=Gc(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>s.set(f,d))),!(s.size()>=i)););return ge.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new zse(r,n));let a=this.qr.get(r);a===void 0&&(a=ut(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Qr=new rn(hn.$r),this.Ur=new rn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new hn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new hn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new je(new Kt([])),n=new hn(r,e),i=new hn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new je(new Kt([])),n=new hn(r,e),i=new hn(r,e+1);let a=ut();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new hn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class hn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return je.comparator(e.key,r.key)||ct(e.Yr,r.Yr)}static Kr(e,r){return ct(e.Yr,r.Yr)||je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new rn(hn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Bse(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new hn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,r){return ge.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?NS:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new hn(r,0),i=new hn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const s=this.Xr(o.Yr);a.push(s)})),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rn(ct);return r.forEach((i=>{const a=new hn(i,0),o=new hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(s=>{n=n.add(s.Yr)}))})),ge.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;je.isDocumentKey(a)||(a=a.child(""));const o=new hn(new je(a),0);let s=new rn(ct);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(s=s.add(c.Yr)),!0)}),o),ge.resolve(this.ti(s))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Rt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ge.forEach(r.mutations,(i=>{const a=new hn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new hn(r,0),i=this.Zr.firstAfterOrEqual(n);return ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(e){this.ri=e,this.docs=(function(){return new pr(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ge.resolve(n?n.document.mutableCopy():Vn.newInvalidDocument(r))}getEntries(e,r){let n=_s();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Vn.newInvalidDocument(i))})),ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=_s();const o=r.path,s=new je(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||ese(Joe(d),n)<=0||(i.has(d.key)||ry(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ve(9500)}ii(e,r){return ge.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Sle(this)}getSize(e){return ge.resolve(this.size)}}class Sle extends mle{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),ge.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e){this.persistence=e,this.si=new Cu((r=>jS(r)),LS),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new VS,this.targetCount=0,this.ai=Xf.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),ge.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xf(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ge.resolve()}updateTargetData(e,r){return this.Pr(r),ge.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ge.waitFor(a).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return ge.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),ge.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return ge.resolve(n)}containsKey(e,r){return ge.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r){this.ui={},this.overlays={},this.ci=new Qm(0),this.li=!1,this.li=!0,this.hi=new _le,this.referenceDelegate=e(this),this.Pi=new Cle(this),this.indexManager=new ule,this.remoteDocumentCache=(function(i){return new Ele(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new lle(r),this.Ii=new ble(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wle,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Ale(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new Tle(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return ge.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class Tle extends rse{constructor(e){super(),this.currentSequenceNumber=e}}class HS{constructor(e){this.persistence=e,this.Ri=new VS,this.Vi=null}static mi(e){return new HS(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),ge.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),ge.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ge.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(n=>{const i=je.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ge.or([()=>ge.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Vv{constructor(e,r){this.persistence=e,this.pi=new Cu((n=>ase(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=vle(this,r)}static mi(e,r){return new Vv(e,r)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return ge.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?ge.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((s=>{s||(n++,a.removeEntry(o,He.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=M1(e.data.value)),r}br(e,r,n){return ge.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=ut(),i=ut();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $S(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ole{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _ae()?8:nse(Gn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Ile;return this.Ss(e,r,o).next((s=>{if(a.result=s,this.Vs)return this.bs(e,r,o,s.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(wf()<=lt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",_f(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(wf()<=lt.DEBUG&&Ce("QueryEngine","Query:",_f(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(wf()<=lt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",_f(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,So(r))):ge.resolve())}ys(e,r){if(pP(r))return ge.resolve(null);let n=So(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=Uv(r,null,"F"),n=So(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=ut(...a);return this.ps.getDocuments(e,o).next((s=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.Ds(r,s);return this.Cs(r,f,o,c.readTime)?this.ys(e,Uv(r,null,"F")):this.vs(e,f,r,c)}))))})))))}ws(e,r,n,i){return pP(r)||i.isEqual(He.min())?ge.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?ge.resolve(null):(wf()<=lt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_f(r)),this.vs(e,o,r,Zoe(i,_p)).next((s=>s)))}))}Ds(e,r){let n=new rn(l7(e));return r.forEach(((i,a)=>{ry(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return wf()<=lt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",_f(r)),this.ps.getDocumentsMatchingQuery(e,r,$l.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="LocalStore",Rle=3e8;class Ple{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new pr(ct),this.xs=new Cu((a=>jS(a)),LS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xle(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Dle(t,e,r,n){return new Ple(t,e,r,n)}async function N7(t,e){const r=Ge(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],s=[];let c=ut();for(const f of i){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of a){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:s})))}))}))}function Nle(t,e){const r=Ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,c,f,d){const p=f.batch,v=p.keys();let y=ge.resolve();return v.forEach((_=>{y=y.next((()=>d.getEntry(c,_))).next((b=>{const A=f.docVersions.get(_);Rt(A!==null,48541),b.version.compareTo(A)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),d.addEntry(b)))}))})),y.next((()=>s.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let c=ut();for(let f=0;f<s.mutationResults.length;++f)s.mutationResults[f].transformResults.length>0&&(c=c.add(s.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function k7(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function kle(t,e){const r=Ge(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach(((d,p)=>{const v=i.get(p);if(!v)return;s.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,d.addedDocuments,p))));let y=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(kn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),(function(b,A,S){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Rle?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,y,d)&&s.push(r.Pi.updateTargetData(a,y))}));let c=_s(),f=ut();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),s.push(Mle(a,o,e.documentUpdates).next((d=>{c=d.ks,f=d.qs}))),!n.isEqual(He.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));s.push(d)}return ge.waitFor(s).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(r.Ms=i,a)))}function Mle(t,e,r){let n=ut(),i=ut();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=_s();return r.forEach(((s,c)=>{const f=a.get(s);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(s)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(s,c.readTime),o=o.insert(s,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(s,c)):Ce(qS,"Ignoring outdated watch update for ",s,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function jle(t,e){const r=Ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=NS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Lle(t,e){const r=Ge(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,ge.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new Tl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function $_(t,e,r){const n=Ge(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vd(o))throw o;Ce(qS,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function TP(t,e,r){const n=Ge(t);let i=He.min(),a=ut();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,d){const p=Ge(c),v=p.xs.get(d);return v!==void 0?ge.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,d)})(n,o,So(e)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next((c=>{a=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:He.min(),r?a:ut()))).next((s=>(Ble(n,Ese(e),s),{documents:s,Qs:a})))))}function Ble(t,e,r){let n=t.Os.get(e)||He.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class IP{constructor(){this.activeTargetIds=Rse()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zle{constructor(){this.Mo=new IP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IP,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="ConnectivityMonitor";class RP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(OP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(OP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=null;function q_(){return y1===null?y1=(function(){return 268435456+Math.round(2147483648*Math.random())})():y1++,"0x"+y1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="RestConnection",Fle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vle{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Lv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=q_(),s=this.zo(e,r.toUriEncodedString());Ce(hw,`Sending RPC '${e}' ${o}:`,s,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(s),d=Lo(f);return this.Jo(e,s,c,n,d).then((p=>(Ce(hw,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Gf(hw,`RPC '${e}' ${o} failed with error: `,p,"url: ",s,"request:",n),p}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=Fle[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class $le extends Vle{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=q_();return new Promise(((s,c)=>{const f=new Mj;f.setWithCredentials(!0),f.listenOnce(jj.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case k1.NO_ERROR:const p=f.getResponseJson();Ce(Ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case k1.TIMEOUT:Ce(Ln,`RPC '${e}' ${o} timed out`),c(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case k1.HTTP_ERROR:const v=f.getStatus();if(Ce(Ln,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y?.error;if(_&&_.status&&_.message){const b=(function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(T)>=0?T:ue.UNKNOWN})(_.status);c(new Ee(b,_.message))}else c(new Ee(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ce(Ln,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Ce(Ln,`RPC '${e}' ${o} sending request:`,i),f.send(r,"POST",d,n,15)}))}T_(e,r,n){const i=q_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zj(),s=Bj(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");Ce(Ln,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);this.I_(p);let v=!1,y=!1;const _=new Hle({Yo:A=>{y?Ce(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(Ce(Ln,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ce(Ln,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),b=(A,S,T)=>{A.listen(S,(O=>{try{T(O)}catch(N){setTimeout((()=>{throw N}),0)}}))};return b(p,Hh.EventType.OPEN,(()=>{y||(Ce(Ln,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),b(p,Hh.EventType.CLOSE,(()=>{y||(y=!0,Ce(Ln,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),b(p,Hh.EventType.ERROR,(A=>{y||(y=!0,Gf(Ln,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.a_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))})),b(p,Hh.EventType.MESSAGE,(A=>{if(!y){const S=A.data[0];Rt(!!S,16349);const T=S,O=T?.error||T[0]?.error;if(O){Ce(Ln,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let M=(function(D){const j=Fr[D];if(j!==void 0)return w7(j)})(N),L=O.message;M===void 0&&(M=ue.INTERNAL,L="Unknown error status: "+N+" with message "+O.message),y=!0,_.a_(new Ee(M,L)),p.close()}else Ce(Ln,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),b(s,Lj.STAT_EVENT,(A=>{A.stat===N_.PROXY?Ce(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===N_.NOPROXY&&Ce(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function pw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){return new Kse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="PersistentStream";class j7{constructor(e,r,n,i,a,o,s,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M7(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(ws(r.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(PP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ce(PP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qle extends j7{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Qse(this.serializer,e),n=(function(a){if(!("targetChange"in a))return He.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?He.min():o.readTime?Co(o.readTime):He.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=H_(this.serializer),r.addTarget=(function(a,o){let s;const c=o.target;if(s=B_(c)?{documents:ele(a,c)}:{query:tle(a,c).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=E7(a,o.resumeToken);const f=U_(a,o.expectedCount);f!==null&&(s.expectedCount=f)}else if(o.snapshotVersion.compareTo(He.min())>0){s.readTime=Fv(a,o.snapshotVersion.toTimestamp());const f=U_(a,o.expectedCount);f!==null&&(s.expectedCount=f)}return s})(this.serializer,e);const n=nle(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=H_(this.serializer),r.removeTarget=e,this.q_(r)}}class Gle extends j7{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Jse(e.writeResults,e.commitTime),n=Co(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=H_(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Zse(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{}class Kle extends Wle{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,F_(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ue.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Ho(e,F_(r,n),i,o,s,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yle{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(r),this.aa=!1):Ce("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="RemoteStore";class Xle{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Tu(this)&&(Ce(hu,"Restarting streams for network reachability change."),await(async function(c){const f=Ge(c);f.Ea.add(4),await s0(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ly(f)})(this))}))})),this.Ra=new Yle(n,i)}}async function ly(t){if(Tu(t))for(const e of t.da)await e(!0)}async function s0(t){for(const e of t.da)await e(!1)}function L7(t,e){const r=Ge(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),YS(r)?KS(r):yd(r).O_()&&WS(r,e))}function GS(t,e){const r=Ge(t),n=yd(r);r.Ia.delete(e),n.O_()&&B7(r,e),r.Ia.size===0&&(n.O_()?n.L_():Tu(r)&&r.Ra.set("Unknown"))}function WS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yd(t).Y_(e)}function B7(t,e){t.Va.Ue(e),yd(t).Z_(e)}function KS(t){t.Va=new $se({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yd(t).start(),t.Ra.ua()}function YS(t){return Tu(t)&&!yd(t).x_()&&t.Ia.size>0}function Tu(t){return Ge(t).Ea.size===0}function z7(t){t.Va=void 0}async function Qle(t){t.Ra.set("Online")}async function Zle(t){t.Ia.forEach(((e,r)=>{WS(t,e)}))}async function Jle(t,e){z7(t),YS(t)?(t.Ra.ha(e),KS(t)):t.Ra.set("Unknown")}async function ece(t,e,r){if(t.Ra.set("Online"),e instanceof A7&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))})(t,e)}catch(n){Ce(hu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hv(t,n)}else if(e instanceof B1?t.Va.Ze(e):e instanceof _7?t.Va.st(e):t.Va.tt(e),!r.isEqual(He.min()))try{const n=await k7(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(f);d&&a.Ia.set(f,d.withResumeToken(c.resumeToken,o))}})),s.targetMismatches.forEach(((c,f)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(kn.EMPTY_BYTE_STRING,d.snapshotVersion)),B7(a,c);const p=new Tl(d.target,c,f,d.sequenceNumber);WS(a,p)})),a.remoteSyncer.applyRemoteEvent(s)})(t,r)}catch(n){Ce(hu,"Failed to raise snapshot:",n),await Hv(t,n)}}async function Hv(t,e,r){if(!vd(e))throw e;t.Ea.add(1),await s0(t),t.Ra.set("Offline"),r||(r=()=>k7(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(hu,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await ly(t)}))}function U7(t,e){return e().catch((r=>Hv(t,r,e)))}async function cy(t){const e=Ge(t),r=Kl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:NS;for(;tce(e);)try{const i=await jle(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,rce(e,i)}catch(i){await Hv(e,i)}F7(e)&&V7(e)}function tce(t){return Tu(t)&&t.Ta.length<10}function rce(t,e){t.Ta.push(e);const r=Kl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function F7(t){return Tu(t)&&!Kl(t).x_()&&t.Ta.length>0}function V7(t){Kl(t).start()}async function nce(t){Kl(t).ra()}async function ice(t){const e=Kl(t);for(const r of t.Ta)e.ea(r.mutations)}async function ace(t,e,r){const n=t.Ta.shift(),i=zS.from(n,e,r);await U7(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await cy(t)}async function oce(t,e){e&&Kl(t).X_&&await(async function(n,i){if((function(o){return Fse(o)&&o!==ue.ABORTED})(i.code)){const a=n.Ta.shift();Kl(n).B_(),await U7(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await cy(n)}})(t,e),F7(t)&&V7(t)}async function DP(t,e){const r=Ge(t);r.asyncQueue.verifyOperationInProgress(),Ce(hu,"RemoteStore received new credentials");const n=Tu(r);r.Ea.add(3),await s0(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await ly(r)}async function sce(t,e){const r=Ge(t);e?(r.Ea.delete(2),await ly(r)):e||(r.Ea.add(2),await s0(r),r.Ra.set("Unknown"))}function yd(t){return t.ma||(t.ma=(function(r,n,i){const a=Ge(r);return a.sa(),new qle(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Qle.bind(null,t),t_:Zle.bind(null,t),r_:Jle.bind(null,t),H_:ece.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),YS(t)?KS(t):t.Ra.set("Unknown")):(await t.ma.stop(),z7(t))}))),t.ma}function Kl(t){return t.fa||(t.fa=(function(r,n,i){const a=Ge(r);return a.sa(),new Gle(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nce.bind(null,t),r_:oce.bind(null,t),ta:ice.bind(null,t),na:ace.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cy(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(hu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new XS(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QS(t,e){if(ws("AsyncQueue",`${e}: ${t}`),vd(t))return new Ee(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{static emptySet(e){return new Rf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||je.comparator(r.key,n.key):(r,n)=>je.comparator(r.key,n.key),this.keyedMap=$h(),this.sortedSet=new pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Rf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Rf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.ga=new pr(je.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Qf{constructor(e,r,n,i,a,o,s,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((s=>{o.push({type:0,doc:s})})),new Qf(e,r,Rf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lce{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cce{constructor(){this.queries=kP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ge(r),a=i.queries;i.queries=kP(),a.forEach(((o,s)=>{for(const c of s.Sa)c.onError(n)}))})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function kP(){return new Cu((t=>s7(t)),ty)}async function ZS(t,e){const r=Ge(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new lce,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=QS(o,`Initialization of query '${_f(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&eC(r)}async function JS(t,e){const r=Ge(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function uce(t,e){const r=Ge(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&eC(r)}function fce(t,e,r){const n=Ge(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function eC(t){t.Ca.forEach((e=>{e.next()}))}var G_,MP;(MP=G_||(G_={})).Ma="default",MP.Cache="cache";class tC{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Qf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.key=e}}class $7{constructor(e){this.key=e}}class dce{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=l7(e),this.tu=new Rf(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new NP,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const v=i.get(d),y=ry(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;v&&y?v.data.isEqual(y.data)?_!==b&&(n.track({type:3,doc:y}),A=!0):this.su(v,y)||(n.track({type:2,doc:y}),A=!0,(c&&this.eu(y,c)>0||f&&this.eu(y,f)<0)&&(s=!0)):!v&&y?(n.track({type:0,doc:y}),A=!0):v&&!y&&(n.track({type:1,doc:v}),A=!0,(c||f)&&(s=!0)),A&&(y?(o=o.add(y),a=b?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(y,_){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:A})}};return b(y)-b(_)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new Qf(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new $7(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new H7(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=ut();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Qf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rC="SyncEngine";class hce{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class pce{constructor(e){this.key=e,this.hu=!1}}class gce{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cu((s=>s7(s)),ty),this.Iu=new Map,this.Eu=new Set,this.du=new pr(je.comparator),this.Au=new Map,this.Ru=new VS,this.Vu={},this.mu=new Map,this.fu=Xf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vce(t,e,r=!0){const n=X7(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await q7(n,e,r,!0),i}async function mce(t,e){const r=X7(t);await q7(r,e,!0,!1)}async function q7(t,e,r,n){const i=await Lle(t.localStore,So(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await yce(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&L7(t.remoteStore,i),s}async function yce(t,e,r,n,i){t.pu=(p,v,y)=>(async function(b,A,S,T){let O=A.view.ru(S);O.Cs&&(O=await TP(b.localStore,A.query,!1).then((({documents:R})=>A.view.ru(R,O))));const N=T&&T.targetChanges.get(A.targetId),M=T&&T.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(O,b.isPrimaryClient,N,M);return LP(b,A.targetId,L.au),L.snapshot})(t,p,v,y);const a=await TP(t.localStore,e,!0),o=new dce(e,a.Qs),s=o.ru(a.documents),c=o0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(s,t.isPrimaryClient,c);LP(t,r,f.au);const d=new hce(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function xce(t,e,r){const n=Ge(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!ty(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await $_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&GS(n.remoteStore,i.targetId),W_(n,i.targetId)})).catch(gd)):(W_(n,i.targetId),await $_(n.localStore,i.targetId,!0))}async function bce(t,e){const r=Ge(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GS(r.remoteStore,n.targetId))}async function wce(t,e,r){const n=Ice(t);try{const i=await(function(o,s){const c=Ge(o),f=Yt.now(),d=s.reduce(((y,_)=>y.add(_.key)),ut());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let _=_s(),b=ut();return c.Ns.getEntries(y,d).next((A=>{_=A,_.forEach(((S,T)=>{T.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,_))).next((A=>{p=A;const S=[];for(const T of s){const O=jse(T,p.get(T.key).overlayedDocument);O!=null&&S.push(new rc(T.key,O,Jj(O.value.mapValue),oi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,S,s)})).next((A=>{v=A;const S=A.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(y,A.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:u7(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,s,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new pr(ct)),f=f.insert(s,c),o.Vu[o.currentUser.toKey()]=f})(n,i.batchId,r),await l0(n,i.changes),await cy(n.remoteStore)}catch(i){const a=QS(i,"Failed to persist write");r.reject(a)}}async function G7(t,e){const r=Ge(t);try{const n=await kle(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Rt(o.hu,14607):i.removedDocuments.size>0&&(Rt(o.hu,42227),o.hu=!1))})),await l0(r,n,e)}catch(n){await gd(n)}}function jP(t,e,r){const n=Ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)})),(function(o,s){const c=Ge(o);c.onlineState=s;let f=!1;c.queries.forEach(((d,p)=>{for(const v of p.Sa)v.va(s)&&(f=!0)})),f&&eC(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _ce(t,e,r){const n=Ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new pr(je.comparator);o=o.insert(a,Vn.newNoDocument(a,He.min()));const s=ut().add(a),c=new oy(He.min(),new Map,new pr(ct),o,s);await G7(n,c),n.du=n.du.remove(a),n.Au.delete(e),nC(n)}else await $_(n.localStore,e,!1).then((()=>W_(n,e,r))).catch(gd)}async function Ace(t,e){const r=Ge(t),n=e.batch.batchId;try{const i=await Nle(r.localStore,e);K7(r,n,null),W7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await l0(r,i)}catch(i){await gd(i)}}async function Ece(t,e,r){const n=Ge(t);try{const i=await(function(o,s){const c=Ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,s).next((p=>(Rt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,s))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(n.localStore,e);K7(n,e,r),W7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await l0(n,i)}catch(i){await gd(i)}}function W7(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function K7(t,e,r){const n=Ge(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function W_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||Y7(t,n)}))}function Y7(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(GS(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),nC(t))}function LP(t,e,r){for(const n of r)n instanceof H7?(t.Ru.addReference(n.key,e),Sce(t,n)):n instanceof $7?(Ce(rC,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Y7(t,n.key)):Ve(19791,{wu:n})}function Sce(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ce(rC,"New document in limbo: "+r),t.Eu.add(n),nC(t))}function nC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new je(Kt.fromString(e)),n=t.fu.next();t.Au.set(n,new pce(r)),t.du=t.du.insert(r,n),L7(t.remoteStore,new Tl(So(ey(r.path)),n,"TargetPurposeLimboResolution",Qm.ce))}}async function l0(t,e,r){const n=Ge(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((s,c)=>{o.push(n.pu(c,e,r).then((f=>{if((f||r)&&n.isPrimaryClient){const d=f?!f.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=$S.As(c.targetId,f);a.push(d)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,f){const d=Ge(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ge.forEach(f,(v=>ge.forEach(v.Es,(y=>d.persistence.referenceDelegate.addReference(p,v.targetId,y))).next((()=>ge.forEach(v.ds,(y=>d.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))))))}catch(p){if(!vd(p))throw p;Ce(qS,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const y=d.Ms.get(v),_=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(v,b)}}})(n.localStore,a))}async function Cce(t,e){const r=Ge(t);if(!r.currentUser.isEqual(e)){Ce(rC,"User change. New user:",e.toKey());const n=await N7(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((s=>{s.forEach((c=>{c.reject(new Ee(ue.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await l0(r,n.Ls)}}function Tce(t,e){const r=Ge(t),n=r.Au.get(e);if(n&&n.hu)return ut().add(n.key);{let i=ut();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function X7(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_ce.bind(null,e),e.Pu.H_=uce.bind(null,e.eventManager),e.Pu.yu=fce.bind(null,e.eventManager),e}function Ice(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ace.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ece.bind(null,e),e}class $v{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Dle(this.persistence,new Ole,e.initialUser,this.serializer)}Cu(e){return new D7(HS.mi,this.serializer)}Du(e){return new zle}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$v.provider={build:()=>new $v};class Oce extends $v{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Rt(this.persistence.referenceDelegate instanceof Vv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ple(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new D7((n=>Vv.mi(n,r)),this.serializer)}}class K_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>jP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cce.bind(null,this.syncEngine),await sce(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cce})()}createDatastore(e){const r=sy(e.databaseInfo.databaseId),n=(function(a){return new $le(a)})(e.databaseInfo);return(function(a,o,s,c){return new Kle(a,o,s,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,s){return new Xle(n,i,a,o,s)})(this.localStore,this.datastore,e.asyncQueue,(r=>jP(this.syncEngine,r,0)),(function(){return RP.v()?new RP:new Ule})())}createSyncEngine(e,r){return(function(i,a,o,s,c,f,d){const p=new gce(i,a,o,s,c,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Ge(r);Ce(hu,"RemoteStore shutting down."),n.Ea.add(5),await s0(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}K_.provider={build:()=>new K_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="FirestoreClient";class Rce{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{Ce(Yl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Ce(Yl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=QS(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gw(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Yl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await N7(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Pce(t);Ce(Yl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>DP(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>DP(e.remoteStore,i))),t._onlineComponents=e}async function Pce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Yl,"Using user provided OfflineComponentProvider");try{await gw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Gf("Error using user provided cache. Falling back to memory cache: "+r),await gw(t,new $v)}}else Ce(Yl,"Using default OfflineComponentProvider"),await gw(t,new Oce(void 0));return t._offlineComponents}async function Q7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Yl,"Using user provided OnlineComponentProvider"),await BP(t,t._uninitializedComponentsProvider._online)):(Ce(Yl,"Using default OnlineComponentProvider"),await BP(t,new K_))),t._onlineComponents}function Dce(t){return Q7(t).then((e=>e.syncEngine))}async function qv(t){const e=await Q7(t),r=e.eventManager;return r.onListen=vce.bind(null,e.syncEngine),r.onUnlisten=xce.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mce.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=bce.bind(null,e.syncEngine),r}function Nce(t,e,r={}){const n=new hs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,c,f){const d=new iC({next:v=>{d.Nu(),o.enqueueAndForget((()=>JS(a,p)));const y=v.docs.has(s);!y&&v.fromCache?f.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new tC(ey(s.path),d,{includeMetadataChanges:!0,qa:!0});return ZS(a,p)})(await qv(t),t.asyncQueue,e,r,n))),n.promise}function kce(t,e,r={}){const n=new hs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,c,f){const d=new iC({next:v=>{d.Nu(),o.enqueueAndForget((()=>JS(a,p))),v.fromCache&&c.source==="server"?f.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new tC(s,d,{includeMetadataChanges:!0,qa:!0});return ZS(a,p)})(await qv(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="firestore.googleapis.com",UP=!0;class FP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J7,this.ssl=UP}else this.host=e.host,this.ssl=e.ssl??UP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dle)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xoe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z7(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uy{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Uoe;switch(n.type){case"firstParty":return new $oe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=zP.get(r);n&&(Ce("ComponentProvider","Removing Datastore"),zP.delete(r),n.terminate())})(this),Promise.resolve()}}function Mce(t,e,r,n={}){t=ai(t,uy);const i=Lo(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(Wm(`https://${s}`),Km("Firestore",!0)),a.host!==J7&&a.host!==s&&Gf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:s,ssl:i,emulatorOptions:n};if(!fu(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,d;if(typeof n.mockUserToken=="string")f=n.mockUserToken,d=Un.MOCK_USER;else{f=Ij(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Un(p)}t._authCredentials=new Foe(new Fj(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class xr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}toJSON(){return{type:xr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(i0(r,xr._jsonSchema))return new xr(e,n||null,new je(Kt.fromString(r.referencePath)))}}xr._jsonSchemaVersion="firestore/documentReference/1.0",xr._jsonSchema={type:$r("string",xr._jsonSchemaVersion),referencePath:$r("string")};class kl extends Rs{constructor(e,r,n){super(e,r,ey(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new je(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function Le(t,e,...r){if(t=Bt(t),Vj("collection","path",e),t instanceof uy){const n=Kt.fromString(e,...r);return eP(n),new kl(t,null,n)}{if(!(t instanceof xr||t instanceof kl))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Kt.fromString(e,...r));return eP(n),new kl(t.firestore,null,n)}}function Oe(t,e,...r){if(t=Bt(t),arguments.length===1&&(e=DS.newId()),Vj("doc","path",e),t instanceof uy){const n=Kt.fromString(e,...r);return JR(n),new xr(t,null,new je(n))}{if(!(t instanceof xr||t instanceof kl))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Kt.fromString(e,...r));return JR(n),new xr(t.firestore,t instanceof kl?t.converter:null,new je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="AsyncQueue";class HP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M7(this,"async_queue_retry"),this._c=()=>{const n=pw();n&&Ce(VP,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=pw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=pw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vd(e))throw e;Ce(VP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",$P(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=XS.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:$P(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function $P(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class No extends uy{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new HP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HP(e),this._firestoreClient=void 0,await e}}}function jce(t,e){const r=typeof t=="object"?t:Ym(),n=typeof t=="string"?t:Lv,i=n0(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=IS("firestore");a&&Mce(i,...a)}return i}function c0(t){if(t._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lce(t),t._firestoreClient}function Lce(t){const e=t._freezeSettings(),r=(function(i,a,o,s){return new lse(i,a,o,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Z7(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Rce(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(kn.fromBase64String(e))}catch(r){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new pa(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(i0(e,pa._jsonSchema))return pa.fromBase64String(e.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:$r("string",pa._jsonSchemaVersion),bytes:$r("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:To._jsonSchemaVersion}}static fromJSON(e){if(i0(e,To._jsonSchema))return new To(e.latitude,e.longitude)}}To._jsonSchemaVersion="firestore/geoPoint/1.0",To._jsonSchema={type:$r("string",To._jsonSchemaVersion),latitude:$r("number"),longitude:$r("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(i0(e,Io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Io(e.vectorValues);throw new Ee(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Io._jsonSchemaVersion="firestore/vectorValue/1.0",Io._jsonSchema={type:$r("string",Io._jsonSchemaVersion),vectorValues:$r("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bce=/^__.*__$/;class zce{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new rc(e,this.data,this.fieldMask,r,this.fieldTransforms):new a0(e,this.data,r,this.fieldTransforms)}}class eL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new rc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function tL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class aC{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tL(this.Ac)&&Bce.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uce{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||sy(e)}Cc(e,r,n,i=!1){return new aC({Ac:e,methodName:r,Dc:n,path:Pn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d0(t){const e=t._freezeSettings(),r=sy(t._databaseId);return new Uce(t._databaseId,!!e.ignoreUndefinedProperties,r)}function oC(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);cC("Data must be an object, but it was:",o,n);const s=iL(n,o);let c,f;if(a.merge)c=new Ui(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const v=Y_(e,p,r);if(!o.contains(v))throw new Ee(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oL(d,v)||d.push(v)}c=new Ui(d),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new zce(new xi(s),c,f)}class fy extends f0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fy}}class sC extends f0{_toFieldTransform(e){return new y7(e.path,new Tp)}isEqual(e){return e instanceof sC}}class lC extends f0{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new Rp(e.serializer,h7(e.serializer,this.Fc));return new y7(e.path,r)}isEqual(e){return e instanceof lC&&this.Fc===e.Fc}}function rL(t,e,r,n){const i=t.Cc(1,e,r);cC("Data must be an object, but it was:",i,n);const a=[],o=xi.empty();tc(n,((c,f)=>{const d=uC(e,c,r);f=Bt(f);const p=i.yc(d);if(f instanceof fy)a.push(d);else{const v=h0(f,p);v!=null&&(a.push(d),o.set(d,v))}}));const s=new Ui(a);return new eL(o,s,i.fieldTransforms)}function nL(t,e,r,n,i,a){const o=t.Cc(1,e,r),s=[Y_(e,n,r)],c=[i];if(a.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)s.push(Y_(e,a[v])),c.push(a[v+1]);const f=[],d=xi.empty();for(let v=s.length-1;v>=0;--v)if(!oL(f,s[v])){const y=s[v];let _=c[v];_=Bt(_);const b=o.yc(y);if(_ instanceof fy)f.push(y);else{const A=h0(_,b);A!=null&&(f.push(y),d.set(y,A))}}const p=new Ui(f);return new eL(d,p,o.fieldTransforms)}function Fce(t,e,r,n=!1){return h0(r,t.Cc(n?4:3,e))}function h0(t,e){if(aL(t=Bt(t)))return cC("Unsupported field value:",e,t),iL(t,e);if(t instanceof f0)return(function(n,i){if(!tL(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const s of n){let c=h0(s,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return h7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Yt.fromDate(n);return{timestampValue:Fv(i.serializer,a)}}if(n instanceof Yt){const a=new Yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fv(i.serializer,a)}}if(n instanceof To)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pa)return{bytesValue:E7(i.serializer,n._byteString)};if(n instanceof xr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:FS(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Io)return(function(o,s){return{mapValue:{fields:{[Qj]:{stringValue:Zj},[Bv]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw s.Sc("VectorValues must only contain numeric values.");return BS(s.serializer,f)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Xm(n)}`)})(t,e)}function iL(t,e){const r={};return qj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tc(t,((n,i)=>{const a=h0(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function aL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof To||t instanceof pa||t instanceof xr||t instanceof f0||t instanceof Io)}function cC(t,e,r){if(!aL(r)||!Hj(r)){const n=Xm(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Y_(t,e,r){if((e=Bt(e))instanceof u0)return e._internalPath;if(typeof e=="string")return uC(t,e);throw Gv("Field path arguments must be of type string or ",t,!1,void 0,r)}const Vce=new RegExp("[~\\*/\\[\\]]");function uC(t,e,r){if(e.search(Vce)>=0)throw Gv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new u0(...e.split("."))._internalPath}catch{throw Gv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Gv(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Ee(ue.INVALID_ARGUMENT,s+t+c)}function oL(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hce extends sL{data(){return super.data()}}function dy(t,e){return typeof e=="string"?uC(t,e):e instanceof u0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fC{}class dC extends fC{}function ft(t,e,...r){let n=[];e instanceof fC&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof hC)).length,s=a.filter((c=>c instanceof hy)).length;if(o>1||o>0&&s>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class hy extends dC{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new hy(e,r,n)}_apply(e){const r=this._parse(e);return cL(e._query,r),new Rs(e.firestore,e.converter,z_(e._query,r))}_parse(e){const r=d0(e.firestore);return(function(a,o,s,c,f,d,p){let v;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WP(p,d);const _=[];for(const b of p)_.push(GP(c,a,b));v={arrayValue:{values:_}}}else v=GP(c,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WP(p,d),v=Fce(s,o,p,d==="in"||d==="not-in");return Vr.create(f,d,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function fr(t,e,r){const n=e,i=dy("where",t);return hy._create(i,n,r)}class hC extends fC{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new hC(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Wa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const s=a.getFlattenedFilters();for(const c of s)cL(o,c),o=z_(o,c)})(e._query,r),new Rs(e.firestore,e.converter,z_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pC extends dC{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new pC(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cp(a,o)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new md(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function dr(t,e="asc"){const r=e,n=dy("orderBy",t);return pC._create(n,r)}class gC extends dC{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new gC(e,r,n)}_apply(e){return new Rs(e.firestore,e.converter,Uv(e._query,this._limit,this._limitType))}}function wa(t){return Qoe("limit",t),gC._create("limit",t,"F")}function GP(t,e,r){if(typeof(r=Bt(r))=="string"){if(r==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o7(e)&&r.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Kt.fromString(r));if(!je.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lP(t,new je(n))}if(r instanceof xr)return lP(t,r._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(r)}.`)}function WP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cL(t,e){const r=(function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $ce{convertValue(e,r="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return tc(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[Bv].arrayValue?.values?.map((n=>Rr(n.doubleValue)));return new Io(r)}convertGeoPoint(e){return new To(Rr(e.latitude),Rr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Jm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ap(e));default:return null}}convertTimestamp(e){const r=ql(e);return new Yt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Kt.fromString(e);Rt(R7(n),9688,{name:e});const i=new Ep(n.get(1),n.get(3)),a=new je(n.popFirst(5));return i.isEqual(r)||ws(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Gh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends sL{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new z1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=eu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",eu._jsonSchema={type:$r("string",eu._jsonSchemaVersion),bundleSource:$r("string","DocumentSnapshot"),bundleName:$r("string"),bundle:$r("string")};class z1 extends eu{data(e={}){return super.data(e)}}class tu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Gh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new z1(this._firestore,this._userDataWriter,n.key,n,new Gh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((s=>{const c=new z1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>a||s.type!==3)).map((s=>{const c=new z1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return s.type!==0&&(f=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:qce(s.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){t=ai(t,xr);const e=ai(t.firestore,No);return Nce(c0(e),t._key).then((r=>uL(e,t,r)))}tu._jsonSchemaVersion="firestore/querySnapshot/1.0",tu._jsonSchema={type:$r("string",tu._jsonSchemaVersion),bundleSource:$r("string","QuerySnapshot"),bundleName:$r("string"),bundle:$r("string")};class mC extends $ce{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,r)}}function gt(t){t=ai(t,Rs);const e=ai(t.firestore,No),r=c0(e),n=new mC(e);return lL(t._query),kce(r,t._query).then((i=>new tu(e,n,t,i)))}function Bo(t,e,r){t=ai(t,xr);const n=ai(t.firestore,No),i=vC(t.converter,e,r);return p0(n,[oC(d0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,oi.none())])}function Zt(t,e,r,...n){t=ai(t,xr);const i=ai(t.firestore,No),a=d0(i);let o;return o=typeof(e=Bt(e))=="string"||e instanceof u0?nL(a,"updateDoc",t._key,e,r,n):rL(a,"updateDoc",t._key,e),p0(i,[o.toMutation(t._key,oi.exists(!0))])}function Gi(t){return p0(ai(t.firestore,No),[new ay(t._key,oi.none())])}function Iu(t,e){const r=ai(t.firestore,No),n=Oe(t),i=vC(t.converter,e);return p0(r,[oC(d0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,oi.exists(!1))]).then((()=>n))}function Ps(t,...e){t=Bt(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||qP(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(qP(e[n])){const c=e[n];e[n]=c.next?.bind(c),e[n+1]=c.error?.bind(c),e[n+2]=c.complete?.bind(c)}let a,o,s;if(t instanceof xr)o=ai(t.firestore,No),s=ey(t._key.path),a={next:c=>{e[n]&&e[n](uL(o,t,c))},error:e[n+1],complete:e[n+2]};else{const c=ai(t,Rs);o=ai(c.firestore,No),s=c._query;const f=new mC(o);a={next:d=>{e[n]&&e[n](new tu(o,f,c,d))},error:e[n+1],complete:e[n+2]},lL(t._query)}return(function(f,d,p,v){const y=new iC(v),_=new tC(d,y,p);return f.asyncQueue.enqueueAndForget((async()=>ZS(await qv(f),_))),()=>{y.Nu(),f.asyncQueue.enqueueAndForget((async()=>JS(await qv(f),_)))}})(c0(o),s,i,a)}function p0(t,e){return(function(n,i){const a=new hs;return n.asyncQueue.enqueueAndForget((async()=>wce(await Dce(n),i,a))),a.promise})(c0(t),e)}function uL(t,e,r){const n=r.docs.get(e._key),i=new mC(t);return new eu(t,i,e._key,n,new Gh(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=d0(e)}set(e,r,n){this._verifyNotCommitted();const i=vw(e,this._firestore),a=vC(i.converter,r,n),o=oC(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,oi.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=vw(e,this._firestore);let o;return o=typeof(r=Bt(r))=="string"||r instanceof u0?nL(this._dataReader,"WriteBatch.update",a._key,r,n,i):rL(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=vw(e,this._firestore);return this._mutations=this._mutations.concat(new ay(r._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vw(t,e){if((t=Bt(t)).firestore!==e)throw new Ee(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Wce(){return new sC("serverTimestamp")}function si(t){return new lC("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){return c0(t=ai(t,No)),new Gce(t,(e=>p0(t,e)))}(function(e,r=!0){(function(i){pd=i})(Su),Hl(new xs("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new No(new Voe(n.getProvider("auth-internal")),new qoe(o,n.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ep(f.options.projectId,d)})(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),ma(YR,XR,e),ma(YR,XR,"esm2020")})();var Kce="firebase",Yce="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(Kce,Yce,"app");function fL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xce=fL,dL=new t0("auth","Firebase",fL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new OS("@firebase/auth");function Qce(t,...e){Wv.logLevel<=lt.WARN&&Wv.warn(`Auth (${Su}): ${t}`,...e)}function U1(t,...e){Wv.logLevel<=lt.ERROR&&Wv.error(`Auth (${Su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,...e){throw xC(t,...e)}function Ga(t,...e){return xC(t,...e)}function yC(t,e,r){const n={...Xce(),[e]:r};return new t0("auth","Firebase",n).create(e,{appName:t.name})}function ps(t){return yC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zce(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&_a(t,"argument-error"),yC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return dL.create(t,...e)}function Fe(t,e,...r){if(!t)throw xC(e,...r)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw U1(e),new Error(e)}function As(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){return typeof self<"u"&&self.location?.href||""}function Jce(){return KP()==="http:"||KP()==="https:"}function KP(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jce()||xae()||"connection"in navigator)?navigator.onLine:!0}function tue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r){this.shortDelay=e,this.longDelay=r,As(r>e,"Short delay should be less than long delay!"),this.isMobile=vae()||bae()}get(){return eue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){As(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iue=new g0(3e4,6e4);function nc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ds(t,e,r,n,i={}){return pL(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=r0({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return yae()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(f.credentials="include"),hL.fetch()(await gL(t,t.config.apiHost,r,s),f)})}async function pL(t,e,r){t._canInitEmulator=!1;const n={...rue,...e};try{const i=new oue(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw x1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[c,f]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw x1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw x1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw x1(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yC(t,d,f);_a(t,d)}}catch(i){if(i instanceof Xa)throw i;_a(t,"network-request-failed",{message:String(i)})}}async function v0(t,e,r,n,i={}){const a=await Ds(t,e,r,n,i);return"mfaPendingCredential"in a&&_a(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function gL(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?bC(t.config,i):`${t.config.apiScheme}://${i}`;return nue.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function aue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ga(this.auth,"network-request-failed")),iue.get())})}}function x1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ga(t,e,n);return i.customData._tokenResponse=r,i}function YP(t){return t!==void 0&&t.enterprise!==void 0}class sue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return aue(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lue(t,e){return Ds(t,"GET","/v2/recaptchaConfig",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cue(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function Kv(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uue(t,e=!1){const r=Bt(t),n=await r.getIdToken(e),i=wC(n);Fe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:ip(mw(i.auth_time)),issuedAtTime:ip(mw(i.iat)),expirationTime:ip(mw(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function mw(t){return Number(t)*1e3}function wC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return U1("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ej(r);return i?JSON.parse(i):(U1("Failed to decode base64 JWT payload"),null)}catch(i){return U1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XP(t){const e=wC(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Xa&&fue(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function fue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ip(this.lastLoginAt),this.creationTime=ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(t){const e=t.auth,r=await t.getIdToken(),n=await Zf(t,Kv(e,{idToken:r}));Fe(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?vL(i.providerUserInfo):[],o=pue(t.providerData,a),s=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=s?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Q_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function hue(t){const e=Bt(t);await Yv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pue(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function vL(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gue(t,e){const r=await pL(t,{},async()=>{const n=r0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await gL(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:s,body:n};return t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(c.credentials="include"),hL.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function vue(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const r=XP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await gue(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Pf;return n&&(Fe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qa{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new due(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Zf(this,this.stsTokenManager.getToken(this.auth,e));return Fe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return uue(this,e)}reload(){return hue(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Zf(this,cue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,s=r.tenantId??void 0,c=r._redirectEventId??void 0,f=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:y,providerData:_,stsTokenManager:b}=r;Fe(p&&b,e,"internal-error");const A=Pf.fromJSON(this.name,b);Fe(typeof p=="string",e,"internal-error"),pl(n,e.name),pl(i,e.name),Fe(typeof v=="boolean",e,"internal-error"),Fe(typeof y=="boolean",e,"internal-error"),pl(a,e.name),pl(o,e.name),pl(s,e.name),pl(c,e.name),pl(f,e.name),pl(d,e.name);const S=new qa({uid:p,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:A,createdAt:f,lastLoginAt:d});return _&&Array.isArray(_)&&(S.providerData=_.map(T=>({...T}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Pf;i.updateFromServerResponse(r);const a=new qa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Yv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new Pf;s.updateFromIdToken(n);const c=new qa({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Q_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Map;function us(t){As(t instanceof Function,"Expected a class definition");let e=QP.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}mL.type="NONE";const ZP=mL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e,r){return`firebase:${t}:${e}:${r}`}class Df{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=F1(this.userKey,i.apiKey,a),this.fullPersistenceKey=F1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Kv(this.auth,{idToken:e}).catch(()=>{});return r?qa._fromGetAccountInfoResponse(this.auth,r,e):null}return qa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Df(us(ZP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||us(ZP);const o=F1(n,e.config.apiKey,e.name);let s=null;for(const f of r)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const v=await Kv(e,{idToken:d}).catch(()=>{});if(!v)break;p=await qa._fromGetAccountInfoResponse(e,v,d)}else p=qa._fromJSON(e,d);f!==a&&(s=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Df(a,e,n):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Df(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AL(e))return"Blackberry";if(EL(e))return"Webos";if(xL(e))return"Safari";if((e.includes("chrome/")||bL(e))&&!e.includes("edge/"))return"Chrome";if(_L(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function yL(t=Gn()){return/firefox\//i.test(t)}function xL(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bL(t=Gn()){return/crios\//i.test(t)}function wL(t=Gn()){return/iemobile/i.test(t)}function _L(t=Gn()){return/android/i.test(t)}function AL(t=Gn()){return/blackberry/i.test(t)}function EL(t=Gn()){return/webos/i.test(t)}function _C(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mue(t=Gn()){return _C(t)&&!!window.navigator?.standalone}function yue(){return wae()&&document.documentMode===10}function SL(t=Gn()){return _C(t)||_L(t)||EL(t)||AL(t)||/windows phone/i.test(t)||wL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e=[]){let r;switch(t){case"Browser":r=JP(Gn());break;case"Worker":r=`${JP(Gn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Su}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const c=e(a);o(c)}catch(c){s(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bue(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",nc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=6;class _ue{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??wue,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aue{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e5(this),this.idTokenSubscription=new e5(this),this.beforeStateQueue=new xue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=us(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Df.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Kv(this,{idToken:e}),n=await qa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!a||a===o)&&s?.user&&(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yv(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(ps(this));const r=e?Bt(e):null;return r&&Fe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bue(this),r=new _ue(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new t0("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await vue(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&us(e)||this._popupRedirectResolver;Fe(r,this,"argument-error"),this.redirectPersistenceManager=await Df.create(this,[us(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Qce(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ic(t){return Bt(t)}class e5{constructor(e){this.auth=e,this.observer=null,this.addObserver=Oae(r=>this.observer=r)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Eue(t){gy=t}function TL(t){return gy.loadJS(t)}function Sue(){return gy.recaptchaEnterpriseScript}function Cue(){return gy.gapiScript}function Tue(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Iue{constructor(){this.enterprise=new Oue}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Oue{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Rue="recaptcha-enterprise",IL="NO_RECAPTCHA";class Pue{constructor(e){this.type=Rue,this.auth=ic(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{lue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const f=new sue(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{s(c)})})}function i(a,o,s){const c=window.grecaptcha;YP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(IL)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Iue().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&YP(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Sue();c.length!==0&&(c+=s),TL(c).then(()=>{i(s,a,o)}).catch(f=>{o(f)})}}).catch(s=>{o(s)})})}}async function t5(t,e,r,n=!1,i=!1){const a=new Pue(t);let o;if(i)o=IL;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const c=s.phoneEnrollmentInfo.phoneNumber,f=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const c=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Z_(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await t5(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await t5(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(t,e){const r=n0(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(fu(a,e??{}))return i;_a(i,"already-initialized")}return r.initialize({options:e})}function Nue(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(us);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function kue(t,e,r){const n=ic(t);Fe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=OL(e),{host:o,port:s}=Mue(e),c=s===null?"":`:${s}`,f={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Fe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Fe(fu(f,n.config.emulator)&&fu(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Lo(o)?(Wm(`${a}//${o}${c}`),Km("Auth",!0)):jue()}function OL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mue(t){const e=OL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:r5(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:r5(o)}}}function r5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jue(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,r){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function Lue(t,e){return Ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bue(t,e){return v0(t,"POST","/v1/accounts:signInWithPassword",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zue(t,e){return v0(t,"POST","/v1/accounts:signInWithEmailLink",nc(t,e))}async function Uue(t,e){return v0(t,"POST","/v1/accounts:signInWithEmailLink",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends AC{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Pp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,r,"signInWithPassword",Bue);case"emailLink":return zue(e,{email:this._email,oobCode:this._password});default:_a(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,n,"signUpPassword",Lue);case"emailLink":return Uue(e,{idToken:r,email:this._email,oobCode:this._password});default:_a(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t,e){return v0(t,"POST","/v1/accounts:signInWithIdp",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fue="http://localhost";class pu extends AC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new pu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_a("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new pu(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Nf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Nf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Nf(e,r)}buildRequest(){const e={requestUri:Fue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=r0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hue(t){const e=Fh(Vh(t)).link,r=e?Fh(Vh(e)).deep_link_id:null,n=Fh(Vh(t)).deep_link_id;return(n?Fh(Vh(n)).link:null)||n||r||e||t}class EC{constructor(e){const r=Fh(Vh(e)),n=r.apiKey??null,i=r.oobCode??null,a=Vue(r.mode??null);Fe(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Hue(e);try{return new EC(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.providerId=xd.PROVIDER_ID}static credential(e,r){return Pp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=EC.parseLink(r);return Fe(n,"argument-error"),Pp._fromEmailAndCode(e,n.code,n.tenantId)}}xd.PROVIDER_ID="password";xd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends SC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends m0{constructor(){super("facebook.com")}static credential(e){return pu._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.FACEBOOK_SIGN_IN_METHOD="facebook.com";Al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends m0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return pu._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return os.credential(r,n)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends m0{constructor(){super("github.com")}static credential(e){return pu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return El.credential(e.oauthAccessToken)}catch{return null}}}El.GITHUB_SIGN_IN_METHOD="github.com";El.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends m0{constructor(){super("twitter.com")}static credential(e,r){return pu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Sl.credential(r,n)}catch{return null}}}Sl.TWITTER_SIGN_IN_METHOD="twitter.com";Sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ue(t,e){return v0(t,"POST","/v1/accounts:signUp",nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await qa._fromIdTokenResponse(e,n,i),o=n5(n);return new gu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=n5(n);return new gu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function n5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Xa{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xv(e,r,n,i)}}function RL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xv._fromErrorAndOperation(t,a,e,n):a})}async function que(t,e,r=!1){const n=await Zf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return gu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gue(t,e,r=!1){const{auth:n}=t;if(ri(n.app))return Promise.reject(ps(n));const i="reauthenticate";try{const a=await Zf(t,RL(n,i,e,t),r);Fe(a.idToken,n,"internal-error");const o=wC(a.idToken);Fe(o,n,"internal-error");const{sub:s}=o;return Fe(t.uid===s,n,"user-mismatch"),gu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&_a(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e,r=!1){if(ri(t.app))return Promise.reject(ps(t));const n="signIn",i=await RL(t,n,e),a=await gu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Wue(t,e){return PL(ic(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t){const e=ic(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kue(t,e,r){if(ri(t.app))return Promise.reject(ps(t));const n=ic(t),o=await Z_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$ue).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&DL(t),c}),s=await gu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function Yue(t,e,r){return ri(t.app)?Promise.reject(ps(t)):Wue(Bt(t),xd.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&DL(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xue(t,e){return Ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Bt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Zf(n,Xue(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:c})=>c==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Que(t,e,r,n){return Bt(t).onIdTokenChanged(e,r,n)}function Zue(t,e,r){return Bt(t).beforeAuthStateChanged(e,r)}function Jue(t,e,r,n){return Bt(t).onAuthStateChanged(e,r,n)}function efe(t){return Bt(t).signOut()}const Qv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qv,"1"),this.storage.removeItem(Qv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tfe=1e3,rfe=10;class ML extends kL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);yue()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rfe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},tfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}ML.type="LOCAL";const nfe=ML;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL extends kL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jL.type="SESSION";const LL=jL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ife(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new vy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async f=>f(r.origin,a)),c=await ife(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,c)=>{const f=CC("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(v.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return window}function ofe(t){Oo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){return typeof Oo().WorkerGlobalScope<"u"&&typeof Oo().importScripts=="function"}async function sfe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lfe(){return navigator?.serviceWorker?.controller||null}function cfe(){return BL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebaseLocalStorageDb",ufe=1,Zv="firebaseLocalStorage",UL="fbase_key";class y0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function my(t,e){return t.transaction([Zv],e?"readwrite":"readonly").objectStore(Zv)}function ffe(){const t=indexedDB.deleteDatabase(zL);return new y0(t).toPromise()}function J_(){const t=indexedDB.open(zL,ufe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zv,{keyPath:UL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zv)?e(n):(n.close(),await ffe(),e(await J_()))})})}async function i5(t,e,r){const n=my(t,!0).put({[UL]:e,value:r});return new y0(n).toPromise()}async function dfe(t,e){const r=my(t,!1).get(e),n=await new y0(r).toPromise();return n===void 0?null:n.value}function a5(t,e){const r=my(t,!0).delete(e);return new y0(r).toPromise()}const hfe=800,pfe=3;class FL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>pfe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vy._getInstance(cfe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sfe(),!this.activeServiceWorker)return;this.sender=new afe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lfe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J_();return await i5(e,Qv,"1"),await a5(e,Qv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>i5(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>dfe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>a5(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=my(i,!1).getAll();return new y0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FL.type="LOCAL";const gfe=FL;new g0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){return e?us(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends AC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Nf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Nf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function vfe(t){return PL(t.auth,new TC(t),t.bypassAuthState)}function mfe(t){const{auth:e,user:r}=t;return Fe(r,e,"internal-error"),Gue(r,new TC(t),t.bypassAuthState)}async function yfe(t){const{auth:e,user:r}=t;return Fe(r,e,"internal-error"),que(r,new TC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vfe;case"linkViaPopup":case"linkViaRedirect":return yfe;case"reauthViaPopup":case"reauthViaRedirect":return mfe;default:_a(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=new g0(2e3,1e4);async function bfe(t,e,r){if(ri(t.app))return Promise.reject(Ga(t,"operation-not-supported-in-this-environment"));const n=ic(t);Zce(t,e,SC);const i=VL(n,r);return new Wc(n,"signInViaPopup",e,i).executeNotNull()}class Wc extends HL{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=CC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xfe.get())};e()}}Wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wfe="pendingRedirect",V1=new Map;class _fe extends HL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=V1.get(this.auth._key());if(!e){try{const n=await Afe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}V1.set(this.auth._key(),e)}return this.bypassAuthState||V1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Afe(t,e){const r=Cfe(e),n=Sfe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Efe(t,e){V1.set(t._key(),e)}function Sfe(t){return us(t._redirectPersistence)}function Cfe(t){return F1(wfe,t.config.apiKey,t.name)}async function Tfe(t,e,r=!1){if(ri(t.app))return Promise.reject(ps(t));const n=ic(t),i=VL(n,e),o=await new _fe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife=600*1e3;class Ofe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rfe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!$L(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ga(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ife&&this.cachedEventUids.clear(),this.cachedEventUids.has(o5(e))}saveEventToCache(e){this.cachedEventUids.add(o5(e)),this.lastProcessedEventTime=Date.now()}}function o5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $L({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Rfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $L(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pfe(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nfe=/^https?/;async function kfe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pfe(t);for(const r of e)try{if(Mfe(r))return}catch{}_a(t,"unauthorized-domain")}function Mfe(t){const e=X_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Nfe.test(r))return!1;if(Dfe.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jfe=new g0(3e4,6e4);function s5(){const t=Oo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Lfe(t){return new Promise((e,r)=>{function n(){s5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s5(),r(Ga(t,"network-request-failed"))},timeout:jfe.get()})}if(Oo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oo().gapi?.load)n();else{const i=Tue("iframefcb");return Oo()[i]=()=>{gapi.load?n():r(Ga(t,"network-request-failed"))},TL(`${Cue()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw H1=null,e})}let H1=null;function Bfe(t){return H1=H1||Lfe(t),H1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe=new g0(5e3,15e3),Ufe="__/auth/iframe",Ffe="emulator/auth/iframe",Vfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $fe(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?bC(e,Ffe):`https://${t.config.authDomain}/${Ufe}`,n={apiKey:e.apiKey,appName:t.name,v:Su},i=Hfe.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${r0(n).slice(1)}`}async function qfe(t){const e=await Bfe(t),r=Oo().gapi;return Fe(r,t,"internal-error"),e.open({where:document.body,url:$fe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vfe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ga(t,"network-request-failed"),s=Oo().setTimeout(()=>{a(o)},zfe.get());function c(){Oo().clearTimeout(s),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wfe=500,Kfe=600,Yfe="_blank",Xfe="http://localhost";class l5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qfe(t,e,r,n=Wfe,i=Kfe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const c={...Gfe,width:n.toString(),height:i.toString(),top:a,left:o},f=Gn().toLowerCase();r&&(s=bL(f)?Yfe:r),yL(f)&&(e=e||Xfe,c.scrollbars="yes");const d=Object.entries(c).reduce((v,[y,_])=>`${v}${y}=${_},`,"");if(mue(f)&&s!=="_self")return Zfe(e||"",s),new l5(null);const p=window.open(e||"",s,d);Fe(p,t,"popup-blocked");try{p.focus()}catch{}return new l5(p)}function Zfe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe="__/auth/handler",ede="emulator/auth/handler",tde=encodeURIComponent("fac");async function c5(t,e,r,n,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Su,eventId:i};if(e instanceof SC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Iae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof m0){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const c=await t._getAppCheckToken(),f=c?`#${tde}=${encodeURIComponent(c)}`:"";return`${rde(t)}?${r0(s).slice(1)}${f}`}function rde({config:t}){return t.emulator?bC(t,ede):`https://${t.authDomain}/${Jfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="webStorageSupport";class nde{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LL,this._completeRedirectFn=Tfe,this._overrideRedirectResult=Efe}async _openPopup(e,r,n,i){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await c5(e,r,n,X_(),i);return Qfe(e,a,CC())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await c5(e,r,n,X_(),i);return ofe(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(As(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await qfe(e),n=new Ofe(e);return r.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(yw,{type:yw},i=>{const a=i?.[0]?.[yw];a!==void 0&&r(!!a),_a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=kfe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return SL()||xL()||_C()}}const ide=nde;var u5="@firebase/auth",f5="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ode(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sde(t){Hl(new xs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CL(t)},f=new Aue(n,i,a,c);return Nue(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Hl(new xs("auth-internal",e=>{const r=ic(e.getProvider("auth").getImmediate());return(n=>new ade(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(u5,f5,ode(t)),ma(u5,f5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=300,cde=Tj("authIdTokenMaxAge")||lde;let d5=null;const ude=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>cde)return;const i=r?.token;d5!==i&&(d5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fde(t=Ym()){const e=n0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Due(t,{popupRedirectResolver:ide,persistence:[gfe,nfe,LL]}),n=Tj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=ude(a.toString());Zue(r,o,()=>o(r.currentUser)),Que(r,s=>o(s))}}const i=Sj("auth");return i&&kue(r,`http://${i}`),r}function dde(){return document.getElementsByTagName("head")?.[0]??document}Eue({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ga("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",dde().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sde("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hde="type.googleapis.com/google.protobuf.Int64Value",pde="type.googleapis.com/google.protobuf.UInt64Value";function qL(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function Jv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jv(e));if(typeof t=="function"||typeof t=="object")return qL(t,e=>Jv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Jf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case hde:case pde:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Jf(e)):typeof t=="function"||typeof t=="object"?qL(t,e=>Jf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ii extends Xa{constructor(e,r,n){super(`${IC}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,ii.prototype)}}function gde(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function em(t,e){let r=gde(t),n=r,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!h5[o])return new ii("internal","internal");r=h5[o],n=o}const s=a.message;typeof s=="string"&&(n=s),i=a.details,i!==void 0&&(i=Jf(i))}}catch{}return r==="ok"?null:new ii(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ri(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="us-central1",mde=/^data: (.*?)(?:\n|$)/;function yde(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new ii("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class xde{constructor(e,r,n,i,a=eA,o=(...s)=>fetch(...s)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new vde(e,r,n,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=eA}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function bde(t,e,r){const n=Lo(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(Wm(t.emulatorOrigin+"/backends"),Km("Functions",!0))}function wde(t,e,r){const n=i=>Ade(t,e,i,r||{});return n.stream=(i,a)=>Sde(t,e,i,a),n}function GL(t){return t.emulatorOrigin&&Lo(t.emulatorOrigin)?"include":void 0}async function _de(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:GL(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function WL(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function Ade(t,e,r,n){const i=t._url(e);return Ede(t,i,r,n)}async function Ede(t,e,r,n){r=Jv(r);const i={data:r},a=await WL(t,n),o=n.timeout||7e4,s=yde(o),c=await Promise.race([_de(e,i,a,t.fetchImpl,t),s.promise,t.cancelAllRequests]);if(s.cancel(),!c)throw new ii("cancelled","Firebase Functions instance was deleted.");const f=em(c.status,c.json);if(f)throw f;if(!c.json)throw new ii("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new ii("internal","Response is missing data field.");return{data:Jf(d)}}function Sde(t,e,r,n){const i=t._url(e);return Cde(t,i,r,n||{})}async function Cde(t,e,r,n){r=Jv(r);const i={data:r},a=await WL(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:GL(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const _=new ii("cancelled","Request was cancelled.");return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}const y=em(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let s,c;const f=new Promise((v,y)=>{s=v,c=y});n?.signal?.addEventListener("abort",()=>{const v=new ii("cancelled","Request was cancelled.");c(v)});const d=o.body.getReader(),p=Tde(d,s,c,n?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:y,done:_}=await v.read();return{value:y,done:_}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function Tde(t,e,r,n){const i=(o,s)=>{const c=o.match(mde);if(!c)return;const f=c[1];try{const d=JSON.parse(f);if("result"in d){e(Jf(d.result));return}if("message"in d){s.enqueue(Jf(d.message));return}if("error"in d){const p=em(0,d);s.error(p),r(p);return}}catch(d){if(d instanceof ii){s.error(d),r(d);return}}},a=new TextDecoder;return new ReadableStream({start(o){let s="";return c();async function c(){if(n?.aborted){const f=new ii("cancelled","Request was cancelled");return o.error(f),r(f),Promise.resolve()}try{const{value:f,done:d}=await t.read();if(d){s.trim()&&i(s.trim(),o),o.close();return}if(n?.aborted){const v=new ii("cancelled","Request was cancelled");o.error(v),r(v),await t.cancel();return}s+=a.decode(f,{stream:!0});const p=s.split(`
`);s=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return c()}catch(f){const d=f instanceof ii?f:em(0,null);o.error(d),r(d)}}},cancel(){return t.cancel()}})}const p5="@firebase/functions",g5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ide="auth-internal",Ode="app-check-internal",Rde="messaging-internal";function Pde(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(Ide),o=r.getProvider(Rde),s=r.getProvider(Ode);return new xde(i,a,o,s,n)};Hl(new xs(IC,e,"PUBLIC").setMultipleInstances(!0)),ma(p5,g5,t),ma(p5,g5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t=Ym(),e=eA){const n=n0(Bt(t),IC).getImmediate({identifier:e}),i=IS("functions");return i&&KL(n,...i),n}function KL(t,e,r){bde(Bt(t),e,r)}function tA(t,e,r){return wde(Bt(t),e,r)}Pde();const RC=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:ii,connectFunctionsEmulator:KL,getFunctions:OC,httpsCallable:tA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="firebasestorage.googleapis.com",XL="storageBucket",Dde=120*1e3,Nde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Xa{constructor(e,r,n=0){super(xw(e),`Firebase Storage: ${r} (${xw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function xw(t){return"storage/"+t}function PC(){const t="An unknown error occurred, please check the error payload for server response.";return new wr(br.UNKNOWN,t)}function kde(t){return new wr(br.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Mde(t){return new wr(br.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jde(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wr(br.UNAUTHENTICATED,t)}function Lde(){return new wr(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Bde(t){return new wr(br.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zde(){return new wr(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ude(){return new wr(br.CANCELED,"User canceled the upload/download.")}function Fde(t){return new wr(br.INVALID_URL,"Invalid URL '"+t+"'.")}function Vde(t){return new wr(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Hde(){return new wr(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XL+"' property when initializing the app?")}function $de(){return new wr(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qde(){return new wr(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Gde(t){return new wr(br.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rA(t){return new wr(br.INVALID_ARGUMENT,t)}function QL(){return new wr(br.APP_DELETED,"The Firebase app was deleted.")}function Wde(t){return new wr(br.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ap(t,e){return new wr(br.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nh(t){throw new wr(br.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Fi.makeFromUrl(e,r)}catch{return new Fi(e,"")}if(n.path==="")return n;throw Vde(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function f(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${v}`,"i"),_={bucket:1,path:3},b=r===YL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,A="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${A}`,"i"),O=[{regex:s,indices:c,postModify:a},{regex:y,indices:_,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let N=0;N<O.length;N++){const M=O[N],L=M.regex.exec(e);if(L){const R=L[M.indices.bucket];let D=L[M.indices.path];D||(D=""),n=new Fi(R,D),M.postModify(n);break}}if(n==null)throw Fde(e);return n}}class Kde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yde(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let f=!1;function d(...A){f||(f=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(y,c())},A)}function v(){a&&clearTimeout(a)}function y(A,...S){if(f){v();return}if(A){v(),d.call(null,A,...S);return}if(c()||o){v(),d.call(null,A,...S);return}n<64&&(n*=2);let O;s===1?(s=2,O=0):O=(n+Math.random())*1e3,p(O)}let _=!1;function b(A){_||(_=!0,v(),!f&&(i!==null?(A||(s=2),clearTimeout(i),p(0)):A||(s=1)))}return p(0),a=setTimeout(()=>{o=!0,b(!0)},r),b}function Xde(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(t){return t!==void 0}function Zde(t){return typeof t=="object"&&!Array.isArray(t)}function DC(t){return typeof t=="string"||t instanceof String}function v5(t){return NC()&&t instanceof Blob}function NC(){return typeof Blob<"u"}function m5(t,e,r,n){if(n<e)throw rA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw rA(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function ZL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ru||(ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jde(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e,r,n,i,a,o,s,c,f,d,p,v=!0,y=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,b)=>{this.resolve_=_,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new b1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const c=s.loaded,f=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===ru.NO_ERROR,c=a.getStatus();if(!s||Jde(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===ru.ABORT;n(!1,new b1(!1,null,d));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new b1(f,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());Qde(c)?a(c):a()}catch(c){o(c)}else if(s!==null){const c=PC();c.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,c)):o(c)}else if(i.canceled){const c=this.appDelete_?QL():Ude();o(c)}else{const c=zde();o(c)}};this.canceled_?r(!1,new b1(!1,null,!0)):this.backoffId_=Yde(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xde(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class b1{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function the(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rhe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nhe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ihe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ahe(t,e,r,n,i,a,o=!0,s=!1){const c=ZL(t.urlParams),f=t.url+c,d=Object.assign({},t.headers);return nhe(d,e),the(d,r),rhe(d,a),ihe(d,n),new ehe(f,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ohe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function she(...t){const e=ohe();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(NC())return new Blob(t);throw new wr(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lhe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t){if(typeof atob>"u")throw Gde("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bw{constructor(e,r){this.data=e,this.contentType=r||null}}function uhe(t,e){switch(t){case _o.RAW:return new bw(JL(e));case _o.BASE64:case _o.BASE64URL:return new bw(eB(t,e));case _o.DATA_URL:return new bw(dhe(e),hhe(e))}throw PC()}function JL(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function fhe(t){let e;try{e=decodeURIComponent(t)}catch{throw ap(_o.DATA_URL,"Malformed data URL.")}return JL(e)}function eB(t,e){switch(t){case _o.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw ap(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _o.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw ap(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=che(e)}catch(i){throw i.message.includes("polyfill")?i:ap(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class tB{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ap(_o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=phe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function dhe(t){const e=new tB(t);return e.base64?eB(_o.BASE64,e.rest):fhe(e.rest)}function hhe(t){return new tB(t).contentType}function phe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r){let n=0,i="";v5(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(v5(this.data_)){const n=this.data_,i=lhe(n,e,r);return i===null?null:new Cl(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Cl(n,!0)}}static getBlob(...e){if(NC()){const r=e.map(n=>n instanceof Cl?n.data_:n);return new Cl(she.apply(null,r))}else{const r=e.map(o=>DC(o)?uhe(_o.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Cl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){let e;try{e=JSON.parse(t)}catch{return null}return Zde(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ghe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vhe(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function nB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mhe(t,e){return e}class Qn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||mhe}}let w1=null;function yhe(t){return!DC(t)||t.length<2?t:nB(t)}function iB(){if(w1)return w1;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(a,o){return yhe(o)}const r=new Qn("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Qn("size");return i.xform=n,t.push(i),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),w1=t,w1}function xhe(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Fi(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function bhe(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return xhe(n,t),n}function aB(t,e,r){const n=rB(e);return n===null?null:bhe(t,n,r)}function whe(t,e,r,n){const i=rB(e);if(i===null||!DC(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),y=kC(v,r,n),_=ZL({alt:"media",token:f});return y+_})[0]}function _he(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class oB{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){if(!t)throw PC()}function Ahe(t,e){function r(n,i){const a=aB(t,i,e);return sB(a!==null),a}return r}function Ehe(t,e){function r(n,i){const a=aB(t,i,e);return sB(a!==null),whe(a,i,t.host,t._protocol)}return r}function lB(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Lde():i=jde():r.getStatus()===402?i=Mde(t.bucket):r.getStatus()===403?i=Bde(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function She(t){const e=lB(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=kde(t.path)),a.serverResponse=i.serverResponse,a}return r}function Che(t,e,r){const n=e.fullServerUrl(),i=kC(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new oB(i,a,Ehe(t,r),o);return s.errorHandler=She(e),s}function The(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ihe(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=The(null,e)),n}function Ohe(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let O="";for(let N=0;N<2;N++)O=O+Math.random().toString().slice(2);return O}const c=s();o["Content-Type"]="multipart/related; boundary="+c;const f=Ihe(e,n,i),d=_he(f,r),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+c+"--",y=Cl.getBlob(p,n,v);if(y===null)throw $de();const _={name:f.fullPath},b=kC(a,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,T=new oB(b,A,Ahe(t,r),S);return T.urlParams=_,T.headers=o,T.body=y.uploadData(),T.errorHandler=lB(e),T}class Rhe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ru.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ru.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ru.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Nh("cannot .send() more than once");if(Lo(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Phe extends Rhe{initXhr(){this.xhr_.responseType="text"}}function cB(){return new Phe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r){this._service=e,r instanceof Fi?this._location=r:this._location=Fi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new vu(e,r)}get root(){const e=new Fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nB(this._location.path)}get storage(){return this._service}get parent(){const e=ghe(this._location.path);if(e===null)return null;const r=new Fi(this._location.bucket,e);return new vu(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Wde(e)}}function Dhe(t,e,r){t._throwIfRoot("uploadBytes");const n=Ohe(t.storage,t._location,iB(),new Cl(e,!0),r);return t.storage.makeRequestWithTokens(n,cB).then(i=>({metadata:i,ref:t}))}function Nhe(t){t._throwIfRoot("getDownloadURL");const e=Che(t.storage,t._location,iB());return t.storage.makeRequestWithTokens(e,cB).then(r=>{if(r===null)throw qde();return r})}function khe(t,e){const r=vhe(t._location.path,e),n=new Fi(t._location.bucket,r);return new vu(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(t){return/^[A-Za-z]+:\/\//.test(t)}function jhe(t,e){return new vu(t,e)}function uB(t,e){if(t instanceof MC){const r=t;if(r._bucket==null)throw Hde();const n=new vu(r,r._bucket);return e!=null?uB(n,e):n}else return e!==void 0?khe(t,e):t}function Lhe(t,e){if(e&&Mhe(e)){if(t instanceof MC)return jhe(t,e);throw rA("To use ref(service, url), the first argument must be a Storage instance.")}else return uB(t,e)}function y5(t,e){const r=e?.[XL];return r==null?null:Fi.makeFromBucketSpec(r,t)}function Bhe(t,e,r,n={}){t.host=`${e}:${r}`;const i=Lo(e);i&&(Wm(`https://${t.host}/b`),Km("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:Ij(a,t.app.options.projectId))}class MC{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=YL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dde,this._maxUploadRetryTime=Nde,this._requests=new Set,i!=null?this._bucket=Fi.makeFromBucketSpec(i,this._host):this._bucket=y5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fi.makeFromBucketSpec(this._url,e):this._bucket=y5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vu(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Kde(QL());{const o=ahe(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const x5="@firebase/storage",b5="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="storage";function jC(t,e,r){return t=Bt(t),Dhe(t,e,r)}function LC(t){return t=Bt(t),Nhe(t)}function BC(t,e){return t=Bt(t),Lhe(t,e)}function zhe(t=Ym(),e){t=Bt(t);const n=n0(t,fB).getImmediate({identifier:e}),i=IS("storage");return i&&Uhe(n,...i),n}function Uhe(t,e,r,n={}){Bhe(t,e,r,n)}function Fhe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MC(r,n,i,e,Su)}function Vhe(){Hl(new xs(fB,Fhe,"PUBLIC").setMultipleInstances(!0)),ma(x5,b5,""),ma(x5,b5,"esm2020")}Vhe();const Hhe={apiKey:"AIzaSyB_23qGagKyn6SqpNh1u7_EMqJWMN9MZuo",authDomain:"oshi-para.firebaseapp.com",projectId:"oshi-para",storageBucket:"oshi-para.firebasestorage.app",messagingSenderId:"123159056695",appId:"1:123159056695:web:b2226933dc6f6095220ab2"},x0=Pj(Hhe),Qe=fde(x0),pe=jce(x0);OC(x0);const yy=zhe(x0),zC=Object.freeze(Object.defineProperty({__proto__:null,auth:Qe,db:pe,default:x0,storage:yy},Symbol.toStringTag,{value:"Module"})),It={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},Ot=(t,e)=>`users/${t}/${e}`,kh={getAll:async t=>{const e=ft(Le(pe,Ot(t,It.INTAKES)),dr("createdAt","desc"));return(await gt(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Iu(Le(pe,Ot(t,It.INTAKES)),e)).id,update:async(t,e,r)=>{const n=Oe(pe,Ot(t,It.INTAKES),e);await Zt(n,r)},delete:async(t,e)=>{const r=Oe(pe,Ot(t,It.INTAKES),e);await Gi(r)},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.INTAKES)),dr("createdAt","desc"));return Ps(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},ww={getAll:async t=>{const e=ft(Le(pe,Ot(t,It.EXPENSES)),dr("createdAt","desc"));return(await gt(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Iu(Le(pe,Ot(t,It.EXPENSES)),e)).id,update:async(t,e,r)=>{const n=Oe(pe,Ot(t,It.EXPENSES),e);await Zt(n,r)},delete:async(t,e)=>{const r=Oe(pe,Ot(t,It.EXPENSES),e);await Gi(r)},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.EXPENSES)),dr("createdAt","desc"));return Ps(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},_1={getAll:async t=>{const e=ft(Le(pe,Ot(t,It.STOCKS)),dr("createdAt","desc"));return(await gt(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Iu(Le(pe,Ot(t,It.STOCKS)),e)).id,update:async(t,e,r)=>{const n=Oe(pe,Ot(t,It.STOCKS),e);await Zt(n,r)},delete:async(t,e)=>{const r=Oe(pe,Ot(t,It.STOCKS),e);await Gi(r)},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.STOCKS)),dr("createdAt","desc"));return Ps(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Mh={getAll:async t=>{const e=ft(Le(pe,Ot(t,It.SHOPPING)),dr("createdAt","desc"));return(await gt(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Iu(Le(pe,Ot(t,It.SHOPPING)),e)).id,update:async(t,e,r)=>{const n=Oe(pe,Ot(t,It.SHOPPING),e);await Zt(n,r)},delete:async(t,e)=>{const r=Oe(pe,Ot(t,It.SHOPPING),e);await Gi(r)},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.SHOPPING)),dr("createdAt","desc"));return Ps(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},A1={getAll:async t=>{const e=ft(Le(pe,Ot(t,It.RECIPES)),dr("createdAt","desc"));return(await gt(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Iu(Le(pe,Ot(t,It.RECIPES)),e)).id,update:async(t,e,r)=>{const n=Oe(pe,Ot(t,It.RECIPES),e);await Zt(n,r)},delete:async(t,e)=>{const r=Oe(pe,Ot(t,It.RECIPES),e);await Gi(r)},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.RECIPES)),dr("createdAt","desc"));return Ps(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},E1={get:async t=>{const e=ft(Le(pe,Ot(t,It.SETTINGS))),r=await gt(e);return r.empty?null:r.docs[0].data()},set:async(t,e)=>{const r=ft(Le(pe,Ot(t,It.SETTINGS))),n=await gt(r);if(n.empty)return(await Iu(Le(pe,Ot(t,It.SETTINGS)),e)).id;{const i=Oe(pe,Ot(t,It.SETTINGS),n.docs[0].id);return await Zt(i,e),n.docs[0].id}},subscribe:(t,e)=>{const r=ft(Le(pe,Ot(t,It.SETTINGS)));return Ps(r,n=>{if(n.empty)e(null);else{const i=n.docs[0].data();e(i)}})}},Qa=Eu((t,e)=>({intakes:Vl(it.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:r=>t({intakes:r}),setLoading:r=>t({loading:r}),setInitialized:r=>t({initialized:r}),addIntake:async r=>{const n=Qe.currentUser,i={id:Rl(),...r,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Lt(it.INTAKES,o),{intakes:o}}),n)try{await kh.add(n.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(r,n)=>{const i=Qe.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const s=o.intakes.map(c=>c.id===r?{...c,...a}:c);return Lt(it.INTAKES,s),{intakes:s}}),i)try{await kh.update(i.uid,r,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==r);return Lt(it.INTAKES,a),{intakes:a}}),n)try{await kh.delete(n.uid,r)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:r=>e().intakes.filter(i=>i.date.startsWith(r)),getTotalCaloriesByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${r.uid}`);const n=await kh.getAll(r.uid);console.log(`[IntakeStore] Loaded ${n.length} intakes from Firestore`),t({intakes:n,loading:!1,initialized:!0}),Lt(it.INTAKES,n)}catch(n){console.error("Failed to sync intakes with Firestore:",n),t({loading:!1})}},subscribeToFirestore:()=>{const r=Qe.currentUser;if(!r)return;const n=e().unsubscribe;n&&n(),console.log(`[IntakeStore] Starting realtime sync for user: ${r.uid}`);const i=kh.subscribe(r.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),Lt(it.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const r=e().unsubscribe;r&&(console.log("[IntakeStore] Stopping realtime sync"),r(),t({unsubscribe:null}))}})),Ea=Eu((t,e)=>({expenses:Vl(it.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:r=>t({expenses:r}),addExpense:async r=>{const n=Qe.currentUser,i={id:Rl(),...r,date:r.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Lt(it.EXPENSES,o),{expenses:o}}),n)try{await ww.add(n.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==r);return Lt(it.EXPENSES,a),{expenses:a}}),n)try{await ww.delete(n.uid,r)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(r,n)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===r&&o.getMonth()+1===n}),getTotalByMonth:(r,n)=>e().getExpensesByMonth(r,n).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(r,n,i)=>e().getExpensesByMonth(n,i).filter(o=>o.category===r).reduce((o,s)=>o+s.amount,0),syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0});const n=await ww.getAll(r.uid);t({expenses:n,loading:!1,initialized:!0}),Lt(it.EXPENSES,n)}catch(n){console.error("Failed to sync expenses with Firestore:",n),t({loading:!1})}}})),Sa=Eu((t,e)=>({stocks:Vl(it.STOCKS,[]),loading:!1,initialized:!1,setStocks:r=>t({stocks:r}),addStock:async r=>{const n=Qe.currentUser,i={id:Rl(),...r,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Lt(it.STOCKS,o),{stocks:o}}),n)try{await _1.add(n.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(r,n)=>{const i=Qe.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const s=o.stocks.map(c=>c.id===r?{...c,...a}:c);return Lt(it.STOCKS,s),{stocks:s}}),i)try{await _1.update(i.uid,r,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==r);return Lt(it.STOCKS,a),{stocks:a}}),n)try{await _1.delete(n.uid,r)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:r=>e().stocks.filter(i=>i.daysRemaining<=r),getStockIngredients:()=>e().stocks.map(n=>n.name),syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0});const n=await _1.getAll(r.uid);t({stocks:n,loading:!1,initialized:!0}),Lt(it.STOCKS,n)}catch(n){console.error("Failed to sync stocks with Firestore:",n),t({loading:!1})}}})),$he=[{name:"",quantity:1,category:"staple"},{name:"",quantity:10,category:"protein"},{name:"",quantity:1,category:"dairy"},{name:"",quantity:1,category:"staple"},{name:"",quantity:1,category:"protein"},{name:"",quantity:1,category:"protein"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:3,category:"vegetable"},{name:"",quantity:1,category:"fruit"},{name:"",quantity:1,category:"dairy"},{name:"",quantity:1,category:"seasoning"},{name:"",quantity:1,category:"seasoning"}],Ns=Eu((t,e)=>({items:Vl(it.SHOPPING,[]),loading:!1,initialized:!1,setItems:r=>t({items:r}),addItem:async r=>{const n=Qe.currentUser;if(e().items.find(o=>o.name===r.name&&!o.checked))return;const a={id:Rl(),...r,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const s=[...o.items,a];return Lt(it.SHOPPING,s),{items:s}}),n)try{await Mh.add(n.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===r?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Lt(it.SHOPPING,a),{items:a}}),n)try{const i=e().items.find(a=>a.id===r);i&&await Mh.update(n.uid,r,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==r);return Lt(it.SHOPPING,a),{items:a}}),n)try{await Mh.delete(n.uid,r)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const r=Qe.currentUser,n=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Lt(it.SHOPPING,a),{items:a}}),r)try{await Promise.all(n.map(i=>Mh.delete(r.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(r=>{const n=r.items,i=[...n];return $he.forEach(a=>{n.find(s=>s.name===a.name&&!s.checked)||i.push({id:Rl(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Lt(it.SHOPPING,i),{items:i}})},addLowStockItems:r=>{t(n=>{const i=n.items,a=[...i];return r.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:Rl(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Lt(it.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0});const n=await Mh.getAll(r.uid);t({items:n,loading:!1,initialized:!0}),Lt(it.SHOPPING,n)}catch(n){console.error("Failed to sync shopping items with Firestore:",n),t({loading:!1})}}})),qhe=10,b0=Eu((t,e)=>({recipeHistory:Vl(it.RECIPE_HISTORY,[]),favoriteRecipes:Vl(it.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(r,n)=>t({recipeHistory:r,favoriteRecipes:n}),addToHistory:async r=>{const n=Qe.currentUser,i={id:Rl(),recipe:r,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,qhe);return Lt(it.RECIPE_HISTORY,o),{recipeHistory:o}}),n)try{await A1.add(n.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async r=>{const n=Qe.currentUser;if(e().favoriteRecipes.find(o=>o.id===r.id))return;const a={...r,isFavorite:!0};if(t(o=>{const s=[a,...o.favoriteRecipes];return Lt(it.FAVORITE_RECIPES,s),{favoriteRecipes:s}}),n)try{await A1.add(n.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async r=>{const n=Qe.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==r);return Lt(it.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),n)try{await A1.delete(n.uid,r)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:r=>e().favoriteRecipes.some(i=>i.id===r),syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${r.uid}`);const i=await A1.getAll(r.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),Lt(it.RECIPE_HISTORY,a),Lt(it.FAVORITE_RECIPES,i)}catch(n){console.error("Failed to sync recipes with Firestore:",n),t({loading:!1})}}})),w5={monthlyBudget:3e4,darkMode:!1,firstTime:!0},Dp=Eu((t,e)=>({settings:{...w5,...Vl(it.SETTINGS,w5)},loading:!1,initialized:!1,updateSettings:async r=>{const n=Qe.currentUser;if(t(i=>{const a={...i.settings,...r};return Lt(it.SETTINGS,a),"darkMode"in r&&document.body.classList.toggle("dark-mode",r.darkMode),{settings:a}}),n)try{const i=e().settings;await E1.set(n.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const r=Qe.currentUser,n=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:n};return Lt(it.SETTINGS,a),document.body.classList.toggle("dark-mode",n),{settings:a}}),r)try{const i=e().settings;await E1.set(r.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:r=>t(n=>{const i={...n.settings,firstTime:r};return Lt(it.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const r=Qe.currentUser;if(r)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${r.uid}`);const n=await E1.get(r.uid);if(n)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:n,loading:!1,initialized:!0}),Lt(it.SETTINGS,n),document.body.classList.toggle("dark-mode",n.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await E1.set(r.uid,i),t({loading:!1,initialized:!0})}}catch(n){console.error("Failed to sync settings with Firestore:",n),t({loading:!1})}}})),tm=[{id:"streak-3",name:"3",description:"3",icon:"",category:"streak",requirement:"3",checkCondition:t=>t.consecutiveDays>=3},{id:"streak-7",name:"1",description:"7",icon:"",category:"streak",requirement:"7",checkCondition:t=>t.consecutiveDays>=7},{id:"streak-14",name:"2",description:"14",icon:"",category:"streak",requirement:"14",checkCondition:t=>t.consecutiveDays>=14},{id:"streak-30",name:"1",description:"30",icon:"",category:"streak",requirement:"30",checkCondition:t=>t.consecutiveDays>=30},{id:"milestone-10-intakes",name:"",description:"10",icon:"",category:"milestone",requirement:"10",checkCondition:t=>t.intakesCount>=10},{id:"milestone-50-intakes",name:"",description:"50",icon:"",category:"milestone",requirement:"50",checkCondition:t=>t.intakesCount>=50},{id:"milestone-100-intakes",name:"",description:"100",icon:"",category:"milestone",requirement:"100",checkCondition:t=>t.intakesCount>=100},{id:"goal-budget-first",name:"",description:"",icon:"",category:"goal",requirement:"1",checkCondition:t=>t.budgetAchieved},{id:"feature-recipe-first",name:"AI",description:"AI",icon:"",category:"feature",requirement:"AI1",checkCondition:t=>t.recipesGenerated>=1},{id:"feature-recipe-10",name:"",description:"AI10",icon:"",category:"feature",requirement:"AI10",checkCondition:t=>t.recipesGenerated>=10},{id:"feature-barcode-first",name:"",description:"",icon:"",category:"feature",requirement:"1",checkCondition:t=>t.barcodesScanned>=1},{id:"feature-barcode-10",name:"",description:"10",icon:"",category:"feature",requirement:"10",checkCondition:t=>t.barcodesScanned>=10},{id:"milestone-all-features",name:"",description:"",icon:"",category:"milestone",requirement:"",checkCondition:t=>t.intakesCount>=5&&t.expensesCount>=5&&t.stocksCount>=3&&t.recipesGenerated>=1&&t.barcodesScanned>=1}];function Ghe(t){return tm.find(e=>e.id===t)}const UC=Eu((t,e)=>({badges:Vl(it.BADGES,[]),newBadges:[],loading:!1,checkAndUnlockBadges:r=>{const n=e().badges,i=n.map(o=>o.id),a=[];return tm.forEach(o=>{if(!i.includes(o.id)&&o.checkCondition(r)){const s={id:o.id,name:o.name,description:o.description,icon:o.icon,category:o.category,requirement:o.requirement,unlockedAt:new Date().toISOString()};n.push(s),a.push(o.id)}}),a.length>0&&(t({badges:n,newBadges:a}),Lt(it.BADGES,n)),a},clearNewBadges:()=>{t({newBadges:[]})},getBadge:r=>e().badges.find(n=>n.id===r),isUnlocked:r=>e().badges.some(n=>n.id===r),getUnlockedCount:()=>e().badges.length,getTotalCount:()=>tm.length})),_5={food:"#3b82f6",transport:"#10b981",utilities:"#f59e0b",entertainment:"#ef4444",health:"#8b5cf6",other:"#64748b"},Whe={food:"",transport:"",utilities:"",entertainment:"",health:"",other:""},Khe=({onNavigate:t})=>{const{getExpensesByMonth:e}=Ea(),r=C.useMemo(()=>{const i=new Date,a=e(i.getFullYear(),i.getMonth()+1),o={food:0,transport:0,utilities:0,entertainment:0,health:0,other:0};return a.forEach(s=>{o[s.category]+=s.amount}),Object.entries(o).filter(([s,c])=>c>0).map(([s,c])=>({name:Whe[s],value:c,category:s}))},[e]),n=C.useMemo(()=>r.reduce((i,a)=>i+a.value,0),[r]);return g.jsxs("div",{className:"widget-card",style:{background:"var(--card)",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)",fontSize:"16px",fontWeight:"600"},children:" "}),g.jsx("button",{onClick:()=>t("expense"),style:{background:"transparent",color:"var(--primary)",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:"500",padding:"4px 8px",borderRadius:"6px",transition:"background 0.2s"},onMouseEnter:i=>{i.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},onMouseLeave:i=>{i.currentTarget.style.background="transparent"},children:" "})]}),r.length===0?g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)"},children:[g.jsx(oF,{size:48,style:{opacity:.5,marginBottom:"12px"}}),g.jsx("p",{children:""})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",marginBottom:"16px"},children:[g.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:""}),g.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"var(--primary)"},children:["",n.toLocaleString()]})]}),g.jsx(Jp,{width:"100%",height:250,children:g.jsxs(TS,{children:[g.jsx(qm,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map(i=>g.jsx(Au,{fill:_5[i.category]},`cell-${i.category}`))}),g.jsx(Zp,{formatter:i=>`${i.toLocaleString()}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px",fontSize:"13px"}})]})}),g.jsx("div",{style:{marginTop:"16px"},children:r.map(i=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid var(--border)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",background:_5[i.category]}}),g.jsx("span",{style:{fontSize:"14px",color:"var(--text)"},children:i.name})]}),g.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)"},children:["",i.value.toLocaleString()]})]},i.category))})]})]})},Yhe=({onNavigate:t})=>{const{items:e,toggleItem:r}=Ns(),n=C.useMemo(()=>e.filter(a=>!a.checked).slice(0,5),[e]),i=C.useMemo(()=>{const a=e.length,o=e.filter(c=>c.checked).length,s=a-o;return{total:a,completed:o,remaining:s}},[e]);return g.jsxs("div",{className:"widget-card",style:{background:"var(--card)",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)",fontSize:"16px",fontWeight:"600"},children:" "}),g.jsx("button",{onClick:()=>t("shopping"),style:{background:"transparent",color:"var(--primary)",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:"500",padding:"4px 8px",borderRadius:"6px",transition:"background 0.2s"},onMouseEnter:a=>{a.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},onMouseLeave:a=>{a.currentTarget.style.background="transparent"},children:" "})]}),g.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[g.jsxs("div",{style:{flex:1,padding:"12px",background:"rgba(59, 130, 246, 0.1)",borderRadius:"8px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:i.remaining}),g.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",marginTop:"2px"},children:""})]}),g.jsxs("div",{style:{flex:1,padding:"12px",background:"rgba(16, 185, 129, 0.1)",borderRadius:"8px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#10b981"},children:i.completed}),g.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",marginTop:"2px"},children:""})]})]}),n.length===0?g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)"},children:[g.jsx(nd,{size:48,style:{opacity:.5,marginBottom:"12px"}}),g.jsx("p",{children:""})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{marginBottom:"12px"},children:n.map(a=>g.jsxs("div",{onClick:()=>r(a.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"background 0.2s",marginBottom:"4px"},onMouseEnter:o=>{o.currentTarget.style.background="rgba(0, 0, 0, 0.03)"},onMouseLeave:o=>{o.currentTarget.style.background="transparent"},children:[g.jsx("div",{style:{color:a.checked?"#10b981":"var(--border)"},children:a.checked?g.jsx(mu,{size:20}):g.jsx(LD,{size:20})}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"14px",color:"var(--text)",textDecoration:a.checked?"line-through":"none",opacity:a.checked?.5:1},children:a.name}),a.quantity&&g.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"2px"},children:[": ",a.quantity]})]})]},a.id))}),i.remaining>5&&g.jsxs("div",{style:{textAlign:"center",padding:"12px",fontSize:"13px",color:"var(--text-secondary)",background:"rgba(0, 0, 0, 0.02)",borderRadius:"8px"},children:[" ",i.remaining-5," "]})]})]})},Xhe=()=>{const{getTotalCaloriesByDate:t}=Qa(),{getTotalByMonth:e}=Ea(),r=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),n=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return g.jsxs("div",{className:"widget-card",style:{background:"var(--card)",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)"},children:[g.jsx("h3",{style:{margin:"0 0 20px 0",color:"var(--text)",fontSize:"16px",fontWeight:"600"},children:" "}),g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",borderRadius:"12px",marginBottom:"12px",color:"white"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx(fm,{size:28}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"13px",opacity:.9},children:""}),g.jsx("div",{style:{fontSize:"24px",fontWeight:"700",marginTop:"4px"},children:r})]})]}),g.jsx("div",{style:{fontSize:"16px",opacity:.9},children:"kcal"})]}),g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"12px",color:"white"},children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx(OD,{size:28}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"13px",opacity:.9},children:""}),g.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",marginTop:"4px"},children:["",n.toLocaleString()]})]})]})})]})},Qhe=[{screen:"meals",icon:g.jsx(fm,{size:24}),label:"",color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)"},{screen:"barcode",icon:g.jsx(lp,{size:24}),label:"",color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.1)"},{screen:"expense",icon:g.jsx(OD,{size:24}),label:"",color:"#10b981",bgColor:"rgba(16, 185, 129, 0.1)"},{screen:"stock",icon:g.jsx(iu,{size:24}),label:"",color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)"},{screen:"recipe",icon:g.jsx(cp,{size:24}),label:"AI",color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)"},{screen:"shopping",icon:g.jsx(nd,{size:24}),label:"",color:"#06b6d4",bgColor:"rgba(6, 182, 212, 0.1)"}],Zhe=({onNavigate:t})=>g.jsxs("div",{className:"widget-card",style:{background:"var(--card)",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)"},children:[g.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--text)",fontSize:"16px",fontWeight:"600"},children:" "}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:Qhe.map(e=>g.jsxs("button",{onClick:()=>t(e.screen),style:{background:e.bgColor,border:"none",borderRadius:"12px",padding:"16px 12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:[g.jsx("div",{style:{color:e.color},children:e.icon}),g.jsx("div",{style:{fontSize:"12px",color:"var(--text)",fontWeight:"500",textAlign:"center"},children:e.label})]},e.screen))})]}),Jhe=({selectedWidgets:t,onSave:e,onClose:r})=>{const[n,i]=C.useState(t),a=o=>{i(s=>s.includes(o)?s.filter(c=>c!==o):[...s,o])};return g.jsx("div",{className:"modal-overlay",onClick:r,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease-in-out"},children:g.jsxs("div",{onClick:o=>o.stopPropagation(),style:{background:"var(--card)",borderRadius:"16px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",animation:"slideUp 0.3s ease-out"},children:[g.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)",fontSize:"18px",fontWeight:"600"},children:""}),g.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--border)"},onMouseLeave:o=>{o.currentTarget.style.background="transparent"},children:g.jsx(zi,{size:24})})]}),g.jsx("div",{style:{flex:1,overflow:"auto",padding:"16px"},children:epe.map(o=>{const s=n.includes(o.id);return g.jsxs("div",{onClick:()=>a(o.id),style:{background:s?"rgba(59, 130, 246, 0.1)":"transparent",border:`2px solid ${s?"var(--primary)":"var(--border)"}`,borderRadius:"12px",padding:"16px",marginBottom:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px",transition:"all 0.2s"},onMouseEnter:c=>{s||(c.currentTarget.style.borderColor="var(--primary)",c.currentTarget.style.background="rgba(59, 130, 246, 0.05)")},onMouseLeave:c=>{s||(c.currentTarget.style.borderColor="var(--border)",c.currentTarget.style.background="transparent")},children:[g.jsx("div",{style:{fontSize:"32px",flexShrink:0},children:o.icon}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:"var(--text)"},children:o.name}),g.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:o.description})]}),g.jsx("div",{style:{flexShrink:0,color:s?"var(--primary)":"var(--border)"},children:s?g.jsx(mu,{size:24}):g.jsx(LD,{size:24})})]},o.id)})}),g.jsxs("div",{style:{padding:"16px",borderTop:"1px solid var(--border)",display:"flex",gap:"12px"},children:[g.jsx("button",{onClick:r,style:{flex:1,background:"var(--border)",color:"var(--text)",border:"none",borderRadius:"8px",padding:"12px",cursor:"pointer",fontWeight:"500",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.opacity="0.8"},onMouseLeave:o=>{o.currentTarget.style.opacity="1"},children:""}),g.jsxs("button",{onClick:()=>e(n),style:{flex:1,background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",padding:"12px",cursor:"pointer",fontWeight:"500",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--primary-dark)"},onMouseLeave:o=>{o.currentTarget.style.background="var(--primary)"},children:[" (",n.length,")"]})]})]})})},epe=[{id:"calories",name:"",description:"",icon:""},{id:"expenses",name:"",description:"",icon:""},{id:"shopping",name:"",description:"",icon:""},{id:"quickActions",name:"",description:"",icon:""}],tpe=["calories","quickActions"],A5="dashboard_widgets",E5=({onNavigate:t})=>{const[e,r]=C.useState(()=>{const o=localStorage.getItem(A5);return o?JSON.parse(o):tpe}),[n,i]=C.useState(!1);C.useEffect(()=>{localStorage.setItem(A5,JSON.stringify(e))},[e]);const a=o=>{switch(o){case"calories":return g.jsx(Xhe,{},o);case"expenses":return g.jsx(Khe,{onNavigate:t},o);case"shopping":return g.jsx(Yhe,{onNavigate:t},o);case"quickActions":return g.jsx(Zhe,{onNavigate:t},o);default:return null}};return g.jsxs("section",{className:"screen active",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",background:"var(--card)",borderBottom:"1px solid var(--border)"},children:[g.jsx("h2",{style:{margin:0},children:""}),g.jsxs("button",{onClick:()=>i(!0),style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},onMouseEnter:o=>{o.currentTarget.style.background="var(--primary-dark)",o.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:o=>{o.currentTarget.style.background="var(--primary)",o.currentTarget.style.transform="translateY(0)"},children:[g.jsx(JU,{size:18}),""]})]}),g.jsx("div",{style:{padding:"16px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",maxWidth:"1200px",margin:"0 auto"},children:e.length===0?g.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"60px 20px",background:"var(--card)",borderRadius:"12px",border:"2px dashed var(--border)"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),g.jsx("h3",{style:{marginBottom:"8px",color:"var(--text)"},children:""}),g.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:""}),g.jsx("button",{onClick:()=>i(!0),style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:""})]}):e.map(a)}),n&&g.jsx(Jhe,{selectedWidgets:e,onSave:o=>{r(o),i(!1)},onClose:()=>i(!1)})]})},rpe=()=>{const{addIntake:t}=Qa(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState(""),s=()=>{if(!e||!n||!a){alert("");return}t({name:e,calories:Number(n),price:Number(a)}),r(""),i(""),o(""),alert("")};return g.jsxs("div",{className:"card",children:[g.jsx("label",{children:""}),g.jsx("input",{value:e,onChange:c=>r(c.target.value),placeholder:": "}),g.jsx("label",{children:"(kcal)"}),g.jsx("input",{type:"number",value:n,onChange:c=>i(c.target.value),placeholder:"200"}),g.jsx("label",{children:"()"}),g.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),g.jsx("button",{className:"submit",onClick:s,children:""})]})},npe=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:r,getTotalPriceByDate:n}=Qa(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(d=>d.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=r(a),s=n(a),c=f=>{confirm("")&&e(f)};return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),i.length===0?g.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:""}):g.jsxs(g.Fragment,{children:[g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>g.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal  ",f.price]})]}),g.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:g.jsx(yu,{size:20})})]},f.id))}),g.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[g.jsxs("span",{children:[g.jsx("strong",{children:":"})," ",o," kcal"]}),g.jsxs("span",{children:[g.jsx("strong",{children:":"})," ",s]})]})]})]})},ipe=()=>g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),g.jsx(rpe,{}),g.jsx(npe,{})]}),ape=async(t,e)=>{try{return{user:(await Yue(Qe,t,e)).user,error:null}}catch(r){return{user:null,error:r.message}}},ope=async()=>{const t=new os;try{return{user:(await bfe(Qe,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},spe=async()=>{try{return await efe(Qe),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},lpe=t=>Jue(Qe,t),Ca=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!0);return C.useEffect(()=>{const i=lpe(a=>{e(a),n(!1)});return()=>i()},[]),{user:t,loading:r}},FC=async(t,e,r)=>{try{const n={uid:t,displayName:r,username:`user${t.slice(0,8)}`,email:e,bio:"",avatarUrl:"",coverUrl:"",websiteUrl:"",isPublic:!0,createdAt:new Date().toISOString(),stats:{postCount:0,friendCount:0,recipeCount:0,likeCount:0}};console.log(" Creating user profile for:",t),console.log(" Profile data:",n);const i=Oe(pe,"users",t,"profile","data");console.log(" Profile document path:",i.path),await Bo(i,n),console.log(" User profile created successfully:",t)}catch(n){throw console.error(" Failed to create user profile:",n),console.error("Error code:",n.code),console.error("Error message:",n.message),console.error("Error details:",JSON.stringify(n,null,2)),new Error(`: ${n.message||n.code||""}`)}},Wi=async t=>{try{const e=await li(Oe(pe,"users",t,"profile","data"));return e.exists()?e.data():null}catch(e){throw console.error("Get profile error:",e),new Error("")}},cpe=async(t,e)=>{try{await Zt(Oe(pe,"users",t,"profile","data"),e),e.displayName&&Qe.currentUser&&await NL(Qe.currentUser,{displayName:e.displayName,photoURL:e.avatarUrl||Qe.currentUser.photoURL}),console.log(" Profile updated:",t)}catch(r){throw console.error("Update profile error:",r),new Error("")}},upe=async(t,e)=>{try{const r=Le(pe,"users"),n=ft(r),i=await gt(n);for(const a of i.docs){if(a.id===e)continue;const o=Oe(pe,"users",a.id,"profile","data");try{const s=await li(o);if(s.exists()&&s.data().username===t)return!1}catch{console.log(`No profile for user ${a.id}`)}}return!0}catch(r){return console.error("Username check error:",r),!0}},fpe=t=>t.length<3||t.length>20?{valid:!1,error:"320"}:/^[a-zA-Z0-9_]+$/.test(t)?/^[a-zA-Z]/.test(t)?{valid:!0}:{valid:!1,error:""}:{valid:!1,error:"(_)"},dpe=async t=>{try{const e=Le(pe,"users"),r=await gt(e);for(const n of r.docs){const i=Oe(pe,"users",n.id,"profile","data"),a=await li(i);if(a.exists()){const o=a.data();if(o.username.toLowerCase()===t.toLowerCase())return o.uid}}return null}catch(e){return console.error("Get user ID by username error:",e),null}},VC=(t,e,r)=>new Promise((n,i)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=o=>{const s=new Image;s.src=o.target?.result,s.onload=()=>{const c=document.createElement("canvas");let f=s.width,d=s.height;f>d?f>e&&(d=d*e/f,f=e):d>r&&(f=f*r/d,d=r),c.width=f,c.height=d,c.getContext("2d")?.drawImage(s,0,0,f,d),c.toBlob(v=>{v?n(v):i(new Error(""))},t.type)},s.onerror=()=>i(new Error(""))},a.onerror=()=>i(new Error(""))}),hpe=async(t,e)=>{try{const r=await VC(e,512,512),n=BC(yy,`avatars/${t}/${Date.now()}_avatar.jpg`);await jC(n,r);const i=await LC(n);return console.log(" Avatar uploaded:",i),i}catch(r){throw console.error("Avatar upload error:",r),new Error("")}},ppe=async(t,e)=>{try{const r=await VC(e,1200,400),n=BC(yy,`covers/${t}/${Date.now()}_cover.jpg`);await jC(n,r);const i=await LC(n);return console.log(" Cover uploaded:",i),i}catch(r){throw console.error("Cover upload error:",r),new Error("")}},gpe=async(t,e)=>{try{const r=await VC(e,1080,1080),n=BC(yy,`posts/${t}/${Date.now()}_${e.name}`);await jC(n,r);const i=await LC(n);return console.log(" Post image uploaded:",i),i}catch(r){throw console.error("Post image upload error:",r),new Error("")}},S5=t=>t.size>10485760?{valid:!1,error:"10MB"}:["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)?{valid:!0}:{valid:!1,error:": JPEG, PNG, GIF, WebP"},vpe=({onBack:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(""),[a,o]=C.useState(""),[s,c]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(!0),[y,_]=C.useState(""),[b,A]=C.useState(""),[S,T]=C.useState(!1),[O,N]=C.useState(!1),[M,L]=C.useState(!1),[R,D]=C.useState(""),[j,B]=C.useState(""),U=C.useRef(null),V=C.useRef(null);C.useEffect(()=>{z()},[]);const z=async()=>{try{const re=Qe.currentUser;if(!re)return;const K=await Wi(re.uid);K&&(r(K),i(K.displayName),o(K.username),c(K.bio||""),d(K.websiteUrl||""),v(K.isPublic),_(K.avatarUrl||""),A(K.coverUrl||""))}catch(re){console.error("Load profile error:",re),D("")}},Q=async re=>{const K=re.target.files?.[0];if(!K)return;const ve=S5(K);if(!ve.valid){D(ve.error||"");return}N(!0),D("");try{const Ae=Qe.currentUser;if(!Ae)throw new Error("");const G=await hpe(Ae.uid,K);_(G),B("")}catch(Ae){console.error("Avatar upload error:",Ae),D(Ae.message||"")}finally{N(!1)}},de=async re=>{const K=re.target.files?.[0];if(!K)return;const ve=S5(K);if(!ve.valid){D(ve.error||"");return}L(!0),D("");try{const Ae=Qe.currentUser;if(!Ae)throw new Error("");const G=await ppe(Ae.uid,K);A(G),B("")}catch(Ae){console.error("Cover upload error:",Ae),D(Ae.message||"")}finally{L(!1)}},Y=async()=>{D(""),B(""),T(!0);try{const re=Qe.currentUser;if(!re)throw new Error("");if(!n.trim()){D(""),T(!1);return}const K=fpe(a);if(!K.valid){D(K.error||""),T(!1);return}if(a!==e?.username&&!await upe(a,re.uid)){D(""),T(!1);return}await cpe(re.uid,{displayName:n.trim(),username:a,bio:s.trim(),websiteUrl:f.trim(),isPublic:p,avatarUrl:y,coverUrl:b}),B(""),setTimeout(()=>B(""),3e3)}catch(re){console.error("Save profile error:",re),D(re.message||"")}finally{T(!1)}};return g.jsxs("div",{className:"profile-edit-screen",children:[g.jsxs("div",{className:"profile-edit-header",children:[g.jsxs("button",{onClick:t,className:"back-button",children:[g.jsx(xu,{})," "]}),g.jsx("h2",{children:""}),g.jsxs("button",{onClick:Y,className:"save-button",disabled:S,children:[g.jsx(xA,{})," ",S?"...":""]})]}),R&&g.jsx("div",{className:"error-message",children:R}),j&&g.jsx("div",{className:"success-message",children:j}),g.jsx("div",{className:"cover-section",children:g.jsxs("div",{className:"cover-image",style:{backgroundImage:b?`url(${b})`:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:[g.jsxs("button",{onClick:()=>V.current?.click(),className:"cover-upload-button",disabled:M,children:[g.jsx(lp,{})," ",M?"...":""]}),g.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:de,style:{display:"none"}})]})}),g.jsx("div",{className:"avatar-section",children:g.jsxs("div",{className:"avatar-image",children:[y?g.jsx("img",{src:y,alt:"Avatar"}):g.jsx("div",{className:"avatar-placeholder",children:g.jsx(jf,{size:60})}),g.jsx("button",{onClick:()=>U.current?.click(),className:"avatar-upload-button",disabled:O,children:g.jsx(lp,{})}),g.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:Q,style:{display:"none"}})]})}),g.jsxs("div",{className:"profile-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(jf,{})," "]}),g.jsx("input",{type:"text",value:n,onChange:re=>i(re.target.value),placeholder:"",maxLength:50}),g.jsxs("span",{className:"char-count",children:[n.length,"/50"]})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(um,{})," "]}),g.jsxs("div",{className:"username-input",children:[g.jsx("span",{className:"username-prefix",children:"@"}),g.jsx("input",{type:"text",value:a,onChange:re=>o(re.target.value.toLowerCase()),placeholder:"yamada_taro",maxLength:20})]}),g.jsx("span",{className:"hint",children:"_"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:""}),g.jsx("textarea",{value:s,onChange:re=>c(re.target.value),placeholder:"...",maxLength:200,rows:4}),g.jsxs("span",{className:"char-count",children:[s.length,"/200"]})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(TD,{})," WebURL"]}),g.jsx("input",{type:"url",value:f,onChange:re=>d(re.target.value),placeholder:"https://example.com"})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{className:"toggle-label",children:[p?g.jsx(MD,{}):g.jsx(Il,{}),"",g.jsx("input",{type:"checkbox",checked:p,onChange:re=>v(re.target.checked),className:"toggle-switch"})]}),g.jsx("span",{className:"hint",children:p?"":""})]})]}),g.jsx("style",{children:`
        .profile-edit-screen {
          min-height: 100vh;
          background: var(--background);
          padding-bottom: 80px;
        }

        .profile-edit-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: var(--card);
          border-bottom: 1px solid var(--border);
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .profile-edit-header h2 {
          color: var(--text);
          font-size: 20px;
          margin: 0;
        }

        .back-button,
        .save-button {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button {
          background: var(--background);
          color: var(--text);
        }

        .back-button:hover {
          background: var(--border);
        }

        .save-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .save-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .save-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .error-message {
          margin: 16px;
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .success-message {
          margin: 16px;
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .success-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .cover-section {
          position: relative;
        }

        .cover-image {
          width: 100%;
          height: 200px;
          background-size: cover;
          background-position: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .cover-upload-button {
          padding: 10px 20px;
          background: rgba(0, 0, 0, 0.6);
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .cover-upload-button:hover:not(:disabled) {
          background: rgba(0, 0, 0, 0.8);
        }

        .cover-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .avatar-section {
          display: flex;
          justify-content: center;
          margin-top: -60px;
          padding: 0 16px;
        }

        .avatar-image {
          position: relative;
          width: 120px;
          height: 120px;
          border-radius: 50%;
          border: 4px solid var(--card);
          background: var(--background);
          overflow: hidden;
        }

        .avatar-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .avatar-placeholder {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--text-secondary);
          background: var(--border);
        }

        .avatar-upload-button {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--primary);
          color: white;
          border: 2px solid var(--card);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
        }

        .avatar-upload-button:hover:not(:disabled) {
          transform: scale(1.1);
        }

        .avatar-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .profile-form {
          padding: 32px 16px;
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input,
        .form-group textarea {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .form-group textarea {
          resize: vertical;
          font-family: inherit;
        }

        .username-input {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .username-prefix {
          color: var(--text-secondary);
          font-size: 16px;
          font-weight: 500;
        }

        .username-input input {
          flex: 1;
        }

        .char-count,
        .hint {
          color: var(--text-secondary);
          font-size: 12px;
        }

        .toggle-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
        }

        .toggle-switch {
          margin-left: auto;
          width: 50px;
          height: 26px;
          appearance: none;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          cursor: pointer;
          transition: background 0.3s;
        }

        .toggle-switch:checked {
          background: var(--primary);
        }

        .toggle-switch::before {
          content: '';
          position: absolute;
          width: 22px;
          height: 22px;
          border-radius: 50%;
          background: white;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
        }

        .toggle-switch:checked::before {
          transform: translateX(24px);
        }

        @media (max-width: 480px) {
          .cover-image {
            height: 150px;
          }

          .avatar-image {
            width: 100px;
            height: 100px;
          }

          .profile-form {
            padding: 24px 12px;
          }
        }
      `})]})},mpe=()=>{const{settings:t,updateSettings:e,toggleDarkMode:r}=Dp(),{intakes:n}=Qa(),{expenses:i}=Ea(),{stocks:a}=Sa(),{user:o}=Ca(),[s,c]=C.useState((t.monthlyBudget??3e4).toString()),[f,d]=C.useState(!1),p=()=>{e({monthlyBudget:Number(s)}),alert("")},v=()=>{const b=[",,,,",...n.map(T=>`,${T.name},${T.calories},${T.price},${T.date}`)].join(`
`),A=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`_${new Date().toISOString().split("T")[0]}.csv`,S.click()},y=()=>{const b={intakes:n,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},A=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`_${new Date().toISOString().split("T")[0]}.json`,S.click()},_=async()=>{if(window.confirm("")){const b=await spe();b.error&&alert(": "+b.error)}};return f?g.jsx(vpe,{onBack:()=>d(!1)}):g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsxs("button",{className:"profile-edit-button",onClick:()=>d(!0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 16px",background:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",marginBottom:"12px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx(jf,{size:24,color:"var(--primary)"}),g.jsx("span",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"500"},children:""})]}),g.jsx(wA,{size:24,color:"var(--text-secondary)"})]}),g.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0"},children:""})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsx("input",{type:"number",value:s,onChange:b=>c(b.target.value),placeholder:"30000"}),g.jsxs("button",{className:"submit",onClick:p,children:[g.jsx(xA,{size:18,style:{marginRight:"8px"}}),""]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsxs("div",{className:"setting-item",children:[g.jsxs("div",{className:"setting-item-left",children:[g.jsx("div",{className:"setting-icon",children:g.jsx(aF,{size:24})}),g.jsx("span",{className:"setting-label",children:""})]}),g.jsxs("label",{className:"toggle-switch",children:[g.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:r}),g.jsx("span",{className:"toggle-slider"})]})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{className:"submit",onClick:v,style:{flex:1},children:[g.jsx(WU,{size:18,style:{marginRight:"8px"}}),"CSV"]}),g.jsxs("button",{className:"submit",onClick:y,style:{flex:1},children:[g.jsx(GU,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[g.jsxs("p",{children:[": ",n.length,""]}),g.jsxs("p",{children:[": ",i.length,""]}),g.jsxs("p",{children:[": ",a.length,""]})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:g.jsxs("p",{children:[": ",o?.email]})}),g.jsxs("button",{className:"submit",onClick:_,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[g.jsx(ZU,{size:18,style:{marginRight:"8px"}}),""]})]})]})},ype=()=>{const{addStock:t}=Sa(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState("1"),[s,c]=C.useState("other"),f=()=>{if(!e||!n){alert("");return}t({name:e,daysRemaining:Number(n),quantity:Number(a),category:s}),r(""),i(""),o("1"),c("other"),alert("")},d=[{value:"staple",label:" "},{value:"protein",label:" "},{value:"vegetable",label:" "},{value:"fruit",label:" "},{value:"dairy",label:" "},{value:"seasoning",label:" "},{value:"other",label:" "}];return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsx("label",{children:""}),g.jsx("input",{value:e,onChange:p=>r(p.target.value),placeholder:": "}),g.jsx("label",{children:""}),g.jsx("select",{value:s,onChange:p=>c(p.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid var(--border)",fontSize:"16px",marginBottom:"16px"},children:d.map(p=>g.jsx("option",{value:p.value,children:p.label},p.value))}),g.jsx("label",{children:""}),g.jsx("input",{type:"number",value:n,onChange:p=>i(p.target.value),placeholder:": 3"}),g.jsx("label",{children:""}),g.jsx("input",{type:"number",value:a,onChange:p=>o(p.target.value),placeholder:"1"}),g.jsx("button",{className:"submit",onClick:f,children:""})]})},xpe=()=>{const{stocks:t,deleteStock:e,updateStock:r}=Sa(),{addItem:n}=Ns(),[i,a]=C.useState(""),[o,s]=C.useState("expiry"),[c,f]=C.useState("all"),d=T=>{confirm("")&&e(T)},p=(T,O)=>{n({name:T,quantity:O}),alert(`${T}`)},v=(T,O,N)=>{const M=O+N;M<=0?confirm("0")&&e(T):r(T,{quantity:M})},y=T=>T<=0?"#ef4444":T<=1?"#f59e0b":T<=3?"#eab308":"#10b981",_=T=>T<=0?"":T===1?"":`${T}`,b=T=>{switch(T){case"staple":return"";case"protein":return"";case"vegetable":return"";case"fruit":return"";case"dairy":return"";case"seasoning":return"";default:return""}},A=T=>{switch(T){case"staple":return"";case"protein":return"";case"vegetable":return"";case"fruit":return"";case"dairy":return"";case"seasoning":return"";default:return""}},S=C.useMemo(()=>{let T=[...t];return c!=="all"&&(T=T.filter(O=>O.category===c)),i&&(T=T.filter(O=>O.name.toLowerCase().includes(i.toLowerCase()))),T.sort((O,N)=>{switch(o){case"expiry":return O.daysRemaining-N.daysRemaining;case"name":return O.name.localeCompare(N.name);case"category":const M=O.category||"other",L=N.category||"other";return M===L?O.daysRemaining-N.daysRemaining:M.localeCompare(L);default:return 0}}),T},[t,i,o,c]);return g.jsxs("div",{className:"card",children:[g.jsxs("h3",{children:["",S.length,""]}),g.jsxs("div",{style:{position:"relative",marginBottom:"16px"},children:[g.jsx(mA,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",fontSize:"20px"}}),g.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"...",style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"8px",border:"2px solid var(--border)",fontSize:"16px"}})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"16px"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"4px",display:"block"},children:""}),g.jsxs("select",{value:c,onChange:T=>f(T.target.value),style:{width:"100%",padding:"8px",borderRadius:"6px",border:"2px solid var(--border)",fontSize:"14px"},children:[g.jsx("option",{value:"all",children:""}),g.jsx("option",{value:"staple",children:" "}),g.jsx("option",{value:"protein",children:" "}),g.jsx("option",{value:"vegetable",children:" "}),g.jsx("option",{value:"fruit",children:" "}),g.jsx("option",{value:"dairy",children:" "}),g.jsx("option",{value:"seasoning",children:" "}),g.jsx("option",{value:"other",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"4px",display:"block"},children:""}),g.jsxs("select",{value:o,onChange:T=>s(T.target.value),style:{width:"100%",padding:"8px",borderRadius:"6px",border:"2px solid var(--border)",fontSize:"14px"},children:[g.jsx("option",{value:"expiry",children:""}),g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"category",children:""})]})]})]}),t.length===0?g.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"20px"},children:""}):S.length===0?g.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"20px"},children:""}):g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:S.map(T=>g.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderBottom:"1px solid var(--border)",background:"var(--background)",borderRadius:"8px",marginBottom:"8px"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[g.jsx("span",{style:{fontSize:"24px"},children:b(T.category)}),g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,fontSize:"16px"},children:T.name}),g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:A(T.category)})]})]}),g.jsx("div",{style:{fontSize:"0.9rem",color:y(T.daysRemaining),fontWeight:600,marginBottom:"8px"},children:_(T.daysRemaining)}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:()=>v(T.id,T.quantity,-1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",display:"flex",alignItems:"center"},children:g.jsx(iF,{size:16})}),g.jsxs("span",{style:{fontWeight:600,minWidth:"40px",textAlign:"center"},children:["x",T.quantity]}),g.jsx("button",{onClick:()=>v(T.id,T.quantity,1),style:{background:"#10b981",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",display:"flex",alignItems:"center"},children:g.jsx(sp,{size:16})})]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"12px"},children:[g.jsx("button",{onClick:()=>p(T.name,T.quantity),style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"",children:g.jsx(nd,{size:20})}),g.jsx("button",{onClick:()=>d(T.id),style:{background:"transparent",border:"2px solid #ef4444",borderRadius:"6px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444"},title:"",children:g.jsx(yu,{size:20})})]})]},T.id))})]})},bpe=()=>{const{getExpiringStocks:t}=Sa(),{addItem:e}=Ns(),r=C.useMemo(()=>t(0),[t]),n=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...r,...n];a.length!==0&&confirm(` ${a.length}`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}`))};return r.length===0&&n.length===0?null:g.jsxs(g.Fragment,{children:[r.length>0&&g.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[g.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:" "}),g.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>g.jsx("li",{children:a.name},a.id))})]}),n.length>0&&g.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[g.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:" "}),g.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>g.jsx("li",{children:a.name},a.id))})]}),g.jsx("div",{className:"card",style:{padding:"12px"},children:g.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[g.jsx(nd,{size:20}),""]})})]})},wpe=()=>{const{stocks:t}=Sa(),e=C.useMemo(()=>{const i={staple:0,protein:0,vegetable:0,fruit:0,dairy:0,seasoning:0,other:0},a={expired:0,today:0,tomorrow:0,soon:0,safe:0};let o=0;return t.forEach(s=>{const c=s.category||"other";i[c]+=s.quantity,o+=s.quantity,s.daysRemaining<=0?a.expired++:s.daysRemaining===0?a.today++:s.daysRemaining===1?a.tomorrow++:s.daysRemaining<=3?a.soon++:a.safe++}),{categoryCount:i,expiryStats:a,totalQuantity:o}},[t]),r=i=>{switch(i){case"staple":return"";case"protein":return"";case"vegetable":return"";case"fruit":return"";case"dairy":return"";case"seasoning":return"";default:return""}},n=i=>{switch(i){case"staple":return"";case"protein":return"";case"vegetable":return"";case"fruit":return"";case"dairy":return"";case"seasoning":return"";default:return""}};return t.length===0?null:g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"20px",borderRadius:"12px",marginBottom:"16px",color:"white",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"8px",opacity:.9},children:""}),g.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold"},children:[e.totalQuantity,g.jsx("span",{style:{fontSize:"1.2rem",marginLeft:"8px"},children:""})]}),g.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8,marginTop:"4px"},children:[t.length,""]})]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("h4",{style:{fontSize:"1rem",marginBottom:"12px"},children:""}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:Object.keys(e.categoryCount).map(i=>{const a=e.categoryCount[i];return a===0?null:g.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{style:{fontSize:"24px"},children:r(i)}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:n(i)}),g.jsxs("div",{style:{fontWeight:600,fontSize:"1.1rem"},children:[a,""]})]})]},i)})})]}),g.jsxs("div",{children:[g.jsx("h4",{style:{fontSize:"1rem",marginBottom:"12px"},children:""}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.expiryStats.expired>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"#fef2f2",borderRadius:"6px",border:"2px solid #ef4444"},children:[g.jsx("span",{style:{color:"#ef4444",fontWeight:600},children:" "}),g.jsxs("span",{style:{fontWeight:"bold",color:"#ef4444"},children:[e.expiryStats.expired,""]})]}),e.expiryStats.today>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"#fff7ed",borderRadius:"6px",border:"2px solid #f59e0b"},children:[g.jsx("span",{style:{color:"#f59e0b",fontWeight:600},children:" "}),g.jsxs("span",{style:{fontWeight:"bold",color:"#f59e0b"},children:[e.expiryStats.today,""]})]}),e.expiryStats.tomorrow>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"#fefce8",borderRadius:"6px",border:"2px solid #eab308"},children:[g.jsx("span",{style:{color:"#eab308",fontWeight:600},children:" "}),g.jsxs("span",{style:{fontWeight:"bold",color:"#eab308"},children:[e.expiryStats.tomorrow,""]})]}),e.expiryStats.soon>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"var(--background)",borderRadius:"6px"},children:[g.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:" 3"}),g.jsxs("span",{style:{fontWeight:"bold"},children:[e.expiryStats.soon,""]})]}),e.expiryStats.safe>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"#f0fdf4",borderRadius:"6px"},children:[g.jsx("span",{style:{color:"#10b981",fontWeight:600},children:" "}),g.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:[e.expiryStats.safe,""]})]})]})]})]})},_pe=()=>g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),g.jsx(bpe,{}),g.jsx(wpe,{}),g.jsx(ype,{}),g.jsx(xpe,{})]}),Ape=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=Ns(),{getExpiringStocks:r}=Sa(),n=()=>{t(),alert("1")},i=()=>{const a=r(2);if(a.length===0){alert("");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}`)};return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:" "}),g.jsx("button",{className:"submit",onClick:n,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:" 1"}),g.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:" "})]})},Epe=[{keywords:["","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"",alternatives:["70%","",""]},{keywords:["","","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","","",""],category:"",reason:"WHO",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","",""]},{keywords:["","","",""],category:"",reason:"",alternatives:["","","","",""]}];function Spe(t){const e=t.toLowerCase();for(const r of Epe)for(const n of r.keywords)if(e.includes(n.toLowerCase()))return{type:"warning",category:r.category,reason:r.reason,alternatives:r.alternatives};return null}async function Cpe(t,e){try{const r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${t}3

JSON
{
  "category": "",
  "reason": "",
  "alternatives": ["1", "2", "3"]
}

 null `}]}]})});if(!r.ok)throw new Error("AI");const i=(await r.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(r){return console.error("AI:",r),null}}const Tpe=({productName:t,warning:e,onClose:r,onAddAlternative:n,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[s,c]=C.useState(null),[f,d]=C.useState(!1),p=async()=>{d(!0);const _=await Cpe(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(_),o(!0),d(!1)},v=a&&s?s:e;return g.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:g.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:y=>y.stopPropagation(),children:[g.jsx("button",{onClick:r,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:g.jsx(zi,{size:24})}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[g.jsx(ED,{size:32,color:"#f59e0b"}),g.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:""})]}),g.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["",g.jsx("strong",{children:t}),""]})]}),g.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[g.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:[" : ",v.category]}),g.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(XU,{size:20,color:"#10b981"}),""]}),g.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((y,_)=>g.jsxs("button",{onClick:()=>n(y),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:b=>{b.currentTarget.style.background="#dcfce7",b.currentTarget.style.transform="translateX(4px)"},onMouseLeave:b=>{b.currentTarget.style.background="#f0fdf4",b.currentTarget.style.transform="translateX(0)"},children:[" ",y]},_))})]}),!a&&g.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[g.jsx(Y1,{size:20}),f?"AI...":"AI"]}),g.jsxs("div",{style:{display:"grid",gap:"8px"},children:[g.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:""}),g.jsx("button",{onClick:r,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:""})]})]})})},Ipe=()=>{const{addItem:t}=Ns(),[e,r]=C.useState(""),[n,i]=C.useState("1"),[a,o]=C.useState(""),[s,c]=C.useState(null),[f,d]=C.useState(null),p=()=>{if(!e){alert("");return}const A=Spe(e);if(A){c(A),d({name:e,quantity:Number(n),price:a?Number(a):void 0});return}v(e,Number(n),a?Number(a):void 0)},v=(A,S,T)=>{t({name:A,quantity:S,price:T}),r(""),i("1"),o("")},y=()=>{c(null),d(null)},_=A=>{f&&v(A,f.quantity,f.price),y()},b=()=>{f&&v(f.name,f.quantity,f.price),y()};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),g.jsx("label",{children:""}),g.jsx("input",{value:e,onChange:A=>r(A.target.value),placeholder:": ",onKeyDown:A=>A.key==="Enter"&&p()}),g.jsx("label",{children:""}),g.jsx("input",{type:"number",value:n,onChange:A=>i(A.target.value),placeholder:"1"}),g.jsx("label",{children:""}),g.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:": 300"}),g.jsx("button",{className:"submit",onClick:p,children:""})]}),s&&f&&g.jsx(Tpe,{productName:f.name,warning:s,onClose:y,onAddAlternative:_,onContinueAnyway:b})]})},Ope=()=>{const{items:t,toggleItem:e,deleteItem:r,clearCompleted:n}=Ns(),{addStock:i}=Sa(),{addExpense:a}=Ea(),[o,s]=C.useState(!1),c=t.filter(v=>!v.checked).reduce((v,y)=>v+(y.price||0)*y.quantity,0),f=t.filter(v=>v.checked).reduce((v,y)=>v+(y.price||0)*y.quantity,0),d=()=>{confirm("")&&n()},p=()=>{const v=t.filter(b=>b.checked);if(v.length===0){alert("");return}const y=v.reduce((b,A)=>b+(A.price||0)*A.quantity,0),_=y>0?`
: ${y.toLocaleString()}`:"";if(confirm(` ${v.length}
7${_}`)){if(v.forEach(b=>{i({name:b.name,quantity:b.quantity,daysRemaining:7})}),y>0){const b=v.map(A=>A.name).join("");a({category:"food",amount:y,memo:`: ${b}`,date:new Date().toISOString()})}n(),s(!0),setTimeout(()=>{s(!1)},3e3)}};return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:""}),t.length===0?g.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:""}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",border:"2px solid var(--border)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:""}),g.jsxs("span",{style:{fontWeight:"bold",color:"var(--primary)",fontSize:"1.1rem"},children:["",c.toLocaleString()]})]}),f>0&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--border)"},children:[g.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:""}),g.jsxs("span",{style:{fontWeight:"bold",color:"#10b981",fontSize:"1.1rem"},children:["",f.toLocaleString()]})]})]}),g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(v=>g.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[g.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:v.checked,onChange:()=>e(v.id),style:{width:"18px",height:"18px"}}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{style:{fontWeight:500,textDecoration:v.checked?"line-through":"none",color:v.checked?"#999":"inherit"},children:[v.name,v.quantity>1&&g.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",v.quantity]})]}),v.price&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:"4px"},children:["",v.price.toLocaleString()," ",v.quantity>1&&`(: ${(v.price*v.quantity).toLocaleString()})`]})]})]}),g.jsx("button",{onClick:()=>r(v.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:g.jsx(yu,{size:20})})]},v.id))}),t.some(v=>v.checked)&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[g.jsx(iu,{size:20}),g.jsx("span",{children:""})]}),g.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["",g.jsx("br",{}),"7"]}),g.jsxs("button",{className:"submit",onClick:p,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[g.jsx(iu,{size:22}),"",t.filter(v=>v.checked).length,""]})]}),g.jsx("button",{className:"submit",onClick:d,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:""})]}),o&&g.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[g.jsx(mu,{size:28}),g.jsx("span",{children:""})]})]})]})},Rpe=()=>g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),g.jsx(Ape,{}),g.jsx(Ipe,{}),g.jsx(Ope,{})]}),kf="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",dB=kf!=="YOUR_GEMINI_API_KEY_HERE";let yf=[];function HC(t){const e=Date.now();yf.push({type:t,timestamp:e}),yf=yf.filter(a=>e-a.timestamp<6e4);const r=yf.filter(a=>a.type==="recipe").length,n=yf.filter(a=>a.type==="receipt").length,i=yf.length;console.log(`[API Usage] 1: ${i}`),console.log(`  - : ${r}`),console.log(`  - OCR: ${n}`),console.log(`  - : ${15-i} (Free Tier: 15/)`)}async function Ppe(t,e="none",r="none",n=""){if(console.log("[Gemini] API",{ingredients:t,dietaryRestriction:e,difficulty:r,customRequest:n,API_ENABLED:dB,apiKeyPrefix:kf.substring(0,10)+"..."}),!t||t.length===0)throw new Error("");try{const i=e==="vegetarian"?"":e==="vegan"?"":"";let a="";r==="super_easy"?a=`

****: 3`:r==="under_5min"?a=`

****: 5`:r==="under_10min"?a=`

****: 10`:r==="no_fire"&&(a=`

****: `);const o=n?`

****: ${n}`:"",s=`



${i}1
${a}${o}

: ${t.join("")}



---







1.
2.
3.



---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${kf}`;HC("recipe"),console.log("[Gemini] API",{url:c.replace(kf,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] API",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] API",{status:f.status,statusText:f.statusText,errorData:v});let y=`Gemini API  (${f.status})`;throw v.error?.message&&(y+=`: ${v.error.message}`),new Error(y)}const d=await f.json();if(console.log("[Gemini] ",d),d.candidates&&d.candidates.length>0){const p=d.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] "),v.trim()}}throw console.error("[Gemini] ",d),new Error("Gemini API")}catch(i){return console.error("[Gemini] :",i),console.warn("[Gemini] "),console.info("[Gemini] API: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403: API"),kpe(t,e,r)}}async function Dpe(t){console.log("[Gemini Text] ");try{const e=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${kf}`;HC("recipe"),console.log("[Gemini Text] API");const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(console.log("[Gemini Text] API",{status:r.status}),!r.ok){const i=await r.text();throw console.error("[Gemini Text] API",i),new Error(`Gemini API : ${r.status}`)}const n=await r.json();if(console.log("[Gemini Text] "),n.candidates&&n.candidates.length>0){const i=n.candidates[0];if(i.content?.parts&&i.content.parts.length>0){const a=i.content.parts[0].text.trim();return console.log("[Gemini Text] "),a}}throw new Error("")}catch(e){throw console.error("[Gemini Text] :",e),e}}const Npe=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result.split(",")[1];e(a)},n.onerror=r,n.readAsDataURL(t)});let C5=0;const T5=5e3;async function I5(t){console.log("[Gemini Receipt] OCR",{fileName:t.name,fileSize:t.size,API_ENABLED:dB});const e=Date.now(),r=e-C5;if(r<T5){const n=Math.ceil((T5-r)/1e3);throw new Error(`: ${n}`)}try{C5=e;const n=await Npe(t),i=`



JSON
{
  "storeName": "",
  "date": "YYYY-MM-DD",
  "total": ,
  "items": [
    {
      "name": "",
      "price": ,
      "quantity": 1
    }
  ]
}

**:**
1. 
2. 
3. quantity
4. 
5. OK
6. JSON
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${kf}`;HC("receipt"),console.log("[Gemini Receipt] API");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:n}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] API",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] API",c),o.status===429?new Error(""):new Error(`Gemini API : ${o.status}`)}const s=await o.json();if(console.log("[Gemini Receipt] ",s),s.candidates&&s.candidates.length>0){const c=s.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] :",f);let d=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)d=p[1];else if(f.includes("```")){const _=f.match(/```\s*([\s\S]*?)\s*```/);_&&(d=_[1])}const v=JSON.parse(d),y={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR",y),y}}throw new Error("")}catch(n){throw console.error("[Gemini Receipt] :",n),n}}function kpe(t,e,r="none"){const n=e==="vegetarian"?"":e==="vegan"?"":"",i=r==="super_easy"?"":r==="under_5min"?"5":r==="under_10min"?"10":r==="no_fire"?"":"";return`

${t.join("")}${n}${i}


${t.map(a=>`${a} `).join(`
`)}
 
 1


1. ${t[0]||""}
2. 
3. 





 Gemini APIAI
 403API https://aistudio.google.com/app/apikey 
`.trim()}function xy(t){return _e({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const Mpe=({onRecipeGenerated:t,isLoading:e,setIsLoading:r})=>{const{stocks:n}=Sa(),{addToHistory:i}=b0(),[a,o]=C.useState(""),[s,c]=C.useState("none"),[f,d]=C.useState("none"),[p,v]=C.useState(""),y=[{value:"none",label:"",icon:g.jsx(Y1,{size:16})},{value:"super_easy",label:"",icon:g.jsx(lm,{size:16})},{value:"under_5min",label:"5",icon:g.jsx(cm,{size:16})},{value:"under_10min",label:"10",icon:g.jsx(sm,{size:16})},{value:"no_fire",label:"",icon:g.jsx(xy,{size:16})}],_=[{value:"none",label:"",icon:g.jsx(cp,{size:16})},{value:"vegetarian",label:"",icon:g.jsx("span",{children:""})},{value:"vegan",label:"",icon:g.jsx("span",{children:""})}],b=()=>{const S=n.filter(T=>T.quantity>0).map(T=>T.name).slice(0,10).join(", ");o(S)},A=async()=>{if(!a.trim()){alert("");return}r(!0);try{const S=a.split(/[,]/).map(N=>N.trim()).filter(N=>N.length>0),T=await Ppe(S,f,s,p),O={id:Rl(),title:`${S.slice(0,3).join("")}`,content:T,ingredients:S,difficulty:s,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(O),t(O)}catch(S){console.error(":",S),alert("")}finally{r(!1)}};return g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(cp,{size:20}),""]}),g.jsx("label",{children:""}),g.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:": , , ",disabled:e}),g.jsxs("button",{onClick:b,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[g.jsx(iu,{size:18,style:{marginRight:"6px"}}),""]}),g.jsx("label",{children:""}),g.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:y.map(S=>g.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${s===S.value?"var(--primary)":"var(--border)"}`,background:s===S.value?"var(--primary)":"var(--card)",color:s===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:s===S.value?600:400},disabled:e,children:g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),g.jsx("label",{children:""}),g.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:_.map(S=>g.jsx("button",{onClick:()=>d(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),g.jsx("label",{children:""}),g.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:": ",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),g.jsxs("button",{className:"submit",onClick:A,disabled:e,children:[g.jsx(Y1,{size:18,style:{marginRight:"8px"}}),""]})]})},jpe=({recipe:t,onAttachToPost:e})=>{const{addToHistory:r,addToFavorites:n,removeFromFavorites:i,favoriteRecipes:a}=b0(),{addStock:o,stocks:s,updateStock:c,deleteStock:f}=Sa(),{addItem:d}=Ns(),{addIntake:p}=Qa(),v=a.some(S=>S.id===t.id),y=()=>{v?i(t.id):(n(t),r(t))},_=()=>{confirm(` ${t.ingredients.length} 
7`)&&(t.ingredients.forEach(S=>{o({name:S,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}`))},b=()=>{confirm(` ${t.ingredients.length} `)&&(t.ingredients.forEach(S=>{d({name:S,quantity:1})}),alert(`${t.ingredients.length}`))},A=()=>{const S=[],T=[];t.ingredients.forEach(D=>{const j=s.find(B=>B.name===D);j?T.push({name:D,stockId:j.id,quantity:j.quantity}):S.push(D)});let O=`

`;if(T.length>0&&(O+=`${T.length}:
`,T.forEach(D=>{O+=`${D.name} (: ${D.quantity})
`})),S.length>0&&(O+=`
 ${S.length}:
`,S.forEach(D=>{O+=`${D}
`}),O+=`
`),O+=`

`,!confirm(O))return;T.forEach(D=>{D.quantity>1?c(D.stockId,{quantity:D.quantity-1}):f(D.stockId)});const M=new Date().getHours();let L;M>=5&&M<10?L="breakfast":M>=10&&M<15?L="lunch":M>=15&&M<21?L="dinner":L="snack",p({name:t.title,calories:500,price:0,category:L});let R=`

`;T.length>0&&(R+=`${T.length}
`),R+=`${L==="breakfast"?"":L==="lunch"?"":L==="dinner"?"":""}`,S.length>0&&(R+=`

:
`,S.forEach(D=>{R+=`${D}
`})),alert(R)};return g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[g.jsx("h3",{children:t.title}),g.jsx("button",{onClick:y,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:v?"#fbbf24":"var(--text-secondary)"},title:v?"":"",children:v?g.jsx(kw,{size:28}):g.jsx(dF,{size:28})})]}),g.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&g.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:g.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:g.jsxs(g.Fragment,{children:[g.jsx(lm,{size:14})," "]}),under_5min:g.jsxs(g.Fragment,{children:[g.jsx(cm,{size:14})," 5"]}),under_10min:g.jsxs(g.Fragment,{children:[g.jsx(sm,{size:14})," 10"]}),no_fire:g.jsxs(g.Fragment,{children:[g.jsx(xy,{size:14})," "]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&g.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:" ",vegan:" ",none:""}[t.dietaryRestriction]})]}),g.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[g.jsxs("button",{onClick:A,style:{background:"#f97316",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",gridColumn:"span 2"},children:[g.jsx(cp,{size:18})," "]}),g.jsxs("button",{onClick:_,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(iu,{size:18})," "]}),g.jsxs("button",{onClick:b,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(nd,{size:18})," "]}),e&&g.jsxs("button",{onClick:()=>e(t),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",gridColumn:"span 2"},children:[g.jsx(jD,{size:18})," "]})]})]})},Lpe=({onRecipeSelect:t})=>{const{recipeHistory:e}=b0();if(e.length===0)return null;const r=n=>{const i=new Date(n),o=new Date().getTime()-i.getTime(),s=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return s<1?"":s<60?`${s}`:c<24?`${c}`:f<7?`${f}`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(KU,{size:20}),""]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(n=>g.jsxs("div",{onClick:()=>t(n.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[g.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:n.recipe.title}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:r(n.generatedAt)})]}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[n.recipe.ingredients&&n.recipe.ingredients.slice(0,3).map((i,a)=>g.jsxs("span",{children:[i,a<Math.min((n.recipe.ingredients?.length||0)-1,2)?"":""]},a)),n.recipe.ingredients&&n.recipe.ingredients.length>3&&g.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["",n.recipe.ingredients.length-3,""]})]}),(n.recipe.difficulty!=="none"||n.recipe.dietaryRestriction!=="none")&&g.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[n.recipe.difficulty&&n.recipe.difficulty!=="none"&&g.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:g.jsx(lm,{size:12}),under_5min:g.jsx(cm,{size:12}),under_10min:g.jsx(sm,{size:12}),no_fire:g.jsx(xy,{size:12}),none:""}[n.recipe.difficulty]}),n.recipe.dietaryRestriction&&n.recipe.dietaryRestriction!=="none"&&g.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"",vegan:"",none:""}[n.recipe.dietaryRestriction]})]})]},n.id))})]})},Bpe=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:r}=b0();if(e.length===0)return null;const n=(i,a)=>{i.stopPropagation(),confirm("")&&r(a)};return g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(kw,{size:20,color:"#fbbf24"}),""]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>g.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[g.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),g.jsx("button",{onClick:a=>n(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"",children:g.jsx(kw,{size:24})})]}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[g.jsx("span",{style:{fontWeight:500},children:":"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>g.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"":""]},o)),i.ingredients&&i.ingredients.length>4&&g.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["",i.ingredients.length-4,""]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&g.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&g.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:g.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:g.jsxs(g.Fragment,{children:[g.jsx(lm,{size:14})," "]}),under_5min:g.jsxs(g.Fragment,{children:[g.jsx(cm,{size:14})," 5"]}),under_10min:g.jsxs(g.Fragment,{children:[g.jsx(sm,{size:14})," 10"]}),no_fire:g.jsxs(g.Fragment,{children:[g.jsx(xy,{size:14})," "]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&g.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:" ",vegan:" ",none:""}[i.dietaryRestriction]})]}),i.customRequest&&g.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[g.jsx(rF,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},bd=async(t,e,r,n,i)=>{try{if(t===e)return;const a=`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=Oe(pe,"users",t,"notifications",a),s={id:a,type:n,recipientId:t,actorId:e,actorName:r,isRead:!1,createdAt:new Date().toISOString()};i?.actorAvatar&&(s.actorAvatar=i.actorAvatar),i?.postId&&(s.postId=i.postId),i?.postContent&&(s.postContent=i.postContent),i?.commentId&&(s.commentId=i.commentId),i?.commentContent&&(s.commentContent=i.commentContent),await Bo(o,{...s,createdAt:Yt.now()}),console.log("Notification created:",a)}catch(a){throw console.error("Error creating notification:",a),a}},zpe=t=>{const e=new Map;return t.forEach(r=>{const n=r.postId?`${r.type}_${r.postId}`:`${r.type}_${r.actorId}`;if(e.has(n)){const i=e.get(n);i.actors.find(a=>a.id===r.actorId)||(i.actors.push({id:r.actorId,name:r.actorName,avatar:r.actorAvatar}),i.count++,new Date(r.createdAt)>new Date(i.latestNotification.createdAt)&&(i.latestNotification=r),r.isRead||(i.isRead=!1))}else e.set(n,{type:r.type,postId:r.postId,actors:[{id:r.actorId,name:r.actorName,avatar:r.actorAvatar}],latestNotification:r,count:1,isRead:r.isRead})}),Array.from(e.values()).sort((r,n)=>new Date(n.latestNotification.createdAt).getTime()-new Date(r.latestNotification.createdAt).getTime())},Upe=async(t,e)=>{try{const r=Oe(pe,"users",t,"notifications",e);await Zt(r,{isRead:!0})}catch(r){throw console.error("Error marking notification as read:",r),r}},Fpe=async t=>{try{const e=Le(pe,"users",t,"notifications"),r=ft(e,fr("isRead","==",!1)),i=(await gt(r)).docs.map(a=>Zt(a.ref,{isRead:!0}));await Promise.all(i),console.log("All notifications marked as read")}catch(e){throw console.error("Error marking all notifications as read:",e),e}},Vpe=async t=>{try{const e=Le(pe,"users",t,"notifications"),n=(await gt(e)).docs.map(i=>Gi(i.ref));await Promise.all(n),console.log("All notifications deleted")}catch(e){throw console.error("Error deleting all notifications:",e),e}},Hpe=(t,e)=>{const r=Le(pe,"users",t,"notifications"),n=ft(r,dr("createdAt","desc"),wa(50));return Ps(n,i=>{const a=[];i.forEach(o=>{const s=o.data();a.push({id:o.id,type:s.type,recipientId:s.recipientId,actorId:s.actorId,actorName:s.actorName,actorAvatar:s.actorAvatar,postId:s.postId,postContent:s.postContent,commentId:s.commentId,commentContent:s.commentContent,isRead:s.isRead||!1,createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt})}),e(a)},i=>{console.error("Error subscribing to notifications:",i),e([])})},$pe=t=>{switch(t){case"like":return"";case"comment":return"";case"repost":return"";case"quote":return"";case"reply":return"";case"friend_request":return"";case"friend_accept":return"";case"mention":return"@";default:return""}},qpe=t=>{const{type:e,actors:r,count:n}=t;if(n===1){const i=r[0];switch(e){case"like":return`${i.name}`;case"comment":return`${i.name}`;case"repost":return`${i.name}`;case"quote":return`${i.name}`;case"reply":return`${i.name}`;case"friend_request":return`${i.name}`;case"friend_accept":return`${i.name}`;case"mention":return`${i.name}`;default:return`${i.name}`}}else{const i=r[0],a=n-1;switch(e){case"like":return`${i.name}${a}`;case"comment":return`${i.name}${a}`;case"repost":return`${i.name}${a}`;case"quote":return`${i.name}${a}`;case"reply":return`${i.name}${a}`;case"friend_request":return`${i.name}${a}`;case"friend_accept":return`${i.name}${a}`;case"mention":return`${i.name}${a}`;default:return`${i.name}${a}`}}},op=t=>{if(t<1e3)return t.toString();if(t<1e6){const r=t/1e3;return r%1===0?`${Math.floor(r)}K`:`${r.toFixed(1)}K`}const e=t/1e6;return e%1===0?`${Math.floor(e)}M`:`${e.toFixed(1)}M`},Mf=t=>{const e=new Date(t),n=new Date().getTime()-e.getTime(),i=Math.floor(n/1e3),a=Math.floor(i/60),o=Math.floor(a/60),s=Math.floor(o/24);if(i<60)return"";if(a<60)return`${a}`;if(o<24)return`${o}`;if(s<7)return`${s}`;const c=e.getMonth()+1,f=e.getDate();return`${c}${f}`},Gpe=t=>{const e=new Date(t),r=e.getFullYear(),n=e.getMonth()+1;return`${r}${n}`},Wpe=t=>{const e=/#[\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF]+/g,r=t.match(e);return r?r.map(n=>n.slice(1)):[]},Kpe=t=>{const e=/@([a-zA-Z0-9_]+)/g,r=t.match(e);return r?[...new Set(r.map(n=>n.substring(1)))]:[]},Ype=async t=>{try{const e=Le(pe,"users"),r=await gt(e);for(const n of r.docs){const i=Oe(pe,"users",n.id,"profile","data"),a=await li(i);if(a.exists()&&a.data().username===t)return n.id}return null}catch(e){return console.error("Error getting userId from username:",e),null}},$n=t=>t?typeof t=="string"?t:t.toDate().toISOString():new Date().toISOString(),Xpe=async(t,e)=>{try{const r=await Wi(t);if(!r)throw new Error("");const n=[];if(e.images&&e.images.length>0)for(const d of e.images){const p=await gpe(t,d);n.push(p)}const i=Wpe(e.content),a=Kpe(e.content),o=Oe(Le(pe,"posts")),s=o.id,c={id:s,content:e.content,images:n,authorId:t,authorName:r.displayName,authorAvatar:r.avatarUrl||"",likes:0,commentCount:0,repostCount:0,replyCount:0,hashtags:i,visibility:e.visibility,createdAt:Wce()};if(a.length>0&&(c.mentions=a),e.quotedPostId&&(c.quotedPostId=e.quotedPostId),e.replyToPostId&&(c.replyToPostId=e.replyToPostId,c.replyToUserId=e.replyToUserId,c.replyToUserName=e.replyToUserName),e.recipeData&&(c.recipeData=e.recipeData),await Bo(o,c),e.replyToPostId){const d=Oe(pe,"posts",e.replyToPostId);await Zt(d,{replyCount:si(1)})}const f=Oe(pe,"users",t,"profile","data");if(await Zt(f,{"stats.postCount":si(1)}),a.length>0)for(const d of a){const p=await Ype(d);p&&p!==t&&await bd(p,t,r.displayName,"mention",{actorAvatar:r.avatarUrl,postId:s,postContent:e.content})}return console.log(":",s),s}catch(r){throw console.error(":",r),r}},Ka=async t=>{try{const e=Oe(pe,"posts",t),r=await li(e);if(!r.exists())return null;const n=r.data();let i;if(n.quotedPostId){const a=await Ka(n.quotedPostId);a&&(i=a)}return{id:r.id,content:n.content,images:n.images||[],authorId:n.authorId,authorName:n.authorName,authorAvatar:n.authorAvatar||"",likes:n.likes||0,commentCount:n.commentCount||0,repostCount:n.repostCount||0,replyCount:n.replyCount||0,hashtags:n.hashtags||[],mentions:n.mentions||[],quotedPostId:n.quotedPostId,quotedPost:i,replyToPostId:n.replyToPostId,replyToUserId:n.replyToUserId,replyToUserName:n.replyToUserName,recipeData:n.recipeData,visibility:n.visibility,isPinned:n.isPinned||!1,createdAt:$n(n.createdAt),updatedAt:n.updatedAt?$n(n.updatedAt):void 0}}catch(e){return console.error(":",e),null}},hB=async(t,e=20)=>{try{console.log(`[getUserPosts] Fetching posts for user: ${t}`);const r=Le(pe,"posts");let n;try{const a=ft(r,fr("authorId","==",t),dr("createdAt","desc"),wa(e));console.log("[getUserPosts] Executing query with index..."),n=await gt(a)}catch{console.warn("[getUserPosts] Index not found, using fallback query...");const o=ft(r,fr("authorId","==",t)),c=(await gt(o)).docs.sort((f,d)=>{const p=f.data().createdAt,v=d.data().createdAt;return!p||!v?0:v.seconds-p.seconds});n={docs:c.slice(0,e),empty:c.length===0,size:Math.min(c.length,e)}}console.log(`[getUserPosts] Query returned ${n.docs.length} documents`);const i=[];for(const a of n.docs){const o=a.data();let s;if(o.quotedPostId){const c=await Ka(o.quotedPostId);c&&(s={...c,quotedPost:void 0})}i.push({id:a.id,content:o.content,images:o.images||[],authorId:o.authorId,authorName:o.authorName,authorAvatar:o.authorAvatar||"",likes:o.likes||0,commentCount:o.commentCount||0,repostCount:o.repostCount||0,replyCount:o.replyCount||0,hashtags:o.hashtags||[],mentions:o.mentions||[],quotedPostId:o.quotedPostId,quotedPost:s,replyToPostId:o.replyToPostId,replyToUserId:o.replyToUserId,replyToUserName:o.replyToUserName,recipeData:o.recipeData,visibility:o.visibility,isPinned:o.isPinned||!1,createdAt:$n(o.createdAt),updatedAt:o.updatedAt?$n(o.updatedAt):void 0})}return console.log(`[getUserPosts] Successfully processed ${i.length} posts`),i}catch(r){return console.error("[getUserPosts] :",r),[]}},Qpe=async(t=20)=>{console.log(" getTimelinePosts: Starting to fetch timeline posts...");try{const e=Le(pe,"posts");console.log(" getTimelinePosts: Creating query with visibility=public, orderBy createdAt desc");const r=ft(e,fr("visibility","==","public"),dr("createdAt","desc"),wa(t));console.log(" getTimelinePosts: Executing query...");const n=await gt(r);console.log(` getTimelinePosts: Query returned ${n.size} documents`);const i=[];for(const a of n.docs){const o=a.data();console.log(` Processing post ${a.id}:`,{authorId:o.authorId,authorName:o.authorName,visibility:o.visibility,createdAt:o.createdAt});let s;if(o.quotedPostId){const c=await Ka(o.quotedPostId);c&&(s={...c,quotedPost:void 0})}i.push({id:a.id,content:o.content,images:o.images||[],authorId:o.authorId,authorName:o.authorName,authorAvatar:o.authorAvatar||"",likes:o.likes||0,commentCount:o.commentCount||0,repostCount:o.repostCount||0,replyCount:o.replyCount||0,hashtags:o.hashtags||[],mentions:o.mentions||[],quotedPostId:o.quotedPostId,quotedPost:s,replyToPostId:o.replyToPostId,replyToUserId:o.replyToUserId,replyToUserName:o.replyToUserName,recipeData:o.recipeData,visibility:o.visibility,isPinned:o.isPinned||!1,createdAt:$n(o.createdAt),updatedAt:o.updatedAt?$n(o.updatedAt):void 0})}return console.log(` getTimelinePosts: Successfully processed ${i.length} posts`),i}catch(e){if(console.error(" getTimelinePosts: Error occurred:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),e.code==="failed-precondition"&&e.message?.includes("index")){console.warn(" Firestore"),console.warn("URL:",e.message);try{console.log(" getTimelinePosts: Trying fallback query (orderBy createdAt only)...");const r=Le(pe,"posts"),n=ft(r,dr("createdAt","desc"),wa(t*3)),i=await gt(n);console.log(` Fallback query returned ${i.size} documents`);const a=[];for(const s of i.docs){const c=s.data();let f;if(c.quotedPostId){const d=await Ka(c.quotedPostId);d&&(f={...d,quotedPost:void 0})}a.push({id:s.id,content:c.content,images:c.images||[],authorId:c.authorId,authorName:c.authorName,authorAvatar:c.authorAvatar||"",likes:c.likes||0,commentCount:c.commentCount||0,repostCount:c.repostCount||0,hashtags:c.hashtags||[],mentions:c.mentions||[],quotedPostId:c.quotedPostId,quotedPost:f,recipeData:c.recipeData,visibility:c.visibility,createdAt:$n(c.createdAt),updatedAt:c.updatedAt?$n(c.updatedAt):void 0})}const o=a.filter(s=>s.visibility==="public").slice(0,t);return console.log(` Fallback: Filtered to ${o.length} public posts`),o}catch(r){return console.error(" :",r),console.error("Fallback error code:",r.code),console.error("Fallback error message:",r.message),[]}}return console.error(" :",e),[]}},Zpe=async(t,e)=>{try{const r=await Ka(t);if(!r)throw new Error("");if(r.authorId!==e)throw new Error("");if(r.replyToPostId){const a=Oe(pe,"posts",r.replyToPostId);await Zt(a,{replyCount:si(-1)})}const n=Oe(pe,"posts",t);await Gi(n);const i=Oe(pe,"users",e,"profile","data");await Zt(i,{"stats.postCount":si(-1)}),console.log(":",t)}catch(r){throw console.error(":",r),r}},pB=async(t,e,r,n)=>{try{const i=Oe(Le(pe,`posts/${t}/likes`)),o={id:i.id,postId:t,userId:e,userName:r,createdAt:new Date().toISOString()};n&&(o.userAvatar=n),await Bo(i,o);const s=Oe(pe,"posts",t);await Zt(s,{likes:si(1)});const c=await li(s);if(c.exists()){const f=c.data();await bd(f.authorId,e,r,"like",{actorAvatar:n,postId:t,postContent:f.content})}console.log("")}catch(i){throw console.error(":",i),i}},gB=async(t,e)=>{try{const r=Le(pe,`posts/${t}/likes`),n=ft(r,fr("userId","==",e)),i=await gt(n);for(const o of i.docs)await Gi(o.ref);const a=Oe(pe,"posts",t);await Zt(a,{likes:si(-1)}),console.log("")}catch(r){throw console.error(":",r),r}},vB=async(t,e)=>{try{const r=Le(pe,`posts/${t}/likes`),n=ft(r,fr("userId","==",e));return!(await gt(n)).empty}catch(r){return console.error(":",r),!1}},Jpe=async(t,e,r,n,i)=>{try{const a=Oe(Le(pe,`posts/${t}/comments`)),s={id:a.id,postId:t,userId:e,userName:r,content:n,createdAt:new Date().toISOString()};i&&(s.userAvatar=i),await Bo(a,s);const c=Oe(pe,"posts",t);await Zt(c,{commentCount:si(1)});const f=await li(c);if(f.exists()){const d=f.data();await bd(d.authorId,e,r,"comment",{actorAvatar:i,postId:t,postContent:d.content,commentContent:n})}console.log("")}catch(a){throw console.error(":",a),a}},e0e=async(t,e,r)=>{try{const n=Oe(pe,`posts/${t}/comments/${e}`),i=await li(n);if(!i.exists())throw new Error("");if(i.data().userId!==r)throw new Error("");await Gi(n);const a=Oe(pe,"posts",t);await Zt(a,{commentCount:si(-1)}),console.log("")}catch(n){throw console.error(":",n),n}},_w=async t=>{try{const e=Le(pe,`posts/${t}/comments`),r=ft(e,dr("createdAt","asc")),n=await gt(r),i=[];return n.forEach(a=>{const o=a.data();i.push({id:a.id,postId:t,userId:o.userId,userName:o.userName,userAvatar:o.userAvatar,content:o.content,createdAt:o.createdAt,updatedAt:o.updatedAt})}),i}catch(e){return console.error(":",e),[]}},t0e=async(t,e)=>{try{const r=Oe(pe,`users/${e}/bookmarks/${t}`),n={id:t,postId:t,userId:e,createdAt:new Date().toISOString()};await Bo(r,n),console.log("")}catch(r){throw console.error(":",r),r}},r0e=async(t,e)=>{try{const r=Oe(pe,`users/${e}/bookmarks/${t}`);await Gi(r),console.log("")}catch(r){throw console.error(":",r),r}},n0e=async(t,e)=>{try{const r=Oe(pe,`users/${e}/bookmarks/${t}`);return(await li(r)).exists()}catch(r){return console.error(":",r),!1}},i0e=async(t,e,r,n)=>{try{const i=Oe(Le(pe,`posts/${t}/reposts`)),o={id:i.id,postId:t,userId:e,userName:r,createdAt:new Date().toISOString()};n&&(o.userAvatar=n),await Bo(i,o);const s=Oe(pe,"posts",t);await Zt(s,{repostCount:si(1)});const c=await li(s);if(c.exists()){const f=c.data();await bd(f.authorId,e,r,"repost",{actorAvatar:n,postId:t,postContent:f.content})}console.log("")}catch(i){throw console.error(":",i),i}},a0e=async(t,e)=>{try{const r=Le(pe,`posts/${t}/reposts`),n=ft(r,fr("userId","==",e)),i=await gt(n);for(const o of i.docs)await Gi(o.ref);const a=Oe(pe,"posts",t);await Zt(a,{repostCount:si(-1)}),console.log("")}catch(r){throw console.error(":",r),r}},o0e=async(t,e)=>{try{const r=Le(pe,`posts/${t}/reposts`),n=ft(r,fr("userId","==",e));return!(await gt(n)).empty}catch(r){return console.error(":",r),!1}},s0e=async(t,e=20)=>{try{console.log(`[getFollowingPosts] Fetching following posts for user: ${t}`);const r=[];if(console.log(`[getFollowingPosts] Found ${r.length} following users`),r.length===0)return[];const n=r.map(s=>s.uid),i=Le(pe,"posts"),a=[];for(let s=0;s<n.length;s+=10){const c=n.slice(s,s+10),f=ft(i,fr("authorId","in",c),fr("visibility","in",["public","followers"])),d=await gt(f);for(const p of d.docs){const v=p.data();let y;if(v.quotedPostId){const _=await Ka(v.quotedPostId);_&&(y={..._,quotedPost:void 0})}a.push({id:p.id,content:v.content,images:v.images||[],authorId:v.authorId,authorName:v.authorName,authorAvatar:v.authorAvatar||"",likes:v.likes||0,commentCount:v.commentCount||0,repostCount:v.repostCount||0,replyCount:v.replyCount||0,hashtags:v.hashtags||[],mentions:v.mentions||[],quotedPostId:v.quotedPostId,quotedPost:y,replyToPostId:v.replyToPostId,replyToUserId:v.replyToUserId,replyToUserName:v.replyToUserName,recipeData:v.recipeData,visibility:v.visibility,isPinned:v.isPinned||!1,createdAt:$n(v.createdAt),updatedAt:v.updatedAt?$n(v.updatedAt):void 0})}}a.sort((s,c)=>new Date(c.createdAt).getTime()-new Date(s.createdAt).getTime());const o=a.slice(0,e);return console.log(`[getFollowingPosts] Returning ${o.length} posts`),o}catch(r){return console.error("[getFollowingPosts] :",r),[]}},l0e=async(t,e=20)=>{try{console.log(`[getUserMediaPosts] Fetching media posts for user: ${t}`);const n=(await hB(t,100)).filter(i=>i.images&&i.images.length>0);return console.log(`[getUserMediaPosts] Found ${n.length} media posts`),n.slice(0,e)}catch(r){return console.error("[getUserMediaPosts] :",r),[]}},c0e=async(t,e=20)=>{try{console.log(`[getUserLikedPosts] Fetching liked posts for user: ${t}`);const r=Le(pe,"posts"),n=await gt(r),i=[];for(const a of n.docs){const o=a.data(),s=Le(pe,`posts/${a.id}/likes`),c=await gt(s);let f=!1;for(const d of c.docs)if(d.data().userId===t){f=!0;break}if(f){let d;if(o.quotedPostId){const p=await Ka(o.quotedPostId);p&&(d={...p,quotedPost:void 0})}i.push({id:a.id,content:o.content,images:o.images||[],authorId:o.authorId,authorName:o.authorName,authorAvatar:o.authorAvatar||"",likes:o.likes||0,commentCount:o.commentCount||0,repostCount:o.repostCount||0,replyCount:o.replyCount||0,hashtags:o.hashtags||[],mentions:o.mentions||[],quotedPostId:o.quotedPostId,quotedPost:d,replyToPostId:o.replyToPostId,replyToUserId:o.replyToUserId,replyToUserName:o.replyToUserName,recipeData:o.recipeData,visibility:o.visibility,isPinned:o.isPinned||!1,createdAt:$n(o.createdAt),updatedAt:o.updatedAt?$n(o.updatedAt):void 0})}if(i.length>=e)break}return i.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()),console.log(`[getUserLikedPosts] Found ${i.length} liked posts`),i.slice(0,e)}catch(r){return console.error("[getUserLikedPosts] :",r),[]}},u0e=async(t,e)=>{try{console.log(`[pinPost] Pinning post ${e} for user ${t}`);const r=await Ka(e);if(!r)throw new Error("");if(r.authorId!==t)throw new Error("");const n=Oe(pe,`users/${t}/profile/data`),i=await li(n);if(i.exists()){const s=i.data().pinnedPostId;if(s){const c=Oe(pe,"posts",s);await Zt(c,{isPinned:!1})}}await Zt(n,{pinnedPostId:e});const a=Oe(pe,"posts",e);await Zt(a,{isPinned:!0}),console.log(` [pinPost] Post ${e} pinned successfully`)}catch(r){throw console.error(" [pinPost] Error:",r),new Error(`: ${r.message||""}`)}},f0e=async(t,e)=>{try{console.log(`[unpinPost] Unpinning post ${e} for user ${t}`);const r=Oe(pe,`users/${t}/profile/data`);await Zt(r,{pinnedPostId:null});const n=Oe(pe,"posts",e);await Zt(n,{isPinned:!1}),console.log(` [unpinPost] Post ${e} unpinned successfully`)}catch(r){throw console.error(" [unpinPost] Error:",r),new Error(`: ${r.message||""}`)}},d0e=async(t,e=20)=>{try{console.log(`[getUserReplies] Fetching replies for user: ${t}`);const r=Le(pe,"posts"),n=ft(r,fr("authorId","==",t),fr("replyToPostId","!=",null),dr("replyToPostId"),dr("createdAt","desc"),wa(e)),i=await gt(n),a=[];for(const o of i.docs){const s=o.data(),c={id:o.id,content:s.content,images:s.images||[],authorId:s.authorId,authorName:s.authorName,authorAvatar:s.authorAvatar||"",likes:s.likes||0,commentCount:s.commentCount||0,repostCount:s.repostCount||0,replyCount:s.replyCount||0,hashtags:s.hashtags||[],mentions:s.mentions||[],quotedPostId:s.quotedPostId,replyToPostId:s.replyToPostId,replyToUserId:s.replyToUserId,replyToUserName:s.replyToUserName,recipeData:s.recipeData,visibility:s.visibility,isPinned:s.isPinned||!1,createdAt:$n(s.createdAt),updatedAt:s.updatedAt?$n(s.updatedAt):void 0};a.push(c)}return console.log(`[getUserReplies] Found ${a.length} replies`),a}catch(r){console.error("[getUserReplies] Error:",r);try{const n=Le(pe,"posts"),i=ft(n,fr("authorId","==",t),dr("createdAt","desc"),wa(e)),a=await gt(i),o=[];for(const s of a.docs){const c=s.data();if(c.replyToPostId){const f={id:s.id,content:c.content,images:c.images||[],authorId:c.authorId,authorName:c.authorName,authorAvatar:c.authorAvatar||"",likes:c.likes||0,commentCount:c.commentCount||0,repostCount:c.repostCount||0,replyCount:c.replyCount||0,hashtags:c.hashtags||[],mentions:c.mentions||[],quotedPostId:c.quotedPostId,replyToPostId:c.replyToPostId,replyToUserId:c.replyToUserId,replyToUserName:c.replyToUserName,recipeData:c.recipeData,visibility:c.visibility,isPinned:c.isPinned||!1,createdAt:$n(c.createdAt),updatedAt:c.updatedAt?$n(c.updatedAt):void 0};o.push(f)}}return console.log(`[getUserReplies] Fallback: Found ${o.length} replies`),o.slice(0,e)}catch(n){return console.error("[getUserReplies] Fallback also failed:",n),[]}}},gl=280,S1=4,mB=({onClose:t,onPostCreated:e,quotedPostId:r,recipeData:n})=>{const{user:i}=Ca(),[a,o]=C.useState(""),[s,c]=C.useState([]),[f,d]=C.useState([]),[p,v]=C.useState("public"),[y,_]=C.useState(!1),[b,A]=C.useState(""),[S,T]=C.useState(null);C.useEffect(()=>{(async()=>{if(r){const D=await Ka(r);T(D)}})()},[r]);const O=R=>{const D=Array.from(R.target.files||[]);if(D.length===0)return;if(s.length+D.length>S1){A(`${S1}`);return}const j=[];D.forEach(B=>{const U=new FileReader;U.onloadend=()=>{j.push(U.result),j.length===D.length&&d([...f,...j])},U.readAsDataURL(B)}),c([...s,...D]),A("")},N=R=>{c(s.filter((D,j)=>j!==R)),d(f.filter((D,j)=>j!==R))},M=async()=>{if(!i){A("");return}if(!a.trim()){A("");return}if(a.length>gl){A(`${gl}`);return}_(!0),A("");try{console.log(" Checking user profile before posting...");let R=await Wi(i.uid);if(!R){console.log(" ...");try{await FC(i.uid,i.email||"",i.displayName||`User${i.uid.slice(0,8)}`),console.log(" "),R=await Wi(i.uid)}catch(j){console.error(" :",j),A(""),_(!1);return}}const D={content:a.trim(),images:s,visibility:p,quotedPostId:r,recipeData:n};await Xpe(i.uid,D),alert(""),e(),t()}catch(R){console.error(":",R),A("")}finally{_(!1)}},L=[{value:"public",label:"",icon:MD,description:""},{value:"followers",label:"",icon:kD,description:""},{value:"private",label:"",icon:Il,description:""}];return g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"16px"},onClick:t,children:g.jsxs("div",{style:{background:"var(--card)",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:R=>R.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--border)"},children:[g.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:""}),g.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="var(--border)"},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:g.jsx(zi,{size:24})})]}),g.jsxs("div",{style:{padding:"20px"},children:[g.jsx("textarea",{value:a,onChange:R=>o(R.target.value),placeholder:"",style:{width:"100%",minHeight:"120px",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"16px",color:"var(--text)",background:"var(--background)",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"}}),S&&g.jsxs("div",{style:{padding:"12px",background:"var(--background)",border:"1px solid var(--border)",borderRadius:"12px",marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:":"}),g.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:S.authorName}),g.jsxs("div",{style:{fontSize:"14px",color:"var(--text)",marginTop:"4px"},children:[S.content.substring(0,100),S.content.length>100?"...":""]})]}),n&&g.jsxs("div",{style:{padding:"12px",background:"linear-gradient(135deg, rgba(22, 163, 74, 0.05), rgba(129, 199, 132, 0.05))",border:"2px solid var(--primary)",borderRadius:"12px",marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:":"}),g.jsxs("div",{style:{fontWeight:700,fontSize:"16px",color:"var(--text)"},children:[" ",n.title]}),g.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:n.description})]}),g.jsxs("div",{style:{textAlign:"right",fontSize:"14px",color:a.length>gl?"#f44336":"var(--text-secondary)",marginBottom:"16px"},children:[a.length," / ",gl]}),f.length>0&&g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:f.map((R,D)=>g.jsxs("div",{style:{position:"relative",paddingBottom:"100%",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:[g.jsx("img",{src:R,alt:` ${D+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),g.jsx("button",{onClick:()=>N(D),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0, 0, 0, 0.6)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:g.jsx(zi,{size:18})})]},D))}),s.length<S1&&g.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 16px",background:"var(--background)",border:"2px solid var(--border)",borderRadius:"12px",cursor:"pointer",color:"var(--primary)",fontSize:"14px",fontWeight:500,marginBottom:"16px",transition:"background 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="var(--border)"},onMouseLeave:R=>{R.currentTarget.style.background="var(--background)"},children:[g.jsx(lF,{size:20})," (",s.length,"/",S1,")",g.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:O,style:{display:"none"}})]}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("label",{style:{display:"block",fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px",fontWeight:500},children:""}),g.jsx("select",{value:p,onChange:R=>v(R.target.value),style:{width:"100%",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"15px",color:"var(--text)",background:"var(--background)",cursor:"pointer"},children:L.map(R=>g.jsxs("option",{value:R.value,children:[R.label," - ",R.description]},R.value))})]}),b&&g.jsx("div",{style:{padding:"12px",background:"#ffebee",color:"#c62828",borderRadius:"8px",fontSize:"14px",marginBottom:"16px"},children:b}),g.jsx("button",{onClick:M,disabled:y||!a.trim()||a.length>gl,style:{width:"100%",padding:"14px",background:y||!a.trim()||a.length>gl?"var(--border)":"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:600,cursor:y||!a.trim()||a.length>gl?"not-allowed":"pointer",transition:"transform 0.2s"},onMouseEnter:R=>{!y&&a.trim()&&a.length<=gl&&(R.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)"},children:y?"...":""})]})]})})},h0e=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!1),[i,a]=C.useState(!1),[o,s]=C.useState(null),c=p=>{let v="easy";p.difficulty==="super_easy"||p.difficulty==="under_5min"?v="easy":p.difficulty==="under_10min"?v="medium":p.difficulty==="no_fire"&&(v="easy");const y={title:p.title,description:p.content.substring(0,100),ingredients:p.ingredients,instructions:p.content.split(`

`).slice(1),difficulty:v,servings:2,preparationTime:15,cookingTime:30};s(y),a(!0)},f=()=>{a(!1),s(null)},d=()=>{a(!1),s(null),alert("")};return g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:"AI"}),g.jsx(Mpe,{onRecipeGenerated:e,isLoading:r,setIsLoading:n}),r&&g.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:g.jsx(cp,{size:48})}),g.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"..."}),g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AI"})]}),t&&!r&&g.jsx(jpe,{recipe:t,onAttachToPost:c}),g.jsx(Lpe,{onRecipeSelect:e}),g.jsx(Bpe,{onRecipeSelect:e}),i&&g.jsx(mB,{onClose:f,onPostCreated:d,recipeData:o||void 0})]})};function p0e(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function g0e(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var v0e=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),m0e=(function(t){v0e(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),p0e(a,i.prototype),g0e(a),a}return e})(Error),y0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ai=(function(t){y0e(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(m0e),x0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ua=(function(t){x0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Ai),b0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ze=(function(t){b0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Ai),w0e=(function(){function t(e){if(this.binarizer=e,e===null)throw new ze("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),_0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),pn=(function(t){_0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Ai),A0e=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Qt=(function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),E0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$C=(function(t){E0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Ai),S0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),O5=(function(t){S0e(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})($C),C0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},en=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new ze("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new O5(r);if(n>e)throw new O5(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=C0e(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Qt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),et=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),vn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Qt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new ze;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,c=o<i?31:r&31,f=(2<<c)-(1<<s);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new ze;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var c=s>i?0:e&31,f=s<a?31:r&31,d=(2<<f)-(1<<c)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new ze("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ze("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,c=e[0]>>>s,a=1;a<n;a++){var f=e[a];c|=f<<32-s,e[a-1]=c,c=f>>>s}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&en.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+en.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),nA;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(nA||(nA={}));const lr=nA;var T0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),be=(function(t){T0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Ai),I0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(kt||(kt={}));var Jr=(function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,f=0,d=c.length;f!==d;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=I0e(o),y=v.next();!y.done;y=v.next()){var _=y.value;t.NAME_TO_ECI.set(_,this)}}catch(b){i={error:b}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new be("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new be("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new be("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(kt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(kt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(kt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(kt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(kt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(kt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(kt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(kt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(kt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(kt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(kt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(kt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(kt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(kt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(kt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(kt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(kt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(kt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(kt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(kt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(kt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(kt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(kt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(kt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(kt.Big5,28,"Big5"),t.GB18030=new t(kt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(kt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),O0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$1=(function(t){O0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Ai),ya=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Jr?e:Jr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Jr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Jr.UTF8)||e.equals(Jr.ISO8859_1)||e.equals(Jr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t})(),pt=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ya.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(lr.CHARACTER_SET)!==void 0)return r.get(lr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,c=0,f=0,d=0,p=0,v=0,y=0,_=0,b=0,A=0,S=0,T=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<n&&(i||a||o);O++){var N=e[O]&255;o&&(s>0?(N&128)===0?o=!1:s--:(N&128)!==0&&((N&64)===0?o=!1:(s++,(N&32)===0?c++:(s++,(N&16)===0?f++:(s++,(N&8)===0?d++:o=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&S++),a&&(p>0?N<64||N===127||N>252?a=!1:p--:N===128||N===160||N>239?a=!1:N>160&&N<224?(v++,_=0,y++,y>b&&(b=y)):N>127?(p++,y=0,_++,_>A&&(A=_)):(y=0,_=0))}return o&&s>0&&(o=!1),a&&p>0&&(a=!1),o&&(T||c+f+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||b>=3||A>=3)?t.SHIFT_JIS:i&&a?b===2&&v===2||S*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,c,f,d,p,v){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=r[i];break;case"c":_=r[i][0];break;case"f":_=parseFloat(r[i]).toFixed(s);break;case"p":_=parseFloat(r[i]).toPrecision(s);break;case"e":_=parseFloat(r[i]).toExponential(s);break;case"x":_=parseInt(r[i]).toString(y||16);break;case"d":_=parseFloat(parseInt(r[i],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var b=parseInt(f),A=f&&f[0]+""=="0"?"0":" ";_.length<b;)_=c!==void 0?_+A:A+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ya.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Jr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Jr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Jr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Je=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),ko=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new ze("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new ze("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ze("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new ze("illegal character encountered: "+e.substring(f));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ze("row lengths do not match");c++}for(var d=new t(s,c),p=0;p<a;p++)i[p]&&d.set(Math.floor(p%s),Math.floor(p/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ze("input matrix dimensions do not match");for(var r=new vn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,c=e.getRow(a,r).getBitArray(),f=0;f<n;f++)i[s+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new ze("Left and top must be nonnegative");if(i<1||n<1)throw new ze("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new ze("The region must fit inside the matrix");for(var s=this.rowSize,c=this.bits,f=r;f<o;f++)for(var d=f*s,p=e;p<a;p++)c[d+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new vn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Qt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new vn(e),i=new vn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,c=-1,f=0;f<r;f++)for(var d=0;d<n;d++){var p=i[f*n+d];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),d*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;d*32+v<a&&(a=d*32+v)}if(d*32+31>s){for(var v=31;!(p>>>v);)v--;d*32+v>s&&(s=d*32+v)}}}return s<a||c<o?null:Int32Array.from([a,o,s-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&en.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+en.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Je,a=0,o=this.height;a<o;a++){for(var s=0,c=this.width;s<c;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),R0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),le=(function(t){R0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Ai),P0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),D0e=(function(t){P0e(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new vn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,c=0;c<a;c++)s[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&n.set(c);else for(var d=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-d-v)/2<f&&n.set(c),d=p,p=v}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new ko(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var c=Math.floor(i*s/5),f=r.getRow(c,this.luminances),d=Math.floor(n*4/5),p=Math.floor(n/5);p<d;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(o),_=r.getMatrix(),s=0;s<i;s++)for(var b=s*n,p=0;p<n;p++){var v=_[b+p]&255;v<y&&a.set(p,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var c=0,f=0,s=0;s<n;s++){var d=s-a,p=r[s]*d*d;p>f&&(c=s,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=n/16)throw new le;for(var y=c-1,_=-1,s=c-1;s>a;s--){var b=s-a,p=b*b*(c-s)*(i-r[s]);p>_&&(y=s,_=p)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(A0e),N0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),k0e=(function(t){N0e(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var c=e.calculateBlackPoints(a,o,s,n,i),f=new ko(n,i);e.calculateThresholdForBlock(a,o,s,n,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,c){for(var f=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var y=e.cap(p,2,i-3),_=0;_<n;_++){var b=_<<e.BLOCK_SIZE_POWER;b>d&&(b=d);for(var A=e.cap(_,2,n-3),S=0,T=-2;T<=2;T++){var O=s[y+T];S+=O[A-2]+O[A-1]+O[A]+O[A+1]+O[A+2]}var N=S/25;e.thresholdBlock(r,b,v,N,a,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var c=0,f=i*o+n;c<e.BLOCK_SIZE;c++,f+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[f+d]&255)<=a&&s.set(n+d,i+c)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),d=0;d<i;d++){f[d]=new Int32Array(n);var p=d<<e.BLOCK_SIZE_POWER;p>s&&(p=s);for(var v=0;v<n;v++){var y=v<<e.BLOCK_SIZE_POWER;y>c&&(y=c);for(var _=0,b=255,A=0,S=0,T=p*a+y;S<e.BLOCK_SIZE;S++,T+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var N=r[T+O]&255;_+=N,N<b&&(b=N),N>A&&(A=N)}if(A-b>e.MIN_DYNAMIC_RANGE)for(S++,T+=a;S<e.BLOCK_SIZE;S++,T+=a)for(var O=0;O<e.BLOCK_SIZE;O++)_+=r[T+O]&255}var M=_>>e.BLOCK_SIZE_POWER*2;if(A-b<=e.MIN_DYNAMIC_RANGE&&(M=b/2,d>0&&v>0)){var L=(f[d-1][v]+2*f[d][v-1]+f[d-1][v-1])/4;b<L&&(M=L)}f[d][v]=M}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(D0e),by=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new $1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new $1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new $1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Je,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t})(),M0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qC=(function(t){M0e(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(by),j0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),L0e=(function(t){j0e(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,c=0,f=r.length;s<f;s+=4,c++){var d=void 0,p=r[s+3];if(p===0)d=255;else{var v=r[s],y=r[s+1],_=r[s+2];d=306*v+601*y+117*_+512>>10}o[c]=d}else for(var s=0,c=0,b=r.length;s<b;s+=4,c++){var d=void 0,p=r[s+3];if(p===0)d=255;else{var v=r[s],y=r[s+1],_=r[s+2];d=306*v+601*y+117*_+512>>10}o[c]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ze("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=c,n.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new qC(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(by),B0e=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Zn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{f(n.next(d))}catch(p){o(p)}}function c(d){try{f(n.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(s,c)}f((n=n.apply(t,e||[])).next())})},Jn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(d){return c([f,d])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},z0e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wd=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Zn(this,void 0,void 0,function(){var e,r,n,i,a,o,s,c,f,d,p,v;return Jn(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),r=[];try{for(n=z0e(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,c=a.label||"Video device "+(r.length+1),f=a.groupId,d={deviceId:s,label:c,kind:o,groupId:f},r.push(d))}catch(_){p={error:_}}finally{try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(p)throw p.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Zn(this,void 0,void 0,function(){var e;return Jn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new B0e(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Zn(this,void 0,void 0,function(){var r;return Jn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Zn(this,void 0,void 0,function(){return Jn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Zn(this,void 0,void 0,function(){var n,i;return Jn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Zn(this,void 0,void 0,function(){var n;return Jn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Zn(this,void 0,void 0,function(){var n,i;return Jn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Zn(this,void 0,void 0,function(){return Jn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Zn(this,void 0,void 0,function(){var i,a;return Jn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Zn(this,void 0,void 0,function(){var i;return Jn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Zn(this,void 0,void 0,function(){var i;return Jn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Zn(this,void 0,void 0,function(){var n;return Jn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Zn(this,void 0,void 0,function(){return Jn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ua("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ua("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ua("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ua("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ua("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ua("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ua("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ua("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ua("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ua("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Zn(this,void 0,void 0,function(){return Jn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Zn(this,void 0,void 0,function(){return Jn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new le("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=r&&v instanceof le,d=v instanceof pn||v instanceof be,p=d&&n;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(v)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof pn||c instanceof be,s=c instanceof le;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new L0e(n,r),a=new k0e(i);return new w0e(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Wn=(function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Qt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Qt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Qt.arraycopy(r,0,n,0,r.length),Qt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),iA;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(iA||(iA={}));const Be=iA;var aA;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(aA||(aA={}));const Dn=aA;var wy=(function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Wh=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ze;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),Ml=(function(){function t(e,r){if(r.length===0)throw new ze;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Wh.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,c=this.field,i=1;i<s;i++)n=Wh.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ze("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Wh.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ze("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,c=0;c<n;c++)for(var f=r[c],d=0;d<a;d++)o[c+d]=Wh.addOrSubtract(o[c+d],s.multiply(f,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ze;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ze("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ze("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(s,c),d=r.buildMonomial(s,c);n=n.addOrSubtract(d),i=i.addOrSubtract(f)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),U0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yB=(function(t){U0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Ai),F0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bi=(function(t){F0e(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,c=0;c<n;c++)o[c]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var f=new Int32Array(n),c=0;c<n-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new Ml(a,Int32Array.from([0])),a.one=new Ml(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ze;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ml(this,i)},e.prototype.inverse=function(r){if(r===0)throw new yB;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+et.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Wh),V0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),C1=(function(t){V0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Ai),H0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),w0=(function(t){H0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Ai),_y=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Ml(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var c=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=c,c!==0&&(o=!1)}if(!o)for(var f=new Ml(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),f,r),p=d[0],v=d[1],y=this.findErrorLocations(p),_=this.findErrorMagnitudes(v,y),s=0;s<y.length;s++){var b=e.length-1-n.log(y[s]);if(b<0)throw new C1("Bad error location");e[b]=bi.addOrSubtract(e[b],_[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,c=a.getZero(),f=a.getOne();s.getDegree()>=(n/2|0);){var d=o,p=c;if(o=s,c=f,o.isZero())throw new C1("r_{i-1} was zero");s=d;for(var v=a.getZero(),y=o.getCoefficient(o.getDegree()),_=a.inverse(y);s.getDegree()>=o.getDegree()&&!s.isZero();){var b=s.getDegree()-o.getDegree(),A=a.multiply(s.getCoefficient(s.getDegree()),_);v=v.addOrSubtract(a.buildMonomial(b,A)),s=s.addOrSubtract(o.multiplyByMonomial(b,A))}if(f=v.multiply(c).addOrSubtract(p),s.getDegree()>=o.getDegree())throw new w0("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new C1("sigmaTilde(0) was zero");var T=a.inverse(S),O=f.multiplyScalar(T),N=s.multiplyScalar(T);return[O,N]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new C1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),c=1,f=0;f<n;f++)if(o!==f){var d=a.multiply(r[f],s),p=(d&1)===0?d|1:d&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t})(),Cn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Cn||(Cn={}));var R5=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new wy(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Cn.UPPER,i=Cn.UPPER,a="",o=0;o<r;)if(i===Cn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<s;c++){if(r-o<8){o=r;break}var f=t.readCode(e,o,8);a+=pt.castAsNonUtf8Char(f),o+=8}i=n}else{var d=i===Cn.DIGIT?4:5;if(r-o<d)break;var f=t.readCode(e,o,d);o+=d;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(n=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=i)):(a+=p,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Cn.LOWER;case"P":return Cn.PUNCT;case"M":return Cn.MIXED;case"D":return Cn.DIGIT;case"B":return Cn.BINARY;case"U":default:return Cn.UPPER}},t.getCharacter=function(e,r){switch(e){case Cn.UPPER:return t.UPPER_TABLE[r];case Cn.LOWER:return t.LOWER_TABLE[r];case Cn.MIXED:return t.MIXED_TABLE[r];case Cn.PUNCT:return t.PUNCT_TABLE[r];case Cn.DIGIT:return t.DIGIT_TABLE[r];default:throw new w0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=bi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=bi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=bi.AZTEC_DATA_10):(n=12,r=bi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new be;for(var o=e.length%n,s=new Int32Array(a),c=0;c<a;c++,o+=n)s[c]=t.readCode(e,o,n);try{var f=new _y(r);f.decode(s,a-i)}catch(A){throw new be(A)}for(var d=(1<<n)-1,p=0,c=0;c<i;c++){var v=s[c];if(v===0||v===d)throw new be;(v===1||v===d-1)&&p++}for(var y=new Array(i*n-p),_=0,c=0;c<i;c++){var v=s[c];if(v===1||v===d-1)y.fill(v>1,_,_+n-1),_+=n-1;else for(var b=n-1;b>=0;--b)y[_++]=(v&1<<b)!==0}return y},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var c=i+1+2*et.truncDivision(et.truncDivision(i,2)-1,15),f=i/2,d=et.truncDivision(c,2),s=0;s<f;s++){var p=s+et.truncDivision(s,15);a[f-s-1]=d-p-1,a[f+s]=d+p+1}for(var s=0,v=0;s<n;s++){for(var y=(n-s)*4+(r?9:12),_=s*2,b=i-1-_,A=0;A<y;A++)for(var S=A*2,T=0;T<2;T++)o[v+S+T]=e.get(a[_+T],a[_+A]),o[v+2*y+S+T]=e.get(a[_+A],a[b-T]),o[v+4*y+S+T]=e.get(a[b-T],a[b-A]),o[v+6*y+S+T]=e.get(a[b-A],a[_+T]);v+=y*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),bt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t})(),oA=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Re=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*oA.floatToIntBits(this.x)+oA.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var c=a;a=s,s=c}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return bt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t})(),GC=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),$0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),q0e=(function(t){$0e(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(GC),sA=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,c=!1,f=!1,d=!1,p=!1,v=this.width,y=this.height;o;){o=!1;for(var _=!0;(_||!c)&&r<v;)_=this.containsBlackPoint(n,i,r,!1),_?(r++,o=!0,c=!0):c||r++;if(r>=v){a=!0;break}for(var b=!0;(b||!f)&&i<y;)b=this.containsBlackPoint(e,r,i,!0),b?(i++,o=!0,f=!0):f||i++;if(i>=y){a=!0;break}for(var A=!0;(A||!d)&&e>=0;)A=this.containsBlackPoint(n,i,e,!1),A?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&n>=0;)S=this.containsBlackPoint(e,r,n,!0),S?(n--,o=!0,p=!0):p||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var T=r-e,O=null,N=1;O===null&&N<T;N++)O=this.getBlackPointOnSegment(e,i-N,e+N,i);if(O==null)throw new le;for(var M=null,N=1;M===null&&N<T;N++)M=this.getBlackPointOnSegment(e,n+N,e+N,n);if(M==null)throw new le;for(var L=null,N=1;L===null&&N<T;N++)L=this.getBlackPointOnSegment(r,n+N,r-N,n);if(L==null)throw new le;for(var R=null,N=1;R===null&&N<T;N++)R=this.getBlackPointOnSegment(r,i-N,r-N,i);if(R==null)throw new le;return this.centerEdges(R,O,L,M)}else throw new le},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=bt.round(bt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,c=this.image,f=0;f<a;f++){var d=bt.round(e+f*o),p=bt.round(r+f*s);if(c.get(d,p))return new Re(d,p)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),c=r.getY(),f=n.getX(),d=n.getY(),p=i.getX(),v=i.getY(),y=t.CORR;return a<this.width/2?[new Re(p-y,v+y),new Re(s+y,c+y),new Re(f-y,d-y),new Re(a+y,o-y)]:[new Re(p+y,v+y),new Re(s+y,c-y),new Re(f-y,d+y),new Re(a-y,o-y)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),P5=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),c=Math.floor(r[o+1]);if(s<-1||s>n||c<-1||c>i)throw new le;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),c=Math.floor(r[o+1]);if(s<-1||s>n||c<-1||c>i)throw new le;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}},t})(),xB=(function(){function t(e,r,n,i,a,o,s,c,f){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,c,f,d,p,v,y,_,b,A){var S=t.quadrilateralToSquare(e,r,n,i,a,o,s,c),T=t.squareToQuadrilateral(f,d,p,v,y,_,b,A);return T.times(S)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,c=this.a23,f=this.a31,d=this.a32,p=this.a33,v=0;v<r;v+=2){var y=e[v],_=e[v+1],b=a*y+c*_+p;e[v]=(n*y+o*_+f)/b,e[v+1]=(i*y+s*_+d)/b}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,c=this.a23,f=this.a31,d=this.a32,p=this.a33,v=e.length,y=0;y<v;y++){var _=e[y],b=r[y],A=a*_+c*b+p;e[y]=(n*_+o*b+f)/A,r[y]=(i*_+s*b+d)/A}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,c){var f=e-n+a-s,d=r-i+o-c;if(f===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var p=n-a,v=s-a,y=i-o,_=c-o,b=p*_-v*y,A=(f*_-v*d)/b,S=(p*d-f*y)/b;return new t(n-e+A*n,s-e+S*s,e,i-r+A*i,c-r+S*c,r,A,S,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,c){return t.squareToQuadrilateral(e,r,n,i,a,o,s,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),G0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),W0e=(function(t){G0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,c,f,d,p,v,y,_,b,A,S,T,O,N){var M=xB.quadrilateralToQuadrilateral(a,o,s,c,f,d,p,v,y,_,b,A,S,T,O,N);return this.sampleGridWithTransform(r,n,i,M)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new le;for(var o=new ko(n,i),s=new Float32Array(2*n),c=0;c<i;c++){for(var f=s.length,d=c+.5,p=0;p<f;p+=2)s[p]=p/2+.5,s[p+1]=d;a.transformPoints(s),P5.checkAndNudgePoints(r,s);try{for(var p=0;p<f;p+=2)r.get(Math.floor(s[p]),Math.floor(s[p+1]))&&o.set(p/2,c)}catch{throw new le}}return o},e})(P5),WC=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new W0e,t})(),vi=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),K0e=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new q0e(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new le;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var c=(a>>r-2<<1)+(a&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(et.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new le},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var c=new _y(bi.AZTEC_PARAM);c.decode(o,a)}catch{throw new le}for(var f=0,s=0;s<i;s++)f=(f<<4)+o[s];return f},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(s,c,f,d))break}r=s,n=c,i=f,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;var v=new Re(r.getX()+.5,r.getY()-.5),y=new Re(n.getX()+.5,n.getY()+.5),_=new Re(i.getX()-.5,i.getY()+.5),b=new Re(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,y,_,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new sA(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new vi(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new vi(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new vi(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vi(o-7,s-7),!1,-1,-1).toResultPoint()}var c=bt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=bt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new sA(this.image,15,c,f).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new vi(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new vi(c+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new vi(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vi(c-7,f-7),!1,-1,-1).toResultPoint()}return c=bt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=bt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new vi(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=WC.getInstance(),s=this.getDimension(),c=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,c,c,f,c,f,f,c,f,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),c=e.getY(),f=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,p=0;p<n;p++)this.image.get(bt.round(s+p*f),bt.round(c+p*d))&&(i|=1<<n-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new vi(e.getX()-a,e.getY()+a),r=new vi(r.getX()-a,r.getY()-a),n=new vi(n.getX()+a,n.getY()-a),i=new vi(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),p=0;p<d;p++)s+=i,c+=a,this.image.get(bt.round(s),bt.round(c))!==f&&o++;var v=o/n;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new vi(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Re(s+i*a,c+i*o),d=new Re(s-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Re(s+i*a,c+i*o),v=new Re(s-i*a,c-i*o),y=[f,p,d,v];return y},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=bt.round(e.getX()),n=bt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return bt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return bt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(et.truncDivision(this.nbLayers-4,8)+1)+15},t})(),lA=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new K0e(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new R5().decode(s)}catch(p){n=p}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new R5().decode(s)}catch(p){throw n??p}var c=new Wn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Be.AZTEC,Qt.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(Dn.BYTE_SEGMENTS,f);var d=o.getECLevel();return d!=null&&c.putMetadata(Dn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(lr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),Y0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Y0e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new lA,r)||this}return e})(wd);var tn=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(lr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Dn.ORIENTATION)===!0&&(s=s+o.get(Dn.ORIENTATION)%360),a.putMetadata(Dn.ORIENTATION,s);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),d=0;d<c.length;d++)c[d]=new Re(f-c[d].getY()-1,c[d].getX());return a}else throw new le}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new vn(n),o=r&&r.get(lr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),d=0;d<c;d++){var p=Math.trunc((d+1)/2),v=(d&1)===0,y=f+s*(v?p:-p);if(y<0||y>=i)break;try{a=e.getBlackRow(y,a)}catch{continue}for(var _=function(T){if(T===1&&(a.reverse(),r&&r.get(lr.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;r.forEach(function(L,R){return O.set(R,L)}),O.delete(lr.NEED_RESULT_POINT_CALLBACK),r=O}try{var N=b.decodeRow(y,a,r);if(T===1){N.putMetadata(Dn.ORIENTATION,180);var M=N.getResultPoints();M!==null&&(M[0]=new Re(n-M[0].getX()-1,M[0].getY()),M[1]=new Re(n-M[1].getX()-1,M[1].getY()))}return{value:N}}catch{}},b=this,A=0;A<2;A++){var S=_(A);if(typeof S=="object")return S.value}}throw new le},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new le;for(var s=!e.get(r),c=0,f=r;f<o;){if(e.get(f)!==s)n[c]++;else{if(++c===i)break;n[c]=1,s=!s}f++}if(!(c===i||c===i-1&&f===o))throw new le},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new le;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;n*=c;for(var f=0,d=0;d<i;d++){var p=e[d],v=r[d]*c,y=p>v?p-v:v-p;if(y>n)return Number.POSITIVE_INFINITY;f+=y}return f/a},t})(),X0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),D5=(function(t){X0e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,c=!1,f=6,d=i;d<n;d++)if(r.get(d)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var _=tn.patternMatchVariance(o,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,v=y)}if(v>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,v]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new le},e.decodeCode=function(r,n,i){tn.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var c=e.CODE_PATTERNS[s],f=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=s)}if(o>=0)return o;throw new le},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(lr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],c=0,f=new Uint8Array(20);f[c++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new be}for(var p=!1,v=!1,y="",_=o[0],b=o[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,T=0,O=s,N=0,M=!0,L=!1,R=!1;!p;){var D=v;switch(v=!1,S=T,T=e.decodeCode(n,A,b),f[c++]=T,T!==e.CODE_STOP&&(M=!0),T!==e.CODE_STOP&&(N++,O+=N*T),_=b,b+=A.reduce(function(re,K){return re+K},0),T){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new be}switch(d){case e.CODE_CODE_A:if(T<64)R===L?y+=String.fromCharCode(32+T):y+=String.fromCharCode(32+T+128),R=!1;else if(T<96)R===L?y+=String.fromCharCode(T-64):y+=String.fromCharCode(T+64),R=!1;else switch(T!==e.CODE_STOP&&(M=!1),T){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&R?(L=!0,R=!1):L&&R?(L=!1,R=!1):R=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(T<96)R===L?y+=String.fromCharCode(32+T):y+=String.fromCharCode(32+T+128),R=!1;else switch(T!==e.CODE_STOP&&(M=!1),T){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&R?(L=!0,R=!1):L&&R?(L=!1,R=!1):R=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(T<100)T<10&&(y+="0"),y+=T;else switch(T!==e.CODE_STOP&&(M=!1),T){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}D&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=b-_;if(b=n.getNextUnset(b),!n.isRange(b,Math.min(n.getSize(),b+(b-_)/2),!1))throw new le;if(O-=N*S,O%103!==S)throw new pn;var B=y.length;if(B===0)throw new le;B>0&&M&&(d===e.CODE_CODE_C?y=y.substring(0,B-2):y=y.substring(0,B-1));for(var U=(o[1]+o[0])/2,V=_+j/2,z=f.length,Q=new Uint8Array(z),de=0;de<z;de++)Q[de]=f[de];var Y=[new Re(U,r),new Re(V,r)];return new Wn(y,Q,0,Y,Be.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(tn),Q0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Aw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N5=(function(t){Q0e(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,c,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,f),p=n.getNextSet(d[1]),v=n.getSize(),y,_;do{e.recordPattern(n,p,f);var b=e.toNarrowWidePattern(f);if(b<0)throw new le;y=e.patternToChar(b),this.decodeRowResult+=y,_=p;try{for(var A=(a=void 0,Aw(f)),S=A.next();!S.done;S=A.next()){var T=S.value;p+=T}}catch(z){a={error:z}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}p=n.getNextSet(p)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=Aw(f),M=N.next();!M.done;M=N.next()){var T=M.value;O+=T}}catch(z){s={error:z}}finally{try{M&&!M.done&&(c=N.return)&&c.call(N)}finally{if(s)throw s.error}}var L=p-_-O;if(p!==v&&L*2<O)throw new le;if(this.usingCheckDigit){for(var R=this.decodeRowResult.length-1,D=0,j=0;j<R;j++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(R)!==e.ALPHABET_STRING.charAt(D%43))throw new pn;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new le;var B;this.extendedMode?B=e.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;var U=(d[1]+d[0])/2,V=_+O/2;return new Wn(B,null,0,[new Re(U,r),new Re(V,r)],Be.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,c=!1,f=n.length,d=a;d<i;d++)if(r.get(d)!==c)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new le},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var c=2147483647;try{for(var f=(n=void 0,Aw(r)),d=f.next();!d.done;d=f.next()){var p=d.value;p<c&&p>o&&(c=p)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=c,s=0;for(var v=0,y=0,_=0;_<a;_++){var p=r[_];p>o&&(y|=1<<a-1-_,s++,v+=p)}if(s===3){for(var _=0;_<a&&s>0;_++){var p=r[_];if(p>o&&(s--,p*2>=v))return-1}return y}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new le},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),c="\0";switch(o){case"+":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)+32);else throw new be;break;case"$":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)-64);else throw new be;break;case"%":if(s>="A"&&s<="E")c=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")c=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")c=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")c="\0";else if(s==="V")c="@";else if(s==="W")c="`";else if(s==="X"||s==="Y"||s==="Z")c="";else throw new be;break;case"/":if(s>="A"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")c=":";else throw new be;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(tn),Z0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ew=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k5=(function(t){Z0e(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,c,f=this.findAsteriskPattern(n),d=n.getNextSet(f[1]),p=n.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var y,_;do{e.recordPattern(n,d,v);var b=this.toPattern(v);if(b<0)throw new le;y=this.patternToChar(b),this.decodeRowResult+=y,_=d;try{for(var A=(a=void 0,Ew(v)),S=A.next();!S.done;S=A.next()){var T=S.value;d+=T}}catch(j){a={error:j}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=Ew(v),M=N.next();!M.done;M=N.next()){var T=M.value;O+=T}}catch(j){s={error:j}}finally{try{M&&!M.done&&(c=N.return)&&c.call(N)}finally{if(s)throw s.error}}if(d===p||!n.get(d))throw new le;if(this.decodeRowResult.length<2)throw new le;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var L=this.decodeExtended(this.decodeRowResult),R=(f[1]+f[0])/2,D=_+O/2;return new Wn(L,null,0,[new Re(R,r),new Re(D,r)],Be.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,c=a.length,f=0,d=i;d<n;d++)if(r.get(d)!==s)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,s=!s}throw new le},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=Ew(r),s=o.next();!s.done;s=o.next()){var c=s.value;a+=c}}catch(_){n={error:_}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var f=0,d=r.length,p=0;p<d;p++){var v=Math.round(r[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var y=0;y<v;y++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new le},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new be;var s=r.charAt(a+1),c="\0";switch(o){case"d":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)+32);else throw new be;break;case"a":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)-64);else throw new be;break;case"b":if(s>="A"&&s<="E")c=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")c=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")c=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")c="\0";else if(s==="V")c="@";else if(s==="W")c="`";else if(s>="X"&&s<="Z")c="";else throw new be;break;case"c":if(s>="A"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")c=":";else throw new be;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new pn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(tn),J0e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ege=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M5=(function(t){J0e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),c=this.decodeEnd(n),f=new Je;e.decodeMiddle(n,s[1],c[0],f);var d=f.toString(),p=null;i!=null&&(p=i.get(lr.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=d.length,y=!1,_=0;try{for(var b=ege(p),A=b.next();!A.done;A=b.next()){var S=A.value;if(v===S){y=!0;break}S>_&&(_=S)}}catch(N){a={error:N}}finally{try{A&&!A.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}if(!y&&v>_&&(y=!0),!y)throw new be;var T=[new Re(s[1],r),new Re(c[0],r)],O=new Wn(d,null,0,T,Be.ITF,new Date().getTime());return O},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),s.fill(0),c.fill(0);n<i;){tn.recordPattern(r,n,o);for(var f=0;f<5;f++){var d=2*f;s[f]=o[d],c[f]=o[d+1]}var p=e.decodeDigit(s);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){n+=v})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new le},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new le;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof le&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),c=!1,f=0,d=n;o.fill(0);for(var p=n;p<s;p++)if(r.get(p)!==c)o[f]++;else{if(f===a-1){if(tn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],Qt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new le},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],c=tn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new le},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(tn),tge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ed=(function(t){tge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var c=s-(a-s);c>=0&&(n=r.isRange(c,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new be;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new be;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,f=n,d=a.length,p=i,v=n;v<s;v++)if(r.get(v)!==p)o[c]++;else{if(c===d-1){if(tn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var y=o.slice(2,o.length),_=0;_<c-1;_++)o[_]=y[_];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new le},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,c=a.length,f=0;f<c;f++){var d=a[f],p=tn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,s=f)}if(s>=0)return s;throw new le},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(tn),rge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nge=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),c=[new Re((n[0]+n[1])/2,e),new Re(a,e)],f=new Wn(o,null,0,c,Be.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),c=r[1],f=0,d=0;d<5&&c<s;d++){var p=ed.decodeDigit(e,o,c,ed.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,rge(o)),y=v.next();!y.done;y=v.next()){var _=y.value;c+=_}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new le;var b=this.determineCheckDigit(f);if(t.extensionChecksum(n.toString())!==b)throw new le;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new le},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Dn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t})(),ige=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},age=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),c=[new Re((n[0]+n[1])/2,e),new Re(a,e)],f=new Wn(o,null,0,c,Be.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),c=r[1],f=0,d=0;d<2&&c<s;d++){var p=ed.decodeDigit(e,o,c,ed.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,ige(o)),y=v.next();!y.done;y=v.next()){var _=y.value;c+=_}}catch(b){i={error:b}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new le;if(parseInt(n.toString())%4!==f)throw new le;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Dn.ISSUE_NUMBER,parseInt(e)]])},t})(),oge=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=ed.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new nge;return a.decodeRow(e,r,i)}catch{var o=new age;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),sge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Zr=(function(t){sge(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(lr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Re((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var c=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(o!=null){var p=new Re(f,r);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(n,f);if(o!=null){var y=new Re((v[0]+v[1])/2,r);o.foundPossibleResultPoint(y)}var _=v[1],b=_+(_-v[0]);if(b>=n.getSize()||!n.isRange(_,b,!1))throw new le;var A=d.toString();if(A.length<8)throw new be;if(!e.checkChecksum(A))throw new pn;var S=(a[1]+a[0])/2,T=(v[1]+v[0])/2,O=this.getBarcodeFormat(),N=[new Re(S,r),new Re(T,r)],M=new Wn(A,null,0,N,O,new Date().getTime()),L=0;try{var R=oge.decodeRow(r,n,v[1]);M.putMetadata(Dn.UPC_EAN_EXTENSION,R.getText()),M.putAllMetadata(R.getResultMetadata()),M.addResultPoints(R.getResultPoints()),L=R.getText().length}catch{}var D=i==null?null:i.get(lr.ALLOWED_EAN_EXTENSIONS);if(D!=null){var j=!1;for(var B in D)if(L.toString()===B){j=!0;break}if(!j)throw new le}return O===Be.EAN_13||Be.UPC_A,M},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new be;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new be;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(ed),lge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),j5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cA=(function(t){lge(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=r.getSize(),p=n[1],v=0,y=0;y<6&&p<d;y++){var _=Zr.decodeDigit(r,f,p,Zr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var b=(a=void 0,j5(f)),A=b.next();!A.done;A=b.next()){var S=A.value;p+=S}}catch(M){a={error:M}}finally{try{A&&!A.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}_>=10&&(v|=1<<5-y)}i=e.determineFirstDigit(i,v);var T=Zr.findGuardPattern(r,p,!0,Zr.MIDDLE_PATTERN,new Int32Array(Zr.MIDDLE_PATTERN.length).fill(0));p=T[1];for(var y=0;y<6&&p<d;y++){var _=Zr.decodeDigit(r,f,p,Zr.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var O=(s=void 0,j5(f)),N=O.next();!N.done;N=O.next()){var S=N.value;p+=S}}catch(R){s={error:R}}finally{try{N&&!N.done&&(c=O.return)&&c.call(O)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new le},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Zr),cge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),L5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B5=(function(t){cge(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=r.getSize(),p=n[1],v=0;v<4&&p<d;v++){var y=Zr.decodeDigit(r,f,p,Zr.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var _=(a=void 0,L5(f)),b=_.next();!b.done;b=_.next()){var A=b.value;p+=A}}catch(N){a={error:N}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var S=Zr.findGuardPattern(r,p,!0,Zr.MIDDLE_PATTERN,new Int32Array(Zr.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<d;v++){var y=Zr.decodeDigit(r,f,p,Zr.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var T=(s=void 0,L5(f)),O=T.next();!O.done;O=T.next()){var A=O.value;p+=A}}catch(L){s={error:L}}finally{try{O&&!O.done&&(c=T.return)&&c.call(T)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_8},e})(Zr),uge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),z5=(function(t){uge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new cA,r}return e.prototype.getBarcodeFormat=function(){return Be.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Wn(n.substring(1),null,null,r.getResultPoints(),Be.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new le},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Zr),fge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),dge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U5=(function(t){fge(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(A){return A});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=r.getSize(),f=n[1],d=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(r,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var y=(a=void 0,dge(s)),_=y.next();!_.done;_=y.next()){var b=_.value;f+=b}}catch(A){a={error:A}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}v>=10&&(d|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Je(i),d),f},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Zr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw le.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Be.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Je;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Zr),hge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),F5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sw=(function(t){hge(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(lr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Be.EAN_13)>-1&&a.push(new cA),i.indexOf(Be.UPC_A)>-1&&a.push(new z5),i.indexOf(Be.EAN_8)>-1&&a.push(new B5),i.indexOf(Be.UPC_E)>-1&&a.push(new U5)),a.length===0&&(a.push(new cA),a.push(new z5),a.push(new B5),a.push(new U5)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=F5(this.readers),c=s.next();!c.done;c=s.next()){var f=c.value;try{var d=f.decodeRow(r,n,i),p=d.getBarcodeFormat()===Be.EAN_13&&d.getText().charAt(0)==="0",v=i==null?null:i.get(lr.POSSIBLE_FORMATS),y=v==null||v.includes(Be.UPC_A);if(p&&y){var _=d.getRawBytes(),b=new Wn(d.getText().substring(1),_,_?_.length:null,d.getResultPoints(),Be.UPC_A);return b.putAllMetadata(d.getResultMetadata()),b}return d}catch{}}}catch(A){a={error:A}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new le},e.prototype.reset=function(){var r,n;try{for(var i=F5(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(tn),pge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gge=(function(t){pge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new le;var o=this.codaBarDecodeRow(a.row);if(!o)throw new le;return new Wn(o,null,0,[new Re(a.left,r),new Re(a.right,r)],Be.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],c=1,f=1;f<n.length;f++)n[f]===s?c++:(s=n[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,f){return(c+f)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(tn),vge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fc=(function(t){vge(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(tn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new le},e.count=function(r){return bt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=mge(r),p=d.next();!p.done;p=d.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(tn),rm=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),bB=(function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(n,a)),this.resultPoints.push(new Re(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),yge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cf=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=yge(e),c=s.next();!c.done;c=s.next()){var f=c.value;o+=f}}catch(T){i={error:T}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,p=0,v=e.length,y=0;y<v-1;y++){var _=void 0;for(_=1,p|=1<<y;_<e[y];_++,p&=~(1<<y)){var b=t.combins(o-_-1,v-y-2);if(n&&p===0&&o-_-(v-y-1)>=v-y-1&&(b-=t.combins(o-_-(v-y),v-y-2)),v-y-1>1){for(var A=0,S=o-_-(v-y-2);S>r;S--)A+=t.combins(o-_-S-1,v-y-3);b-=A*(v-1-y)}else o-_>r&&b--;d+=b}o-=_}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),xge=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new vn(n),a=0,o=e[0],s=o.getRightChar().getValue(),c=11;c>=0;--c)(s&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],d=f.getLeftChar().getValue(),p=11;p>=0;--p)(d&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),Mc=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),KC=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),bge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),za=(function(t){bge(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(KC),wge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jc=(function(t){wge(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(KC),_ge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xf=(function(t){_ge(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new be;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(KC),T1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Age=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,c,f;if(!e)return null;if(e.length<2)throw new le;var d=e.substring(0,2);try{for(var p=T1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var y=v.value;if(y[0]===d)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,y[2],e):t.processFixedAI(2,y[1],e)}}catch(L){r={error:L}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(e.length<3)throw new le;var _=e.substring(0,3);try{for(var b=T1(t.THREE_DIGIT_DATA_LENGTH),A=b.next();!A.done;A=b.next()){var y=A.value;if(y[0]===_)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,y[2],e):t.processFixedAI(3,y[1],e)}}catch(L){i={error:L}}finally{try{A&&!A.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}try{for(var S=T1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),T=S.next();!T.done;T=S.next()){var y=T.value;if(y[0]===_)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,y[2],e):t.processFixedAI(4,y[1],e)}}catch(L){o={error:L}}finally{try{T&&!T.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new le;var O=e.substring(0,4);try{for(var N=T1(t.FOUR_DIGIT_DATA_LENGTH),M=N.next();!M.done;M=N.next()){var y=M.value;if(y[0]===O)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,y[2],e):t.processFixedAI(4,y[1],e)}}catch(L){c={error:L}}finally{try{M&&!M.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}throw new le},t.processFixedAI=function(e,r,n){if(n.length<e)throw new le;var i=n.substring(0,e);if(n.length<e+r)throw new le;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?s:s+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(s);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),q1=(function(){function t(e){this.buffer=new Je,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=Age.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new xf(this.information.getSize(),xf.FNC1,xf.FNC1):new xf(this.information.getSize(),r-1,xf.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new xf(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new jc(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new jc(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new jc(this.current.getPosition(),this.buffer.toString()):r=new jc(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Mc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new jc(this.current.getPosition(),this.buffer.toString());return new Mc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new jc(this.current.getPosition(),this.buffer.toString());return new Mc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new jc(this.current.getPosition(),this.buffer.toString());return new Mc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new za(e+5,za.FNC1);if(r>=5&&r<15)return new za(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new za(e+7,""+(n+1));if(n>=90&&n<116)return new za(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new be}return new za(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new za(e+5,za.FNC1);if(r>=5&&r<15)return new za(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new za(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new w0("Decoding invalid alphanumeric value: "+n)}return new za(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),wB=(function(){function t(e){this.information=e,this.generalDecoder=new q1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),Ege=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ha=(function(t){Ege(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(wB),Sge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cge=(function(t){Sge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Je;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Ha),Tge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ige=(function(t){Tge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Je;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(wB),Oge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),G1=(function(t){Oge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,c=0;c<5;++c)o/s===0&&r.append("0"),s/=10;r.append(o)},e})(Ha),Rge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_B=(function(t){Rge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+G1.GTIN_SIZE+e.WEIGHT_SIZE)throw new le;var r=new Je;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+G1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(G1),Pge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Dge=(function(t){Pge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(_B),Nge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kge=(function(t){Nge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(_B),Mge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jge=(function(t){Mge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ha.GTIN_SIZE)throw new le;var r=new Je;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Ha),Lge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bge=(function(t){Lge(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ha.GTIN_SIZE)throw new le;var r=new Je;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Ha),zge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vl=(function(t){zge(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new le;var r=new Je;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(G1);function Uge(t){try{if(t.get(1))return new Cge(t);if(!t.get(2))return new Ige(t);var e=q1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Dge(t);case 5:return new kge(t)}var r=q1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new jge(t);case 13:return new Bge(t)}var n=q1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new vl(t,"310","11");case 57:return new vl(t,"320","11");case 58:return new vl(t,"310","13");case 59:return new vl(t,"320","13");case 60:return new vl(t,"310","15");case 61:return new vl(t,"320","15");case 62:return new vl(t,"310","17");case 63:return new vl(t,"320","17")}}catch(i){throw console.log(i),new w0("unknown decoder: "+t)}}var V5=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),Fge=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),Vge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ml=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hge=(function(t){Vge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof le){if(!this.pairs.length)throw new le;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new le},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,ml(r)),f=c.next();!f.done;f=c.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(r);p.push(s);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new le},e.isValidSequence=function(r){var n,i;try{for(var a=ml(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var c=!0,f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!==s[f]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Fge(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,c,f;try{for(var d=ml(n),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.getPairs().length!==r.length){var y=!0;try{for(var _=(o=void 0,ml(v.getPairs())),b=_.next();!b.done;b=_.next()){var A=b.value,S=!1;try{for(var T=(c=void 0,ml(r)),O=T.next();!O.done;O=T.next()){var N=O.value;if(V5.equals(A,N)){S=!0;break}}}catch(M){c={error:M}}finally{try{O&&!O.done&&(f=T.return)&&f.call(T)}finally{if(c)throw c.error}}S||(y=!1)}}catch(M){o={error:M}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}}catch(M){i={error:M}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,c,f;try{for(var d=ml(n),p=d.next();!p.done;p=d.next()){var v=p.value,y=!0;try{for(var _=(o=void 0,ml(r)),b=_.next();!b.done;b=_.next()){var A=b.value,S=!1;try{for(var T=(c=void 0,ml(v.getPairs())),O=T.next();!O.done;O=T.next()){var N=O.value;if(A.equals(N)){S=!0;break}}}catch(M){c={error:M}}finally{try{O&&!O.done&&(f=T.return)&&f.call(T)}finally{if(c)throw c.error}}if(!S){y=!1;break}}}catch(M){o={error:M}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(y)return!0}}catch(M){i={error:M}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=xge.buildBitArray(r),i=Uge(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],s[0],s[1]];return new Wn(a,null,null,c,Be.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var c=this.pairs.get(s);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,a),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new le;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(p){d=null,console.log(p)}return new V5(f,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var c=n[n.length-1];s=c.getFinderPattern().getStartEnd()[1]}var f=n.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var p=0,v=s,y=s;y<o;y++)if(r.get(y)!==d)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=y;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,d=!d}throw new le},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var f=this.getDecodeFinderCounters();Qt.arraycopy(f,0,f,1,f.length-1),f[0]=a;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new bB(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var d=o[c];o[c]=o[f],o[f]=d}}var p=17,v=bt.sum(new Int32Array(o))/p,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(v-y)/y>.3)throw new le;for(var _=this.getOddCounts(),b=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var T=1*o[c]/v,O=T+.5;if(O<1){if(T<.3)throw new le;O=1}else if(O>8){if(T>8.7)throw new le;O=8}var N=c/2;(c&1)===0?(_[N]=O,A[N]=T-O):(b[N]=O,S[N]=T-O)}this.adjustOddEvenCounts(p);for(var M=4*n.getValue()+(i?0:2)+(a?0:1)-1,L=0,R=0,c=_.length-1;c>=0;c--){if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[M][2*c];R+=_[c]*D}L+=_[c]}for(var j=0,c=b.length-1;c>=0;c--)if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[M][2*c+1];j+=b[c]*D}var B=R+j;if((L&1)!==0||L>13||L<4)throw new le;var U=(13-L)/2,V=e.SYMBOL_WIDEST[U],z=9-V,Q=Cf.getRSSvalue(_,V,!0),de=Cf.getRSSvalue(b,z,!1),Y=e.EVEN_TOTAL_SUBSET[U],re=e.GSUM[U],K=Q*Y+de+re;return new rm(K,B)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=bt.sum(new Int32Array(this.getOddCounts())),i=bt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,c=!1;i>13?c=!0:i<4&&(s=!0);var f=n+i-r,d=(n&1)===1,p=(i&1)===0;if(f===1)if(d){if(p)throw new le;o=!0}else{if(!p)throw new le;c=!0}else if(f===-1)if(d){if(p)throw new le;a=!0}else{if(!p)throw new le;s=!0}else if(f===0){if(d){if(!p)throw new le;n<i?(a=!0,c=!0):(o=!0,s=!0)}else if(p)throw new le}else throw new le;if(a){if(o)throw new le;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(c)throw new le;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Fc),$ge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qge=(function(t){$ge(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(rm),Gge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H5=(function(t){Gge(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,c,f=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var p=Cw(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.getCount()>1)try{for(var _=(s=void 0,Cw(this.possibleRightPairs)),b=_.next();!b.done;b=_.next()){var A=b.value;if(A.getCount()>1&&e.checkChecksum(y,A))return e.constructResult(y,A)}}catch(S){s={error:S}}finally{try{b&&!b.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new le},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=Cw(r),c=s.next();!c.done;c=s.next()){var f=c.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Je,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var c=0,s=0;s<13;s++){var f=o.charAt(s).charCodeAt(0)-48;c+=(s&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=r.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new Wn(o.toString(),null,0,[d[0],d[1],p[0],p[1]],Be.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),c=a==null?null:a.get(lr.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;n&&(f=r.getSize()-1-f),c.foundPossibleResultPoint(new Re(f,i))}var d=this.decodeDataCharacter(r,s,!0),p=this.decodeDataCharacter(r,s,!1);return new qge(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)tn.recordPatternInReverse(r,n.getStartEnd()[0],a);else{tn.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,c=a.length-1;s<c;s++,c--){var f=a[s];a[s]=a[c],a[c]=f}}for(var d=i?16:15,p=bt.sum(new Int32Array(a))/d,v=this.getOddCounts(),y=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var A=a[s]/p,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var T=Math.floor(s/2);(s&1)===0?(v[T]=S,_[T]=A-S):(y[T]=S,b[T]=A-S)}this.adjustOddEvenCounts(i,d);for(var O=0,N=0,s=v.length-1;s>=0;s--)N*=9,N+=v[s],O+=v[s];for(var M=0,L=0,s=y.length-1;s>=0;s--)M*=9,M+=y[s],L+=y[s];var R=N+3*M;if(i){if((O&1)!==0||O>12||O<4)throw new le;var D=(12-O)/2,j=e.OUTSIDE_ODD_WIDEST[D],B=9-j,U=Cf.getRSSvalue(v,j,!1),V=Cf.getRSSvalue(y,B,!0),z=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],Q=e.OUTSIDE_GSUM[D];return new rm(U*z+V+Q,R)}else{if((L&1)!==0||L>10||L<4)throw new le;var D=(10-L)/2,j=e.INSIDE_ODD_WIDEST[D],B=9-j,U=Cf.getRSSvalue(v,j,!0),V=Cf.getRSSvalue(y,B,!1),de=e.INSIDE_ODD_TOTAL_SUBSET[D],Q=e.INSIDE_GSUM[D];return new rm(V*de+U+Q,R)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var c=0,f=s,d=s;d<a;d++)if(r.get(d)!==o)i[c]++;else{if(c===3){if(Fc.isFinderPattern(i))return[f,d];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new le},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var c=a[0]-s,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Qt.arraycopy(f,0,d,1,f.length-1),d[0]=c;var p=this.parseFinderValue(d,e.FINDER_PATTERNS),v=s,y=a[1];return i&&(v=r.getSize()-1-v,y=r.getSize()-1-y),new bB(p,[s,a[1]],v,y,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=bt.sum(new Int32Array(this.getOddCounts())),a=bt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,c=!1,f=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var d=i+a-n,p=(i&1)===(r?1:0),v=(a&1)===1;if(d===1)if(p){if(v)throw new le;s=!0}else{if(!v)throw new le;f=!0}else if(d===-1)if(p){if(v)throw new le;o=!0}else{if(!v)throw new le;c=!0}else if(d===0){if(p){if(!v)throw new le;i<a?(o=!0,f=!0):(s=!0,c=!0)}else if(v)throw new le}else throw new le;if(o){if(s)throw new le;Fc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Fc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new le;Fc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Fc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Fc),Wge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Kh=(function(t){Wge(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(lr.POSSIBLE_FORMATS):null,a=r&&r.get(lr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(lr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Be.EAN_13)||i.includes(Be.UPC_A)||i.includes(Be.EAN_8)||i.includes(Be.UPC_E))&&n.readers.push(new Sw(r)),i.includes(Be.CODE_39)&&n.readers.push(new N5(a,o)),i.includes(Be.CODE_93)&&n.readers.push(new k5),i.includes(Be.CODE_128)&&n.readers.push(new D5),i.includes(Be.ITF)&&n.readers.push(new M5),i.includes(Be.CODABAR)&&n.readers.push(new gge),i.includes(Be.RSS_14)&&n.readers.push(new H5),i.includes(Be.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Hge))),n.readers.length===0&&(n.readers.push(new Sw(r)),n.readers.push(new N5),n.readers.push(new k5),n.readers.push(new Sw(r)),n.readers.push(new D5),n.readers.push(new M5),n.readers.push(new H5)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new le},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(tn),Kge=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Kge(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Kh(n),r,n)||this}return e})(wd);var $5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),St=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),Yge=(function(){function t(e,r,n,i,a,o){var s,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,d=o.getECCodewords(),p=o.getECBlocks();try{for(var v=$5(p),y=v.next();!y.done;y=v.next()){var _=y.value;f+=_.getCount()*(_.getDataCodewords()+d)}}catch(b){s={error:b}}finally{try{y&&!y.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new be;try{for(var a=$5(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new be},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Tt(5,new St(1,3))),new t(2,12,12,10,10,new Tt(7,new St(1,5))),new t(3,14,14,12,12,new Tt(10,new St(1,8))),new t(4,16,16,14,14,new Tt(12,new St(1,12))),new t(5,18,18,16,16,new Tt(14,new St(1,18))),new t(6,20,20,18,18,new Tt(18,new St(1,22))),new t(7,22,22,20,20,new Tt(20,new St(1,30))),new t(8,24,24,22,22,new Tt(24,new St(1,36))),new t(9,26,26,24,24,new Tt(28,new St(1,44))),new t(10,32,32,14,14,new Tt(36,new St(1,62))),new t(11,36,36,16,16,new Tt(42,new St(1,86))),new t(12,40,40,18,18,new Tt(48,new St(1,114))),new t(13,44,44,20,20,new Tt(56,new St(1,144))),new t(14,48,48,22,22,new Tt(68,new St(1,174))),new t(15,52,52,24,24,new Tt(42,new St(2,102))),new t(16,64,64,14,14,new Tt(56,new St(2,140))),new t(17,72,72,16,16,new Tt(36,new St(4,92))),new t(18,80,80,18,18,new Tt(48,new St(4,114))),new t(19,88,88,20,20,new Tt(56,new St(4,144))),new t(20,96,96,22,22,new Tt(68,new St(4,174))),new t(21,104,104,24,24,new Tt(56,new St(6,136))),new t(22,120,120,18,18,new Tt(68,new St(6,175))),new t(23,132,132,20,20,new Tt(62,new St(8,163))),new t(24,144,144,22,22,new Tt(62,new St(8,156),new St(2,155))),new t(25,8,18,6,16,new Tt(7,new St(1,5))),new t(26,8,32,6,14,new Tt(11,new St(1,10))),new t(27,12,26,10,24,new Tt(14,new St(1,16))),new t(28,12,36,10,16,new Tt(18,new St(1,22))),new t(29,16,36,14,16,new Tt(24,new St(1,32))),new t(30,16,48,14,22,new Tt(28,new St(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),Xge=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new be;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ko(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Yge.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,c=!1,f=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!c)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,c=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new be;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new ze("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,c=o*i,f=s*a,d=new ko(f,c),p=0;p<o;++p)for(var v=p*i,y=0;y<s;++y)for(var _=y*a,b=0;b<i;++b)for(var A=p*(i+2)+1+b,S=v+b,T=0;T<a;++T){var O=y*(a+2)+1+T;if(e.get(O,A)){var N=_+T;d.set(N,S)}}return d},t})(),q5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qge=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),c=0,f=s.getECBlocks();try{for(var d=q5(f),p=d.next();!p.done;p=d.next()){var v=p.value;c+=v.getCount()}}catch(Q){n={error:Q}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var y=new Array(c),_=0;try{for(var b=q5(f),A=b.next();!A.done;A=b.next())for(var v=A.value,S=0;S<v.getCount();S++){var T=v.getDataCodewords(),O=s.getECCodewords()+T;y[_++]=new t(T,new Uint8Array(O))}}catch(Q){a={error:Q}}finally{try{A&&!A.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}for(var N=y[0].codewords.length,M=N-s.getECCodewords(),L=M-1,R=0,S=0;S<L;S++)for(var D=0;D<_;D++)y[D].codewords[S]=e[R++];for(var j=r.getVersionNumber()===24,B=j?8:_,D=0;D<B;D++)y[D].codewords[M-1]=e[R++];for(var U=y[0].codewords.length,S=M;S<U;S++)for(var D=0;D<_;D++){var V=j?(D+8)%_:D,z=j&&V>7?S-1:S;y[V].codewords[z]=e[R++]}if(R!==e.length)throw new ze;return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),AB=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ze(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,c=o-s,f=255>>8-s<<c;r=(a[i]&f)>>c,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;r=r<<e|(a[i]&f)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Yr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yr||(Yr={}));var Zge=(function(){function t(){}return t.decode=function(e){var r=new AB(e),n=new Je,i=new Je,a=new Array,o=Yr.ASCII_ENCODE;do if(o===Yr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Yr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Yr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Yr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Yr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Yr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new be}o=Yr.ASCII_ENCODE}while(o!==Yr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new wy(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new be;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Yr.ASCII_ENCODE;if(a===129)return Yr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Yr.C40_ENCODE;case 231:return Yr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Yr.ANSIX12_ENCODE;case 239:return Yr.TEXT_ENCODE;case 240:return Yr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new be;break}}while(e.available()>0);return Yr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var c=i[s];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new be;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new be}a=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),a=0;break;default:throw new be}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var c=i[s];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new be;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new be}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f),a=0}else throw new be;break;default:throw new be}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new be;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new be;for(var s=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new be;s[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(ya.decode(s,pt.ISO88591))}catch(f){throw new w0("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),Jge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e1e=(function(){function t(){this.rsDecoder=new _y(bi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new Xge(e),a=i.getVersion(),o=i.readCodewords(),s=Qge.getDataBlocks(o,a),c=0;try{for(var f=Jge(s),d=f.next();!d.done;d=f.next()){var p=d.value;c+=p.getNumDataCodewords()}}catch(O){r={error:O}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}for(var v=new Uint8Array(c),y=s.length,_=0;_<y;_++){var b=s[_],A=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(A,S);for(var T=0;T<S;T++)v[T*y+_]=A[T]}return Zge.decode(v)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new pn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),t1e=(function(){function t(e){this.image=e,this.rectangleDetector=new sA(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new le;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(c&1)===1&&(c+=1),4*s<7*c&&4*c<7*s&&(s=c=Math.max(s,c));var f=t.sampleGrid(this.image,n,i,a,o,s,c);return new GC(f,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Re(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Re(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,r),d=o,p=[a,r,n,i];return d>s&&(d=s,p[0]=r,p[1]=n,p[2]=i,p[3]=a),d>c&&(d=c,p[0]=n,p[1]=i,p[2]=a,p[3]=r),d>f&&(p[0]=i,p[1]=a,p[2]=r,p[3]=n),p},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(s,r),d=this.transitionsBetween(c,a);return f<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),c=t.shiftPoint(r,n,(s+1)*4),f=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,a),s=this.transitionsBetween(f,a);var d=new Re(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),p=new Re(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(p)?p:null;if(!this.isValid(p))return d;var v=this.transitionsBetween(c,d)+this.transitionsBetween(f,d),y=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>y?d:p},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,c=t.shiftPoint(r,n,s*4),f=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,a)+1,s=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,p=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,p),n=t.moveAway(n,d,p),i=t.moveAway(i,d,p),a=t.moveAway(a,d,p);var v,y;return c=t.shiftPoint(r,n,s*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(n,r,s*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,s*4),f=t.shiftPoint(f,n,o*4),y=t.shiftPoint(a,i,s*4),y=t.shiftPoint(y,r,o*4),[c,v,f,y]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var c=WC.getInstance();return c.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var c=n;n=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-n),d=Math.abs(o-i),p=-f/2,v=i<o?1:-1,y=n<a?1:-1,_=0,b=this.image.get(s?i:n,s?n:i),A=n,S=i;A!==a;A+=y){var T=this.image.get(s?S:A,s?A:S);if(T!==b&&(_++,b=T),p+=d,p>0){if(S===o)break;S+=v,p-=f}}return _},t})(),uA=(function(){function t(){this.decoder=new e1e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(lr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new t1e(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),c=new Wn(n.getText(),s,8*s.length,i,Be.DATA_MATRIX,Qt.currentTimeMillis()),f=n.getByteSegments();f!=null&&c.putMetadata(Dn.BYTE_SEGMENTS,f);var d=n.getECLevel();return d!=null&&c.putMetadata(Dn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new le;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],c=n[0],f=(c-s+1)/i,d=(o-a+1)/i;if(f<=0||d<=0)throw new le;var p=i/2;a+=p,s+=p;for(var v=new ko(f,d),y=0;y<d;y++)for(var _=a+y*i,b=0;b<f;b++)e.get(s+b*i,_)&&v.set(b,y);return v},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new le;var o=i-e[0];if(o===0)throw new le;return o},t.NO_POINTS=[],t})(),r1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){r1e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new uA,r)||this}return e})(wd);var Tf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Tf||(Tf={}));var n1e=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ua(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ze;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Tf.L,"L",1),t.M=new t(Tf.M,"M",0),t.Q=new t(Tf.Q,"Q",3),t.H=new t(Tf.H,"H",2),t})(),i1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EB=(function(){function t(e){this.errorCorrectionLevel=n1e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return et.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=i1e(t.FORMAT_INFO_DECODE_LOOKUP),c=s.next();!c.done;c=s.next()){var f=c.value,d=f[0];if(d===e||d===r)return new t(f[1]);var p=t.numBitsDiffering(e,d);p<a&&(o=f[1],a=p),e!==r&&(p=t.numBitsDiffering(r,d),p<a&&(o=f[1],a=p))}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),a1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ee=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=a1e(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),o1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nu=(function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var d=o1e(f),p=d.next();!p.done;p=d.next()){var v=p.value;s+=v.getCount()*(v.getDataCodewords()+c)}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new be;try{return this.getVersionForNumber((e-17)/4)}catch{throw new be}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ze;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=EB.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ko(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ee(7,new $(1,19)),new ee(10,new $(1,16)),new ee(13,new $(1,13)),new ee(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new ee(10,new $(1,34)),new ee(16,new $(1,28)),new ee(22,new $(1,22)),new ee(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new ee(15,new $(1,55)),new ee(26,new $(1,44)),new ee(18,new $(2,17)),new ee(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new ee(20,new $(1,80)),new ee(18,new $(2,32)),new ee(26,new $(2,24)),new ee(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new ee(26,new $(1,108)),new ee(24,new $(2,43)),new ee(18,new $(2,15),new $(2,16)),new ee(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new ee(18,new $(2,68)),new ee(16,new $(4,27)),new ee(24,new $(4,19)),new ee(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new ee(20,new $(2,78)),new ee(18,new $(4,31)),new ee(18,new $(2,14),new $(4,15)),new ee(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new ee(24,new $(2,97)),new ee(22,new $(2,38),new $(2,39)),new ee(22,new $(4,18),new $(2,19)),new ee(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new ee(30,new $(2,116)),new ee(22,new $(3,36),new $(2,37)),new ee(20,new $(4,16),new $(4,17)),new ee(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new ee(18,new $(2,68),new $(2,69)),new ee(26,new $(4,43),new $(1,44)),new ee(24,new $(6,19),new $(2,20)),new ee(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new ee(20,new $(4,81)),new ee(30,new $(1,50),new $(4,51)),new ee(28,new $(4,22),new $(4,23)),new ee(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new ee(24,new $(2,92),new $(2,93)),new ee(22,new $(6,36),new $(2,37)),new ee(26,new $(4,20),new $(6,21)),new ee(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new ee(26,new $(4,107)),new ee(22,new $(8,37),new $(1,38)),new ee(24,new $(8,20),new $(4,21)),new ee(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ee(30,new $(3,115),new $(1,116)),new ee(24,new $(4,40),new $(5,41)),new ee(20,new $(11,16),new $(5,17)),new ee(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ee(22,new $(5,87),new $(1,88)),new ee(24,new $(5,41),new $(5,42)),new ee(30,new $(5,24),new $(7,25)),new ee(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ee(24,new $(5,98),new $(1,99)),new ee(28,new $(7,45),new $(3,46)),new ee(24,new $(15,19),new $(2,20)),new ee(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ee(28,new $(1,107),new $(5,108)),new ee(28,new $(10,46),new $(1,47)),new ee(28,new $(1,22),new $(15,23)),new ee(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ee(30,new $(5,120),new $(1,121)),new ee(26,new $(9,43),new $(4,44)),new ee(28,new $(17,22),new $(1,23)),new ee(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ee(28,new $(3,113),new $(4,114)),new ee(26,new $(3,44),new $(11,45)),new ee(26,new $(17,21),new $(4,22)),new ee(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ee(28,new $(3,107),new $(5,108)),new ee(26,new $(3,41),new $(13,42)),new ee(30,new $(15,24),new $(5,25)),new ee(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ee(28,new $(4,116),new $(4,117)),new ee(26,new $(17,42)),new ee(28,new $(17,22),new $(6,23)),new ee(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ee(28,new $(2,111),new $(7,112)),new ee(28,new $(17,46)),new ee(30,new $(7,24),new $(16,25)),new ee(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ee(30,new $(4,121),new $(5,122)),new ee(28,new $(4,47),new $(14,48)),new ee(30,new $(11,24),new $(14,25)),new ee(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ee(30,new $(6,117),new $(4,118)),new ee(28,new $(6,45),new $(14,46)),new ee(30,new $(11,24),new $(16,25)),new ee(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ee(26,new $(8,106),new $(4,107)),new ee(28,new $(8,47),new $(13,48)),new ee(30,new $(7,24),new $(22,25)),new ee(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ee(28,new $(10,114),new $(2,115)),new ee(28,new $(19,46),new $(4,47)),new ee(28,new $(28,22),new $(6,23)),new ee(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ee(30,new $(8,122),new $(4,123)),new ee(28,new $(22,45),new $(3,46)),new ee(30,new $(8,23),new $(26,24)),new ee(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new $(3,117),new $(10,118)),new ee(28,new $(3,45),new $(23,46)),new ee(30,new $(4,24),new $(31,25)),new ee(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new $(7,116),new $(7,117)),new ee(28,new $(21,45),new $(7,46)),new ee(30,new $(1,23),new $(37,24)),new ee(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new $(5,115),new $(10,116)),new ee(28,new $(19,47),new $(10,48)),new ee(30,new $(15,24),new $(25,25)),new ee(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new $(13,115),new $(3,116)),new ee(28,new $(2,46),new $(29,47)),new ee(30,new $(42,24),new $(1,25)),new ee(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new $(17,115)),new ee(28,new $(10,46),new $(23,47)),new ee(30,new $(10,24),new $(35,25)),new ee(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new $(17,115),new $(1,116)),new ee(28,new $(14,46),new $(21,47)),new ee(30,new $(29,24),new $(19,25)),new ee(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new $(13,115),new $(6,116)),new ee(28,new $(14,46),new $(23,47)),new ee(30,new $(44,24),new $(7,25)),new ee(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new $(12,121),new $(7,122)),new ee(28,new $(12,47),new $(26,48)),new ee(30,new $(39,24),new $(14,25)),new ee(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new $(6,121),new $(14,122)),new ee(28,new $(6,47),new $(34,48)),new ee(30,new $(46,24),new $(10,25)),new ee(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new $(17,122),new $(4,123)),new ee(28,new $(29,46),new $(14,47)),new ee(30,new $(49,24),new $(10,25)),new ee(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new $(4,122),new $(18,123)),new ee(28,new $(13,46),new $(32,47)),new ee(30,new $(48,24),new $(14,25)),new ee(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new $(20,117),new $(4,118)),new ee(28,new $(40,47),new $(7,48)),new ee(30,new $(43,24),new $(22,25)),new ee(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new $(19,118),new $(6,119)),new ee(28,new $(18,47),new $(31,48)),new ee(30,new $(34,24),new $(34,25)),new ee(30,new $(20,15),new $(61,16)))],t})(),un;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(un||(un={}));var G5=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[un.DATA_MASK_000,new t(un.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[un.DATA_MASK_001,new t(un.DATA_MASK_001,function(e,r){return(e&1)===0})],[un.DATA_MASK_010,new t(un.DATA_MASK_010,function(e,r){return r%3===0})],[un.DATA_MASK_011,new t(un.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[un.DATA_MASK_100,new t(un.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[un.DATA_MASK_101,new t(un.DATA_MASK_101,function(e,r){return e*r%6===0})],[un.DATA_MASK_110,new t(un.DATA_MASK_110,function(e,r){return e*r%6<3})],[un.DATA_MASK_111,new t(un.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),s1e=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new be;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=EB.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new be},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return nu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=nu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=nu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new be},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=G5.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),c=0,f=0,d=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var y=o?i-1-v:v,_=0;_<2;_++)a.get(p-_,y)||(d++,f<<=1,this.bitMatrix.get(p-_,y)&&(f|=1),d===8&&(s[c++]=f,d=0,f=0));o=!o}if(c!==r.getTotalCodewords())throw new be;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=G5.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),W5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l1e=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new ze;var c=r.getECBlocksForLevel(n),f=0,d=c.getECBlocks();try{for(var p=W5(d),v=p.next();!v.done;v=p.next()){var y=v.value;f+=y.getCount()}}catch(z){i={error:z}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new Array(f),b=0;try{for(var A=W5(d),S=A.next();!S.done;S=A.next())for(var y=S.value,T=0;T<y.getCount();T++){var O=y.getDataCodewords(),N=c.getECCodewordsPerBlock()+O;_[b++]=new t(O,new Uint8Array(N))}}catch(z){o={error:z}}finally{try{S&&!S.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}for(var M=_[0].codewords.length,L=_.length-1;L>=0;){var R=_[L].codewords.length;if(R===M)break;L--}L++;for(var D=M-c.getECCodewordsPerBlock(),j=0,T=0;T<D;T++)for(var B=0;B<b;B++)_[B].codewords[T]=e[j++];for(var B=L;B<b;B++)_[B].codewords[D]=e[j++];for(var U=_[0].codewords.length,T=D;T<U;T++)for(var B=0;B<b;B++){var V=B<L?T:T+1;_[B].codewords[V]=e[j++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),da;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(da||(da={}));var rr=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new ze;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(da.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(da.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(da.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(da.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(da.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(da.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(da.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(da.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(da.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(da.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),c1e=(function(){function t(){}return t.decode=function(e,r,n,i){var a=new AB(e),o=new Je,s=new Array,c=-1,f=-1;try{var d=null,p=!1,v=void 0;do{if(a.available()<4)v=rr.TERMINATOR;else{var y=a.readBits(4);v=rr.forBits(y)}switch(v){case rr.TERMINATOR:break;case rr.FNC1_FIRST_POSITION:case rr.FNC1_SECOND_POSITION:p=!0;break;case rr.STRUCTURED_APPEND:if(a.available()<16)throw new be;c=a.readBits(8),f=a.readBits(8);break;case rr.ECI:var _=t.parseECIValue(a);if(d=Jr.getCharacterSetECIByValue(_),d===null)throw new be;break;case rr.HANZI:var b=a.readBits(4),A=a.readBits(v.getCharacterCountBits(r));b===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,A);break;default:var S=a.readBits(v.getCharacterCountBits(r));switch(v){case rr.NUMERIC:t.decodeNumericSegment(a,o,S);break;case rr.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case rr.BYTE:t.decodeByteSegment(a,o,S,d,s,i);break;case rr.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new be}break}}while(v!==rr.TERMINATOR)}catch{throw new be}return new wy(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),c,f)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new be;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(ya.decode(i,pt.GB2312))}catch(c){throw new be(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new be;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(ya.decode(i,pt.SHIFT_JIS))}catch(c){throw new be(c)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new be;for(var s=new Uint8Array(n),c=0;c<n;c++)s[c]=e.readBits(8);var f;i===null?f=pt.guessEncoding(s,o):f=i.getName();try{r.append(ya.decode(s,f))}catch(d){throw new be(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new be;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new be;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new be;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new be;var i=e.readBits(10);if(i>=1e3)throw new be;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new be;var a=e.readBits(7);if(a>=100)throw new be;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new be;var o=e.readBits(4);if(o>=10)throw new be;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new be},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),SB=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),K5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u1e=(function(){function t(){this.rsDecoder=new _y(bi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ko.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new s1e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new SB(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=l1e.getDataBlocks(f,s,c),p=0;try{for(var v=K5(d),y=v.next();!y.done;y=v.next()){var _=y.value;p+=_.getNumDataCodewords()}}catch(L){n={error:L}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var b=new Uint8Array(p),A=0;try{for(var S=K5(d),T=S.next();!T.done;T=S.next()){var _=T.value,O=_.getCodewords(),N=_.getNumDataCodewords();this.correctErrors(O,N);for(var M=0;M<N;M++)b[A++]=O[M]}}catch(L){a={error:L}}finally{try{T&&!T.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return c1e.decode(b,s,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new pn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),f1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),d1e=(function(t){f1e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e})(Re),h1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p1e=(function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,c=0;c<r;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,f);)d++;for(var p=0;d<i;){if(s.get(d,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,d);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;d++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var c=e;c>=0&&a.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&!a.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c)&&s[1]<=n;)s[1]++,c++;if(c===o||s[1]>n)return NaN;for(;c<o&&!a.get(r,c)&&s[2]<=n;)s[2]++,c++;if(s[2]>n)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=h1e(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.aboutEquals(f,c,s))return v.combineEstimate(c,s,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var y=new d1e(s,c,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},t})(),g1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),v1e=(function(t){g1e(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,c,a)},e})(Re),m1e=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),jh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y1e=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(lr.TRY_HARDER)!==void 0,n=e!=null&&e.get(lr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),d=s-1;d<a&&!c;d+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,d))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var y=this.handlePossibleCenter(f,d,v,n);if(y===!0)if(s=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(d+=_-f[2]-s,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var y=this.handlePossibleCenter(f,d,o,n);y===!0&&(s=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return Re.orderBestPatterns(b),new m1e(b)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var c=s.getHeight(),f=s.getWidth();for(o=1;e+o<c&&r+o<f&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=c||r+o>=f)return!1;for(;e+o<c&&r+o<f&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=c||r+o>=f||a[3]>=n)return!1;for(;e+o<c&&r+o<f&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(r,c);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&a.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c);)s[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(r,c)&&s[3]<n;)s[3]++,c++;if(c===o||s[3]>=n)return NaN;for(;c<o&&a.get(r,c)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,r);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,r)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&a.get(c,r)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<o&&a.get(c,r);)s[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,r)&&s[3]<n;)s[3]++,c++;if(c===o||s[3]>=n)return NaN;for(;c<o&&a.get(c,r)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,d=this.possibleCenters,p=0,v=d.length;p<v;p++){var y=d[p];if(y.aboutEquals(c,s,o)){d[p]=y.combineEstimate(s,o,c),f=!0;break}}if(!f){var _=new v1e(o,s,c);d.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=jh(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var c=jh(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/s,v=0;try{for(var y=jh(this.possibleCenters),_=y.next();!_.done;_=y.next()){var d=_.value;v+=Math.abs(d.getEstimatedModuleSize()-p)}}catch(b){n={error:b}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new le;var o=this.possibleCenters,s;if(a>3){var c=0,f=0;try{for(var d=jh(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value,y=v.getEstimatedModuleSize();c+=y,f+=y*y}}catch(M){e={error:M}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=c/a;var _=Math.sqrt(f/a-s*s);o.sort(function(M,L){var R=Math.abs(L.getEstimatedModuleSize()-s),D=Math.abs(M.getEstimatedModuleSize()-s);return R<D?-1:R>D?1:0});for(var b=Math.max(.2*s,_),A=0;A<o.length&&o.length>3;A++){var S=o[A];Math.abs(S.getEstimatedModuleSize()-s)>b&&(o.splice(A,1),A--)}}if(o.length>3){var c=0;try{for(var T=jh(o),O=T.next();!O.done;O=T.next()){var N=O.value;c+=N.getEstimatedModuleSize()}}catch(L){n={error:L}}finally{try{O&&!O.done&&(i=T.return)&&i.call(T)}finally{if(n)throw n.error}}s=c/o.length,o.sort(function(L,R){if(R.getCount()===L.getCount()){var D=Math.abs(R.getEstimatedModuleSize()-s),j=Math.abs(L.getEstimatedModuleSize()-s);return D<j?1:D>j?-1:0}else return R.getCount()-L.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),x1e=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(lr.NEED_RESULT_POINT_CALLBACK);var r=new y1e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new le("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=nu.getProvisionalVersionForDimension(o),c=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),p=n.getY()-r.getY()+i.getY(),v=1-3/c,y=Math.floor(r.getX()+v*(d-r.getX())),_=Math.floor(r.getY()+v*(p-r.getY())),b=4;b<=16;b<<=1)try{f=this.findAlignmentInRegion(a,y,_,b);break}catch(O){if(!(O instanceof le))throw O}var A=t.createTransform(r,n,i,f,o),S=t.sampleGrid(this.image,A,o),T;return f===null?T=[i,r,n]:T=[i,r,n,f],new GC(S,T)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,c,f,d;return i!==null?(s=i.getX(),c=i.getY(),f=o-3,d=f):(s=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),f=o,d=o),xB.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=WC.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=bt.round(Re.distance(e,r)/i),o=bt.round(Re.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new le("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),c=Math.abs(i-r),f=-s/2,d=e<n?1:-1,p=r<i?1:-1,v=0,y=n+d,_=e,b=r;_!==y;_+=d){var A=a?b:_,S=a?_:b;if(v===1===this.image.get(A,S)){if(v===2)return bt.distance(_,b,e,r);v++}if(f+=c,f>0){if(b===i)break;b+=p,f-=s}}return v===2?bt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new le("Alignment top exceeds estimated module size.");var c=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-c<e*3)throw new le("Alignment bottom exceeds estimated module size.");var d=new p1e(this.image,o,c,s-o,f-c,e,this.resultPointCallback);return d.find()},t})(),fA=(function(){function t(){this.decoder=new u1e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(lr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new x1e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof SB&&n.getOther().applyMirroredCorrection(i);var s=new Wn(n.getText(),n.getRawBytes(),void 0,i,Be.QR_CODE,void 0),c=n.getByteSegments();c!==null&&s.putMetadata(Dn.BYTE_SEGMENTS,c);var f=n.getECLevel();return f!==null&&s.putMetadata(Dn.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(s.putMetadata(Dn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Dn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new le;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],c=n[0];if(s>=c||a>=o)throw new le;if(o-a!==c-s&&(c=s+(o-a),c>=e.getWidth()))throw new le;var f=Math.round((c-s+1)/i),d=Math.round((o-a+1)/i);if(f<=0||d<=0)throw new le;if(d!==f)throw new le;var p=Math.floor(i/2);a+=p,s+=p;var v=s+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new le;s-=v}var y=a+Math.floor((d-1)*i)-o;if(y>0){if(y>p)throw new le;a-=y}for(var _=new ko(f,d),b=0;b<d;b++)for(var A=a+Math.floor(b*i),S=0;S<f;S++)e.get(s+Math.floor(S*i),A)&&_.set(S,b);return _},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,c=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++c===5)break;s=!s}a++,o++}if(a===i||o===n)throw new le;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),b1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return bt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=b1e(e),s=o.next();!s.done;s=o.next()){var c=s.value;i[a++]=c}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=en.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),w1e=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),_1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A1e=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new w1e(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,c=!1;o<r.getHeight();){var f=t.findVertices(r,o,s);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,s=0;try{for(var d=(n=void 0,_1e(a)),p=d.next();!p.done;p=d.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),c=!1,f=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,f);if(d!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,n,!1,o,f);if(p!=null)d=p;else{i++;break}}s[0]=new Re(d[0],i),s[1]=new Re(d[1],i),c=!0;break}}var v=i+1;if(c){for(var y=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);v<r;v++){var d=t.findGuardPattern(e,p[0],v,n,!1,o,f);if(d!=null&&Math.abs(p[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-d[1])<t.MAX_PATTERN_DRIFT)p=d,y=0;else{if(y>t.SKIPPED_ROW_COUNT_MAX)break;y++}}v-=y+1,s[2]=new Re(p[0],v),s[3]=new Re(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&en.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){en.fillWithin(s,0,s.length,0);for(var c=r,f=0;e.get(c,n)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,p=0,v=o.length,y=a;d<i;d++){var _=e.get(d,n);if(_!==y)s[p]++;else{if(p===v-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=s[0]+s[1],Qt.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,y=!y}}return p===v-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var c=a/o;n*=c;for(var f=0,d=0;d<i;d++){var p=e[d],v=r[d]*c,y=p>v?p-v:v-p;if(y>n)return 1/0;f+=y}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),E1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kc=(function(){function t(e,r){if(r.length===0)throw new ze;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=E1e(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(p){r={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ze("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ze("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ze("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var c=r[s],f=0;f<a;f++)o[s+f]=this.field.add(o[s+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ze;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Je,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),S1e=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ze;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new yB;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),C1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),T1e=(function(t){C1e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Kc(i,new Int32Array([0])),i.one=new Kc(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ze;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Kc(this,i)},e.PDF417_GF=new e(mt.NUMBER_OF_CODEWORDS,3),e})(S1e),I1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O1e=(function(){function t(){this.field=T1e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Kc(this.field,e),s=new Int32Array(r),c=!1,f=r;f>0;f--){var d=o.evaluateAt(this.field.exp(f));s[r-f]=d,d!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(n!=null)try{for(var v=I1e(n),y=v.next();!y.done;y=v.next()){var _=y.value,b=this.field.exp(e.length-1-_),A=new Kc(this.field,new Int32Array([this.field.subtract(0,b),1]));p=p.multiply(A)}}catch(D){i={error:D}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new Kc(this.field,s),T=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),S,r),O=T[0],N=T[1],M=this.findErrorLocations(O),L=this.findErrorMagnitudes(N,O,M),f=0;f<M.length;f++){var R=e.length-1-this.field.log(M[f]);if(R<0)throw pn.getChecksumInstance();e[R]=this.field.subtract(e[R],L[f])}return M.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,d=s;if(a=o,s=c,a.isZero())throw pn.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),y=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),b=this.field.multiply(o.getCoefficient(o.getDegree()),y);p=p.add(this.field.buildMonomial(_,b)),o=o.subtract(a.multiplyByMonomial(_,b))}c=p.multiply(s).subtract(d).negative()}var A=c.getCoefficient(0);if(A===0)throw pn.getChecksumInstance();var S=this.field.inverse(A),T=c.multiply(S),O=o.multiply(S);return[T,O]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw pn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Kc(this.field,a),c=n.length,f=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(n[o]),p=this.field.subtract(0,e.evaluateAt(d)),v=this.field.inverse(s.evaluateAt(d));f[o]=this.field.multiply(p,v)}return f},t})(),dA=(function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new le;o?(r=new Re(0,i.getY()),n=new Re(0,a.getY())):s&&(i=new Re(e.getWidth()-1,r.getY()),a=new Re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var d=new Re(c.getX(),f);n?i=d:o=d}if(r>0){var p=n?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var y=new Re(p.getX(),v);n?a=y:s=y}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),R1e=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),YC=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,c,f,d,p){if(o==="%%")return"%";if(r[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=d?parseInt(d.substr(1)):void 0,y;switch(p){case"s":y=r[n];break;case"c":y=r[n][0];break;case"f":y=parseFloat(r[n]).toFixed(o);break;case"p":y=parseFloat(r[n]).toPrecision(o);break;case"e":y=parseFloat(r[n]).toExponential(o);break;case"x":y=parseInt(r[n]).toString(v||16);break;case"d":y=parseFloat(parseInt(r[n],v||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(v);for(var _=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";y.length<_;)y=s!==void 0?y+b:b+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),P1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CB=(function(){function t(e){this.boundingBox=new dA(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new YC,i=0;try{for(var a=P1e(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),D1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N1e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Yh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(p,v){var y={getKey:function(){return p},getValue:function(){return v}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var o=D1e(this.values.entries()),s=o.next();!s.done;s=o.next()){var c=N1e(s.value,2),f=c[0],d=c[1];a(f,d)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return mt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),k1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Tw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y5=(function(t){k1e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Tw(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0,v=s;v<c;v++)if(n[v]!=null){var y=n[v],_=y.getRowNumber()-f;if(_===0)p++;else if(_===1)d=Math.max(d,p),p=1,f=y.getRowNumber();else if(_<0||y.getRowNumber()>=r.getRowCount()||_>v)n[v]=null;else{var b=void 0;d>2?b=(d-2)*_:b=_;for(var A=b>=v,S=1;S<=b&&!A;S++)A=n[v-S]!=null;A?n[v]=null:(f=y.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=Tw(this.getCodewords()),s=o.next();!s.done;s=o.next()){var c=s.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,d=o;d<s;d++)if(c[d]!=null){var p=c[d];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=r.getRowCount()?c[d]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Yh,o=new Yh,s=new Yh,c=new Yh;try{for(var f=Tw(i),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,y=p.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),s.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<mt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>mt.MAX_ROWS_IN_BARCODE)return null;var _=new R1e(a.getValue()[0],o.getValue()[0],s.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(CB),M1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j1e=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=mt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),c=s;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[r],f[3]=c[r],r>0&&(f[0]=n[r-1],f[4]=s[r-1],f[5]=c[r-1]),r>1&&(f[8]=n[r-2],f[10]=s[r-2],f[11]=c[r-2]),r<n.length-1&&(f[1]=n[r+1],f[6]=s[r+1],f[7]=c[r+1]),r<n.length-2&&(f[9]=n[r+2],f[12]=s[r+2],f[13]=c[r+2]);try{for(var d=M1e(f),p=d.next();!p.done;p=d.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(y){i={error:y}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new YC,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t})(),L1e=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),B1e=(function(){function t(){}return t.initialize=function(){for(var e=0;e<mt.SYMBOL_TABLE.length;e++)for(var r=mt.SYMBOL_TABLE[e],n=r&1,i=0;i<mt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(mt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][mt.BARS_IN_MODULE-i-1]=Math.fround(a/mt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=bt.sum(e),n=new Int32Array(mt.BARS_IN_MODULE),i=0,a=0,o=0;o<mt.MODULES_IN_CODEWORD;o++){var s=r/(2*mt.MODULES_IN_CODEWORD)+o*r/mt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return mt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=bt.sum(e),n=new Array(mt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=oA.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var c=0,f=t.RATIOS_TABLE[s],d=0;d<mt.BARS_IN_MODULE;d++){var p=Math.fround(f[d]-n[d]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=mt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(mt.SYMBOL_TABLE.length).map(function(e){return new Array(mt.BARS_IN_MODULE)}),t})(),z1e=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),X5=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),U1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),F1e=(function(t){U1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Ai),V1e=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new F1e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new $C;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),H1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$1e=(function(t){H1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Ai),q1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),G1e=(function(t){q1e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new ze("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new $1e;i=et.MAX_VALUE}this.buf=en.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new $C;this.ensureCapacity(this.count+i),Qt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return en.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(V1e),$t;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})($t||($t={}));function TB(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var I1;function wl(t){if(typeof I1>"u"&&(I1=TB()),I1===null)throw new Error("BigInt is not supported!");return I1(t)}function W1e(){var t=[];t[0]=wl(1);var e=wl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var K1e=(function(){function t(){}return t.decode=function(e,r){var n=new Je(""),i=Jr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new z1e;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Jr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new be;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw be.getFormatInstance()}if(n.length()===0)throw be.getFormatInstance();var c=new wy(null,n.toString(),null,r);return c.setOther(s),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw be.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(et.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Je;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Je;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Je;r=t.textCompaction(e,r+1,f),n.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Je;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Je;r=t.numericCompaction(e,r+1,p),n.setSegmentCount(et.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Je;r=t.numericCompaction(e,r+1,v),n.setTimestamp(X5.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new Je;r=t.numericCompaction(e,r+1,y),n.setChecksum(et.parseInt(y.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Je;r=t.numericCompaction(e,r+1,_),n.setFileSize(X5.parseLong(_.toString()));break;default:throw be.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw be.getFormatInstance()}if(s!==-1){var b=r-s;n.isLastSegment()&&b--,n.setOptionalData(en.copyOfRange(e,s,s+b))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=$t.ALPHA,o=$t.ALPHA,s=0;s<n;){var c=e[s],f="";switch(a){case $t.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=$t.LOWER;break;case t.ML:a=$t.MIXED;break;case t.PS:o=a,a=$t.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break;case $t.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=$t.ALPHA_SHIFT;break;case t.ML:a=$t.MIXED;break;case t.PS:o=a,a=$t.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break;case $t.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=$t.PUNCT;break;case 26:f=" ";break;case t.LL:a=$t.LOWER;break;case t.AL:a=$t.ALPHA;break;case t.PS:o=a,a=$t.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break;case $t.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=$t.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break;case $t.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break;case $t.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=$t.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=$t.ALPHA;break}break}f!==""&&i.append(f),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new G1e,s=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),p=r[i++];i<r[0]&&!f;)switch(d[s++]=p,c=900*c+p,p=r[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var v=0;v<6;++v)o.write(Number(wl(c)>>wl(8*(5-v))));c=0,s=0}break}i===r[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=p);for(var y=0;y<s;y++)o.write(d[y]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!f;){var _=r[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)s++,c=900*c+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var v=0;v<6;++v)o.write(Number(wl(c)>>wl(8*(5-v))));c=0,s=0}}break}return a.append(ya.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=wl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*wl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new be;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=TB()?W1e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Lh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y1e=(function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var c=new dA(e,r,n,i,a),f=null,d=null,p,v=!0;;v=!1){if(r!=null&&(f=t.getRowIndicatorColumn(e,c,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,c,i,!1,o,s)),p=t.merge(f,d),p==null)throw le.getNotFoundInstance();var y=p.getBoundingBox();if(v&&y!=null&&(y.getMinY()<c.getMinY()||y.getMaxY()>c.getMaxY()))c=y;else break}p.setBoundingBox(c);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,d);for(var b=f!=null,A=1;A<=_;A++){var S=b?A:_-A;if(p.getDetectionResultColumn(S)===void 0){var T=void 0;S===0||S===_?T=new Y5(c,S===0):T=new CB(c),p.setDetectionResultColumn(S,T);for(var O=-1,N=O,M=c.getMinY();M<=c.getMaxY();M++){if(O=t.getStartColumn(p,S,M,b),O<0||O>c.getMaxX()){if(N===-1)continue;O=N}var L=t.detectCodeword(e,c.getMinX(),c.getMaxX(),b,O,M,o,s);L!=null&&(T.setCodeword(M,L),N=O,o=Math.min(o,L.getWidth()),s=Math.max(s,L.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=dA.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new j1e(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Lh(i),c=s.next();!c.done;c=s.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),p=0;o>0&&d[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=d.length-1;v>0&&d[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Lh(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new Y5(r,i),c=0;c<2;c++)for(var f=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=r.getMaxY()&&p>=r.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,d,p,a,o);v!=null&&(s.setCodeword(p,v),i?d=v.getStartX():d=v.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>mt.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=r[s][c+1].getValue(),d=s*e.getBarcodeColumnCount()+c;f.length===0?n.push(d):f.length===1?i[d]=f[0]:(o.push(d),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,mt.toIntArray(n),mt.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=a[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var f=d instanceof pn;if(!f)throw d}if(o.length===0)throw pn.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw pn.getChecksumInstance()}throw pn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var c=0;c<o[s].length;c++)o[s][c]=new Yh;var f=0;try{for(var d=Lh(e.getDetectionResultColumns()),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)try{for(var y=(i=void 0,Lh(v.getCodewords())),_=y.next();!_.done;_=y.next()){var b=_.value;if(b!=null){var A=b.getRowNumber();if(A>=0){if(A>=o.length)continue;o[A][f].setValue(b.getValue())}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}f++}}catch(S){r={error:S}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-s)&&(c=e.getDetectionResultColumn(r-s).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(c=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,Lh(e.getDetectionResultColumn(r).getCodewords())),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+s*f*(v.getEndX()-v.getStartX())}}catch(y){a={error:y}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,c){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var f=t.getModuleBitCount(e,r,n,i,a,o);if(f==null)return null;var d,p=bt.sum(f);if(i)d=a+p;else{for(var v=0;v<f.length/2;v++){var y=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=y}d=a,a=d-p}if(!t.checkCodewordSkew(p,s,c))return null;var _=B1e.getDecodedValue(f),b=mt.getCodeword(_);return b===-1?null:new L1e(a,d,t.getCodewordBucketNumber(_),b)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,c=new Int32Array(8),f=0,d=i?1:-1,p=i;(i?s<n:s>=r)&&f<c.length;)e.get(s,o)===p?(c[f]++,s+=d):(f++,p=!p);return f===c.length||s===(i?n:r)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,c=i?-1:1,f=0;f<2;f++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=c}c=-c,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw be.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=K1e.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw pn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw be.getFormatInstance();var n=e[0];if(n>e.length)throw be.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw be.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new YC,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new O1e,t})(),X1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hA=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw le.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof be||n instanceof pn?le.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=A1e.detectMultiple(e,r,n);try{for(var c=X1e(s.getPoints()),f=c.next();!f.done;f=c.next()){var d=f.value,p=Y1e.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),v=new Wn(p.getText(),p.getRawBytes(),void 0,d,Be.PDF_417);v.putMetadata(Dn.ERROR_CORRECTION_LEVEL,p.getECLevel());var y=p.getOther();y!=null&&v.putMetadata(Dn.PDF417_EXTRA_METADATA,y),o.push(v)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?et.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),Q1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Q5=(function(t){Q1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Ai),Z5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z1e=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(lr.TRY_HARDER)!==void 0,n=e==null?null:e.get(lr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Be.UPC_A||o===Be.UPC_E||o===Be.EAN_13||o===Be.EAN_8||o===Be.CODABAR||o===Be.CODE_39||o===Be.CODE_93||o===Be.CODE_128||o===Be.ITF||o===Be.RSS_14||o===Be.RSS_EXPANDED});a&&!r&&i.push(new Kh(e)),n.includes(Be.QR_CODE)&&i.push(new fA),n.includes(Be.DATA_MATRIX)&&i.push(new uA),n.includes(Be.AZTEC)&&i.push(new lA),n.includes(Be.PDF_417)&&i.push(new hA),a&&r&&i.push(new Kh(e))}i.length===0&&(r||i.push(new Kh(e)),i.push(new fA),i.push(new uA),i.push(new lA),i.push(new hA),r&&i.push(new Kh(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Z5(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Q5("No readers where selected, nothing can be read.");try{for(var i=Z5(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Q5)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new le("No MultiFormat Readers were able to detect the code.")},t})(),J1e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eve=(function(t){J1e(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new Z1e;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(wd),tve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){tve(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new hA,r)||this}return e})(wd);var rve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){rve(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new fA,r)||this}return e})(wd);var pA;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(pA||(pA={}));const O1=pA;var IB=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ml(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Ml(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new ze("No error correction bytes");var n=e.length-r;if(n<=0)throw new ze("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Qt.arraycopy(e,0,a,0,n);var o=new Ml(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],c=s.getCoefficients(),f=r-c.length,d=0;d<f;d++)e[n+d]=0;Qt.arraycopy(c,0,e,n+f,c.length)},t})(),Xh=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],c=0;c<i-1;c++){var f=s[c];f===s[c+1]&&f===n[o+1][c]&&f===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var c=n[o];s+6<i&&c[s]===1&&c[s+1]===0&&c[s+2]===1&&c[s+3]===1&&c[s+4]===1&&c[s+5]===0&&c[s+6]===1&&(t.isWhiteHorizontal(c,s-4,s)||t.isWhiteHorizontal(c,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],c=0;c<i;c++)s[c]===1&&r++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new ze("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var c=0,f=-1,d=0;d<a;d++){var p=r?o[s][d]:o[d][s];p===f?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,f=p)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),nve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ive=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=nve(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;en.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,c=this.width;s<c;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Je,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),gA=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Je;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),ave=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tr=(function(t){ave(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Ai),J5=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new vn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],d=c[1];if(n.setBoolean(f,d,s),a<8){var p=n.getWidth()-a-1,v=8;n.setBoolean(p,v,s)}else{var p=8,v=n.getHeight()-7+(a-8);n.setBoolean(p,v,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new vn;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(n.get(f,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&Xh.getDataMaskBit(r,f,s)&&(d=!d),n.setBoolean(f,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new tr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-et.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new ze("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!gA.isValidMaskPattern(r))throw new tr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new vn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new tr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new tr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new tr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new tr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new tr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(r.get(f,s))&&t.embedPositionAdjustmentPattern(f-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),ove=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),eD=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Xh.applyMaskPenaltyRule1(e)+Xh.applyMaskPenaltyRule2(e)+Xh.applyMaskPenaltyRule3(e)+Xh.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(O1.CHARACTER_SET)!==void 0;a&&(i=n.get(O1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new vn;if(o===rr.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Jr.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,s)}this.appendModeInfo(o,s);var f=new vn;this.appendBytes(e,o,f,i);var d;if(n!==null&&n.get(O1.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(O1.QR_VERSION).toString(),10);d=nu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,s,f,d);if(!this.willFit(v,d,r))throw new tr("Data too big for requested version")}else d=this.recommendVersion(r,o,s,f);var y=new vn;y.appendBitArray(s);var _=o===rr.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,d,o,y),y.appendBitArray(f);var b=d.getECBlocksForLevel(r),A=d.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(A,y);var S=this.interleaveWithECBytes(y,d.getTotalCodewords(),A,b.getNumBlocks()),T=new gA;T.setECLevel(r),T.setMode(o),T.setVersion(d);var O=d.getDimensionForVersion(),N=new ive(O,O),M=this.chooseMaskPattern(S,r,d,N);return T.setMaskPattern(M),J5.buildMatrix(S,r,d,M,N),T.setMatrix(N),T},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,nu.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Jr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return rr.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return rr.BYTE}return i?rr.ALPHANUMERIC:n?rr.NUMERIC:rr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ya.encode(e,Jr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<gA.NUM_MASK_PATTERNS;s++){J5.buildMatrix(e,r,n,s,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=nu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new tr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,c=(e+7)/8;return s>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new tr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new tr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new tr("Block ID too large");var s=e%n,c=n-s,f=Math.floor(e/n),d=f+1,p=Math.floor(r/n),v=p+1,y=f-p,_=d-v;if(y!==_)throw new tr("EC bytes mismatch");if(n!==c+s)throw new tr("RS blocks mismatch");if(e!==(p+y)*c+(v+_)*s)throw new tr("Total bytes mismatch");i<c?(a[0]=p,o[0]=y):(a[0]=v,o[0]=_)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,c;if(e.getSizeInBytes()!==n)throw new tr("Number of bits and data bytes does not match");for(var f=0,d=0,p=0,v=new Array,y=0;y<i;++y){var _=new Int32Array(1),b=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,y,_,b);var A=_[0],S=new Uint8Array(A);e.toBytes(8*f,S,0,A);var T=t.generateECBytes(S,b[0]);v.push(new ove(S,T)),d=Math.max(d,A),p=Math.max(p,T.length),f+=_[0]}if(n!==f)throw new tr("Data bytes does not match offset");for(var O=new vn,y=0;y<d;++y)try{for(var N=(a=void 0,eD(v)),M=N.next();!M.done;M=N.next()){var L=M.value,S=L.getDataBytes();y<S.length&&O.appendBits(S[y],8)}}catch(B){a={error:B}}finally{try{M&&!M.done&&(o=N.return)&&o.call(N)}finally{if(a)throw a.error}}for(var y=0;y<p;++y)try{for(var R=(s=void 0,eD(v)),D=R.next();!D.done;D=R.next()){var L=D.value,T=L.getErrorCorrectionBytes();y<T.length&&O.appendBits(T[y],8)}}catch(B){s={error:B}}finally{try{D&&!D.done&&(c=R.return)&&c.call(R)}finally{if(s)throw s.error}}if(r!==O.getSizeInBytes())throw new tr("Interleaving error: "+r+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new IB(bi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new tr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case rr.NUMERIC:t.appendNumericBytes(e,n);break;case rr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case rr.BYTE:t.append8BitBytes(e,n,i);break;case rr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new tr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new tr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new tr;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ya.encode(e,n)}catch(c){throw new tr(c)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ya.encode(e,Jr.SJIS)}catch(p){throw new tr(p)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,c=o<<8&4294967295|s,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new tr("Invalid byte sequence");var d=(f>>8)*192+(f&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(rr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Jr.UTF8.getName(),t})();var sve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){sve(e,t);function e(r,n,i,a,o,s,c,f){var d=t.call(this,s,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+c>i)throw new ze("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(s,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ze("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var c=s*r;Qt.arraycopy(this.yuvData,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var c=s*r,f=0;f<r;f++){var d=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,c=o,f=o+r-1;c<s;c++,f--){var d=i[c];i[c]=i[f],i[f]=d}},e.prototype.invert=function(){return new qC(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(by);var lve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){lve(e,t);function e(r,n,i,a,o,s,c){var f=t.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=s,f.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*i,p=new Uint8ClampedArray(d),v=0;v<d;v++){var y=r[v],_=y>>16&255,b=y>>7&510,A=y&255;p[v]=(_+b+A)/4&255}f.luminances=p}else f.luminances=r;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new ze("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ze("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var c=s*r;Qt.arraycopy(this.luminances,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new qC(this)},e})(by);var cve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),uve=(function(t){cve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(Jr),fve=(function(){function t(){}return t.ISO_8859_1=Jr.ISO8859_1,t})(),vA,dve=301,hve=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=dve);return{LOG:t,ALOG:e}};vA=hve([],[]),vA.LOG;vA.ALOG;var tD;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(tD||(tD={}));var rD=129,OB=230,pve=231,gve=235,vve=236,mve=237,yve=238,xve=239,bve=240,Iw=254,wve=254,nD="[)>05",iD="[)>06",aD="",Mt=0,Tn=1,ei=2,Xr=3,fn=4,Bn=5,_ve=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Mt},t.prototype.encode=function(e){var r=$a.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=$a.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Bn:e.writeCodeword(pve),e.signalEncoderChange(Bn);return;case Tn:e.writeCodeword(OB),e.signalEncoderChange(Tn);return;case Xr:e.writeCodeword(yve),e.signalEncoderChange(Xr);break;case ei:e.writeCodeword(xve),e.signalEncoderChange(ei);break;case fn:e.writeCodeword(bve),e.signalEncoderChange(fn);break;default:throw new Error("Illegal mode: "+i)}else $a.isExtendedASCII(n)?(e.writeCodeword(gve),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if($a.isDigit(e)&&$a.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),Ave=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Bn},t.prototype.encode=function(e){var r=new Je;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=$a.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Mt);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||c)if(a<=249)r.setCharAt(0,pt.getCharAt(a));else if(a<=1555)r.setCharAt(0,pt.getCharAt(Math.floor(a/250)+249)),r.insert(1,pt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,n=r.length();f<n;f++)e.writeCodeword(this.randomize255State(r.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),XC=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Tn},t.prototype.encodeMaximal=function(e){for(var r=new Je,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&f!==2||d===1&&(n>3||f!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(OB),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Je;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Je;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var f=r.length();if(f%3===0){var d=$a.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Mt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Iw)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Iw),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Iw)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Mt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Je;return a.append(n),a.append(i),a.toString()},t})(),Eve=(function(){function t(){}return t.prototype.getEncodingMode=function(){return fn},t.prototype.encode=function(e){for(var r=new Je;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=$a.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Mt);break}}}r.append(pt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Mt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(pt.getCharAt(e-64)):$a.illegalCharacter(pt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,c=s>>16&255,f=s>>8&255,d=s&255,p=new Je;return p.append(c),r>=2&&p.append(f),r>=3&&p.append(d),p.toString()},t})(),Sve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=(function(){function t(e,r,n,i,a,o,s,c){s===void 0&&(s=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=c}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=Cve(Ive),f=c.next();!f.done;f=c.next()){var d=f.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(p){o={error:p}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),Tve=(function(t){Sve(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(Ct),Ive=[new Ct(!1,3,5,8,8,1),new Ct(!1,5,7,10,10,1),new Ct(!0,5,7,16,6,1),new Ct(!1,8,10,12,12,1),new Ct(!0,10,11,14,6,2),new Ct(!1,12,12,14,14,1),new Ct(!0,16,14,24,10,1),new Ct(!1,18,14,16,16,1),new Ct(!1,22,18,18,18,1),new Ct(!0,22,18,16,10,2),new Ct(!1,30,20,20,20,1),new Ct(!0,32,24,16,14,2),new Ct(!1,36,24,22,22,1),new Ct(!1,44,28,24,24,1),new Ct(!0,49,28,22,14,2),new Ct(!1,62,36,14,14,4),new Ct(!1,86,42,16,16,4),new Ct(!1,114,48,18,18,4),new Ct(!1,144,56,20,20,4),new Ct(!1,174,68,22,22,4),new Ct(!1,204,84,24,24,4,102,42),new Ct(!1,280,112,14,14,16,140,56),new Ct(!1,368,144,16,16,16,92,36),new Ct(!1,456,192,18,18,16,114,48),new Ct(!1,576,224,20,20,16,144,56),new Ct(!1,696,272,22,22,16,174,68),new Ct(!1,816,336,24,24,16,136,56),new Ct(!1,1050,408,18,18,36,175,68),new Ct(!1,1304,496,20,20,36,163,62),new Tve],Ove=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Je,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Je,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Ct.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),Rve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pve=(function(t){Rve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Xr},e.prototype.encode=function(r){for(var n=new Je;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=$a.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Mt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):$a.illegalCharacter(pt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(wve),r.getNewEncoding()<0&&r.signalEncoderChange(Mt)},e})(XC),Dve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Nve=(function(t){Dve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ei},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(XC),$a=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=rD+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new XC,s=[new _ve,o,new Nve,new Pve,new Eve,new Ave],c=new Ove(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(nD)&&e.endsWith(aD)?(c.writeCodeword(vve),c.setSkipAtEnd(2),c.pos+=nD.length):e.startsWith(iD)&&e.endsWith(aD)&&(c.writeCodeword(mve),c.setSkipAtEnd(2),c.pos+=iD.length);var f=Mt;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)s[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();d<p&&f!==Mt&&f!==Bn&&f!==fn&&c.writeCodeword("");var v=c.getCodewords();for(v.length()<p&&v.append(rD);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Xr&&i===Xr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Mt}else if(n===fn&&i===fn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Mt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Mt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){en.fill(o,0),en.fill(s,0);var c=this.findMinimums(i,s,et.MAX_VALUE,o),f=this.getMinimumCount(o);if(s[Mt]===c)return Mt;if(f===1){if(o[Bn]>0)return Bn;if(o[fn]>0)return fn;if(o[ei]>0)return ei;if(o[Xr]>0)return Xr}return Tn}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Mt]+=.5:this.isExtendedASCII(d)?(i[Mt]=Math.ceil(i[Mt]),i[Mt]+=2):(i[Mt]=Math.ceil(i[Mt]),i[Mt]++),this.isNativeC40(d)?i[Tn]+=2/3:this.isExtendedASCII(d)?i[Tn]+=8/3:i[Tn]+=4/3,this.isNativeText(d)?i[ei]+=2/3:this.isExtendedASCII(d)?i[ei]+=8/3:i[ei]+=4/3,this.isNativeX12(d)?i[Xr]+=2/3:this.isExtendedASCII(d)?i[Xr]+=13/3:i[Xr]+=10/3,this.isNativeEDIFACT(d)?i[fn]+=3/4:this.isExtendedASCII(d)?i[fn]+=17/4:i[fn]+=13/4,this.isSpecialB256(d)?i[Bn]+=4:i[Bn]++,a>=4){if(en.fill(o,0),en.fill(s,0),this.findMinimums(i,s,et.MAX_VALUE,o),s[Mt]<this.min(s[Bn],s[Tn],s[ei],s[Xr],s[fn]))return Mt;if(s[Bn]<s[Mt]||s[Bn]+1<this.min(s[Tn],s[ei],s[Xr],s[fn]))return Bn;if(s[fn]+1<this.min(s[Bn],s[Tn],s[ei],s[Xr],s[Mt]))return fn;if(s[ei]+1<this.min(s[Bn],s[Tn],s[fn],s[Xr],s[Mt]))return ei;if(s[Xr]+1<this.min(s[Bn],s[Tn],s[fn],s[ei],s[Mt]))return Xr;if(s[Tn]+1<this.min(s[Mt],s[Bn],s[fn],s[ei])){if(s[Tn]<s[Xr])return Tn;if(s[Tn]===s[Xr]){for(var p=r+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return Xr;if(!this.isNativeX12(v))break;p++}return Tn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,en.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=et.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),Ow=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oD=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ya.encode(e,this.charset)!=null}catch{return!1}},t})(),kve=(function(){function t(e,r,n){var i,a,o,s,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new oD(uve.forName(j))}),this.encoders=[];var d=[];d.push(new oD(fve.ISO_8859_1));for(var p=r!=null&&r.name.startsWith("UTF"),v=0;v<e.length;v++){var y=!1;try{for(var _=(i=void 0,Ow(d)),b=_.next();!b.done;b=_.next()){var A=b.value,S=e.charAt(v),T=S.charCodeAt(0);if(T===n||A.canEncode(S)){y=!0;break}}}catch(j){i={error:j}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!y)try{for(var O=(o=void 0,Ow(this.ENCODERS)),N=O.next();!N.done;N=O.next()){var A=N.value;if(A.canEncode(e.charAt(v))){d.push(A),y=!0;break}}}catch(j){o={error:j}}finally{try{N&&!N.done&&(s=O.return)&&s.call(O)}finally{if(o)throw o.error}}y||(p=!0)}if(d.length===1&&!p)this.encoders=[d[0]];else{this.encoders=[];var M=0;try{for(var L=Ow(d),R=L.next();!R.done;R=L.next()){var A=R.value;this.encoders[M++]=A}}catch(j){c={error:j}}finally{try{R&&!R.done&&(f=L.return)&&f.call(L)}finally{if(c)throw c.error}}}var D=-1;if(r!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&r.name===this.encoders[v].name){D=v;break}}this.priorityEncoderIndex=D}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ya.encode(pt.getCharAt(e),this.encoders[r].name)},t})(),Mve=3,jve=(function(){function t(e,r,n){this.fnc1=n;var i=new kve(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Je,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),c=0,f=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),f=c+1);for(var d=c;d<f;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new sD(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new sD[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var c=-1,f=et.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<f&&(f=d.cachedTotalSize,c=s)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var y=r.encode(v.c,v.encoderIndex),o=y.length-1;o>=0;o--)p.unshift(y[o]&255);var _=v.previous===null?0:v.previous.encoderIndex;_!==v.encoderIndex&&p.unshift(256+r.getECIValue(v.encoderIndex)),v=v.previous}for(var b=[],o=0;o<b.length;o++)b[o]=p[o];return b},t})(),sD=(function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=Mve),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),Lve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var lD;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(lD||(lD={}));(function(t){Lve(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(jve);var Bve=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),cD=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),zve=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),Uve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),QC=(function(t){Uve(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+et.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(zve),Fve=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vve=(function(t){Fve(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(QC);function Hve(t,e,r){return new Vve(t,e,r)}function Bh(t,e,r){return new QC(t,e,r)}var $ve=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],jl=0,nm=1,va=2,RB=3,Ao=4,qve=new QC(null,0,0),Rw=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Gve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Wve(t){var e,r;try{for(var n=Gve(t),i=n.next();!i.done;i=n.next()){var a=i.value;en.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[jl][Ao]=0,t[nm][Ao]=0,t[nm][jl]=28,t[RB][Ao]=0,t[va][Ao]=0,t[va][jl]=15,t}var PB=Wve(en.createInt32Array(6,6)),Kve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yve=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Rw[this.mode][e];i=Bh(i,a&65535,a>>16),n+=a>>16}var o=e===va?4:5;return i=Bh(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===va?4:5;return n=Bh(n,PB[this.mode][e],i),n=Bh(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Ao||this.mode===va){var a=Rw[n][jl];r=Bh(r,a&65535,a>>16),i+=a>>16,n=jl}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Hve(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Rw[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new vn;try{for(var s=Kve(i),c=s.next();!c.done;c=s.next()){var f=c.value;f.appendTo(o,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return pt.format("%s bits=%d bytes=%d",$ve[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(qve,jl,0,0),t})();function Xve(t){var e=pt.getCharCode(" "),r=pt.getCharCode("."),n=pt.getCharCode(",");t[jl][e]=1;for(var i=pt.getCharCode("Z"),a=pt.getCharCode("A"),o=a;o<=i;o++)t[jl][o]=o-a+2;t[nm][e]=1;for(var s=pt.getCharCode("z"),c=pt.getCharCode("a"),o=c;o<=s;o++)t[nm][o]=o-c+2;t[va][e]=1;for(var f=pt.getCharCode("9"),d=pt.getCharCode("0"),o=d;o<=f;o++)t[va][o]=o-d+2;t[va][n]=12,t[va][r]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[RB][pt.getCharCode(p[v])]=v;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<y.length;v++)pt.getCharCode(y[v])>0&&(t[Ao][pt.getCharCode(y[v])]=v);return t}var Pw=Xve(en.createInt32Array(5,256)),R1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qve=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pt.getCharCode(" "),r=pt.getCharCode(`
`),n=cD.singletonList(Yve.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case pt.getCharCode("\r"):a=o===r?2:0;break;case pt.getCharCode("."):a=o===e?3:0;break;case pt.getCharCode(","):a=o===e?4:0;break;case pt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=cD.min(n,function(c,f){return c.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=R1(e),s=o.next();!s.done;s=o.next()){var c=s.value;this.updateStateForChar(c,r,a)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=Pw[e.getMode()][i]>0,o=null,s=0;s<=Ao;s++){var c=Pw[s][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===va){var f=o.latchAndAppend(s,c);n.push(f)}if(!a&&PB[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Pw[e.getMode()][i]===0){var p=e.addBinaryShiftChar(r);n.push(p)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=R1(e),c=s.next();!c.done;c=s.next()){var f=c.value;this.updateStateForPair(f,r,n,o)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Ao,n)),e.getMode()!==Ao&&i.push(a.shiftAndAppend(Ao,n)),n===3||n===4){var o=a.latchAndAppend(va,16-n).latchAndAppend(va,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=R1(e),c=s.next();!c.done;c=s.next()){var f=c.value,d=!0,p=function(A){if(A.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(A)&&(o=o.filter(function(S){return S!==A}))};try{for(var v=(i=void 0,R1(o)),y=v.next();!y.done;y=v.next()){var _=y.value,b=p(_);if(b==="break")break}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}d&&o.push(f)}}catch(A){r={error:A}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t})(),Zve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new Qve(e).encode(),a=et.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,c,f,d,p;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,c=Math.abs(n),c>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ze(pt.format("Illegal value %s for layers",n));f=t.totalBitsInLayer(c,s),d=t.WORD_SIZE[c];var v=f-f%d;if(p=t.stuffBits(i,d),p.getSize()+a>v)throw new ze("Data to large for user specified layer");if(s&&p.getSize()>d*64)throw new ze("Data to large for user specified layer")}else{d=0,p=null;for(var y=0;;y++){if(y>t.MAX_NB_BITS)throw new ze("Data too large for an Aztec code");if(s=y<=3,c=s?y+1:y,f=t.totalBitsInLayer(c,s),!(o>f)){(p==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],p=t.stuffBits(i,d));var v=f-f%d;if(!(s&&p.getSize()>d*64)&&p.getSize()+a<=v)break}}}var _=t.generateCheckWords(p,f,d),b=p.getSize()/d,A=t.generateModeMessage(s,c,b),S=(s?11:14)+c*4,T=new Int32Array(S),O;if(s){O=S;for(var y=0;y<T.length;y++)T[y]=y}else{O=S+1+2*et.truncDivision(et.truncDivision(S,2)-1,15);for(var N=et.truncDivision(S,2),M=et.truncDivision(O,2),y=0;y<N;y++){var L=y+et.truncDivision(y,15);T[N-y-1]=M-L-1,T[N+y]=M+L+1}}for(var R=new ko(O),y=0,D=0;y<c;y++){for(var j=(c-y)*4+(s?9:12),B=0;B<j;B++)for(var U=B*2,V=0;V<2;V++)_.get(D+U+V)&&R.set(T[y*2+V],T[y*2+B]),_.get(D+j*2+U+V)&&R.set(T[y*2+B],T[S-1-y*2-V]),_.get(D+j*4+U+V)&&R.set(T[S-1-y*2-V],T[S-1-y*2-B]),_.get(D+j*6+U+V)&&R.set(T[S-1-y*2-B],T[y*2+V]);D+=j*8}if(t.drawModeMessage(R,s,O,A),s)t.drawBullsEye(R,et.truncDivision(O,2),5);else{t.drawBullsEye(R,et.truncDivision(O,2),7);for(var y=0,B=0;y<et.truncDivision(S,2)-1;y+=15,B+=16)for(var V=et.truncDivision(O,2)&1;V<O;V+=2)R.set(et.truncDivision(O,2)-B,V),R.set(et.truncDivision(O,2)+B,V),R.set(V,et.truncDivision(O,2)-B),R.set(V,et.truncDivision(O,2)+B)}var z=new Bve;return z.setCompact(s),z.setSize(O),z.setLayers(c),z.setCodeWords(b),z.setMatrix(R),z},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new vn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=et.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+et.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new IB(t.getGF(n)),c=et.truncDivision(r,n),f=t.bitsToWords(e,n,c);s.encode(f,c-o);var d=r%n,p=new vn;p.appendBits(0,d);try{for(var v=Zve(Array.from(f)),y=v.next();!y.done;y=v.next()){var _=y.value;p.appendBits(_,n)}}catch(b){i={error:b}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,c=0;c<r;c++)s|=e.get(a*r+c)?1<<r-c-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return bi.AZTEC_PARAM;case 6:return bi.AZTEC_DATA_6;case 8:return bi.AZTEC_DATA_8;case 10:return bi.AZTEC_DATA_10;case 12:return bi.AZTEC_DATA_12;default:throw new ze("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new vn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(s|=1<<r-1-c);(s&a)===a?(n.appendBits(s&a,r),o--):(s&a)===0?(n.appendBits(s|1,r),o--):n.appendBits(s,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const DB="YOUR_RAKUTEN_APP_ID_HERE",Jve="b72c14dc75bcde18fb7d3628bf7e92b7";async function eme(t){console.log(`[] JAN: ${t}`);try{const e=await tme(t);if(e)return console.log("[] API"),e}catch(e){console.warn("[] API:",e)}try{const e=await rme(t);if(e)return console.log("[] API"),e}catch(e){console.warn("[] API:",e)}try{const e=await nme(t);if(e)return console.log("[] JAN Code Lookup API"),e}catch(e){console.warn("[] JAN Code Lookup API:",e)}try{const e=await ime(t);if(e)return console.log("[] Open Food Facts API"),e}catch(e){console.warn("[] Open Food Facts API:",e)}return console.warn("[] API"),ame(t)}async function tme(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",DB),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Items||n.Items.length===0)return null;const i=n.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function rme(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",DB),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Products||n.Products.length===0)return null;const i=n.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function nme(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",Jve),e.searchParams.set("query",t),e.searchParams.set("type","code");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.product||n.product.length===0)return null;const i=n.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function ime(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();if(n.status!==1||!n.product)return null;const i=n.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function ame(t){const r={"4902102072453":{name:" 900ml",price:258,calories:67,manufacturer:"",imageUrl:""},"4901777313989":{name:" 2L",price:138,calories:0,manufacturer:"",imageUrl:""},"4902430479318":{name:" 500ml",price:148,calories:125,manufacturer:"",imageUrl:""}}[t];return r?{barcode:t,...r,source:"mock"}:{barcode:t,name:` (${t})`,price:0,manufacturer:"",source:"mock"}}const ome=({onProductFound:t,onClose:e})=>{const r=C.useRef(null),[n,i]=C.useState(null),[a,o]=C.useState(null),[s,c]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(d(),()=>{p()}),[]);const d=async()=>{try{i(null);const y=new eve;f.current=y;const _=await y.listVideoInputDevices();if(_.length===0)throw new Error("");const b=_.find(S=>{const T=S.label.toLowerCase();return T.includes("back")||T.includes("rear")||T.includes("environment")||T.includes("camera")&&T.includes("0")}),A=b?b.deviceId:_[_.length-1].deviceId;console.log(":",b?b.label:_[_.length-1].label),y.decodeFromVideoDevice(A,r.current,async(S,T)=>{if(S&&!s){const O=S.getText();if(O===a)return;o(O),c(!0);try{const N=await eme(O);N?(t(N),p()):(i(`: ${O}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(N){console.error(":",N),i(""),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}T&&!(T instanceof le)&&console.error(":",T)})}catch(y){console.error(":",y),i(y instanceof Error?y.message:"")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return g.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:""}),g.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:""})]}),g.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[g.jsx("video",{ref:r,style:{width:"100%",height:"100%",objectFit:"cover"}}),g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),s&&g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"..."}),n&&g.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:n})]}),g.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:g.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:""})})]})},sme=({product:t,onAdded:e,onNavigateToStock:r})=>{const{addIntake:n}=Qa(),{addStock:i}=Sa(),[a,o]=C.useState(""),[s,c]=C.useState(t.price?.toString()||""),[f,d]=C.useState("7"),p=()=>{if(!a){alert("");return}if(!s){alert("");return}n({name:t.name,calories:Number(a),price:Number(s)}),alert(""),e()},v=()=>{if(!f){alert("");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:s?Number(s):void 0}),r?(e(),setTimeout(()=>{r()},100)):(alert(""),e())};return g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(mu,{size:24,color:"#10b981"}),""]}),g.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),g.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),g.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),g.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:""}),g.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["",t.price.toLocaleString()]})]}),g.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"",t.source==="rakuten_product"&&"",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&""]})]}),g.jsxs("div",{style:{marginBottom:"24px"},children:[g.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(fm,{size:18}),""]}),g.jsx("label",{children:" (kcal)"}),g.jsx("input",{type:"number",value:a,onChange:y=>o(y.target.value),placeholder:": 200"}),g.jsx("label",{children:" ()"}),g.jsx("input",{type:"number",value:s,onChange:y=>c(y.target.value),placeholder:": 150"}),g.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:""})]}),g.jsxs("div",{children:[g.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(iu,{size:18}),""]}),g.jsx("label",{children:""}),g.jsx("input",{type:"number",value:f,onChange:y=>d(y.target.value),placeholder:": 7"}),g.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:r?"":""})]}),g.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:""})]})},lme=({onReceiptScanned:t,onClose:e})=>{const r=C.useRef(null),n=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[s,c]=C.useState(null),[f,d]=C.useState(null),p=async()=>{try{const b=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});r.current&&(r.current.srcObject=b,d(b))}catch(b){console.error(":",b),c("")}};Hn.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(b=>b.stop())}),[]);const v=async()=>{if(!(!r.current||!n.current)){o(!0),c(null);try{const b=r.current,A=n.current,S=A.getContext("2d");if(!S)throw new Error("Canvas context ");A.width=b.videoWidth,A.height=b.videoHeight,S.drawImage(b,0,0);const T=await new Promise((M,L)=>{A.toBlob(R=>{R?M(R):L(new Error("Blob"))},"image/jpeg",.95)}),O=new File([T],"receipt.jpg",{type:"image/jpeg"}),N=await I5(O);f&&f.getTracks().forEach(M=>M.stop()),t(N)}catch(b){console.error("OCR:",b),c(b.message||"")}finally{o(!1)}}},y=async b=>{const A=b.target.files?.[0];if(A){o(!0),c(null);try{const S=await I5(A);f&&f.getTracks().forEach(T=>T.stop()),t(S)}catch(S){console.error("OCR:",S),c(S.message||"")}finally{o(!1)}}},_=()=>{f&&f.getTracks().forEach(b=>b.stop()),e()};return g.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{style:{color:"white",margin:0},children:""}),g.jsx("button",{onClick:_,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:g.jsx(zi,{size:24})})]}),g.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[g.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),g.jsx("canvas",{ref:n,style:{display:"none"}}),g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:g.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:""})}),s&&g.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:s})]}),g.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[g.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:y,style:{display:"none"}}),g.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[g.jsx(cF,{size:20}),""]}),g.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":g.jsx(lp,{size:32})})]})]})},cme=({result:t,onClose:e})=>{const{addExpense:r}=Ea(),{addItem:n}=Ns(),{addStock:i}=Sa(),[a,o]=C.useState(t.items),[s,c]=C.useState(null),[f,d]=C.useState(""),[p,v]=C.useState(""),[y,_]=C.useState(new Set(a.map((V,z)=>z))),b=a.reduce((V,z)=>V+z.price*(z.quantity||1),0),A=y.size,S=V=>{const z=a[V];c(V),d(z.name),v(z.price.toString())},T=()=>{if(s===null)return;const V=parseInt(p,10);if(isNaN(V)||V<=0){alert("");return}const z=[...a];z[s]={...z[s],name:f.trim(),price:V},o(z),c(null),d(""),v("")},O=()=>{c(null),d(""),v("")},N=V=>{if(window.confirm("")){const z=a.filter((Q,de)=>de!==V);o(z)}},M=()=>{const V=window.prompt("");if(!V||!V.trim())return;const z=window.prompt("");if(!z)return;const Q=parseInt(z,10);if(isNaN(Q)||Q<=0){alert("");return}o([...a,{name:V.trim(),price:Q,quantity:1}])},L=()=>{if(a.length===0){alert("1");return}if(!window.confirm(`${a.length}
: ${b.toLocaleString()}`))return;const V=new Date().toISOString();a.forEach(z=>{const Q=z.quantity||1;for(let de=0;de<Q;de++)r({category:"food",amount:z.price,memo:z.name,date:t.date||V})}),alert(""),e()},R=()=>{if(a.length===0){alert("1");return}window.confirm(`${a.length}`)&&(a.forEach(V=>{n({name:V.name,quantity:V.quantity||1,price:V.price})}),alert(""),e())},D=V=>{const z=new Set(y);z.has(V)?z.delete(V):z.add(V),_(z)},j=()=>{y.size===a.length?_(new Set):_(new Set(a.map((V,z)=>z)))},B=()=>{if(A===0){alert("");return}if(!window.confirm(`${A}`))return;const V=7,z=new Date;z.setDate(z.getDate()+V);const Q=z.toISOString().split("T")[0];let de=0;a.forEach((Y,re)=>{if(y.has(re)){const K=Y.quantity||1;for(let ve=0;ve<K;ve++)i({name:Y.name,quantity:1,daysRemaining:V,price:Y.price}),de++}}),alert(`${de}
${Q}${V}`),e()},U=V=>new Intl.NumberFormat("ja-JP").format(V);return g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[g.jsx(_D,{size:20}),""]}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:j,style:{background:A===a.length?"#3b82f6":"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[A===a.length?g.jsx(NI,{size:18}):g.jsx(DI,{size:18}),A===a.length?"":""]}),g.jsxs("button",{onClick:M,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[g.jsx(sp,{size:18}),""]})]})]}),g.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&g.jsxs("div",{style:{marginBottom:"4px"},children:[g.jsx("strong",{children:":"})," ",t.storeName]}),t.date&&g.jsxs("div",{children:[g.jsx("strong",{children:":"})," ",t.date]})]}),a.length===0?g.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):g.jsx("div",{style:{marginBottom:"16px"},children:a.map((V,z)=>g.jsx("div",{style:{padding:"12px",borderBottom:z<a.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:s===z?g.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[g.jsx("input",{value:f,onChange:Q=>d(Q.target.value),placeholder:"",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),g.jsx("input",{value:p,onChange:Q=>v(Q.target.value),type:"number",placeholder:"",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),g.jsx("button",{onClick:T,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:g.jsx(xA,{size:16})}),g.jsx("button",{onClick:O,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:""})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>D(z),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",marginRight:"8px",color:y.has(z)?"#3b82f6":"var(--text-secondary)",display:"flex",alignItems:"center"},children:y.has(z)?g.jsx(NI,{size:24}):g.jsx(DI,{size:24})}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:V.name}),V.quantity&&V.quantity>1&&g.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[": ",V.quantity,""]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["",U(V.price*(V.quantity||1))]}),g.jsx("button",{onClick:()=>S(z),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:g.jsx(RD,{size:18})}),g.jsx("button",{onClick:()=>N(z),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:g.jsx(yu,{size:18})})]})]})},z))}),g.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:""}),g.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["",U(b)]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[g.jsxs("button",{onClick:B,className:"submit",disabled:A===0,style:{opacity:A===0?.5:1,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontSize:"15px",fontWeight:600},children:[g.jsx(iu,{size:20})," (",A,")"]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[g.jsxs("button",{onClick:R,className:"submit",disabled:a.length===0,style:{opacity:a.length===0?.5:1,background:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(nd,{size:18}),""]}),g.jsx("button",{onClick:L,className:"submit",disabled:a.length===0,style:{opacity:a.length===0?.5:1},children:""})]}),g.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:""})]}),g.jsxs("details",{style:{marginTop:"16px"},children:[g.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR"}),g.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},ume=({onNavigateToStock:t})=>{const[e,r]=C.useState("select"),[n,i]=C.useState(!1),[a,o]=C.useState(null),[s,c]=C.useState(null),f=()=>{r("barcode"),i(!0),o(null)},d=()=>{r("receipt"),i(!0),c(null)},p=A=>{o(A),i(!1)},v=A=>{c(A),i(!1)},y=()=>{o(null),r("select")},_=()=>{c(null),r("select")},b=()=>{r("select"),i(!1),o(null),c(null)};return g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),e==="select"&&!n&&!a&&!s&&g.jsx(g.Fragment,{children:g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(lp,{size:20}),""]}),g.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:""}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[g.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[g.jsx(nF,{size:48}),g.jsx("span",{children:""}),g.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JAN"})]}),g.jsxs("button",{onClick:d,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[g.jsx(_D,{size:48}),g.jsx("span",{children:""}),g.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR"})]})]})]})}),e==="barcode"&&n&&g.jsx(ome,{onProductFound:p,onClose:b}),e==="barcode"&&a&&g.jsx(sme,{product:a,onAdded:y,onNavigateToStock:t}),e==="receipt"&&n&&g.jsx(lme,{onReceiptScanned:v,onClose:b}),e==="receipt"&&s&&g.jsx(cme,{result:s,onClose:_})]})};function uD(t,e,r){return t.filter(n=>{const i=new Date(n.date);return i.getFullYear()===e&&i.getMonth()+1===r})}function fD(t,e,r,n){const i=uD(r,t,e),a=uD(n,t,e),o=i.reduce((d,p)=>d+p.calories,0),s=i.reduce((d,p)=>d+(p.price||0),0),c=a.reduce((d,p)=>d+p.amount,0),f={};return a.forEach(d=>{f[d.category]=(f[d.category]||0)+d.amount}),{year:t,month:e,intakes:{count:i.length,totalCalories:o,avgCalories:i.length>0?o/i.length:0,totalPrice:s},expenses:{count:a.length,total:c,byCategory:f}}}function fme(t,e,r,n){const i=fD(t,e,r,n);let a=t,o=e-1;o===0&&(o=12,a-=1);const s=fD(a,o,r,n),c=(f,d)=>d===0?f>0?100:0:(f-d)/d*100;return{current:i,previous:s,changes:{intakesCount:c(i.intakes.count,s.intakes.count),totalCalories:c(i.intakes.totalCalories,s.intakes.totalCalories),avgCalories:c(i.intakes.avgCalories,s.intakes.avgCalories),totalExpenses:c(i.expenses.total,s.expenses.total)}}}function dme(t){const{current:e,previous:r,changes:n}=t;return`35

${e.year}${e.month}
- : ${e.intakes.count}
- : ${e.intakes.totalCalories.toLocaleString()}kcal
- : ${Math.round(e.intakes.avgCalories)}kcal/
- : ${e.intakes.totalPrice.toLocaleString()}
- : ${e.expenses.total.toLocaleString()}

${r.year}${r.month}
- : ${r.intakes.count}
- : ${r.intakes.totalCalories.toLocaleString()}kcal
- : ${Math.round(r.intakes.avgCalories)}kcal/
- : ${r.expenses.total.toLocaleString()}


- : ${n.intakesCount>0?"+":""}${n.intakesCount.toFixed(1)}%
- : ${n.totalCalories>0?"+":""}${n.totalCalories.toFixed(1)}%
- : ${n.avgCalories>0?"+":""}${n.avgCalories.toFixed(1)}%
- : ${n.totalExpenses>0?"+":""}${n.totalExpenses.toFixed(1)}%


1. 
2. 23
3. 12
4. 
5. `}function hme(){const{intakes:t}=Qa(),{expenses:e}=Ea(),r=new Date,[n,i]=C.useState(r.getFullYear()),[a,o]=C.useState(r.getMonth()+1),[s,c]=C.useState(null),[f,d]=C.useState(""),[p,v]=C.useState(!1);C.useEffect(()=>{const N=fme(n,a,t,e);c(N)},[n,a,t,e]);const y=async()=>{if(s){v(!0);try{const N=dme(s),M=await Dpe(N);d(M)}catch(N){console.error("AI:",N),alert("AI")}finally{v(!1)}}},_=()=>{a===1?(i(n-1),o(12)):o(a-1),d("")},b=()=>{a===12?(i(n+1),o(1)):o(a+1),d("")},A=N=>{if(N===0)return g.jsx("span",{className:"change-neutral",children:"0%"});const M=N>0?g.jsx(yA,{}):g.jsx(eF,{}),L=N>0?"change-up":"change-down";return g.jsxs("span",{className:`change ${L}`,children:[M," ",N>0?"+":"",N.toFixed(1),"%"]})};if(!s)return g.jsx("div",{className:"card",children:"..."});const{current:S,previous:T,changes:O}=s;return g.jsx("div",{className:"monthly-report",children:g.jsxs("div",{className:"card",children:[g.jsxs("div",{className:"report-header",children:[g.jsx("h3",{children:" "}),g.jsxs("div",{className:"month-selector",children:[g.jsx("button",{className:"month-nav-btn",onClick:_,children:""}),g.jsxs("span",{className:"current-month",children:[n,"",a,""]}),g.jsx("button",{className:"month-nav-btn",onClick:b,children:""})]})]}),g.jsxs("div",{className:"report-section",children:[g.jsx("h4",{children:""}),g.jsxs("div",{className:"stats-grid",children:[g.jsxs("div",{className:"stat-item",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[S.intakes.count,""]}),A(O.intakesCount)]}),g.jsxs("div",{className:"stat-item",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[Math.round(S.intakes.avgCalories),"kcal"]}),A(O.avgCalories)]}),g.jsxs("div",{className:"stat-item",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:[S.intakes.totalCalories.toLocaleString(),"kcal"]}),A(O.totalCalories)]}),g.jsxs("div",{className:"stat-item",children:[g.jsx("div",{className:"stat-label",children:""}),g.jsxs("div",{className:"stat-value",children:["",S.expenses.total.toLocaleString()]}),A(O.totalExpenses)]})]})]}),g.jsxs("div",{className:"report-section",children:[g.jsxs("h4",{children:["",T.year,"",T.month,""]}),g.jsxs("div",{className:"comparison-grid",children:[g.jsxs("div",{className:"comparison-item",children:[g.jsx("div",{className:"comparison-label",children:""}),g.jsxs("div",{className:"comparison-values",children:[g.jsxs("span",{className:"prev-value",children:[T.intakes.count,""]}),g.jsx(T2,{}),g.jsxs("span",{className:"curr-value",children:[S.intakes.count,""]})]})]}),g.jsxs("div",{className:"comparison-item",children:[g.jsx("div",{className:"comparison-label",children:""}),g.jsxs("div",{className:"comparison-values",children:[g.jsxs("span",{className:"prev-value",children:[Math.round(T.intakes.avgCalories),"kcal"]}),g.jsx(T2,{}),g.jsxs("span",{className:"curr-value",children:[Math.round(S.intakes.avgCalories),"kcal"]})]})]}),g.jsxs("div",{className:"comparison-item",children:[g.jsx("div",{className:"comparison-label",children:""}),g.jsxs("div",{className:"comparison-values",children:[g.jsxs("span",{className:"prev-value",children:["",T.expenses.total.toLocaleString()]}),g.jsx(T2,{}),g.jsxs("span",{className:"curr-value",children:["",S.expenses.total.toLocaleString()]})]})]})]})]}),g.jsxs("div",{className:"report-section",children:[g.jsxs("h4",{children:[g.jsx(Y1,{size:20,style:{marginRight:"8px"}}),"AI"]}),f?g.jsxs("div",{className:"ai-suggestions",children:[g.jsx("div",{className:"suggestions-content",children:f}),g.jsx("button",{className:"submit",onClick:y,disabled:p,style:{marginTop:"12px"},children:""})]}):g.jsx("button",{className:"submit",onClick:y,disabled:p||S.intakes.count===0,style:{width:"100%"},children:p?"...":"AI"}),S.intakes.count===0&&g.jsx("p",{className:"no-data-message",children:""})]})]})})}const pme=()=>{const{intakes:t}=Qa(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const s=o.toISOString().split("T")[0],f=t.filter(d=>d.date.startsWith(s)).reduce((d,p)=>d+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),r=e.some(n=>n.calories>0);return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:" "}),r?g.jsx(Jp,{width:"100%",height:250,children:g.jsxs(Bie,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[g.jsx(bS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),g.jsx(_S,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),g.jsx(AS,{tick:{fontSize:12},stroke:"#9ca3af"}),g.jsx(Zp,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),g.jsx(oj,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:" (kcal)"})]})}):g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[g.jsx("p",{children:""}),g.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},gme=()=>{const{expenses:t}=Ea(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(n.getFullYear(),n.getMonth()-a,1),s=o.getFullYear(),c=o.getMonth()+1,d=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===s&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}`,amount:d})}return i},[t]),r=e.some(n=>n.amount>0);return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:" "}),r?g.jsx(Jp,{width:"100%",height:250,children:g.jsxs(Uie,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[g.jsx(bS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),g.jsx(_S,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),g.jsx(AS,{tick:{fontSize:12},stroke:"#9ca3af"}),g.jsx(Zp,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:n=>`${n.toLocaleString()}`}),g.jsx(W9,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:""})]})}):g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[g.jsx("p",{children:""}),g.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},vme=()=>{const{intakes:t}=Qa(),e=C.useMemo(()=>{const r=new Map;return t.forEach(i=>{const a=r.get(i.name)||0;r.set(i.name,a+1)}),Array.from(r.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"  TOP5"}),e.length===0?g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[g.jsx("p",{children:""}),g.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]}):g.jsx("div",{style:{marginTop:"16px"},children:e.map(r=>g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:r.rank<e.length?"1px solid var(--border)":"none"},children:[g.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:r.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":r.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":r.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:r.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:r.rank}),g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[": ",r.count,""]})]})]},r.rank))})]})},P1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],mme=()=>{const{intakes:t}=Qa(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const s=o.manufacturer||"",c=i.get(s)||0;i.set(s,c+o.price)}),Array.from(i.entries()).sort((o,s)=>s[1]-o[1]).slice(0,6).map(([o,s])=>({name:o,value:s}))},[t]),r=e.reduce((i,a)=>i+a.value,0),n=r>0;return g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:" "}),n?g.jsxs(g.Fragment,{children:[g.jsx(Jp,{width:"100%",height:250,children:g.jsxs(TS,{children:[g.jsx(qm,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>g.jsx(Au,{fill:P1[a%P1.length]},`cell-${a}`))}),g.jsx(Zp,{formatter:i=>`${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),g.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:P1[a%P1.length],flexShrink:0}}),g.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),g.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["",i.value.toLocaleString()]})]},i.name))}),g.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{style:{fontWeight:600},children:""}),g.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["",r.toLocaleString()]})]})]}):g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[g.jsx("p",{children:""}),g.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:""})]})]})},yme=()=>g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:" "}),g.jsx(hme,{}),g.jsx(pme,{}),g.jsx(gme,{}),g.jsx(vme,{}),g.jsx(mme,{})]}),NB=({selectedYear:t,selectedMonth:e,selectedDate:r,onSelectDate:n,onMonthChange:i,mode:a="month"})=>{const[o,s]=C.useState(t),[c,f]=C.useState(e),d=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let N=c-1,M=o;N<1&&(N=12,M-=1),f(N),s(M),i&&i(M,N)},y=()=>{let N=c+1,M=o;N>12&&(N=1,M+=1),f(N),s(M),i&&i(M,N)},_=N=>{if(a==="date"&&n){const M=new Date(o,c-1,N);n(M)}},b=()=>{a==="month"&&i&&i(o,c)},A=N=>{const M=new Date;return M.getFullYear()===o&&M.getMonth()+1===c&&M.getDate()===N},S=N=>r?r.getFullYear()===o&&r.getMonth()+1===c&&r.getDate()===N:!1,T=[];for(let N=0;N<p;N++)T.push(null);for(let N=1;N<=d;N++)T.push(N);const O=["","","","","","",""];return g.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[g.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:g.jsx(PD,{size:24})}),g.jsxs("div",{onClick:b,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o," ",c,""]}),g.jsx("button",{onClick:y,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:g.jsx(wA,{size:24})})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:O.map((N,M)=>g.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:M===0?"#ef4444":M===6?"#3b82f6":"var(--text-secondary)"},children:N},M))}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:T.map((N,M)=>{if(N===null)return g.jsx("div",{},`empty-${M}`);const L=A(N),R=S(N),D=M%7;return g.jsx("button",{onClick:()=>_(N),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:L?"2px solid var(--primary)":"none",borderRadius:"8px",background:R?"var(--primary)":L?"var(--background)":"transparent",color:R?"white":D===0?"#ef4444":D===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:R||L?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:j=>{a==="date"&&!R&&(j.currentTarget.style.background="var(--background)")},onMouseLeave:j=>{a==="date"&&!R&&(j.currentTarget.style.background="transparent")},children:N},N)})}),a==="date"&&g.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:r?`: ${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`:""})]})},xme=({isOpen:t,selectedDate:e,onClose:r,onConfirm:n})=>{const[i,a]=Hn.useState(e);if(Hn.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{n(i),r()};return g.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:g.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[g.jsx("h3",{style:{margin:0},children:""}),g.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:g.jsx(zi,{size:24})})]}),g.jsx(NB,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{onClick:r,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:""}),g.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[g.jsx(bA,{size:20}),""]})]})]})})},bme=()=>{const{addExpense:t}=Ea(),[e,r]=C.useState("food"),[n,i]=C.useState(""),[a,o]=C.useState(""),[s,c]=C.useState(""),[f,d]=C.useState(new Date),[p,v]=C.useState(!1),y=[{value:"food",label:""},{value:"transport",label:""},{value:"utilities",label:""},{value:"entertainment",label:""},{value:"health",label:""},{value:"other",label:""}],_=()=>{if(!a||Number(a)<=0){alert("");return}if(e==="other"&&!n.trim()){alert("");return}t({category:e,customCategory:e==="other"?n.trim():void 0,amount:Number(a),memo:s||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("")},b=A=>`${A.getFullYear()}${A.getMonth()+1}${A.getDate()}`;return g.jsxs("div",{className:"card",children:[g.jsx("label",{children:""}),g.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[g.jsx("span",{children:b(f)}),g.jsx(Np,{size:20,color:"var(--primary)"})]}),g.jsx("label",{children:""}),g.jsx("select",{value:e,onChange:A=>r(A.target.value),children:y.map(A=>g.jsx("option",{value:A.value,children:A.label},A.value))}),e==="other"&&g.jsxs(g.Fragment,{children:[g.jsx("label",{children:""}),g.jsx("input",{value:n,onChange:A=>i(A.target.value),placeholder:": "})]}),g.jsx("label",{children:"()"}),g.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:"1000",min:"0"}),g.jsx("label",{children:""}),g.jsx("input",{value:s,onChange:A=>c(A.target.value),placeholder:": "}),g.jsxs("button",{className:"submit",onClick:_,children:[g.jsx(sp,{size:20}),""]}),g.jsx(xme,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:d})]})},ZC=({isOpen:t,selectedYear:e,selectedMonth:r,onClose:n,onConfirm:i})=>{if(!t)return null;const a=(o,s)=>{i(o,s),n()};return g.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:g.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[g.jsx("h3",{style:{margin:0},children:""}),g.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:g.jsx(zi,{size:24})})]}),g.jsx(NB,{selectedYear:e,selectedMonth:r,onMonthChange:a,mode:"month"}),g.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:""})]})})},wme=()=>{const{getTotalByMonth:t}=Ea(),{settings:e}=Dp(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,s]=C.useState(!1),c=e.monthlyBudget??3e4,f=t(r,i),d=f/c*100,p=c-f,v=A=>new Intl.NumberFormat("ja-JP").format(A),_=d>=100?{color:"#ef4444",icon:g.jsx(ED,{size:24}),message:""}:d>=80?{color:"#f59e0b",icon:g.jsx(yA,{size:24}),message:""}:{color:"#10b981",icon:g.jsx(mu,{size:24}),message:""},b=(A,S)=>{n(A),a(S)};return g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{marginBottom:"15px"},children:""}),g.jsxs("button",{onClick:()=>s(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[g.jsxs("span",{children:[r," ",i,""]}),g.jsx(Np,{size:20,color:"var(--primary)"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[g.jsx("div",{style:{color:_.color},children:_.icon}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:"bold",color:_.color},children:_.message}),g.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?` ${v(p)}`:` ${v(Math.abs(p))}`})]}),g.jsx("div",{style:{textAlign:"right"},children:g.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:_.color},children:[d.toFixed(1),"%"]})})]}),g.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[g.jsx("div",{style:{background:`linear-gradient(90deg, ${_.color}, ${_.color}dd)`,height:"100%",width:`${Math.min(d,100)}%`,transition:"width 0.3s ease"}}),g.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:d>50?"white":"var(--text)",fontSize:"14px"},children:["",v(f)," / ",v(c)]})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[g.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:""}),g.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["",v(f)]})]}),g.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:""}),g.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["",v(c)]})]})]}),g.jsx(ZC,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>s(!1),onConfirm:b})]})},yl=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],dD=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],kB=t=>{if(!t)return yl[5];let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e),e=e&e;const r=Math.abs(e)%dD.length;return dD[r]},MB=t=>({food:yl[0],transport:yl[1],utilities:yl[2],entertainment:yl[3],health:yl[4],other:yl[5]})[t]||yl[5],_me=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=Ea(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,s]=C.useState(!1),c=[{value:"food",label:""},{value:"transport",label:""},{value:"utilities",label:""},{value:"entertainment",label:""},{value:"health",label:""}],f=e(r,i),d=C.useMemo(()=>{const _=new Map;return c.forEach(b=>{const A=t(b.value,r,i);A>0&&_.set(b.value,{name:b.label,value:A,color:MB(b.value)})}),f.forEach(b=>{if(b.category==="other"&&b.customCategory){const A=`custom_${b.customCategory}`,S=_.get(A);S?S.value+=b.amount:_.set(A,{name:b.customCategory,value:b.amount,color:kB(b.customCategory)})}}),Array.from(_.values())},[r,i,f,t]),p=d.reduce((_,b)=>_+b.value,0),v=_=>new Intl.NumberFormat("ja-JP").format(_),y=(_,b)=>{n(_),a(b)};return g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{marginBottom:"15px"},children:""}),g.jsxs("button",{onClick:()=>s(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[g.jsxs("span",{children:[r," ",i,""]}),g.jsx(Np,{size:20,color:"var(--primary)"})]}),f.length===0?g.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[g.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:""}),g.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["",v(p)]})]}),d.length>0&&g.jsxs(g.Fragment,{children:[g.jsx(Jp,{width:"100%",height:250,children:g.jsxs(TS,{children:[g.jsx(qm,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: ${v(_.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((_,b)=>g.jsx(Au,{fill:_.color},`cell-${b}`))}),g.jsx(Zp,{formatter:_=>`${v(_)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),g.jsx(Cm,{})]})}),g.jsx("div",{style:{marginTop:"20px"},children:d.map((_,b)=>{const A=(_.value/p*100).toFixed(1);return g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:b<d.length-1?"1px solid var(--border)":"none"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:_.color}}),g.jsx("span",{children:_.name})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontWeight:"bold"},children:["",v(_.value)]}),g.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[A,"%"]})]})]},b)})})]})]}),g.jsx(ZC,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>s(!1),onConfirm:y})]})},Ame=()=>{const{deleteExpense:t,getExpensesByMonth:e}=Ea(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,s]=C.useState(!1),c=e(r,i),f={food:"",transport:"",utilities:"",entertainment:"",health:"",other:""},d=A=>A.category==="other"&&A.customCategory?A.customCategory:f[A.category],p=A=>A.category==="other"&&A.customCategory?kB(A.customCategory):MB(A.category),v=A=>{window.confirm("")&&t(A)},y=A=>{const S=new Date(A);return`${S.getMonth()+1}/${S.getDate()}`},_=A=>new Intl.NumberFormat("ja-JP").format(A),b=(A,S)=>{n(A),a(S)};return g.jsxs("div",{className:"card",children:[g.jsxs("button",{onClick:()=>s(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[g.jsxs("span",{children:[r," ",i,""]}),g.jsx(Np,{size:20,color:"var(--primary)"})]}),c.length===0?g.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:""}):g.jsx("div",{className:"list",children:c.sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime()).map(A=>g.jsxs("div",{className:"list-item",children:[g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[g.jsx("span",{style:{background:p(A),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:d(A)}),g.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:y(A.date)})]}),A.memo&&g.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:A.memo})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["",_(A.amount)]}),g.jsx("button",{className:"delete",onClick:()=>v(A.id),style:{padding:"8px"},children:g.jsx(yu,{size:20})})]})]},A.id))}),g.jsx(ZC,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>s(!1),onConfirm:b})]})},Eme=()=>g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:""}),g.jsx(wme,{}),g.jsx(bme,{}),g.jsx(_me,{}),g.jsx("h3",{children:""}),g.jsx(Ame,{})]}),Sme={streak:" ",milestone:" ",goal:" ",feature:" "};function Cme(){const{badges:t,isUnlocked:e,getUnlockedCount:r,getTotalCount:n}=UC(),i=["streak","milestone","goal","feature"],a=o=>tm.filter(s=>s.category===o);return g.jsxs("div",{className:"badge-list",children:[g.jsxs("div",{className:"badge-summary",children:[g.jsxs("h3",{children:[""," ",g.jsxs("span",{className:"badge-count",children:[r()," / ",n()]})]}),g.jsx("div",{className:"progress-bar",children:g.jsx("div",{className:"progress-fill",style:{width:`${r()/n()*100}%`}})})]}),i.map(o=>{const s=a(o);return g.jsxs("div",{className:"badge-category",children:[g.jsx("h4",{className:"category-title",children:Sme[o]}),g.jsx("div",{className:"badge-grid",children:s.map(c=>{const f=e(c.id),d=t.find(p=>p.id===c.id);return g.jsxs("div",{className:`badge-item ${f?"unlocked":"locked"}`,children:[g.jsx("div",{className:"badge-icon",children:f?c.icon:""}),g.jsxs("div",{className:"badge-info",children:[g.jsx("div",{className:"badge-name",children:c.name}),g.jsx("div",{className:"badge-description",children:c.description}),!f&&g.jsx("div",{className:"badge-requirement",children:c.requirement}),f&&d?.unlockedAt&&g.jsx("div",{className:"badge-unlocked-date",children:new Date(d.unlockedAt).toLocaleDateString("ja-JP")})]})]},c.id)})})]},o)})]})}function Tme(){return g.jsxs("section",{className:"screen active",children:[g.jsx("h2",{children:" "}),g.jsx("div",{className:"card",children:g.jsx(Cme,{})})]})}const Ime=({images:t,initialIndex:e=0,onClose:r})=>{const[n,i]=C.useState(e),a=()=>{i(c=>c>0?c-1:t.length-1)},o=()=>{i(c=>c<t.length-1?c+1:0)},s=c=>{c.target===c.currentTarget&&r()};return g.jsxs("div",{onClick:s,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.2s ease-out"},children:[g.jsx("button",{onClick:r,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"background 0.2s",zIndex:1e4},onMouseEnter:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:g.jsx(zi,{size:28})}),t.length>1&&g.jsxs("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:600,zIndex:1e4},children:[n+1," / ",t.length]}),t.length>1&&g.jsx("button",{onClick:a,style:{position:"absolute",left:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"background 0.2s",zIndex:1e4},onMouseEnter:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:g.jsx(PD,{size:32})}),t.length>1&&g.jsx("button",{onClick:o,style:{position:"absolute",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"52px",height:"52px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",transition:"background 0.2s",zIndex:1e4},onMouseEnter:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:g.jsx(wA,{size:32})}),g.jsx("img",{src:t[n],alt:` ${n+1}`,style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain",animation:"slideUp 0.3s ease-out"},onClick:c=>c.stopPropagation()})]})},im=({post:t,onPostClick:e,onUserClick:r,onQuoteRepost:n,showPinButton:i=!1,onPinToggle:a})=>{const{user:o}=Ca(),[s,c]=C.useState(!1),[f,d]=C.useState(!1),[p,v]=C.useState(!1),[y,_]=C.useState(t.likes),[b,A]=C.useState(t.repostCount),[S,T]=C.useState(!1),[O,N]=C.useState(!1),[M,L]=C.useState(0),[R,D]=C.useState(null),[j,B]=C.useState(!1);C.useEffect(()=>{(async()=>{if(o)try{const ve=await vB(t.id,o.uid),Ae=await n0e(t.id,o.uid),G=await o0e(t.id,o.uid);c(ve),d(Ae),v(G);const J=await Wi(o.uid);D(J)}catch(ve){console.error(":",ve)}})()},[t.id,o]);const U=async K=>{if(K.stopPropagation(),!(!o||S||!R))try{T(!0),s?(await gB(t.id,o.uid),c(!1),_(Math.max(0,y-1))):(await pB(t.id,o.uid,R.displayName,R.avatarUrl),c(!0),_(y+1))}catch(ve){console.error(":",ve),alert("")}finally{T(!1)}},V=K=>{K.stopPropagation(),e(t.id)},z=async K=>{if(K.stopPropagation(),!(!o||S||!R))try{T(!0),p?(await a0e(t.id,o.uid),v(!1),A(Math.max(0,b-1))):(await i0e(t.id,o.uid,R.displayName,R.avatarUrl),v(!0),A(b+1))}catch(ve){console.error(":",ve),alert("")}finally{T(!1)}},Q=async K=>{if(K.stopPropagation(),!(!o||S))try{T(!0),f?(await r0e(t.id,o.uid),d(!1)):(await t0e(t.id,o.uid),d(!0))}catch(ve){console.error(":",ve),alert("")}finally{T(!1)}},de=K=>{K.stopPropagation(),navigator.share?navigator.share({title:"",text:t.content}).catch(ve=>console.log("Share cancelled:",ve)):alert("")},Y=K=>{K.stopPropagation(),n&&n(t.id)},re=async K=>{if(K.stopPropagation(),!!o)try{T(!0),t.isPinned?(await f0e(o.uid,t.id),alert("")):(await u0e(o.uid,t.id),alert("")),B(!1),a&&a()}catch(ve){console.error(":",ve),alert("")}finally{T(!1)}};return g.jsxs("div",{className:"post-card",onClick:()=>e(t.id),style:{background:"var(--card)",borderRadius:"12px",padding:"16px",marginBottom:"12px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:K=>{K.currentTarget.style.transform="translateY(-2px)",K.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:K=>{K.currentTarget.style.transform="translateY(0)",K.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[t.isPinned&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--primary)",fontSize:"13px",fontWeight:600,marginBottom:"12px"},children:[g.jsx(PI,{size:16}),g.jsx("span",{children:""})]}),g.jsxs("div",{onClick:K=>{r&&(K.stopPropagation(),r(t.authorId))},style:{display:"flex",alignItems:"center",marginBottom:"12px",cursor:r?"pointer":"default",padding:"4px",marginLeft:"-4px",borderRadius:"8px",transition:"background 0.2s"},onMouseEnter:K=>{r&&(K.currentTarget.style.background="rgba(0, 0, 0, 0.05)")},onMouseLeave:K=>{K.currentTarget.style.background="none"},children:[g.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.authorAvatar?`url(${t.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.authorName}),g.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px"},children:Mf(t.createdAt)})]}),i&&g.jsxs("div",{style:{marginLeft:"auto",position:"relative"},children:[g.jsx("button",{onClick:K=>{K.stopPropagation(),B(!j)},style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:K=>{K.currentTarget.style.background="var(--border)"},onMouseLeave:K=>{K.currentTarget.style.background="none"},children:g.jsx(DD,{size:20})}),j&&g.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"4px",background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",minWidth:"180px",zIndex:10},children:g.jsxs("button",{onClick:re,disabled:S,style:{width:"100%",padding:"12px 16px",background:"none",border:"none",cursor:S?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",color:"var(--text)",fontSize:"14px",fontWeight:500,transition:"background 0.2s",opacity:S?.6:1},onMouseEnter:K=>{S||(K.currentTarget.style.background="var(--border)")},onMouseLeave:K=>{K.currentTarget.style.background="none"},children:[g.jsx(PI,{size:18}),g.jsx("span",{children:t.isPinned?"":""})]})})]})]}),t.replyToUserName&&g.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"8px"},children:[g.jsx("span",{style:{marginRight:"4px"},children:""}),g.jsxs("span",{children:[t.replyToUserName,""]})]}),g.jsx("div",{style:{color:"var(--text)",fontSize:"15px",lineHeight:"1.5",marginBottom:"12px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t.content.split(/(@[a-zA-Z0-9_]+)/g).map((K,ve)=>K.match(/^@[a-zA-Z0-9_]+$/)?g.jsx("span",{onClick:async Ae=>{Ae.stopPropagation();const G=K.substring(1);console.log("Mention clicked:",G);const J=await dpe(G);J&&r?r(J):console.warn("User not found:",G)},style:{color:"var(--primary)",cursor:"pointer",fontWeight:600},children:K},ve):K)}),t.recipeData&&g.jsxs("div",{style:{marginBottom:"12px",padding:"16px",background:"linear-gradient(135deg, rgba(22, 163, 74, 0.05), rgba(129, 199, 132, 0.05))",borderRadius:"12px",border:"2px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"20px"},children:""}),g.jsx("div",{style:{fontWeight:700,fontSize:"16px",color:"var(--text)"},children:t.recipeData.title}),g.jsx("div",{style:{marginLeft:"auto",padding:"4px 12px",background:"var(--primary)",color:"white",borderRadius:"12px",fontSize:"12px",fontWeight:600},children:t.recipeData.difficulty==="easy"?"":t.recipeData.difficulty==="medium"?"":""})]}),g.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"12px"},children:t.recipeData.description}),g.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"13px",color:"var(--text-secondary)",marginBottom:"12px"},children:[g.jsxs("span",{children:[" ",t.recipeData.servings,""]}),g.jsxs("span",{children:[" ",t.recipeData.preparationTime+t.recipeData.cookingTime,""]})]}),t.recipeData.ingredients&&t.recipeData.ingredients.length>0&&g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)",marginBottom:"8px"},children:" "}),g.jsx("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"var(--text)",lineHeight:"1.8"},children:t.recipeData.ingredients.map((K,ve)=>g.jsx("li",{children:K},ve))})]}),t.recipeData.instructions&&t.recipeData.instructions.length>0&&g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)",marginBottom:"8px"},children:" "}),g.jsx("ol",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"var(--text)",lineHeight:"1.8"},children:t.recipeData.instructions.map((K,ve)=>g.jsx("li",{style:{marginBottom:"4px"},children:K},ve))})]})]}),t.quotedPost&&g.jsxs("div",{onClick:K=>{K.stopPropagation(),e(t.quotedPost.id)},style:{marginBottom:"12px",padding:"12px",background:"var(--background)",borderRadius:"12px",border:"1px solid var(--border)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:K=>{K.currentTarget.style.background="var(--border)"},onMouseLeave:K=>{K.currentTarget.style.background="var(--background)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[g.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:t.quotedPost.authorAvatar?`url(${t.quotedPost.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)"}}),g.jsx("div",{style:{fontWeight:600,fontSize:"13px",color:"var(--text)"},children:t.quotedPost.authorName}),g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:Mf(t.quotedPost.createdAt)})]}),g.jsx("div",{style:{fontSize:"14px",color:"var(--text)",lineHeight:"1.4",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",marginBottom:t.quotedPost.recipeData?"8px":"0"},children:t.quotedPost.content}),t.quotedPost.recipeData&&g.jsxs("div",{style:{marginBottom:"8px",padding:"8px",background:"rgba(22, 163, 74, 0.05)",borderRadius:"8px",border:"1px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[g.jsx("span",{style:{fontSize:"14px"},children:""}),g.jsx("span",{style:{fontWeight:600,fontSize:"13px",color:"var(--text)"},children:t.quotedPost.recipeData.title})]}),g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:t.quotedPost.recipeData.description})]}),t.quotedPost.images&&t.quotedPost.images.length>0&&g.jsx("div",{style:{marginTop:"8px",width:"100%",paddingBottom:"40%",position:"relative",borderRadius:"8px",overflow:"hidden",background:"var(--border)"},children:g.jsx("img",{src:t.quotedPost.images[0],alt:"",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})})]}),t.images&&t.images.length>0&&g.jsx("div",{style:{display:"grid",gridTemplateColumns:t.images.length===1?"1fr":(t.images.length===2,"repeat(2, 1fr)"),gap:"8px",marginBottom:"16px"},children:t.images.map((K,ve)=>g.jsx("div",{onClick:Ae=>{Ae.stopPropagation(),L(ve),N(!0)},style:{width:"100%",paddingBottom:t.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"8px",overflow:"hidden",background:"var(--border)",cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:Ae=>{Ae.currentTarget.style.opacity="0.9"},onMouseLeave:Ae=>{Ae.currentTarget.style.opacity="1"},children:g.jsx("img",{src:K,alt:` ${ve+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},ve))}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",paddingTop:"12px",borderTop:"1px solid var(--border)"},children:[g.jsxs("button",{onClick:U,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:s?"#e91e63":"var(--text-secondary)",transition:"background 0.2s, color 0.2s"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:K=>{K.currentTarget.style.background="none"},children:[s?g.jsx(wD,{size:20}):g.jsx(bD,{size:20}),g.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:op(y)})]}),g.jsxs("button",{onClick:V,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(33, 150, 243, 0.1)",K.currentTarget.style.color="#2196f3"},onMouseLeave:K=>{K.currentTarget.style.background="none",K.currentTarget.style.color="var(--text-secondary)"},children:[g.jsx(CD,{size:20}),g.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:op(t.commentCount)})]}),g.jsxs("button",{onClick:z,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:p?"#4caf50":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:S?.6:1},onMouseEnter:K=>{K.currentTarget.style.background="rgba(76, 175, 80, 0.1)",p||(K.currentTarget.style.color="#4caf50")},onMouseLeave:K=>{K.currentTarget.style.background="none",p||(K.currentTarget.style.color="var(--text-secondary)")},children:[g.jsx(tF,{size:20}),g.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:op(b)})]}),n&&g.jsx("button",{onClick:Y,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s, color 0.2s"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(76, 175, 80, 0.1)",K.currentTarget.style.color="#4caf50"},onMouseLeave:K=>{K.currentTarget.style.background="none",K.currentTarget.style.color="var(--text-secondary)"},children:g.jsx(sF,{size:20})}),g.jsx("button",{onClick:Q,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:f?"#ff9800":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:S?.6:1},onMouseEnter:K=>{K.currentTarget.style.background="rgba(255, 152, 0, 0.1)",f||(K.currentTarget.style.color="#ff9800")},onMouseLeave:K=>{K.currentTarget.style.background="none",f||(K.currentTarget.style.color="var(--text-secondary)")},children:f?g.jsx(qU,{size:20}):g.jsx($U,{size:20})}),g.jsx("button",{onClick:de,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s",marginLeft:"auto"},onMouseEnter:K=>{K.currentTarget.style.background="rgba(158, 158, 158, 0.1)"},onMouseLeave:K=>{K.currentTarget.style.background="none"},children:g.jsx(jD,{size:20})})]}),O&&t.images&&t.images.length>0&&g.jsx(Ime,{images:t.images,initialIndex:M,onClose:()=>N(!1)})]})},Yc=()=>g.jsxs("div",{style:{padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)"},children:[g.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[g.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--border)",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{width:"120px",height:"16px",background:"var(--border)",borderRadius:"4px",marginBottom:"8px",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"80px",height:"12px",background:"var(--border)",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}})]})]}),g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{width:"100%",height:"12px",background:"var(--border)",borderRadius:"4px",marginBottom:"8px",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"80%",height:"12px",background:"var(--border)",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}})]}),g.jsx("div",{style:{display:"flex",gap:"16px",marginTop:"12px"},children:[1,2,3,4].map(t=>g.jsx("div",{style:{width:"60px",height:"16px",background:"var(--border)",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}},t))}),g.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }
      `})]}),Ome=({onPostClick:t,onUserClick:e})=>{const{user:r}=Ca(),[n,i]=C.useState([]),[a,o]=C.useState(!0),[s,c]=C.useState(""),[f,d]=C.useState(!1),[p,v]=C.useState(void 0),[y,_]=C.useState("all"),b=async(O=y)=>{o(!0),c("");try{if(O==="following"&&r){console.log(" Fetching following posts...");const N=await s0e(r.uid,20);console.log(` Fetched ${N.length} following posts`),i(N)}else{console.log(" Fetching timeline posts...");const N=await Qpe(20);console.log(` Fetched ${N.length} posts`),i(N)}}catch(N){console.error(" :",N),console.error("Error details:",N.message,N.code),c(N.message||"")}finally{o(!1)}};C.useEffect(()=>{b(y)},[y,r]);const A=()=>{b()},S=O=>{v(O),d(!0)},T=()=>{d(!1),v(void 0)};return g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[g.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:""}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>b(),disabled:a,style:{background:"none",border:"none",cursor:a?"not-allowed":"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:O=>{a||(O.currentTarget.style.background="var(--border)")},onMouseLeave:O=>{O.currentTarget.style.background="none"},children:g.jsx(uF,{size:24})}),g.jsx("button",{onClick:()=>d(!0),style:{background:"linear-gradient(135deg, var(--primary), #81c784)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)",transition:"transform 0.2s"},onMouseEnter:O=>{O.currentTarget.style.transform="scale(1.05)"},onMouseLeave:O=>{O.currentTarget.style.transform="scale(1)"},children:g.jsx(sp,{size:24})})]})]}),g.jsxs("div",{style:{display:"flex",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:"69px",zIndex:9},children:[g.jsx("button",{onClick:()=>_("all"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:y==="all"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:y==="all"?600:400,color:y==="all"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""}),g.jsx("button",{onClick:()=>_("following"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:y==="following"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:y==="following"?600:400,color:y==="following"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""})]}),g.jsx("div",{style:{padding:"16px"},children:s?g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",background:"#ffebee",borderRadius:"12px",margin:"20px 0"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),g.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#c62828",marginBottom:"8px"},children:""}),g.jsx("div",{style:{fontSize:"14px",color:"#d32f2f",marginBottom:"16px"},children:s}),g.jsx("button",{onClick:()=>b(),style:{padding:"10px 20px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:""})]}):a?g.jsxs("div",{children:[g.jsx(Yc,{}),g.jsx(Yc,{}),g.jsx(Yc,{})]}):n.length===0?g.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-secondary)"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:y==="following"?"":""}),g.jsx("div",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px"},children:y==="following"?"":""}),g.jsx("div",{style:{fontSize:"14px",marginBottom:"24px"},children:""}),g.jsxs("button",{onClick:()=>d(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"transform 0.2s"},onMouseEnter:O=>{O.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:O=>{O.currentTarget.style.transform="translateY(0)"},children:[g.jsx(sp,{size:20}),""]})]}):g.jsx("div",{children:n.map(O=>g.jsx(im,{post:O,onPostClick:t,onUserClick:e,onQuoteRepost:S},O.id))})}),f&&g.jsx(mB,{onClose:T,onPostCreated:A,quotedPostId:p})]})},Rme=({postId:t,onBack:e,onPostDeleted:r,onUserClick:n})=>{const{user:i}=Ca(),[a,o]=C.useState(null),[s,c]=C.useState([]),[f,d]=C.useState(!0),[p,v]=C.useState(!1),[y,_]=C.useState(0),[b,A]=C.useState(""),[S,T]=C.useState(!1),[O,N]=C.useState(null);C.useEffect(()=>{(async()=>{d(!0);try{const U=await Ka(t);if(U){if(o(U),_(U.likes),i){const z=await vB(t,i.uid);v(z);const Q=await Wi(i.uid);N(Q)}const V=await _w(t);c(V)}else alert(""),e()}catch(U){console.error(":",U),alert(""),e()}finally{d(!1)}})()},[t,e,i]);const M=async()=>{if(!(!i||!O))try{p?(await gB(t,i.uid),v(!1),_(Math.max(0,y-1))):(await pB(t,i.uid,O.displayName,O.avatarUrl),v(!0),_(y+1))}catch(B){console.error(":",B),alert("")}},L=async()=>{if(!(!i||!a||!b.trim()||!O))try{T(!0),await Jpe(t,i.uid,O.displayName,b.trim(),O.avatarUrl);const B=await _w(t);c(B),A("")}catch(B){console.error(":",B),alert("")}finally{T(!1)}},R=async B=>{if(!(!i||!confirm("")))try{await e0e(t,B,i.uid);const U=await _w(t);c(U)}catch(U){console.error(":",U),alert("")}},D=async()=>{if(!(!i||!a)&&confirm(""))try{await Zpe(t,i.uid),alert(""),r()}catch(B){console.error(":",B),alert("")}};if(f)return g.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)"},children:[g.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),g.jsx("div",{children:"..."})]});if(!a)return null;const j=i&&a.authorId===i.uid;return g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[g.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:B=>{B.currentTarget.style.background="var(--border)"},onMouseLeave:B=>{B.currentTarget.style.background="none"},children:g.jsx(xu,{size:24})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:0},children:""}),j&&g.jsx("button",{onClick:D,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#f44336",transition:"background 0.2s"},onMouseEnter:B=>{B.currentTarget.style.background="#ffebee"},onMouseLeave:B=>{B.currentTarget.style.background="none"},children:g.jsx(yu,{size:24})})]}),g.jsxs("div",{style:{padding:"20px"},children:[g.jsxs("div",{onClick:()=>n(a.authorId),style:{display:"flex",alignItems:"center",marginBottom:"16px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"8px",transition:"background 0.2s"},onMouseEnter:B=>{B.currentTarget.style.background="var(--border)"},onMouseLeave:B=>{B.currentTarget.style.background="none"},children:[g.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:a.authorAvatar?`url(${a.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"16px"},children:a.authorName}),g.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:Mf(a.createdAt)})]})]}),g.jsx("div",{style:{color:"var(--text)",fontSize:"16px",lineHeight:"1.6",marginBottom:"20px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a.content}),a.recipeData&&g.jsxs("div",{style:{marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, rgba(22, 163, 74, 0.05), rgba(129, 199, 132, 0.05))",borderRadius:"12px",border:"2px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[g.jsx("div",{style:{fontSize:"24px"},children:""}),g.jsx("div",{style:{fontWeight:700,fontSize:"18px",color:"var(--text)"},children:a.recipeData.title}),g.jsx("div",{style:{marginLeft:"auto",padding:"6px 16px",background:"var(--primary)",color:"white",borderRadius:"12px",fontSize:"14px",fontWeight:600},children:a.recipeData.difficulty==="easy"?"":a.recipeData.difficulty==="medium"?"":""})]}),g.jsx("div",{style:{fontSize:"15px",color:"var(--text-secondary)",marginBottom:"12px"},children:a.recipeData.description}),g.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"14px",color:"var(--text-secondary)",marginBottom:"16px"},children:[g.jsxs("span",{children:[" ",a.recipeData.servings,""]}),g.jsxs("span",{children:[" ",a.recipeData.preparationTime+a.recipeData.cookingTime,""]})]}),a.recipeData.ingredients&&a.recipeData.ingredients.length>0&&g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("div",{style:{fontWeight:600,fontSize:"15px",color:"var(--text)",marginBottom:"10px"},children:" "}),g.jsx("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"var(--text)",lineHeight:"2"},children:a.recipeData.ingredients.map((B,U)=>g.jsx("li",{children:B},U))})]}),a.recipeData.instructions&&a.recipeData.instructions.length>0&&g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,fontSize:"15px",color:"var(--text)",marginBottom:"10px"},children:" "}),g.jsx("ol",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"var(--text)",lineHeight:"2"},children:a.recipeData.instructions.map((B,U)=>g.jsx("li",{style:{marginBottom:"8px"},children:B},U))})]})]}),a.quotedPost&&g.jsxs("div",{style:{marginBottom:"20px",padding:"16px",background:"var(--background)",borderRadius:"12px",border:"1px solid var(--border)"},children:[g.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"12px"},children:":"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[g.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:a.quotedPost.authorAvatar?`url(${a.quotedPost.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)"}}),g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:a.quotedPost.authorName}),g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:Mf(a.quotedPost.createdAt)})]})]}),g.jsx("div",{style:{fontSize:"15px",color:"var(--text)",lineHeight:"1.5",marginBottom:a.quotedPost.recipeData||a.quotedPost.images&&a.quotedPost.images.length>0?"12px":"0"},children:a.quotedPost.content}),a.quotedPost.recipeData&&g.jsxs("div",{style:{marginBottom:"12px",padding:"12px",background:"rgba(22, 163, 74, 0.05)",borderRadius:"8px",border:"1px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px"},children:[g.jsx("span",{style:{fontSize:"16px"},children:""}),g.jsx("span",{style:{fontWeight:600,fontSize:"14px",color:"var(--text)"},children:a.quotedPost.recipeData.title})]}),g.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:a.quotedPost.recipeData.description})]}),a.quotedPost.images&&a.quotedPost.images.length>0&&g.jsx("div",{style:{width:"100%",paddingBottom:"56.25%",position:"relative",borderRadius:"8px",overflow:"hidden",background:"var(--border)"},children:g.jsx("img",{src:a.quotedPost.images[0],alt:"",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})})]}),a.images&&a.images.length>0&&g.jsx("div",{style:{display:"grid",gridTemplateColumns:a.images.length===1?"1fr":(a.images.length===2,"repeat(2, 1fr)"),gap:"12px",marginBottom:"24px"},children:a.images.map((B,U)=>g.jsx("div",{style:{width:"100%",paddingBottom:a.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:g.jsx("img",{src:B,alt:` ${U+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},U))}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",padding:"16px 0",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:[g.jsxs("button",{onClick:M,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px 12px",borderRadius:"12px",color:p?"#e91e63":"var(--text-secondary)",transition:"background 0.2s",fontSize:"16px"},onMouseEnter:B=>{B.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:B=>{B.currentTarget.style.background="none"},children:[p?g.jsx(wD,{size:24}):g.jsx(bD,{size:24}),g.jsx("span",{style:{fontWeight:600},children:y})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-secondary)",fontSize:"16px"},children:[g.jsx(CD,{size:24}),g.jsx("span",{style:{fontWeight:600},children:a.commentCount})]})]}),g.jsxs("div",{style:{marginTop:"24px"},children:[i&&g.jsx("div",{style:{marginBottom:"24px"},children:g.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end",padding:"12px",background:"var(--card)",borderRadius:"12px",border:"1px solid var(--border)"},children:[g.jsx("textarea",{value:b,onChange:B=>A(B.target.value),placeholder:"...",style:{flex:1,padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--background)",color:"var(--text)",fontFamily:"inherit",fontSize:"14px",resize:"vertical",minHeight:"44px",maxHeight:"120px",outline:"none"},onFocus:B=>{B.currentTarget.style.borderColor="var(--primary)"},onBlur:B=>{B.currentTarget.style.borderColor="var(--border)"}}),g.jsx("button",{onClick:L,disabled:S||!b.trim(),style:{background:b.trim()?"var(--primary)":"var(--border)",border:"none",color:b.trim()?"white":"var(--text-secondary)",padding:"12px 16px",borderRadius:"8px",cursor:b.trim()&&!S?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:g.jsx(ID,{size:20})})]})}),g.jsx("div",{style:{marginTop:"20px"},children:s.length>0?g.jsxs("div",{children:[g.jsxs("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px",color:"var(--text)"},children:[" (",s.length,")"]}),s.map(B=>g.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",marginBottom:"12px",borderLeft:"2px solid var(--primary)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"14px"},children:B.userName}),g.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:Mf(B.createdAt)})]}),i&&i.uid===B.userId&&g.jsx("button",{onClick:()=>R(B.id),style:{background:"none",border:"none",color:"#f44336",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",transition:"background 0.2s"},onMouseEnter:U=>{U.currentTarget.style.background="#ffebee"},onMouseLeave:U=>{U.currentTarget.style.background="none"},children:""})]}),g.jsx("div",{style:{color:"var(--text)",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:B.content})]},B.id))]}):g.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)",background:"var(--background)",borderRadius:"12px"},children:g.jsx("div",{style:{fontSize:"14px"},children:""})})})]})]})]})},jB=async(t,e,r,n,i,a)=>{console.log(`[sendFriendRequest] Sending request: ${t} -> ${n}`);try{const o=py(pe),s=new Date().toISOString(),c=Oe(pe,`users/${t}/friends/${n}`);o.set(c,{uid:n,displayName:i,avatarUrl:a||"",status:"pending_sent",initiatedBy:t,createdAt:s});const f=Oe(pe,`users/${n}/friends/${t}`);o.set(f,{uid:t,displayName:e,avatarUrl:r||"",status:"pending_received",initiatedBy:t,createdAt:s}),await o.commit(),await bd(n,t,e,"friend_request",{actorAvatar:r}),console.log(` [sendFriendRequest] Request sent: ${t} -> ${n}`)}catch(o){throw console.error(" [sendFriendRequest] Failed to send request:",o),new Error(`: ${o.message||""}`)}},LB=async(t,e,r,n,i,a)=>{console.log(`[acceptFriendRequest] Accepting request: ${t} accepts ${n}`);try{const o=py(pe),s=new Date().toISOString(),c=Oe(pe,`users/${t}/friends/${n}`);o.update(c,{status:"accepted",acceptedAt:s});const f=Oe(pe,`users/${n}/friends/${t}`);o.update(f,{status:"accepted",acceptedAt:s});const d=Oe(pe,`users/${t}/profile/data`),p=Oe(pe,`users/${n}/profile/data`);o.update(d,{"stats.friendCount":si(1)}),o.update(p,{"stats.friendCount":si(1)}),await o.commit(),await bd(n,t,e,"friend_accept",{actorAvatar:r}),console.log(` [acceptFriendRequest] Request accepted: ${t} accepts ${n}`)}catch(o){throw console.error(" [acceptFriendRequest] Failed to accept request:",o),new Error(`: ${o.message||""}`)}},BB=async(t,e)=>{console.log(`[declineFriendRequest] Declining request: ${t} declines ${e}`);try{const r=py(pe),n=Oe(pe,`users/${t}/friends/${e}`);r.delete(n);const i=Oe(pe,`users/${e}/friends/${t}`);r.delete(i),await r.commit(),console.log(` [declineFriendRequest] Request declined: ${t} declines ${e}`)}catch(r){throw console.error(" [declineFriendRequest] Failed to decline request:",r),new Error(`: ${r.message||""}`)}},zB=async(t,e)=>{console.log(`[removeFriend] Removing friend: ${t} removes ${e}`);try{const r=py(pe),n=Oe(pe,`users/${t}/friends/${e}`);r.delete(n);const i=Oe(pe,`users/${e}/friends/${t}`);r.delete(i);const a=Oe(pe,`users/${t}/profile/data`),o=Oe(pe,`users/${e}/profile/data`);r.update(a,{"stats.friendCount":si(-1)}),r.update(o,{"stats.friendCount":si(-1)}),await r.commit(),console.log(` [removeFriend] Friend removed: ${t} removes ${e}`)}catch(r){throw console.error(" [removeFriend] Failed to remove friend:",r),new Error(`: ${r.message||""}`)}},Pme=async(t,e)=>{try{if(t===e)return"not_friends";const r=Oe(pe,`users/${t}/friends/${e}`),n=await li(r);return n.exists()?n.data().status:"not_friends"}catch(r){return console.error("Check friend status error:",r),"not_friends"}},bf=async(t,e)=>{try{const r=Le(pe,`users/${t}/friends`),n=e?ft(r,fr("status","==",e)):r,i=await gt(n),a=[];for(const o of i.docs){const s=o.data(),c=await Wi(s.uid);c?a.push({...s,...c}):a.push(s)}return a.sort((o,s)=>o.displayName.localeCompare(s.displayName))}catch(r){return console.error("Get friends error:",r),[]}},UB=async(t,e)=>{const r=[t,e].sort(),n=r.join("_"),i=Oe(pe,"conversations",n);if((await li(i)).exists())console.log(" Existing conversation found:",n);else{const o={id:n,participants:r,createdAt:new Date().toISOString(),unreadCount:{[t]:0,[e]:0}};await Bo(i,o),console.log(" New conversation created:",n)}return n},Dme=(t,e)=>{const r=ft(Le(pe,"conversations"),fr("participants","array-contains",t),dr("lastMessageTimestamp","desc"));return Ps(r,async n=>{const i=[];for(const a of n.docs){const o=a.data(),s=await Promise.all(o.participants.map(async c=>({uid:c,displayName:"Unknown",avatarUrl:void 0})));i.push({...o,participantProfiles:s})}e(i)},n=>{console.error("Error subscribing to conversations:",n),e([])})},Nme=async(t,e,r)=>{try{const n=Le(pe,"conversations",t,"messages"),i=Oe(n),a=new Date().toISOString(),o={id:i.id,senderId:e,content:r,timestamp:a,read:!1};await Bo(i,o);const s=Oe(pe,"conversations",t),c=await li(s);if(c.exists()){const d=c.data().participants.find(p=>p!==e);if(d){const p={lastMessage:r,lastMessageTimestamp:a,[`unreadCount.${d}`]:si(1)};await Zt(s,p)}}console.log(" Message sent:",t,o.id)}catch(n){throw console.error("Error sending message:",n),n}},kme=(t,e)=>{const r=ft(Le(pe,"conversations",t,"messages"),dr("timestamp","asc"),wa(100));return Ps(r,n=>{const i=n.docs.map(a=>a.data());e(i)},n=>{console.error("Error subscribing to messages:",n),e([])})},Mme=({userId:t,onClose:e,onNavigateToProfile:r,onNavigateToDM:n,initialTab:i="friends"})=>{const{user:a}=Ca(),[o,s]=C.useState(i),[c,f]=C.useState([]),[d,p]=C.useState([]),[v,y]=C.useState([]),[_,b]=C.useState(!0),[A,S]=C.useState(null),T=a&&a.uid===t;C.useEffect(()=>{(async()=>{b(!0),S(null);try{const R=await bf(t,"accepted");if(f(R),T){const D=await bf(t,"pending_sent");p(D);const j=await bf(t,"pending_received");y(j)}}catch(R){console.error("Failed to fetch friend lists:",R),S("")}finally{b(!1)}})()},[t,T]);const O=async(L,R)=>{if(a)try{switch(L){case"send":await jB(a.uid,a.displayName||"Anonymous",a.photoURL||void 0,R.uid,R.displayName,R.avatarUrl||void 0);break;case"accept":await LB(a.uid,a.displayName||"Anonymous",a.photoURL||void 0,R.uid,R.displayName,R.avatarUrl||void 0);break;case"decline":await BB(a.uid,R.uid);break;case"remove":await zB(a.uid,R.uid);break}const D=await bf(t,"accepted");if(f(D),T){const j=await bf(t,"pending_sent");p(j);const B=await bf(t,"pending_received");y(B)}}catch(D){console.error(`Failed to perform friend action ${L}:`,D),alert(`: ${D instanceof Error?D.message:""}`)}},N=async L=>{if(a)try{const R=await UB(a.uid,L);n(R,[a.uid,L]),e()}catch(R){console.error("Failed to start DM:",R),alert("DM")}},M=L=>g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid var(--border)",cursor:"pointer"},onClick:()=>{r(L.uid),e()},children:[g.jsx("img",{src:L.avatarUrl||"https://via.placeholder.com/40",alt:L.displayName,style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"12px"}}),g.jsxs("div",{style:{flexGrow:1},children:[g.jsx("div",{style:{fontWeight:600,color:"var(--text)"},children:L.displayName}),g.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["@",L.username]})]}),T&&L.status==="pending_received"&&g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:R=>{R.stopPropagation(),O("accept",L)},style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"20px",padding:"6px 12px",fontSize:"13px",cursor:"pointer"},children:g.jsx(bA,{size:16})}),g.jsx("button",{onClick:R=>{R.stopPropagation(),O("decline",L)},style:{background:"var(--card)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"20px",padding:"6px 12px",fontSize:"13px",cursor:"pointer"},children:g.jsx(zi,{size:16})})]}),T&&L.status==="accepted"&&g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:R=>{R.stopPropagation(),O("remove",L)},style:{background:"var(--card)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"20px",padding:"6px 12px",fontSize:"13px",cursor:"pointer"},children:""}),g.jsxs("button",{onClick:R=>{R.stopPropagation(),N(L.uid)},style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"20px",padding:"6px 12px",fontSize:"13px",cursor:"pointer"},children:[g.jsx(Nw,{size:16})," DM"]})]}),!T&&L.status==="accepted"&&g.jsxs("button",{onClick:R=>{R.stopPropagation(),N(L.uid)},style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"20px",padding:"6px 12px",fontSize:"13px",cursor:"pointer"},children:[g.jsx(Nw,{size:16})," DM"]}),T&&L.status==="pending_sent"&&g.jsx("span",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:""})]},L.uid);return _?g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{style:{background:"var(--card)",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80%",overflowY:"auto",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)"},children:"..."}),g.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"24px",cursor:"pointer"},children:g.jsx(zi,{})})]}),g.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"..."})]})}):A?g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{style:{background:"var(--card)",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80%",overflowY:"auto",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)"},children:""}),g.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"24px",cursor:"pointer"},children:g.jsx(zi,{})})]}),g.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:A})]})}):g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{style:{background:"var(--card)",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80%",overflowY:"auto",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{style:{margin:0,color:"var(--text)"},children:""}),g.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"24px",cursor:"pointer"},children:g.jsx(zi,{})})]}),T&&g.jsxs("div",{style:{display:"flex",borderBottom:"1px solid var(--border)"},children:[g.jsxs("button",{onClick:()=>s("friends"),style:{flex:1,padding:"12px",background:"none",border:"none",borderBottom:o==="friends"?"2px solid var(--primary)":"2px solid transparent",color:o==="friends"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",fontSize:"14px"},children:[" (",c.length,")"]}),g.jsxs("button",{onClick:()=>s("pending_received"),style:{flex:1,padding:"12px",background:"none",border:"none",borderBottom:o==="pending_received"?"2px solid var(--primary)":"2px solid transparent",color:o==="pending_received"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",fontSize:"14px"},children:[" (",v.length,")"]}),g.jsxs("button",{onClick:()=>s("pending_sent"),style:{flex:1,padding:"12px",background:"none",border:"none",borderBottom:o==="pending_sent"?"2px solid var(--primary)":"2px solid transparent",color:o==="pending_sent"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",fontSize:"14px"},children:[" (",d.length,")"]})]}),g.jsxs("div",{style:{flexGrow:1,overflowY:"auto"},children:[o==="friends"&&(c.length>0?c.map(M):g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:""})),o==="pending_received"&&(v.length>0?v.map(M):g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:""})),o==="pending_sent"&&(d.length>0?d.map(M):g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:""}))]})]})})},jme=({userId:t,onBack:e,onPostClick:r,onUserClick:n,onNavigateToDM:i})=>{const{user:a}=Ca(),[o,s]=C.useState(null),[c,f]=C.useState([]),[d,p]=C.useState(null),[v,y]=C.useState(!0),[_,b]=C.useState(!1),[A,S]=C.useState(null),[T,O]=C.useState("not_friends"),[N,M]=C.useState("posts"),[L,R]=C.useState(!1),[D,j]=C.useState("friends"),B=a&&a.uid===t;C.useEffect(()=>{(async()=>{y(!0),S(null);try{const de=await Wi(t);if(!de){S("");return}if(s(de),a&&a.uid!==t){const Y=await Pme(a.uid,t);O(Y)}}catch(de){console.error("[UserProfileScreen] :",de),S(de instanceof Error?de.message:"")}finally{y(!1)}})()},[t,a]),C.useEffect(()=>{(async()=>{if(o){b(!0);try{let de=[];switch(N){case"posts":if(de=await hB(t,20),o.pinnedPostId){const Y=await Ka(o.pinnedPostId);p(Y),de=de.filter(re=>re.id!==o.pinnedPostId)}else p(null);break;case"media":de=await l0e(t,20),p(null);break;case"likes":de=await c0e(t,20),p(null);break;case"replies":de=await d0e(t,20),p(null);break}f(de)}catch(de){console.error(`[UserProfileScreen] ${N}:`,de)}finally{b(!1)}}})()},[t,N,o]);const U=async Q=>{if(!a||!o)return;const de=T,Y={...o};try{switch(Q){case"send":O("pending_sent"),await jB(a.uid,a.displayName||"Anonymous",a.photoURL||void 0,t,o.displayName,o.avatarUrl||void 0);break;case"accept":O("accepted"),s({...o,stats:{...o.stats,friendCount:o.stats.friendCount+1}}),await LB(a.uid,a.displayName||"Anonymous",a.photoURL||void 0,t,o.displayName,o.avatarUrl||void 0);break;case"decline":O("not_friends"),await BB(a.uid,t);break;case"remove":O("not_friends"),s({...o,stats:{...o.stats,friendCount:o.stats.friendCount-1}}),await zB(a.uid,t);break}}catch(re){console.error("DUMPING FULL FRIEND ACTION ERROR:",re),O(de),s(Y),alert(`.

: ${re.message||""}`)}},V=async()=>{if(!(!a||!o))try{const Q=await UB(a.uid,o.uid);i(Q,[a.uid,o.uid])}catch(Q){console.error("Failed to start DM:",Q),alert("DM")}},z=async()=>{try{const Q=await Wi(t);Q&&s(Q)}catch(Q){console.error("[UserProfileScreen] :",Q)}};return v?g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)"},children:[g.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"var(--border)",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"120px",height:"18px",background:"var(--border)",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"24px"}})]}),g.jsx("div",{style:{width:"100%",height:"150px",background:"var(--border)",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsxs("div",{style:{padding:"0 20px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",marginTop:"-40px",marginBottom:"12px"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--border)",border:"4px solid var(--card)",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"100px",height:"32px",background:"var(--border)",borderRadius:"20px",animation:"pulse 1.5s ease-in-out infinite"}})]}),g.jsx("div",{style:{width:"150px",height:"20px",background:"var(--border)",borderRadius:"4px",marginBottom:"8px",animation:"pulse 1.5s ease-in-out infinite"}}),g.jsx("div",{style:{width:"100px",height:"14px",background:"var(--border)",borderRadius:"4px",marginBottom:"16px",animation:"pulse 1.5s ease-in-out infinite"}})]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx(Yc,{}),g.jsx(Yc,{})]}),g.jsx("style",{children:"@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"})]}):A||!o?g.jsxs("div",{style:{padding:"40px 20px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),g.jsx("div",{style:{fontSize:"16px",color:"var(--text)",marginBottom:"16px"},children:A||""}),g.jsx("button",{onClick:e,style:{padding:"10px 20px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600},children:""})]}):g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[g.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:Q=>{Q.currentTarget.style.background="var(--border)"},onMouseLeave:Q=>{Q.currentTarget.style.background="none"},children:g.jsx(xu,{size:24})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:0},children:o.displayName}),g.jsx("div",{style:{width:"40px"}})]}),g.jsx("div",{style:{width:"100%",height:"150px",background:o.coverUrl?`url(${o.coverUrl}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)"}}),g.jsxs("div",{style:{padding:"0 20px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",marginTop:"-40px",marginBottom:"12px"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:o.avatarUrl?`url(${o.avatarUrl}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",border:"4px solid var(--card)"}}),B?g.jsxs("div",{style:{padding:"8px 16px",background:"var(--card)",border:"2px solid var(--border)",borderRadius:"20px",color:"var(--text-secondary)",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(RD,{size:14}),""]}):g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[T==="not_friends"&&g.jsxs("button",{onClick:()=>U("send"),style:{padding:"8px 16px",background:"var(--primary)",border:"none",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[g.jsx(fF,{size:16})," "]}),T==="pending_sent"&&g.jsx("button",{disabled:!0,style:{padding:"8px 16px",background:"var(--card)",border:"2px solid var(--border)",borderRadius:"20px",color:"var(--text-secondary)",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},children:""}),T==="pending_received"&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>U("accept"),style:{padding:"8px 16px",background:"var(--primary)",border:"none",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[g.jsx(bA,{size:16})," "]}),g.jsxs("button",{onClick:()=>U("decline"),style:{padding:"8px 16px",background:"var(--card)",border:"2px solid var(--border)",borderRadius:"20px",color:"var(--text)",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[g.jsx(zi,{size:16})," "]})]}),T==="accepted"&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:V,style:{padding:"8px 16px",background:"var(--primary)",border:"none",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[g.jsx(SD,{size:16})," "]}),g.jsx("button",{onClick:()=>U("remove"),style:{padding:"8px 16px",background:"var(--card)",border:"2px solid var(--border)",borderRadius:"20px",color:"var(--text)",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:""})]})]})]}),g.jsxs("div",{style:{marginBottom:"12px"},children:[g.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"var(--text)",marginBottom:"4px"},children:o.displayName}),g.jsxs("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:["@",o.username]})]}),o.bio&&g.jsx("div",{style:{fontSize:"14px",color:"var(--text)",lineHeight:"1.5",marginBottom:"12px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:o.bio}),g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",marginBottom:"12px"},children:[o.websiteUrl&&g.jsxs("a",{href:o.websiteUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"var(--primary)",textDecoration:"none"},children:[g.jsx(TD,{size:16}),o.websiteUrl.startsWith("https://")?o.websiteUrl.substring(8):o.websiteUrl.startsWith("http://")?o.websiteUrl.substring(7):o.websiteUrl]}),g.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"var(--text-secondary)"},children:[g.jsx(Np,{size:16}),Gpe(o.createdAt)]})]}),g.jsxs("div",{style:{display:"flex",gap:"16px",padding:"16px 0",borderBottom:"1px solid var(--border)"},children:[g.jsxs("div",{children:[g.jsx("span",{style:{fontWeight:700,color:"var(--text)",marginRight:"4px"},children:op(o.stats.postCount)}),g.jsx("span",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:""})]}),g.jsxs("div",{onClick:()=>{R(!0),j("friends")},style:{cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:Q=>{Q.currentTarget.style.background="var(--border)"},onMouseLeave:Q=>{Q.currentTarget.style.background="transparent"},children:[g.jsx("span",{style:{fontWeight:700,color:"var(--text)",marginRight:"4px"},children:op(o.stats.friendCount)}),g.jsx("span",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:""})]})]})]}),g.jsxs("div",{style:{display:"flex",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:"69px",zIndex:9},children:[g.jsx("button",{onClick:()=>M("posts"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:N==="posts"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:N==="posts"?600:400,color:N==="posts"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""}),g.jsx("button",{onClick:()=>M("replies"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:N==="replies"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:N==="replies"?600:400,color:N==="replies"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""}),g.jsx("button",{onClick:()=>M("media"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:N==="media"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:N==="media"?600:400,color:N==="media"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""}),g.jsx("button",{onClick:()=>M("likes"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:N==="likes"?"3px solid var(--primary)":"3px solid transparent",cursor:"pointer",fontSize:"15px",fontWeight:N==="likes"?600:400,color:N==="likes"?"var(--primary)":"var(--text-secondary)",transition:"all 0.2s"},children:""})]}),g.jsx("div",{style:{marginTop:"0"},children:_?g.jsxs("div",{children:[g.jsx(Yc,{}),g.jsx(Yc,{})]}):c.length===0?g.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-secondary)"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:N==="media"?"":N==="likes"?"":N==="replies"?"":""}),g.jsxs("div",{style:{fontSize:"16px"},children:[N==="posts"&&(B?"":""),N==="replies"&&(B?"":""),N==="media"&&(B?"":""),N==="likes"&&(B?"":"")]})]}):g.jsxs("div",{children:[N==="posts"&&d&&g.jsx(im,{post:d,onPostClick:r,onUserClick:n,showPinButton:!!B,onPinToggle:z},d.id),c.map(Q=>g.jsx(im,{post:Q,onPostClick:r,onUserClick:n,showPinButton:!!B&&N==="posts",onPinToggle:z},Q.id))]})}),L&&g.jsx(Mme,{userId:t,onClose:()=>R(!1),onNavigateToProfile:n,onNavigateToDM:()=>{},initialTab:D})]})},Lme=async(t,e=20)=>{try{if(!t.trim())return[];const r=Le(pe,"users"),n=[],i=ft(r,fr("username",">=",t.toLowerCase()),fr("username","<=",t.toLowerCase()+""),wa(e)),a=await gt(i);for(const c of a.docs){const f=await gt(Le(c.ref,"profile"));if(!f.empty){const d=f.docs[0].data();n.push(d)}}const o=ft(r,fr("displayName",">=",t),fr("displayName","<=",t+""),wa(e)),s=await gt(o);for(const c of s.docs){const f=await gt(Le(c.ref,"profile"));if(!f.empty){const d=f.docs[0].data();n.find(p=>p.uid===d.uid)||n.push(d)}}return n.slice(0,e)}catch(r){return console.error(":",r),[]}},Bme=async(t,e=20)=>{try{if(!t.trim())return[];const r=Le(pe,"posts"),n=ft(r,fr("visibility","==","public"),dr("createdAt","desc"),wa(100)),i=await gt(n),a=[];return i.forEach(o=>{const s=o.data(),c={id:o.id,content:s.content,images:s.images||[],authorId:s.authorId,authorName:s.authorName,authorAvatar:s.authorAvatar||"",likes:s.likes||0,commentCount:s.commentCount||0,repostCount:s.repostCount||0,hashtags:s.hashtags||[],visibility:s.visibility,createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt,updatedAt:s.updatedAt?.toDate?.()?.toISOString()||s.updatedAt},f=t.toLowerCase();(c.content.toLowerCase().includes(f)||c.authorName.toLowerCase().includes(f))&&a.push(c)}),a.slice(0,e)}catch(r){return console.error(":",r),[]}},hD=async(t,e=20)=>{try{if(!t.trim())return[];const r=t.startsWith("#")?t.slice(1):t,n=Le(pe,"posts"),i=ft(n,fr("visibility","==","public"),fr("hashtags","array-contains",r),dr("createdAt","desc"),wa(e)),a=await gt(i),o=[];return a.forEach(s=>{const c=s.data();o.push({id:s.id,content:c.content,images:c.images||[],authorId:c.authorId,authorName:c.authorName,authorAvatar:c.authorAvatar||"",likes:c.likes||0,commentCount:c.commentCount||0,repostCount:c.repostCount||0,hashtags:c.hashtags||[],visibility:c.visibility,createdAt:c.createdAt?.toDate?.()?.toISOString()||c.createdAt,updatedAt:c.updatedAt?.toDate?.()?.toISOString()||c.updatedAt})}),o}catch(r){return console.error(":",r),[]}},zme=t=>{const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];let r=t.replace(/https?:\/\/[^\s]+/g,"");r=r.replace(/@[a-zA-Z0-9_]+/g,""),r=r.replace(/#[^\s]+/g,""),r=r.replace(/[!-/:-@[-`{-~]/g," ");const n=r.split(/\s+/).filter(c=>c.length>0),i=[],a=/[---]+/g,o=r.match(a);o&&o.forEach(c=>{c.length>=2&&(e.includes(c)||i.push(c))});const s=n.filter(c=>c.match(/^[a-zA-Z0-9]+$/)&&c.length>=3);return[...i,...s]},Ume=async(t=10)=>{try{const e=Le(pe,"posts"),r=ft(e,fr("visibility","==","public"),dr("createdAt","desc"),wa(200)),n=await gt(r),i={};return n.forEach(o=>{const s=o.data();(s.hashtags||[]).forEach(p=>{i[`#${p}`]=(i[`#${p}`]||0)+2});const f=s.content||"";zme(f).forEach(p=>{i[p]=(i[p]||0)+1})}),Object.entries(i).map(([o,s])=>({tag:o,count:s})).sort((o,s)=>s.count-o.count).slice(0,t)}catch(e){return console.error(":",e),[]}},Fme=({onPostClick:t,onUserClick:e})=>{const[r,n]=C.useState(""),[i,a]=C.useState("all"),[o,s]=C.useState([]),[c,f]=C.useState([]),[d,p]=C.useState([]),[v,y]=C.useState(!1);C.useEffect(()=>{(async()=>{const S=await Ume(10);p(S)})()},[]);const _=async()=>{if(r.trim()){y(!0);try{if(r.startsWith("#")){const A=await hD(r,20);f(A),s([]),a("hashtags")}else{const[A,S]=await Promise.all([Lme(r,10),Bme(r,20)]);s(A),f(S),a("all")}}catch(A){console.error(":",A)}finally{y(!1)}}},b=async A=>{n(`#${A}`),y(!0);try{const S=await hD(A,20);f(S),s([]),a("hashtags")}catch(S){console.error(":",S)}finally{y(!1)}};return g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsx("div",{style:{padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"var(--background)",padding:"12px 16px",borderRadius:"24px",border:"1px solid var(--border)"},children:[g.jsx(mA,{size:24,style:{color:"var(--text-secondary)"}}),g.jsx("input",{type:"text",placeholder:"#",value:r,onChange:A=>n(A.target.value),onKeyDown:A=>{A.key==="Enter"&&_()},style:{flex:1,border:"none",background:"none",outline:"none",color:"var(--text)",fontSize:"15px",fontFamily:"inherit"}}),g.jsx("button",{onClick:_,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"16px",padding:"6px 16px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.9"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},children:""})]})}),r&&g.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--border)",background:"var(--card)"},children:["all","users","posts","hashtags"].map(A=>g.jsxs("button",{onClick:()=>a(A),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:i===A?"2px solid var(--primary)":"2px solid transparent",color:i===A?"var(--primary)":"var(--text-secondary)",fontWeight:i===A?600:400,cursor:"pointer",transition:"all 0.2s",fontSize:"15px"},children:[A==="all"&&"",A==="users"&&"",A==="posts"&&"",A==="hashtags"&&""]},A))}),v&&g.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)"},children:[g.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),g.jsx("div",{children:"..."})]}),!v&&r&&g.jsxs("div",{style:{padding:"20px"},children:[(i==="all"||i==="users")&&o.length>0&&g.jsxs("div",{style:{marginBottom:"32px"},children:[g.jsxs("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"16px",color:"var(--text)",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(jf,{size:24})," (",o.length,")"]}),o.map(A=>g.jsxs("div",{onClick:()=>e(A.uid),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"var(--card)",borderRadius:"12px",marginBottom:"8px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:S=>{S.currentTarget.style.transform="translateY(-2px)",S.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:S=>{S.currentTarget.style.transform="translateY(0)",S.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[g.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:A.avatarUrl?`url(${A.avatarUrl}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"15px"},children:A.displayName}),g.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:["@",A.username]}),A.bio&&g.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:A.bio})]})]},A.uid))]}),(i==="all"||i==="posts"||i==="hashtags")&&c.length>0&&g.jsxs("div",{children:[g.jsxs("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"16px",color:"var(--text)",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(HU,{size:24})," (",c.length,")"]}),c.map(A=>g.jsx(im,{post:A,onPostClick:t,onUserClick:e},A.id))]}),o.length===0&&c.length===0&&g.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)"},children:[g.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),g.jsx("div",{style:{fontSize:"14px"},children:""})]})]}),!r&&!v&&g.jsxs("div",{style:{padding:"20px"},children:[g.jsxs("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"16px",color:"var(--text)",display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(yA,{size:24}),""]}),d.map((A,S)=>g.jsxs("div",{onClick:()=>b(A.tag),style:{padding:"16px",background:"var(--card)",borderRadius:"12px",marginBottom:"8px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-2px)",T.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[g.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"4px"},children:[S+1,""]}),g.jsxs("div",{style:{fontSize:"16px",fontWeight:600,color:"var(--text)",marginBottom:"4px"},children:["#",A.tag]}),g.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:[A.count,""]})]},A.tag))]})]})},Vme=({onNavigateToPost:t,onNavigateToProfile:e})=>{const{user:r}=Ca(),[n,i]=C.useState([]),[a,o]=C.useState(!0),[s,c]=C.useState(!1);C.useEffect(()=>{if(!r)return;const v=Hpe(r.uid,y=>{i(zpe(y)),o(!1)});return()=>v()},[r]);const f=async v=>{if(r){if(!v.isRead)try{await Upe(r.uid,v.latestNotification.id)}catch(y){console.error("Error marking notification as read:",y)}v.type==="follow"?v.actors.length===1&&e&&e(v.actors[0].id):v.postId&&t&&t(v.postId)}},d=async()=>{if(r)try{await Fpe(r.uid),c(!1)}catch(v){console.error("Error marking all as read:",v),alert("")}},p=async()=>{if(r&&confirm(""))try{await Vpe(r.uid),c(!1)}catch(v){console.error("Error deleting all notifications:",v),alert("")}};return a?g.jsx("div",{style:{padding:"20px",textAlign:"center"},children:g.jsx("p",{style:{color:"var(--text-secondary)"},children:"..."})}):n.length===0?g.jsxs("div",{style:{padding:"60px 20px",textAlign:"center"},children:[g.jsx(ND,{size:64,style:{color:"var(--text-secondary)",marginBottom:"16px"}}),g.jsx("h2",{style:{color:"var(--text)",marginBottom:"8px"},children:""}),g.jsx("p",{style:{color:"var(--text-secondary)"},children:""})]}):g.jsxs("div",{style:{minHeight:"100vh"},children:[g.jsxs("div",{style:{position:"sticky",top:0,background:"var(--background)",borderBottom:"1px solid var(--border)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[g.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"bold"},children:""}),g.jsxs("div",{style:{position:"relative"},children:[g.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)"},onMouseEnter:v=>{v.currentTarget.style.background="var(--hover)"},onMouseLeave:v=>{v.currentTarget.style.background="transparent"},children:g.jsx(DD,{size:24})}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>c(!1)}),g.jsxs("div",{style:{position:"absolute",top:"100%",right:0,background:"var(--card)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"200px",zIndex:1e3,overflow:"hidden"},children:[g.jsxs("button",{onClick:d,style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",color:"var(--text)",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:v=>{v.currentTarget.style.background="var(--hover)"},onMouseLeave:v=>{v.currentTarget.style.background="transparent"},children:[g.jsx(mu,{size:20}),""]}),g.jsxs("button",{onClick:p,style:{width:"100%",padding:"12px 16px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:v=>{v.currentTarget.style.background="var(--hover)"},onMouseLeave:v=>{v.currentTarget.style.background="transparent"},children:[g.jsx(yu,{size:20}),""]})]})]})]})]}),g.jsx("div",{children:n.map(v=>g.jsx("div",{onClick:()=>f(v),style:{padding:"16px",borderBottom:"1px solid var(--border)",cursor:"pointer",background:v.isRead?"transparent":"rgba(29, 155, 240, 0.05)",transition:"background 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background=v.isRead?"var(--hover)":"rgba(29, 155, 240, 0.1)"},onMouseLeave:y=>{y.currentTarget.style.background=v.isRead?"transparent":"rgba(29, 155, 240, 0.05)"},children:g.jsxs("div",{style:{display:"flex",gap:"12px"},children:[g.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:$pe(v.type)}),g.jsxs("div",{style:{flex:1,minWidth:0},children:[v.actors.length<=3?g.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:v.actors.map(y=>g.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:y.avatar?`url(${y.avatar})`:"var(--primary)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold",border:"2px solid var(--background)"},children:!y.avatar&&y.name.charAt(0).toUpperCase()},y.id))}):g.jsxs("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[v.actors.slice(0,3).map(y=>g.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:y.avatar?`url(${y.avatar})`:"var(--primary)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold",border:"2px solid var(--background)"},children:!y.avatar&&y.name.charAt(0).toUpperCase()},y.id)),v.count>3&&g.jsxs("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:["+",v.count-3]})]}),g.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text)",fontSize:"15px"},children:qpe(v)}),v.latestNotification.postContent&&g.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:v.latestNotification.postContent}),v.latestNotification.commentContent&&g.jsxs("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",v.latestNotification.commentContent]}),g.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"13px"},children:Mf(v.latestNotification.createdAt)})]})]})},`${v.type}_${v.postId||v.actors[0].id}_${v.latestNotification.id}`))})]})},FB=({conversationId:t,participants:e,onBack:r,onNavigateToProfile:n})=>{const{user:i}=Ca(),[a,o]=C.useState([]),[s,c]=C.useState(""),[f,d]=C.useState(null),p=C.useRef(null),v=e.find(b=>b!==i?.uid);C.useEffect(()=>{if(!v)return;(async()=>{const A=await Wi(v);A&&d({displayName:A.displayName,avatarUrl:A.avatarUrl})})()},[v]),C.useEffect(()=>{const b=kme(t,A=>{o(A)});return()=>b()},[t]),C.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a]),C.useEffect(()=>{if(!i)return;(async()=>{const A=Oe(pe,"conversations",t);await Zt(A,{[`unreadCount.${i.uid}`]:0})})()},[t,i]);const y=async()=>{if(!(s.trim()===""||!i))try{await Nme(t,i.uid,s),c("")}catch(b){console.error("Failed to send message:",b),alert("")}},_=b=>new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"var(--background)"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[g.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:b=>{b.currentTarget.style.background="var(--border)"},onMouseLeave:b=>{b.currentTarget.style.background="none"},children:g.jsx(xu,{size:24})}),g.jsx("img",{src:f?.avatarUrl||"https://via.placeholder.com/40",alt:f?.displayName,style:{width:"40px",height:"40px",borderRadius:"50%",marginLeft:"12px",cursor:"pointer"},onClick:()=>n(v)}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:"0 0 0 12px",flexGrow:1},children:f?.displayName||"Unknown User"})]}),g.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"10px"},children:[a.map(b=>g.jsx("div",{style:{display:"flex",justifyContent:b.senderId===i?.uid?"flex-end":"flex-start"},children:g.jsxs("div",{style:{maxWidth:"70%",padding:"10px 15px",borderRadius:"18px",backgroundColor:b.senderId===i?.uid?"var(--primary)":"var(--card)",color:b.senderId===i?.uid?"white":"var(--text)",wordBreak:"break-word",fontSize:"15px",position:"relative"},children:[b.content,g.jsx("span",{style:{fontSize:"10px",color:b.senderId===i?.uid?"rgba(255,255,255,0.7)":"var(--text-secondary)",position:"absolute",bottom:"5px",right:b.senderId===i?.uid?"10px":"auto",left:b.senderId===i?.uid?"auto":"10px"},children:_(b.timestamp)})]})},b.id)),g.jsx("div",{ref:p})]}),g.jsxs("div",{style:{display:"flex",padding:"10px 16px",borderTop:"1px solid var(--border)",background:"var(--card)",alignItems:"center"},children:[g.jsx("input",{type:"text",value:s,onChange:b=>c(b.target.value),onKeyPress:b=>{b.key==="Enter"&&y()},placeholder:"...",style:{flexGrow:1,padding:"10px 15px",border:"1px solid var(--border)",borderRadius:"20px",marginRight:"10px",fontSize:"15px",backgroundColor:"var(--background)",color:"var(--text)"}}),g.jsx("button",{onClick:y,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s"},children:g.jsx(ID,{size:24})})]})]})},Hme=({onBack:t,onNavigateToProfile:e})=>{const{user:r}=Ca(),[n,i]=C.useState([]),[a,o]=C.useState(!0),[s,c]=C.useState(null),[f,d]=C.useState(null),[p,v]=C.useState([]);C.useEffect(()=>{if(!r){c(""),o(!1);return}o(!0),c(null);const b=Dme(r.uid,async A=>{const S=await Promise.all(A.map(async T=>{const O=await Promise.all(T.participants.map(async N=>{const M=await Wi(N);return{uid:N,displayName:M?.displayName||"Unknown",avatarUrl:M?.avatarUrl}}));return{...T,participantProfiles:O}}));i(S),o(!1)});return()=>b()},[r]);const y=(b,A)=>{d(b),v(A)},_=()=>{d(null),v([])};return f&&p.length>0?g.jsx(FB,{conversationId:f,participants:p,onBack:_,onNavigateToProfile:e}):a?g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:"..."}):s?g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--error)"},children:s}):g.jsxs("div",{style:{paddingBottom:"80px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[g.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:b=>{b.currentTarget.style.background="var(--border)"},onMouseLeave:b=>{b.currentTarget.style.background="none"},children:g.jsx(xu,{size:24})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:"0 0 0 16px"},children:"DM"})]}),n.length===0?g.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)"},children:[g.jsx(Nw,{size:60,style:{marginBottom:"16px"}}),g.jsx("p",{children:""}),g.jsx("p",{children:"DM"})]}):n.map(b=>{const A=b.participantProfiles?.find(T=>T.uid!==r?.uid),S=r&&b.unreadCount?b.unreadCount[r.uid]:0;return g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid var(--border)",cursor:"pointer",backgroundColor:S>0?"rgba(29, 155, 240, 0.05)":"transparent"},onClick:()=>y(b.id,b.participants),children:[g.jsx("img",{src:A?.avatarUrl||"https://via.placeholder.com/40",alt:A?.displayName,style:{width:"50px",height:"50px",borderRadius:"50%",marginRight:"12px"}}),g.jsxs("div",{style:{flexGrow:1,overflow:"hidden"},children:[g.jsx("div",{style:{fontWeight:S>0?700:600,color:"var(--text)"},children:A?.displayName||"Unknown User"}),g.jsx("div",{style:{fontSize:"14px",color:S>0?"var(--text)":"var(--text-secondary)",fontWeight:S>0?"bold":"normal",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:b.lastMessage||""})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginLeft:"10px"},children:[b.lastMessageTimestamp&&g.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"4px"},children:new Date(b.lastMessageTimestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),S>0&&g.jsx("div",{style:{backgroundColor:"var(--primary)",color:"white",borderRadius:"10px",padding:"0 6px",fontSize:"12px",fontWeight:"bold"},children:S})]})]},b.id)})]})},$me=()=>{const[t,e]=C.useState("timeline"),[r,n]=C.useState("main"),[i,a]=C.useState(null),[o,s]=C.useState(null),[c,f]=C.useState(null),[d,p]=C.useState([]),v=S=>{a(S),n("post-detail")},y=S=>{s(S),n("profile")},_=(S,T)=>{f(S),p(T),n("chat")},b=()=>{n("main"),a(null),s(null),f(null),p([])},A=()=>{n("main"),a(null)};return r==="chat"&&c?g.jsx(FB,{conversationId:c,participants:d,onBack:b,onNavigateToProfile:y}):r==="profile"&&o?g.jsx(jme,{userId:o,onBack:b,onPostClick:v,onUserClick:y,onNavigateToDM:_}):r==="post-detail"&&i?g.jsx(Rme,{postId:i,onBack:b,onPostDeleted:A,onUserClick:y}):g.jsxs("div",{children:[g.jsxs("div",{style:{display:"flex",borderBottom:"1px solid var(--border)",background:"var(--card)",position:"sticky",top:0,zIndex:10},children:[g.jsxs("button",{onClick:()=>e("timeline"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:t==="timeline"?"2px solid var(--primary)":"2px solid transparent",color:t==="timeline"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"15px",fontWeight:t==="timeline"?600:400},children:[g.jsx(YU,{size:20}),""]}),g.jsxs("button",{onClick:()=>e("search"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:t==="search"?"2px solid var(--primary)":"2px solid transparent",color:t==="search"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"15px",fontWeight:t==="search"?600:400},children:[g.jsx(mA,{size:20}),""]}),g.jsxs("button",{onClick:()=>e("notifications"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:t==="notifications"?"2px solid var(--primary)":"2px solid transparent",color:t==="notifications"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"15px",fontWeight:t==="notifications"?600:400},children:[g.jsx(ND,{size:20}),""]}),g.jsxs("button",{onClick:()=>e("dm"),style:{flex:1,padding:"16px",background:"none",border:"none",borderBottom:t==="dm"?"2px solid var(--primary)":"2px solid transparent",color:t==="dm"?"var(--primary)":"var(--text-secondary)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"15px",fontWeight:t==="dm"?600:400},children:[g.jsx(SD,{size:20}),"DM"]})]}),t==="timeline"&&g.jsx(Ome,{onPostClick:v,onUserClick:y}),t==="search"&&g.jsx(Fme,{onPostClick:v,onUserClick:y}),t==="notifications"&&g.jsx(Vme,{onNavigateToPost:v,onNavigateToProfile:y}),t==="dm"&&g.jsx(Hme,{onBack:b,onNavigateToProfile:y})]})},qme=({onBack:t})=>{const{user:e}=Ca(),[r,n]=C.useState(!1),[i,a]=C.useState(!0),[o,s]=C.useState(null),[c,f]=C.useState(null),d=OC(),p=tA(d,"deleteAllPosts"),v=tA(d,"deleteAllFollows");C.useEffect(()=>{(async()=>{if(!e){n(!1),a(!1);return}try{const A=await Wi(e.uid);A&&A.username==="haachan"?n(!0):n(!1)}catch(A){console.error("Error checking admin status:",A),n(!1)}finally{a(!1)}})()},[e]);const y=async()=>{if(window.confirm("")){s(null),f(null);try{const b=await p();s(`: ${JSON.stringify(b.data)}`)}catch(b){console.error("Error deleting all posts:",b),f(`: ${b.message||""}`)}}},_=async()=>{if(window.confirm("")){s(null),f(null);try{const b=await v();s(`: ${JSON.stringify(b.data)}`)}catch(b){console.error("Error deleting all follows:",b),f(`: ${b.message||""}`)}}};return i?g.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading admin panel..."}):r?g.jsxs("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[g.jsx("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"var(--text)"},children:""}),o&&g.jsx("div",{style:{background:"#d4edda",color:"#155724",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:o}),c&&g.jsx("div",{style:{background:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:c}),g.jsx("button",{onClick:y,style:{width:"100%",padding:"15px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",fontSize:"18px",cursor:"pointer",marginBottom:"10px"},children:""}),g.jsx("button",{onClick:_,style:{width:"100%",padding:"15px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",fontSize:"18px",cursor:"pointer"},children:""}),g.jsx("button",{onClick:t,style:{width:"100%",padding:"15px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"5px",fontSize:"18px",cursor:"pointer",marginTop:"20px"},children:""})]}):g.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:""})},Gme=()=>{const[t,e]=C.useState("home"),r=i=>({home:"",meals:"",barcode:"",report:"",social:"",settings:"",stock:"",shopping:"",recipe:"AI",expense:"",badges:"",admin:""})[i],n=()=>{switch(t){case"home":return g.jsx(E5,{onNavigate:e});case"meals":return g.jsx(ipe,{});case"barcode":return g.jsx(ume,{onNavigateToStock:()=>e("stock")});case"report":return g.jsx(yme,{});case"social":return g.jsx($me,{});case"settings":return g.jsx(mpe,{});case"stock":return g.jsx(_pe,{});case"shopping":return g.jsx(Rpe,{});case"recipe":return g.jsx(h0e,{});case"expense":return g.jsx(Eme,{});case"badges":return g.jsx(Tme,{});case"admin":return g.jsx(qme,{onBack:()=>e("home")});default:return g.jsx(E5,{onNavigate:e})}};return g.jsxs(g.Fragment,{children:[g.jsx(PU,{title:r(t),onNavigate:e}),g.jsx("main",{children:n()}),g.jsx(hF,{currentScreen:t,onNavigate:e})]})};function Wme(t){return _e({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const Kme="modulepreload",Yme=function(t){return"/life-pwa-react/"+t},pD={},td=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");i=f(r.map(d=>{if(d=Yme(d),d in pD)return;pD[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Kme,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((_,b)=>{y.addEventListener("load",_),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},am=()=>Math.floor(1e5+Math.random()*9e5).toString(),om=async(t,e)=>{const r=Oe(Le(pe,"verificationCodes"),t),n=new Date;n.setMinutes(n.getMinutes()+10),await Bo(r,{code:e,email:t,expiresAt:n.toISOString(),createdAt:new Date().toISOString()})},VB=async(t,e)=>{try{const r=Oe(Le(pe,"verificationCodes"),t),n=await li(r);if(!n.exists())return{valid:!1,error:""};const i=n.data();return new Date(i.expiresAt)<new Date?(await Gi(r),{valid:!1,error:""}):i.code!==e?{valid:!1,error:""}:(await Gi(r),{valid:!0})}catch(r){return console.error("Code verification error:",r),{valid:!1,error:""}}},gD=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await td(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>RC);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await td(async()=>{const{default:c}=await Promise.resolve().then(()=>zC);return{default:c}},void 0),a=r(i),s=await n(a,"sendVerificationEmail")({email:t,code:e});console.log(` Verification email sent to ${t}`,s)}catch(r){throw console.error("Failed to send email via Cloud Functions:",r),console.log(`
====================================
  - 
====================================







: ${e}

 10
 





AI


 
 AI
 
 
 
 OCR



 2025 
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`Cloud Function
:

: ${e}

`),new Error("")}},vD=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await td(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>RC);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await td(async()=>{const{default:c}=await Promise.resolve().then(()=>zC);return{default:c}},void 0),a=r(i),s=await n(a,"sendPasswordResetEmail")({email:t,code:e});console.log(` Password reset email sent to ${t}`,s)}catch(r){console.error("Failed to send password reset email via Cloud Functions:",r),console.log(`
====================================
  - 
====================================







: ${e}

 10
 



 2025 
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`Cloud Function
:

: ${e}

`)}},Xme=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await td(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>RC);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await td(async()=>{const{default:c}=await Promise.resolve().then(()=>zC);return{default:c}},void 0),a=r(i),s=await n(a,"resetPassword")({email:t,newPassword:e});return console.log(` Password reset successful for ${t}`,s),{success:!0}}catch(r){return console.error("Failed to reset password via Cloud Functions:",r),{success:!1,error:r.message||""}}},Qme=({onBack:t})=>{const{updateSettings:e,settings:r}=Dp(),[n,i]=C.useState("email"),[a,o]=C.useState(""),[s,c]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(""),[y,_]=C.useState(""),[b,A]=C.useState(""),[S,T]=C.useState(""),[O,N]=C.useState(""),[M,L]=C.useState(!1),[R,D]=C.useState(""),j=async Q=>{Q.preventDefault(),D(""),L(!0);try{const de=am();await om(a,de),await gD(a,de),console.log(" :",a),i("code")}catch(de){console.error("Email send error:",de),D(de.message||"")}finally{L(!1)}},B=async Q=>{Q.preventDefault(),D(""),L(!0);try{const de=await VB(a,s);if(!de.valid){D(de.error||""),L(!1);return}console.log(" "),i("profile")}catch(de){D(de.message||"")}finally{L(!1)}},U=async Q=>{if(Q.preventDefault(),D(""),p!==y){D("");return}if(p.length<6){D("6");return}if(!f.trim()){D("");return}i("health")},V=async Q=>{Q.preventDefault(),D(""),L(!0);try{const Y=(await Kue(Qe,a,p)).user;await NL(Y,{displayName:f}),console.log(" ..."),await Y.getIdToken(!0),await new Promise(Ae=>setTimeout(Ae,2e3));let re=!1,K=0;const ve=3;for(;!re&&K<ve;)try{console.log(`  ${K+1}/${ve}...`),await FC(Y.uid,a,f),re=!0,console.log(" :",Y.uid)}catch(Ae){if(K++,console.error(`  ${K}/${ve}:`,Ae),K<ve){const G=1e3*Math.pow(2,K);console.log(` ${G}ms ...`),await new Promise(J=>setTimeout(J,G)),await Y.getIdToken(!0)}else console.error(" "),alert(`: 

: `+(Ae.message||Ae.code||""))}if(b||S||O)try{const Ae={};b&&b.trim()!==""&&(Ae.age=Number(b)),S&&S.trim()!==""&&(Ae.height=Number(S)),O&&O.trim()!==""&&(Ae.weight=Number(O)),await e(Ae),console.log(" ")}catch(Ae){console.error(":",Ae)}console.log(" :",Y.uid),t()}catch(de){console.error("Registration error:",de);let Y="";de.code==="auth/email-already-in-use"?Y="":de.code==="auth/invalid-email"?Y="":de.code==="auth/weak-password"&&(Y="6"),D(Y)}finally{L(!1)}},z=async()=>{L(!0),D("");try{const Q=am();await om(a,Q),await gD(a,Q),alert("")}catch{D("")}finally{L(!1)}};return g.jsxs("div",{className:"register-flow",children:[g.jsxs("div",{className:"progress-bar",children:[g.jsx("div",{className:`progress-step ${n==="email"?"active":["code","profile","health"].includes(n)?"completed":""}`,children:"1"}),g.jsx("div",{className:"progress-line"}),g.jsx("div",{className:`progress-step ${n==="code"?"active":["profile","health"].includes(n)?"completed":""}`,children:"2"}),g.jsx("div",{className:"progress-line"}),g.jsx("div",{className:`progress-step ${n==="profile"?"active":n==="health"?"completed":""}`,children:"3"}),g.jsx("div",{className:"progress-line"}),g.jsx("div",{className:`progress-step ${n==="health"?"active":""}`,children:"4"})]}),n==="email"&&g.jsxs("form",{onSubmit:j,className:"step-form",children:[g.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[g.jsx(xu,{})," "]}),g.jsxs("h2",{children:[g.jsx(um,{})," "]}),g.jsx("p",{className:"step-description",children:""}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"email",value:a,onChange:Q=>o(Q.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),R&&g.jsx("div",{className:"error-message",children:R}),g.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"...":""})]}),n==="code"&&g.jsxs("form",{onSubmit:B,className:"step-form",children:[g.jsxs("h2",{children:[g.jsx(AD,{})," "]}),g.jsxs("p",{className:"step-description",children:[g.jsx("strong",{children:a})," 6"]}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"text",value:s,onChange:Q=>c(Q.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),R&&g.jsx("div",{className:"error-message",children:R}),g.jsx("button",{type:"submit",className:"submit-button",disabled:M||s.length!==6,children:M?"...":""}),g.jsx("button",{type:"button",onClick:z,className:"link-button",disabled:M,children:""})]}),n==="profile"&&g.jsxs("form",{onSubmit:U,className:"step-form",children:[g.jsxs("h2",{children:[g.jsx(jf,{})," "]}),g.jsx("p",{className:"step-description",children:""}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(jf,{})," "]}),g.jsx("input",{type:"text",value:f,onChange:Q=>d(Q.target.value),placeholder:"",required:!0,autoFocus:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Il,{})," "]}),g.jsx("input",{type:"password",value:p,onChange:Q=>v(Q.target.value),placeholder:"6",minLength:6,required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Il,{})," "]}),g.jsx("input",{type:"password",value:y,onChange:Q=>_(Q.target.value),placeholder:"",minLength:6,required:!0})]}),R&&g.jsx("div",{className:"error-message",children:R}),g.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"...":""})]}),n==="health"&&g.jsxs("form",{onSubmit:V,className:"step-form",children:[g.jsxs("h2",{children:[g.jsx(Qg,{})," "]}),g.jsx("p",{className:"step-description",children:"AI"}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Qg,{})," "]}),g.jsx("input",{type:"number",value:b,onChange:Q=>A(Q.target.value),placeholder:": 30",min:"1",max:"150"})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Qg,{})," cm"]}),g.jsx("input",{type:"number",value:S,onChange:Q=>T(Q.target.value),placeholder:": 170",min:"1",max:"300"})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Qg,{})," kg"]}),g.jsx("input",{type:"number",value:O,onChange:Q=>N(Q.target.value),placeholder:": 65",min:"1",max:"500",step:"0.1"})]}),R&&g.jsx("div",{className:"error-message",children:R}),g.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"...":""}),g.jsx("button",{type:"button",onClick:V,className:"link-button",disabled:M,style:{textAlign:"center"},children:""})]}),g.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Zme=({onBack:t,onSuccess:e})=>{const[r,n]=C.useState("email"),[i,a]=C.useState(""),[o,s]=C.useState(""),[c,f]=C.useState(""),[d,p]=C.useState(""),[v,y]=C.useState(!1),[_,b]=C.useState(""),A=async N=>{N.preventDefault(),b(""),y(!0);try{const M=am();await om(i,M),await vD(i,M),console.log(" :",i),n("code")}catch(M){console.error("Email send error:",M),b(M.message||"")}finally{y(!1)}},S=async N=>{N.preventDefault(),b(""),y(!0);try{const M=await VB(i,o);if(!M.valid){b(M.error||""),y(!1);return}console.log(" "),n("password")}catch(M){b(M.message||"")}finally{y(!1)}},T=async N=>{if(N.preventDefault(),b(""),c!==d){b("");return}if(c.length<6){b("6");return}y(!0);try{const M=await Xme(i,c);if(!M.success){b(M.error||""),y(!1);return}console.log(" "),alert(""),e()}catch(M){console.error("Password reset error:",M),b(M.message||"")}finally{y(!1)}},O=async()=>{y(!0),b("");try{const N=am();await om(i,N),await vD(i,N),alert("")}catch{b("")}finally{y(!1)}};return g.jsxs("div",{className:"password-reset-flow",children:[g.jsxs("div",{className:"progress-bar",children:[g.jsx("div",{className:`progress-step ${r==="email"?"active":["code","password"].includes(r)?"completed":""}`,children:"1"}),g.jsx("div",{className:"progress-line"}),g.jsx("div",{className:`progress-step ${r==="code"?"active":r==="password"?"completed":""}`,children:"2"}),g.jsx("div",{className:"progress-line"}),g.jsx("div",{className:`progress-step ${r==="password"?"active":""}`,children:"3"})]}),r==="email"&&g.jsxs("form",{onSubmit:A,className:"step-form",children:[g.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[g.jsx(xu,{})," "]}),g.jsxs("h2",{children:[g.jsx(um,{})," "]}),g.jsx("p",{className:"step-description",children:""}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"email",value:i,onChange:N=>a(N.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),_&&g.jsx("div",{className:"error-message",children:_}),g.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"...":""})]}),r==="code"&&g.jsxs("form",{onSubmit:S,className:"step-form",children:[g.jsxs("h2",{children:[g.jsx(AD,{})," "]}),g.jsxs("p",{className:"step-description",children:[g.jsx("strong",{children:i})," 6"]}),g.jsx("div",{className:"form-group",children:g.jsx("input",{type:"text",value:o,onChange:N=>s(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),_&&g.jsx("div",{className:"error-message",children:_}),g.jsx("button",{type:"submit",className:"submit-button",disabled:v||o.length!==6,children:v?"...":""}),g.jsx("button",{type:"button",onClick:O,className:"link-button",disabled:v,children:""})]}),r==="password"&&g.jsxs("form",{onSubmit:T,className:"step-form",children:[g.jsxs("h2",{children:[g.jsx(Il,{})," "]}),g.jsx("p",{className:"step-description",children:""}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Il,{})," "]}),g.jsx("input",{type:"password",value:c,onChange:N=>f(N.target.value),placeholder:"6",minLength:6,required:!0,autoFocus:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Il,{})," "]}),g.jsx("input",{type:"password",value:d,onChange:N=>p(N.target.value),placeholder:"",minLength:6,required:!0})]}),_&&g.jsx("div",{className:"error-message",children:_}),g.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"...":""})]}),g.jsx("style",{children:`
        .password-reset-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Jme=({onLoginSuccess:t})=>{const[e,r]=C.useState(!1),[n,i]=C.useState(!1),[a,o]=C.useState(""),[s,c]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(!1),y=async b=>{b.preventDefault(),d(""),v(!0);try{const A=await ape(a,s);A.error?d(A.error):t()}catch(A){d(A.message||"")}finally{v(!1)}},_=async()=>{d(""),v(!0);try{const b=await ope();b.error?d(b.error):t()}catch(b){d(b.message||"")}finally{v(!1)}};return e?g.jsxs("div",{className:"login-screen",children:[g.jsxs("div",{className:"login-container",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:" "}),g.jsx("p",{children:""})]}),g.jsx(Qme,{onBack:()=>r(!1)})]}),g.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):n?g.jsxs("div",{className:"login-screen",children:[g.jsxs("div",{className:"login-container",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:" "}),g.jsx("p",{children:""})]}),g.jsx(Zme,{onBack:()=>i(!1),onSuccess:()=>i(!1)})]}),g.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):g.jsxs("div",{className:"login-screen",children:[g.jsxs("div",{className:"login-container",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:" "}),g.jsx("p",{children:"AI"})]}),g.jsxs("form",{onSubmit:y,className:"login-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(um,{})," "]}),g.jsx("input",{type:"email",value:a,onChange:b=>o(b.target.value),placeholder:"email@example.com",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{children:[g.jsx(Il,{})," "]}),g.jsx("input",{type:"password",value:s,onChange:b=>c(b.target.value),placeholder:"6",minLength:6,required:!0})]}),f&&g.jsx("div",{className:"error-message",children:f}),g.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"...":g.jsxs(g.Fragment,{children:[g.jsx(QU,{})," "]})}),g.jsx("button",{type:"button",onClick:()=>i(!0),className:"forgot-password-button",children:""}),g.jsx("button",{type:"button",onClick:()=>r(!0),className:"register-link-button",children:""})]}),g.jsx("div",{className:"divider",children:g.jsx("span",{children:""})}),g.jsxs("button",{onClick:_,className:"google-login-button",disabled:p,children:[g.jsx(Wme,{})," Google"]}),g.jsx("div",{className:"login-footer",children:g.jsxs("p",{children:[" Firebase Authentication",g.jsx("br",{}),"Firestore"]})})]}),g.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .forgot-password-button,
        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .forgot-password-button:hover,
        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function eye(){const{newBadges:t,clearNewBadges:e}=UC(),[r,n]=C.useState(0),[i,a]=C.useState(!1);if(C.useEffect(()=>{t.length>0&&(n(0),a(!0))},[t]),!i||t.length===0)return null;const o=t[r],s=Ghe(o);if(!s)return null;const c=()=>{r<t.length-1?n(r+1):f()},f=()=>{a(!1),e(),n(0)};return g.jsx("div",{className:"badge-modal-overlay-fullscreen",children:g.jsx("div",{className:"badge-modal-fullscreen",children:g.jsxs("div",{className:"badge-modal-content-fullscreen",children:[g.jsx("div",{className:"badge-glow"}),g.jsx("div",{className:"badge-celebration-large",children:""}),g.jsx("div",{className:"badge-icon-huge",children:s.icon}),g.jsxs("h2",{className:"badge-title-huge",children:[g.jsx(mu,{size:48,style:{color:"#10b981",marginRight:"12px"}}),""]}),g.jsx("h3",{className:"badge-name-huge",children:s.name}),g.jsx("p",{className:"badge-description-large",children:s.description}),t.length>1&&g.jsxs("div",{className:"badge-progress-large",children:[r+1," / ",t.length]}),g.jsx("div",{className:"badge-buttons-large",children:r<t.length-1?g.jsx("button",{className:"badge-btn-large badge-btn-next",onClick:c,children:""}):g.jsx("button",{className:"badge-btn-large badge-btn-ok",onClick:f,children:"OK"})})]})})})}function tye(t){if(t.length===0)return 0;const e=[...new Set(t.map(i=>i.split("T")[0]))].sort().reverse();let r=0;const n=new Date;n.setHours(0,0,0,0);for(let i=0;i<e.length;i++){const a=new Date(e[i]);a.setHours(0,0,0,0);const o=new Date(n);if(o.setDate(o.getDate()-i),o.setHours(0,0,0,0),a.getTime()===o.getTime())r++;else break}return r}function rye(){const{settings:t}=Dp(),{user:e,loading:r}=Ca(),[n,i]=C.useState(!1),a=Qa(),o=Ea(),s=Sa(),c=Ns(),f=b0(),d=Dp(),p=UC();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>{if(!e)return;const{intakes:v}=a,{expenses:y}=o,{stocks:_}=s,{recipeHistory:b}=f,A=0,S=tye(v.map(U=>U.date)),T=v.reduce((U,V)=>U+V.calories,0),O=new Date,N=O.getDate();let M=O.getMonth(),L=O.getFullYear();M===0?(M=11,L-=1):M-=1;const D=y.filter(U=>{const V=new Date(U.date);return V.getMonth()===M&&V.getFullYear()===L}).reduce((U,V)=>U+V.amount,0),j=N===1&&D<=t.monthlyBudget&&D>0,B={intakesCount:v.length,expensesCount:y.length,stocksCount:_.length,consecutiveDays:S,totalCalories:T,budgetAchieved:j,recipesGenerated:b.length,barcodesScanned:A};p.checkAndUnlockBadges(B)},[a.intakes.length,o.expenses.length,s.stocks.length,f.recipeHistory.length]),C.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{if(console.log("Syncing data for user:",e.uid),console.log(" Checking user profile..."),await Wi(e.uid))console.log(" ");else{console.log(" ...");try{await FC(e.uid,e.email||"",e.displayName||`User${e.uid.slice(0,8)}`),console.log(" ")}catch(_){console.error(" :",_)}}await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),s.syncWithFirestore(),c.syncWithFirestore(),f.syncWithFirestore(),d.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(y){console.error("Failed to sync stores with Firestore:",y)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),r||n?g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:g.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:r?"...":"..."})}):e?g.jsxs(g.Fragment,{children:[g.jsx(Gme,{}),g.jsx(eye,{})]}):g.jsx(Jme,{onLoginSuccess:()=>{}})}async function Dw(t){try{await Iu(Le(pe,"errorLogs"),{...t,createdAt:new Date().toISOString()}),console.log(" ")}catch(e){console.error(" :",e),console.error(":",t)}}function nye(){window.addEventListener("error",t=>{const e={message:t.message||"Unknown error",stack:t.error?.stack,url:t.filename||window.location.href,userAgent:navigator.userAgent,userId:Qe.currentUser?.uid,timestamp:new Date().toISOString(),errorType:"error"};Dw(e)}),window.addEventListener("unhandledrejection",t=>{const e={message:t.reason?.message||String(t.reason)||"Unhandled promise rejection",stack:t.reason?.stack,url:window.location.href,userAgent:navigator.userAgent,userId:Qe.currentUser?.uid,timestamp:new Date().toISOString(),errorType:"unhandledRejection"};Dw(e)}),window.addEventListener("error",t=>{if(t.target&&t.target.tagName){const e=t.target;let r="unknown";e instanceof HTMLImageElement||e instanceof HTMLScriptElement?r=e.src:e instanceof HTMLLinkElement&&(r=e.href);const n={message:`Resource load error: ${e.tagName}`,url:window.location.href,userAgent:navigator.userAgent,userId:Qe.currentUser?.uid,timestamp:new Date().toISOString(),errorType:"resourceError",resourceUrl:r};Dw(n)}},!0),console.log(" ")}nye();RU.createRoot(document.getElementById("root")).render(g.jsx(Hn.StrictMode,{children:g.jsx(rye,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
