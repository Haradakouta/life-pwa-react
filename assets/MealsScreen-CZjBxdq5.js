import{r as d,j as e}from"./ui-vendor-JVI_EMCz.js";import{n as p,z as u}from"./index-CgT2Sf-w.js";import"./react-vendor-Bzgz95E1.js";import"./firebase-vendor-CBmCTztv.js";const m=()=>{const{addIntake:i}=p(),[r,o]=d.useState(""),[a,l]=d.useState(""),[n,c]=d.useState(""),x=()=>{if(!r||!a||!n){alert("すべての項目を入力してください");return}i({name:r,calories:Number(a),price:Number(n)}),o(""),l(""),c(""),alert("食事を記録しました！")};return e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"食品名"}),e.jsx("input",{value:r,onChange:s=>o(s.target.value),placeholder:"例: 牛乳"}),e.jsx("label",{children:"カロリー(kcal)"}),e.jsx("input",{type:"number",value:a,onChange:s=>l(s.target.value),placeholder:"200"}),e.jsx("label",{children:"金額(円)"}),e.jsx("input",{type:"number",value:n,onChange:s=>c(s.target.value),placeholder:"150"}),e.jsx("button",{className:"submit",onClick:x,children:"記録する"})]})},j=()=>{const{intakes:i,deleteIntake:r,getTotalCaloriesByDate:o,getTotalPriceByDate:a}=p(),l=d.useMemo(()=>{const t=new Date().toISOString().split("T")[0];return i.filter(h=>h.date.startsWith(t))},[i]),n=new Date().toISOString().split("T")[0],c=o(n),x=a(n),s=t=>{confirm("この記録を削除しますか？")&&r(t)};return e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"今日の記録"}),l.length===0?e.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:l.map(t=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:t.name}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[t.calories," kcal · ¥",t.price]})]}),e.jsx("button",{onClick:()=>s(t.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:e.jsx(u,{size:20})})]},t.id))}),e.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:"合計カロリー:"})," ",c," kcal"]}),e.jsxs("span",{children:[e.jsx("strong",{children:"合計金額:"})," ¥",x]})]})]})]})},v=()=>e.jsxs("section",{className:"screen active",children:[e.jsx("h2",{children:"食事記録"}),e.jsx(m,{}),e.jsx(j,{})]});export{v as MealsScreen};
