function DU(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s2={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function NU(){if(Y4)return ch;Y4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return ch.Fragment=e,ch.jsx=r,ch.jsxs=r,ch}var Q4;function MU(){return Q4||(Q4=1,s2.exports=NU()),s2.exports}var x=MU(),l2={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4;function kU(){if(Z4)return He;Z4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=S.prototype;function I(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}var R=I.prototype=new O;R.constructor=I,w(R,S.prototype),R.isPureReactComponent=!0;var k=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function j(G,ee,ye){var be=ye.ref;return{$$typeof:t,type:G,key:ee,ref:be!==void 0?be:null,props:ye}}function z(G,ee){return j(G.type,ee,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var F=/\/+/g;function pe(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function _e(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function X(G,ee,ye,be,Pe){var qe=typeof G;(qe==="undefined"||qe==="boolean")&&(G=null);var nt=!1;if(G===null)nt=!0;else switch(qe){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(G.$$typeof){case t:case e:nt=!0;break;case d:return nt=G._init,X(nt(G._payload),ee,ye,be,Pe)}}if(nt)return Pe=Pe(G),nt=be===""?"."+pe(G,0):be,k(Pe)?(ye="",nt!=null&&(ye=nt.replace(F,"$&/")+"/"),X(Pe,ee,ye,"",function(ze){return ze})):Pe!=null&&(U(Pe)&&(Pe=z(Pe,ye+(Pe.key==null||G&&G.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+nt)),ee.push(Pe)),1;nt=0;var mr=be===""?".":be+":";if(k(G))for(var ge=0;ge<G.length;ge++)be=G[ge],qe=mr+pe(be,ge),nt+=X(be,ee,ye,qe,Pe);else if(ge=m(G),typeof ge=="function")for(G=ge.call(G),ge=0;!(be=G.next()).done;)be=be.value,qe=mr+pe(be,ge++),nt+=X(be,ee,ye,qe,Pe);else if(qe==="object"){if(typeof G.then=="function")return X(_e(G),ee,ye,be,Pe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return nt}function ne(G,ee,ye){if(G==null)return G;var be=[],Pe=0;return X(G,be,"","",function(qe){return ee.call(ye,qe,Pe++)}),be}function de(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var we=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ke={map:ne,forEach:function(G,ee,ye){ne(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return ne(G,function(){ee++}),ee},toArray:function(G){return ne(G,function(ee){return ee})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return He.Activity=p,He.Children=ke,He.Component=S,He.Fragment=r,He.Profiler=i,He.PureComponent=I,He.StrictMode=n,He.Suspense=u,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,He.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},He.cache=function(G){return function(){return G.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=w({},G.props),Pe=G.key;if(ee!=null)for(qe in ee.key!==void 0&&(Pe=""+ee.key),ee)!M.call(ee,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ee.ref===void 0||(be[qe]=ee[qe]);var qe=arguments.length-2;if(qe===1)be.children=ye;else if(1<qe){for(var nt=Array(qe),mr=0;mr<qe;mr++)nt[mr]=arguments[mr+2];be.children=nt}return j(G.type,Pe,be)},He.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},He.createElement=function(G,ee,ye){var be,Pe={},qe=null;if(ee!=null)for(be in ee.key!==void 0&&(qe=""+ee.key),ee)M.call(ee,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Pe[be]=ee[be]);var nt=arguments.length-2;if(nt===1)Pe.children=ye;else if(1<nt){for(var mr=Array(nt),ge=0;ge<nt;ge++)mr[ge]=arguments[ge+2];Pe.children=mr}if(G&&G.defaultProps)for(be in nt=G.defaultProps,nt)Pe[be]===void 0&&(Pe[be]=nt[be]);return j(G,qe,Pe)},He.createRef=function(){return{current:null}},He.forwardRef=function(G){return{$$typeof:l,render:G}},He.isValidElement=U,He.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:de}},He.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},He.startTransition=function(G){var ee=P.T,ye={};P.T=ye;try{var be=G(),Pe=P.S;Pe!==null&&Pe(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(L,we)}catch(qe){we(qe)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),P.T=ee}},He.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},He.use=function(G){return P.H.use(G)},He.useActionState=function(G,ee,ye){return P.H.useActionState(G,ee,ye)},He.useCallback=function(G,ee){return P.H.useCallback(G,ee)},He.useContext=function(G){return P.H.useContext(G)},He.useDebugValue=function(){},He.useDeferredValue=function(G,ee){return P.H.useDeferredValue(G,ee)},He.useEffect=function(G,ee){return P.H.useEffect(G,ee)},He.useEffectEvent=function(G){return P.H.useEffectEvent(G)},He.useId=function(){return P.H.useId()},He.useImperativeHandle=function(G,ee,ye){return P.H.useImperativeHandle(G,ee,ye)},He.useInsertionEffect=function(G,ee){return P.H.useInsertionEffect(G,ee)},He.useLayoutEffect=function(G,ee){return P.H.useLayoutEffect(G,ee)},He.useMemo=function(G,ee){return P.H.useMemo(G,ee)},He.useOptimistic=function(G,ee){return P.H.useOptimistic(G,ee)},He.useReducer=function(G,ee,ye){return P.H.useReducer(G,ee,ye)},He.useRef=function(G){return P.H.useRef(G)},He.useState=function(G){return P.H.useState(G)},He.useSyncExternalStore=function(G,ee,ye){return P.H.useSyncExternalStore(G,ee,ye)},He.useTransition=function(){return P.H.useTransition()},He.version="19.2.0",He}var J4;function Bf(){return J4||(J4=1,l2.exports=kU()),l2.exports}var C=Bf();const Un=wo(C),jU=DU({__proto__:null,default:Un},[C]);var c2={exports:{}},uh={},u2={exports:{}},f2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function LU(){return eI||(eI=1,(function(t){function e(X,ne){var de=X.length;X.push(ne);e:for(;0<de;){var we=de-1>>>1,ke=X[we];if(0<i(ke,ne))X[we]=ne,X[de]=ke,de=we;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ne=X[0],de=X.pop();if(de!==ne){X[0]=de;e:for(var we=0,ke=X.length,G=ke>>>1;we<G;){var ee=2*(we+1)-1,ye=X[ee],be=ee+1,Pe=X[be];if(0>i(ye,de))be<ke&&0>i(Pe,ye)?(X[we]=Pe,X[be]=de,we=be):(X[we]=ye,X[ee]=de,we=ee);else if(be<ke&&0>i(Pe,de))X[we]=Pe,X[be]=de,we=be;else break e}}return ne}function i(X,ne){var de=X.sortIndex-ne.sortIndex;return de!==0?de:X.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],d=1,p=null,v=3,m=!1,b=!1,w=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function R(X){for(var ne=r(f);ne!==null;){if(ne.callback===null)n(f);else if(ne.startTime<=X)n(f),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=r(f)}}function k(X){if(w=!1,R(X),!b)if(r(u)!==null)b=!0,L||(L=!0,H());else{var ne=r(f);ne!==null&&_e(k,ne.startTime-X)}}var L=!1,P=-1,M=5,j=-1;function z(){return A?!0:!(t.unstable_now()-j<M)}function U(){if(A=!1,L){var X=t.unstable_now();j=X;var ne=!0;try{e:{b=!1,w&&(w=!1,O(P),P=-1),m=!0;var de=v;try{t:{for(R(X),p=r(u);p!==null&&!(p.expirationTime>X&&z());){var we=p.callback;if(typeof we=="function"){p.callback=null,v=p.priorityLevel;var ke=we(p.expirationTime<=X);if(X=t.unstable_now(),typeof ke=="function"){p.callback=ke,R(X),ne=!0;break t}p===r(u)&&n(u),R(X)}else n(u);p=r(u)}if(p!==null)ne=!0;else{var G=r(f);G!==null&&_e(k,G.startTime-X),ne=!1}}break e}finally{p=null,v=de,m=!1}ne=void 0}}finally{ne?H():L=!1}}}var H;if(typeof I=="function")H=function(){I(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,pe=F.port2;F.port1.onmessage=U,H=function(){pe.postMessage(null)}}else H=function(){S(U,0)};function _e(X,ne){P=S(function(){X(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var de=v;v=ne;try{return X()}finally{v=de}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=v;v=X;try{return ne()}finally{v=de}},t.unstable_scheduleCallback=function(X,ne,de){var we=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?we+de:we):de=we,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,X={id:d++,callback:ne,priorityLevel:X,startTime:de,expirationTime:ke,sortIndex:-1},de>we?(X.sortIndex=de,e(f,X),r(u)===null&&X===r(f)&&(w?(O(P),P=-1):w=!0,_e(k,de-we))):(X.sortIndex=ke,e(u,X),b||m||(b=!0,L||(L=!0,H()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var ne=v;return function(){var de=v;v=ne;try{return X.apply(this,arguments)}finally{v=de}}}})(f2)),f2}var tI;function BU(){return tI||(tI=1,u2.exports=LU()),u2.exports}var d2={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function UU(){if(rI)return Dn;rI=1;var t=Bf();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Dn.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,d)},Dn.flushSync=function(u){var f=o.T,d=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=f,n.p=d,n.d.f()}},Dn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Dn.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Dn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):d==="script"&&n.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Dn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Dn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin);n.d.L(u,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Dn.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Dn.requestFormReset=function(u){n.d.r(u)},Dn.unstable_batchedUpdates=function(u,f){return u(f)},Dn.useFormState=function(u,f,d){return o.H.useFormState(u,f,d)},Dn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var nI;function zD(){if(nI)return d2.exports;nI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d2.exports=UU(),d2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function FU(){if(iI)return uh;iI=1;var t=BU(),e=Bf(),r=zD();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(n(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(n(188));return c!==s?null:s}for(var h=s,g=c;;){var _=h.return;if(_===null)break;var E=_.alternate;if(E===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===h)return u(_),s;if(E===g)return u(_),c;E=E.sibling}throw Error(n(188))}if(h.return!==g.return)h=_,g=E;else{for(var D=!1,B=_.child;B;){if(B===h){D=!0,h=_,g=E;break}if(B===g){D=!0,g=_,h=E;break}B=B.sibling}if(!D){for(B=E.child;B;){if(B===h){D=!0,h=E,g=_;break}if(B===g){D=!0,g=E,h=_;break}B=B.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:c}function d(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=d(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case I:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case R:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return c=s.displayName||null,c!==null?c:pe(s.type)||"Memo";case M:c=s._payload,s=s._init;try{return pe(s(c))}catch{}}return null}var _e=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},we=[],ke=-1;function G(s){return{current:s}}function ee(s){0>ke||(s.current=we[ke],we[ke]=null,ke--)}function ye(s,c){ke++,we[ke]=s.current,s.current=c}var be=G(null),Pe=G(null),qe=G(null),nt=G(null);function mr(s,c){switch(ye(qe,c),ye(Pe,s),ye(be,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?x4(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=x4(c),s=_4(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(be),ye(be,s)}function ge(){ee(be),ee(Pe),ee(qe)}function ze(s){s.memoizedState!==null&&ye(nt,s);var c=be.current,h=_4(c,s.type);c!==h&&(ye(Pe,s),ye(be,h))}function Xe(s){Pe.current===s&&(ee(be),ee(Pe)),nt.current===s&&(ee(nt),ah._currentValue=de)}var he,yr;function Ze(s){if(he===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);he=c&&c[1]||"",yr=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+yr}var zr=!1;function xr(s,c){if(!s||zr)return"";zr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var te=ae}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ae){te=ae}s.call(ue.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),D=E[0],B=E[1];if(D&&B){var q=D.split(`
`),J=B.split(`
`);for(_=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;_<J.length&&!J[_].includes("DetermineComponentFrameRoot");)_++;if(g===q.length||_===J.length)for(g=q.length-1,_=J.length-1;1<=g&&0<=_&&q[g]!==J[_];)_--;for(;1<=g&&0<=_;g--,_--)if(q[g]!==J[_]){if(g!==1||_!==1)do if(g--,_--,0>_||q[g]!==J[_]){var se=`
`+q[g].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=g&&0<=_);break}}}finally{zr=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ze(h):""}function mi(s,c){switch(s.tag){case 26:case 27:case 5:return Ze(s.type);case 16:return Ze("Lazy");case 13:return s.child!==c&&c!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return xr(s.type,!1);case 11:return xr(s.type.render,!1);case 1:return xr(s.type,!0);case 31:return Ze("Activity");default:return""}}function ws(s){try{var c="",h=null;do c+=mi(s,h),h=s,s=s.return;while(s);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Cr=Object.prototype.hasOwnProperty,Hr=t.unstable_scheduleCallback,Es=t.unstable_cancelCallback,cy=t.unstable_shouldYield,e0=t.unstable_requestPaint,Hn=t.unstable_now,Wl=t.unstable_getCurrentPriorityLevel,ld=t.unstable_ImmediatePriority,cd=t.unstable_UserBlockingPriority,As=t.unstable_NormalPriority,uy=t.unstable_LowPriority,t0=t.unstable_IdlePriority,r0=t.log,n0=t.unstable_setDisableYieldValue,ma=null,gn=null;function Fi(s){if(typeof r0=="function"&&n0(s),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(ma,s)}catch{}}var _r=Math.clz32?Math.clz32:a0,i0=Math.log,du=Math.LN2;function a0(s){return s>>>=0,s===0?32:31-(i0(s)/du|0)|0}var Fa=256,Kl=262144,Ir=4194304;function Va(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function za(s,c,h){var g=s.pendingLanes;if(g===0)return 0;var _=0,E=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var B=g&134217727;return B!==0?(g=B&~E,g!==0?_=Va(g):(D&=B,D!==0?_=Va(D):h||(h=B&~s,h!==0&&(_=Va(h))))):(B=g&~E,B!==0?_=Va(B):D!==0?_=Va(D):h||(h=g&~s,h!==0&&(_=Va(h)))),_===0?0:c!==0&&c!==_&&(c&E)===0&&(E=_&-_,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:_}function ya(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function fy(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o0(){var s=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),s}function Ha(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function Xl(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function dy(s,c,h,g,_,E){var D=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var B=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(h=D&~h;0<h;){var se=31-_r(h),ue=1<<se;B[se]=0,q[se]=-1;var te=J[se];if(te!==null)for(J[se]=null,se=0;se<te.length;se++){var ae=te[se];ae!==null&&(ae.lane&=-536870913)}h&=~ue}g!==0&&Yl(s,g,0),E!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=E&~(D&~c))}function Yl(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var g=31-_r(c);s.entangledLanes|=c,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function ud(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var g=31-_r(h),_=1<<g;_&c|s[g]&c&&(s[g]|=c),h&=~_}}function fd(s,c){var h=c&-c;return h=(h&42)!==0?1:Ql(h),(h&(s.suspendedLanes|c))!==0?0:h}function Ql(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Io(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function s0(){var s=ne.p;return s!==0?s:(s=window.event,s===void 0?32:H4(s.type))}function xa(s,c){var h=ne.p;try{return ne.p=s,c()}finally{ne.p=h}}var _a=Math.random().toString(36).slice(2),Or="__reactFiber$"+_a,rn="__reactProps$"+_a,$a="__reactContainer$"+_a,hu="__reactEvents$"+_a,hy="__reactListeners$"+_a,l0="__reactHandles$"+_a,c0="__reactResources$"+_a,qa="__reactMarker$"+_a;function pu(s){delete s[Or],delete s[rn],delete s[hu],delete s[hy],delete s[l0]}function Ga(s){var c=s[Or];if(c)return c;for(var h=s.parentNode;h;){if(c=h[$a]||h[Or]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=C4(s);s!==null;){if(h=s[Or])return h;s=C4(s)}return c}s=h,h=s.parentNode}return null}function Vi(s){if(s=s[Or]||s[$a]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function yi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function Wa(s){var c=s[c0];return c||(c=s[c0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Rr(s){s[qa]=!0}var dd=new Set,hd={};function Ka(s,c){Xa(s,c),Xa(s+"Capture",c)}function Xa(s,c){for(hd[s]=c,s=0;s<c.length;s++)dd.add(c[s])}var pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},vd={};function u0(s){return Cr.call(vd,s)?!0:Cr.call(gd,s)?!1:pd.test(s)?vd[s]=!0:(gd[s]=!0,!1)}function gu(s,c,h){if(u0(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function xi(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function Pr(s,c,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+g)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ss(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function md(s,c,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,E=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return _.call(this)},set:function(D){h=""+D,E.call(this,D)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ot(s){if(!s._valueTracker){var c=Ss(s)?"checked":"value";s._valueTracker=md(s,c,""+s[c])}}function Zl(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return s&&(g=Ss(s)?s.checked?"true":"false":s.value),s=g,s!==h?(c.setValue(s),!0):!1}function Ya(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Jl=/[\n"\\]/g;function ei(s){return s.replace(Jl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function vu(s,c,h,g,_,E,D,B){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),c!=null?D==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+nn(c)):s.value!==""+nn(c)&&(s.value=""+nn(c)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),c!=null?yd(s,D,nn(c)):h!=null?yd(s,D,nn(h)):g!=null&&s.removeAttribute("value"),_==null&&E!=null&&(s.defaultChecked=!!E),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+nn(B):s.removeAttribute("name")}function f0(s,c,h,g,_,E,D,B){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){Ot(s);return}h=h!=null?""+nn(h):"",c=c!=null?""+nn(c):h,B||c===s.value||(s.value=c),s.defaultValue=c}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=B?s.checked:!!g,s.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D),Ot(s)}function yd(s,c,h){c==="number"&&Ya(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Ts(s,c,h,g){if(s=s.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=c.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&g&&(s[h].defaultSelected=!0)}else{for(h=""+nn(h),c=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}c!==null||s[_].disabled||(c=s[_])}c!==null&&(c.selected=!0)}}function d0(s,c,h){if(c!=null&&(c=""+nn(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+nn(h):""}function Cs(s,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(_e(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=nn(c),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),Ot(s)}function ti(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var h0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(s,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":g?s.setProperty(c,h):typeof h!="number"||h===0||h0.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function _d(s,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var _ in c)g=c[_],c.hasOwnProperty(_)&&h[_]!==g&&xd(s,_,g)}else for(var E in c)c.hasOwnProperty(E)&&xd(s,E,c[E])}function mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(s){return Is.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ba(){}var bd=null;function zi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Os=null,Qa=null;function ec(s){var c=Vi(s);if(c&&(s=c.stateNode)){var h=s[rn]||null;e:switch(s=c.stateNode,c.type){case"input":if(vu(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ei(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==s&&g.form===s.form){var _=g[rn]||null;if(!_)throw Error(n(90));vu(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===s.form&&Zl(g)}break e;case"textarea":d0(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Ts(s,!!h.multiple,c,!1)}}}var xu=!1;function Rs(s,c,h){if(xu)return s(c,h);xu=!0;try{var g=s(c);return g}finally{if(xu=!1,(Os!==null||Qa!==null)&&(s1(),Os&&(c=Os,s=Qa,Qa=Os=null,ec(c),s)))for(c=0;c<s.length;c++)ec(s[c])}}function wa(s,c){var h=s.stateNode;if(h===null)return null;var g=h[rn]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(Hi)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){tc=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{tc=!1}var Za=null,wd=null,rc=null;function Ed(){if(rc)return rc;var s,c=wd,h=c.length,g,_="value"in Za?Za.value:Za.textContent,E=_.length;for(s=0;s<h&&c[s]===_[s];s++);var D=h-s;for(g=1;g<=D&&c[h-g]===_[E-g];g++);return rc=_.slice(s,1<g?1-g:void 0)}function nc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Oo(){return!0}function Ea(){return!1}function vn(s){function c(h,g,_,E,D){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Oo:Ea,this.isPropagationStopped=Ea,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),c}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=vn(Ro),Ps=p({},Ro,{view:0,detail:0}),Ad=vn(Ps),Ds,_u,eo,bu=p({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==eo&&(eo&&s.type==="mousemove"?(Ds=s.screenX-eo.screenX,_u=s.screenY-eo.screenY):_u=Ds=0,eo=s),Ds)},movementY:function(s){return"movementY"in s?s.movementY:_u}}),Sd=vn(bu),ic=p({},bu,{dataTransfer:0}),g0=vn(ic),v0=p({},Ps,{relatedTarget:0}),ac=vn(v0),Td=p({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=vn(Td),wu=p({},Ro,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),y0=vn(wu),x0=p({},Ro,{data:0}),to=vn(x0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=w0[s])?!!c[s]:!1}function Ns(){return E0}var $n=p({},Ps,{key:function(s){if(s.key){var c=_0[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=nc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?b0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(s){return s.type==="keypress"?nc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),A0=vn($n),S0=p({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=vn(S0),y=p({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),T=vn(y),N=p({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=vn(N),Y=p({},bu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=vn(Y),ve=p({},Ro,{newState:0,oldState:0}),Ge=vn(ve),br=[9,13,27,32],bt=Hi&&"CompositionEvent"in window,tr=null;Hi&&"documentMode"in document&&(tr=document.documentMode);var $i=Hi&&"TextEvent"in window&&!tr,ro=Hi&&(!bt||tr&&8<tr&&11>=tr),Aa=" ",Sa=!1;function oc(s,c){switch(s){case"keyup":return br.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Au=!1;function rB(s,c){switch(s){case"compositionend":return Eu(c);case"keypress":return c.which!==32?null:(Sa=!0,Aa);case"textInput":return s=c.data,s===Aa&&Sa?null:s;default:return null}}function nB(s,c){if(Au)return s==="compositionend"||!bt&&oc(s,c)?(s=Ed(),rc=wd=Za=null,Au=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ro&&c.locale!=="ko"?null:c.data;default:return null}}var iB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RT(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!iB[s.type]:c==="textarea"}function PT(s,c,h,g){Os?Qa?Qa.push(g):Qa=[g]:Os=g,c=p1(c,"onChange"),0<c.length&&(h=new Ja("onChange","change",null,h,g),s.push({event:h,listeners:c}))}var Cd=null,Id=null;function aB(s){h4(s,0)}function T0(s){var c=yi(s);if(Zl(c))return s}function DT(s,c){if(s==="change")return c}var NT=!1;if(Hi){var py;if(Hi){var gy="oninput"in document;if(!gy){var MT=document.createElement("div");MT.setAttribute("oninput","return;"),gy=typeof MT.oninput=="function"}py=gy}else py=!1;NT=py&&(!document.documentMode||9<document.documentMode)}function kT(){Cd&&(Cd.detachEvent("onpropertychange",jT),Id=Cd=null)}function jT(s){if(s.propertyName==="value"&&T0(Id)){var c=[];PT(c,Id,s,zi(s)),Rs(aB,c)}}function oB(s,c,h){s==="focusin"?(kT(),Cd=c,Id=h,Cd.attachEvent("onpropertychange",jT)):s==="focusout"&&kT()}function sB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return T0(Id)}function lB(s,c){if(s==="click")return T0(c)}function cB(s,c){if(s==="input"||s==="change")return T0(c)}function uB(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var _i=typeof Object.is=="function"?Object.is:uB;function Od(s,c){if(_i(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!Cr.call(c,_)||!_i(s[_],c[_]))return!1}return!0}function LT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function BT(s,c){var h=LT(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=c&&g>=c)return{node:h,offset:c-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=LT(h)}}function UT(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?UT(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function FT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ya(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=Ya(s.document)}return c}function vy(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var fB=Hi&&"documentMode"in document&&11>=document.documentMode,Su=null,my=null,Rd=null,yy=!1;function VT(s,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;yy||Su==null||Su!==Ya(g)||(g=Su,"selectionStart"in g&&vy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Rd&&Od(Rd,g)||(Rd=g,g=p1(my,"onSelect"),0<g.length&&(c=new Ja("onSelect","select",null,c,h),s.push({event:c,listeners:g}),c.target=Su)))}function sc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var Tu={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionrun:sc("Transition","TransitionRun"),transitionstart:sc("Transition","TransitionStart"),transitioncancel:sc("Transition","TransitionCancel"),transitionend:sc("Transition","TransitionEnd")},xy={},zT={};Hi&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function lc(s){if(xy[s])return xy[s];if(!Tu[s])return s;var c=Tu[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in zT)return xy[s]=c[h];return s}var HT=lc("animationend"),$T=lc("animationiteration"),qT=lc("animationstart"),dB=lc("transitionrun"),hB=lc("transitionstart"),pB=lc("transitioncancel"),GT=lc("transitionend"),WT=new Map,_y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_y.push("scrollEnd");function Ta(s,c){WT.set(s,c),Ka(c,[s])}var C0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qi=[],Cu=0,by=0;function I0(){for(var s=Cu,c=by=Cu=0;c<s;){var h=qi[c];qi[c++]=null;var g=qi[c];qi[c++]=null;var _=qi[c];qi[c++]=null;var E=qi[c];if(qi[c++]=null,g!==null&&_!==null){var D=g.pending;D===null?_.next=_:(_.next=D.next,D.next=_),g.pending=_}E!==0&&KT(h,_,E)}}function O0(s,c,h,g){qi[Cu++]=s,qi[Cu++]=c,qi[Cu++]=h,qi[Cu++]=g,by|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function wy(s,c,h,g){return O0(s,c,h,g),R0(s)}function cc(s,c){return O0(s,null,null,c),R0(s)}function KT(s,c,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var _=!1,E=s.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(_=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,_&&c!==null&&(_=31-_r(h),s=E.hiddenUpdates,g=s[_],g===null?s[_]=[c]:g.push(c),c.lane=h|536870912),E):null}function R0(s){if(50<Zd)throw Zd=0,Px=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Iu={};function gB(s,c,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,c,h,g){return new gB(s,c,h,g)}function Ey(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Do(s,c){var h=s.alternate;return h===null?(h=bi(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function XT(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function P0(s,c,h,g,_,E){var D=0;if(g=s,typeof s=="function")Ey(s)&&(D=1);else if(typeof s=="string")D=_U(s,h,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=bi(31,h,c,_),s.elementType=j,s.lanes=E,s;case w:return uc(h.children,_,E,c);case A:D=8,_|=24;break;case S:return s=bi(12,h,c,_|2),s.elementType=S,s.lanes=E,s;case k:return s=bi(13,h,c,_),s.elementType=k,s.lanes=E,s;case L:return s=bi(19,h,c,_),s.elementType=L,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:D=10;break e;case O:D=9;break e;case R:D=11;break e;case P:D=14;break e;case M:D=16,g=null;break e}D=29,h=Error(n(130,s===null?"null":typeof s,"")),g=null}return c=bi(D,h,c,_),c.elementType=s,c.type=g,c.lanes=E,c}function uc(s,c,h,g){return s=bi(7,s,g,c),s.lanes=h,s}function Ay(s,c,h){return s=bi(6,s,null,c),s.lanes=h,s}function YT(s){var c=bi(18,null,null,0);return c.stateNode=s,c}function Sy(s,c,h){return c=bi(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var QT=new WeakMap;function Gi(s,c){if(typeof s=="object"&&s!==null){var h=QT.get(s);return h!==void 0?h:(c={value:s,source:c,stack:ws(c)},QT.set(s,c),c)}return{value:s,source:c,stack:ws(c)}}var Ou=[],Ru=0,D0=null,Pd=0,Wi=[],Ki=0,Ms=null,no=1,io="";function No(s,c){Ou[Ru++]=Pd,Ou[Ru++]=D0,D0=s,Pd=c}function ZT(s,c,h){Wi[Ki++]=no,Wi[Ki++]=io,Wi[Ki++]=Ms,Ms=s;var g=no;s=io;var _=32-_r(g)-1;g&=~(1<<_),h+=1;var E=32-_r(c)+_;if(30<E){var D=_-_%5;E=(g&(1<<D)-1).toString(32),g>>=D,_-=D,no=1<<32-_r(c)+_|h<<_|g,io=E+s}else no=1<<E|h<<_|g,io=s}function Ty(s){s.return!==null&&(No(s,1),ZT(s,1,0))}function Cy(s){for(;s===D0;)D0=Ou[--Ru],Ou[Ru]=null,Pd=Ou[--Ru],Ou[Ru]=null;for(;s===Ms;)Ms=Wi[--Ki],Wi[Ki]=null,io=Wi[--Ki],Wi[Ki]=null,no=Wi[--Ki],Wi[Ki]=null}function JT(s,c){Wi[Ki++]=no,Wi[Ki++]=io,Wi[Ki++]=Ms,no=c.id,io=c.overflow,Ms=s}var mn=null,Xt=null,ct=!1,ks=null,Xi=!1,Iy=Error(n(519));function js(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dd(Gi(c,s)),Iy}function eC(s){var c=s.stateNode,h=s.type,g=s.memoizedProps;switch(c[Or]=s,c[rn]=g,h){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(h=0;h<eh.length;h++)et(eh[h],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":et("invalid",c),f0(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":et("invalid",c);break;case"textarea":et("invalid",c),Cs(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||m4(c.textContent,h)?(g.popover!=null&&(et("beforetoggle",c),et("toggle",c)),g.onScroll!=null&&et("scroll",c),g.onScrollEnd!=null&&et("scrollend",c),g.onClick!=null&&(c.onclick=ba),c=!0):c=!1,c||js(s,!0)}function tC(s){for(mn=s.return;mn;)switch(mn.tag){case 5:case 31:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:mn=mn.return}}function Pu(s){if(s!==mn)return!1;if(!ct)return tC(s),ct=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Gx(s.type,s.memoizedProps)),h=!h),h&&Xt&&js(s),tC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Xt=T4(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Xt=T4(s)}else c===27?(c=Xt,Ys(s.type)?(s=Qx,Qx=null,Xt=s):Xt=c):Xt=mn?Qi(s.stateNode.nextSibling):null;return!0}function fc(){Xt=mn=null,ct=!1}function Oy(){var s=ks;return s!==null&&(ai===null?ai=s:ai.push.apply(ai,s),ks=null),s}function Dd(s){ks===null?ks=[s]:ks.push(s)}var Ry=G(null),dc=null,Mo=null;function Ls(s,c,h){ye(Ry,c._currentValue),c._currentValue=h}function ko(s){s._currentValue=Ry.current,ee(Ry)}function Py(s,c,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===h)break;s=s.return}}function Dy(s,c,h,g){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var E=_.dependencies;if(E!==null){var D=_.child;E=E.firstContext;e:for(;E!==null;){var B=E;E=_;for(var q=0;q<c.length;q++)if(B.context===c[q]){E.lanes|=h,B=E.alternate,B!==null&&(B.lanes|=h),Py(E.return,h,s),g||(D=null);break e}E=B.next}}else if(_.tag===18){if(D=_.return,D===null)throw Error(n(341));D.lanes|=h,E=D.alternate,E!==null&&(E.lanes|=h),Py(D,h,s),D=null}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===s){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}}function Du(s,c,h,g){s=null;for(var _=c,E=!1;_!==null;){if(!E){if((_.flags&524288)!==0)E=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var D=_.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var B=_.type;_i(_.pendingProps.value,D.value)||(s!==null?s.push(B):s=[B])}}else if(_===nt.current){if(D=_.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(ah):s=[ah])}_=_.return}s!==null&&Dy(c,s,h,g),c.flags|=262144}function N0(s){for(s=s.firstContext;s!==null;){if(!_i(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){dc=s,Mo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function yn(s){return rC(dc,s)}function M0(s,c){return dc===null&&hc(s),rC(s,c)}function rC(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Mo===null){if(s===null)throw Error(n(308));Mo=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Mo=Mo.next=c;return h}var vB=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},mB=t.unstable_scheduleCallback,yB=t.unstable_NormalPriority,Dr={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ny(){return{controller:new vB,data:new Map,refCount:0}}function Nd(s){s.refCount--,s.refCount===0&&mB(yB,function(){s.controller.abort()})}var Md=null,My=0,Nu=0,Mu=null;function xB(s,c){if(Md===null){var h=Md=[];My=0,Nu=Lx(),Mu={status:"pending",value:void 0,then:function(g){h.push(g)}}}return My++,c.then(nC,nC),c}function nC(){if(--My===0&&Md!==null){Mu!==null&&(Mu.status="fulfilled");var s=Md;Md=null,Nu=0,Mu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function _B(s,c){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){g.status="fulfilled",g.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var iC=X.S;X.S=function(s,c){V3=Hn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&xB(s,c),iC!==null&&iC(s,c)};var pc=G(null);function ky(){var s=pc.current;return s!==null?s:zt.pooledCache}function k0(s,c){c===null?ye(pc,pc.current):ye(pc,c.pool)}function aC(){var s=ky();return s===null?null:{parent:Dr._currentValue,pool:s}}var ku=Error(n(460)),jy=Error(n(474)),j0=Error(n(542)),L0={then:function(){}};function oC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sC(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(ba,ba),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,cC(s),s;default:if(typeof c.status=="string")c.then(ba,ba);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(g){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=g}},function(g){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,cC(s),s}throw vc=c,ku}}function gc(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(vc=h,ku):h}}var vc=null;function lC(){if(vc===null)throw Error(n(459));var s=vc;return vc=null,s}function cC(s){if(s===ku||s===j0)throw Error(n(483))}var ju=null,kd=0;function B0(s){var c=kd;return kd+=1,ju===null&&(ju=[]),sC(ju,s,c)}function jd(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function U0(s,c){throw c.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function uC(s){function c(K,W){if(s){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function h(K,W){if(!s)return null;for(;W!==null;)c(K,W),W=W.sibling;return null}function g(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function _(K,W){return K=Do(K,W),K.index=0,K.sibling=null,K}function E(K,W,Z){return K.index=Z,s?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function D(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function B(K,W,Z,le){return W===null||W.tag!==6?(W=Ay(Z,K.mode,le),W.return=K,W):(W=_(W,Z),W.return=K,W)}function q(K,W,Z,le){var Ne=Z.type;return Ne===w?se(K,W,Z.props.children,le,Z.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&gc(Ne)===W.type)?(W=_(W,Z.props),jd(W,Z),W.return=K,W):(W=P0(Z.type,Z.key,Z.props,null,K.mode,le),jd(W,Z),W.return=K,W)}function J(K,W,Z,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Sy(Z,K.mode,le),W.return=K,W):(W=_(W,Z.children||[]),W.return=K,W)}function se(K,W,Z,le,Ne){return W===null||W.tag!==7?(W=uc(Z,K.mode,le,Ne),W.return=K,W):(W=_(W,Z),W.return=K,W)}function ue(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Ay(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return Z=P0(W.type,W.key,W.props,null,K.mode,Z),jd(Z,W),Z.return=K,Z;case b:return W=Sy(W,K.mode,Z),W.return=K,W;case M:return W=gc(W),ue(K,W,Z)}if(_e(W)||H(W))return W=uc(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return ue(K,B0(W),Z);if(W.$$typeof===I)return ue(K,M0(K,W),Z);U0(K,W)}return null}function te(K,W,Z,le){var Ne=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:B(K,W,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Ne?q(K,W,Z,le):null;case b:return Z.key===Ne?J(K,W,Z,le):null;case M:return Z=gc(Z),te(K,W,Z,le)}if(_e(Z)||H(Z))return Ne!==null?null:se(K,W,Z,le,null);if(typeof Z.then=="function")return te(K,W,B0(Z),le);if(Z.$$typeof===I)return te(K,W,M0(K,Z),le);U0(K,Z)}return null}function ae(K,W,Z,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Z)||null,B(W,K,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return K=K.get(le.key===null?Z:le.key)||null,q(W,K,le,Ne);case b:return K=K.get(le.key===null?Z:le.key)||null,J(W,K,le,Ne);case M:return le=gc(le),ae(K,W,Z,le,Ne)}if(_e(le)||H(le))return K=K.get(Z)||null,se(W,K,le,Ne,null);if(typeof le.then=="function")return ae(K,W,Z,B0(le),Ne);if(le.$$typeof===I)return ae(K,W,Z,M0(W,le),Ne);U0(W,le)}return null}function Se(K,W,Z,le){for(var Ne=null,gt=null,Oe=W,Ke=W=0,at=null;Oe!==null&&Ke<Z.length;Ke++){Oe.index>Ke?(at=Oe,Oe=null):at=Oe.sibling;var vt=te(K,Oe,Z[Ke],le);if(vt===null){Oe===null&&(Oe=at);break}s&&Oe&&vt.alternate===null&&c(K,Oe),W=E(vt,W,Ke),gt===null?Ne=vt:gt.sibling=vt,gt=vt,Oe=at}if(Ke===Z.length)return h(K,Oe),ct&&No(K,Ke),Ne;if(Oe===null){for(;Ke<Z.length;Ke++)Oe=ue(K,Z[Ke],le),Oe!==null&&(W=E(Oe,W,Ke),gt===null?Ne=Oe:gt.sibling=Oe,gt=Oe);return ct&&No(K,Ke),Ne}for(Oe=g(Oe);Ke<Z.length;Ke++)at=ae(Oe,K,Ke,Z[Ke],le),at!==null&&(s&&at.alternate!==null&&Oe.delete(at.key===null?Ke:at.key),W=E(at,W,Ke),gt===null?Ne=at:gt.sibling=at,gt=at);return s&&Oe.forEach(function(tl){return c(K,tl)}),ct&&No(K,Ke),Ne}function Be(K,W,Z,le){if(Z==null)throw Error(n(151));for(var Ne=null,gt=null,Oe=W,Ke=W=0,at=null,vt=Z.next();Oe!==null&&!vt.done;Ke++,vt=Z.next()){Oe.index>Ke?(at=Oe,Oe=null):at=Oe.sibling;var tl=te(K,Oe,vt.value,le);if(tl===null){Oe===null&&(Oe=at);break}s&&Oe&&tl.alternate===null&&c(K,Oe),W=E(tl,W,Ke),gt===null?Ne=tl:gt.sibling=tl,gt=tl,Oe=at}if(vt.done)return h(K,Oe),ct&&No(K,Ke),Ne;if(Oe===null){for(;!vt.done;Ke++,vt=Z.next())vt=ue(K,vt.value,le),vt!==null&&(W=E(vt,W,Ke),gt===null?Ne=vt:gt.sibling=vt,gt=vt);return ct&&No(K,Ke),Ne}for(Oe=g(Oe);!vt.done;Ke++,vt=Z.next())vt=ae(Oe,K,Ke,vt.value,le),vt!==null&&(s&&vt.alternate!==null&&Oe.delete(vt.key===null?Ke:vt.key),W=E(vt,W,Ke),gt===null?Ne=vt:gt.sibling=vt,gt=vt);return s&&Oe.forEach(function(PU){return c(K,PU)}),ct&&No(K,Ke),Ne}function Ut(K,W,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Ne=Z.key;W!==null;){if(W.key===Ne){if(Ne=Z.type,Ne===w){if(W.tag===7){h(K,W.sibling),le=_(W,Z.props.children),le.return=K,K=le;break e}}else if(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&gc(Ne)===W.type){h(K,W.sibling),le=_(W,Z.props),jd(le,Z),le.return=K,K=le;break e}h(K,W);break}else c(K,W);W=W.sibling}Z.type===w?(le=uc(Z.props.children,K.mode,le,Z.key),le.return=K,K=le):(le=P0(Z.type,Z.key,Z.props,null,K.mode,le),jd(le,Z),le.return=K,K=le)}return D(K);case b:e:{for(Ne=Z.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){h(K,W.sibling),le=_(W,Z.children||[]),le.return=K,K=le;break e}else{h(K,W);break}else c(K,W);W=W.sibling}le=Sy(Z,K.mode,le),le.return=K,K=le}return D(K);case M:return Z=gc(Z),Ut(K,W,Z,le)}if(_e(Z))return Se(K,W,Z,le);if(H(Z)){if(Ne=H(Z),typeof Ne!="function")throw Error(n(150));return Z=Ne.call(Z),Be(K,W,Z,le)}if(typeof Z.then=="function")return Ut(K,W,B0(Z),le);if(Z.$$typeof===I)return Ut(K,W,M0(K,Z),le);U0(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(h(K,W.sibling),le=_(W,Z),le.return=K,K=le):(h(K,W),le=Ay(Z,K.mode,le),le.return=K,K=le),D(K)):h(K,W)}return function(K,W,Z,le){try{kd=0;var Ne=Ut(K,W,Z,le);return ju=null,Ne}catch(Oe){if(Oe===ku||Oe===j0)throw Oe;var gt=bi(29,Oe,null,K.mode);return gt.lanes=le,gt.return=K,gt}finally{}}}var mc=uC(!0),fC=uC(!1),Bs=!1;function Ly(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function By(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Us(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,c,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var _=g.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),g.pending=c,c=R0(s),KT(s,null,h),c}return O0(s,g,c,h),R0(s)}function Ld(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,ud(s,h)}}function Uy(s,c){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?_=E=D:E=E.next=D,h=h.next}while(h!==null);E===null?_=E=c:E=E.next=c}else _=E=c;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var Fy=!1;function Bd(){if(Fy){var s=Mu;if(s!==null)throw s}}function Ud(s,c,h,g){Fy=!1;var _=s.updateQueue;Bs=!1;var E=_.firstBaseUpdate,D=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var q=B,J=q.next;q.next=null,D===null?E=J:D.next=J,D=q;var se=s.alternate;se!==null&&(se=se.updateQueue,B=se.lastBaseUpdate,B!==D&&(B===null?se.firstBaseUpdate=J:B.next=J,se.lastBaseUpdate=q))}if(E!==null){var ue=_.baseState;D=0,se=J=q=null,B=E;do{var te=B.lane&-536870913,ae=te!==B.lane;if(ae?(it&te)===te:(g&te)===te){te!==0&&te===Nu&&(Fy=!0),se!==null&&(se=se.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Se=s,Be=B;te=c;var Ut=h;switch(Be.tag){case 1:if(Se=Be.payload,typeof Se=="function"){ue=Se.call(Ut,ue,te);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Be.payload,te=typeof Se=="function"?Se.call(Ut,ue,te):Se,te==null)break e;ue=p({},ue,te);break e;case 2:Bs=!0}}te=B.callback,te!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=_.callbacks,ae===null?_.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},se===null?(J=se=ae,q=ue):se=se.next=ae,D|=te;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ae=B,B=ae.next,ae.next=null,_.lastBaseUpdate=ae,_.shared.pending=null}}while(!0);se===null&&(q=ue),_.baseState=q,_.firstBaseUpdate=J,_.lastBaseUpdate=se,E===null&&(_.shared.lanes=0),qs|=D,s.lanes=D,s.memoizedState=ue}}function dC(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function hC(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)dC(h[s],c)}var Lu=G(null),F0=G(0);function pC(s,c){s=$o,ye(F0,s),ye(Lu,c),$o=s|c.baseLanes}function Vy(){ye(F0,$o),ye(Lu,Lu.current)}function zy(){$o=F0.current,ee(Lu),ee(F0)}var wi=G(null),Yi=null;function Vs(s){var c=s.alternate;ye(wr,wr.current&1),ye(wi,s),Yi===null&&(c===null||Lu.current!==null||c.memoizedState!==null)&&(Yi=s)}function Hy(s){ye(wr,wr.current),ye(wi,s),Yi===null&&(Yi=s)}function gC(s){s.tag===22?(ye(wr,wr.current),ye(wi,s),Yi===null&&(Yi=s)):zs()}function zs(){ye(wr,wr.current),ye(wi,wi.current)}function Ei(s){ee(wi),Yi===s&&(Yi=null),ee(wr)}var wr=G(0);function V0(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Xx(h)||Yx(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var jo=0,We=null,Lt=null,Nr=null,z0=!1,Bu=!1,yc=!1,H0=0,Fd=0,Uu=null,bB=0;function fr(){throw Error(n(321))}function $y(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!_i(s[h],c[h]))return!1;return!0}function qy(s,c,h,g,_,E){return jo=E,We=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=s===null||s.memoizedState===null?ZC:ox,yc=!1,E=h(g,_),yc=!1,Bu&&(E=mC(c,h,g,_)),vC(s),E}function vC(s){X.H=Hd;var c=Lt!==null&&Lt.next!==null;if(jo=0,Nr=Lt=We=null,z0=!1,Fd=0,Uu=null,c)throw Error(n(300));s===null||Mr||(s=s.dependencies,s!==null&&N0(s)&&(Mr=!0))}function mC(s,c,h,g){We=s;var _=0;do{if(Bu&&(Uu=null),Fd=0,Bu=!1,25<=_)throw Error(n(301));if(_+=1,Nr=Lt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=JC,E=c(h,g)}while(Bu);return E}function wB(){var s=X.H,c=s.useState()[0];return c=typeof c.then=="function"?Vd(c):c,s=s.useState()[0],(Lt!==null?Lt.memoizedState:null)!==s&&(We.flags|=1024),c}function Gy(){var s=H0!==0;return H0=0,s}function Wy(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function Ky(s){if(z0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}z0=!1}jo=0,Nr=Lt=We=null,Bu=!1,Fd=H0=0,Uu=null}function qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?We.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function Er(){if(Lt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var c=Nr===null?We.memoizedState:Nr.next;if(c!==null)Nr=c,Lt=s;else{if(s===null)throw We.alternate===null?Error(n(467)):Error(n(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Nr===null?We.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function $0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(s){var c=Fd;return Fd+=1,Uu===null&&(Uu=[]),s=sC(Uu,s,c),c=We,(Nr===null?c.memoizedState:Nr.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?ZC:ox),s}function q0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vd(s);if(s.$$typeof===I)return yn(s)}throw Error(n(438,String(s)))}function Xy(s){var c=null,h=We.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=$0(),We.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),g=0;g<s;g++)h[g]=z;return c.index++,h}function Lo(s,c){return typeof c=="function"?c(s):c}function G0(s){var c=Er();return Yy(c,Lt,s)}function Yy(s,c,h){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var _=s.baseQueue,E=g.pending;if(E!==null){if(_!==null){var D=_.next;_.next=E.next,E.next=D}c.baseQueue=_=E,g.pending=null}if(E=s.baseState,_===null)s.memoizedState=E;else{c=_.next;var B=D=null,q=null,J=c,se=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(it&ue)===ue:(jo&ue)===ue){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Nu&&(se=!0);else if((jo&te)===te){J=J.next,te===Nu&&(se=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(B=q=ue,D=E):q=q.next=ue,We.lanes|=te,qs|=te;ue=J.action,yc&&h(E,ue),E=J.hasEagerState?J.eagerState:h(E,ue)}else te={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(B=q=te,D=E):q=q.next=te,We.lanes|=ue,qs|=ue;J=J.next}while(J!==null&&J!==c);if(q===null?D=E:q.next=B,!_i(E,s.memoizedState)&&(Mr=!0,se&&(h=Mu,h!==null)))throw h;s.memoizedState=E,s.baseState=D,s.baseQueue=q,g.lastRenderedState=E}return _===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Qy(s){var c=Er(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var g=h.dispatch,_=h.pending,E=c.memoizedState;if(_!==null){h.pending=null;var D=_=_.next;do E=s(E,D.action),D=D.next;while(D!==_);_i(E,c.memoizedState)||(Mr=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,g]}function yC(s,c,h){var g=We,_=Er(),E=ct;if(E){if(h===void 0)throw Error(n(407));h=h()}else h=c();var D=!_i((Lt||_).memoizedState,h);if(D&&(_.memoizedState=h,Mr=!0),_=_.queue,ex(bC.bind(null,g,_,s),[s]),_.getSnapshot!==c||D||Nr!==null&&Nr.memoizedState.tag&1){if(g.flags|=2048,Fu(9,{destroy:void 0},_C.bind(null,g,_,h,c),null),zt===null)throw Error(n(349));E||(jo&127)!==0||xC(g,c,h)}return h}function xC(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=We.updateQueue,c===null?(c=$0(),We.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function _C(s,c,h,g){c.value=h,c.getSnapshot=g,wC(c)&&EC(s)}function bC(s,c,h){return h(function(){wC(c)&&EC(s)})}function wC(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!_i(s,h)}catch{return!0}}function EC(s){var c=cc(s,2);c!==null&&oi(c,s,2)}function Zy(s){var c=qn();if(typeof s=="function"){var h=s;if(s=h(),yc){Fi(!0);try{h()}finally{Fi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:s},c}function AC(s,c,h,g){return s.baseState=h,Yy(s,Lt,typeof g=="function"?g:Lo)}function EB(s,c,h,g,_){if(X0(s))throw Error(n(485));if(s=c.action,s!==null){var E={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){E.listeners.push(D)}};X.T!==null?h(!0):E.isTransition=!1,g(E),h=c.pending,h===null?(E.next=c.pending=E,SC(c,E)):(E.next=h.next,c.pending=h.next=E)}}function SC(s,c){var h=c.action,g=c.payload,_=s.state;if(c.isTransition){var E=X.T,D={};X.T=D;try{var B=h(_,g),q=X.S;q!==null&&q(D,B),TC(s,c,B)}catch(J){Jy(s,c,J)}finally{E!==null&&D.types!==null&&(E.types=D.types),X.T=E}}else try{E=h(_,g),TC(s,c,E)}catch(J){Jy(s,c,J)}}function TC(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){CC(s,c,g)},function(g){return Jy(s,c,g)}):CC(s,c,h)}function CC(s,c,h){c.status="fulfilled",c.value=h,IC(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,SC(s,h)))}function Jy(s,c,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,IC(c),c=c.next;while(c!==g)}s.action=null}function IC(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function OC(s,c){return c}function RC(s,c){if(ct){var h=zt.formState;if(h!==null){e:{var g=We;if(ct){if(Xt){t:{for(var _=Xt,E=Xi;_.nodeType!==8;){if(!E){_=null;break t}if(_=Qi(_.nextSibling),_===null){_=null;break t}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){Xt=Qi(_.nextSibling),g=_.data==="F!";break e}}js(g)}g=!1}g&&(c=h[0])}}return h=qn(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OC,lastRenderedState:c},h.queue=g,h=XC.bind(null,We,g),g.dispatch=h,g=Zy(!1),E=ax.bind(null,We,!1,g.queue),g=qn(),_={state:c,dispatch:null,action:s,pending:null},g.queue=_,h=EB.bind(null,We,_,E,h),_.dispatch=h,g.memoizedState=s,[c,h,!1]}function PC(s){var c=Er();return DC(c,Lt,s)}function DC(s,c,h){if(c=Yy(s,c,OC)[0],s=G0(Lo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Vd(c)}catch(D){throw D===ku?j0:D}else g=c;c=Er();var _=c.queue,E=_.dispatch;return h!==c.memoizedState&&(We.flags|=2048,Fu(9,{destroy:void 0},AB.bind(null,_,h),null)),[g,E,s]}function AB(s,c){s.action=c}function NC(s){var c=Er(),h=Lt;if(h!==null)return DC(c,h,s);Er(),c=c.memoizedState,h=Er();var g=h.queue.dispatch;return h.memoizedState=s,[c,g,!1]}function Fu(s,c,h,g){return s={tag:s,create:h,deps:g,inst:c,next:null},c=We.updateQueue,c===null&&(c=$0(),We.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,c.lastEffect=s),s}function MC(){return Er().memoizedState}function W0(s,c,h,g){var _=qn();We.flags|=s,_.memoizedState=Fu(1|c,{destroy:void 0},h,g===void 0?null:g)}function K0(s,c,h,g){var _=Er();g=g===void 0?null:g;var E=_.memoizedState.inst;Lt!==null&&g!==null&&$y(g,Lt.memoizedState.deps)?_.memoizedState=Fu(c,E,h,g):(We.flags|=s,_.memoizedState=Fu(1|c,E,h,g))}function kC(s,c){W0(8390656,8,s,c)}function ex(s,c){K0(2048,8,s,c)}function SB(s){We.flags|=4;var c=We.updateQueue;if(c===null)c=$0(),We.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function jC(s){var c=Er().memoizedState;return SB({ref:c,nextImpl:s}),function(){if((wt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function LC(s,c){return K0(4,2,s,c)}function BC(s,c){return K0(4,4,s,c)}function UC(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function FC(s,c,h){h=h!=null?h.concat([s]):null,K0(4,4,UC.bind(null,c,s),h)}function tx(){}function VC(s,c){var h=Er();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&$y(c,g[1])?g[0]:(h.memoizedState=[s,c],s)}function zC(s,c){var h=Er();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&$y(c,g[1]))return g[0];if(g=s(),yc){Fi(!0);try{s()}finally{Fi(!1)}}return h.memoizedState=[g,c],g}function rx(s,c,h){return h===void 0||(jo&1073741824)!==0&&(it&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=H3(),We.lanes|=s,qs|=s,h)}function HC(s,c,h,g){return _i(h,c)?h:Lu.current!==null?(s=rx(s,h,g),_i(s,c)||(Mr=!0),s):(jo&42)===0||(jo&1073741824)!==0&&(it&261930)===0?(Mr=!0,s.memoizedState=h):(s=H3(),We.lanes|=s,qs|=s,c)}function $C(s,c,h,g,_){var E=ne.p;ne.p=E!==0&&8>E?E:8;var D=X.T,B={};X.T=B,ax(s,!1,c,h);try{var q=_(),J=X.S;if(J!==null&&J(B,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=_B(q,g);zd(s,c,se,Ti(s))}else zd(s,c,g,Ti(s))}catch(ue){zd(s,c,{then:function(){},status:"rejected",reason:ue},Ti())}finally{ne.p=E,D!==null&&B.types!==null&&(D.types=B.types),X.T=D}}function TB(){}function nx(s,c,h,g){if(s.tag!==5)throw Error(n(476));var _=qC(s).queue;$C(s,_,c,de,h===null?TB:function(){return GC(s),h(g)})}function qC(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:de},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function GC(s){var c=qC(s);c.next===null&&(c=s.alternate.memoizedState),zd(s,c.next.queue,{},Ti())}function ix(){return yn(ah)}function WC(){return Er().memoizedState}function KC(){return Er().memoizedState}function CB(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ti();s=Us(h);var g=Fs(c,s,h);g!==null&&(oi(g,c,h),Ld(g,c,h)),c={cache:Ny()},s.payload=c;return}c=c.return}}function IB(s,c,h){var g=Ti();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},X0(s)?YC(c,h):(h=wy(s,c,h,g),h!==null&&(oi(h,s,g),QC(h,c,g)))}function XC(s,c,h){var g=Ti();zd(s,c,h,g)}function zd(s,c,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(X0(s))YC(c,_);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var D=c.lastRenderedState,B=E(D,h);if(_.hasEagerState=!0,_.eagerState=B,_i(B,D))return O0(s,c,_,0),zt===null&&I0(),!1}catch{}finally{}if(h=wy(s,c,_,g),h!==null)return oi(h,s,g),QC(h,c,g),!0}return!1}function ax(s,c,h,g){if(g={lane:2,revertLane:Lx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},X0(s)){if(c)throw Error(n(479))}else c=wy(s,h,g,2),c!==null&&oi(c,s,2)}function X0(s){var c=s.alternate;return s===We||c!==null&&c===We}function YC(s,c){Bu=z0=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function QC(s,c,h){if((h&4194048)!==0){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,ud(s,h)}}var Hd={readContext:yn,use:q0,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr};Hd.useEffectEvent=fr;var ZC={readContext:yn,use:q0,useCallback:function(s,c){return qn().memoizedState=[s,c===void 0?null:c],s},useContext:yn,useEffect:kC,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,W0(4194308,4,UC.bind(null,c,s),h)},useLayoutEffect:function(s,c){return W0(4194308,4,s,c)},useInsertionEffect:function(s,c){W0(4,2,s,c)},useMemo:function(s,c){var h=qn();c=c===void 0?null:c;var g=s();if(yc){Fi(!0);try{s()}finally{Fi(!1)}}return h.memoizedState=[g,c],g},useReducer:function(s,c,h){var g=qn();if(h!==void 0){var _=h(c);if(yc){Fi(!0);try{h(c)}finally{Fi(!1)}}}else _=c;return g.memoizedState=g.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},g.queue=s,s=s.dispatch=IB.bind(null,We,s),[g.memoizedState,s]},useRef:function(s){var c=qn();return s={current:s},c.memoizedState=s},useState:function(s){s=Zy(s);var c=s.queue,h=XC.bind(null,We,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:tx,useDeferredValue:function(s,c){var h=qn();return rx(h,s,c)},useTransition:function(){var s=Zy(!1);return s=$C.bind(null,We,s.queue,!0,!1),qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var g=We,_=qn();if(ct){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),zt===null)throw Error(n(349));(it&127)!==0||xC(g,c,h)}_.memoizedState=h;var E={value:h,getSnapshot:c};return _.queue=E,kC(bC.bind(null,g,E,s),[s]),g.flags|=2048,Fu(9,{destroy:void 0},_C.bind(null,g,E,h,c),null),h},useId:function(){var s=qn(),c=zt.identifierPrefix;if(ct){var h=io,g=no;h=(g&~(1<<32-_r(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=H0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=bB++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:ix,useFormState:RC,useActionState:RC,useOptimistic:function(s){var c=qn();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ax.bind(null,We,!0,h),h.dispatch=c,[s,c]},useMemoCache:Xy,useCacheRefresh:function(){return qn().memoizedState=CB.bind(null,We)},useEffectEvent:function(s){var c=qn(),h={impl:s};return c.memoizedState=h,function(){if((wt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},ox={readContext:yn,use:q0,useCallback:VC,useContext:yn,useEffect:ex,useImperativeHandle:FC,useInsertionEffect:LC,useLayoutEffect:BC,useMemo:zC,useReducer:G0,useRef:MC,useState:function(){return G0(Lo)},useDebugValue:tx,useDeferredValue:function(s,c){var h=Er();return HC(h,Lt.memoizedState,s,c)},useTransition:function(){var s=G0(Lo)[0],c=Er().memoizedState;return[typeof s=="boolean"?s:Vd(s),c]},useSyncExternalStore:yC,useId:WC,useHostTransitionStatus:ix,useFormState:PC,useActionState:PC,useOptimistic:function(s,c){var h=Er();return AC(h,Lt,s,c)},useMemoCache:Xy,useCacheRefresh:KC};ox.useEffectEvent=jC;var JC={readContext:yn,use:q0,useCallback:VC,useContext:yn,useEffect:ex,useImperativeHandle:FC,useInsertionEffect:LC,useLayoutEffect:BC,useMemo:zC,useReducer:Qy,useRef:MC,useState:function(){return Qy(Lo)},useDebugValue:tx,useDeferredValue:function(s,c){var h=Er();return Lt===null?rx(h,s,c):HC(h,Lt.memoizedState,s,c)},useTransition:function(){var s=Qy(Lo)[0],c=Er().memoizedState;return[typeof s=="boolean"?s:Vd(s),c]},useSyncExternalStore:yC,useId:WC,useHostTransitionStatus:ix,useFormState:NC,useActionState:NC,useOptimistic:function(s,c){var h=Er();return Lt!==null?AC(h,Lt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Xy,useCacheRefresh:KC};JC.useEffectEvent=jC;function sx(s,c,h,g){c=s.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var lx={enqueueSetState:function(s,c,h){s=s._reactInternals;var g=Ti(),_=Us(g);_.payload=c,h!=null&&(_.callback=h),c=Fs(s,_,g),c!==null&&(oi(c,s,g),Ld(c,s,g))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var g=Ti(),_=Us(g);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=Fs(s,_,g),c!==null&&(oi(c,s,g),Ld(c,s,g))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=Ti(),g=Us(h);g.tag=2,c!=null&&(g.callback=c),c=Fs(s,g,h),c!==null&&(oi(c,s,h),Ld(c,s,h))}};function e3(s,c,h,g,_,E,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,D):c.prototype&&c.prototype.isPureReactComponent?!Od(h,g)||!Od(_,E):!0}function t3(s,c,h,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==s&&lx.enqueueReplaceState(c,c.state,null)}function xc(s,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(s=s.defaultProps){h===c&&(h=p({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}function r3(s){C0(s)}function n3(s){console.error(s)}function i3(s){C0(s)}function Y0(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function a3(s,c,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function cx(s,c,h){return h=Us(h),h.tag=3,h.payload={element:null},h.callback=function(){Y0(s,c)},h}function o3(s){return s=Us(s),s.tag=3,s}function s3(s,c,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var E=g.value;s.payload=function(){return _(E)},s.callback=function(){a3(c,h,g)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){a3(c,h,g),typeof _!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function OB(s,c,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Du(c,h,_,!0),h=wi.current,h!==null){switch(h.tag){case 31:case 13:return Yi===null?l1():h.alternate===null&&dr===0&&(dr=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===L0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Mx(s,g,_)),!1;case 22:return h.flags|=65536,g===L0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Mx(s,g,_)),!1}throw Error(n(435,h.tag))}return Mx(s,g,_),l1(),!1}if(ct)return c=wi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,g!==Iy&&(s=Error(n(422),{cause:g}),Dd(Gi(s,h)))):(g!==Iy&&(c=Error(n(423),{cause:g}),Dd(Gi(c,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,g=Gi(g,h),_=cx(s.stateNode,g,_),Uy(s,_),dr!==4&&(dr=2)),!1;var E=Error(n(520),{cause:g});if(E=Gi(E,h),Qd===null?Qd=[E]:Qd.push(E),dr!==4&&(dr=2),c===null)return!0;g=Gi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=cx(h.stateNode,g,s),Uy(h,s),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Gs===null||!Gs.has(E))))return h.flags|=65536,_&=-_,h.lanes|=_,_=o3(_),s3(_,s,h,g),Uy(h,_),!1}h=h.return}while(h!==null);return!1}var ux=Error(n(461)),Mr=!1;function xn(s,c,h,g){c.child=s===null?fC(c,null,h,g):mc(c,s.child,h,g)}function l3(s,c,h,g,_){h=h.render;var E=c.ref;if("ref"in g){var D={};for(var B in g)B!=="ref"&&(D[B]=g[B])}else D=g;return hc(c),g=qy(s,c,h,D,E,_),B=Gy(),s!==null&&!Mr?(Wy(s,c,_),Bo(s,c,_)):(ct&&B&&Ty(c),c.flags|=1,xn(s,c,g,_),c.child)}function c3(s,c,h,g,_){if(s===null){var E=h.type;return typeof E=="function"&&!Ey(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,u3(s,c,E,g,_)):(s=P0(h.type,null,g,c,c.mode,_),s.ref=c.ref,s.return=c,c.child=s)}if(E=s.child,!yx(s,_)){var D=E.memoizedProps;if(h=h.compare,h=h!==null?h:Od,h(D,g)&&s.ref===c.ref)return Bo(s,c,_)}return c.flags|=1,s=Do(E,g),s.ref=c.ref,s.return=c,c.child=s}function u3(s,c,h,g,_){if(s!==null){var E=s.memoizedProps;if(Od(E,g)&&s.ref===c.ref)if(Mr=!1,c.pendingProps=g=E,yx(s,_))(s.flags&131072)!==0&&(Mr=!0);else return c.lanes=s.lanes,Bo(s,c,_)}return fx(s,c,h,g,_)}function f3(s,c,h,g){var _=g.children,E=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,s!==null){for(g=c.child=s.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~E}else g=0,c.child=null;return d3(s,c,E,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&k0(c,E!==null?E.cachePool:null),E!==null?pC(c,E):Vy(),gC(c);else return g=c.lanes=536870912,d3(s,c,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(k0(c,E.cachePool),pC(c,E),zs(),c.memoizedState=null):(s!==null&&k0(c,null),Vy(),zs());return xn(s,c,_,h),c.child}function $d(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function d3(s,c,h,g,_){var E=ky();return E=E===null?null:{parent:Dr._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},s!==null&&k0(c,null),Vy(),gC(c),s!==null&&Du(s,c,g,!0),c.childLanes=_,null}function Q0(s,c){return c=J0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function h3(s,c,h){return mc(c,s.child,null,h),s=Q0(c,c.pendingProps),s.flags|=2,Ei(c),c.memoizedState=null,s}function RB(s,c,h){var g=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ct){if(g.mode==="hidden")return s=Q0(c,g),c.lanes=536870912,$d(null,s);if(Hy(c),(s=Xt)?(s=S4(s,Xi),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:no,overflow:io}:null,retryLane:536870912,hydrationErrors:null},h=YT(s),h.return=c,c.child=h,mn=c,Xt=null)):s=null,s===null)throw js(c);return c.lanes=536870912,null}return Q0(c,g)}var E=s.memoizedState;if(E!==null){var D=E.dehydrated;if(Hy(c),_)if(c.flags&256)c.flags&=-257,c=h3(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(Mr||Du(s,c,h,!1),_=(h&s.childLanes)!==0,Mr||_){if(g=zt,g!==null&&(D=fd(g,h),D!==0&&D!==E.retryLane))throw E.retryLane=D,cc(s,D),oi(g,s,D),ux;l1(),c=h3(s,c,h)}else s=E.treeContext,Xt=Qi(D.nextSibling),mn=c,ct=!0,ks=null,Xi=!1,s!==null&&JT(c,s),c=Q0(c,g),c.flags|=4096;return c}return s=Do(s.child,{mode:g.mode,children:g.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Z0(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function fx(s,c,h,g,_){return hc(c),h=qy(s,c,h,g,void 0,_),g=Gy(),s!==null&&!Mr?(Wy(s,c,_),Bo(s,c,_)):(ct&&g&&Ty(c),c.flags|=1,xn(s,c,h,_),c.child)}function p3(s,c,h,g,_,E){return hc(c),c.updateQueue=null,h=mC(c,g,h,_),vC(s),g=Gy(),s!==null&&!Mr?(Wy(s,c,E),Bo(s,c,E)):(ct&&g&&Ty(c),c.flags|=1,xn(s,c,h,E),c.child)}function g3(s,c,h,g,_){if(hc(c),c.stateNode===null){var E=Iu,D=h.contextType;typeof D=="object"&&D!==null&&(E=yn(D)),E=new h(g,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=lx,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=g,E.state=c.memoizedState,E.refs={},Ly(c),D=h.contextType,E.context=typeof D=="object"&&D!==null?yn(D):Iu,E.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(sx(c,h,D,g),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(D=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),D!==E.state&&lx.enqueueReplaceState(E,E.state,null),Ud(c,g,E,_),Bd(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(s===null){E=c.stateNode;var B=c.memoizedProps,q=xc(h,B);E.props=q;var J=E.context,se=h.contextType;D=Iu,typeof se=="object"&&se!==null&&(D=yn(se));var ue=h.getDerivedStateFromProps;se=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B||J!==D)&&t3(c,E,g,D),Bs=!1;var te=c.memoizedState;E.state=te,Ud(c,g,E,_),Bd(),J=c.memoizedState,B||te!==J||Bs?(typeof ue=="function"&&(sx(c,h,ue,g),J=c.memoizedState),(q=Bs||e3(c,h,q,g,te,J,D))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=J),E.props=g,E.state=J,E.context=D,g=q):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{E=c.stateNode,By(s,c),D=c.memoizedProps,se=xc(h,D),E.props=se,ue=c.pendingProps,te=E.context,J=h.contextType,q=Iu,typeof J=="object"&&J!==null&&(q=yn(J)),B=h.getDerivedStateFromProps,(J=typeof B=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ue||te!==q)&&t3(c,E,g,q),Bs=!1,te=c.memoizedState,E.state=te,Ud(c,g,E,_),Bd();var ae=c.memoizedState;D!==ue||te!==ae||Bs||s!==null&&s.dependencies!==null&&N0(s.dependencies)?(typeof B=="function"&&(sx(c,h,B,g),ae=c.memoizedState),(se=Bs||e3(c,h,se,g,te,ae,q)||s!==null&&s.dependencies!==null&&N0(s.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ae,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ae,q)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ae),E.props=g,E.state=ae,E.context=q,g=se):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(c.flags|=1024),g=!1)}return E=g,Z0(s,c),g=(c.flags&128)!==0,E||g?(E=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,s!==null&&g?(c.child=mc(c,s.child,null,_),c.child=mc(c,null,h,_)):xn(s,c,h,_),c.memoizedState=E.state,s=c.child):s=Bo(s,c,_),s}function v3(s,c,h,g){return fc(),c.flags|=256,xn(s,c,h,g),c.child}var dx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hx(s){return{baseLanes:s,cachePool:aC()}}function px(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=Si),s}function m3(s,c,h){var g=c.pendingProps,_=!1,E=(c.flags&128)!==0,D;if((D=E)||(D=s!==null&&s.memoizedState===null?!1:(wr.current&2)!==0),D&&(_=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,s===null){if(ct){if(_?Vs(c):zs(),(s=Xt)?(s=S4(s,Xi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:no,overflow:io}:null,retryLane:536870912,hydrationErrors:null},h=YT(s),h.return=c,c.child=h,mn=c,Xt=null)):s=null,s===null)throw js(c);return Yx(s)?c.lanes=32:c.lanes=536870912,null}var B=g.children;return g=g.fallback,_?(zs(),_=c.mode,B=J0({mode:"hidden",children:B},_),g=uc(g,_,h,null),B.return=c,g.return=c,B.sibling=g,c.child=B,g=c.child,g.memoizedState=hx(h),g.childLanes=px(s,D,h),c.memoizedState=dx,$d(null,g)):(Vs(c),gx(c,B))}var q=s.memoizedState;if(q!==null&&(B=q.dehydrated,B!==null)){if(E)c.flags&256?(Vs(c),c.flags&=-257,c=vx(s,c,h)):c.memoizedState!==null?(zs(),c.child=s.child,c.flags|=128,c=null):(zs(),B=g.fallback,_=c.mode,g=J0({mode:"visible",children:g.children},_),B=uc(B,_,h,null),B.flags|=2,g.return=c,B.return=c,g.sibling=B,c.child=g,mc(c,s.child,null,h),g=c.child,g.memoizedState=hx(h),g.childLanes=px(s,D,h),c.memoizedState=dx,c=$d(null,g));else if(Vs(c),Yx(B)){if(D=B.nextSibling&&B.nextSibling.dataset,D)var J=D.dgst;D=J,g=Error(n(419)),g.stack="",g.digest=D,Dd({value:g,source:null,stack:null}),c=vx(s,c,h)}else if(Mr||Du(s,c,h,!1),D=(h&s.childLanes)!==0,Mr||D){if(D=zt,D!==null&&(g=fd(D,h),g!==0&&g!==q.retryLane))throw q.retryLane=g,cc(s,g),oi(D,s,g),ux;Xx(B)||l1(),c=vx(s,c,h)}else Xx(B)?(c.flags|=192,c.child=s.child,c=null):(s=q.treeContext,Xt=Qi(B.nextSibling),mn=c,ct=!0,ks=null,Xi=!1,s!==null&&JT(c,s),c=gx(c,g.children),c.flags|=4096);return c}return _?(zs(),B=g.fallback,_=c.mode,q=s.child,J=q.sibling,g=Do(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?B=Do(J,B):(B=uc(B,_,h,null),B.flags|=2),B.return=c,g.return=c,g.sibling=B,c.child=g,$d(null,g),g=c.child,B=s.child.memoizedState,B===null?B=hx(h):(_=B.cachePool,_!==null?(q=Dr._currentValue,_=_.parent!==q?{parent:q,pool:q}:_):_=aC(),B={baseLanes:B.baseLanes|h,cachePool:_}),g.memoizedState=B,g.childLanes=px(s,D,h),c.memoizedState=dx,$d(s.child,g)):(Vs(c),h=s.child,s=h.sibling,h=Do(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,s!==null&&(D=c.deletions,D===null?(c.deletions=[s],c.flags|=16):D.push(s)),c.child=h,c.memoizedState=null,h)}function gx(s,c){return c=J0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function J0(s,c){return s=bi(22,s,null,c),s.lanes=0,s}function vx(s,c,h){return mc(c,s.child,null,h),s=gx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function y3(s,c,h){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Py(s.return,c,h)}function mx(s,c,h,g,_,E){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:E}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=h,D.tailMode=_,D.treeForkCount=E)}function x3(s,c,h){var g=c.pendingProps,_=g.revealOrder,E=g.tail;g=g.children;var D=wr.current,B=(D&2)!==0;if(B?(D=D&1|2,c.flags|=128):D&=1,ye(wr,D),xn(s,c,g,h),g=ct?Pd:0,!B&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&y3(s,h,c);else if(s.tag===19)y3(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(h=c.child,_=null;h!==null;)s=h.alternate,s!==null&&V0(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),mx(c,!1,_,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(s=_.alternate,s!==null&&V0(s)===null){c.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}mx(c,!0,h,null,E,g);break;case"together":mx(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Bo(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),qs|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(Du(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,h=Do(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=Do(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function yx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&N0(s)))}function PB(s,c,h){switch(c.tag){case 3:mr(c,c.stateNode.containerInfo),Ls(c,Dr,s.memoizedState.cache),fc();break;case 27:case 5:ze(c);break;case 4:mr(c,c.stateNode.containerInfo);break;case 10:Ls(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Hy(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Vs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?m3(s,c,h):(Vs(c),s=Bo(s,c,h),s!==null?s.sibling:null);Vs(c);break;case 19:var _=(s.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Du(s,c,h,!1),g=(h&c.childLanes)!==0),_){if(g)return x3(s,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ye(wr,wr.current),g)break;return null;case 22:return c.lanes=0,f3(s,c,h,c.pendingProps);case 24:Ls(c,Dr,s.memoizedState.cache)}return Bo(s,c,h)}function _3(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)Mr=!0;else{if(!yx(s,h)&&(c.flags&128)===0)return Mr=!1,PB(s,c,h);Mr=(s.flags&131072)!==0}else Mr=!1,ct&&(c.flags&1048576)!==0&&ZT(c,Pd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(s=gc(c.elementType),c.type=s,typeof s=="function")Ey(s)?(g=xc(s,g),c.tag=1,c=g3(null,c,s,g,h)):(c.tag=0,c=fx(null,c,s,g,h));else{if(s!=null){var _=s.$$typeof;if(_===R){c.tag=11,c=l3(null,c,s,g,h);break e}else if(_===P){c.tag=14,c=c3(null,c,s,g,h);break e}}throw c=pe(s)||s,Error(n(306,c,""))}}return c;case 0:return fx(s,c,c.type,c.pendingProps,h);case 1:return g=c.type,_=xc(g,c.pendingProps),g3(s,c,g,_,h);case 3:e:{if(mr(c,c.stateNode.containerInfo),s===null)throw Error(n(387));g=c.pendingProps;var E=c.memoizedState;_=E.element,By(s,c),Ud(c,g,null,h);var D=c.memoizedState;if(g=D.cache,Ls(c,Dr,g),g!==E.cache&&Dy(c,[Dr],h,!0),Bd(),g=D.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=v3(s,c,g,h);break e}else if(g!==_){_=Gi(Error(n(424)),c),Dd(_),c=v3(s,c,g,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Xt=Qi(s.firstChild),mn=c,ct=!0,ks=null,Xi=!0,h=fC(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fc(),g===_){c=Bo(s,c,h);break e}xn(s,c,g,h)}c=c.child}return c;case 26:return Z0(s,c),s===null?(h=P4(c.type,null,c.pendingProps,null))?c.memoizedState=h:ct||(h=c.type,s=c.pendingProps,g=g1(qe.current).createElement(h),g[Or]=c,g[rn]=s,_n(g,h,s),Rr(g),c.stateNode=g):c.memoizedState=P4(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ze(c),s===null&&ct&&(g=c.stateNode=I4(c.type,c.pendingProps,qe.current),mn=c,Xi=!0,_=Xt,Ys(c.type)?(Qx=_,Xt=Qi(g.firstChild)):Xt=_),xn(s,c,c.pendingProps.children,h),Z0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ct&&((_=g=Xt)&&(g=sU(g,c.type,c.pendingProps,Xi),g!==null?(c.stateNode=g,mn=c,Xt=Qi(g.firstChild),Xi=!1,_=!0):_=!1),_||js(c)),ze(c),_=c.type,E=c.pendingProps,D=s!==null?s.memoizedProps:null,g=E.children,Gx(_,E)?g=null:D!==null&&Gx(_,D)&&(c.flags|=32),c.memoizedState!==null&&(_=qy(s,c,wB,null,null,h),ah._currentValue=_),Z0(s,c),xn(s,c,g,h),c.child;case 6:return s===null&&ct&&((s=h=Xt)&&(h=lU(h,c.pendingProps,Xi),h!==null?(c.stateNode=h,mn=c,Xt=null,s=!0):s=!1),s||js(c)),null;case 13:return m3(s,c,h);case 4:return mr(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=mc(c,null,g,h):xn(s,c,g,h),c.child;case 11:return l3(s,c,c.type,c.pendingProps,h);case 7:return xn(s,c,c.pendingProps,h),c.child;case 8:return xn(s,c,c.pendingProps.children,h),c.child;case 12:return xn(s,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Ls(c,c.type,g.value),xn(s,c,g.children,h),c.child;case 9:return _=c.type._context,g=c.pendingProps.children,hc(c),_=yn(_),g=g(_),c.flags|=1,xn(s,c,g,h),c.child;case 14:return c3(s,c,c.type,c.pendingProps,h);case 15:return u3(s,c,c.type,c.pendingProps,h);case 19:return x3(s,c,h);case 31:return RB(s,c,h);case 22:return f3(s,c,h,c.pendingProps);case 24:return hc(c),g=yn(Dr),s===null?(_=ky(),_===null&&(_=zt,E=Ny(),_.pooledCache=E,E.refCount++,E!==null&&(_.pooledCacheLanes|=h),_=E),c.memoizedState={parent:g,cache:_},Ly(c),Ls(c,Dr,_)):((s.lanes&h)!==0&&(By(s,c),Ud(c,null,null,h),Bd()),_=s.memoizedState,E=c.memoizedState,_.parent!==g?(_={parent:g,cache:g},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Ls(c,Dr,g)):(g=E.cache,Ls(c,Dr,g),g!==_.cache&&Dy(c,[Dr],h,!0))),xn(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Uo(s){s.flags|=4}function xx(s,c,h,g,_){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(W3())s.flags|=8192;else throw vc=L0,jy}else s.flags&=-16777217}function b3(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!j4(c))if(W3())s.flags|=8192;else throw vc=L0,jy}function e1(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?o0():536870912,s.lanes|=c,$u|=c)}function qd(s,c){if(!ct)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Yt(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(c)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=h,c}function DB(s,c,h){var g=c.pendingProps;switch(Cy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(c),null;case 1:return Yt(c),null;case 3:return h=c.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ko(Dr),ge(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Pu(c)?Uo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Oy())),Yt(c),null;case 26:var _=c.type,E=c.memoizedState;return s===null?(Uo(c),E!==null?(Yt(c),b3(c,E)):(Yt(c),xx(c,_,null,g,h))):E?E!==s.memoizedState?(Uo(c),Yt(c),b3(c,E)):(Yt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==g&&Uo(c),Yt(c),xx(c,_,s,g,h)),null;case 27:if(Xe(c),h=qe.current,_=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Yt(c),null}s=be.current,Pu(c)?eC(c):(s=I4(_,g,h),c.stateNode=s,Uo(c))}return Yt(c),null;case 5:if(Xe(c),_=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Yt(c),null}if(E=be.current,Pu(c))eC(c);else{var D=g1(qe.current);switch(E){case 1:E=D.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:E=D.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":E=D.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":E=D.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":E=D.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?D.createElement(_,{is:g.is}):D.createElement(_)}}E[Or]=c,E[rn]=g;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)E.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=E;e:switch(_n(E,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Uo(c)}}return Yt(c),xx(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(s=qe.current,Pu(c)){if(s=c.stateNode,h=c.memoizedProps,g=null,_=mn,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}s[Or]=c,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||m4(s.nodeValue,h)),s||js(c,!0)}else s=g1(s).createTextNode(g),s[Or]=c,c.stateNode=s}return Yt(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(g=Pu(c),h!==null){if(s===null){if(!g)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Or]=c}else fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),s=!1}else h=Oy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Ei(c),c):(Ei(c),null);if((c.flags&128)!==0)throw Error(n(558))}return Yt(c),null;case 13:if(g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Pu(c),g!==null&&g.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Or]=c}else fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),_=!1}else _=Oy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(Ei(c),c):(Ei(c),null)}return Ei(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=c.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==_&&(g.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),e1(c,c.updateQueue),Yt(c),null);case 4:return ge(),s===null&&Vx(c.stateNode.containerInfo),Yt(c),null;case 10:return ko(c.type),Yt(c),null;case 19:if(ee(wr),g=c.memoizedState,g===null)return Yt(c),null;if(_=(c.flags&128)!==0,E=g.rendering,E===null)if(_)qd(g,!1);else{if(dr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(E=V0(s),E!==null){for(c.flags|=128,qd(g,!1),s=E.updateQueue,c.updateQueue=s,e1(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)XT(h,s),h=h.sibling;return ye(wr,wr.current&1|2),ct&&No(c,g.treeForkCount),c.child}s=s.sibling}g.tail!==null&&Hn()>a1&&(c.flags|=128,_=!0,qd(g,!1),c.lanes=4194304)}else{if(!_)if(s=V0(E),s!==null){if(c.flags|=128,_=!0,s=s.updateQueue,c.updateQueue=s,e1(c,s),qd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ct)return Yt(c),null}else 2*Hn()-g.renderingStartTime>a1&&h!==536870912&&(c.flags|=128,_=!0,qd(g,!1),c.lanes=4194304);g.isBackwards?(E.sibling=c.child,c.child=E):(s=g.last,s!==null?s.sibling=E:c.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Hn(),s.sibling=null,h=wr.current,ye(wr,_?h&1|2:h&1),ct&&No(c,g.treeForkCount),s):(Yt(c),null);case 22:case 23:return Ei(c),zy(),g=c.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Yt(c),c.subtreeFlags&6&&(c.flags|=8192)):Yt(c),h=c.updateQueue,h!==null&&e1(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),s!==null&&ee(pc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ko(Dr),Yt(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function NB(s,c){switch(Cy(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ko(Dr),ge(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Xe(c),null;case 31:if(c.memoizedState!==null){if(Ei(c),c.alternate===null)throw Error(n(340));fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ei(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return ee(wr),null;case 4:return ge(),null;case 10:return ko(c.type),null;case 22:case 23:return Ei(c),zy(),s!==null&&ee(pc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ko(Dr),null;case 25:return null;default:return null}}function w3(s,c){switch(Cy(c),c.tag){case 3:ko(Dr),ge();break;case 26:case 27:case 5:Xe(c);break;case 4:ge();break;case 31:c.memoizedState!==null&&Ei(c);break;case 13:Ei(c);break;case 19:ee(wr);break;case 10:ko(c.type);break;case 22:case 23:Ei(c),zy(),s!==null&&ee(pc);break;case 24:ko(Dr)}}function Gd(s,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&s)===s){g=void 0;var E=h.create,D=h.inst;g=E(),D.destroy=g}h=h.next}while(h!==_)}}catch(B){Pt(c,c.return,B)}}function Hs(s,c,h){try{var g=c.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var E=_.next;g=E;do{if((g.tag&s)===s){var D=g.inst,B=D.destroy;if(B!==void 0){D.destroy=void 0,_=c;var q=h,J=B;try{J()}catch(se){Pt(_,q,se)}}}g=g.next}while(g!==E)}}catch(se){Pt(c,c.return,se)}}function E3(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{hC(c,h)}catch(g){Pt(s,s.return,g)}}}function A3(s,c,h){h.props=xc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){Pt(s,c,g)}}function Wd(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(_){Pt(s,c,_)}}function ao(s,c){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){Pt(s,c,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Pt(s,c,_)}else h.current=null}function S3(s){var c=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){Pt(s,s.return,_)}}function _x(s,c,h){try{var g=s.stateNode;tU(g,s.type,h,c),g[rn]=c}catch(_){Pt(s,s.return,_)}}function T3(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ys(s.type)||s.tag===4}function bx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||T3(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ys(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wx(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ba));else if(g!==4&&(g===27&&Ys(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(wx(s,c,h),s=s.sibling;s!==null;)wx(s,c,h),s=s.sibling}function t1(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(g!==4&&(g===27&&Ys(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(t1(s,c,h),s=s.sibling;s!==null;)t1(s,c,h),s=s.sibling}function C3(s){var c=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);_n(c,g,h),c[Or]=s,c[rn]=h}catch(E){Pt(s,s.return,E)}}var Fo=!1,kr=!1,Ex=!1,I3=typeof WeakSet=="function"?WeakSet:Set,an=null;function MB(s,c){if(s=s.containerInfo,$x=w1,s=FT(s),vy(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var D=0,B=-1,q=-1,J=0,se=0,ue=s,te=null;t:for(;;){for(var ae;ue!==h||_!==0&&ue.nodeType!==3||(B=D+_),ue!==E||g!==0&&ue.nodeType!==3||(q=D+g),ue.nodeType===3&&(D+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)te=ue,ue=ae;for(;;){if(ue===s)break t;if(te===h&&++J===_&&(B=D),te===E&&++se===g&&(q=D),(ae=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ae}h=B===-1||q===-1?null:{start:B,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(qx={focusedElem:s,selectionRange:h},w1=!1,an=c;an!==null;)if(c=an,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,an=s;else for(;an!==null;){switch(c=an,E=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)_=s[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,h=c,_=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var Se=xc(h.type,_);s=g.getSnapshotBeforeUpdate(Se,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Pt(h,h.return,Be)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)Kx(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,an=s;break}an=c.return}}function O3(s,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:zo(s,h),g&4&&Gd(5,h);break;case 1:if(zo(s,h),g&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(D){Pt(h,h.return,D)}else{var _=xc(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(_,c,s.__reactInternalSnapshotBeforeUpdate)}catch(D){Pt(h,h.return,D)}}g&64&&E3(h),g&512&&Wd(h,h.return);break;case 3:if(zo(s,h),g&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{hC(s,c)}catch(D){Pt(h,h.return,D)}}break;case 27:c===null&&g&4&&C3(h);case 26:case 5:zo(s,h),c===null&&g&4&&S3(h),g&512&&Wd(h,h.return);break;case 12:zo(s,h);break;case 31:zo(s,h),g&4&&D3(s,h);break;case 13:zo(s,h),g&4&&N3(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=HB.bind(null,h),cU(s,h))));break;case 22:if(g=h.memoizedState!==null||Fo,!g){c=c!==null&&c.memoizedState!==null||kr,_=Fo;var E=kr;Fo=g,(kr=c)&&!E?Ho(s,h,(h.subtreeFlags&8772)!==0):zo(s,h),Fo=_,kr=E}break;case 30:break;default:zo(s,h)}}function R3(s){var c=s.alternate;c!==null&&(s.alternate=null,R3(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&pu(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rr=null,ri=!1;function Vo(s,c,h){for(h=h.child;h!==null;)P3(s,c,h),h=h.sibling}function P3(s,c,h){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ma,h)}catch{}switch(h.tag){case 26:kr||ao(h,c),Vo(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:kr||ao(h,c);var g=rr,_=ri;Ys(h.type)&&(rr=h.stateNode,ri=!1),Vo(s,c,h),rh(h.stateNode),rr=g,ri=_;break;case 5:kr||ao(h,c);case 6:if(g=rr,_=ri,rr=null,Vo(s,c,h),rr=g,ri=_,rr!==null)if(ri)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(h.stateNode)}catch(E){Pt(h,c,E)}else try{rr.removeChild(h.stateNode)}catch(E){Pt(h,c,E)}break;case 18:rr!==null&&(ri?(s=rr,E4(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Zu(s)):E4(rr,h.stateNode));break;case 4:g=rr,_=ri,rr=h.stateNode.containerInfo,ri=!0,Vo(s,c,h),rr=g,ri=_;break;case 0:case 11:case 14:case 15:Hs(2,h,c),kr||Hs(4,h,c),Vo(s,c,h);break;case 1:kr||(ao(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&A3(h,c,g)),Vo(s,c,h);break;case 21:Vo(s,c,h);break;case 22:kr=(g=kr)||h.memoizedState!==null,Vo(s,c,h),kr=g;break;default:Vo(s,c,h)}}function D3(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zu(s)}catch(h){Pt(c,c.return,h)}}}function N3(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zu(s)}catch(h){Pt(c,c.return,h)}}function kB(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new I3),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new I3),c;default:throw Error(n(435,s.tag))}}function r1(s,c){var h=kB(s);c.forEach(function(g){if(!h.has(g)){h.add(g);var _=$B.bind(null,s,g);g.then(_,_)}})}function ni(s,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],E=s,D=c,B=D;e:for(;B!==null;){switch(B.tag){case 27:if(Ys(B.type)){rr=B.stateNode,ri=!1;break e}break;case 5:rr=B.stateNode,ri=!1;break e;case 3:case 4:rr=B.stateNode.containerInfo,ri=!0;break e}B=B.return}if(rr===null)throw Error(n(160));P3(E,D,_),rr=null,ri=!1,E=_.alternate,E!==null&&(E.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)M3(c,s),c=c.sibling}var Ca=null;function M3(s,c){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ni(c,s),ii(s),g&4&&(Hs(3,s,s.return),Gd(3,s),Hs(5,s,s.return));break;case 1:ni(c,s),ii(s),g&512&&(kr||h===null||ao(h,h.return)),g&64&&Fo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=Ca;if(ni(c,s),ii(s),g&512&&(kr||h===null||ao(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":E=_.getElementsByTagName("title")[0],(!E||E[qa]||E[Or]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=_.createElement(g),_.head.insertBefore(E,_.querySelector("head > title"))),_n(E,g,h),E[Or]=s,Rr(E),g=E;break e;case"link":var D=M4("link","href",_).get(g+(h.href||""));if(D){for(var B=0;B<D.length;B++)if(E=D[B],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(B,1);break t}}E=_.createElement(g),_n(E,g,h),_.head.appendChild(E);break;case"meta":if(D=M4("meta","content",_).get(g+(h.content||""))){for(B=0;B<D.length;B++)if(E=D[B],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(B,1);break t}}E=_.createElement(g),_n(E,g,h),_.head.appendChild(E);break;default:throw Error(n(468,g))}E[Or]=s,Rr(E),g=E}s.stateNode=g}else k4(_,s.type,s.stateNode);else s.stateNode=N4(_,g,s.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?k4(_,s.type,s.stateNode):N4(_,g,s.memoizedProps)):g===null&&s.stateNode!==null&&_x(s,s.memoizedProps,h.memoizedProps)}break;case 27:ni(c,s),ii(s),g&512&&(kr||h===null||ao(h,h.return)),h!==null&&g&4&&_x(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ni(c,s),ii(s),g&512&&(kr||h===null||ao(h,h.return)),s.flags&32){_=s.stateNode;try{ti(_,"")}catch(Se){Pt(s,s.return,Se)}}g&4&&s.stateNode!=null&&(_=s.memoizedProps,_x(s,_,h!==null?h.memoizedProps:_)),g&1024&&(Ex=!0);break;case 6:if(ni(c,s),ii(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(Se){Pt(s,s.return,Se)}}break;case 3:if(y1=null,_=Ca,Ca=v1(c.containerInfo),ni(c,s),Ca=_,ii(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Zu(c.containerInfo)}catch(Se){Pt(s,s.return,Se)}Ex&&(Ex=!1,k3(s));break;case 4:g=Ca,Ca=v1(s.stateNode.containerInfo),ni(c,s),ii(s),Ca=g;break;case 12:ni(c,s),ii(s);break;case 31:ni(c,s),ii(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 13:ni(c,s),ii(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(i1=Hn()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 22:_=s.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,J=Fo,se=kr;if(Fo=J||_,kr=se||q,ni(c,s),kr=se,Fo=J,ii(s),g&8192)e:for(c=s.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||q||Fo||kr||_c(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){q=h=c;try{if(E=q.stateNode,_)D=E.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{B=q.stateNode;var ue=q.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){Pt(q,q.return,Se)}}}else if(c.tag===6){if(h===null){q=c;try{q.stateNode.nodeValue=_?"":q.memoizedProps}catch(Se){Pt(q,q.return,Se)}}}else if(c.tag===18){if(h===null){q=c;try{var ae=q.stateNode;_?A4(ae,!0):A4(q.stateNode,!1)}catch(Se){Pt(q,q.return,Se)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,r1(s,h))));break;case 19:ni(c,s),ii(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 30:break;case 21:break;default:ni(c,s),ii(s)}}function ii(s){var c=s.flags;if(c&2){try{for(var h,g=s.return;g!==null;){if(T3(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var _=h.stateNode,E=bx(s);t1(s,E,_);break;case 5:var D=h.stateNode;h.flags&32&&(ti(D,""),h.flags&=-33);var B=bx(s);t1(s,B,D);break;case 3:case 4:var q=h.stateNode.containerInfo,J=bx(s);wx(s,J,q);break;default:throw Error(n(161))}}catch(se){Pt(s,s.return,se)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function k3(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;k3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function zo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)O3(s,c.alternate,c),c=c.sibling}function _c(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Hs(4,c,c.return),_c(c);break;case 1:ao(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&A3(c,c.return,h),_c(c);break;case 27:rh(c.stateNode);case 26:case 5:ao(c,c.return),_c(c);break;case 22:c.memoizedState===null&&_c(c);break;case 30:_c(c);break;default:_c(c)}s=s.sibling}}function Ho(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,_=s,E=c,D=E.flags;switch(E.tag){case 0:case 11:case 15:Ho(_,E,h),Gd(4,E);break;case 1:if(Ho(_,E,h),g=E,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(J){Pt(g,g.return,J)}if(g=E,_=g.updateQueue,_!==null){var B=g.stateNode;try{var q=_.shared.hiddenCallbacks;if(q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<q.length;_++)dC(q[_],B)}catch(J){Pt(g,g.return,J)}}h&&D&64&&E3(E),Wd(E,E.return);break;case 27:C3(E);case 26:case 5:Ho(_,E,h),h&&g===null&&D&4&&S3(E),Wd(E,E.return);break;case 12:Ho(_,E,h);break;case 31:Ho(_,E,h),h&&D&4&&D3(_,E);break;case 13:Ho(_,E,h),h&&D&4&&N3(_,E);break;case 22:E.memoizedState===null&&Ho(_,E,h),Wd(E,E.return);break;case 30:break;default:Ho(_,E,h)}c=c.sibling}}function Ax(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Nd(h))}function Sx(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Nd(s))}function Ia(s,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)j3(s,c,h,g),c=c.sibling}function j3(s,c,h,g){var _=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(s,c,h,g),_&2048&&Gd(9,c);break;case 1:Ia(s,c,h,g);break;case 3:Ia(s,c,h,g),_&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Nd(s)));break;case 12:if(_&2048){Ia(s,c,h,g),s=c.stateNode;try{var E=c.memoizedProps,D=E.id,B=E.onPostCommit;typeof B=="function"&&B(D,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Pt(c,c.return,q)}}else Ia(s,c,h,g);break;case 31:Ia(s,c,h,g);break;case 13:Ia(s,c,h,g);break;case 23:break;case 22:E=c.stateNode,D=c.alternate,c.memoizedState!==null?E._visibility&2?Ia(s,c,h,g):Kd(s,c):E._visibility&2?Ia(s,c,h,g):(E._visibility|=2,Vu(s,c,h,g,(c.subtreeFlags&10256)!==0||!1)),_&2048&&Ax(D,c);break;case 24:Ia(s,c,h,g),_&2048&&Sx(c.alternate,c);break;default:Ia(s,c,h,g)}}function Vu(s,c,h,g,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=s,D=c,B=h,q=g,J=D.flags;switch(D.tag){case 0:case 11:case 15:Vu(E,D,B,q,_),Gd(8,D);break;case 23:break;case 22:var se=D.stateNode;D.memoizedState!==null?se._visibility&2?Vu(E,D,B,q,_):Kd(E,D):(se._visibility|=2,Vu(E,D,B,q,_)),_&&J&2048&&Ax(D.alternate,D);break;case 24:Vu(E,D,B,q,_),_&&J&2048&&Sx(D.alternate,D);break;default:Vu(E,D,B,q,_)}c=c.sibling}}function Kd(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,g=c,_=g.flags;switch(g.tag){case 22:Kd(h,g),_&2048&&Ax(g.alternate,g);break;case 24:Kd(h,g),_&2048&&Sx(g.alternate,g);break;default:Kd(h,g)}c=c.sibling}}var Xd=8192;function zu(s,c,h){if(s.subtreeFlags&Xd)for(s=s.child;s!==null;)L3(s,c,h),s=s.sibling}function L3(s,c,h){switch(s.tag){case 26:zu(s,c,h),s.flags&Xd&&s.memoizedState!==null&&bU(h,Ca,s.memoizedState,s.memoizedProps);break;case 5:zu(s,c,h);break;case 3:case 4:var g=Ca;Ca=v1(s.stateNode.containerInfo),zu(s,c,h),Ca=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Xd,Xd=16777216,zu(s,c,h),Xd=g):zu(s,c,h));break;default:zu(s,c,h)}}function B3(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Yd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];an=g,F3(g,s)}B3(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U3(s),s=s.sibling}function U3(s){switch(s.tag){case 0:case 11:case 15:Yd(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:Yd(s);break;case 12:Yd(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,n1(s)):Yd(s);break;default:Yd(s)}}function n1(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];an=g,F3(g,s)}B3(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Hs(8,c,c.return),n1(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,n1(c));break;default:n1(c)}s=s.sibling}}function F3(s,c){for(;an!==null;){var h=an;switch(h.tag){case 0:case 11:case 15:Hs(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Nd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,an=g;else e:for(h=s;an!==null;){g=an;var _=g.sibling,E=g.return;if(R3(g),g===h){an=null;break e}if(_!==null){_.return=E,an=_;break e}an=E}}}var jB={getCacheForType:function(s){var c=yn(Dr),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return yn(Dr).controller.signal}},LB=typeof WeakMap=="function"?WeakMap:Map,wt=0,zt=null,Je=null,it=0,Rt=0,Ai=null,$s=!1,Hu=!1,Tx=!1,$o=0,dr=0,qs=0,bc=0,Cx=0,Si=0,$u=0,Qd=null,ai=null,Ix=!1,i1=0,V3=0,a1=1/0,o1=null,Gs=null,$r=0,Ws=null,qu=null,qo=0,Ox=0,Rx=null,z3=null,Zd=0,Px=null;function Ti(){return(wt&2)!==0&&it!==0?it&-it:X.T!==null?Lx():s0()}function H3(){if(Si===0)if((it&536870912)===0||ct){var s=Kl;Kl<<=1,(Kl&3932160)===0&&(Kl=262144),Si=s}else Si=536870912;return s=wi.current,s!==null&&(s.flags|=32),Si}function oi(s,c,h){(s===zt&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)&&(Gu(s,0),Ks(s,it,Si,!1)),Xl(s,h),((wt&2)===0||s!==zt)&&(s===zt&&((wt&2)===0&&(bc|=h),dr===4&&Ks(s,it,Si,!1)),oo(s))}function $3(s,c,h){if((wt&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&s.expiredLanes)===0||ya(s,c),_=g?FB(s,c):Nx(s,c,!0),E=g;do{if(_===0){Hu&&!g&&Ks(s,c,0,!1);break}else{if(h=s.current.alternate,E&&!BB(h)){_=Nx(s,c,!1),E=!1;continue}if(_===2){if(E=c,s.errorRecoveryDisabledLanes&E)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var B=s;_=Qd;var q=B.current.memoizedState.isDehydrated;if(q&&(Gu(B,D).flags|=256),D=Nx(B,D,!1),D!==2){if(Tx&&!q){B.errorRecoveryDisabledLanes|=E,bc|=E,_=4;break e}E=ai,ai=_,E!==null&&(ai===null?ai=E:ai.push.apply(ai,E))}_=D}if(E=!1,_!==2)continue}}if(_===1){Gu(s,0),Ks(s,c,0,!0);break}e:{switch(g=s,E=_,E){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Ks(g,c,Si,!$s);break e;case 2:ai=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(_=i1+300-Hn(),10<_)){if(Ks(g,c,Si,!$s),za(g,0,!0)!==0)break e;qo=c,g.timeoutHandle=b4(q3.bind(null,g,h,ai,o1,Ix,c,Si,bc,$u,$s,E,"Throttled",-0,0),_);break e}q3(g,h,ai,o1,Ix,c,Si,bc,$u,$s,E,null,-0,0)}}break}while(!0);oo(s)}function q3(s,c,h,g,_,E,D,B,q,J,se,ue,te,ae){if(s.timeoutHandle=-1,ue=c.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},L3(c,E,ue);var Se=(E&62914560)===E?i1-Hn():(E&4194048)===E?V3-Hn():0;if(Se=wU(ue,Se),Se!==null){qo=E,s.cancelPendingCommit=Se(J3.bind(null,s,c,E,h,g,_,D,B,q,se,ue,null,te,ae)),Ks(s,E,D,!J);return}}J3(s,c,E,h,g,_,D,B,q)}function BB(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],E=_.getSnapshot;_=_.value;try{if(!_i(E(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ks(s,c,h,g){c&=~Cx,c&=~bc,s.suspendedLanes|=c,s.pingedLanes&=~c,g&&(s.warmLanes|=c),g=s.expirationTimes;for(var _=c;0<_;){var E=31-_r(_),D=1<<E;g[E]=-1,_&=~D}h!==0&&Yl(s,h,c)}function s1(){return(wt&6)===0?(Jd(0),!1):!0}function Dx(){if(Je!==null){if(Rt===0)var s=Je.return;else s=Je,Mo=dc=null,Ky(s),ju=null,kd=0,s=Je;for(;s!==null;)w3(s.alternate,s),s=s.return;Je=null}}function Gu(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,iU(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),qo=0,Dx(),zt=s,Je=h=Do(s.current,null),it=c,Rt=0,Ai=null,$s=!1,Hu=ya(s,c),Tx=!1,$u=Si=Cx=bc=qs=dr=0,ai=Qd=null,Ix=!1,(c&8)!==0&&(c|=c&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=c;0<g;){var _=31-_r(g),E=1<<_;c|=s[_],g&=~E}return $o=c,I0(),h}function G3(s,c){We=null,X.H=Hd,c===ku||c===j0?(c=lC(),Rt=3):c===jy?(c=lC(),Rt=4):Rt=c===ux?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ai=c,Je===null&&(dr=1,Y0(s,Gi(c,s.current)))}function W3(){var s=wi.current;return s===null?!0:(it&4194048)===it?Yi===null:(it&62914560)===it||(it&536870912)!==0?s===Yi:!1}function K3(){var s=X.H;return X.H=Hd,s===null?Hd:s}function X3(){var s=X.A;return X.A=jB,s}function l1(){dr=4,$s||(it&4194048)!==it&&wi.current!==null||(Hu=!0),(qs&134217727)===0&&(bc&134217727)===0||zt===null||Ks(zt,it,Si,!1)}function Nx(s,c,h){var g=wt;wt|=2;var _=K3(),E=X3();(zt!==s||it!==c)&&(o1=null,Gu(s,c)),c=!1;var D=dr;e:do try{if(Rt!==0&&Je!==null){var B=Je,q=Ai;switch(Rt){case 8:Dx(),D=6;break e;case 3:case 2:case 9:case 6:wi.current===null&&(c=!0);var J=Rt;if(Rt=0,Ai=null,Wu(s,B,q,J),h&&Hu){D=0;break e}break;default:J=Rt,Rt=0,Ai=null,Wu(s,B,q,J)}}UB(),D=dr;break}catch(se){G3(s,se)}while(!0);return c&&s.shellSuspendCounter++,Mo=dc=null,wt=g,X.H=_,X.A=E,Je===null&&(zt=null,it=0,I0()),D}function UB(){for(;Je!==null;)Y3(Je)}function FB(s,c){var h=wt;wt|=2;var g=K3(),_=X3();zt!==s||it!==c?(o1=null,a1=Hn()+500,Gu(s,c)):Hu=ya(s,c);e:do try{if(Rt!==0&&Je!==null){c=Je;var E=Ai;t:switch(Rt){case 1:Rt=0,Ai=null,Wu(s,c,E,1);break;case 2:case 9:if(oC(E)){Rt=0,Ai=null,Q3(c);break}c=function(){Rt!==2&&Rt!==9||zt!==s||(Rt=7),oo(s)},E.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:oC(E)?(Rt=0,Ai=null,Q3(c)):(Rt=0,Ai=null,Wu(s,c,E,7));break;case 5:var D=null;switch(Je.tag){case 26:D=Je.memoizedState;case 5:case 27:var B=Je;if(D?j4(D):B.stateNode.complete){Rt=0,Ai=null;var q=B.sibling;if(q!==null)Je=q;else{var J=B.return;J!==null?(Je=J,c1(J)):Je=null}break t}}Rt=0,Ai=null,Wu(s,c,E,5);break;case 6:Rt=0,Ai=null,Wu(s,c,E,6);break;case 8:Dx(),dr=6;break e;default:throw Error(n(462))}}VB();break}catch(se){G3(s,se)}while(!0);return Mo=dc=null,X.H=g,X.A=_,wt=h,Je!==null?0:(zt=null,it=0,I0(),dr)}function VB(){for(;Je!==null&&!cy();)Y3(Je)}function Y3(s){var c=_3(s.alternate,s,$o);s.memoizedProps=s.pendingProps,c===null?c1(s):Je=c}function Q3(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=p3(h,c,c.pendingProps,c.type,void 0,it);break;case 11:c=p3(h,c,c.pendingProps,c.type.render,c.ref,it);break;case 5:Ky(c);default:w3(h,c),c=Je=XT(c,$o),c=_3(h,c,$o)}s.memoizedProps=s.pendingProps,c===null?c1(s):Je=c}function Wu(s,c,h,g){Mo=dc=null,Ky(c),ju=null,kd=0;var _=c.return;try{if(OB(s,_,c,h,it)){dr=1,Y0(s,Gi(h,s.current)),Je=null;return}}catch(E){if(_!==null)throw Je=_,E;dr=1,Y0(s,Gi(h,s.current)),Je=null;return}c.flags&32768?(ct||g===1?s=!0:Hu||(it&536870912)!==0?s=!1:($s=s=!0,(g===2||g===9||g===3||g===6)&&(g=wi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Z3(c,s)):c1(c)}function c1(s){var c=s;do{if((c.flags&32768)!==0){Z3(c,$s);return}s=c.return;var h=DB(c.alternate,c,$o);if(h!==null){Je=h;return}if(c=c.sibling,c!==null){Je=c;return}Je=c=s}while(c!==null);dr===0&&(dr=5)}function Z3(s,c){do{var h=NB(s.alternate,s);if(h!==null){h.flags&=32767,Je=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){Je=s;return}Je=s=h}while(s!==null);dr=6,Je=null}function J3(s,c,h,g,_,E,D,B,q){s.cancelPendingCommit=null;do u1();while($r!==0);if((wt&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(E=c.lanes|c.childLanes,E|=by,dy(s,h,E,D,B,q),s===zt&&(Je=zt=null,it=0),qu=c,Ws=s,qo=h,Ox=E,Rx=_,z3=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,qB(As,function(){return i4(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=X.T,X.T=null,_=ne.p,ne.p=2,D=wt,wt|=4;try{MB(s,c,h)}finally{wt=D,ne.p=_,X.T=g}}$r=1,e4(),t4(),r4()}}function e4(){if($r===1){$r=0;var s=Ws,c=qu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var g=ne.p;ne.p=2;var _=wt;wt|=4;try{M3(c,s);var E=qx,D=FT(s.containerInfo),B=E.focusedElem,q=E.selectionRange;if(D!==B&&B&&B.ownerDocument&&UT(B.ownerDocument.documentElement,B)){if(q!==null&&vy(B)){var J=q.start,se=q.end;if(se===void 0&&(se=J),"selectionStart"in B)B.selectionStart=J,B.selectionEnd=Math.min(se,B.value.length);else{var ue=B.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Se=B.textContent.length,Be=Math.min(q.start,Se),Ut=q.end===void 0?Be:Math.min(q.end,Se);!ae.extend&&Be>Ut&&(D=Ut,Ut=Be,Be=D);var K=BT(B,Be),W=BT(B,Ut);if(K&&W&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var Z=ue.createRange();Z.setStart(K.node,K.offset),ae.removeAllRanges(),Be>Ut?(ae.addRange(Z),ae.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ae.addRange(Z))}}}}for(ue=[],ae=B;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ue.length;B++){var le=ue[B];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}w1=!!$x,qx=$x=null}finally{wt=_,ne.p=g,X.T=h}}s.current=c,$r=2}}function t4(){if($r===2){$r=0;var s=Ws,c=qu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var g=ne.p;ne.p=2;var _=wt;wt|=4;try{O3(s,c.alternate,c)}finally{wt=_,ne.p=g,X.T=h}}$r=3}}function r4(){if($r===4||$r===3){$r=0,e0();var s=Ws,c=qu,h=qo,g=z3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?$r=5:($r=0,qu=Ws=null,n4(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Gs=null),Io(h),c=c.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ma,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=X.T,_=ne.p,ne.p=2,X.T=null;try{for(var E=s.onRecoverableError,D=0;D<g.length;D++){var B=g[D];E(B.value,{componentStack:B.stack})}}finally{X.T=c,ne.p=_}}(qo&3)!==0&&u1(),oo(s),_=s.pendingLanes,(h&261930)!==0&&(_&42)!==0?s===Px?Zd++:(Zd=0,Px=s):Zd=0,Jd(0)}}function n4(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Nd(c)))}function u1(){return e4(),t4(),r4(),i4()}function i4(){if($r!==5)return!1;var s=Ws,c=Ox;Ox=0;var h=Io(qo),g=X.T,_=ne.p;try{ne.p=32>h?32:h,X.T=null,h=Rx,Rx=null;var E=Ws,D=qo;if($r=0,qu=Ws=null,qo=0,(wt&6)!==0)throw Error(n(331));var B=wt;if(wt|=4,U3(E.current),j3(E,E.current,D,h),wt=B,Jd(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ma,E)}catch{}return!0}finally{ne.p=_,X.T=g,n4(s,c)}}function a4(s,c,h){c=Gi(h,c),c=cx(s.stateNode,c,2),s=Fs(s,c,2),s!==null&&(Xl(s,2),oo(s))}function Pt(s,c,h){if(s.tag===3)a4(s,s,h);else for(;c!==null;){if(c.tag===3){a4(c,s,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Gs===null||!Gs.has(g))){s=Gi(h,s),h=o3(2),g=Fs(c,h,2),g!==null&&(s3(h,g,c,s),Xl(g,2),oo(g));break}}c=c.return}}function Mx(s,c,h){var g=s.pingCache;if(g===null){g=s.pingCache=new LB;var _=new Set;g.set(c,_)}else _=g.get(c),_===void 0&&(_=new Set,g.set(c,_));_.has(h)||(Tx=!0,_.add(h),s=zB.bind(null,s,c,h),c.then(s,s))}function zB(s,c,h){var g=s.pingCache;g!==null&&g.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,zt===s&&(it&h)===h&&(dr===4||dr===3&&(it&62914560)===it&&300>Hn()-i1?(wt&2)===0&&Gu(s,0):Cx|=h,$u===it&&($u=0)),oo(s)}function o4(s,c){c===0&&(c=o0()),s=cc(s,c),s!==null&&(Xl(s,c),oo(s))}function HB(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),o4(s,h)}function $B(s,c){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),o4(s,h)}function qB(s,c){return Hr(s,c)}var f1=null,Ku=null,kx=!1,d1=!1,jx=!1,Xs=0;function oo(s){s!==Ku&&s.next===null&&(Ku===null?f1=Ku=s:Ku=Ku.next=s),d1=!0,kx||(kx=!0,WB())}function Jd(s,c){if(!jx&&d1){jx=!0;do for(var h=!1,g=f1;g!==null;){if(s!==0){var _=g.pendingLanes;if(_===0)var E=0;else{var D=g.suspendedLanes,B=g.pingedLanes;E=(1<<31-_r(42|s)+1)-1,E&=_&~(D&~B),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,u4(g,E))}else E=it,E=za(g,g===zt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||ya(g,E)||(h=!0,u4(g,E));g=g.next}while(h);jx=!1}}function GB(){s4()}function s4(){d1=kx=!1;var s=0;Xs!==0&&nU()&&(s=Xs);for(var c=Hn(),h=null,g=f1;g!==null;){var _=g.next,E=l4(g,c);E===0?(g.next=null,h===null?f1=_:h.next=_,_===null&&(Ku=h)):(h=g,(s!==0||(E&3)!==0)&&(d1=!0)),g=_}$r!==0&&$r!==5||Jd(s),Xs!==0&&(Xs=0)}function l4(s,c){for(var h=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var D=31-_r(E),B=1<<D,q=_[D];q===-1?((B&h)===0||(B&g)!==0)&&(_[D]=fy(B,c)):q<=c&&(s.expiredLanes|=B),E&=~B}if(c=zt,h=it,h=za(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===c&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Es(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ya(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(g!==null&&Es(g),Io(h)){case 2:case 8:h=cd;break;case 32:h=As;break;case 268435456:h=t0;break;default:h=As}return g=c4.bind(null,s),h=Hr(h,g),s.callbackPriority=c,s.callbackNode=h,c}return g!==null&&g!==null&&Es(g),s.callbackPriority=2,s.callbackNode=null,2}function c4(s,c){if($r!==0&&$r!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(u1()&&s.callbackNode!==h)return null;var g=it;return g=za(s,s===zt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:($3(s,g,c),l4(s,Hn()),s.callbackNode!=null&&s.callbackNode===h?c4.bind(null,s):null)}function u4(s,c){if(u1())return null;$3(s,c,!0)}function WB(){aU(function(){(wt&6)!==0?Hr(ld,GB):s4()})}function Lx(){if(Xs===0){var s=Nu;s===0&&(s=Fa,Fa<<=1,(Fa&261888)===0&&(Fa=256)),Xs=s}return Xs}function f4(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yu(""+s)}function d4(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function KB(s,c,h,g,_){if(c==="submit"&&h&&h.stateNode===_){var E=f4((_[rn]||null).action),D=g.submitter;D&&(c=(c=D[rn]||null)?f4(c.formAction):D.getAttribute("formAction"),c!==null&&(E=c,D=null));var B=new Ja("action","action",null,g,_);s.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Xs!==0){var q=D?d4(_,D):new FormData(_);nx(h,{pending:!0,data:q,method:_.method,action:E},null,q)}}else typeof E=="function"&&(B.preventDefault(),q=D?d4(_,D):new FormData(_),nx(h,{pending:!0,data:q,method:_.method,action:E},E,q))},currentTarget:_}]})}}for(var Bx=0;Bx<_y.length;Bx++){var Ux=_y[Bx],XB=Ux.toLowerCase(),YB=Ux[0].toUpperCase()+Ux.slice(1);Ta(XB,"on"+YB)}Ta(HT,"onAnimationEnd"),Ta($T,"onAnimationIteration"),Ta(qT,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(dB,"onTransitionRun"),Ta(hB,"onTransitionStart"),Ta(pB,"onTransitionCancel"),Ta(GT,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function h4(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],_=g.event;g=g.listeners;e:{var E=void 0;if(c)for(var D=g.length-1;0<=D;D--){var B=g[D],q=B.instance,J=B.currentTarget;if(B=B.listener,q!==E&&_.isPropagationStopped())break e;E=B,_.currentTarget=J;try{E(_)}catch(se){C0(se)}_.currentTarget=null,E=q}else for(D=0;D<g.length;D++){if(B=g[D],q=B.instance,J=B.currentTarget,B=B.listener,q!==E&&_.isPropagationStopped())break e;E=B,_.currentTarget=J;try{E(_)}catch(se){C0(se)}_.currentTarget=null,E=q}}}}function et(s,c){var h=c[hu];h===void 0&&(h=c[hu]=new Set);var g=s+"__bubble";h.has(g)||(p4(c,s,2,!1),h.add(g))}function Fx(s,c,h){var g=0;c&&(g|=4),p4(h,s,g,c)}var h1="_reactListening"+Math.random().toString(36).slice(2);function Vx(s){if(!s[h1]){s[h1]=!0,dd.forEach(function(h){h!=="selectionchange"&&(QB.has(h)||Fx(h,!1,s),Fx(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[h1]||(c[h1]=!0,Fx("selectionchange",!1,c))}}function p4(s,c,h,g){switch(H4(c)){case 2:var _=SU;break;case 8:_=TU;break;default:_=r2}h=_.bind(null,c,h,s),_=void 0,!tc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(c,h,{capture:!0,passive:_}):s.addEventListener(c,h,!0):_!==void 0?s.addEventListener(c,h,{passive:_}):s.addEventListener(c,h,!1)}function zx(s,c,h,g,_){var E=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var B=g.stateNode.containerInfo;if(B===_)break;if(D===4)for(D=g.return;D!==null;){var q=D.tag;if((q===3||q===4)&&D.stateNode.containerInfo===_)return;D=D.return}for(;B!==null;){if(D=Ga(B),D===null)return;if(q=D.tag,q===5||q===6||q===26||q===27){g=E=D;continue e}B=B.parentNode}}g=g.return}Rs(function(){var J=E,se=zi(h),ue=[];e:{var te=WT.get(s);if(te!==void 0){var ae=Ja,Se=s;switch(s){case"keypress":if(nc(h)===0)break e;case"keydown":case"keyup":ae=A0;break;case"focusin":Se="focus",ae=ac;break;case"focusout":Se="blur",ae=ac;break;case"beforeblur":case"afterblur":ae=ac;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=T;break;case HT:case $T:case qT:ae=m0;break;case GT:ae=V;break;case"scroll":case"scrollend":ae=Ad;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Po;break;case"toggle":case"beforetoggle":ae=Ge}var Be=(c&4)!==0,Ut=!Be&&(s==="scroll"||s==="scrollend"),K=Be?te!==null?te+"Capture":null:te;Be=[];for(var W=J,Z;W!==null;){var le=W;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||K===null||(le=wa(W,K),le!=null&&Be.push(th(W,le,Z))),Ut)break;W=W.return}0<Be.length&&(te=new ae(te,Se,null,h,se),ue.push({event:te,listeners:Be}))}}if((c&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",te&&h!==bd&&(Se=h.relatedTarget||h.fromElement)&&(Ga(Se)||Se[$a]))break e;if((ae||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Se=h.relatedTarget||h.toElement,ae=J,Se=Se?Ga(Se):null,Se!==null&&(Ut=a(Se),Be=Se.tag,Se!==Ut||Be!==5&&Be!==27&&Be!==6)&&(Se=null)):(ae=null,Se=J),ae!==Se)){if(Be=Sd,le="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Po,le="onPointerLeave",K="onPointerEnter",W="pointer"),Ut=ae==null?te:yi(ae),Z=Se==null?te:yi(Se),te=new Be(le,W+"leave",ae,h,se),te.target=Ut,te.relatedTarget=Z,le=null,Ga(se)===J&&(Be=new Be(K,W+"enter",Se,h,se),Be.target=Z,Be.relatedTarget=Ut,le=Be),Ut=le,ae&&Se)t:{for(Be=ZB,K=ae,W=Se,Z=0,le=K;le;le=Be(le))Z++;le=0;for(var Ne=W;Ne;Ne=Be(Ne))le++;for(;0<Z-le;)K=Be(K),Z--;for(;0<le-Z;)W=Be(W),le--;for(;Z--;){if(K===W||W!==null&&K===W.alternate){Be=K;break t}K=Be(K),W=Be(W)}Be=null}else Be=null;ae!==null&&g4(ue,te,ae,Be,!1),Se!==null&&Ut!==null&&g4(ue,Ut,Se,Be,!0)}}e:{if(te=J?yi(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var gt=DT;else if(RT(te))if(NT)gt=cB;else{gt=sB;var Oe=oB}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&mu(J.elementType)&&(gt=DT):gt=lB;if(gt&&(gt=gt(s,J))){PT(ue,gt,h,se);break e}Oe&&Oe(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&yd(te,"number",te.value)}switch(Oe=J?yi(J):window,s){case"focusin":(RT(Oe)||Oe.contentEditable==="true")&&(Su=Oe,my=J,Rd=null);break;case"focusout":Rd=my=Su=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,VT(ue,h,se);break;case"selectionchange":if(fB)break;case"keydown":case"keyup":VT(ue,h,se)}var Ke;if(bt)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Au?oc(s,h)&&(at="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(at="onCompositionStart");at&&(ro&&h.locale!=="ko"&&(Au||at!=="onCompositionStart"?at==="onCompositionEnd"&&Au&&(Ke=Ed()):(Za=se,wd="value"in Za?Za.value:Za.textContent,Au=!0)),Oe=p1(J,at),0<Oe.length&&(at=new to(at,s,null,h,se),ue.push({event:at,listeners:Oe}),Ke?at.data=Ke:(Ke=Eu(h),Ke!==null&&(at.data=Ke)))),(Ke=$i?rB(s,h):nB(s,h))&&(at=p1(J,"onBeforeInput"),0<at.length&&(Oe=new to("onBeforeInput","beforeinput",null,h,se),ue.push({event:Oe,listeners:at}),Oe.data=Ke)),KB(ue,s,J,h,se)}h4(ue,c)})}function th(s,c,h){return{instance:s,listener:c,currentTarget:h}}function p1(s,c){for(var h=c+"Capture",g=[];s!==null;){var _=s,E=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||E===null||(_=wa(s,h),_!=null&&g.unshift(th(s,_,E)),_=wa(s,c),_!=null&&g.push(th(s,_,E))),s.tag===3)return g;s=s.return}return[]}function ZB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function g4(s,c,h,g,_){for(var E=c._reactName,D=[];h!==null&&h!==g;){var B=h,q=B.alternate,J=B.stateNode;if(B=B.tag,q!==null&&q===g)break;B!==5&&B!==26&&B!==27||J===null||(q=J,_?(J=wa(h,E),J!=null&&D.unshift(th(h,J,q))):_||(J=wa(h,E),J!=null&&D.push(th(h,J,q)))),h=h.return}D.length!==0&&s.push({event:c,listeners:D})}var JB=/\r\n?/g,eU=/\u0000|\uFFFD/g;function v4(s){return(typeof s=="string"?s:""+s).replace(JB,`
`).replace(eU,"")}function m4(s,c){return c=v4(c),v4(s)===c}function Bt(s,c,h,g,_,E){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ti(s,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ti(s,""+g);break;case"className":xi(s,"class",g);break;case"tabIndex":xi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(s,h,g);break;case"style":_d(s,g,E);break;case"data":if(c!=="object"){xi(s,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=yu(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&Bt(s,c,"name",_.name,_,null),Bt(s,c,"formEncType",_.formEncType,_,null),Bt(s,c,"formMethod",_.formMethod,_,null),Bt(s,c,"formTarget",_.formTarget,_,null)):(Bt(s,c,"encType",_.encType,_,null),Bt(s,c,"method",_.method,_,null),Bt(s,c,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=yu(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=ba);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=yu(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":et("beforetoggle",s),et("toggle",s),gu(s,"popover",g);break;case"xlinkActuate":Pr(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Pr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Pr(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Pr(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Pr(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Pr(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Pr(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Pr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Pr(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gu(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=p0.get(h)||h,gu(s,h,g))}}function Hx(s,c,h,g,_,E){switch(h){case"style":_d(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"children":typeof g=="string"?ti(s,g):(typeof g=="number"||typeof g=="bigint")&&ti(s,""+g);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"onClick":g!=null&&(s.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),E=s[rn]||null,E=E!=null?E[h]:null,typeof E=="function"&&s.removeEventListener(c,E,_),typeof g=="function")){typeof E!="function"&&E!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,g,_);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):gu(s,h,g)}}}function _n(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var g=!1,_=!1,E;for(E in h)if(h.hasOwnProperty(E)){var D=h[E];if(D!=null)switch(E){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Bt(s,c,E,D,h,null)}}_&&Bt(s,c,"srcSet",h.srcSet,h,null),g&&Bt(s,c,"src",h.src,h,null);return;case"input":et("invalid",s);var B=E=D=_=null,q=null,J=null;for(g in h)if(h.hasOwnProperty(g)){var se=h[g];if(se!=null)switch(g){case"name":_=se;break;case"type":D=se;break;case"checked":q=se;break;case"defaultChecked":J=se;break;case"value":E=se;break;case"defaultValue":B=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,c));break;default:Bt(s,c,g,se,h,null)}}f0(s,E,B,q,J,D,_,!1);return;case"select":et("invalid",s),g=D=E=null;for(_ in h)if(h.hasOwnProperty(_)&&(B=h[_],B!=null))switch(_){case"value":E=B;break;case"defaultValue":D=B;break;case"multiple":g=B;default:Bt(s,c,_,B,h,null)}c=E,h=D,s.multiple=!!g,c!=null?Ts(s,!!g,c,!1):h!=null&&Ts(s,!!g,h,!0);return;case"textarea":et("invalid",s),E=_=g=null;for(D in h)if(h.hasOwnProperty(D)&&(B=h[D],B!=null))switch(D){case"value":g=B;break;case"defaultValue":_=B;break;case"children":E=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:Bt(s,c,D,B,h,null)}Cs(s,g,_,E);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(g=h[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Bt(s,c,q,g,h,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(g=0;g<eh.length;g++)et(eh[g],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in h)if(h.hasOwnProperty(J)&&(g=h[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Bt(s,c,J,g,h,null)}return;default:if(mu(c)){for(se in h)h.hasOwnProperty(se)&&(g=h[se],g!==void 0&&Hx(s,c,se,g,h,void 0));return}}for(B in h)h.hasOwnProperty(B)&&(g=h[B],g!=null&&Bt(s,c,B,g,h,null))}function tU(s,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,D=null,B=null,q=null,J=null,se=null;for(ae in h){var ue=h[ae];if(h.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=ue;default:g.hasOwnProperty(ae)||Bt(s,c,ae,null,g,ue)}}for(var te in g){var ae=g[te];if(ue=h[te],g.hasOwnProperty(te)&&(ae!=null||ue!=null))switch(te){case"type":E=ae;break;case"name":_=ae;break;case"checked":J=ae;break;case"defaultChecked":se=ae;break;case"value":D=ae;break;case"defaultValue":B=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,c));break;default:ae!==ue&&Bt(s,c,te,ae,g,ue)}}vu(s,D,B,q,J,se,E,_);return;case"select":ae=D=B=te=null;for(E in h)if(q=h[E],h.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":ae=q;default:g.hasOwnProperty(E)||Bt(s,c,E,null,g,q)}for(_ in g)if(E=g[_],q=h[_],g.hasOwnProperty(_)&&(E!=null||q!=null))switch(_){case"value":te=E;break;case"defaultValue":B=E;break;case"multiple":D=E;default:E!==q&&Bt(s,c,_,E,g,q)}c=B,h=D,g=ae,te!=null?Ts(s,!!h,te,!1):!!g!=!!h&&(c!=null?Ts(s,!!h,c,!0):Ts(s,!!h,h?[]:"",!1));return;case"textarea":ae=te=null;for(B in h)if(_=h[B],h.hasOwnProperty(B)&&_!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Bt(s,c,B,null,g,_)}for(D in g)if(_=g[D],E=h[D],g.hasOwnProperty(D)&&(_!=null||E!=null))switch(D){case"value":te=_;break;case"defaultValue":ae=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:_!==E&&Bt(s,c,D,_,g,E)}d0(s,te,ae);return;case"option":for(var Se in h)if(te=h[Se],h.hasOwnProperty(Se)&&te!=null&&!g.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:Bt(s,c,Se,null,g,te)}for(q in g)if(te=g[q],ae=h[q],g.hasOwnProperty(q)&&te!==ae&&(te!=null||ae!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Bt(s,c,q,te,g,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in h)te=h[Be],h.hasOwnProperty(Be)&&te!=null&&!g.hasOwnProperty(Be)&&Bt(s,c,Be,null,g,te);for(J in g)if(te=g[J],ae=h[J],g.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,c));break;default:Bt(s,c,J,te,g,ae)}return;default:if(mu(c)){for(var Ut in h)te=h[Ut],h.hasOwnProperty(Ut)&&te!==void 0&&!g.hasOwnProperty(Ut)&&Hx(s,c,Ut,void 0,g,te);for(se in g)te=g[se],ae=h[se],!g.hasOwnProperty(se)||te===ae||te===void 0&&ae===void 0||Hx(s,c,se,te,g,ae);return}}for(var K in h)te=h[K],h.hasOwnProperty(K)&&te!=null&&!g.hasOwnProperty(K)&&Bt(s,c,K,null,g,te);for(ue in g)te=g[ue],ae=h[ue],!g.hasOwnProperty(ue)||te===ae||te==null&&ae==null||Bt(s,c,ue,te,g,ae)}function y4(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rU(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],E=_.transferSize,D=_.initiatorType,B=_.duration;if(E&&B&&y4(D)){for(D=0,B=_.responseEnd,g+=1;g<h.length;g++){var q=h[g],J=q.startTime;if(J>B)break;var se=q.transferSize,ue=q.initiatorType;se&&y4(ue)&&(q=q.responseEnd,D+=se*(q<B?1:(B-J)/(q-J)))}if(--g,c+=8*(E+D)/(_.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var $x=null,qx=null;function g1(s){return s.nodeType===9?s:s.ownerDocument}function x4(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _4(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Gx(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Wx=null;function nU(){var s=window.event;return s&&s.type==="popstate"?s===Wx?!1:(Wx=s,!0):(Wx=null,!1)}var b4=typeof setTimeout=="function"?setTimeout:void 0,iU=typeof clearTimeout=="function"?clearTimeout:void 0,w4=typeof Promise=="function"?Promise:void 0,aU=typeof queueMicrotask=="function"?queueMicrotask:typeof w4<"u"?function(s){return w4.resolve(null).then(s).catch(oU)}:b4;function oU(s){setTimeout(function(){throw s})}function Ys(s){return s==="head"}function E4(s,c){var h=c,g=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(_),Zu(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")rh(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,rh(h);for(var E=h.firstChild;E;){var D=E.nextSibling,B=E.nodeName;E[qa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=D}}else h==="body"&&rh(s.ownerDocument.body);h=_}while(h);Zu(c)}function A4(s,c){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function Kx(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Kx(h),pu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function sU(s,c,h,g){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[qa])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Qi(s.nextSibling),s===null)break}return null}function lU(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Qi(s.nextSibling),s===null))return null;return s}function S4(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Qi(s.nextSibling),s===null))return null;return s}function Xx(s){return s.data==="$?"||s.data==="$~"}function Yx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cU(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Qi(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Qx=null;function T4(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return Qi(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function C4(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function I4(s,c,h){switch(c=g1(h),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function rh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);pu(s)}var Zi=new Map,O4=new Set;function v1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Go=ne.d;ne.d={f:uU,r:fU,D:dU,C:hU,L:pU,m:gU,X:mU,S:vU,M:yU};function uU(){var s=Go.f(),c=s1();return s||c}function fU(s){var c=Vi(s);c!==null&&c.tag===5&&c.type==="form"?GC(c):Go.r(s)}var Xu=typeof document>"u"?null:document;function R4(s,c,h){var g=Xu;if(g&&typeof c=="string"&&c){var _=ei(c);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),O4.has(_)||(O4.add(_),s={rel:s,crossOrigin:h,href:c},g.querySelector(_)===null&&(c=g.createElement("link"),_n(c,"link",s),Rr(c),g.head.appendChild(c)))}}function dU(s){Go.D(s),R4("dns-prefetch",s,null)}function hU(s,c){Go.C(s,c),R4("preconnect",s,c)}function pU(s,c,h){Go.L(s,c,h);var g=Xu;if(g&&s&&c){var _='link[rel="preload"][as="'+ei(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+ei(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+ei(h.imageSizes)+'"]')):_+='[href="'+ei(s)+'"]';var E=_;switch(c){case"style":E=Yu(s);break;case"script":E=Qu(s)}Zi.has(E)||(s=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),Zi.set(E,s),g.querySelector(_)!==null||c==="style"&&g.querySelector(nh(E))||c==="script"&&g.querySelector(ih(E))||(c=g.createElement("link"),_n(c,"link",s),Rr(c),g.head.appendChild(c)))}}function gU(s,c){Go.m(s,c);var h=Xu;if(h&&s){var g=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+ei(g)+'"][href="'+ei(s)+'"]',E=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Qu(s)}if(!Zi.has(E)&&(s=p({rel:"modulepreload",href:s},c),Zi.set(E,s),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ih(E)))return}g=h.createElement("link"),_n(g,"link",s),Rr(g),h.head.appendChild(g)}}}function vU(s,c,h){Go.S(s,c,h);var g=Xu;if(g&&s){var _=Wa(g).hoistableStyles,E=Yu(s);c=c||"default";var D=_.get(E);if(!D){var B={loading:0,preload:null};if(D=g.querySelector(nh(E)))B.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},h),(h=Zi.get(E))&&Zx(s,h);var q=D=g.createElement("link");Rr(q),_n(q,"link",s),q._p=new Promise(function(J,se){q.onload=J,q.onerror=se}),q.addEventListener("load",function(){B.loading|=1}),q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,m1(D,c,g)}D={type:"stylesheet",instance:D,count:1,state:B},_.set(E,D)}}}function mU(s,c){Go.X(s,c);var h=Xu;if(h&&s){var g=Wa(h).hoistableScripts,_=Qu(s),E=g.get(_);E||(E=h.querySelector(ih(_)),E||(s=p({src:s,async:!0},c),(c=Zi.get(_))&&Jx(s,c),E=h.createElement("script"),Rr(E),_n(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(_,E))}}function yU(s,c){Go.M(s,c);var h=Xu;if(h&&s){var g=Wa(h).hoistableScripts,_=Qu(s),E=g.get(_);E||(E=h.querySelector(ih(_)),E||(s=p({src:s,async:!0,type:"module"},c),(c=Zi.get(_))&&Jx(s,c),E=h.createElement("script"),Rr(E),_n(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(_,E))}}function P4(s,c,h,g){var _=(_=qe.current)?v1(_):null;if(!_)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Yu(h.href),h=Wa(_).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Yu(h.href);var E=Wa(_).hoistableStyles,D=E.get(s);if(D||(_=_.ownerDocument||_,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,D),(E=_.querySelector(nh(s)))&&!E._p&&(D.instance=E,D.state.loading=5),Zi.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Zi.set(s,h),E||xU(_,s,h,D.state))),c&&g===null)throw Error(n(528,""));return D}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Qu(h),h=Wa(_).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Yu(s){return'href="'+ei(s)+'"'}function nh(s){return'link[rel="stylesheet"]['+s+"]"}function D4(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function xU(s,c,h,g){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=s.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),_n(c,"link",h),Rr(c),s.head.appendChild(c))}function Qu(s){return'[src="'+ei(s)+'"]'}function ih(s){return"script[async]"+s}function N4(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=s.querySelector('style[data-href~="'+ei(h.href)+'"]');if(g)return c.instance=g,Rr(g),g;var _=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Rr(g),_n(g,"style",_),m1(g,h.precedence,s),c.instance=g;case"stylesheet":_=Yu(h.href);var E=s.querySelector(nh(_));if(E)return c.state.loading|=4,c.instance=E,Rr(E),E;g=D4(h),(_=Zi.get(_))&&Zx(g,_),E=(s.ownerDocument||s).createElement("link"),Rr(E);var D=E;return D._p=new Promise(function(B,q){D.onload=B,D.onerror=q}),_n(E,"link",g),c.state.loading|=4,m1(E,h.precedence,s),c.instance=E;case"script":return E=Qu(h.src),(_=s.querySelector(ih(E)))?(c.instance=_,Rr(_),_):(g=h,(_=Zi.get(E))&&(g=p({},h),Jx(g,_)),s=s.ownerDocument||s,_=s.createElement("script"),Rr(_),_n(_,"link",g),s.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,m1(g,h.precedence,s));return c.instance}function m1(s,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,E=_,D=0;D<g.length;D++){var B=g[D];if(B.dataset.precedence===c)E=B;else if(E!==_)break}E?E.parentNode.insertBefore(s,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function Zx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Jx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var y1=null;function M4(s,c,h){if(y1===null){var g=new Map,_=y1=new Map;_.set(h,g)}else _=y1,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var E=h[_];if(!(E[qa]||E[Or]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var D=E.getAttribute(c)||"";D=s+D;var B=g.get(D);B?B.push(E):g.set(D,[E])}}return g}function k4(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function _U(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function j4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function bU(s,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Yu(g.href),E=c.querySelector(nh(_));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=x1.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=E,Rr(E);return}E=c.ownerDocument||c,g=D4(g),(_=Zi.get(_))&&Zx(g,_),E=E.createElement("link"),Rr(E);var D=E;D._p=new Promise(function(B,q){D.onload=B,D.onerror=q}),_n(E,"link",g),h.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=x1.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var e2=0;function wU(s,c){return s.stylesheets&&s.count===0&&b1(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&b1(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+c);0<s.imgBytes&&e2===0&&(e2=62500*rU());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&b1(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>e2?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function x1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)b1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var _1=null;function b1(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,_1=new Map,c.forEach(EU,s),_1=null,x1.call(s))}function EU(s,c){if(!(c.state.loading&4)){var h=_1.get(s);if(h)var g=h.get(null);else{h=new Map,_1.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<_.length;E++){var D=_[E];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),g=D)}g&&h.set(null,g)}_=c.instance,D=_.getAttribute("data-precedence"),E=h.get(D)||g,E===g&&h.set(null,_),h.set(D,_),this.count++,g=x1.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),E?E.parentNode.insertBefore(_,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),c.state.loading|=4}}var ah={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AU(s,c,h,g,_,E,D,B,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function L4(s,c,h,g,_,E,D,B,q,J,se,ue){return s=new AU(s,c,h,D,q,J,se,ue,B),c=1,E===!0&&(c|=24),E=bi(3,null,null,c),s.current=E,E.stateNode=s,c=Ny(),c.refCount++,s.pooledCache=c,c.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:c},Ly(E),s}function B4(s){return s?(s=Iu,s):Iu}function U4(s,c,h,g,_,E){_=B4(_),g.context===null?g.context=_:g.pendingContext=_,g=Us(c),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=Fs(s,g,c),h!==null&&(oi(h,s,c),Ld(h,s,c))}function F4(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function t2(s,c){F4(s,c),(s=s.alternate)&&F4(s,c)}function V4(s){if(s.tag===13||s.tag===31){var c=cc(s,67108864);c!==null&&oi(c,s,67108864),t2(s,67108864)}}function z4(s){if(s.tag===13||s.tag===31){var c=Ti();c=Ql(c);var h=cc(s,c);h!==null&&oi(h,s,c),t2(s,c)}}var w1=!0;function SU(s,c,h,g){var _=X.T;X.T=null;var E=ne.p;try{ne.p=2,r2(s,c,h,g)}finally{ne.p=E,X.T=_}}function TU(s,c,h,g){var _=X.T;X.T=null;var E=ne.p;try{ne.p=8,r2(s,c,h,g)}finally{ne.p=E,X.T=_}}function r2(s,c,h,g){if(w1){var _=n2(g);if(_===null)zx(s,c,g,E1,h),$4(s,g);else if(IU(_,s,c,h,g))g.stopPropagation();else if($4(s,g),c&4&&-1<CU.indexOf(s)){for(;_!==null;){var E=Vi(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var D=Va(E.pendingLanes);if(D!==0){var B=E;for(B.pendingLanes|=2,B.entangledLanes|=2;D;){var q=1<<31-_r(D);B.entanglements[1]|=q,D&=~q}oo(E),(wt&6)===0&&(a1=Hn()+500,Jd(0))}}break;case 31:case 13:B=cc(E,2),B!==null&&oi(B,E,2),s1(),t2(E,2)}if(E=n2(g),E===null&&zx(s,c,g,E1,h),E===_)break;_=E}_!==null&&g.stopPropagation()}else zx(s,c,g,null,h)}}function n2(s){return s=zi(s),i2(s)}var E1=null;function i2(s){if(E1=null,s=Ga(s),s!==null){var c=a(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=o(c),s!==null)return s;s=null}else if(h===31){if(s=l(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return E1=s,null}function H4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case ld:return 2;case cd:return 8;case As:case uy:return 32;case t0:return 268435456;default:return 32}default:return 32}}var a2=!1,Qs=null,Zs=null,Js=null,oh=new Map,sh=new Map,el=[],CU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $4(s,c){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":oh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(c.pointerId)}}function lh(s,c,h,g,_,E){return s===null||s.nativeEvent!==E?(s={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[_]},c!==null&&(c=Vi(c),c!==null&&V4(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),s)}function IU(s,c,h,g,_){switch(c){case"focusin":return Qs=lh(Qs,s,c,h,g,_),!0;case"dragenter":return Zs=lh(Zs,s,c,h,g,_),!0;case"mouseover":return Js=lh(Js,s,c,h,g,_),!0;case"pointerover":var E=_.pointerId;return oh.set(E,lh(oh.get(E)||null,s,c,h,g,_)),!0;case"gotpointercapture":return E=_.pointerId,sh.set(E,lh(sh.get(E)||null,s,c,h,g,_)),!0}return!1}function q4(s){var c=Ga(s.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){s.blockedOn=c,xa(s.priority,function(){z4(h)});return}}else if(c===31){if(c=l(h),c!==null){s.blockedOn=c,xa(s.priority,function(){z4(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function A1(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=n2(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);bd=g,h.target.dispatchEvent(g),bd=null}else return c=Vi(h),c!==null&&V4(c),s.blockedOn=h,!1;c.shift()}return!0}function G4(s,c,h){A1(s)&&h.delete(c)}function OU(){a2=!1,Qs!==null&&A1(Qs)&&(Qs=null),Zs!==null&&A1(Zs)&&(Zs=null),Js!==null&&A1(Js)&&(Js=null),oh.forEach(G4),sh.forEach(G4)}function S1(s,c){s.blockedOn===c&&(s.blockedOn=null,a2||(a2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OU)))}var T1=null;function W4(s){T1!==s&&(T1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){T1===s&&(T1=null);for(var c=0;c<s.length;c+=3){var h=s[c],g=s[c+1],_=s[c+2];if(typeof g!="function"){if(i2(g||h)===null)continue;break}var E=Vi(h);E!==null&&(s.splice(c,3),c-=3,nx(E,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function Zu(s){function c(q){return S1(q,s)}Qs!==null&&S1(Qs,s),Zs!==null&&S1(Zs,s),Js!==null&&S1(Js,s),oh.forEach(c),sh.forEach(c);for(var h=0;h<el.length;h++){var g=el[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<el.length&&(h=el[0],h.blockedOn===null);)q4(h),h.blockedOn===null&&el.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],E=h[g+1],D=_[rn]||null;if(typeof E=="function")D||W4(h);else if(D){var B=null;if(E&&E.hasAttribute("formAction")){if(_=E,D=E[rn]||null)B=D.formAction;else if(i2(_)!==null)continue}else B=D.action;typeof B=="function"?h[g+1]=B:(h.splice(g,3),g-=3),W4(h)}}}function K4(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(D){return _=D})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function o2(s){this._internalRoot=s}C1.prototype.render=o2.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=Ti();U4(h,g,s,c,null,null)},C1.prototype.unmount=o2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;U4(s.current,2,null,s,null,null),s1(),c[$a]=null}};function C1(s){this._internalRoot=s}C1.prototype.unstable_scheduleHydration=function(s){if(s){var c=s0();s={blockedOn:null,target:s,priority:c};for(var h=0;h<el.length&&c!==0&&c<el[h].priority;h++);el.splice(h,0,s),h===0&&q4(s)}};var X4=e.version;if(X4!=="19.2.0")throw Error(n(527,X4,"19.2.0"));ne.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(c),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var RU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I1.isDisabled&&I1.supportsFiber)try{ma=I1.inject(RU),gn=I1}catch{}}return uh.createRoot=function(s,c){if(!i(s))throw Error(n(299));var h=!1,g="",_=r3,E=n3,D=i3;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=L4(s,1,!1,null,null,h,g,null,_,E,D,K4),s[$a]=c.current,Vx(s),new o2(c)},uh.hydrateRoot=function(s,c,h){if(!i(s))throw Error(n(299));var g=!1,_="",E=r3,D=n3,B=i3,q=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),c=L4(s,1,!0,c,h??null,g,_,q,E,D,B,K4),c.context=B4(null),h=c.current,g=Ti(),g=Ql(g),_=Us(g),_.callback=null,Fs(h,_,g),h=g,c.current.lanes=h,Xl(c,h),oo(c),s[$a]=c.current,Vx(s),new C1(c)},uh.version="19.2.0",uh}var aI;function VU(){if(aI)return c2.exports;aI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c2.exports=FU(),c2.exports}var zU=VU();const HU=wo(zU),$U=({title:t})=>x.jsx("header",{children:t});var HD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oI=Un.createContext&&Un.createContext(HD),qU=["attr","size","title"];function GU(t,e){if(t==null)return{};var r=WU(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function sI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(r),!0).forEach(function(n){KU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KU(t,e,r){return e=XU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XU(t){var e=YU(t,"string");return typeof e=="symbol"?e:e+""}function YU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $D(t){return t&&t.map((e,r)=>Un.createElement(e.tag,Sg({key:r},e.attr),$D(e.child)))}function Te(t){return e=>Un.createElement(QU,Ag({attr:Sg({},t.attr)},e),$D(t.child))}function QU(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=GU(t,qU),l=i||r.size||"1em",u;return r.className&&(u=r.className),t.className&&(u=(u?u+" ":"")+t.className),Un.createElement("svg",Ag({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Sg(Sg({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Un.createElement("title",null,a),t.children)};return oI!==void 0?Un.createElement(oI.Consumer,null,r=>e(r)):e(HD)}function ZU(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function JU(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function Vv(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function eF(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function tF(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function zv(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function Hv(t){return Te({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function rF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"},child:[]}]})(t)}function nF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function $v(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function qv(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function iF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Uf(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function aF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function qD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(t)}function GD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(t)}function oF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function sF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function vl(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function lF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function cF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function WD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function uF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Gv(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function fF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function KD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function XD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function YD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function dF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"},child:[]}]})(t)}function hF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function QD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(t)}function Wv(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function pF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function Tg(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function mf(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function gF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"},child:[]}]})(t)}function eE(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function vF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(t)}function mF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function yF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function xF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function Cg(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function Gh(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function _F(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function bF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function wF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function Ig(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function tE(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function Kv(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function h2(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function EF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function AF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function ZD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function yf(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function SF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(t)}function TF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94A5.01 5.01 0 0 0 11 15.9V19H7v2h10v-2h-4v-3.1a5.01 5.01 0 0 0 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"},child:[]}]})(t)}function JD(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function Wh(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function e5(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function CF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function IF(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function mb(t){return Te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const OF=({currentScreen:t,onNavigate:e})=>{const r=[{screen:"home",icon:x.jsx(eF,{size:24}),label:"ホーム"},{screen:"meals",icon:x.jsx(tE,{size:24}),label:"食事"},{screen:"barcode",icon:x.jsx(JU,{size:24}),label:"スキャン"},{screen:"report",icon:x.jsx(ZU,{size:24}),label:"レポート"},{screen:"social",icon:x.jsx(JD,{size:24}),label:"ソーシャル"},{screen:"settings",icon:x.jsx(tF,{size:24}),label:"設定"}];return x.jsx("nav",{id:"bottomNav",children:r.map(n=>x.jsxs("button",{className:`nav-item ${t===n.screen?"active":""}`,onClick:()=>e(n.screen),children:[x.jsx("span",{children:n.icon}),x.jsx("span",{children:n.label})]},n.screen))})},lI=t=>{let e;const r=new Set,n=(f,d)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(m=>m(e,v))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f))},u=e=t(n,i,l);return l},RF=(t=>t?lI(t):lI),PF=t=>t;function DF(t,e=PF){const r=Un.useSyncExternalStore(t.subscribe,Un.useCallback(()=>e(t.getState()),[t,e]),Un.useCallback(()=>e(t.getInitialState()),[t,e]));return Un.useDebugValue(r),r}const cI=t=>{const e=RF(t),r=n=>DF(e,n);return Object.assign(r,e),r},nu=(t=>t?cI(t):cI);function Sl(t,e){try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`localStorage取得エラー (${t}):`,r),e}}function kt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`localStorage保存エラー (${t}):`,r)}}const tt={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings",BADGES:"app-badges"},bn=[];for(let t=0;t<256;++t)bn.push((t+256).toString(16).slice(1));function NF(t,e=0){return(bn[t[e+0]]+bn[t[e+1]]+bn[t[e+2]]+bn[t[e+3]]+"-"+bn[t[e+4]]+bn[t[e+5]]+"-"+bn[t[e+6]]+bn[t[e+7]]+"-"+bn[t[e+8]]+bn[t[e+9]]+"-"+bn[t[e+10]]+bn[t[e+11]]+bn[t[e+12]]+bn[t[e+13]]+bn[t[e+14]]+bn[t[e+15]]).toLowerCase()}let p2;const MF=new Uint8Array(16);function kF(){if(!p2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");p2=crypto.getRandomValues.bind(crypto)}return p2(MF)}const jF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uI={randomUUID:jF};function LF(t,e,r){t=t||{};const n=t.random??t.rng?.()??kF();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,NF(n)}function BF(t,e,r){return uI.randomUUID&&!t?uI.randomUUID():LF(t)}function ml(){return BF()}const UF=()=>{};var fI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},FF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},r5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,d=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;u||(m=64,o||(v=64)),n.push(r[d],r[p],r[v],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new VF;const v=a<<2|l>>4;if(n.push(v),f!==64){const m=l<<4&240|f>>2;if(n.push(m),p!==64){const b=f<<6&192|p;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zF=function(t){const e=t5(t);return r5.encodeByteArray(e,!0)},Og=function(t){return zF(t).replace(/\./g,"")},n5=function(t){try{return r5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=()=>HF().__FIREBASE_DEFAULTS__,qF=()=>{if(typeof process>"u"||typeof fI>"u")return;const t=fI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n5(t[1]);return e&&JSON.parse(e)},Xv=()=>{try{return UF()||$F()||qF()||GF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i5=t=>Xv()?.emulatorHosts?.[t],rE=t=>{const e=i5(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},a5=()=>Xv()?.config,o5=t=>Xv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Og(JSON.stringify(r)),Og(JSON.stringify(o)),""].join(".")}const Lh={};function KF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lh))Lh[e]?t.emulator.push(e):t.prod.push(e);return t}function XF(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let dI=!1;function Qv(t,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Lh[t]===e||Lh[t]||dI)return;Lh[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=KF().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dI=!0,o()},v}function d(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=XF(n),m=r("text"),b=document.getElementById(m)||document.createElement("span"),w=r("learnmore"),A=document.getElementById(w)||document.createElement("a"),S=r("preprendIcon"),O=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const I=v.element;l(I),d(A,w);const R=f();u(O,S),I.append(O,b,A,R),document.body.appendChild(I)}a?(b.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function QF(){const t=Xv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tV(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rV(){return!QF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nV(){try{return typeof indexedDB=="object"}catch{return!1}}function iV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="FirebaseError";class Ba extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=aV,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vp.prototype.create)}}class vp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?oV(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ba(i,l,n)}}function oV(t,e){return t.replace(sV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const sV=/\{\$([^}]+)}/g;function lV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(hI(a)&&hI(o)){if(!qc(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function hI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function cV(t,e){const r=new uV(t,e);return r.subscribe.bind(r)}class uV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");fV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=g2),i.error===void 0&&(i.error=g2),i.complete===void 0&&(i.complete=g2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function g2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dV=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new WF;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pV(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:hV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hV(t){return t===Sc?void 0:t}function pV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new dV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const vV={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},mV=ot.INFO,yV={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},xV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=yV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nE{constructor(e){this.name=e,this._logLevel=mV,this._logHandler=xV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const _V=(t,e)=>e.some(r=>t instanceof r);let pI,gI;function bV(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wV(){return gI||(gI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l5=new WeakMap,yb=new WeakMap,c5=new WeakMap,v2=new WeakMap,iE=new WeakMap;function EV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(yl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&l5.set(r,t)}).catch(()=>{}),iE.set(e,t),e}function AV(t){if(yb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});yb.set(t,e)}let xb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return yb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c5.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SV(t){xb=t(xb)}function TV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(m2(this),e,...r);return c5.set(n,e.sort?e.sort():[e]),yl(n)}:wV().includes(t)?function(...e){return t.apply(m2(this),e),yl(l5.get(this))}:function(...e){return yl(t.apply(m2(this),e))}}function CV(t){return typeof t=="function"?TV(t):(t instanceof IDBTransaction&&AV(t),_V(t,bV())?new Proxy(t,xb):t)}function yl(t){if(t instanceof IDBRequest)return EV(t);if(v2.has(t))return v2.get(t);const e=CV(t);return e!==t&&(v2.set(t,e),iE.set(e,t)),e}const m2=t=>iE.get(t);function IV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=yl(o);return n&&o.addEventListener("upgradeneeded",u=>{n(yl(o.result),u.oldVersion,u.newVersion,yl(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const OV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],y2=new Map;function vI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y2.get(e))return y2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=RV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||OV.includes(r)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&u.done]))[0]};return y2.set(e,a),a}SV(t=>({...t,get:(e,r,n)=>vI(e,r)||t.get(e,r,n),has:(e,r)=>!!vI(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function DV(t){return t.getComponent()?.type==="VERSION"}const _b="@firebase/app",mI="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new nE("@firebase/app"),NV="@firebase/app-compat",MV="@firebase/analytics-compat",kV="@firebase/analytics",jV="@firebase/app-check-compat",LV="@firebase/app-check",BV="@firebase/auth",UV="@firebase/auth-compat",FV="@firebase/database",VV="@firebase/data-connect",zV="@firebase/database-compat",HV="@firebase/functions",$V="@firebase/functions-compat",qV="@firebase/installations",GV="@firebase/installations-compat",WV="@firebase/messaging",KV="@firebase/messaging-compat",XV="@firebase/performance",YV="@firebase/performance-compat",QV="@firebase/remote-config",ZV="@firebase/remote-config-compat",JV="@firebase/storage",ez="@firebase/storage-compat",tz="@firebase/firestore",rz="@firebase/ai",nz="@firebase/firestore-compat",iz="firebase",az="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="[DEFAULT]",oz={[_b]:"fire-core",[NV]:"fire-core-compat",[kV]:"fire-analytics",[MV]:"fire-analytics-compat",[LV]:"fire-app-check",[jV]:"fire-app-check-compat",[BV]:"fire-auth",[UV]:"fire-auth-compat",[FV]:"fire-rtdb",[VV]:"fire-data-connect",[zV]:"fire-rtdb-compat",[HV]:"fire-fn",[$V]:"fire-fn-compat",[qV]:"fire-iid",[GV]:"fire-iid-compat",[WV]:"fire-fcm",[KV]:"fire-fcm-compat",[XV]:"fire-perf",[YV]:"fire-perf-compat",[QV]:"fire-rc",[ZV]:"fire-rc-compat",[JV]:"fire-gcs",[ez]:"fire-gcs-compat",[tz]:"fire-fst",[nz]:"fire-fst-compat",[rz]:"fire-vertex","fire-js":"fire-js",[iz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map,sz=new Map,wb=new Map;function yI(t,e){try{t.container.addComponent(e)}catch(r){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Tl(t){const e=t.name;if(wb.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;wb.set(e,t);for(const r of Rg.values())yI(r,t);for(const r of sz.values())yI(r,t);return!0}function yp(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new vp("app","Firebase",lz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=az;function u5(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:bb,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(r||(r=a5()),!r)throw xl.create("no-options");const a=Rg.get(i);if(a){if(qc(r,a.options)&&qc(n,a.config))return a;throw xl.create("duplicate-app",{appName:i})}const o=new gV(i);for(const u of wb.values())o.addComponent(u);const l=new cz(r,n,o);return Rg.set(i,l),l}function Zv(t=bb){const e=Rg.get(t);if(!e&&t===bb&&a5())return u5();if(!e)throw xl.create("no-app",{appName:t});return e}function la(t,e,r){let n=oz[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}Tl(new is(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="firebase-heartbeat-database",fz=1,Kh="firebase-heartbeat-store";let x2=null;function f5(){return x2||(x2=IV(uz,fz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(r){console.warn(r)}}}}).catch(t=>{throw xl.create("idb-open",{originalErrorMessage:t.message})})),x2}async function dz(t){try{const r=(await f5()).transaction(Kh),n=await r.objectStore(Kh).get(d5(t));return await r.done,n}catch(e){if(e instanceof Ba)as.warn(e.message);else{const r=xl.create("idb-get",{originalErrorMessage:e?.message});as.warn(r.message)}}}async function xI(t,e){try{const n=(await f5()).transaction(Kh,"readwrite");await n.objectStore(Kh).put(e,d5(t)),await n.done}catch(r){if(r instanceof Ba)as.warn(r.message);else{const n=xl.create("idb-set",{originalErrorMessage:r?.message});as.warn(n.message)}}}function d5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=1024,pz=30;class gz{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new mz(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=_I();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>pz){const i=yz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_I(),{heartbeatsToSend:r,unsentEntries:n}=vz(this._heartbeatsCache.heartbeats),i=Og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return as.warn(e),""}}}function _I(){return new Date().toISOString().substring(0,10)}function vz(t,e=hz){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),bI(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class mz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nV()?iV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await dz(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return xI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return xI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function bI(t){return Og(JSON.stringify({version:2,heartbeats:t})).length}function yz(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){Tl(new is("platform-logger",e=>new PV(e),"PRIVATE")),Tl(new is("heartbeat",e=>new gz(e),"PRIVATE")),la(_b,mI,t),la(_b,mI,"esm2020"),la("fire-js","")}xz("");var wI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,h5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function j(){}j.prototype=M.prototype,P.F=M.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(z,U,H){for(var F=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)F[pe-2]=arguments[pe];return M.prototype[U].apply(z,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,M,j){j||(j=0);const z=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)z[U]=M.charCodeAt(j++)|M.charCodeAt(j++)<<8|M.charCodeAt(j++)<<16|M.charCodeAt(j++)<<24;else for(U=0;U<16;++U)z[U]=M[j++]|M[j++]<<8|M[j++]<<16|M[j++]<<24;M=P.g[0],j=P.g[1],U=P.g[2];let H=P.g[3],F;F=M+(H^j&(U^H))+z[0]+3614090360&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[1]+3905402710&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[2]+606105819&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[3]+3250441966&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[4]+4118548399&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[5]+1200080426&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[6]+2821735955&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[7]+4249261313&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[8]+1770035416&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[9]+2336552879&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[10]+4294925233&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[11]+2304563134&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[12]+1804603682&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[13]+4254626195&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[14]+2792965006&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[15]+1236535329&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(U^H&(j^U))+z[1]+4129170786&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[6]+3225465664&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[11]+643717713&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[0]+3921069994&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[5]+3593408605&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[10]+38016083&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[15]+3634488961&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[4]+3889429448&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[9]+568446438&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[14]+3275163606&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[3]+4107603335&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[8]+1163531501&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[13]+2850285829&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[2]+4243563512&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[7]+1735328473&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[12]+2368359562&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(j^U^H)+z[5]+4294588738&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[8]+2272392833&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[11]+1839030562&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[14]+4259657740&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[1]+2763975236&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[4]+1272893353&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[7]+4139469664&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[10]+3200236656&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[13]+681279174&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[0]+3936430074&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[3]+3572445317&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[6]+76029189&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[9]+3654602809&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[12]+3873151461&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[15]+530742520&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[2]+3299628645&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(U^(j|~H))+z[0]+4096336452&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[7]+1126891415&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[14]+2878612391&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[5]+4237533241&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[12]+1700485571&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[3]+2399980690&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[10]+4293915773&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[1]+2240044497&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[8]+1873313359&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[15]+4264355552&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[6]+2734768916&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[13]+1309151649&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[4]+4149444226&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[11]+3174756917&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[2]+718787259&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+H&4294967295}n.prototype.v=function(P,M){M===void 0&&(M=P.length);const j=M-this.blockSize,z=this.C;let U=this.h,H=0;for(;H<M;){if(U==0)for(;H<=j;)i(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<M;)if(z[U++]=P.charCodeAt(H++),U==this.blockSize){i(this,z),U=0;break}}else for(;H<M;)if(z[U++]=P[H++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=M},n.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)P[M++]=this.g[j]>>>z&255;return P};function a(P,M){var j=l;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=M(P)}function o(P,M){this.h=M;const j=[];let z=!0;for(let U=P.length-1;U>=0;U--){const H=P[U]|0;z&&H==M||(j[U]=H,z=!1)}this.g=j}var l={};function u(P){return-128<=P&&P<128?a(P,function(M){return new o([M|0],M<0?-1:0)}):new o([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(f(-P));const M=[];let j=1;for(let z=0;P>=j;z++)M[z]=P/j|0,j*=4294967296;return new o(M,0)}function d(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return A(d(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(M,8));let z=p;for(let H=0;H<P.length;H+=8){var U=Math.min(8,P.length-H);const F=parseInt(P.substring(H,H+U),M);U<8?(U=f(Math.pow(M,U)),z=z.j(U).add(f(F))):(z=z.j(j),z=z.add(f(F)))}return z}var p=u(0),v=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-A(this).m();let P=0,M=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);P+=(z>=0?z:4294967296+z)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(w(this))return"-"+A(this).toString(P);const M=f(Math.pow(P,6));var j=this;let z="";for(;;){const U=R(j,M).g;j=S(j,U.j(M));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=U,b(j))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=S(this,P),w(P)?-1:b(P)?0:1};function A(P){const M=P.g.length,j=[];for(let z=0;z<M;z++)j[z]=~P.g[z];return new o(j,~P.h).add(v)}t.abs=function(){return w(this)?A(this):this},t.add=function(P){const M=Math.max(this.g.length,P.g.length),j=[];let z=0;for(let U=0;U<=M;U++){let H=z+(this.i(U)&65535)+(P.i(U)&65535),F=(H>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);z=F>>>16,H&=65535,F&=65535,j[U]=F<<16|H}return new o(j,j[j.length-1]&-2147483648?-1:0)};function S(P,M){return P.add(A(M))}t.j=function(P){if(b(this)||b(P))return p;if(w(this))return w(P)?A(this).j(A(P)):A(A(this).j(P));if(w(P))return A(this.j(A(P)));if(this.l(m)<0&&P.l(m)<0)return f(this.m()*P.m());const M=this.g.length+P.g.length,j=[];for(var z=0;z<2*M;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<P.g.length;U++){const H=this.i(z)>>>16,F=this.i(z)&65535,pe=P.i(U)>>>16,_e=P.i(U)&65535;j[2*z+2*U]+=F*_e,O(j,2*z+2*U),j[2*z+2*U+1]+=H*_e,O(j,2*z+2*U+1),j[2*z+2*U+1]+=F*pe,O(j,2*z+2*U+1),j[2*z+2*U+2]+=H*pe,O(j,2*z+2*U+2)}for(P=0;P<M;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=M;P<2*M;P++)j[P]=0;return new o(j,0)};function O(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function I(P,M){this.g=P,this.h=M}function R(P,M){if(b(M))throw Error("division by zero");if(b(P))return new I(p,p);if(w(P))return M=R(A(P),M),new I(A(M.g),A(M.h));if(w(M))return M=R(P,A(M)),new I(A(M.g),M.h);if(P.g.length>30){if(w(P)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var j=v,z=M;z.l(P)<=0;)j=k(j),z=k(z);var U=L(j,1),H=L(z,1);for(z=L(z,2),j=L(j,2);!b(z);){var F=H.add(z);F.l(P)<=0&&(U=U.add(j),H=F),z=L(z,1),j=L(j,1)}return M=S(P,U.j(M)),new I(U,M)}for(U=p;P.l(M)>=0;){for(j=Math.max(1,Math.floor(P.m()/M.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(j),F=H.j(M);w(F)||F.l(P)>0;)j-=z,H=f(j),F=H.j(M);b(H)&&(H=v),U=U.add(H),P=S(P,F)}return new I(U,P)}t.B=function(P){return R(this,P).h},t.and=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)&P.i(z);return new o(j,this.h&P.h)},t.or=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)|P.i(z);return new o(j,this.h|P.h)},t.xor=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)^P.i(z);return new o(j,this.h^P.h)};function k(P){const M=P.g.length+1,j=[];for(let z=0;z<M;z++)j[z]=P.i(z)<<1|P.i(z-1)>>>31;return new o(j,P.h)}function L(P,M){const j=M>>5;M%=32;const z=P.g.length-j,U=[];for(let H=0;H<z;H++)U[H]=M>0?P.i(H+j)>>>M|P.i(H+j+1)<<32-M:P.i(H+j);return new o(U,P.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,h5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,_l=o}).apply(typeof wI<"u"?wI:typeof self<"u"?self:typeof window<"u"?window:{});var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p5,Ch,g5,cg,Eb,v5,m5,y5;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof O1=="object"&&O1];for(var T=0;T<y.length;++T){var N=y[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function i(y,T){if(T)e:{var N=n;y=y.split(".");for(var V=0;V<y.length-1;V++){var Y=y[V];if(!(Y in N))break e;N=N[Y]}y=y[y.length-1],V=N[y],T=T(V),T!=V&&T!=null&&e(N,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var N=[],V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&N.push([V,T[V]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function u(y,T,N){return y.call.apply(y.bind,arguments)}function f(y,T,N){return f=u,f.apply(null,arguments)}function d(y,T){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),y.apply(this,V)}}function p(y,T){function N(){}N.prototype=T.prototype,y.Z=T.prototype,y.prototype=new N,y.prototype.constructor=y,y.Ob=function(V,Y,ie){for(var ve=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ve[Ge-2]=arguments[Ge];return T.prototype[Y].apply(V,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const T=y.length;if(T>0){const N=Array(T);for(let V=0;V<T;V++)N[V]=y[V];return N}return[]}function b(y,T){for(let V=1;V<arguments.length;V++){const Y=arguments[V];var N=typeof Y;if(N=N!="object"?N:Y?Array.isArray(Y)?"array":N:"null",N=="array"||N=="object"&&typeof Y.length=="number"){N=y.length||0;const ie=Y.length||0;y.length=N+ie;for(let ve=0;ve<ie;ve++)y[N+ve]=Y[ve]}else y.push(Y)}}class w{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(y){o.setTimeout(()=>{throw y},0)}function S(){var y=P;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,N){const V=I.get();V.set(T,N),this.h?this.h.next=V:this.g=V,this.h=V}}var I=new w(()=>new R,y=>y.reset());class R{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let k,L=!1,P=new O,M=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(j)}};function j(){for(var y;y=S();){try{y.h.call(y.g)}catch(N){A(N)}var T=I;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}L=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};o.addEventListener("test",N,T),o.removeEventListener("test",N,T)}catch{}return y})();function F(y){return/^[\s\xa0]*$/.test(y)}function pe(y,T){U.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(pe,U),pe.prototype.init=function(y,T){const N=this.type=y.type,V=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(N=="mouseover"?T=y.fromElement:N=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),X=0;function ne(y,T,N,V,Y){this.listener=y,this.proxy=null,this.src=T,this.type=N,this.capture=!!V,this.ha=Y,this.key=++X,this.da=this.fa=!1}function de(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function we(y,T,N){for(const V in y)T.call(N,y[V],V,y)}function ke(y,T){for(const N in y)T.call(void 0,y[N],N,y)}function G(y){const T={};for(const N in y)T[N]=y[N];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,T){let N,V;for(let Y=1;Y<arguments.length;Y++){V=arguments[Y];for(N in V)y[N]=V[N];for(let ie=0;ie<ee.length;ie++)N=ee[ie],Object.prototype.hasOwnProperty.call(V,N)&&(y[N]=V[N])}}function be(y){this.src=y,this.g={},this.h=0}be.prototype.add=function(y,T,N,V,Y){const ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);const ve=qe(y,T,V,Y);return ve>-1?(T=y[ve],N||(T.fa=!1)):(T=new ne(T,this.src,ie,!!V,Y),T.fa=N,y.push(T)),T};function Pe(y,T){const N=T.type;if(N in y.g){var V=y.g[N],Y=Array.prototype.indexOf.call(V,T,void 0),ie;(ie=Y>=0)&&Array.prototype.splice.call(V,Y,1),ie&&(de(T),y.g[N].length==0&&(delete y.g[N],y.h--))}}function qe(y,T,N,V){for(let Y=0;Y<y.length;++Y){const ie=y[Y];if(!ie.da&&ie.listener==T&&ie.capture==!!N&&ie.ha==V)return Y}return-1}var nt="closure_lm_"+(Math.random()*1e6|0),mr={};function ge(y,T,N,V,Y){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)ge(y,T[ie],N,V,Y);return null}return N=ws(N),y&&y[_e]?y.J(T,N,l(V)?!!V.capture:!1,Y):ze(y,T,N,!1,V,Y)}function ze(y,T,N,V,Y,ie){if(!T)throw Error("Invalid event type");const ve=l(Y)?!!Y.capture:!!Y;let Ge=xr(y);if(Ge||(y[nt]=Ge=new be(y)),N=Ge.add(T,N,V,ve,ie),N.proxy)return N;if(V=Xe(),N.proxy=V,V.src=y,V.listener=N,y.addEventListener)H||(Y=ve),Y===void 0&&(Y=!1),y.addEventListener(T.toString(),V,Y);else if(y.attachEvent)y.attachEvent(Ze(T.toString()),V);else if(y.addListener&&y.removeListener)y.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Xe(){function y(N){return T.call(y.src,y.listener,N)}const T=zr;return y}function he(y,T,N,V,Y){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)he(y,T[ie],N,V,Y);else V=l(V)?!!V.capture:!!V,N=ws(N),y&&y[_e]?(y=y.i,ie=String(T).toString(),ie in y.g&&(T=y.g[ie],N=qe(T,N,V,Y),N>-1&&(de(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete y.g[ie],y.h--)))):y&&(y=xr(y))&&(T=y.g[T.toString()],y=-1,T&&(y=qe(T,N,V,Y)),(N=y>-1?T[y]:null)&&yr(N))}function yr(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[_e])Pe(T.i,y);else{var N=y.type,V=y.proxy;T.removeEventListener?T.removeEventListener(N,V,y.capture):T.detachEvent?T.detachEvent(Ze(N),V):T.addListener&&T.removeListener&&T.removeListener(V),(N=xr(T))?(Pe(N,y),N.h==0&&(N.src=null,T[nt]=null)):de(y)}}}function Ze(y){return y in mr?mr[y]:mr[y]="on"+y}function zr(y,T){if(y.da)y=!0;else{T=new pe(T,this);const N=y.listener,V=y.ha||y.src;y.fa&&yr(y),y=N.call(V,T)}return y}function xr(y){return y=y[nt],y instanceof be?y:null}var mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ws(y){return typeof y=="function"?y:(y[mi]||(y[mi]=function(T){return y.handleEvent(T)}),y[mi])}function Cr(){z.call(this),this.i=new be(this),this.M=this,this.G=null}p(Cr,z),Cr.prototype[_e]=!0,Cr.prototype.removeEventListener=function(y,T,N,V){he(this,y,T,N,V)};function Hr(y,T){var N,V=y.G;if(V)for(N=[];V;V=V.G)N.push(V);if(y=y.M,V=T.type||T,typeof T=="string")T=new U(T,y);else if(T instanceof U)T.target=T.target||y;else{var Y=T;T=new U(V,y),ye(T,Y)}Y=!0;let ie,ve;if(N)for(ve=N.length-1;ve>=0;ve--)ie=T.g=N[ve],Y=Es(ie,V,!0,T)&&Y;if(ie=T.g=y,Y=Es(ie,V,!0,T)&&Y,Y=Es(ie,V,!1,T)&&Y,N)for(ve=0;ve<N.length;ve++)ie=T.g=N[ve],Y=Es(ie,V,!1,T)&&Y}Cr.prototype.N=function(){if(Cr.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const N=y.g[T];for(let V=0;V<N.length;V++)de(N[V]);delete y.g[T],y.h--}}this.G=null},Cr.prototype.J=function(y,T,N,V){return this.i.add(String(y),T,!1,N,V)},Cr.prototype.K=function(y,T,N,V){return this.i.add(String(y),T,!0,N,V)};function Es(y,T,N,V){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Y=!0;for(let ie=0;ie<T.length;++ie){const ve=T[ie];if(ve&&!ve.da&&ve.capture==N){const Ge=ve.listener,br=ve.ha||ve.src;ve.fa&&Pe(y.i,ve),Y=Ge.call(br,V)!==!1&&Y}}return Y&&!V.defaultPrevented}function cy(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(y,T||0)}function e0(y){y.g=cy(()=>{y.g=null,y.i&&(y.i=!1,e0(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Hn extends z{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:e0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wl(y){z.call(this),this.h=y,this.g={}}p(Wl,z);var ld=[];function cd(y){we(y.g,function(T,N){this.g.hasOwnProperty(N)&&yr(T)},y),y.g={}}Wl.prototype.N=function(){Wl.Z.N.call(this),cd(this)},Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=o.JSON.stringify,uy=o.JSON.parse,t0=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function r0(){}function n0(){}var ma={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){U.call(this,"d")}p(gn,U);function Fi(){U.call(this,"c")}p(Fi,U);var _r={},i0=null;function du(){return i0=i0||new Cr}_r.Ia="serverreachability";function a0(y){U.call(this,_r.Ia,y)}p(a0,U);function Fa(y){const T=du();Hr(T,new a0(T))}_r.STAT_EVENT="statevent";function Kl(y,T){U.call(this,_r.STAT_EVENT,y),this.stat=T}p(Kl,U);function Ir(y){const T=du();Hr(T,new Kl(T,y))}_r.Ja="timingevent";function Va(y,T){U.call(this,_r.Ja,y),this.size=T}p(Va,U);function za(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},T)}function ya(){this.g=!0}ya.prototype.ua=function(){this.g=!1};function fy(y,T,N,V,Y,ie){y.info(function(){if(y.g)if(ie){var ve="",Ge=ie.split("&");for(let bt=0;bt<Ge.length;bt++){var br=Ge[bt].split("=");if(br.length>1){const tr=br[0];br=br[1];const $i=tr.split("_");ve=$i.length>=2&&$i[1]=="type"?ve+(tr+"="+br+"&"):ve+(tr+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+V+") [attempt "+Y+"]: "+T+`
`+N+`
`+ve})}function o0(y,T,N,V,Y,ie,ve){y.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Y+"]: "+T+`
`+N+`
`+ie+" "+ve})}function Ha(y,T,N,V){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+dy(y,N)+(V?" "+V:"")})}function Xl(y,T){y.info(function(){return"TIMEOUT: "+T})}ya.prototype.info=function(){};function dy(y,T){if(!y.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(y=0;y<ie.length;y++)if(Array.isArray(ie[y])){var N=ie[y];if(!(N.length<2)){var V=N[1];if(Array.isArray(V)&&!(V.length<1)){var Y=V[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<V.length;ve++)V[ve]=""}}}}return As(ie)}catch{return T}}var Yl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ud={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fd;function Ql(){}p(Ql,r0),Ql.prototype.g=function(){return new XMLHttpRequest},fd=new Ql;function Io(y){return encodeURIComponent(String(y))}function s0(y){var T=1;y=y.split(":");const N=[];for(;T>0&&y.length;)N.push(y.shift()),T--;return y.length&&N.push(y.join(":")),N}function xa(y,T,N,V){this.j=y,this.i=T,this.l=N,this.S=V||1,this.V=new Wl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var Or={},rn={};function $a(y,T,N){y.M=1,y.A=Zl(Pr(T)),y.u=N,y.R=!0,hu(y,null)}function hu(y,T){y.F=Date.now(),qa(y),y.B=Pr(y.A);var N=y.B,V=y.S;Array.isArray(V)||(V=[String(V)]),mu(N.i,"t",V),y.C=0,N=y.j.L,y.h=new _a,y.g=w0(y.j,N?T:null,!y.u),y.P>0&&(y.O=new Hn(f(y.Y,y,y.g),y.P)),T=y.V,N=y.g,V=y.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ld[0]=Y.toString()),Y=ld);for(let ie=0;ie<Y.length;ie++){const ve=ge(N,Y[ie],V||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Fa(),fy(y.i,y.v,y.B,y.l,y.S,y.u)}xa.prototype.ba=function(y){y=y.target;const T=this.O;T&&Ea(y)==3?T.j():this.Y(y)},xa.prototype.Y=function(y){try{if(y==this.g)e:{const Ge=Ea(this.g),br=this.g.ya(),bt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Ge!=4||br==7||(br==8||bt<=0?Fa(3):Fa(2)),Ga(this);var T=this.g.ca();this.X=T;var N=hy(this);if(this.o=T==200,o0(this.i,this.v,this.B,this.l,this.S,Ge,T),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Y=this.g;if((V=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(V)){var ie=V;break t}}ie=null}if(y=ie)Ha(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wa(this,y);else{this.o=!1,this.m=3,Ir(12),yi(this),Vi(this);break e}}if(this.R){y=!0;let tr;for(;!this.K&&this.C<N.length;)if(tr=c0(this,N),tr==rn){Ge==4&&(this.m=4,Ir(14),y=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Or){this.m=4,Ir(15),Ha(this.i,this.l,N,"[Invalid Chunk]"),y=!1;break}else Ha(this.i,this.l,tr,null),Wa(this,tr);if(l0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||N.length!=0||this.h.h||(this.m=1,Ir(16),y=!1),this.o=this.o&&y,!y)Ha(this.i,this.l,N,"[Invalid Chunked Response]"),yi(this),Vi(this);else if(N.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Td(ve),ve.P=!0,Ir(11))}}else Ha(this.i,this.l,N,null),Wa(this,N);Ge==4&&yi(this),this.o&&!this.K&&(Ge==4?y0(this.j,this):(this.o=!1,qa(this)))}else Ro(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,Ir(12)):(this.m=0,Ir(13)),yi(this),Vi(this)}}}catch{}finally{}};function hy(y){if(!l0(y))return y.g.la();const T=vn(y.g);if(T==="")return"";let N="";const V=T.length,Y=Ea(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return yi(y),Vi(y),"";y.h.i=new o.TextDecoder}for(let ie=0;ie<V;ie++)y.h.h=!0,N+=y.h.i.decode(T[ie],{stream:!(Y&&ie==V-1)});return T.length=0,y.h.g+=N,y.C=0,y.h.g}function l0(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function c0(y,T){var N=y.C,V=T.indexOf(`
`,N);return V==-1?rn:(N=Number(T.substring(N,V)),isNaN(N)?Or:(V+=1,V+N>T.length?rn:(T=T.slice(V,V+N),y.C=V+N,T)))}xa.prototype.cancel=function(){this.K=!0,yi(this)};function qa(y){y.T=Date.now()+y.H,pu(y,y.H)}function pu(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=za(f(y.aa,y),T)}function Ga(y){y.D&&(o.clearTimeout(y.D),y.D=null)}xa.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Xl(this.i,this.B),this.M!=2&&(Fa(),Ir(17)),yi(this),this.m=2,Vi(this)):pu(this,this.T-y)};function Vi(y){y.j.I==0||y.K||y0(y.j,y)}function yi(y){Ga(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,cd(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Wa(y,T){try{var N=y.j;if(N.I!=0&&(N.g==y||Xa(N.h,y))){if(!y.L&&Xa(N.h,y)&&N.I==3){try{var V=N.Ba.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Y=V;if(Y[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<y.F)wu(N),Ds(N);else break e;ac(N),Ir(18)}}else N.xa=Y[1],0<N.xa-N.K&&Y[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=za(f(N.Va,N),6e3));Ka(N.h)<=1&&N.ta&&(N.ta=void 0)}else to(N,11)}else if((y.L||N.g==y)&&wu(N),!F(T))for(Y=N.Ba.g.parse(T),T=0;T<Y.length;T++){let bt=Y[T];const tr=bt[0];if(!(tr<=N.K))if(N.K=tr,bt=bt[1],N.I==2)if(bt[0]=="c"){N.M=bt[1],N.ba=bt[2];const $i=bt[3];$i!=null&&(N.ka=$i,N.j.info("VER="+N.ka));const ro=bt[4];ro!=null&&(N.za=ro,N.j.info("SVER="+N.za));const Aa=bt[5];Aa!=null&&typeof Aa=="number"&&Aa>0&&(V=1.5*Aa,N.O=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const Sa=y.g;if(Sa){const oc=Sa.g?Sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var ie=V.h;ie.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(pd(ie,ie.h),ie.h=null))}if(V.G){const Eu=Sa.g?Sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(V.wa=Eu,Ot(V.J,V.G,Eu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-y.F,N.j.info("Handshake RTT: "+N.T+"ms")),V=N;var ve=y;if(V.na=b0(V,V.L?V.ba:null,V.W),ve.L){gd(V.h,ve);var Ge=ve,br=V.O;br&&(Ge.H=br),Ge.D&&(Ga(Ge),qa(Ge)),V.g=ve}else v0(V);N.i.length>0&&eo(N)}else bt[0]!="stop"&&bt[0]!="close"||to(N,7);else N.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?to(N,7):Ad(N):bt[0]!="noop"&&N.l&&N.l.qa(bt),N.A=0)}}Fa(4)}catch{}}var Rr=class{constructor(y,T){this.g=y,this.map=T}};function dd(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ka(y){return y.h?1:y.g?y.g.size:0}function Xa(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function pd(y,T){y.g?y.g.add(T):y.h=T}function gd(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}dd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function vd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const N of y.g.values())T=T.concat(N.G);return T}return m(y.i)}var u0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gu(y,T){if(y){y=y.split("&");for(let N=0;N<y.length;N++){const V=y[N].indexOf("=");let Y,ie=null;V>=0?(Y=y[N].substring(0,V),ie=y[N].substring(V+1)):Y=y[N],T(Y,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function xi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof xi?(this.l=y.l,nn(this,y.j),this.o=y.o,this.g=y.g,Ss(this,y.u),this.h=y.h,md(this,p0(y.i)),this.m=y.m):y&&(T=String(y).match(u0))?(this.l=!1,nn(this,T[1]||"",!0),this.o=Ya(T[2]||""),this.g=Ya(T[3]||"",!0),Ss(this,T[4]),this.h=Ya(T[5]||"",!0),md(this,T[6]||"",!0),this.m=Ya(T[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}xi.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Jl(T,vu,!0),":");var N=this.g;return(N||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Jl(T,vu,!0),"@"),y.push(Io(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&y.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(Jl(N,N.charAt(0)=="/"?yd:f0,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",Jl(N,d0)),y.join("")},xi.prototype.resolve=function(y){const T=Pr(this);let N=!!y.j;N?nn(T,y.j):N=!!y.o,N?T.o=y.o:N=!!y.g,N?T.g=y.g:N=y.u!=null;var V=y.h;if(N)Ss(T,y.u);else if(N=!!y.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Y=T.h.lastIndexOf("/");Y!=-1&&(V=T.h.slice(0,Y+1)+V)}if(Y=V,Y==".."||Y==".")V="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){V=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ie=[];for(let ve=0;ve<Y.length;){const Ge=Y[ve++];Ge=="."?V&&ve==Y.length&&ie.push(""):Ge==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),V&&ve==Y.length&&ie.push("")):(ie.push(Ge),V=!0)}V=ie.join("/")}else V=Y}return N?T.h=V:N=y.i.toString()!=="",N?md(T,p0(y.i)):N=!!y.m,N&&(T.m=y.m),T};function Pr(y){return new xi(y)}function nn(y,T,N){y.j=N?Ya(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Ss(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function md(y,T,N){T instanceof Cs?(y.i=T,yu(y.i,y.l)):(N||(T=Jl(T,Ts)),y.i=new Cs(T,y.l))}function Ot(y,T,N){y.i.set(T,N)}function Zl(y){return Ot(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ya(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Jl(y,T,N){return typeof y=="string"?(y=encodeURI(y).replace(T,ei),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ei(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var vu=/[#\/\?@]/g,f0=/[#\?:]/g,yd=/[#\?]/g,Ts=/[#\?@]/g,d0=/#/g;function Cs(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function ti(y){y.g||(y.g=new Map,y.h=0,y.i&&gu(y.i,function(T,N){y.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=Cs.prototype,t.add=function(y,T){ti(this),this.i=null,y=Is(this,y);let N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(T),this.h+=1,this};function h0(y,T){ti(y),T=Is(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function xd(y,T){return ti(y),T=Is(y,T),y.g.has(T)}t.forEach=function(y,T){ti(this),this.g.forEach(function(N,V){N.forEach(function(Y){y.call(T,Y,V,this)},this)},this)};function _d(y,T){ti(y);let N=[];if(typeof T=="string")xd(y,T)&&(N=N.concat(y.g.get(Is(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)N=N.concat(y[T]);return N}t.set=function(y,T){return ti(this),this.i=null,y=Is(this,y),xd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=_d(this,y),y.length>0?String(y[0]):T):T};function mu(y,T,N){h0(y,T),N.length>0&&(y.i=null,y.g.set(Is(y,T),m(N)),y.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let V=0;V<T.length;V++){var N=T[V];const Y=Io(N);N=_d(this,N);for(let ie=0;ie<N.length;ie++){let ve=Y;N[ie]!==""&&(ve+="="+Io(N[ie])),y.push(ve)}}return this.i=y.join("&")};function p0(y){const T=new Cs;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function Is(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function yu(y,T){T&&!y.j&&(ti(y),y.i=null,y.g.forEach(function(N,V){const Y=V.toLowerCase();V!=Y&&(h0(this,V),mu(this,Y,N))},y)),y.j=T}function ba(y,T){const N=new ya;if(o.Image){const V=new Image;V.onload=d(zi,N,"TestLoadImage: loaded",!0,T,V),V.onerror=d(zi,N,"TestLoadImage: error",!1,T,V),V.onabort=d(zi,N,"TestLoadImage: abort",!1,T,V),V.ontimeout=d(zi,N,"TestLoadImage: timeout",!1,T,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=y}else T(!1)}function bd(y,T){const N=new ya,V=new AbortController,Y=setTimeout(()=>{V.abort(),zi(N,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:V.signal}).then(ie=>{clearTimeout(Y),ie.ok?zi(N,"TestPingServer: ok",!0,T):zi(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Y),zi(N,"TestPingServer: error",!1,T)})}function zi(y,T,N,V,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),V(N)}catch{}}function Os(){this.g=new t0}function Qa(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Qa,r0),Qa.prototype.g=function(){return new ec(this.i,this.h)};function ec(y,T){Cr.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ec,Cr),t=ec.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,wa(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xu(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function xu(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Rs(this):wa(this),this.readyState==3&&xu(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Rs(this))},t.Na=function(y){this.g&&(this.response=y,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,wa(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=T.next();return y.join(`\r
`)};function wa(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Hi(y){let T="";return we(y,function(N,V){T+=V,T+=":",T+=N,T+=`\r
`}),T}function tc(y,T,N){e:{for(V in N){var V=!1;break e}V=!0}V||(N=Hi(N),typeof y=="string"?N!=null&&Io(N):Ot(y,T,N))}function jt(y){Cr.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(jt,Cr);var Za=/^https?$/i,wd=["POST","PUT"];t=jt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ie){rc(this,ie);return}if(y=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Y in V)N.set(Y,V[Y]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())N.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(wd,T,void 0)>=0)||V||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of N)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ie){rc(this,ie)}};function rc(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Ed(y),Oo(y)}function Ed(y){y.A||(y.A=!0,Hr(y,"complete"),Hr(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Hr(this,"complete"),Hr(this,"abort"),Oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oo(this,!0)),jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nc(this):this.Xa())},t.Xa=function(){nc(this)};function nc(y){if(y.h&&typeof a<"u"){if(y.v&&Ea(y)==4)setTimeout(y.Ca.bind(y),0);else if(Hr(y,"readystatechange"),Ea(y)==4){y.h=!1;try{const ie=y.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var V;if(V=ie===0){let ve=String(y.D).match(u0)[1]||null;!ve&&o.self&&o.self.location&&(ve=o.self.location.protocol.slice(0,-1)),V=!Za.test(ve?ve.toLowerCase():"")}N=V}if(N)Hr(y,"complete"),Hr(y,"success");else{y.o=6;try{var Y=Ea(y)>2?y.g.statusText:""}catch{Y=""}y.l=Y+" ["+y.ca()+"]",Ed(y)}}finally{Oo(y)}}}}function Oo(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const N=y.g;y.g=null,T||Hr(y,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ea(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),uy(T)}};function vn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ro(y){const T={};y=(y.g&&Ea(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<y.length;V++){if(F(y[V]))continue;var N=s0(y[V]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=T[Y]||[];T[Y]=ie,ie.push(N)}ke(T,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(y,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||T}function Ps(y){this.za=0,this.i=[],this.j=new ya,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ja("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ja("baseRetryDelayMs",5e3,y),this.Za=Ja("retryDelaySeedMs",1e4,y),this.Ta=Ja("forwardChannelMaxRetries",2,y),this.va=Ja("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new dd(y&&y.concurrentRequestLimit),this.Ba=new Os,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ps.prototype,t.ka=8,t.I=1,t.connect=function(y,T,N,V){Ir(0),this.W=y,this.H=T||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.J=b0(this,null,this.W),eo(this)};function Ad(y){if(_u(y),y.I==3){var T=y.V++,N=Pr(y.J);if(Ot(N,"SID",y.M),Ot(N,"RID",T),Ot(N,"TYPE","terminate"),ic(y,N),T=new xa(y,y.j,T),T.M=2,T.A=Zl(Pr(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=T.A,N=!0),N||(T.g=w0(T.j,null),T.g.ea(T.A)),T.F=Date.now(),qa(T)}_0(y)}function Ds(y){y.g&&(Td(y),y.g.cancel(),y.g=null)}function _u(y){Ds(y),y.v&&(o.clearTimeout(y.v),y.v=null),wu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function eo(y){if(!hd(y.h)&&!y.m){y.m=!0;var T=y.Ea;k||M(),L||(k(),L=!0),P.add(T,y),y.D=0}}function bu(y,T){return Ka(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=za(f(y.Ea,y,T),x0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Y=new xa(this,this.j,y);let ie=this.o;if(this.U&&(ie?(ie=G(ie),ye(ie,this.U)):ie=this.U),this.u!==null||this.R||(Y.J=ie,ie=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=g0(this,Y,T),N=Pr(this.J),Ot(N,"RID",y),Ot(N,"CVER",22),this.G&&Ot(N,"X-HTTP-Session-Id",this.G),ic(this,N),ie&&(this.R?T="headers="+Io(Hi(ie))+"&"+T:this.u&&tc(N,this.u,ie)),pd(this.h,Y),this.Ra&&Ot(N,"TYPE","init"),this.S?(Ot(N,"$req",T),Ot(N,"SID","null"),Y.U=!0,$a(Y,N,null)):$a(Y,N,T),this.I=2}}else this.I==3&&(y?Sd(this,y):this.i.length==0||hd(this.h)||Sd(this))};function Sd(y,T){var N;T?N=T.l:N=y.V++;const V=Pr(y.J);Ot(V,"SID",y.M),Ot(V,"RID",N),Ot(V,"AID",y.K),ic(y,V),y.u&&y.o&&tc(V,y.u,y.o),N=new xa(y,y.j,N,y.D+1),y.u===null&&(N.J=y.o),T&&(y.i=T.G.concat(y.i)),T=g0(y,N,1e3),N.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),pd(y.h,N),$a(N,V,T)}function ic(y,T){y.H&&we(y.H,function(N,V){Ot(T,V,N)}),y.l&&we({},function(N,V){Ot(T,V,N)})}function g0(y,T,N){N=Math.min(y.i.length,N);const V=y.l?f(y.l.Ka,y.l,y):null;e:{var Y=y.i;let Ge=-1;for(;;){const br=["count="+N];Ge==-1?N>0?(Ge=Y[0].g,br.push("ofs="+Ge)):Ge=0:br.push("ofs="+Ge);let bt=!0;for(let tr=0;tr<N;tr++){var ie=Y[tr].g;const $i=Y[tr].map;if(ie-=Ge,ie<0)Ge=Math.max(0,Y[tr].g-100),bt=!1;else try{ie="req"+ie+"_"||"";try{var ve=$i instanceof Map?$i:Object.entries($i);for(const[ro,Aa]of ve){let Sa=Aa;l(Aa)&&(Sa=As(Aa)),br.push(ie+ro+"="+encodeURIComponent(Sa))}}catch(ro){throw br.push(ie+"type="+encodeURIComponent("_badmap")),ro}}catch{V&&V($i)}}if(bt){ve=br.join("&");break e}}ve=void 0}return y=y.i.splice(0,N),T.G=y,ve}function v0(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;k||M(),L||(k(),L=!0),P.add(T,y),y.A=0}}function ac(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=za(f(y.Da,y),x0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,m0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=za(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ir(10),Ds(this),m0(this))};function Td(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function m0(y){y.g=new xa(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=Pr(y.na);Ot(T,"RID","rpc"),Ot(T,"SID",y.M),Ot(T,"AID",y.K),Ot(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ot(T,"TO",y.ia),Ot(T,"TYPE","xmlhttp"),ic(y,T),y.u&&y.o&&tc(T,y.u,y.o),y.O&&(y.g.H=y.O);var N=y.g;y=y.ba,N.M=1,N.A=Zl(Pr(T)),N.u=null,N.R=!0,hu(N,y)}t.Va=function(){this.C!=null&&(this.C=null,Ds(this),ac(this),Ir(19))};function wu(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function y0(y,T){var N=null;if(y.g==T){wu(y),Td(y),y.g=null;var V=2}else if(Xa(y.h,T))N=T.G,gd(y.h,T),V=1;else return;if(y.I!=0){if(T.o)if(V==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var Y=y.D;V=du(),Hr(V,new Va(V,N)),eo(y)}else v0(y);else if(Y=T.m,Y==3||Y==0&&T.X>0||!(V==1&&bu(y,T)||V==2&&ac(y)))switch(N&&N.length>0&&(T=y.h,T.i=T.i.concat(N)),Y){case 1:to(y,5);break;case 4:to(y,10);break;case 3:to(y,6);break;default:to(y,2)}}}function x0(y,T){let N=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(N*=2),N*T}function to(y,T){if(y.j.info("Error code "+T),T==2){var N=f(y.bb,y),V=y.Ua;const Y=!V;V=new xi(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nn(V,"https"),Zl(V),Y?ba(V.toString(),N):bd(V.toString(),N)}else Ir(2);y.I=0,y.l&&y.l.pa(T),_0(y),_u(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))};function _0(y){if(y.I=0,y.ja=[],y.l){const T=vd(y.h);(T.length!=0||y.i.length!=0)&&(b(y.ja,T),b(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function b0(y,T,N){var V=N instanceof xi?Pr(N):new xi(N);if(V.g!="")T&&(V.g=T+"."+V.g),Ss(V,V.u);else{var Y=o.location;V=Y.protocol,T=T?T+"."+Y.hostname:Y.hostname,Y=+Y.port;const ie=new xi(null);V&&nn(ie,V),T&&(ie.g=T),Y&&Ss(ie,Y),N&&(ie.h=N),V=ie}return N=y.G,T=y.wa,N&&T&&Ot(V,N,T),Ot(V,"VER",y.ka),ic(y,V),V}function w0(y,T,N){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new jt(new Qa({ab:N})):new jt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function E0(){}t=E0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ns(){}Ns.prototype.g=function(y,T){return new $n(y,T)};function $n(y,T){Cr.call(this),this.g=new Ps(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!F(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Po(this)}p($n,Cr),$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Ad(this.g)},$n.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.v&&(N={},N.__data__=As(y),y=N);T.i.push(new Rr(T.Ya++,y)),T.I==3&&eo(T)},$n.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,$n.Z.N.call(this)};function A0(y){gn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const N in T){y=N;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(A0,gn);function S0(){Fi.call(this),this.status=1}p(S0,Fi);function Po(y){this.g=y}p(Po,E0),Po.prototype.ra=function(){Hr(this.g,"a")},Po.prototype.qa=function(y){Hr(this.g,new A0(y))},Po.prototype.pa=function(y){Hr(this.g,new S0)},Po.prototype.oa=function(){Hr(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,y5=function(){return new Ns},m5=function(){return du()},v5=_r,Eb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yl.NO_ERROR=0,Yl.TIMEOUT=8,Yl.HTTP_ERROR=6,cg=Yl,ud.COMPLETE="complete",g5=ud,n0.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Cr.prototype.listen=Cr.prototype.J,Ch=n0,jt.prototype.listenOnce=jt.prototype.K,jt.prototype.getLastError=jt.prototype.Ha,jt.prototype.getLastErrorCode=jt.prototype.ya,jt.prototype.getStatus=jt.prototype.ca,jt.prototype.getResponseJson=jt.prototype.La,jt.prototype.getResponseText=jt.prototype.la,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Fa,p5=jt}).apply(typeof O1<"u"?O1:typeof self<"u"?self:typeof window<"u"?window:{});const EI="@firebase/firestore",AI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new nE("@firebase/firestore");function rf(){return Gc.logLevel}function Ee(t,...e){if(Gc.logLevel<=ot.DEBUG){const r=e.map(aE);Gc.debug(`Firestore (${Ff}): ${t}`,...r)}}function os(t,...e){if(Gc.logLevel<=ot.ERROR){const r=e.map(aE);Gc.error(`Firestore (${Ff}): ${t}`,...r)}}function xf(t,...e){if(Gc.logLevel<=ot.WARN){const r=e.map(aE);Gc.warn(`Firestore (${Ff}): ${t}`,...r)}}function aE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,x5(t,n,r)}function x5(t,e,r){let n=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw os(n),new Error(n)}function It(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||x5(e,i,n)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ba{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(jn.UNAUTHENTICATED)))}shutdown(){}}class bz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class wz{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){It(this.o===void 0,42304);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new es;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new es,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new es)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(It(typeof n.accessToken=="string",31837,{l:n}),new _5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class Ez{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Az{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Ez(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sz{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){It(this.o===void 0,3512);const n=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(It(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new SI(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Tz(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function st(t,e){return t<e?-1:t>e?1:0}function Ab(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return _2(i)===_2(a)?st(i,a):_2(i)?1:-1}return st(t.length,e.length)}const Cz=55296,Iz=57343;function _2(t){const e=t.charCodeAt(0);return e>=Cz&&e<=Iz}function _f(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__name__";class so{constructor(e,r,n){r===void 0?r=0:r>e.length&&Fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return so.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=so.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return st(e.length,r.length)}static compareSegments(e,r){const n=so.isNumericId(e),i=so.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?so.extractNumericId(e).compare(so.extractNumericId(r)):Ab(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _l.fromString(e.substring(4,e.length-2))}}class Gt extends so{construct(e,r,n){return new Gt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Gt(r)}static emptyPath(){return new Gt([])}}const Oz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends so{construct(e,r,n){return new Cn(e,r,n)}static isValidIdentifier(e){return Oz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TI}static keyField(){return new Cn([TI])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(r)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Gt.fromString(e))}static fromName(e){return new Me(Gt.fromString(e).popFirst(5))}static empty(){return new Me(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Gt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e,r){if(!r)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rz(t,e,r,n){if(e===!0&&n===!0)throw new xe(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function CI(t){if(!Me.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function II(t){if(Me.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jv(t);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Pz(t,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){const r={typeString:t};return e&&(r.value=e),r}function xp(t,e){if(!w5(t))throw new xe(ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new xe(ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=-62135596800,RI=1e6;class er{static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*RI);return new er(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<OI)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RI}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xp(e,er._jsonSchema))return new er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}er._jsonSchemaVersion="firestore/timestamp/1.0",er._jsonSchema={type:Br("string",er._jsonSchemaVersion),seconds:Br("number"),nanoseconds:Br("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new er(0,0))}static max(){return new Ve(new er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=-1;function Dz(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(n===1e9?new er(r+1,0):new er(r,n));return new Cl(i,Me.empty(),e)}function Nz(t){return new Cl(t.readTime,t.key,Xh)}class Cl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Cl(Ve.min(),Me.empty(),Xh)}static max(){return new Cl(Ve.max(),Me.empty(),Xh)}}function Mz(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(t.documentKey,e.documentKey),r!==0?r:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==kz)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.reject(r)}static resolve(e){return new fe(((r,n)=>{r(e)}))}static reject(e){return new fe(((r,n)=>{n(e)}))}static waitFor(e){return new fe(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(u=>n(u)))})),o=!0,a===i&&r()}))}static or(e){let r=fe.resolve(!1);for(const n of e)r=r.next((i=>i?fe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new fe(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;r(e[f]).next((d=>{o[f]=d,++l,l===a&&n(o)}),(d=>i(d)))}}))}static doWhile(e,r){return new fe(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Lz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-1;function tm(t){return t==null}function Pg(t){return t===0&&1/t==-1/0}function Bz(t){return typeof t=="number"&&Number.isInteger(t)&&!Pg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="";function Uz(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=PI(e)),e=Fz(t.get(r),e);return PI(e)}function Fz(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case E5:r+="";break;default:r+=a}}return r}function PI(t){return t+E5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Bl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function A5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,r){this.comparator=e,this.root=r||Sn.EMPTY}insert(e,r){return new lr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new R1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new R1(this.root,e,this.comparator,!1)}getReverseIterator(){return new R1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new R1(this.root,e,this.comparator,!0)}}class R1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Sn.RED,this.left=i??Sn.EMPTY,this.right=a??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Sn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Sn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new NI(this.data.getIterator())}getIteratorFrom(e){return new NI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Zr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Zr(this.comparator);return r.data=e,r}}class NI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new Di([])}unionWith(e){let r=new Zr(Cn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Di(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new S5("Invalid base64 string: "+a):a}})(e);return new On(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new On(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const Vz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(It(!!t,39018),typeof t=="string"){let e=0;const r=Vz.exec(t);if(It(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Sr(t.seconds),nanos:Sr(t.nanos)}}function Sr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ol(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="server_timestamp",C5="__type__",I5="__previous_value__",O5="__local_write_time__";function lE(t){return(t?.mapValue?.fields||{})[C5]?.stringValue===T5}function rm(t){const e=t.mapValue.fields[I5];return lE(e)?rm(e):e}function Yh(t){const e=Il(t.mapValue.fields[O5].timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,r,n,i,a,o,l,u,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const Dg="(default)";class Qh{constructor(e,r){this.projectId=e,this.database=r||Dg}static empty(){return new Qh("","")}get isDefaultDatabase(){return this.database===Dg}isEqual(e){return e instanceof Qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="__type__",Hz="__max__",P1={mapValue:{}},P5="__vector__",Ng="value";function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lE(t)?4:qz(t)?9007199254740991:$z(t)?10:11:Fe(28295,{value:t})}function yo(t,e){if(t===e)return!0;const r=Rl(t);if(r!==Rl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Il(i.timestampValue),l=Il(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ol(i.bytesValue).isEqual(Ol(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Sr(i.geoPointValue.latitude)===Sr(a.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Sr(i.integerValue)===Sr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Sr(i.doubleValue),l=Sr(a.doubleValue);return o===l?Pg(o)===Pg(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return _f(t.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(DI(o)!==DI(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!yo(o[u],l[u])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function Zh(t,e){return(t.values||[]).find((r=>yo(r,e)))!==void 0}function bf(t,e){if(t===e)return 0;const r=Rl(t),n=Rl(e);if(r!==n)return st(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Sr(a.integerValue||a.doubleValue),u=Sr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return MI(t.timestampValue,e.timestampValue);case 4:return MI(Yh(t),Yh(e));case 5:return Ab(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=Ol(a),u=Ol(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),u=o.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=st(l[f],u[f]);if(d!==0)return d}return st(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=st(Sr(a.latitude),Sr(o.latitude));return l!==0?l:st(Sr(a.longitude),Sr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},u=o.fields||{},f=l[Ng]?.arrayValue,d=u[Ng]?.arrayValue,p=st(f?.values?.length||0,d?.values?.length||0);return p!==0?p:kI(f,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===P1.mapValue&&o===P1.mapValue)return 0;if(a===P1.mapValue)return 1;if(o===P1.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=o.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const v=Ab(u[p],d[p]);if(v!==0)return v;const m=bf(l[u[p]],f[d[p]]);if(m!==0)return m}return st(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:r})}}function MI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const r=Il(t),n=Il(e),i=st(r.seconds,n.seconds);return i!==0?i:st(r.nanos,n.nanos)}function kI(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=bf(r[i],n[i]);if(a)return a}return st(r.length,n.length)}function wf(t){return Sb(t)}function Sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Il(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Ol(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Me.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Sb(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Sb(r.fields[o])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function ug(t){switch(Rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(t);return e?16+ug(e):16;case 5:return 2*t.stringValue.length;case 6:return Ol(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+ug(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Bl(n.fields,((a,o)=>{i+=a.length+ug(o)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function jI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tb(t){return!!t&&"integerValue"in t}function cE(t){return!!t&&"arrayValue"in t}function LI(t){return!!t&&"nullValue"in t}function BI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fg(t){return!!t&&"mapValue"in t}function $z(t){return(t?.mapValue?.fields||{})[R5]?.stringValue===P5}function Bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Bh(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bh(t.arrayValue.values[r]);return e}return{...t}}function qz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!fg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(r)}setAll(e){let r=Cn.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Bh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());fg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Bl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ui(Bh(this.value))}}function D5(t){const e=[];return Bl(t.fields,((r,n)=>{const i=new Cn([r]);if(fg(n)){const a=D5(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ln(e,0,Ve.min(),Ve.min(),Ve.min(),ui.empty(),0)}static newFoundDocument(e,r,n,i){return new Ln(e,1,r,Ve.min(),n,i,0)}static newNoDocument(e,r){return new Ln(e,2,r,Ve.min(),Ve.min(),ui.empty(),0)}static newUnknownDocument(e,r){return new Ln(e,3,r,Ve.min(),Ve.min(),ui.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,r){this.position=e,this.inclusive=r}}function UI(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Me.comparator(Me.fromName(o.referenceValue),r.key):n=bf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function FI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!yo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{}class Lr extends N5{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Kz(e,r,n):r==="array-contains"?new Qz(e,n):r==="in"?new Zz(e,n):r==="not-in"?new Jz(e,n):r==="array-contains-any"?new eH(e,n):new Lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Xz(e,n):new Yz(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(bf(r,this.value)):r!==null&&Rl(this.value)===Rl(r)&&this.matchesComparison(bf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class La extends N5{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new La(e,r)}matches(e){return M5(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M5(t){return t.op==="and"}function k5(t){return Wz(t)&&M5(t)}function Wz(t){for(const e of t.filters)if(e instanceof La)return!1;return!0}function Cb(t){if(t instanceof Lr)return t.field.canonicalString()+t.op.toString()+wf(t.value);if(k5(t))return t.filters.map((e=>Cb(e))).join(",");{const e=t.filters.map((r=>Cb(r))).join(",");return`${t.op}(${e})`}}function j5(t,e){return t instanceof Lr?(function(n,i){return i instanceof Lr&&n.op===i.op&&n.field.isEqual(i.field)&&yo(n.value,i.value)})(t,e):t instanceof La?(function(n,i){return i instanceof La&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&j5(o,i.filters[l])),!0):!1})(t,e):void Fe(19439)}function L5(t){return t instanceof Lr?(function(r){return`${r.field.canonicalString()} ${r.op} ${wf(r.value)}`})(t):t instanceof La?(function(r){return r.op.toString()+" {"+r.getFilters().map(L5).join(" ,")+"}"})(t):"Filter"}class Kz extends Lr{constructor(e,r,n){super(e,r,n),this.key=Me.fromName(n.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xz extends Lr{constructor(e,r){super(e,"in",r),this.keys=B5("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Yz extends Lr{constructor(e,r){super(e,"not-in",r),this.keys=B5("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function B5(t,e){return(e.arrayValue?.values||[]).map((r=>Me.fromName(r.referenceValue)))}class Qz extends Lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cE(r)&&Zh(r.arrayValue,this.value)}}class Zz extends Lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Zh(this.value.arrayValue,r)}}class Jz extends Lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Zh(this.value.arrayValue,r)}}class eH extends Lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cE(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Zh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function VI(t,e=null,r=[],n=[],i=null,a=null,o=null){return new tH(t,e,r,n,i,a,o)}function uE(t){const e=$e(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>Cb(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),tm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>wf(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>wf(n))).join(",")),e.Te=r}return e.Te}function fE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Gz(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!j5(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FI(t.startAt,e.startAt)&&FI(t.endAt,e.endAt)}function Ib(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rH(t,e,r,n,i,a,o,l){return new Hf(t,e,r,n,i,a,o,l)}function nm(t){return new Hf(t)}function zI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U5(t){return t.collectionGroup!==null}function Uh(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Zr(Cn.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Jh(a,n))})),r.has(Cn.keyField().canonicalString())||e.Ie.push(new Jh(Cn.keyField(),n))}return e.Ie}function fo(t){const e=$e(t);return e.Ee||(e.Ee=nH(e,Uh(t))),e.Ee}function nH(t,e){if(t.limitType==="F")return VI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Jh(i.field,a)}));const r=t.endAt?new Mg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Mg(t.startAt.position,t.startAt.inclusive):null;return VI(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ob(t,e){const r=t.filters.concat([e]);return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function kg(t,e,r){return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function im(t,e){return fE(fo(t),fo(e))&&t.limitType===e.limitType}function F5(t){return`${uE(fo(t))}|lt:${t.limitType}`}function nf(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>L5(i))).join(", ")}]`),tm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>wf(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>wf(i))).join(",")),`Target(${n})`})(fo(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Me.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Uh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,u){const f=UI(o,l,u);return o.inclusive?f<=0:f<0})(n.startAt,Uh(n),i)||n.endAt&&!(function(o,l,u){const f=UI(o,l,u);return o.inclusive?f>=0:f>0})(n.endAt,Uh(n),i))})(t,e)}function iH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V5(t){return(e,r)=>{let n=!1;for(const i of Uh(t)){const a=aH(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function aH(t,e,r){const n=t.field.isKeyField()?Me.comparator(e.key,r.key):(function(a,o,l){const u=o.data.field(a),f=l.data.field(a);return u!==null&&f!==null?bf(u,f):Fe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return A5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=new lr(Me.comparator);function ss(){return oH}const z5=new lr(Me.comparator);function Ih(...t){let e=z5;for(const r of t)e=e.insert(r.key,r);return e}function H5(t){let e=z5;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Rc(){return Fh()}function $5(){return Fh()}function Fh(){return new au((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sH=new lr(Me.comparator),lH=new Zr(Me.comparator);function lt(...t){let e=lH;for(const r of t)e=e.add(r);return e}const cH=new Zr(st);function uH(){return cH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function q5(t){return{integerValue:""+t}}function G5(t,e){return Bz(e)?q5(e):dE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function fH(t,e,r){return t instanceof ep?(function(i,a){const o={fields:{[C5]:{stringValue:T5},[O5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&lE(a)&&(a=rm(a)),a&&(o.fields[I5]=a),{mapValue:o}})(r,e):t instanceof tp?K5(t,e):t instanceof rp?X5(t,e):(function(i,a){const o=W5(i,a),l=HI(o)+HI(i.Ae);return Tb(o)&&Tb(i.Ae)?q5(l):dE(i.serializer,l)})(t,e)}function dH(t,e,r){return t instanceof tp?K5(t,e):t instanceof rp?X5(t,e):r}function W5(t,e){return t instanceof np?(function(n){return Tb(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ep extends om{}class tp extends om{constructor(e){super(),this.elements=e}}function K5(t,e){const r=Y5(e);for(const n of t.elements)r.some((i=>yo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class rp extends om{constructor(e){super(),this.elements=e}}function X5(t,e){let r=Y5(e);for(const n of t.elements)r=r.filter((i=>!yo(i,n)));return{arrayValue:{values:r}}}class np extends om{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function HI(t){return Sr(t.integerValue||t.doubleValue)}function Y5(t){return cE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r){this.field=e,this.transform=r}}function hH(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof tp&&i instanceof tp||n instanceof rp&&i instanceof rp?_f(n.elements,i.elements,yo):n instanceof np&&i instanceof np?yo(n.Ae,i.Ae):n instanceof ep&&i instanceof ep})(t.transform,e.transform)}class pH{constructor(e,r){this.version=e,this.transformResults=r}}class ca{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function Z5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hE(t.key,ca.none()):new _p(t.key,t.data,ca.none());{const r=t.data,n=ui.empty();let i=new Zr(Cn.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Ul(t.key,n,new Di(i.toArray()),ca.none())}}function gH(t,e,r){t instanceof _p?(function(i,a,o){const l=i.value.clone(),u=qI(i.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof Ul?(function(i,a,o){if(!dg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=qI(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(J5(i)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Vh(t,e,r,n){return t instanceof _p?(function(a,o,l,u){if(!dg(a.precondition,o))return l;const f=a.value.clone(),d=GI(a.fieldTransforms,u,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof Ul?(function(a,o,l,u){if(!dg(a.precondition,o))return l;const f=GI(a.fieldTransforms,u,o),d=o.data;return d.setAll(J5(a)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,o,l){return dg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function vH(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=W5(n.transform,i||null);a!=null&&(r===null&&(r=ui.empty()),r.set(n.field,a))}return r||null}function $I(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_f(n,i,((a,o)=>hH(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _p extends sm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ul extends sm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function J5(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function qI(t,e,r){const n=new Map;It(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,dH(o,l,r[i]))}return n}function GI(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,fH(a,o,e))}return n}class hE extends sm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mH extends sm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gH(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Vh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Vh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=$5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const u=Z5(o,l);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ve.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),lt())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,((r,n)=>$I(r,n)))&&_f(this.baseMutations,e.baseMutations,((r,n)=>$I(r,n)))}}class pE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){It(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return sH})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new pE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr,ut;function bH(t){switch(t){case ce.OK:return Fe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function eN(t){if(t===void 0)return os("GRPC error has no .code"),ce.UNKNOWN;switch(t){case jr.OK:return ce.OK;case jr.CANCELLED:return ce.CANCELLED;case jr.UNKNOWN:return ce.UNKNOWN;case jr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case jr.INTERNAL:return ce.INTERNAL;case jr.UNAVAILABLE:return ce.UNAVAILABLE;case jr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case jr.NOT_FOUND:return ce.NOT_FOUND;case jr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case jr.ABORTED:return ce.ABORTED;case jr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case jr.DATA_LOSS:return ce.DATA_LOSS;default:return Fe(39323,{code:t})}}(ut=jr||(jr={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=new _l([4294967295,4294967295],0);function WI(t){const e=wH().encode(t),r=new h5;return r.update(e),new Uint8Array(r.digest())}function KI(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _l([r,n],0),new _l([i,a],0)]}class gE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Oh(`Invalid padding: ${r}`);if(n<0)throw new Oh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Oh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Oh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=_l.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(_l.fromNumber(n)));return i.compare(EH)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=WI(e),[n,i]=KI(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new gE(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const r=WI(e),[n,i]=KI(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new lm(Ve.min(),i,new lr(st),ss(),lt())}}class bp{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new bp(n,r,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class tN{constructor(e,r){this.targetId=e,this.Ce=r}}class rN{constructor(e,r,n=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XI{constructor(){this.ve=0,this.Fe=YI(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),r=lt(),n=lt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Fe(38017,{changeType:a})}})),new bp(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=YI()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AH{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=D1(),this.He=D1(),this.Ye=new lr(st)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Ib(a))if(n===0){const o=new Me(a.path);this.et(r,o,Ln.newNoDocument(o,Ve.min()))}else It(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(r);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=Ol(n).toUint8Array()}catch(u){if(u instanceof S5)return xf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gE(o,i,a)}catch(u){return xf(u instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Ib(l.target)){const u=new Me(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ln.newNoDocument(u,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=lt();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new lm(e,r,this.Ye,this.je,n);return this.je=ss(),this.Je=D1(),this.He=D1(),this.Ye=new lr(st),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new XI,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Zr(st),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Zr(st),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XI),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function D1(){return new lr(Me.comparator)}function YI(){return new lr(Me.comparator)}const SH={asc:"ASCENDING",desc:"DESCENDING"},TH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CH={and:"AND",or:"OR"};class IH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Rb(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function jg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OH(t,e){return jg(t,e.toTimestamp())}function ho(t){return It(!!t,49232),Ve.fromTimestamp((function(r){const n=Il(r);return new er(n.seconds,n.nanos)})(t))}function vE(t,e){return Pb(t,e).canonicalString()}function Pb(t,e){const r=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function iN(t){const e=Gt.fromString(t);return It(cN(e),10190,{key:e.toString()}),e}function Db(t,e){return vE(t.databaseId,e.path)}function b2(t,e){const r=iN(e);if(r.get(1)!==t.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Me(oN(r))}function aN(t,e){return vE(t.databaseId,e)}function RH(t){const e=iN(t);return e.length===4?Gt.emptyPath():oN(e)}function Nb(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oN(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QI(t,e,r){return{name:Db(t,e),fields:r.value.mapValue.fields}}function PH(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,d){return f.useProto3Json?(It(d===void 0||typeof d=="string",58123),On.fromBase64String(d||"")):(It(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),On.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const d=f.code===void 0?ce.UNKNOWN:eN(f.code);return new xe(d,f.message||"")})(o);r=new rN(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=b2(t,n.document.name),a=ho(n.document.updateTime),o=n.document.createTime?ho(n.document.createTime):Ve.min(),l=new ui({mapValue:{fields:n.document.fields}}),u=Ln.newFoundDocument(i,a,o,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new hg(f,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=b2(t,n.document),a=n.readTime?ho(n.readTime):Ve.min(),o=Ln.newNoDocument(i,a),l=n.removedTargetIds||[];r=new hg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=b2(t,n.document),a=n.removedTargetIds||[];r=new hg([],a,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new _H(i,a),l=n.targetId;r=new tN(l,o)}}return r}function DH(t,e){let r;if(e instanceof _p)r={update:QI(t,e.key,e.value)};else if(e instanceof hE)r={delete:Db(t,e.key)};else if(e instanceof Ul)r={update:QI(t,e.key,e.data),updateMask:VH(e.fieldMask)};else{if(!(e instanceof mH))return Fe(16599,{Vt:e.type});r={verify:Db(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof np)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Fe(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:OH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),r}function NH(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?ho(i.updateTime):ho(a);return o.isEqual(Ve.min())&&(o=ho(a)),new pH(o,i.transformResults||[])})(r,e)))):[]}function MH(t,e){return{documents:[aN(t,e.path)]}}function kH(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=aN(t,i);const a=(function(f){if(f.length!==0)return lN(La.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((d=>(function(v){return{field:af(v.field),direction:BH(v.dir)}})(d)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=Rb(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function jH(t){let e=RH(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){It(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=(function(p){const v=sN(p);return v instanceof La&&k5(v)?v.getFilters():[v]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((v=>(function(b){return new Jh(of(b.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(v)))})(r.orderBy));let l=null;r.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,tm(v)?null:v})(r.limit));let u=null;r.startAt&&(u=(function(p){const v=!!p.before,m=p.values||[];return new Mg(m,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new Mg(m,v)})(r.endAt)),rH(e,i,o,a,l,"F",u,f)}function LH(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function sN(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=of(r.unaryFilter.field);return Lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=of(r.unaryFilter.field);return Lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=of(r.unaryFilter.field);return Lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=of(r.unaryFilter.field);return Lr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Lr.create(of(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return La.create(r.compositeFilter.filters.map((n=>sN(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(r.compositeFilter.op))})(t):Fe(30097,{filter:t})}function BH(t){return SH[t]}function UH(t){return TH[t]}function FH(t){return CH[t]}function af(t){return{fieldPath:t.canonicalString()}}function of(t){return Cn.fromServerFormat(t.fieldPath)}function lN(t){return t instanceof Lr?(function(r){if(r.op==="=="){if(BI(r.value))return{unaryFilter:{field:af(r.field),op:"IS_NAN"}};if(LI(r.value))return{unaryFilter:{field:af(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(BI(r.value))return{unaryFilter:{field:af(r.field),op:"IS_NOT_NAN"}};if(LI(r.value))return{unaryFilter:{field:af(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(r.field),op:UH(r.op),value:r.value}}})(t):t instanceof La?(function(r){const n=r.getFilters().map((i=>lN(i)));return n.length===1?n[0]:{compositeFilter:{op:FH(r.op),filters:n}}})(t):Fe(54877,{filter:t})}function VH(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function cN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,r,n,i,a=Ve.min(),o=Ve.min(),l=On.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.yt=e}}function HH(t){const e=jH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.Cn=new qH}addToCollectionParentIndex(e,r){return this.Cn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(Cl.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(Cl.min())}updateCollectionGroup(e,r,n){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class qH{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Zr(Gt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Zr(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uN=41943040;class ci{static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(uN,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ef(0)}static cr(){return new Ef(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="LruGarbageCollector",GH=1048576;function eO([t,e],[r,n]){const i=st(t,r);return i===0?st(e,n):i}class WH{constructor(e){this.Ir=e,this.buffer=new Zr(eO),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();eO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class KH{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(JI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zf(r)?Ee(JI,"Ignoring IndexedDB error during garbage collection: ",r):await Vf(r)}await this.Vr(3e5)}))}}class XH{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(em.ce);const n=new WH(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(ZI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZI):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,u,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,l=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),rf()<=ot.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function YH(t,e){return new XH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this.changes=new au((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?fe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Vh(n.mutation,i,Di.empty(),er.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,lt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=lt()){const i=Rc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=Ih();return a.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Rc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,lt())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=ss();const o=Fh(),l=(function(){return Fh()})();return r.forEach(((u,f)=>{const d=n.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Ul)?a=a.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Vh(d.mutation,f,d.mutation.getFieldMask(),er.now())):o.set(f.key,Di.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((f,d)=>o.set(f,d))),r.forEach(((f,d)=>l.set(f,new ZH(d,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=Fh();let i=new lr(((o,l)=>o-l)),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((u=>{const f=r.get(u);if(f===null)return;let d=n.get(u)||Di.empty();d=l.applyToLocalView(f,d),n.set(u,d);const p=(i.get(l.batchId)||lt()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,p=$5();d.forEach((v=>{if(!a.has(v)){const m=Z5(r.get(v),n.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return Me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):U5(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):fe.resolve(Rc());let l=Xh,u=a;return o.next((f=>fe.forEach(f,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next((v=>{u=u.insert(d,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,u,f,lt()))).next((d=>({batchId:l,changes:H5(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next((n=>{let i=Ih();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Ih();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(u=>{const f=(function(p,v){return new Hf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((d=>{d.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((u,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Ln.newInvalidDocument(d)))}));let l=Ih();return o.forEach(((u,f)=>{const d=a.get(u);d!==void 0&&Vh(d.mutation,f,Di.empty(),er.now()),am(r,f)&&(l=l.insert(u,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}})(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:HH(i.bundledQuery),readTime:ho(i.readTime)}})(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.overlays=new lr(Me.comparator),this.qr=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Rc();return fe.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),fe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),fe.resolve()}getOverlaysForCollection(e,r,n){const i=Rc(),a=r.length+1,o=new Me(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new lr(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=a.get(f.largestBatchId);d===null&&(d=Rc(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Rc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return fe.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new xH(r,n));let a=this.qr.get(r);a===void 0&&(a=lt(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Qr=new Zr(ln.$r),this.Ur=new Zr(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new ln(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new ln(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Me(new Gt([])),n=new ln(r,e),i=new ln(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Me(new Gt([])),n=new ln(r,e),i=new ln(r,e+1);let a=lt();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new ln(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ln{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Me.comparator(e.key,r.key)||st(e.Yr,r.Yr)}static Kr(e,r){return st(e.Yr,r.Yr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Zr(ln.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yH(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new ln(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,r){return fe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?sE:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ln(r,0),i=new ln(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Zr(st);return r.forEach((i=>{const a=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{n=n.add(l.Yr)}))})),fe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Me.isDocumentKey(a)||(a=a.child(""));const o=new ln(new Me(a),0);let l=new Zr(st);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){It(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return fe.forEach(r.mutations,(i=>{const a=new ln(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new ln(r,0),i=this.Zr.firstAfterOrEqual(n);return fe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.ri=e,this.docs=(function(){return new lr(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return fe.resolve(n?n.document.mutableCopy():Ln.newInvalidDocument(r))}getEntries(e,r){let n=ss();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ln.newInvalidDocument(i))})),fe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ss();const o=r.path,l=new Me(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Mz(Nz(d),n)<=0||(i.has(d.key)||am(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Fe(9500)}ii(e,r){return fe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new a$(this)}getSize(e){return fe.resolve(this.size)}}class a$ extends QH{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),fe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.persistence=e,this.si=new au((r=>uE(r)),fE),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new mE,this.targetCount=0,this.ai=Ef.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),fe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ef(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.Pr(r),fe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return fe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),fe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return fe.resolve(n)}containsKey(e,r){return fe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,r){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new r$,this.referenceDelegate=e(this),this.Pi=new o$(this),this.indexManager=new $H,this.remoteDocumentCache=(function(i){return new i$(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new zH(r),this.Ii=new e$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new t$,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new n$(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ee("MemoryPersistence","Starting transaction:",e);const i=new s$(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return fe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class s$ extends jz{constructor(e){super(),this.currentSequenceNumber=e}}class yE{constructor(e){this.persistence=e,this.Ri=new mE,this.Vi=null}static mi(e){return new yE(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),fe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(n=>{const i=Me.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return fe.or([()=>fe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Lg{constructor(e,r){this.persistence=e,this.pi=new au((n=>Uz(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=YH(this,r)}static mi(e,r){return new Lg(e,r)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return fe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?fe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ve.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ug(e.data.value)),r}br(e,r,n){return fe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return fe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=lt(),i=lt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new xE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rV()?8:Lz(Vn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new l$;return this.Ss(e,r,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(rf()<=ot.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",nf(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(rf()<=ot.DEBUG&&Ee("QueryEngine","Query:",nf(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(rf()<=ot.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",nf(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(r))):fe.resolve())}ys(e,r){if(zI(r))return fe.resolve(null);let n=fo(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=kg(r,null,"F"),n=fo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=lt(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((u=>{const f=this.Ds(r,l);return this.Cs(r,f,o,u.readTime)?this.ys(e,kg(r,null,"F")):this.vs(e,f,r,u)}))))})))))}ws(e,r,n,i){return zI(r)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?fe.resolve(null):(rf()<=ot.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nf(r)),this.vs(e,o,r,Dz(i,Xh)).next((l=>l)))}))}Ds(e,r){let n=new Zr(V5(e));return r.forEach(((i,a)=>{am(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return rf()<=ot.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",nf(r)),this.ps.getDocumentsMatchingQuery(e,r,Cl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="LocalStore",u$=3e8;class f${constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new lr(st),this.xs=new au((a=>uE(a)),fE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function d$(t,e,r,n){return new f$(t,e,r,n)}async function dN(t,e){const r=$e(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let u=lt();for(const f of i){o.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of a){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return r.localDocuments.getDocuments(n,u).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function h$(t,e){const r=$e(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((b=>{m=m.next((()=>d.getEntry(u,b))).next((w=>{const A=f.docVersions.get(b);It(A!==null,48541),w.version.compareTo(A)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),d.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let u=lt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function hN(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function p$(t,e){const r=$e(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const v=i.get(p);if(!v)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,d.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(On.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),i=i.insert(p,m),(function(w,A,S){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=u$?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,d)&&l.push(r.Pi.updateTargetData(a,m))}));let u=ss(),f=lt();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),l.push(g$(a,o,e.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!n.isEqual(Ve.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(d)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,u,f))).next((()=>u))})).then((a=>(r.Ms=i,a)))}function g$(t,e,r){let n=lt(),i=lt();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=ss();return r.forEach(((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ee(_E,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function v$(t,e){const r=$e(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=sE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function m$(t,e){const r=$e(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,fe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new gl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function Mb(t,e,r){const n=$e(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zf(o))throw o;Ee(_E,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function tO(t,e,r){const n=$e(t);let i=Ve.min(),a=lt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,f,d){const p=$e(u),v=p.xs.get(d);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,d)})(n,o,fo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{a=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Ve.min(),r?a:lt()))).next((l=>(y$(n,iH(e),l),{documents:l,Qs:a})))))}function y$(t,e,r){let n=t.Os.get(e)||Ve.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class rO{constructor(){this.activeTargetIds=uH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x${constructor(){this.Mo=new rO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rO,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="ConnectivityMonitor";class iO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(nO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(nO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1=null;function kb(){return N1===null?N1=(function(){return 268435456+Math.round(2147483648*Math.random())})():N1++,"0x"+N1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="RestConnection",b$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Dg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=kb(),l=this.zo(e,r.toUriEncodedString());Ee(w2,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:f}=new URL(l),d=Eo(f);return this.Jo(e,l,u,n,d).then((p=>(Ee(w2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw xf(w2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ff})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=b$[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class A$ extends w${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=kb();return new Promise(((l,u)=>{const f=new p5;f.setWithCredentials(!0),f.listenOnce(g5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case cg.NO_ERROR:const p=f.getResponseJson();Ee(Nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case cg.TIMEOUT:Ee(Nn,`RPC '${e}' ${o} timed out`),u(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case cg.HTTP_ERROR:const v=f.getStatus();if(Ee(Nn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m?.error;if(b&&b.status&&b.message){const w=(function(S){const O=S.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN})(b.status);u(new xe(w,b.message))}else u(new xe(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ee(Nn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Ee(Nn,`RPC '${e}' ${o} sending request:`,i),f.send(r,"POST",d,n,15)}))}T_(e,r,n){const i=kb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y5(),l=m5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const d=a.join("");Ee(Nn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);this.I_(p);let v=!1,m=!1;const b=new E$({Yo:A=>{m?Ee(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(Ee(Nn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ee(Nn,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),w=(A,S,O)=>{A.listen(S,(I=>{try{O(I)}catch(R){setTimeout((()=>{throw R}),0)}}))};return w(p,Ch.EventType.OPEN,(()=>{m||(Ee(Nn,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),w(p,Ch.EventType.CLOSE,(()=>{m||(m=!0,Ee(Nn,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),w(p,Ch.EventType.ERROR,(A=>{m||(m=!0,xf(Nn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new xe(ce.UNAVAILABLE,"The operation could not be completed")))})),w(p,Ch.EventType.MESSAGE,(A=>{if(!m){const S=A.data[0];It(!!S,16349);const O=S,I=O?.error||O[0]?.error;if(I){Ee(Nn,`RPC '${e}' stream ${i} received error:`,I);const R=I.status;let k=(function(M){const j=jr[M];if(j!==void 0)return eN(j)})(R),L=I.message;k===void 0&&(k=ce.INTERNAL,L="Unknown error status: "+R+" with message "+I.message),m=!0,b.a_(new xe(k,L)),p.close()}else Ee(Nn,`RPC '${e}' stream ${i} received:`,S),b.u_(S)}})),w(l,v5.STAT_EVENT,(A=>{A.stat===Eb.PROXY?Ee(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Eb.NOPROXY&&Ee(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function E2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new IH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="PersistentStream";class gN{constructor(e,r,n,i,a,o,l,u){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pN(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(os(r.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new xe(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(aO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ee(aO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S$ extends gN{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=PH(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?ho(o.readTime):Ve.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Nb(this.serializer),r.addTarget=(function(a,o){let l;const u=o.target;if(l=Ib(u)?{documents:MH(a,u)}:{query:kH(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=nN(a,o.resumeToken);const f=Rb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=jg(a,o.snapshotVersion.toTimestamp());const f=Rb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const n=LH(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Nb(this.serializer),r.removeTarget=e,this.q_(r)}}class T$ extends gN{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=NH(e.writeResults,e.commitTime),n=ho(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Nb(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>DH(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${}class I$ extends C${constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Pb(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ce.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Pb(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O${constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(r),this.aa=!1):Ee("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="RemoteStore";class R${constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{ou(this)&&(Ee(Wc,"Restarting streams for network reachability change."),await(async function(u){const f=$e(u);f.Ea.add(4),await wp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await um(f)})(this))}))})),this.Ra=new O$(n,i)}}async function um(t){if(ou(t))for(const e of t.da)await e(!0)}async function wp(t){for(const e of t.da)await e(!1)}function vN(t,e){const r=$e(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),AE(r)?EE(r):$f(r).O_()&&wE(r,e))}function bE(t,e){const r=$e(t),n=$f(r);r.Ia.delete(e),n.O_()&&mN(r,e),r.Ia.size===0&&(n.O_()?n.L_():ou(r)&&r.Ra.set("Unknown"))}function wE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$f(t).Y_(e)}function mN(t,e){t.Va.Ue(e),$f(t).Z_(e)}function EE(t){t.Va=new AH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$f(t).start(),t.Ra.ua()}function AE(t){return ou(t)&&!$f(t).x_()&&t.Ia.size>0}function ou(t){return $e(t).Ea.size===0}function yN(t){t.Va=void 0}async function P$(t){t.Ra.set("Online")}async function D$(t){t.Ia.forEach(((e,r)=>{wE(t,e)}))}async function N$(t,e){yN(t),AE(t)?(t.Ra.ha(e),EE(t)):t.Ra.set("Unknown")}async function M$(t,e,r){if(t.Ra.set("Online"),e instanceof rN&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){Ee(Wc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Bg(t,n)}else if(e instanceof hg?t.Va.Ze(e):e instanceof tN?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ve.min()))try{const n=await hN(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=a.Ia.get(f);d&&a.Ia.set(f,d.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,f)=>{const d=a.Ia.get(u);if(!d)return;a.Ia.set(u,d.withResumeToken(On.EMPTY_BYTE_STRING,d.snapshotVersion)),mN(a,u);const p=new gl(d.target,u,f,d.sequenceNumber);wE(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){Ee(Wc,"Failed to raise snapshot:",n),await Bg(t,n)}}async function Bg(t,e,r){if(!zf(e))throw e;t.Ea.add(1),await wp(t),t.Ra.set("Offline"),r||(r=()=>hN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Wc,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await um(t)}))}function xN(t,e){return e().catch((r=>Bg(t,r,e)))}async function fm(t){const e=$e(t),r=Pl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sE;for(;k$(e);)try{const i=await v$(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,j$(e,i)}catch(i){await Bg(e,i)}_N(e)&&bN(e)}function k$(t){return ou(t)&&t.Ta.length<10}function j$(t,e){t.Ta.push(e);const r=Pl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function _N(t){return ou(t)&&!Pl(t).x_()&&t.Ta.length>0}function bN(t){Pl(t).start()}async function L$(t){Pl(t).ra()}async function B$(t){const e=Pl(t);for(const r of t.Ta)e.ea(r.mutations)}async function U$(t,e,r){const n=t.Ta.shift(),i=pE.from(n,e,r);await xN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await fm(t)}async function F$(t,e){e&&Pl(t).X_&&await(async function(n,i){if((function(o){return bH(o)&&o!==ce.ABORTED})(i.code)){const a=n.Ta.shift();Pl(n).B_(),await xN(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await fm(n)}})(t,e),_N(t)&&bN(t)}async function oO(t,e){const r=$e(t);r.asyncQueue.verifyOperationInProgress(),Ee(Wc,"RemoteStore received new credentials");const n=ou(r);r.Ea.add(3),await wp(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await um(r)}async function V$(t,e){const r=$e(t);e?(r.Ea.delete(2),await um(r)):e||(r.Ea.add(2),await wp(r),r.Ra.set("Unknown"))}function $f(t){return t.ma||(t.ma=(function(r,n,i){const a=$e(r);return a.sa(),new S$(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:P$.bind(null,t),t_:D$.bind(null,t),r_:N$.bind(null,t),H_:M$.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),AE(t)?EE(t):t.Ra.set("Unknown")):(await t.ma.stop(),yN(t))}))),t.ma}function Pl(t){return t.fa||(t.fa=(function(r,n,i){const a=$e(r);return a.sa(),new T$(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L$.bind(null,t),r_:F$.bind(null,t),ta:B$.bind(null,t),na:U$.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await fm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Wc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new SE(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TE(t,e){if(os("AsyncQueue",`${e}: ${t}`),zf(t))return new xe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{static emptySet(e){return new uf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Me.comparator(r.key,n.key):(r,n)=>Me.comparator(r.key,n.key),this.keyedMap=Ih(),this.sortedSet=new lr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new uf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.ga=new lr(Me.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Af{constructor(e,r,n,i,a,o,l,u,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new Af(e,r,uf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H${constructor(){this.queries=lO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=$e(r),a=i.queries;i.queries=lO(),a.forEach(((o,l)=>{for(const u of l.Sa)u.onError(n)}))})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function lO(){return new au((t=>F5(t)),im)}async function CE(t,e){const r=$e(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new z$,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=TE(o,`Initialization of query '${nf(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&OE(r)}async function IE(t,e){const r=$e(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function $$(t,e){const r=$e(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&OE(r)}function q$(t,e,r){const n=$e(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function OE(t){t.Ca.forEach((e=>{e.next()}))}var jb,cO;(cO=jb||(jb={})).Ma="default",cO.Cache="cache";class RE{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.key=e}}class EN{constructor(e){this.key=e}}class G${constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=V5(e),this.tu=new uf(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new sO,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const v=i.get(d),m=am(this.query,p)?p:null,b=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;v&&m?v.data.isEqual(m.data)?b!==w&&(n.track({type:3,doc:m}),A=!0):this.su(v,m)||(n.track({type:2,doc:m}),A=!0,(u&&this.eu(m,u)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(n.track({type:0,doc:m}),A=!0):v&&!m&&(n.track({type:1,doc:v}),A=!0,(u||f)&&(l=!0)),A&&(m?(o=o.add(m),a=w?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(m,b){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:A})}};return w(m)-w(b)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,f=u!==this.Za;return this.Za=u,o.length!==0||f?{snapshot:new Af(this.query,e.tu,a,o,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new EN(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new wN(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=lt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Af.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const PE="SyncEngine";class W${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class K${constructor(e){this.key=e,this.hu=!1}}class X${constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new au((l=>F5(l)),im),this.Iu=new Map,this.Eu=new Set,this.du=new lr(Me.comparator),this.Au=new Map,this.Ru=new mE,this.Vu={},this.mu=new Map,this.fu=Ef.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y$(t,e,r=!0){const n=ON(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await AN(n,e,r,!0),i}async function Q$(t,e){const r=ON(t);await AN(r,e,!0,!1)}async function AN(t,e,r,n){const i=await m$(t.localStore,fo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await Z$(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&vN(t.remoteStore,i),l}async function Z$(t,e,r,n,i){t.pu=(p,v,m)=>(async function(w,A,S,O){let I=A.view.ru(S);I.Cs&&(I=await tO(w.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,I))));const R=O&&O.targetChanges.get(A.targetId),k=O&&O.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(I,w.isPrimaryClient,R,k);return fO(w,A.targetId,L.au),L.snapshot})(t,p,v,m);const a=await tO(t.localStore,e,!0),o=new G$(e,a.Qs),l=o.ru(a.documents),u=bp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,u);fO(t,r,f.au);const d=new W$(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function J$(t,e,r){const n=$e(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!im(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Mb(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&bE(n.remoteStore,i.targetId),Lb(n,i.targetId)})).catch(Vf)):(Lb(n,i.targetId),await Mb(n.localStore,i.targetId,!0))}async function eq(t,e){const r=$e(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),bE(r.remoteStore,n.targetId))}async function tq(t,e,r){const n=lq(t);try{const i=await(function(o,l){const u=$e(o),f=er.now(),d=l.reduce(((m,b)=>m.add(b.key)),lt());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let b=ss(),w=lt();return u.Ns.getEntries(m,d).next((A=>{b=A,b.forEach(((S,O)=>{O.isValidDocument()||(w=w.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(m,b))).next((A=>{p=A;const S=[];for(const O of l){const I=vH(O,p.get(O.key).overlayedDocument);I!=null&&S.push(new Ul(O.key,I,D5(I.value.mapValue),ca.exists(!0)))}return u.mutationQueue.addMutationBatch(m,f,S,l)})).next((A=>{v=A;const S=A.applyToLocalDocumentSet(p,w);return u.documentOverlayCache.saveOverlays(m,A.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:H5(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let f=o.Vu[o.currentUser.toKey()];f||(f=new lr(st)),f=f.insert(l,u),o.Vu[o.currentUser.toKey()]=f})(n,i.batchId,r),await Ep(n,i.changes),await fm(n.remoteStore)}catch(i){const a=TE(i,"Failed to persist write");r.reject(a)}}async function SN(t,e){const r=$e(t);try{const n=await p$(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?It(o.hu,14607):i.removedDocuments.size>0&&(It(o.hu,42227),o.hu=!1))})),await Ep(r,n,e)}catch(n){await Vf(n)}}function uO(t,e,r){const n=$e(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=$e(o);u.onlineState=l;let f=!1;u.queries.forEach(((d,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&OE(u)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function rq(t,e,r){const n=$e(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new lr(Me.comparator);o=o.insert(a,Ln.newNoDocument(a,Ve.min()));const l=lt().add(a),u=new lm(Ve.min(),new Map,new lr(st),o,l);await SN(n,u),n.du=n.du.remove(a),n.Au.delete(e),DE(n)}else await Mb(n.localStore,e,!1).then((()=>Lb(n,e,r))).catch(Vf)}async function nq(t,e){const r=$e(t),n=e.batch.batchId;try{const i=await h$(r.localStore,e);CN(r,n,null),TN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ep(r,i)}catch(i){await Vf(i)}}async function iq(t,e,r){const n=$e(t);try{const i=await(function(o,l){const u=$e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((p=>(It(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(f,p)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(n.localStore,e);CN(n,e,r),TN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ep(n,i)}catch(i){await Vf(i)}}function TN(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function CN(t,e,r){const n=$e(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Lb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||IN(t,n)}))}function IN(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(bE(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),DE(t))}function fO(t,e,r){for(const n of r)n instanceof wN?(t.Ru.addReference(n.key,e),aq(t,n)):n instanceof EN?(Ee(PE,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||IN(t,n.key)):Fe(19791,{wu:n})}function aq(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ee(PE,"New document in limbo: "+r),t.Eu.add(n),DE(t))}function DE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Me(Gt.fromString(e)),n=t.fu.next();t.Au.set(n,new K$(r)),t.du=t.du.insert(r,n),vN(t.remoteStore,new gl(fo(nm(r.path)),n,"TargetPurposeLimboResolution",em.ce))}}async function Ep(t,e,r){const n=$e(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,u)=>{o.push(n.pu(u,e,r).then((f=>{if((f||r)&&n.isPrimaryClient){const d=f?!f.fromCache:r?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){i.push(f);const d=xE.As(u.targetId,f);a.push(d)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(u,f){const d=$e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>d.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>d.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!zf(p))throw p;Ee(_E,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=d.Ms.get(v),b=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(v,w)}}})(n.localStore,a))}async function oq(t,e){const r=$e(t);if(!r.currentUser.isEqual(e)){Ee(PE,"User change. New user:",e.toKey());const n=await dN(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new xe(ce.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ep(r,n.Ls)}}function sq(t,e){const r=$e(t),n=r.Au.get(e);if(n&&n.hu)return lt().add(n.key);{let i=lt();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function ON(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rq.bind(null,e),e.Pu.H_=$$.bind(null,e.eventManager),e.Pu.yu=q$.bind(null,e.eventManager),e}function lq(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iq.bind(null,e),e}class Ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return d$(this.persistence,new c$,e.initialUser,this.serializer)}Cu(e){return new fN(yE.mi,this.serializer)}Du(e){return new x$}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ug.provider={build:()=>new Ug};class cq extends Ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){It(this.persistence.referenceDelegate instanceof Lg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new KH(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new fN((n=>Lg.mi(n,r)),this.serializer)}}class Bb{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>uO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=oq.bind(null,this.syncEngine),await V$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H$})()}createDatastore(e){const r=cm(e.databaseInfo.databaseId),n=(function(a){return new A$(a)})(e.databaseInfo);return(function(a,o,l,u){return new I$(a,o,l,u)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new R$(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>uO(this.syncEngine,r,0)),(function(){return iO.v()?new iO:new _$})())}createSyncEngine(e,r){return(function(i,a,o,l,u,f,d){const p=new X$(i,a,o,l,u,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=$e(r);Ee(Wc,"RemoteStore shutting down."),n.Ea.add(5),await wp(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bb.provider={build:()=>new Bb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="FirestoreClient";class uq{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=oE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{Ee(Dl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Ee(Dl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=TE(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function A2(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Dl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await dN(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dO(t,e){t.asyncQueue.verifyOperationInProgress();const r=await fq(t);Ee(Dl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>oO(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>oO(e.remoteStore,i))),t._onlineComponents=e}async function fq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Dl,"Using user provided OfflineComponentProvider");try{await A2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;xf("Error using user provided cache. Falling back to memory cache: "+r),await A2(t,new Ug)}}else Ee(Dl,"Using default OfflineComponentProvider"),await A2(t,new cq(void 0));return t._offlineComponents}async function RN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Dl,"Using user provided OnlineComponentProvider"),await dO(t,t._uninitializedComponentsProvider._online)):(Ee(Dl,"Using default OnlineComponentProvider"),await dO(t,new Bb))),t._onlineComponents}function dq(t){return RN(t).then((e=>e.syncEngine))}async function Fg(t){const e=await RN(t),r=e.eventManager;return r.onListen=Y$.bind(null,e.syncEngine),r.onUnlisten=J$.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Q$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=eq.bind(null,e.syncEngine),r}function hq(t,e,r={}){const n=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,f){const d=new NE({next:v=>{d.Nu(),o.enqueueAndForget((()=>IE(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&u&&u.source==="server"?f.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new RE(nm(l.path),d,{includeMetadataChanges:!0,qa:!0});return CE(a,p)})(await Fg(t),t.asyncQueue,e,r,n))),n.promise}function pq(t,e,r={}){const n=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,f){const d=new NE({next:v=>{d.Nu(),o.enqueueAndForget((()=>IE(a,p))),v.fromCache&&u.source==="server"?f.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new RE(l,d,{includeMetadataChanges:!0,qa:!0});return CE(a,p)})(await Fg(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firestore.googleapis.com",pO=!0;class gO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DN,this.ssl=pO}else this.host=e.host,this.ssl=e.ssl??pO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GH)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PN(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new _z;switch(n.type){case"firstParty":return new Az(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=hO.get(r);n&&(Ee("ComponentProvider","Removing Datastore"),hO.delete(r),n.terminate())})(this),Promise.resolve()}}function gq(t,e,r,n={}){t=hi(t,dm);const i=Eo(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(Yv(`https://${l}`),Qv("Firestore",!0)),a.host!==DN&&a.host!==l&&xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:n};if(!qc(u,o)&&(t._setSettings(u),n.mockUserToken)){let f,d;if(typeof n.mockUserToken=="string")f=n.mockUserToken,d=jn.MOCK_USER;else{f=s5(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jn(p)}t._authCredentials=new bz(new _5(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class pr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}toJSON(){return{type:pr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(xp(r,pr._jsonSchema))return new pr(e,n||null,new Me(Gt.fromString(r.referencePath)))}}pr._jsonSchemaVersion="firestore/documentReference/1.0",pr._jsonSchema={type:Br("string",pr._jsonSchemaVersion),referencePath:Br("string")};class bl extends ps{constructor(e,r,n){super(e,r,nm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Me(e))}withConverter(e){return new bl(this.firestore,e,this._path)}}function yt(t,e,...r){if(t=$t(t),b5("collection","path",e),t instanceof dm){const n=Gt.fromString(e,...r);return II(n),new bl(t,null,n)}{if(!(t instanceof pr||t instanceof bl))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gt.fromString(e,...r));return II(n),new bl(t.firestore,null,n)}}function dt(t,e,...r){if(t=$t(t),arguments.length===1&&(e=oE.newId()),b5("doc","path",e),t instanceof dm){const n=Gt.fromString(e,...r);return CI(n),new pr(t,null,new Me(n))}{if(!(t instanceof pr||t instanceof bl))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gt.fromString(e,...r));return CI(n),new pr(t.firestore,t instanceof bl?t.converter:null,new Me(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="AsyncQueue";class mO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pN(this,"async_queue_retry"),this._c=()=>{const n=E2();n&&Ee(vO,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=E2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=E2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zf(e))throw e;Ee(vO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",yO(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=SE.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:yO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function yO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ls extends dm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new mO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mO(e),this._firestoreClient=void 0,await e}}}function vq(t,e){const r=typeof t=="object"?t:Zv(),n=typeof t=="string"?t:Dg,i=yp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=rE("firestore");a&&gq(i,...a)}return i}function hm(t){if(t._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mq(t),t._firestoreClient}function mq(t){const e=t._freezeSettings(),r=(function(i,a,o,l){return new zz(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,PN(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uq(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(On.fromBase64String(e))}catch(r){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new aa(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xp(e,aa._jsonSchema))return aa.fromBase64String(e.bytes)}}aa._jsonSchemaVersion="firestore/bytes/1.0",aa._jsonSchema={type:Br("string",aa._jsonSchemaVersion),bytes:Br("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:po._jsonSchemaVersion}}static fromJSON(e){if(xp(e,po._jsonSchema))return new po(e.latitude,e.longitude)}}po._jsonSchemaVersion="firestore/geoPoint/1.0",po._jsonSchema={type:Br("string",po._jsonSchemaVersion),latitude:Br("number"),longitude:Br("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xp(e,go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new go(e.vectorValues);throw new xe(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:Br("string",go._jsonSchemaVersion),vectorValues:Br("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=/^__.*__$/;class xq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ul(e,this.data,this.fieldMask,r,this.fieldTransforms):new _p(e,this.data,r,this.fieldTransforms)}}class NN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ul(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function MN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class ME{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ME({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MN(this.Ac)&&yq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _q{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||cm(e)}Cc(e,r,n,i=!1){return new ME({Ac:e,methodName:r,Dc:n,path:Cn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gm(t){const e=t._freezeSettings(),r=cm(t._databaseId);return new _q(t._databaseId,!!e.ignoreUndefinedProperties,r)}function kN(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);LE("Data must be an object, but it was:",o,n);const l=jN(n,o);let u,f;if(a.merge)u=new Di(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const v=Ub(e,p,r);if(!o.contains(v))throw new xe(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);BN(d,v)||d.push(v)}u=new Di(d),f=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,f=o.fieldTransforms;return new xq(new ui(l),u,f)}class vm extends Ap{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class kE extends Ap{_toFieldTransform(e){return new Q5(e.path,new ep)}isEqual(e){return e instanceof kE}}class jE extends Ap{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new np(e.serializer,G5(e.serializer,this.Fc));return new Q5(e.path,r)}isEqual(e){return e instanceof jE&&this.Fc===e.Fc}}function bq(t,e,r,n){const i=t.Cc(1,e,r);LE("Data must be an object, but it was:",i,n);const a=[],o=ui.empty();Bl(n,((u,f)=>{const d=BE(e,u,r);f=$t(f);const p=i.yc(d);if(f instanceof vm)a.push(d);else{const v=Sp(f,p);v!=null&&(a.push(d),o.set(d,v))}}));const l=new Di(a);return new NN(o,l,i.fieldTransforms)}function wq(t,e,r,n,i,a){const o=t.Cc(1,e,r),l=[Ub(e,n,r)],u=[i];if(a.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(Ub(e,a[v])),u.push(a[v+1]);const f=[],d=ui.empty();for(let v=l.length-1;v>=0;--v)if(!BN(f,l[v])){const m=l[v];let b=u[v];b=$t(b);const w=o.yc(m);if(b instanceof vm)f.push(m);else{const A=Sp(b,w);A!=null&&(f.push(m),d.set(m,A))}}const p=new Di(f);return new NN(d,p,o.fieldTransforms)}function Eq(t,e,r,n=!1){return Sp(r,t.Cc(n?4:3,e))}function Sp(t,e){if(LN(t=$t(t)))return LE("Unsupported field value:",e,t),jN(t,e);if(t instanceof Ap)return(function(n,i){if(!MN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let u=Sp(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=$t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return G5(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=er.fromDate(n);return{timestampValue:jg(i.serializer,a)}}if(n instanceof er){const a=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jg(i.serializer,a)}}if(n instanceof po)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof aa)return{bytesValue:nN(i.serializer,n._byteString)};if(n instanceof pr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof go)return(function(o,l){return{mapValue:{fields:{[R5]:{stringValue:P5},[Ng]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return dE(l.serializer,f)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Jv(n)}`)})(t,e)}function jN(t,e){const r={};return A5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,((n,i)=>{const a=Sp(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function LN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof po||t instanceof aa||t instanceof pr||t instanceof Ap||t instanceof go)}function LE(t,e,r){if(!LN(r)||!w5(r)){const n=Jv(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Ub(t,e,r){if((e=$t(e))instanceof pm)return e._internalPath;if(typeof e=="string")return BE(t,e);throw Vg("Field path arguments must be of type string or ",t,!1,void 0,r)}const Aq=new RegExp("[~\\*/\\[\\]]");function BE(t,e,r){if(e.search(Aq)>=0)throw Vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new pm(...e.split("."))._internalPath}catch{throw Vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Vg(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new xe(ce.INVALID_ARGUMENT,l+t+u)}function BN(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Sq extends UN{data(){return super.data()}}function mm(t,e){return typeof e=="string"?BE(t,e):e instanceof pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UE{}class FE extends UE{}function Fr(t,e,...r){let n=[];e instanceof UE&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((u=>u instanceof VE)).length,l=a.filter((u=>u instanceof ym)).length;if(o>1||o>0&&l>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class ym extends FE{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ym(e,r,n)}_apply(e){const r=this._parse(e);return VN(e._query,r),new ps(e.firestore,e.converter,Ob(e._query,r))}_parse(e){const r=gm(e.firestore);return(function(a,o,l,u,f,d,p){let v;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bO(p,d);const b=[];for(const w of p)b.push(_O(u,a,w));v={arrayValue:{values:b}}}else v=_O(u,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bO(p,d),v=Eq(l,o,p,d==="in"||d==="not-in");return Lr.create(f,d,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Tp(t,e,r){const n=e,i=mm("where",t);return ym._create(i,n,r)}class VE extends UE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new VE(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:La.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const u of l)VN(o,u),o=Ob(o,u)})(e._query,r),new ps(e.firestore,e.converter,Ob(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zE extends FE{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new zE(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jh(a,o)})(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Hf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function fa(t,e="asc"){const r=e,n=mm("orderBy",t);return zE._create(n,r)}class HE extends FE{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new HE(e,r,n)}_apply(e){return new ps(e.firestore,e.converter,kg(e._query,this._limit,this._limitType))}}function Tq(t){return Pz("limit",t),HE._create("limit",t,"F")}function _O(t,e,r){if(typeof(r=$t(r))=="string"){if(r==="")throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U5(e)&&r.indexOf("/")!==-1)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Gt.fromString(r));if(!Me.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return jI(t,new Me(n))}if(r instanceof pr)return jI(t,r._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jv(r)}.`)}function bO(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VN(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Cq{convertValue(e,r="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Bl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[Ng].arrayValue?.values?.map((n=>Sr(n.doubleValue)));return new go(r)}convertGeoPoint(e){return new po(Sr(e.latitude),Sr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=rm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const r=Il(e);return new er(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Gt.fromString(e);It(cN(n),9688,{name:e});const i=new Qh(n.get(1),n.get(3)),a=new Me(n.popFirst(5));return i.isEqual(r)||os(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Rh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends UN{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Lc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Lc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lc._jsonSchema={type:Br("string",Lc._jsonSchemaVersion),bundleSource:Br("string","DocumentSnapshot"),bundleName:Br("string"),bundle:Br("string")};class pg extends Lc{data(e={}){return super.data(e)}}class Bc{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new pg(this._firestore,this._userDataWriter,n.key,n,new Rh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new pg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new pg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Iq(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Iq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){t=hi(t,pr);const e=hi(t.firestore,ls);return hq(hm(e),t._key).then((r=>HN(e,t,r)))}Bc._jsonSchemaVersion="firestore/querySnapshot/1.0",Bc._jsonSchema={type:Br("string",Bc._jsonSchemaVersion),bundleSource:Br("string","QuerySnapshot"),bundleName:Br("string"),bundle:Br("string")};class $E extends Cq{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,r)}}function pi(t){t=hi(t,ps);const e=hi(t.firestore,ls),r=hm(e),n=new $E(e);return FN(t._query),pq(r,t._query).then((i=>new Bc(e,n,t,i)))}function su(t,e,r){t=hi(t,pr);const n=hi(t.firestore,ls),i=zN(t.converter,e);return xm(n,[kN(gm(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ca.none())])}function Bi(t,e,r,...n){t=hi(t,pr);const i=hi(t.firestore,ls),a=gm(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof pm?wq(a,"updateDoc",t._key,e,r,n):bq(a,"updateDoc",t._key,e),xm(i,[o.toMutation(t._key,ca.exists(!0))])}function da(t){return xm(hi(t.firestore,ls),[new hE(t._key,ca.none())])}function Gf(t,e){const r=hi(t.firestore,ls),n=dt(t),i=zN(t.converter,e);return xm(r,[kN(gm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ca.exists(!1))]).then((()=>n))}function Wf(t,...e){t=$t(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||xO(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(xO(e[n])){const u=e[n];e[n]=u.next?.bind(u),e[n+1]=u.error?.bind(u),e[n+2]=u.complete?.bind(u)}let a,o,l;if(t instanceof pr)o=hi(t.firestore,ls),l=nm(t._key.path),a={next:u=>{e[n]&&e[n](HN(o,t,u))},error:e[n+1],complete:e[n+2]};else{const u=hi(t,ps);o=hi(u.firestore,ls),l=u._query;const f=new $E(o);a={next:d=>{e[n]&&e[n](new Bc(o,f,u,d))},error:e[n+1],complete:e[n+2]},FN(t._query)}return(function(f,d,p,v){const m=new NE(v),b=new RE(d,m,p);return f.asyncQueue.enqueueAndForget((async()=>CE(await Fg(f),b))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>IE(await Fg(f),b)))}})(hm(o),l,i,a)}function xm(t,e){return(function(n,i){const a=new es;return n.asyncQueue.enqueueAndForget((async()=>tq(await dq(n),i,a))),a.promise})(hm(t),e)}function HN(t,e,r){const n=r.docs.get(e._key),i=new $E(t);return new Lc(t,i,e._key,n,new Rh(r.hasPendingWrites,r.fromCache),e.converter)}function Oq(){return new kE("serverTimestamp")}function Kf(t){return new jE("increment",t)}(function(e,r=!0){(function(i){Ff=i})(iu),Tl(new is("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new ls(new wz(n.getProvider("auth-internal")),new Sz(o,n.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qh(f.options.projectId,d)})(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),la(EI,AI,e),la(EI,AI,"esm2020")})();var Rq="firebase",Pq="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(Rq,Pq,"app");function $N(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dq=$N,qN=new vp("auth","Firebase",$N());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new nE("@firebase/auth");function Nq(t,...e){zg.logLevel<=ot.WARN&&zg.warn(`Auth (${iu}): ${t}`,...e)}function gg(t,...e){zg.logLevel<=ot.ERROR&&zg.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,...e){throw GE(t,...e)}function ja(t,...e){return GE(t,...e)}function qE(t,e,r){const n={...Dq(),[e]:r};return new vp("auth","Firebase",n).create(e,{appName:t.name})}function ts(t){return qE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mq(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ha(t,"argument-error"),qE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return qN.create(t,...e)}function Ue(t,e,...r){if(!t)throw GE(e,...r)}function Yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gg(e),new Error(e)}function cs(t,e){t||Yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){return typeof self<"u"&&self.location?.href||""}function kq(){return wO()==="http:"||wO()==="https:"}function wO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kq()||JF()||"connection"in navigator)?navigator.onLine:!0}function Lq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r){this.shortDelay=e,this.longDelay=r,cs(r>e,"Short delay should be less than long delay!"),this.isMobile=YF()||eV()}get(){return jq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e){cs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fq=new Cp(3e4,6e4);function Fl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gs(t,e,r,n,i={}){return WN(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=mp({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...a};return ZF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(f.credentials="include"),GN.fetch()(await KN(t,t.config.apiHost,r,l),f)})}async function WN(t,e,r){t._canInitEmulator=!1;const n={...Bq,...e};try{const i=new zq(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw M1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw M1(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw M1(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw M1(t,"user-disabled",o);const d=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qE(t,d,f);ha(t,d)}}catch(i){if(i instanceof Ba)throw i;ha(t,"network-request-failed",{message:String(i)})}}async function Ip(t,e,r,n,i={}){const a=await gs(t,e,r,n,i);return"mfaPendingCredential"in a&&ha(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function KN(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?WE(t.config,i):`${t.config.apiScheme}://${i}`;return Uq.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Vq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ja(this.auth,"network-request-failed")),Fq.get())})}}function M1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ja(t,e,n);return i.customData._tokenResponse=r,i}function EO(t){return t!==void 0&&t.enterprise!==void 0}class Hq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Vq(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $q(t,e){return gs(t,"GET","/v2/recaptchaConfig",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function Hg(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gq(t,e=!1){const r=$t(t),n=await r.getIdToken(e),i=KE(n);Ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:zh(S2(i.auth_time)),issuedAtTime:zh(S2(i.iat)),expirationTime:zh(S2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function S2(t){return Number(t)*1e3}function KE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return gg("JWT malformed, contained fewer than 3 sections"),null;try{const i=n5(r);return i?JSON.parse(i):(gg("Failed to decode base64 JWT payload"),null)}catch(i){return gg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AO(t){const e=KE(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ba&&Wq(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Wq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(t){const e=t.auth,r=await t.getIdToken(),n=await Sf(t,Hg(e,{idToken:r}));Ue(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?XN(i.providerUserInfo):[],o=Yq(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!o?.length,f=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vb(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function Xq(t){const e=$t(t);await $g(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yq(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function XN(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e){const r=await WN(t,{},async()=>{const n=mp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await KN(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(u.credentials="include"),GN.fetch()(o,u)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Zq(t,e){return gs(t,"POST","/v2/accounts:revokeToken",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=AO(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Qq(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ff;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ka{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Kq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Gq(this,e)}reload(){return Xq(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ka({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await $g(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await Sf(this,qq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,u=r._redirectEventId??void 0,f=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:b,stsTokenManager:w}=r;Ue(p&&w,e,"internal-error");const A=ff.fromJSON(this.name,w);Ue(typeof p=="string",e,"internal-error"),rl(n,e.name),rl(i,e.name),Ue(typeof v=="boolean",e,"internal-error"),Ue(typeof m=="boolean",e,"internal-error"),rl(a,e.name),rl(o,e.name),rl(l,e.name),rl(u,e.name),rl(f,e.name),rl(d,e.name);const S=new ka({uid:p,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:A,createdAt:f,lastLoginAt:d});return b&&Array.isArray(b)&&(S.providerData=b.map(O=>({...O}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new ff;i.updateFromServerResponse(r);const a=new ka({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await $g(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?XN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new ff;l.updateFromIdToken(n);const u=new ka({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Map;function Qo(t){cs(t instanceof Function,"Expected a class definition");let e=SO.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}YN.type="NONE";const TO=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e,r){return`firebase:${t}:${e}:${r}`}class df{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=vg(this.userKey,i.apiKey,a),this.fullPersistenceKey=vg("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Hg(this.auth,{idToken:e}).catch(()=>{});return r?ka._fromGetAccountInfoResponse(this.auth,r,e):null}return ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new df(Qo(TO),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Qo(TO);const o=vg(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const v=await Hg(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ka._fromGetAccountInfoResponse(e,v,d)}else p=ka._fromJSON(e,d);f!==a&&(l=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new df(a,e,n):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new df(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rM(e))return"Blackberry";if(nM(e))return"Webos";if(ZN(e))return"Safari";if((e.includes("chrome/")||JN(e))&&!e.includes("edge/"))return"Chrome";if(tM(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function QN(t=Vn()){return/firefox\//i.test(t)}function ZN(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JN(t=Vn()){return/crios\//i.test(t)}function eM(t=Vn()){return/iemobile/i.test(t)}function tM(t=Vn()){return/android/i.test(t)}function rM(t=Vn()){return/blackberry/i.test(t)}function nM(t=Vn()){return/webos/i.test(t)}function XE(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jq(t=Vn()){return XE(t)&&!!window.navigator?.standalone}function eG(){return tV()&&document.documentMode===10}function iM(t=Vn()){return XE(t)||tM(t)||nM(t)||rM(t)||/windows phone/i.test(t)||eM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e=[]){let r;switch(t){case"Browser":r=CO(Vn());break;case"Worker":r=`${CO(Vn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${iu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e={}){return gs(t,"GET","/v2/passwordPolicy",Fl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=6;class iG{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??nG,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IO(this),this.idTokenSubscription=new IO(this),this.beforeStateQueue=new tG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Qo(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await df.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Hg(this,{idToken:e}),n=await ka._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await $g(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ts(this));const r=e?$t(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rG(this),r=new iG(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Zq(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Qo(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await df.create(this,[Qo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(r);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Nq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vl(t){return $t(t)}class IO{constructor(e){this.auth=e,this.observer=null,this.addObserver=cV(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oG(t){_m=t}function oM(t){return _m.loadJS(t)}function sG(){return _m.recaptchaEnterpriseScript}function lG(){return _m.gapiScript}function cG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uG{constructor(){this.enterprise=new fG}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class fG{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const dG="recaptcha-enterprise",sM="NO_RECAPTCHA";class hG{constructor(e){this.type=dG,this.auth=Vl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{$q(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Hq(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(u=>{l(u)})})}function i(a,o,l){const u=window.grecaptcha;EO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(sM)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uG().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&EO(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=sG();u.length!==0&&(u+=l),oM(u).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function OO(t,e,r,n=!1,i=!1){const a=new hG(t);let o;if(i)o=sM;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function zb(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await OO(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await OO(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t,e){const r=yp(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(qc(a,e??{}))return i;ha(i,"already-initialized")}return r.initialize({options:e})}function gG(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function vG(t,e,r){const n=Vl(t);Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=lM(e),{host:o,port:l}=mG(e),u=l===null?"":`:${l}`,f={url:`${a}//${o}${u}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ue(qc(f,n.config.emulator)&&qc(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Eo(o)?(Yv(`${a}//${o}${u}`),Qv("Auth",!0)):yG()}function lM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mG(t){const e=lM(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:RO(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:RO(o)}}}function RO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yG(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,r){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}async function xG(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G(t,e){return Ip(t,"POST","/v1/accounts:signInWithPassword",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(t,e){return Ip(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,e))}async function wG(t,e){return Ip(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends YE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ip(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ip(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zb(e,r,"signInWithPassword",_G);case"emailLink":return bG(e,{email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zb(e,n,"signUpPassword",xG);case"emailLink":return wG(e,{idToken:r,email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e){return Ip(t,"POST","/v1/accounts:signInWithIdp",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="http://localhost";class Kc extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Kc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ha("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Kc(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return hf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,hf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,hf(e,r)}buildRequest(){const e={requestUri:EG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=mp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SG(t){const e=Sh(Th(t)).link,r=e?Sh(Th(e)).deep_link_id:null,n=Sh(Th(t)).deep_link_id;return(n?Sh(Th(n)).link:null)||n||r||e||t}class QE{constructor(e){const r=Sh(Th(e)),n=r.apiKey??null,i=r.oobCode??null,a=AG(r.mode??null);Ue(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=SG(e);try{return new QE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.providerId=Xf.PROVIDER_ID}static credential(e,r){return ip._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=QE.parseLink(r);return Ue(n,"argument-error"),ip._fromEmailAndCode(e,n.code,n.tenantId)}}Xf.PROVIDER_ID="password";Xf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Op{constructor(){super("facebook.com")}static credential(e){return Kc._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.FACEBOOK_SIGN_IN_METHOD="facebook.com";ul.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Op{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Kc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Wo.credential(r,n)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Op{constructor(){super("github.com")}static credential(e){return Kc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Op{constructor(){super("twitter.com")}static credential(e,r){return Kc._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return dl.credential(r,n)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e){return Ip(t,"POST","/v1/accounts:signUp",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ka._fromIdTokenResponse(e,n,i),o=PO(n);return new Xc({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=PO(n);return new Xc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function PO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends Ba{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new qg(e,r,n,i)}}function cM(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(t,a,e,n):a})}async function CG(t,e,r=!1){const n=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Xc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IG(t,e,r=!1){const{auth:n}=t;if(Qn(n.app))return Promise.reject(ts(n));const i="reauthenticate";try{const a=await Sf(t,cM(n,i,e,t),r);Ue(a.idToken,n,"internal-error");const o=KE(a.idToken);Ue(o,n,"internal-error");const{sub:l}=o;return Ue(t.uid===l,n,"user-mismatch"),Xc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ha(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e,r=!1){if(Qn(t.app))return Promise.reject(ts(t));const n="signIn",i=await cM(t,n,e),a=await Xc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function OG(t,e){return uM(Vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t){const e=Vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RG(t,e,r){if(Qn(t.app))return Promise.reject(ts(t));const n=Vl(t),o=await zb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TG).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fM(t),u}),l=await Xc._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function PG(t,e,r){return Qn(t.app)?Promise.reject(ts(t)):OG($t(t),Xf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&fM(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DG(t,e){return gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=$t(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Sf(n,DG(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function NG(t,e,r,n){return $t(t).onIdTokenChanged(e,r,n)}function MG(t,e,r){return $t(t).beforeAuthStateChanged(e,r)}function kG(t,e,r,n){return $t(t).onAuthStateChanged(e,r,n)}function jG(t){return $t(t).signOut()}const Gg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Gg,"1"),this.storage.removeItem(Gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=1e3,BG=10;class pM extends hM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);eG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BG):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},LG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}pM.type="LOCAL";const UG=pM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM extends hM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}gM.type="SESSION";const vM=gM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new bm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async f=>f(r.origin,a)),u=await FG(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const f=JE("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(d),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(){return window}function zG(t){vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(){return typeof vo().WorkerGlobalScope<"u"&&typeof vo().importScripts=="function"}async function HG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $G(){return navigator?.serviceWorker?.controller||null}function qG(){return mM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebaseLocalStorageDb",GG=1,Wg="firebaseLocalStorage",xM="fbase_key";class Rp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function wm(t,e){return t.transaction([Wg],e?"readwrite":"readonly").objectStore(Wg)}function WG(){const t=indexedDB.deleteDatabase(yM);return new Rp(t).toPromise()}function Hb(){const t=indexedDB.open(yM,GG);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wg,{keyPath:xM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wg)?e(n):(n.close(),await WG(),e(await Hb()))})})}async function DO(t,e,r){const n=wm(t,!0).put({[xM]:e,value:r});return new Rp(n).toPromise()}async function KG(t,e){const r=wm(t,!1).get(e),n=await new Rp(r).toPromise();return n===void 0?null:n.value}function NO(t,e){const r=wm(t,!0).delete(e);return new Rp(r).toPromise()}const XG=800,YG=3;class _M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>YG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(qG()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HG(),!this.activeServiceWorker)return;this.sender=new VG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hb();return await DO(e,Gg,"1"),await NO(e,Gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>DO(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>KG(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>NO(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wm(i,!1).getAll();return new Rp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_M.type="LOCAL";const QG=_M;new Cp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){return e?Qo(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends YE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return hf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return hf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function ZG(t){return uM(t.auth,new eA(t),t.bypassAuthState)}function JG(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),IG(r,new eA(t),t.bypassAuthState)}async function eW(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),CG(r,new eA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZG;case"linkViaPopup":case"linkViaRedirect":return eW;case"reauthViaPopup":case"reauthViaRedirect":return JG;default:ha(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=new Cp(2e3,1e4);async function rW(t,e,r){if(Qn(t.app))return Promise.reject(ja(t,"operation-not-supported-in-this-environment"));const n=Vl(t);Mq(t,e,ZE);const i=bM(n,r);return new Pc(n,"signInViaPopup",e,i).executeNotNull()}class Pc extends wM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Pc.currentPopupAction&&Pc.currentPopupAction.cancel(),Pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=JE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tW.get())};e()}}Pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW="pendingRedirect",mg=new Map;class iW extends wM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const n=await aW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aW(t,e){const r=lW(e),n=sW(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function oW(t,e){mg.set(t._key(),e)}function sW(t){return Qo(t._redirectPersistence)}function lW(t){return vg(nW,t.config.apiKey,t.name)}async function cW(t,e,r=!1){if(Qn(t.app))return Promise.reject(ts(t));const n=Vl(t),i=bM(n,e),o=await new iW(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=600*1e3;class fW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dW(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!EM(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(ja(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uW&&this.cachedEventUids.clear(),this.cachedEventUids.has(MO(e))}saveEventToCache(e){this.cachedEventUids.add(MO(e)),this.lastProcessedEventTime=Date.now()}}function MO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gW=/^https?/;async function vW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hW(t);for(const r of e)try{if(mW(r))return}catch{}ha(t,"unauthorized-domain")}function mW(t){const e=Fb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!gW.test(r))return!1;if(pW.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new Cp(3e4,6e4);function kO(){const t=vo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xW(t){return new Promise((e,r)=>{function n(){kO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kO(),r(ja(t,"network-request-failed"))},timeout:yW.get()})}if(vo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vo().gapi?.load)n();else{const i=cG("iframefcb");return vo()[i]=()=>{gapi.load?n():r(ja(t,"network-request-failed"))},oM(`${lG()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw yg=null,e})}let yg=null;function _W(t){return yg=yg||xW(t),yg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=new Cp(5e3,15e3),wW="__/auth/iframe",EW="emulator/auth/iframe",AW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TW(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?WE(e,EW):`https://${t.config.authDomain}/${wW}`,n={apiKey:e.apiKey,appName:t.name,v:iu},i=SW.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${mp(n).slice(1)}`}async function CW(t){const e=await _W(t),r=vo().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:TW(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AW,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=ja(t,"network-request-failed"),l=vo().setTimeout(()=>{a(o)},bW.get());function u(){vo().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OW=500,RW=600,PW="_blank",DW="http://localhost";class jO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NW(t,e,r,n=OW,i=RW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u={...IW,width:n.toString(),height:i.toString(),top:a,left:o},f=Vn().toLowerCase();r&&(l=JN(f)?PW:r),QN(f)&&(e=e||DW,u.scrollbars="yes");const d=Object.entries(u).reduce((v,[m,b])=>`${v}${m}=${b},`,"");if(Jq(f)&&l!=="_self")return MW(e||"",l),new jO(null);const p=window.open(e||"",l,d);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new jO(p)}function MW(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="__/auth/handler",jW="emulator/auth/handler",LW=encodeURIComponent("fac");async function LO(t,e,r,n,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:iu,eventId:i};if(e instanceof ZE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Op){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),f=u?`#${LW}=${encodeURIComponent(u)}`:"";return`${BW(t)}?${mp(l).slice(1)}${f}`}function BW({config:t}){return t.emulator?WE(t,jW):`https://${t.authDomain}/${kW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="webStorageSupport";class UW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vM,this._completeRedirectFn=cW,this._overrideRedirectResult=oW}async _openPopup(e,r,n,i){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await LO(e,r,n,Fb(),i);return NW(e,a,JE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await LO(e,r,n,Fb(),i);return zG(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(cs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await CW(e),n=new fW(e);return r.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(T2,{type:T2},i=>{const a=i?.[0]?.[T2];a!==void 0&&r(!!a),ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vW(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return iM()||ZN()||XE()}}const FW=UW;var BO="@firebase/auth",UO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HW(t){Tl(new is("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aM(t)},f=new aG(n,i,a,u);return gG(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Tl(new is("auth-internal",e=>{const r=Vl(e.getProvider("auth").getImmediate());return(n=>new VW(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(BO,UO,zW(t)),la(BO,UO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=300,qW=o5("authIdTokenMaxAge")||$W;let FO=null;const GW=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>qW)return;const i=r?.token;FO!==i&&(FO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WW(t=Zv()){const e=yp(t,"auth");if(e.isInitialized())return e.getImmediate();const r=pG(t,{popupRedirectResolver:FW,persistence:[QG,UG,vM]}),n=o5("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=GW(a.toString());MG(r,o,()=>o(r.currentUser)),NG(r,l=>o(l))}}const i=i5("auth");return i&&vG(r,`http://${i}`),r}function KW(){return document.getElementsByTagName("head")?.[0]??document}oG({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ja("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",KW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="type.googleapis.com/google.protobuf.Int64Value",YW="type.googleapis.com/google.protobuf.UInt64Value";function AM(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function Kg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Kg(e));if(typeof t=="function"||typeof t=="object")return AM(t,e=>Kg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Tf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case XW:case YW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Tf(e)):typeof t=="function"||typeof t=="object"?AM(t,e=>Tf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zn extends Ba{constructor(e,r,n){super(`${tA}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,Zn.prototype)}}function QW(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Xg(t,e){let r=QW(t),n=r,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!VO[o])return new Zn("internal","internal");r=VO[o],n=o}const l=a.message;typeof l=="string"&&(n=l),i=a.details,i!==void 0&&(i=Tf(i))}}catch{}return r==="ok"?null:new Zn(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="us-central1",JW=/^data: (.*?)(?:\n|$)/;function eK(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new Zn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class tK{constructor(e,r,n,i,a=$b,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ZW(e,r,n,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=$b}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function rK(t,e,r){const n=Eo(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(Yv(t.emulatorOrigin+"/backends"),Qv("Functions",!0))}function nK(t,e,r){const n=i=>aK(t,e,i,r||{});return n.stream=(i,a)=>sK(t,e,i,a),n}function SM(t){return t.emulatorOrigin&&Eo(t.emulatorOrigin)?"include":void 0}async function iK(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:SM(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function TM(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function aK(t,e,r,n){const i=t._url(e);return oK(t,i,r,n)}async function oK(t,e,r,n){r=Kg(r);const i={data:r},a=await TM(t,n),o=n.timeout||7e4,l=eK(o),u=await Promise.race([iK(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Zn("cancelled","Firebase Functions instance was deleted.");const f=Xg(u.status,u.json);if(f)throw f;if(!u.json)throw new Zn("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new Zn("internal","Response is missing data field.");return{data:Tf(d)}}function sK(t,e,r,n){const i=t._url(e);return lK(t,i,r,n||{})}async function lK(t,e,r,n){r=Kg(r);const i={data:r},a=await TM(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:SM(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const b=new Zn("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const m=Xg(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let l,u;const f=new Promise((v,m)=>{l=v,u=m});n?.signal?.addEventListener("abort",()=>{const v=new Zn("cancelled","Request was cancelled.");u(v)});const d=o.body.getReader(),p=cK(d,l,u,n?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:m,done:b}=await v.read();return{value:m,done:b}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function cK(t,e,r,n){const i=(o,l)=>{const u=o.match(JW);if(!u)return;const f=u[1];try{const d=JSON.parse(f);if("result"in d){e(Tf(d.result));return}if("message"in d){l.enqueue(Tf(d.message));return}if("error"in d){const p=Xg(0,d);l.error(p),r(p);return}}catch(d){if(d instanceof Zn){l.error(d),r(d);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return u();async function u(){if(n?.aborted){const f=new Zn("cancelled","Request was cancelled");return o.error(f),r(f),Promise.resolve()}try{const{value:f,done:d}=await t.read();if(d){l.trim()&&i(l.trim(),o),o.close();return}if(n?.aborted){const v=new Zn("cancelled","Request was cancelled");o.error(v),r(v),await t.cancel();return}l+=a.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return u()}catch(f){const d=f instanceof Zn?f:Xg(0,null);o.error(d),r(d)}}},cancel(){return t.cancel()}})}const zO="@firebase/functions",HO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="auth-internal",fK="app-check-internal",dK="messaging-internal";function hK(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(uK),o=r.getProvider(dK),l=r.getProvider(fK);return new tK(i,a,o,l,n)};Tl(new is(tA,e,"PUBLIC").setMultipleInstances(!0)),la(zO,HO,t),la(zO,HO,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t=Zv(),e=$b){const n=yp($t(t),tA).getImmediate({identifier:e}),i=rE("functions");return i&&IM(n,...i),n}function IM(t,e,r){rK($t(t),e,r)}function pK(t,e,r){return nK($t(t),e,r)}hK();const rA=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:Zn,connectFunctionsEmulator:IM,getFunctions:CM,httpsCallable:pK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebasestorage.googleapis.com",RM="storageBucket",gK=120*1e3,vK=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ba{constructor(e,r,n=0){super(C2(e),`Firebase Storage: ${r} (${C2(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return C2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gr||(gr={}));function C2(t){return"storage/"+t}function nA(){const t="An unknown error occurred, please check the error payload for server response.";return new vr(gr.UNKNOWN,t)}function mK(t){return new vr(gr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yK(t){return new vr(gr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vr(gr.UNAUTHENTICATED,t)}function _K(){return new vr(gr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bK(t){return new vr(gr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wK(){return new vr(gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EK(){return new vr(gr.CANCELED,"User canceled the upload/download.")}function AK(t){return new vr(gr.INVALID_URL,"Invalid URL '"+t+"'.")}function SK(t){return new vr(gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TK(){return new vr(gr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RM+"' property when initializing the app?")}function CK(){return new vr(gr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IK(){return new vr(gr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OK(t){return new vr(gr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qb(t){return new vr(gr.INVALID_ARGUMENT,t)}function PM(){return new vr(gr.APP_DELETED,"The Firebase app was deleted.")}function RK(t){return new vr(gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hh(t,e){return new vr(gr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fh(t){throw new vr(gr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ni.makeFromUrl(e,r)}catch{return new Ni(e,"")}if(n.path==="")return n;throw SK(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${d}/b/${i}/o${v}`,"i"),b={bucket:1,path:3},w=r===OM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,A="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${A}`,"i"),I=[{regex:l,indices:u,postModify:a},{regex:m,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<I.length;R++){const k=I[R],L=k.regex.exec(e);if(L){const P=L[k.indices.bucket];let M=L[k.indices.path];M||(M=""),n=new Ni(P,M),k.postModify(n);break}}if(n==null)throw AK(e);return n}}class PK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t,e,r){let n=1,i=null,a=null,o=!1,l=0;function u(){return l===2}let f=!1;function d(...A){f||(f=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(m,u())},A)}function v(){a&&clearTimeout(a)}function m(A,...S){if(f){v();return}if(A){v(),d.call(null,A,...S);return}if(u()||o){v(),d.call(null,A,...S);return}n<64&&(n*=2);let I;l===1?(l=2,I=0):I=(n+Math.random())*1e3,p(I)}let b=!1;function w(A){b||(b=!0,v(),!f&&(i!==null?(A||(l=2),clearTimeout(i),p(0)):A||(l=1)))}return p(0),a=setTimeout(()=>{o=!0,w(!0)},r),w}function NK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t){return t!==void 0}function kK(t){return typeof t=="object"&&!Array.isArray(t)}function iA(t){return typeof t=="string"||t instanceof String}function $O(t){return aA()&&t instanceof Blob}function aA(){return typeof Blob<"u"}function qO(t,e,r,n){if(n<e)throw qb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw qb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function DM(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Uc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uc||(Uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,r,n,i,a,o,l,u,f,d,p,v=!0,m=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new k1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const u=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Uc.NO_ERROR,u=a.getStatus();if(!l||jK(u,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Uc.ABORT;n(!1,new k1(!1,null,d));return}const f=this.successCodes_.indexOf(u)!==-1;n(!0,new k1(f,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());MK(u)?a(u):a()}catch(u){o(u)}else if(l!==null){const u=nA();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?PM():EK();o(u)}else{const u=wK();o(u)}};this.canceled_?r(!1,new k1(!1,null,!0)):this.backoffId_=DK(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class k1{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function BK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zK(t,e,r,n,i,a,o=!0,l=!1){const u=DM(t.urlParams),f=t.url+u,d=Object.assign({},t.headers);return FK(d,e),BK(d,r),UK(d,a),VK(d,n),new LK(f,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $K(...t){const e=HK();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(aA())return new Blob(t);throw new vr(gr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qK(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){if(typeof atob>"u")throw OK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class I2{constructor(e,r){this.data=e,this.contentType=r||null}}function WK(t,e){switch(t){case lo.RAW:return new I2(NM(e));case lo.BASE64:case lo.BASE64URL:return new I2(MM(t,e));case lo.DATA_URL:return new I2(XK(e),YK(e))}throw nA()}function NM(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function KK(t){let e;try{e=decodeURIComponent(t)}catch{throw Hh(lo.DATA_URL,"Malformed data URL.")}return NM(e)}function MM(t,e){switch(t){case lo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Hh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case lo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Hh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=GK(e)}catch(i){throw i.message.includes("polyfill")?i:Hh(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class kM{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Hh(lo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=QK(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function XK(t){const e=new kM(t);return e.base64?MM(lo.BASE64,e.rest):KK(e.rest)}function YK(t){return new kM(t).contentType}function QK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r){let n=0,i="";$O(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if($O(this.data_)){const n=this.data_,i=qK(n,e,r);return i===null?null:new hl(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new hl(n,!0)}}static getBlob(...e){if(aA()){const r=e.map(n=>n instanceof hl?n.data_:n);return new hl($K.apply(null,r))}else{const r=e.map(o=>iA(o)?WK(lo.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new hl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){let e;try{e=JSON.parse(t)}catch{return null}return kK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function JK(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function LM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t,e){return e}class Gn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||eX}}let j1=null;function tX(t){return!iA(t)||t.length<2?t:LM(t)}function BM(){if(j1)return j1;const t=[];t.push(new Gn("bucket")),t.push(new Gn("generation")),t.push(new Gn("metageneration")),t.push(new Gn("name","fullPath",!0));function e(a,o){return tX(o)}const r=new Gn("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Gn("size");return i.xform=n,t.push(i),t.push(new Gn("timeCreated")),t.push(new Gn("updated")),t.push(new Gn("md5Hash",null,!0)),t.push(new Gn("cacheControl",null,!0)),t.push(new Gn("contentDisposition",null,!0)),t.push(new Gn("contentEncoding",null,!0)),t.push(new Gn("contentLanguage",null,!0)),t.push(new Gn("contentType",null,!0)),t.push(new Gn("metadata","customMetadata",!0)),j1=t,j1}function rX(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ni(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function nX(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return rX(n,t),n}function UM(t,e,r){const n=jM(e);return n===null?null:nX(t,n,r)}function iX(t,e,r,n){const i=jM(e);if(i===null||!iA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),m=oA(v,r,n),b=DM({alt:"media",token:f});return m+b})[0]}function aX(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class FM{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){if(!t)throw nA()}function oX(t,e){function r(n,i){const a=UM(t,i,e);return VM(a!==null),a}return r}function sX(t,e){function r(n,i){const a=UM(t,i,e);return VM(a!==null),iX(a,i,t.host,t._protocol)}return r}function zM(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=_K():i=xK():r.getStatus()===402?i=yK(t.bucket):r.getStatus()===403?i=bK(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function lX(t){const e=zM(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=mK(t.path)),a.serverResponse=i.serverResponse,a}return r}function cX(t,e,r){const n=e.fullServerUrl(),i=oA(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new FM(i,a,sX(t,r),o);return l.errorHandler=lX(e),l}function uX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fX(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=uX(null,e)),n}function dX(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const f=fX(e,n,i),d=aX(f,r),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",m=hl.getBlob(p,n,v);if(m===null)throw CK();const b={name:f.fullPath},w=oA(a,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,O=new FM(w,A,oX(t,r),S);return O.urlParams=b,O.headers=o,O.body=m.uploadData(),O.errorHandler=zM(e),O}class hX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw fh("cannot .send() more than once");if(Eo(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pX extends hX{initXhr(){this.xhr_.responseType="text"}}function HM(){return new pX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r){this._service=e,r instanceof Ni?this._location=r:this._location=Ni.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Yc(e,r)}get root(){const e=new Ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LM(this._location.path)}get storage(){return this._service}get parent(){const e=ZK(this._location.path);if(e===null)return null;const r=new Ni(this._location.bucket,e);return new Yc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw RK(e)}}function gX(t,e,r){t._throwIfRoot("uploadBytes");const n=dX(t.storage,t._location,BM(),new hl(e,!0),r);return t.storage.makeRequestWithTokens(n,HM).then(i=>({metadata:i,ref:t}))}function vX(t){t._throwIfRoot("getDownloadURL");const e=cX(t.storage,t._location,BM());return t.storage.makeRequestWithTokens(e,HM).then(r=>{if(r===null)throw IK();return r})}function mX(t,e){const r=JK(t._location.path,e),n=new Ni(t._location.bucket,r);return new Yc(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t){return/^[A-Za-z]+:\/\//.test(t)}function xX(t,e){return new Yc(t,e)}function $M(t,e){if(t instanceof sA){const r=t;if(r._bucket==null)throw TK();const n=new Yc(r,r._bucket);return e!=null?$M(n,e):n}else return e!==void 0?mX(t,e):t}function _X(t,e){if(e&&yX(e)){if(t instanceof sA)return xX(t,e);throw qb("To use ref(service, url), the first argument must be a Storage instance.")}else return $M(t,e)}function GO(t,e){const r=e?.[RM];return r==null?null:Ni.makeFromBucketSpec(r,t)}function bX(t,e,r,n={}){t.host=`${e}:${r}`;const i=Eo(e);i&&(Yv(`https://${t.host}/b`),Qv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:s5(a,t.app.options.projectId))}class sA{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=OM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gK,this._maxUploadRetryTime=vK,this._requests=new Set,i!=null?this._bucket=Ni.makeFromBucketSpec(i,this._host):this._bucket=GO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ni.makeFromBucketSpec(this._url,e):this._bucket=GO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new PK(PM());{const o=zK(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const WO="@firebase/storage",KO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="storage";function lA(t,e,r){return t=$t(t),gX(t,e,r)}function cA(t){return t=$t(t),vX(t)}function uA(t,e){return t=$t(t),_X(t,e)}function wX(t=Zv(),e){t=$t(t);const n=yp(t,qM).getImmediate({identifier:e}),i=rE("storage");return i&&EX(n,...i),n}function EX(t,e,r,n={}){bX(t,e,r,n)}function AX(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sA(r,n,i,e,iu)}function SX(){Tl(new is(qM,AX,"PUBLIC").setMultipleInstances(!0)),la(WO,KO,""),la(WO,KO,"esm2020")}SX();const TX={apiKey:"AIzaSyB_23qGagKyn6SqpNh1u7_EMqJWMN9MZuo",authDomain:"oshi-para.firebaseapp.com",projectId:"oshi-para",storageBucket:"oshi-para.firebasestorage.app",messagingSenderId:"123159056695",appId:"1:123159056695:web:b2226933dc6f6095220ab2"},Pp=u5(TX),rt=WW(Pp),Re=vq(Pp);CM(Pp);const Em=wX(Pp),fA=Object.freeze(Object.defineProperty({__proto__:null,auth:rt,db:Re,default:Pp,storage:Em},Symbol.toStringTag,{value:"Module"})),Tt={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},Ct=(t,e)=>`users/${t}/${e}`,dh={getAll:async t=>{const e=Fr(yt(Re,Ct(t,Tt.INTAKES)),fa("createdAt","desc"));return(await pi(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.INTAKES)),e)).id,update:async(t,e,r)=>{const n=dt(Re,Ct(t,Tt.INTAKES),e);await Bi(n,r)},delete:async(t,e)=>{const r=dt(Re,Ct(t,Tt.INTAKES),e);await da(r)},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.INTAKES)),fa("createdAt","desc"));return Wf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},O2={getAll:async t=>{const e=Fr(yt(Re,Ct(t,Tt.EXPENSES)),fa("createdAt","desc"));return(await pi(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.EXPENSES)),e)).id,update:async(t,e,r)=>{const n=dt(Re,Ct(t,Tt.EXPENSES),e);await Bi(n,r)},delete:async(t,e)=>{const r=dt(Re,Ct(t,Tt.EXPENSES),e);await da(r)},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.EXPENSES)),fa("createdAt","desc"));return Wf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},L1={getAll:async t=>{const e=Fr(yt(Re,Ct(t,Tt.STOCKS)),fa("createdAt","desc"));return(await pi(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.STOCKS)),e)).id,update:async(t,e,r)=>{const n=dt(Re,Ct(t,Tt.STOCKS),e);await Bi(n,r)},delete:async(t,e)=>{const r=dt(Re,Ct(t,Tt.STOCKS),e);await da(r)},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.STOCKS)),fa("createdAt","desc"));return Wf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},hh={getAll:async t=>{const e=Fr(yt(Re,Ct(t,Tt.SHOPPING)),fa("createdAt","desc"));return(await pi(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.SHOPPING)),e)).id,update:async(t,e,r)=>{const n=dt(Re,Ct(t,Tt.SHOPPING),e);await Bi(n,r)},delete:async(t,e)=>{const r=dt(Re,Ct(t,Tt.SHOPPING),e);await da(r)},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.SHOPPING)),fa("createdAt","desc"));return Wf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},B1={getAll:async t=>{const e=Fr(yt(Re,Ct(t,Tt.RECIPES)),fa("createdAt","desc"));return(await pi(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.RECIPES)),e)).id,update:async(t,e,r)=>{const n=dt(Re,Ct(t,Tt.RECIPES),e);await Bi(n,r)},delete:async(t,e)=>{const r=dt(Re,Ct(t,Tt.RECIPES),e);await da(r)},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.RECIPES)),fa("createdAt","desc"));return Wf(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},U1={get:async t=>{const e=Fr(yt(Re,Ct(t,Tt.SETTINGS))),r=await pi(e);return r.empty?null:r.docs[0].data()},set:async(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.SETTINGS))),n=await pi(r);if(n.empty)return(await Gf(yt(Re,Ct(t,Tt.SETTINGS)),e)).id;{const i=dt(Re,Ct(t,Tt.SETTINGS),n.docs[0].id);return await Bi(i,e),n.docs[0].id}},subscribe:(t,e)=>{const r=Fr(yt(Re,Ct(t,Tt.SETTINGS)));return Wf(r,n=>{if(n.empty)e(null);else{const i=n.docs[0].data();e(i)}})}},Ao=nu((t,e)=>({intakes:Sl(tt.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:r=>t({intakes:r}),setLoading:r=>t({loading:r}),setInitialized:r=>t({initialized:r}),addIntake:async r=>{const n=rt.currentUser,i={id:ml(),...r,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return kt(tt.INTAKES,o),{intakes:o}}),n)try{await dh.add(n.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(r,n)=>{const i=rt.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(u=>u.id===r?{...u,...a}:u);return kt(tt.INTAKES,l),{intakes:l}}),i)try{await dh.update(i.uid,r,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==r);return kt(tt.INTAKES,a),{intakes:a}}),n)try{await dh.delete(n.uid,r)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:r=>e().intakes.filter(i=>i.date.startsWith(r)),getTotalCaloriesByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${r.uid}`);const n=await dh.getAll(r.uid);console.log(`[IntakeStore] Loaded ${n.length} intakes from Firestore`),t({intakes:n,loading:!1,initialized:!0}),kt(tt.INTAKES,n)}catch(n){console.error("Failed to sync intakes with Firestore:",n),t({loading:!1})}},subscribeToFirestore:()=>{const r=rt.currentUser;if(!r)return;const n=e().unsubscribe;n&&n(),console.log(`[IntakeStore] Starting realtime sync for user: ${r.uid}`);const i=dh.subscribe(r.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),kt(tt.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const r=e().unsubscribe;r&&(console.log("[IntakeStore] Stopping realtime sync"),r(),t({unsubscribe:null}))}})),So=nu((t,e)=>({expenses:Sl(tt.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:r=>t({expenses:r}),addExpense:async r=>{const n=rt.currentUser,i={id:ml(),...r,date:r.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return kt(tt.EXPENSES,o),{expenses:o}}),n)try{await O2.add(n.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==r);return kt(tt.EXPENSES,a),{expenses:a}}),n)try{await O2.delete(n.uid,r)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(r,n)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===r&&o.getMonth()+1===n}),getTotalByMonth:(r,n)=>e().getExpensesByMonth(r,n).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(r,n,i)=>e().getExpensesByMonth(n,i).filter(o=>o.category===r).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0});const n=await O2.getAll(r.uid);t({expenses:n,loading:!1,initialized:!0}),kt(tt.EXPENSES,n)}catch(n){console.error("Failed to sync expenses with Firestore:",n),t({loading:!1})}}})),To=nu((t,e)=>({stocks:Sl(tt.STOCKS,[]),loading:!1,initialized:!1,setStocks:r=>t({stocks:r}),addStock:async r=>{const n=rt.currentUser,i={id:ml(),...r,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return kt(tt.STOCKS,o),{stocks:o}}),n)try{await L1.add(n.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(r,n)=>{const i=rt.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(u=>u.id===r?{...u,...a}:u);return kt(tt.STOCKS,l),{stocks:l}}),i)try{await L1.update(i.uid,r,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==r);return kt(tt.STOCKS,a),{stocks:a}}),n)try{await L1.delete(n.uid,r)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:r=>e().stocks.filter(i=>i.daysRemaining<=r),getStockIngredients:()=>e().stocks.map(n=>n.name),syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0});const n=await L1.getAll(r.uid);t({stocks:n,loading:!1,initialized:!0}),kt(tt.STOCKS,n)}catch(n){console.error("Failed to sync stocks with Firestore:",n),t({loading:!1})}}})),CX=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],lu=nu((t,e)=>({items:Sl(tt.SHOPPING,[]),loading:!1,initialized:!1,setItems:r=>t({items:r}),addItem:async r=>{const n=rt.currentUser;if(e().items.find(o=>o.name===r.name&&!o.checked))return;const a={id:ml(),...r,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return kt(tt.SHOPPING,l),{items:l}}),n)try{await hh.add(n.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===r?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return kt(tt.SHOPPING,a),{items:a}}),n)try{const i=e().items.find(a=>a.id===r);i&&await hh.update(n.uid,r,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==r);return kt(tt.SHOPPING,a),{items:a}}),n)try{await hh.delete(n.uid,r)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const r=rt.currentUser,n=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return kt(tt.SHOPPING,a),{items:a}}),r)try{await Promise.all(n.map(i=>hh.delete(r.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(r=>{const n=r.items,i=[...n];return CX.forEach(a=>{n.find(l=>l.name===a.name&&!l.checked)||i.push({id:ml(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),kt(tt.SHOPPING,i),{items:i}})},addLowStockItems:r=>{t(n=>{const i=n.items,a=[...i];return r.forEach(o=>{i.find(u=>u.name===o.name&&!u.checked)||a.push({id:ml(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),kt(tt.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0});const n=await hh.getAll(r.uid);t({items:n,loading:!1,initialized:!0}),kt(tt.SHOPPING,n)}catch(n){console.error("Failed to sync shopping items with Firestore:",n),t({loading:!1})}}})),IX=10,Dp=nu((t,e)=>({recipeHistory:Sl(tt.RECIPE_HISTORY,[]),favoriteRecipes:Sl(tt.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(r,n)=>t({recipeHistory:r,favoriteRecipes:n}),addToHistory:async r=>{const n=rt.currentUser,i={id:ml(),recipe:r,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,IX);return kt(tt.RECIPE_HISTORY,o),{recipeHistory:o}}),n)try{await B1.add(n.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async r=>{const n=rt.currentUser;if(e().favoriteRecipes.find(o=>o.id===r.id))return;const a={...r,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return kt(tt.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),n)try{await B1.add(n.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async r=>{const n=rt.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==r);return kt(tt.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),n)try{await B1.delete(n.uid,r)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:r=>e().favoriteRecipes.some(i=>i.id===r),syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${r.uid}`);const i=await B1.getAll(r.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),kt(tt.RECIPE_HISTORY,a),kt(tt.FAVORITE_RECIPES,i)}catch(n){console.error("Failed to sync recipes with Firestore:",n),t({loading:!1})}}})),XO={monthlyBudget:3e4,darkMode:!1,firstTime:!0},Yg=nu((t,e)=>({settings:{...XO,...Sl(tt.SETTINGS,XO)},loading:!1,initialized:!1,updateSettings:async r=>{const n=rt.currentUser;if(t(i=>{const a={...i.settings,...r};return kt(tt.SETTINGS,a),"darkMode"in r&&document.body.classList.toggle("dark-mode",r.darkMode),{settings:a}}),n)try{const i=e().settings;await U1.set(n.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const r=rt.currentUser,n=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:n};return kt(tt.SETTINGS,a),document.body.classList.toggle("dark-mode",n),{settings:a}}),r)try{const i=e().settings;await U1.set(r.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:r=>t(n=>{const i={...n.settings,firstTime:r};return kt(tt.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const r=rt.currentUser;if(r)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${r.uid}`);const n=await U1.get(r.uid);if(n)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:n,loading:!1,initialized:!0}),kt(tt.SETTINGS,n),document.body.classList.toggle("dark-mode",n.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await U1.set(r.uid,i),t({loading:!1,initialized:!0})}}catch(n){console.error("Failed to sync settings with Firestore:",n),t({loading:!1})}}})),Qg=[{id:"streak-3",name:"3日連続記録",description:"3日間連続で食事を記録しました",icon:"🔥",category:"streak",requirement:"3日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=3},{id:"streak-7",name:"1週間継続",description:"7日間連続で食事を記録しました",icon:"🎯",category:"streak",requirement:"7日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=7},{id:"streak-14",name:"2週間チャンピオン",description:"14日間連続で食事を記録しました",icon:"🏆",category:"streak",requirement:"14日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=14},{id:"streak-30",name:"1ヶ月マスター",description:"30日間連続で食事を記録しました",icon:"👑",category:"streak",requirement:"30日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=30},{id:"milestone-10-intakes",name:"記録の第一歩",description:"食事記録が10件に達しました",icon:"📝",category:"milestone",requirement:"食事記録10件",checkCondition:t=>t.intakesCount>=10},{id:"milestone-50-intakes",name:"記録マスター",description:"食事記録が50件に達しました",icon:"📚",category:"milestone",requirement:"食事記録50件",checkCondition:t=>t.intakesCount>=50},{id:"milestone-100-intakes",name:"記録の達人",description:"食事記録が100件に達しました",icon:"🎓",category:"milestone",requirement:"食事記録100件",checkCondition:t=>t.intakesCount>=100},{id:"goal-budget-first",name:"節約家デビュー",description:"先月の支出が予算内に収まりました！",icon:"💰",category:"goal",requirement:"月次予算達成（毎月1日に先月分を判定）",checkCondition:t=>t.budgetAchieved},{id:"feature-recipe-first",name:"AIシェフデビュー",description:"初めてAIレシピを生成しました",icon:"👨‍🍳",category:"feature",requirement:"AIレシピ生成1回",checkCondition:t=>t.recipesGenerated>=1},{id:"feature-recipe-10",name:"レシピマスター",description:"AIレシピを10回生成しました",icon:"🍳",category:"feature",requirement:"AIレシピ生成10回",checkCondition:t=>t.recipesGenerated>=10},{id:"feature-barcode-first",name:"スキャナーデビュー",description:"初めてバーコードをスキャンしました",icon:"📱",category:"feature",requirement:"バーコードスキャン1回",checkCondition:t=>t.barcodesScanned>=1},{id:"feature-barcode-10",name:"スキャンマスター",description:"バーコードを10回スキャンしました",icon:"🔍",category:"feature",requirement:"バーコードスキャン10回",checkCondition:t=>t.barcodesScanned>=10},{id:"milestone-all-features",name:"フル活用マスター",description:"すべての機能を使いこなしています",icon:"⭐",category:"milestone",requirement:"全機能の使用",checkCondition:t=>t.intakesCount>=5&&t.expensesCount>=5&&t.stocksCount>=3&&t.recipesGenerated>=1&&t.barcodesScanned>=1}];function OX(t){return Qg.find(e=>e.id===t)}const dA=nu((t,e)=>({badges:Sl(tt.BADGES,[]),newBadges:[],loading:!1,checkAndUnlockBadges:r=>{const n=e().badges,i=n.map(o=>o.id),a=[];return Qg.forEach(o=>{if(!i.includes(o.id)&&o.checkCondition(r)){const l={id:o.id,name:o.name,description:o.description,icon:o.icon,category:o.category,requirement:o.requirement,unlockedAt:new Date().toISOString()};n.push(l),a.push(o.id)}}),a.length>0&&(t({badges:n,newBadges:a}),kt(tt.BADGES,n)),a},clearNewBadges:()=>{t({newBadges:[]})},getBadge:r=>e().badges.find(n=>n.id===r),isUnlocked:r=>e().badges.some(n=>n.id===r),getUnlockedCount:()=>e().badges.length,getTotalCount:()=>Qg.length})),RX=()=>{const{getTotalCaloriesByDate:t}=Ao(),{getTotalByMonth:e}=So(),r=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),n=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return x.jsxs("div",{className:"summary-box",children:[x.jsxs("div",{className:"summary-row",children:[x.jsx("span",{className:"summary-label",children:"今日のカロリー"}),x.jsxs("span",{className:"summary-value",children:[r," kcal"]})]}),x.jsxs("div",{className:"summary-row",children:[x.jsx("span",{className:"summary-label",children:"今月の支出"}),x.jsxs("span",{className:"summary-value positive",children:["¥",n.toLocaleString()]})]})]})},PX=({onNavigate:t})=>{const e=[{screen:"meals",icon:x.jsx(tE,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:x.jsx(Gh,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:x.jsx(yF,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:x.jsx(mf,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:x.jsx(Ig,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:x.jsx(Gv,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:x.jsx(xF,{size:32}),label:"レポート",color:"#6366f1"},{screen:"badges",icon:x.jsx(TF,{size:32}),label:"バッジ",color:"#f59e0b"},{screen:"settings",icon:x.jsx(uF,{size:32}),label:"設定",color:"#64748b"}],r=n=>{n.onClick?n.onClick():n.screen&&t(n.screen)};return x.jsx("div",{className:"function-grid",children:e.map((n,i)=>x.jsxs("button",{className:"function-card",style:{"--card-color":n.color},onClick:()=>r(n),children:[x.jsx("div",{className:"function-icon",style:{color:n.color},children:n.icon}),x.jsx("div",{className:"function-label",children:n.label})]},i))})},YO=({onNavigate:t})=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"ホーム"}),x.jsx(RX,{}),x.jsx(PX,{onNavigate:t})]}),DX=()=>{const{addIntake:t}=Ao(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState(""),l=()=>{if(!e||!n||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(n),price:Number(a)}),r(""),i(""),o(""),alert("食事を記録しました！")};return x.jsxs("div",{className:"card",children:[x.jsx("label",{children:"食品名"}),x.jsx("input",{value:e,onChange:u=>r(u.target.value),placeholder:"例: 牛乳"}),x.jsx("label",{children:"カロリー(kcal)"}),x.jsx("input",{type:"number",value:n,onChange:u=>i(u.target.value),placeholder:"200"}),x.jsx("label",{children:"金額(円)"}),x.jsx("input",{type:"number",value:a,onChange:u=>o(u.target.value),placeholder:"150"}),x.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},NX=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:r,getTotalPriceByDate:n}=Ao(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(d=>d.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=r(a),l=n(a),u=f=>{confirm("この記録を削除しますか？")&&e(f)};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"今日の記録"}),i.length===0?x.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):x.jsxs(x.Fragment,{children:[x.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>x.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),x.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),x.jsx("button",{onClick:()=>u(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:x.jsx(Uf,{size:20})})]},f.id))}),x.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[x.jsxs("span",{children:[x.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),x.jsxs("span",{children:[x.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},MX=()=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"食事記録"}),x.jsx(DX,{}),x.jsx(NX,{})]}),kX=async(t,e)=>{try{return{user:(await PG(rt,t,e)).user,error:null}}catch(r){return{user:null,error:r.message}}},jX=async()=>{const t=new Wo;try{return{user:(await rW(rt,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},LX=async()=>{try{return await jG(rt),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},BX=t=>kG(rt,t),Np=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!0);return C.useEffect(()=>{const i=BX(a=>{e(a),n(!1)});return()=>i()},[]),{user:t,loading:r}},UX=async(t,e,r)=>{try{const n={uid:t,displayName:r,username:`user${t.slice(0,8)}`,email:e,bio:"",avatarUrl:"",coverUrl:"",websiteUrl:"",isPublic:!0,createdAt:new Date().toISOString(),stats:{postCount:0,followerCount:0,followingCount:0,recipeCount:0,likeCount:0}};console.log("📝 Creating user profile for:",t),console.log("📝 Profile data:",n);const i=dt(Re,"users",t,"profile","data");console.log("📝 Profile document path:",i.path),await su(i,n),console.log("✅ User profile created successfully:",t)}catch(n){throw console.error("❌ Failed to create user profile:",n),console.error("Error code:",n.code),console.error("Error message:",n.message),console.error("Error details:",JSON.stringify(n,null,2)),new Error(`プロフィール作成に失敗しました: ${n.message||n.code||"不明なエラー"}`)}},GM=async t=>{try{const e=await qf(dt(Re,"users",t,"profile","data"));return e.exists()?e.data():null}catch(e){throw console.error("Get profile error:",e),new Error("プロフィールの取得に失敗しました")}},FX=async(t,e)=>{try{await Bi(dt(Re,"users",t,"profile","data"),e),e.displayName&&rt.currentUser&&await dM(rt.currentUser,{displayName:e.displayName,photoURL:e.avatarUrl||rt.currentUser.photoURL}),console.log("✅ Profile updated:",t)}catch(r){throw console.error("Update profile error:",r),new Error("プロフィールの更新に失敗しました")}},VX=async(t,e)=>{try{const r=yt(Re,"users"),n=Fr(r),i=await pi(n);for(const a of i.docs){if(a.id===e)continue;const o=dt(Re,"users",a.id,"profile","data");try{const l=await qf(o);if(l.exists()&&l.data().username===t)return!1}catch{console.log(`No profile for user ${a.id}`)}}return!0}catch(r){return console.error("Username check error:",r),!0}},zX=t=>t.length<3||t.length>20?{valid:!1,error:"ユーザー名は3〜20文字で入力してください"}:/^[a-zA-Z0-9_]+$/.test(t)?/^[a-zA-Z]/.test(t)?{valid:!0}:{valid:!1,error:"ユーザー名は英字で始める必要があります"}:{valid:!1,error:"ユーザー名は英数字とアンダースコア(_)のみ使用できます"},hA=(t,e,r)=>new Promise((n,i)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=o=>{const l=new Image;l.src=o.target?.result,l.onload=()=>{const u=document.createElement("canvas");let f=l.width,d=l.height;f>d?f>e&&(d=d*e/f,f=e):d>r&&(f=f*r/d,d=r),u.width=f,u.height=d,u.getContext("2d")?.drawImage(l,0,0,f,d),u.toBlob(v=>{v?n(v):i(new Error("画像のリサイズに失敗しました"))},t.type)},l.onerror=()=>i(new Error("画像の読み込みに失敗しました"))},a.onerror=()=>i(new Error("ファイルの読み込みに失敗しました"))}),HX=async(t,e)=>{try{const r=await hA(e,512,512),n=uA(Em,`avatars/${t}/${Date.now()}_avatar.jpg`);await lA(n,r);const i=await cA(n);return console.log("✅ Avatar uploaded:",i),i}catch(r){throw console.error("Avatar upload error:",r),new Error("プロフィール画像のアップロードに失敗しました")}},$X=async(t,e)=>{try{const r=await hA(e,1200,400),n=uA(Em,`covers/${t}/${Date.now()}_cover.jpg`);await lA(n,r);const i=await cA(n);return console.log("✅ Cover uploaded:",i),i}catch(r){throw console.error("Cover upload error:",r),new Error("カバー画像のアップロードに失敗しました")}},qX=async(t,e)=>{try{const r=await hA(e,1080,1080),n=uA(Em,`posts/${t}/${Date.now()}_${e.name}`);await lA(n,r);const i=await cA(n);return console.log("✅ Post image uploaded:",i),i}catch(r){throw console.error("Post image upload error:",r),new Error("投稿画像のアップロードに失敗しました")}},QO=t=>t.size>10485760?{valid:!1,error:"画像サイズは10MB以下にしてください"}:["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)?{valid:!0}:{valid:!1,error:"対応している画像形式: JPEG, PNG, GIF, WebP"},GX=({onBack:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,u]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(!0),[m,b]=C.useState(""),[w,A]=C.useState(""),[S,O]=C.useState(!1),[I,R]=C.useState(!1),[k,L]=C.useState(!1),[P,M]=C.useState(""),[j,z]=C.useState(""),U=C.useRef(null),H=C.useRef(null);C.useEffect(()=>{F()},[]);const F=async()=>{try{const ne=rt.currentUser;if(!ne)return;const de=await GM(ne.uid);de&&(r(de),i(de.displayName),o(de.username),u(de.bio||""),d(de.websiteUrl||""),v(de.isPublic),b(de.avatarUrl||""),A(de.coverUrl||""))}catch(ne){console.error("Load profile error:",ne),M("プロフィールの読み込みに失敗しました")}},pe=async ne=>{const de=ne.target.files?.[0];if(!de)return;const we=QO(de);if(!we.valid){M(we.error||"");return}R(!0),M("");try{const ke=rt.currentUser;if(!ke)throw new Error("ログインが必要です");const G=await HX(ke.uid,de);b(G),z("アイコン画像をアップロードしました")}catch(ke){console.error("Avatar upload error:",ke),M(ke.message||"アイコン画像のアップロードに失敗しました")}finally{R(!1)}},_e=async ne=>{const de=ne.target.files?.[0];if(!de)return;const we=QO(de);if(!we.valid){M(we.error||"");return}L(!0),M("");try{const ke=rt.currentUser;if(!ke)throw new Error("ログインが必要です");const G=await $X(ke.uid,de);A(G),z("カバー画像をアップロードしました")}catch(ke){console.error("Cover upload error:",ke),M(ke.message||"カバー画像のアップロードに失敗しました")}finally{L(!1)}},X=async()=>{M(""),z(""),O(!0);try{const ne=rt.currentUser;if(!ne)throw new Error("ログインが必要です");if(!n.trim()){M("表示名を入力してください"),O(!1);return}const de=zX(a);if(!de.valid){M(de.error||""),O(!1);return}if(a!==e?.username&&!await VX(a,ne.uid)){M("このユーザー名は既に使用されています"),O(!1);return}await FX(ne.uid,{displayName:n.trim(),username:a,bio:l.trim(),websiteUrl:f.trim(),isPublic:p,avatarUrl:m,coverUrl:w}),z("プロフィールを更新しました！"),setTimeout(()=>z(""),3e3)}catch(ne){console.error("Save profile error:",ne),M(ne.message||"プロフィールの更新に失敗しました")}finally{O(!1)}};return x.jsxs("div",{className:"profile-edit-screen",children:[x.jsxs("div",{className:"profile-edit-header",children:[x.jsxs("button",{onClick:t,className:"back-button",children:[x.jsx(Kv,{})," 戻る"]}),x.jsx("h2",{children:"プロフィール編集"}),x.jsxs("button",{onClick:X,className:"save-button",disabled:S,children:[x.jsx(eE,{})," ",S?"保存中...":"保存"]})]}),P&&x.jsx("div",{className:"error-message",children:P}),j&&x.jsx("div",{className:"success-message",children:j}),x.jsx("div",{className:"cover-section",children:x.jsxs("div",{className:"cover-image",style:{backgroundImage:w?`url(${w})`:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:[x.jsxs("button",{onClick:()=>H.current?.click(),className:"cover-upload-button",disabled:k,children:[x.jsx(Gh,{})," ",k?"アップロード中...":"カバー画像を変更"]}),x.jsx("input",{ref:H,type:"file",accept:"image/*",onChange:_e,style:{display:"none"}})]})}),x.jsx("div",{className:"avatar-section",children:x.jsxs("div",{className:"avatar-image",children:[m?x.jsx("img",{src:m,alt:"Avatar"}):x.jsx("div",{className:"avatar-placeholder",children:x.jsx(Wh,{size:60})}),x.jsx("button",{onClick:()=>U.current?.click(),className:"avatar-upload-button",disabled:I,children:x.jsx(Gh,{})}),x.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:pe,style:{display:"none"}})]})}),x.jsxs("div",{className:"profile-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(Wh,{})," 表示名"]}),x.jsx("input",{type:"text",value:n,onChange:ne=>i(ne.target.value),placeholder:"山田太郎",maxLength:50}),x.jsxs("span",{className:"char-count",children:[n.length,"/50"]})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(Wv,{})," ユーザー名"]}),x.jsxs("div",{className:"username-input",children:[x.jsx("span",{className:"username-prefix",children:"@"}),x.jsx("input",{type:"text",value:a,onChange:ne=>o(ne.target.value.toLowerCase()),placeholder:"yamada_taro",maxLength:20})]}),x.jsx("span",{className:"hint",children:"英数字とアンダースコア（_）のみ使用可能"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"自己紹介"}),x.jsx("textarea",{value:l,onChange:ne=>u(ne.target.value),placeholder:"あなたについて教えてください...",maxLength:200,rows:4}),x.jsxs("span",{className:"char-count",children:[l.length,"/200"]})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(gF,{})," WebサイトURL"]}),x.jsx("input",{type:"url",value:f,onChange:ne=>d(ne.target.value),placeholder:"https://example.com"})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{className:"toggle-label",children:[p?x.jsx(e5,{}):x.jsx(vl,{}),"プロフィールを公開する",x.jsx("input",{type:"checkbox",checked:p,onChange:ne=>v(ne.target.checked),className:"toggle-switch"})]}),x.jsx("span",{className:"hint",children:p?"誰でもあなたのプロフィールを閲覧できます":"フォロワーのみプロフィールを閲覧できます"})]})]}),x.jsx("style",{children:`
        .profile-edit-screen {
          min-height: 100vh;
          background: var(--background);
          padding-bottom: 80px;
        }

        .profile-edit-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: var(--card);
          border-bottom: 1px solid var(--border);
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .profile-edit-header h2 {
          color: var(--text);
          font-size: 20px;
          margin: 0;
        }

        .back-button,
        .save-button {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button {
          background: var(--background);
          color: var(--text);
        }

        .back-button:hover {
          background: var(--border);
        }

        .save-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .save-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .save-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .error-message {
          margin: 16px;
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .success-message {
          margin: 16px;
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .success-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .cover-section {
          position: relative;
        }

        .cover-image {
          width: 100%;
          height: 200px;
          background-size: cover;
          background-position: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .cover-upload-button {
          padding: 10px 20px;
          background: rgba(0, 0, 0, 0.6);
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .cover-upload-button:hover:not(:disabled) {
          background: rgba(0, 0, 0, 0.8);
        }

        .cover-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .avatar-section {
          display: flex;
          justify-content: center;
          margin-top: -60px;
          padding: 0 16px;
        }

        .avatar-image {
          position: relative;
          width: 120px;
          height: 120px;
          border-radius: 50%;
          border: 4px solid var(--card);
          background: var(--background);
          overflow: hidden;
        }

        .avatar-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .avatar-placeholder {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--text-secondary);
          background: var(--border);
        }

        .avatar-upload-button {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--primary);
          color: white;
          border: 2px solid var(--card);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
        }

        .avatar-upload-button:hover:not(:disabled) {
          transform: scale(1.1);
        }

        .avatar-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .profile-form {
          padding: 32px 16px;
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input,
        .form-group textarea {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .form-group textarea {
          resize: vertical;
          font-family: inherit;
        }

        .username-input {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .username-prefix {
          color: var(--text-secondary);
          font-size: 16px;
          font-weight: 500;
        }

        .username-input input {
          flex: 1;
        }

        .char-count,
        .hint {
          color: var(--text-secondary);
          font-size: 12px;
        }

        .toggle-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
        }

        .toggle-switch {
          margin-left: auto;
          width: 50px;
          height: 26px;
          appearance: none;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          cursor: pointer;
          transition: background 0.3s;
        }

        .toggle-switch:checked {
          background: var(--primary);
        }

        .toggle-switch::before {
          content: '';
          position: absolute;
          width: 22px;
          height: 22px;
          border-radius: 50%;
          background: white;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
        }

        .toggle-switch:checked::before {
          transform: translateX(24px);
        }

        @media (max-width: 480px) {
          .cover-image {
            height: 150px;
          }

          .avatar-image {
            width: 100px;
            height: 100px;
          }

          .profile-form {
            padding: 24px 12px;
          }
        }
      `})]})},WX=()=>{const{settings:t,updateSettings:e,toggleDarkMode:r}=Yg(),{intakes:n}=Ao(),{expenses:i}=So(),{stocks:a}=To(),{user:o}=Np(),[l,u]=C.useState((t.monthlyBudget??3e4).toString()),[f,d]=C.useState(!1),p=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},v=()=>{const w=["種類,名前,カロリー,金額,日付",...n.map(O=>`食事記録,${O.name},${O.calories},${O.price},${O.date}`)].join(`
`),A=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,S.click()},m=()=>{const w={intakes:n,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},A=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,S.click()},b=async()=>{if(window.confirm("ログアウトしますか？")){const w=await LX();w.error&&alert("ログアウトに失敗しました: "+w.error)}};return f?x.jsx(GX,{onBack:()=>d(!1)}):x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"設定"}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"プロフィール"}),x.jsxs("button",{className:"profile-edit-button",onClick:()=>d(!0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 16px",background:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",marginBottom:"12px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsx(Wh,{size:24,color:"var(--primary)"}),x.jsx("span",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"500"},children:"プロフィールを編集"})]}),x.jsx(ZD,{size:24,color:"var(--text-secondary)"})]}),x.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0"},children:"アイコン、名前、自己紹介などを編集"})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"月間予算"}),x.jsx("input",{type:"number",value:l,onChange:w=>u(w.target.value),placeholder:"30000"}),x.jsxs("button",{className:"submit",onClick:p,children:[x.jsx(eE,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"外観"}),x.jsxs("div",{className:"setting-item",children:[x.jsxs("div",{className:"setting-item-left",children:[x.jsx("div",{className:"setting-icon",children:x.jsx(mF,{size:24})}),x.jsx("span",{className:"setting-label",children:"ダークモード"})]}),x.jsxs("label",{className:"toggle-switch",children:[x.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:r}),x.jsx("span",{className:"toggle-slider"})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"データエクスポート"}),x.jsxs("div",{style:{display:"flex",gap:"8px"},children:[x.jsxs("button",{className:"submit",onClick:v,style:{flex:1},children:[x.jsx(aF,{size:18,style:{marginRight:"8px"}}),"CSV"]}),x.jsxs("button",{className:"submit",onClick:m,style:{flex:1},children:[x.jsx(iF,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"データ統計"}),x.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[x.jsxs("p",{children:["食事記録: ",n.length,"件"]}),x.jsxs("p",{children:["支出記録: ",i.length,"件"]}),x.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"アカウント"}),x.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:x.jsxs("p",{children:["ログイン: ",o?.email]})}),x.jsxs("button",{className:"submit",onClick:b,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[x.jsx(cF,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},KX=()=>{const{addStock:t}=To(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState("1"),l=()=>{if(!e||!n){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(n),quantity:Number(a)}),r(""),i(""),o("1"),alert("在庫を追加しました！")};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"手動で追加"}),x.jsx("label",{children:"品目"}),x.jsx("input",{value:e,onChange:u=>r(u.target.value),placeholder:"例: 牛乳"}),x.jsx("label",{children:"残り日数"}),x.jsx("input",{type:"number",value:n,onChange:u=>i(u.target.value),placeholder:"例: 3"}),x.jsx("label",{children:"数量"}),x.jsx("input",{type:"number",value:a,onChange:u=>o(u.target.value),placeholder:"1"}),x.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},XX=()=>{const{stocks:t,deleteStock:e}=To(),{addItem:r}=lu(),n=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,u)=>{r({name:l,quantity:u}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"在庫一覧"}),t.length===0?x.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):x.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>x.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[x.jsxs("div",{style:{flex:1},children:[x.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&x.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),x.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),x.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[x.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:x.jsx(Gv,{size:20})}),x.jsx("button",{onClick:()=>n(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:x.jsx(Uf,{size:20})})]})]},l.id))})]})},YX=()=>{const{getExpiringStocks:t}=To(),{addItem:e}=lu(),r=C.useMemo(()=>t(0),[t]),n=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...r,...n];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return r.length===0&&n.length===0?null:x.jsxs(x.Fragment,{children:[r.length>0&&x.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),x.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>x.jsx("li",{children:a.name},a.id))})]}),n.length>0&&x.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),x.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>x.jsx("li",{children:a.name},a.id))})]}),x.jsx("div",{className:"card",style:{padding:"12px"},children:x.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[x.jsx(Gv,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},QX=()=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"在庫管理"}),x.jsx(YX,{}),x.jsx(KX,{}),x.jsx(XX,{})]}),ZX=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=lu(),{getExpiringStocks:r}=To(),n=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=r(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"🔰 初心者向けサポート"}),x.jsx("button",{className:"submit",onClick:n,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),x.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},JX=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function eY(t){const e=t.toLowerCase();for(const r of JX)for(const n of r.keywords)if(e.includes(n.toLowerCase()))return{type:"warning",category:r.category,reason:r.reason,alternatives:r.alternatives};return null}async function tY(t,e){try{const r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!r.ok)throw new Error("AI分析に失敗しました");const i=(await r.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(r){return console.error("AI健康分析エラー:",r),null}}const rY=({productName:t,warning:e,onClose:r,onAddAlternative:n,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[l,u]=C.useState(null),[f,d]=C.useState(!1),p=async()=>{d(!0);const b=await tY(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");u(b),o(!0),d(!1)},v=a&&l?l:e;return x.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:x.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[x.jsx("button",{onClick:r,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:x.jsx(yf,{size:24})}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[x.jsx(YD,{size:32,color:"#f59e0b"}),x.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),x.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",x.jsx("strong",{children:t}),"」について"]})]}),x.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[x.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),x.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(sF,{size:20,color:"#10b981"}),"より健康的な代替案"]}),x.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,b)=>x.jsxs("button",{onClick:()=>n(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},b))})]}),!a&&x.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[x.jsx(Cg,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),x.jsxs("div",{style:{display:"grid",gap:"8px"},children:[x.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),x.jsx("button",{onClick:r,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},nY=()=>{const{addItem:t}=lu(),[e,r]=C.useState(""),[n,i]=C.useState("1"),[a,o]=C.useState(null),[l,u]=C.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const b=eY(e);if(b){o(b),u({name:e,quantity:Number(n)});return}d(e,Number(n))},d=(b,w)=>{t({name:b,quantity:w}),r(""),i("1")},p=()=>{o(null),u(null)},v=b=>{l&&d(b,l.quantity),p()},m=()=>{l&&d(l.name,l.quantity),p()};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"手動で追加"}),x.jsx("label",{children:"商品名"}),x.jsx("input",{value:e,onChange:b=>r(b.target.value),placeholder:"例: 牛乳",onKeyDown:b=>b.key==="Enter"&&f()}),x.jsx("label",{children:"数量"}),x.jsx("input",{type:"number",value:n,onChange:b=>i(b.target.value),placeholder:"1"}),x.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&x.jsx(rY,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},iY=()=>{const{items:t,toggleItem:e,deleteItem:r,clearCompleted:n}=lu(),{addStock:i}=To(),[a,o]=C.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&n()},u=()=>{const f=t.filter(d=>d.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(d=>{i({name:d.name,quantity:d.quantity,daysRemaining:7})}),n(),o(!0),setTimeout(()=>{o(!1)},3e3))};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"買い物リスト"}),t.length===0?x.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):x.jsxs(x.Fragment,{children:[x.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>x.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[x.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),x.jsx("div",{style:{flex:1},children:x.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&x.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),x.jsx("button",{onClick:()=>r(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:x.jsx(Uf,{size:20})})]},f.id))}),t.some(f=>f.checked)&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[x.jsx(mf,{size:20}),x.jsx("span",{children:"買い物完了後はこちら！"})]}),x.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",x.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),x.jsxs("button",{className:"submit",onClick:u,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[x.jsx(mf,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),x.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&x.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[x.jsx(qv,{size:28}),x.jsx("span",{children:"在庫に追加しました！"})]})]})]})},aY=()=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"買い物リスト"}),x.jsx(ZX,{}),x.jsx(nY,{}),x.jsx(iY,{})]}),pf="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",WM=pf!=="YOUR_GEMINI_API_KEY_HERE";let Ju=[];function pA(t){const e=Date.now();Ju.push({type:t,timestamp:e}),Ju=Ju.filter(a=>e-a.timestamp<6e4);const r=Ju.filter(a=>a.type==="recipe").length,n=Ju.filter(a=>a.type==="receipt").length,i=Ju.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${r}回`),console.log(`  - レシートOCR: ${n}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function oY(t,e="none",r="none",n=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:r,customRequest:n,API_ENABLED:WM,apiKeyPrefix:pf.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";r==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:r==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:r==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:r==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=n?`

**追加のリクエスト**: ${n}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),u=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${pf}`;pA("recipe"),console.log("[Gemini] APIリクエスト送信",{url:u.replace(pf,"HIDDEN")});const f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const d=await f.json();if(console.log("[Gemini] レスポンスデータ",d),d.candidates&&d.candidates.length>0){const p=d.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",d),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),cY(t,e,r)}}async function sY(t){console.log("[Gemini Text] テキスト生成開始");try{const e=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${pf}`;pA("recipe"),console.log("[Gemini Text] APIリクエスト送信");const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(console.log("[Gemini Text] APIレスポンス受信",{status:r.status}),!r.ok){const i=await r.text();throw console.error("[Gemini Text] APIエラー",i),new Error(`Gemini API エラー: ${r.status}`)}const n=await r.json();if(console.log("[Gemini Text] レスポンスデータ受信"),n.candidates&&n.candidates.length>0){const i=n.candidates[0];if(i.content?.parts&&i.content.parts.length>0){const a=i.content.parts[0].text.trim();return console.log("[Gemini Text] テキスト生成成功"),a}}throw new Error("テキストを生成できませんでした")}catch(e){throw console.error("[Gemini Text] エラー:",e),e}}const lY=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result.split(",")[1];e(a)},n.onerror=r,n.readAsDataURL(t)});let ZO=0;const JO=5e3;async function e6(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:WM});const e=Date.now(),r=e-ZO;if(r<JO){const n=Math.ceil((JO-r)/1e3);throw new Error(`レート制限: ${n}秒後に再試行してください`)}try{ZO=e;const n=await lY(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${pf}`;pA("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:n}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const u=await o.text();throw console.error("[Gemini Receipt] APIエラー",u),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const u=l.candidates[0];if(u.content?.parts&&u.content.parts.length>0){const f=u.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let d=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)d=p[1];else if(f.includes("```")){const b=f.match(/```\s*([\s\S]*?)\s*```/);b&&(d=b[1])}const v=JSON.parse(d),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(n){throw console.error("[Gemini Receipt] エラー:",n),n}}function cY(t,e,r="none"){const n=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=r==="super_easy"?"（超簡単）":r==="under_5min"?"（5分）":r==="under_10min"?"（10分）":r==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${n}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function Am(t){return Te({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const uY=({onRecipeGenerated:t,isLoading:e,setIsLoading:r})=>{const{stocks:n}=To(),{addToHistory:i}=Dp(),[a,o]=C.useState(""),[l,u]=C.useState("none"),[f,d]=C.useState("none"),[p,v]=C.useState(""),m=[{value:"none",label:"指定なし",icon:x.jsx(Cg,{size:16})},{value:"super_easy",label:"超簡単",icon:x.jsx(zv,{size:16})},{value:"under_5min",label:"5分以内",icon:x.jsx(Hv,{size:16})},{value:"under_10min",label:"10分以内",icon:x.jsx(Vv,{size:16})},{value:"no_fire",label:"火を使わない",icon:x.jsx(Am,{size:16})}],b=[{value:"none",label:"指定なし",icon:x.jsx(Ig,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:x.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:x.jsx("span",{children:"🌱"})}],w=()=>{const S=n.filter(O=>O.quantity>0).map(O=>O.name).slice(0,10).join(", ");o(S)},A=async()=>{if(!a.trim()){alert("材料を入力してください");return}r(!0);try{const S=a.split(/[,、]/).map(R=>R.trim()).filter(R=>R.length>0),O=await oY(S,f,l,p),I={id:ml(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:O,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(I),t(I)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{r(!1)}};return x.jsxs("div",{className:"card",children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(Ig,{size:20}),"レシピを生成"]}),x.jsx("label",{children:"材料（カンマ区切り）"}),x.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),x.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[x.jsx(mf,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),x.jsx("label",{children:"難易度"}),x.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>x.jsx("button",{onClick:()=>u(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:x.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),x.jsx("label",{children:"食事制限"}),x.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:b.map(S=>x.jsx("button",{onClick:()=>d(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:x.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),x.jsx("label",{children:"カスタムリクエスト（任意）"}),x.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),x.jsxs("button",{className:"submit",onClick:A,disabled:e,children:[x.jsx(Cg,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},fY=({recipe:t})=>{const{addToHistory:e,addToFavorites:r,removeFromFavorites:n,favoriteRecipes:i}=Dp(),{addStock:a}=To(),{addItem:o}=lu(),l=i.some(p=>p.id===t.id),u=()=>{l?n(t.id):(r(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},d=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return x.jsxs("div",{className:"card",children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[x.jsx("h3",{children:t.title}),x.jsx("button",{onClick:u,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?x.jsx(mb,{size:28}):x.jsx(IF,{size:28})})]}),x.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&x.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:x.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:x.jsxs(x.Fragment,{children:[x.jsx(zv,{size:14})," 超簡単"]}),under_5min:x.jsxs(x.Fragment,{children:[x.jsx(Hv,{size:14})," 5分以内"]}),under_10min:x.jsxs(x.Fragment,{children:[x.jsx(Vv,{size:14})," 10分以内"]}),no_fire:x.jsxs(x.Fragment,{children:[x.jsx(Am,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&x.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),x.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[x.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[x.jsx(mf,{size:18})," 在庫に追加"]}),x.jsxs("button",{onClick:d,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[x.jsx(Gv,{size:18})," 買い物リストへ"]})]})]})},dY=({onRecipeSelect:t})=>{const{recipeHistory:e}=Dp();if(e.length===0)return null;const r=n=>{const i=new Date(n),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:u<24?`${u}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return x.jsxs("div",{className:"card",children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(oF,{size:20}),"レシピ履歴"]}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(n=>x.jsxs("div",{onClick:()=>t(n.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[x.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:n.recipe.title}),x.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:r(n.generatedAt)})]}),x.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[n.recipe.ingredients&&n.recipe.ingredients.slice(0,3).map((i,a)=>x.jsxs("span",{children:[i,a<Math.min((n.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),n.recipe.ingredients&&n.recipe.ingredients.length>3&&x.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",n.recipe.ingredients.length-3,"個"]})]}),(n.recipe.difficulty!=="none"||n.recipe.dietaryRestriction!=="none")&&x.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[n.recipe.difficulty&&n.recipe.difficulty!=="none"&&x.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:x.jsx(zv,{size:12}),under_5min:x.jsx(Hv,{size:12}),under_10min:x.jsx(Vv,{size:12}),no_fire:x.jsx(Am,{size:12}),none:""}[n.recipe.difficulty]}),n.recipe.dietaryRestriction&&n.recipe.dietaryRestriction!=="none"&&x.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[n.recipe.dietaryRestriction]})]})]},n.id))})]})},hY=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:r}=Dp();if(e.length===0)return null;const n=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&r(a)};return x.jsxs("div",{className:"card",children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(mb,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>x.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[x.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),x.jsx("button",{onClick:a=>n(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:x.jsx(mb,{size:24})})]}),x.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[x.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>x.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&x.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&x.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&x.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:x.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:x.jsxs(x.Fragment,{children:[x.jsx(zv,{size:14})," 超簡単"]}),under_5min:x.jsxs(x.Fragment,{children:[x.jsx(Hv,{size:14})," 5分以内"]}),under_10min:x.jsxs(x.Fragment,{children:[x.jsx(Vv,{size:14})," 10分以内"]}),no_fire:x.jsxs(x.Fragment,{children:[x.jsx(Am,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&x.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&x.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[x.jsx(hF,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},pY=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!1);return x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"AIレシピ生成"}),x.jsx(uY,{onRecipeGenerated:e,isLoading:r,setIsLoading:n}),r&&x.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:x.jsx(Ig,{size:48})}),x.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),x.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!r&&x.jsx(fY,{recipe:t}),x.jsx(dY,{onRecipeSelect:e}),x.jsx(hY,{onRecipeSelect:e})]})};function gY(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function vY(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var mY=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yY=(function(t){mY(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),gY(a,i.prototype),vY(a),a}return e})(Error),xY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gi=(function(t){xY(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(yY),_Y=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ra=(function(t){_Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(gi),bY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Le=(function(t){bY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(gi),wY=(function(){function t(e){if(this.binarizer=e,e===null)throw new Le("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),EY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),un=(function(t){EY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(gi),AY=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Wt=(function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),SY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gA=(function(t){SY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(gi),TY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),t6=(function(t){TY(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(gA),CY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yr=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Le("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new t6(r);if(n>e)throw new t6(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=CY(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Wt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),Qe=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),fn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Wt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var l=i*32+Qe.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var l=i*32+Qe.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Le;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,u=o<i?31:r&31,f=(2<<u)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Le;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=i;l<=a;l++){var u=l>i?0:e&31,f=l<a?31:r&31,d=(2<<f)-(1<<u)&4294967295;if((o[l]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Le("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Le("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var l=n*32-this.size,u=e[0]>>>l,a=1;a<n;a++){var f=e[a];u|=f<<32-l,e[a-1]=u,u=f>>>l}e[n-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Yr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Yr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),Gb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Gb||(Gb={}));const ir=Gb;var IY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),me=(function(t){IY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(gi),OY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Dt||(Dt={}));var Xr=(function(){function t(e,r,n){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var u=this.values,f=0,d=u.length;f!==d;f++){var p=u[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=OY(o),m=v.next();!m.done;m=v.next()){var b=m.value;t.NAME_TO_ECI.set(b,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Dt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Dt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Dt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Dt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Dt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Dt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Dt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Dt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Dt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Dt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Dt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Dt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Dt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Dt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Dt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Dt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Dt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Dt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Dt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Dt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Dt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Dt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Dt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Dt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Dt.Big5,28,"Big5"),t.GB18030=new t(Dt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Dt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),RY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xg=(function(t){RY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(gi),ua=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Xr?e:Xr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(Xr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xg("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Xr.UTF8)||e.equals(Xr.ISO8859_1)||e.equals(Xr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t})(),ft=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ua.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ir.CHARACTER_SET)!==void 0)return r.get(ir.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,l=0,u=0,f=0,d=0,p=0,v=0,m=0,b=0,w=0,A=0,S=0,O=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<n&&(i||a||o);I++){var R=e[I]&255;o&&(l>0?(R&128)===0?o=!1:l--:(R&128)!==0&&((R&64)===0?o=!1:(l++,(R&32)===0?u++:(l++,(R&16)===0?f++:(l++,(R&8)===0?d++:o=!1))))),i&&(R>127&&R<160?i=!1:R>159&&(R<192||R===215||R===247)&&S++),a&&(p>0?R<64||R===127||R>252?a=!1:p--:R===128||R===160||R>239?a=!1:R>160&&R<224?(v++,b=0,m++,m>w&&(w=m)):R>127?(p++,m=0,b++,b>A&&(A=b)):(m=0,b=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(O||u+f+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||A>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(l,u,f,d,p,v){if(l==="%%")return"%";if(r[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,b;switch(v){case"s":b=r[i];break;case"c":b=r[i][0];break;case"f":b=parseFloat(r[i]).toFixed(l);break;case"p":b=parseFloat(r[i]).toPrecision(l);break;case"e":b=parseFloat(r[i]).toExponential(l);break;case"x":b=parseInt(r[i]).toString(m||16);break;case"d":b=parseFloat(parseInt(r[i],m||10).toPrecision(l)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(m);for(var w=parseInt(f),A=f&&f[0]+""=="0"?"0":" ";b.length<w;)b=u!==void 0?b+A:A+b;return b}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ua.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Xr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Xr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Xr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Ye=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),xo=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Le("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],l=0;l<n;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Le("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Le("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new Le("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Le("row lengths do not match");u++}for(var d=new t(l,u),p=0;p<a;p++)i[p]&&d.set(Math.floor(p%l),Math.floor(p/l));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Le("input matrix dimensions do not match");for(var r=new fn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*n,u=e.getRow(a,r).getBitArray(),f=0;f<n;f++)i[l+f]^=u[f]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Le("Left and top must be nonnegative");if(i<1||n<1)throw new Le("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Le("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,f=r;f<o;f++)for(var d=f*l,p=e;p<a;p++)u[d+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new fn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Wt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new fn(e),i=new fn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,l=-1,u=-1,f=0;f<r;f++)for(var d=0;d<n;d++){var p=i[f*n+d];if(p!==0){if(f<o&&(o=f),f>u&&(u=f),d*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;d*32+v<a&&(a=d*32+v)}if(d*32+31>l){for(var v=31;!(p>>>v);)v--;d*32+v>l&&(l=d*32+v)}}}return l<a||u<o?null:Int32Array.from([a,o,l-a+1,u-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Yr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Yr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Ye,a=0,o=this.height;a<o;a++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),PY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oe=(function(t){PY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(gi),DY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),NY=(function(t){DY(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new fn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),l=this.buckets,u=0;u<a;u++)l[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&n.set(u);else for(var d=o[0]&255,p=o[1]&255,u=1;u<a-1;u++){var v=o[u+1]&255;(p*4-d-v)/2<f&&n.set(u),d=p,p=v}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new xo(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),f=r.getRow(u,this.luminances),d=Math.floor(n*4/5),p=Math.floor(n/5);p<d;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),b=r.getMatrix(),l=0;l<i;l++)for(var w=l*n,p=0;p<n;p++){var v=b[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,l=0;l<n;l++)r[l]>o&&(a=l,o=r[l]),r[l]>i&&(i=r[l]);for(var u=0,f=0,l=0;l<n;l++){var d=l-a,p=r[l]*d*d;p>f&&(u=l,f=p)}if(a>u){var v=a;a=u,u=v}if(u-a<=n/16)throw new oe;for(var m=u-1,b=-1,l=u-1;l>a;l--){var w=l-a,p=w*w*(u-l)*(i-r[l]);p>b&&(m=l,b=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(AY),MY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kY=(function(t){MY(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(a,o,l,n,i),f=new xo(n,i);e.calculateThresholdForBlock(a,o,l,n,i,u,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,l,u){for(var f=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),b=0;b<n;b++){var w=b<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var A=e.cap(b,2,n-3),S=0,O=-2;O<=2;O++){var I=l[m+O];S+=I[A-2]+I[A-1]+I[A]+I[A+1]+I[A+2]}var R=S/25;e.thresholdBlock(r,w,v,R,a,u)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,l){for(var u=0,f=i*o+n;u<e.BLOCK_SIZE;u++,f+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[f+d]&255)<=a&&l.set(n+d,i+u)},e.calculateBlackPoints=function(r,n,i,a,o){for(var l=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),d=0;d<i;d++){f[d]=new Int32Array(n);var p=d<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<n;v++){var m=v<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var b=0,w=255,A=0,S=0,O=p*a+m;S<e.BLOCK_SIZE;S++,O+=a){for(var I=0;I<e.BLOCK_SIZE;I++){var R=r[O+I]&255;b+=R,R<w&&(w=R),R>A&&(A=R)}if(A-w>e.MIN_DYNAMIC_RANGE)for(S++,O+=a;S<e.BLOCK_SIZE;S++,O+=a)for(var I=0;I<e.BLOCK_SIZE;I++)b+=r[O+I]&255}var k=b>>e.BLOCK_SIZE_POWER*2;if(A-w<=e.MIN_DYNAMIC_RANGE&&(k=w/2,d>0&&v>0)){var L=(f[d-1][v]+2*f[d][v-1]+f[d-1][v-1])/4;w<L&&(k=L)}f[d][v]=k}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(NY),Sm=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new xg("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new xg("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new xg("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Ye,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t})(),jY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vA=(function(t){jY(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Sm),LY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),BY=(function(t){LY(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,u=0,f=r.length;l<f;l+=4,u++){var d=void 0,p=r[l+3];if(p===0)d=255;else{var v=r[l],m=r[l+1],b=r[l+2];d=306*v+601*m+117*b+512>>10}o[u]=d}else for(var l=0,u=0,w=r.length;l<w;l+=4,u++){var d=void 0,p=r[l+3];if(p===0)d=255;else{var v=r[l],m=r[l+1],b=r[l+2];d=306*v+601*m+117*b+512>>10}o[u]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Le("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new vA(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Sm),UY=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Wn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{f(n.next(d))}catch(p){o(p)}}function u(d){try{f(n.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(l,u)}f((n=n.apply(t,e||[])).next())})},Kn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},FY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Wn(this,void 0,void 0,function(){var e,r,n,i,a,o,l,u,f,d,p,v;return Kn(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),r=[];try{for(n=FY(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,u=a.label||"Video device "+(r.length+1),f=a.groupId,d={deviceId:l,label:u,kind:o,groupId:f},r.push(d))}catch(b){p={error:b}}finally{try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(p)throw p.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Wn(this,void 0,void 0,function(){var e;return Kn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new UY(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Wn(this,void 0,void 0,function(){var r;return Kn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Wn(this,void 0,void 0,function(){return Kn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Wn(this,void 0,void 0,function(){var n,i;return Kn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Wn(this,void 0,void 0,function(){var n;return Kn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Wn(this,void 0,void 0,function(){var n,i;return Kn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Wn(this,void 0,void 0,function(){return Kn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Wn(this,void 0,void 0,function(){var i,a;return Kn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Wn(this,void 0,void 0,function(){var i;return Kn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Wn(this,void 0,void 0,function(){var i;return Kn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Wn(this,void 0,void 0,function(){var n;return Kn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Wn(this,void 0,void 0,function(){return Kn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ra("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ra("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ra("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ra("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ra("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ra("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ra("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ra("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ra("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ra("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Wn(this,void 0,void 0,function(){return Kn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Wn(this,void 0,void 0,function(){return Kn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(v){var f=r&&v instanceof oe,d=v instanceof un||v instanceof me,p=d&&n;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){r(null,u);var o=u instanceof un||u instanceof me,l=u instanceof oe;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new BY(n,r),a=new kY(i);return new wY(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),zn=(function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Wt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Wt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Wt.arraycopy(r,0,n,0,r.length),Wt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Wb;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wb||(Wb={}));const je=Wb;var Kb;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Kb||(Kb={}));const In=Kb;var Tm=(function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Ph=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Le;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),wl=(function(){function t(e,r){if(r.length===0)throw new Le;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Wt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Ph.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,u=this.field,i=1;i<l;i++)n=Ph.addOrSubtract(u.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Wt.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=Ph.addOrSubtract(r[l-o],n[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=this.field,u=0;u<n;u++)for(var f=r[u],d=0;d<a;d++)o[u+d]=Ph.addOrSubtract(o[u+d],l.multiply(f,i[d]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Le;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(n[l],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Le("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=r.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,u),d=r.buildMonomial(l,u);n=n.addOrSubtract(d),i=i.addOrSubtract(f)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),VY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KM=(function(t){VY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(gi),zY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fi=(function(t){zY(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),l=1,u=0;u<n;u++)o[u]=l,l*=2,l>=n&&(l^=r,l&=n-1);a.expTable=o;for(var f=new Int32Array(n),u=0;u<n-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new wl(a,Int32Array.from([0])),a.one=new wl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Le;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new wl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new KM;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Ph),HY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),F1=(function(t){HY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(gi),$Y=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Mp=(function(t){$Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(gi),Cm=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new wl(n,e),a=new Int32Array(r),o=!0,l=0;l<r;l++){var u=i.evaluateAt(n.exp(l+n.getGeneratorBase()));a[a.length-1-l]=u,u!==0&&(o=!1)}if(!o)for(var f=new wl(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),f,r),p=d[0],v=d[1],m=this.findErrorLocations(p),b=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-n.log(m[l]);if(w<0)throw new F1("Bad error location");e[w]=fi.addOrSubtract(e[w],b[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,l=r,u=a.getZero(),f=a.getOne();l.getDegree()>=(n/2|0);){var d=o,p=u;if(o=l,u=f,o.isZero())throw new F1("r_{i-1} was zero");l=d;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),b=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),A=a.multiply(l.getCoefficient(l.getDegree()),b);v=v.addOrSubtract(a.buildMonomial(w,A)),l=l.addOrSubtract(o.multiplyByMonomial(w,A))}if(f=v.multiply(u).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new Mp("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new F1("sigmaTilde(0) was zero");var O=a.inverse(S),I=f.multiplyScalar(O),R=l.multiplyScalar(O);return[I,R]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new F1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var l=a.inverse(r[o]),u=1,f=0;f<n;f++)if(o!==f){var d=a.multiply(r[f],l),p=(d&1)===0?d|1:d&-2;u=a.multiply(u,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),wn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(wn||(wn={}));var r6=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Tm(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=wn.UPPER,i=wn.UPPER,a="",o=0;o<r;)if(i===wn.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var u=0;u<l;u++){if(r-o<8){o=r;break}var f=t.readCode(e,o,8);a+=ft.castAsNonUtf8Char(f),o+=8}i=n}else{var d=i===wn.DIGIT?4:5;if(r-o<d)break;var f=t.readCode(e,o,d);o+=d;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(n=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=i)):(a+=p,i=n)}return a},t.getTable=function(e){switch(e){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;case"U":default:return wn.UPPER}},t.getCharacter=function(e,r){switch(e){case wn.UPPER:return t.UPPER_TABLE[r];case wn.LOWER:return t.LOWER_TABLE[r];case wn.MIXED:return t.MIXED_TABLE[r];case wn.PUNCT:return t.PUNCT_TABLE[r];case wn.DIGIT:return t.DIGIT_TABLE[r];default:throw new Mp("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=fi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=fi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=fi.AZTEC_DATA_10):(n=12,r=fi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new me;for(var o=e.length%n,l=new Int32Array(a),u=0;u<a;u++,o+=n)l[u]=t.readCode(e,o,n);try{var f=new Cm(r);f.decode(l,a-i)}catch(A){throw new me(A)}for(var d=(1<<n)-1,p=0,u=0;u<i;u++){var v=l[u];if(v===0||v===d)throw new me;(v===1||v===d-1)&&p++}for(var m=new Array(i*n-p),b=0,u=0;u<i;u++){var v=l[u];if(v===1||v===d-1)m.fill(v>1,b,b+n-1),b+=n-1;else for(var w=n-1;w>=0;--w)m[b++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<a.length;l++)a[l]=l;else for(var u=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),f=i/2,d=Qe.truncDivision(u,2),l=0;l<f;l++){var p=l+Qe.truncDivision(l,15);a[f-l-1]=d-p-1,a[f+l]=d+p+1}for(var l=0,v=0;l<n;l++){for(var m=(n-l)*4+(r?9:12),b=l*2,w=i-1-b,A=0;A<m;A++)for(var S=A*2,O=0;O<2;O++)o[v+S+O]=e.get(a[b+O],a[b+A]),o[v+2*m+S+O]=e.get(a[b+A],a[w-O]),o[v+4*m+S+O]=e.get(a[w-O],a[w-A]),o[v+6*m+S+O]=e.get(a[w-A],a[b+O]);v+=m*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),mt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t})(),Xb=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ce=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Xb.floatToIntBits(this.x)+Xb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(n>=r&&n>=i?(o=e[0],a=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var u=a;a=l,l=u}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,r){return mt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t})(),mA=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),qY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GY=(function(t){qY(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(mA),Yb=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,u=!1,f=!1,d=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var b=!0;(b||!u)&&r<v;)b=this.containsBlackPoint(n,i,r,!1),b?(r++,o=!0,u=!0):u||r++;if(r>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,r,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var A=!0;(A||!d)&&e>=0;)A=this.containsBlackPoint(n,i,e,!1),A?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&n>=0;)S=this.containsBlackPoint(e,r,n,!0),S?(n--,o=!0,p=!0):p||n--;if(n<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var O=r-e,I=null,R=1;I===null&&R<O;R++)I=this.getBlackPointOnSegment(e,i-R,e+R,i);if(I==null)throw new oe;for(var k=null,R=1;k===null&&R<O;R++)k=this.getBlackPointOnSegment(e,n+R,e+R,n);if(k==null)throw new oe;for(var L=null,R=1;L===null&&R<O;R++)L=this.getBlackPointOnSegment(r,n+R,r-R,n);if(L==null)throw new oe;for(var P=null,R=1;P===null&&R<O;R++)P=this.getBlackPointOnSegment(r,i-R,r-R,i);if(P==null)throw new oe;return this.centerEdges(P,I,L,k)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=mt.round(mt.distance(e,r,n,i)),o=(n-e)/a,l=(i-r)/a,u=this.image,f=0;f<a;f++){var d=mt.round(e+f*o),p=mt.round(r+f*l);if(u.get(d,p))return new Ce(d,p)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),l=r.getX(),u=r.getY(),f=n.getX(),d=n.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Ce(p-m,v+m),new Ce(l+m,u+m),new Ce(f-m,d-m),new Ce(a+m,o-m)]:[new Ce(p+m,v+m),new Ce(l+m,u-m),new Ce(f-m,d+m),new Ce(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var l=e;l<=r;l++)if(a.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),n6=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var l=Math.floor(r[o]),u=Math.floor(r[o+1]);if(l<-1||l>n||u<-1||u>i)throw new oe;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var l=Math.floor(r[o]),u=Math.floor(r[o+1]);if(l<-1||l>n||u<-1||u>i)throw new oe;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}},t})(),XM=(function(){function t(e,r,n,i,a,o,l,u,f){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=u,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,l,u,f,d,p,v,m,b,w,A){var S=t.quadrilateralToSquare(e,r,n,i,a,o,l,u),O=t.squareToQuadrilateral(f,d,p,v,m,b,w,A);return O.times(S)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,u=this.a23,f=this.a31,d=this.a32,p=this.a33,v=0;v<r;v+=2){var m=e[v],b=e[v+1],w=a*m+u*b+p;e[v]=(n*m+o*b+f)/w,e[v+1]=(i*m+l*b+d)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,u=this.a23,f=this.a31,d=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var b=e[m],w=r[m],A=a*b+u*w+p;e[m]=(n*b+o*w+f)/A,r[m]=(i*b+l*w+d)/A}},t.squareToQuadrilateral=function(e,r,n,i,a,o,l,u){var f=e-n+a-l,d=r-i+o-u;if(f===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var p=n-a,v=l-a,m=i-o,b=u-o,w=p*b-v*m,A=(f*b-v*d)/w,S=(p*d-f*m)/w;return new t(n-e+A*n,l-e+S*l,e,i-r+A*i,u-r+S*u,r,A,S,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,l,u){return t.squareToQuadrilateral(e,r,n,i,a,o,l,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),WY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KY=(function(t){WY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,l,u,f,d,p,v,m,b,w,A,S,O,I,R){var k=XM.quadrilateralToQuadrilateral(a,o,l,u,f,d,p,v,m,b,w,A,S,O,I,R);return this.sampleGridWithTransform(r,n,i,k)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new oe;for(var o=new xo(n,i),l=new Float32Array(2*n),u=0;u<i;u++){for(var f=l.length,d=u+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=d;a.transformPoints(l),n6.checkAndNudgePoints(r,l);try{for(var p=0;p<f;p+=2)r.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,u)}catch{throw new oe}}return o},e})(n6),yA=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new KY,t})(),si=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ce(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),XY=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new GY(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,l){var u=(a>>r-2<<1)+(a&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Qe.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var u=new Cm(fi.AZTEC_PARAM);u.decode(o,a)}catch{throw new oe}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),u=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,u,f,d))break}r=l,n=u,i=f,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var v=new Ce(r.getX()+.5,r.getY()-.5),m=new Ce(n.getX()+.5,n.getY()+.5),b=new Ce(i.getX()-.5,i.getY()+.5),w=new Ce(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Yb(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new si(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new si(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new si(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new si(o-7,l-7),!1,-1,-1).toResultPoint()}var u=mt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=mt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Yb(this.image,15,u,f).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new si(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new si(u+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new si(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new si(u-7,f-7),!1,-1,-1).toResultPoint()}return u=mt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=mt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new si(u,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=yA.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,u,u,f,u,f,f,u,f,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,l=e.getX(),u=e.getY(),f=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,p=0;p<n;p++)this.image.get(mt.round(l+p*f),mt.round(u+p*d))&&(i|=1<<n-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new si(e.getX()-a,e.getY()+a),r=new si(r.getX()-a,r.getY()-a),n=new si(n.getX()+a,n.getY()-a),i=new si(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,l=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),p=0;p<d;p++)l+=i,u+=a,this.image.get(mt.round(l),mt.round(u))!==f&&o++;var v=o/n;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new si(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Ce(l+i*a,u+i*o),d=new Ce(l-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var p=new Ce(l+i*a,u+i*o),v=new Ce(l-i*a,u-i*o),m=[f,p,d,v];return m},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=mt.round(e.getX()),n=mt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return mt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return mt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},t})(),Qb=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new XY(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new r6().decode(l)}catch(p){n=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new r6().decode(l)}catch(p){throw n??p}var u=new zn(o.getText(),o.getRawBytes(),o.getNumBits(),a,je.AZTEC,Wt.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(In.BYTE_SEGMENTS,f);var d=o.getECLevel();return d!=null&&u.putMetadata(In.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ir.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),YY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){YY(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Qb,r)||this}return e})(Yf);var Qr=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ir.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),l=270;o!==null&&o.get(In.ORIENTATION)===!0&&(l=l+o.get(In.ORIENTATION)%360),a.putMetadata(In.ORIENTATION,l);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),d=0;d<u.length;d++)u[d]=new Ce(f-u[d].getY()-1,u[d].getX());return a}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new fn(n),o=r&&r.get(ir.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),d=0;d<u;d++){var p=Math.trunc((d+1)/2),v=(d&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var b=function(O){if(O===1&&(a.reverse(),r&&r.get(ir.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;r.forEach(function(L,P){return I.set(P,L)}),I.delete(ir.NEED_RESULT_POINT_CALLBACK),r=I}try{var R=w.decodeRow(m,a,r);if(O===1){R.putMetadata(In.ORIENTATION,180);var k=R.getResultPoints();k!==null&&(k[0]=new Ce(n-k[0].getX()-1,k[0].getY()),k[1]=new Ce(n-k[1].getX()-1,k[1].getY()))}return{value:R}}catch{}},w=this,A=0;A<2;A++){var S=b(A);if(typeof S=="object")return S.value}}throw new oe},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new oe;for(var l=!e.get(r),u=0,f=r;f<o;){if(e.get(f)!==l)n[u]++;else{if(++u===i)break;n[u]=1,l=!l}f++}if(!(u===i||u===i-1&&f===o))throw new oe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new oe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;n*=u;for(var f=0,d=0;d<i;d++){var p=e[d],v=r[d]*u,m=p>v?p-v:v-p;if(m>n)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),QY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),i6=(function(t){QY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,f=6,d=i;d<n;d++)if(r.get(d)!==u)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var b=Qr.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);b<p&&(p=b,v=m)}if(v>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new oe},e.decodeCode=function(r,n,i){Qr.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],f=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new oe},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(ir.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],u=0,f=new Uint8Array(20);f[u++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new me}for(var p=!1,v=!1,m="",b=o[0],w=o[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,O=0,I=l,R=0,k=!0,L=!1,P=!1;!p;){var M=v;switch(v=!1,S=O,O=e.decodeCode(n,A,w),f[u++]=O,O!==e.CODE_STOP&&(k=!0),O!==e.CODE_STOP&&(R++,I+=R*O),b=w,w+=A.reduce(function(ne,de){return ne+de},0),O){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(d){case e.CODE_CODE_A:if(O<64)P===L?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),P=!1;else if(O<96)P===L?m+=String.fromCharCode(O-64):m+=String.fromCharCode(O+64),P=!1;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&P?(L=!0,P=!1):L&&P?(L=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(O<96)P===L?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),P=!1;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&P?(L=!0,P=!1):L&&P?(L=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(O<100)O<10&&(m+="0"),m+=O;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}M&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=w-b;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-b)/2),!1))throw new oe;if(I-=R*S,I%103!==S)throw new un;var z=m.length;if(z===0)throw new oe;z>0&&k&&(d===e.CODE_CODE_C?m=m.substring(0,z-2):m=m.substring(0,z-1));for(var U=(o[1]+o[0])/2,H=b+j/2,F=f.length,pe=new Uint8Array(F),_e=0;_e<F;_e++)pe[_e]=f[_e];var X=[new Ce(U,r),new Ce(H,r)];return new zn(m,pe,0,X,je.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Qr),ZY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),R2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a6=(function(t){ZY(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,l,u,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,f),p=n.getNextSet(d[1]),v=n.getSize(),m,b;do{e.recordPattern(n,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new oe;m=e.patternToChar(w),this.decodeRowResult+=m,b=p;try{for(var A=(a=void 0,R2(f)),S=A.next();!S.done;S=A.next()){var O=S.value;p+=O}}catch(F){a={error:F}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}p=n.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var R=R2(f),k=R.next();!k.done;k=R.next()){var O=k.value;I+=O}}catch(F){l={error:F}}finally{try{k&&!k.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}var L=p-b-I;if(p!==v&&L*2<I)throw new oe;if(this.usingCheckDigit){for(var P=this.decodeRowResult.length-1,M=0,j=0;j<P;j++)M+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(P)!==e.ALPHABET_STRING.charAt(M%43))throw new un;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new oe;var z;this.extendedMode?z=e.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;var U=(d[1]+d[0])/2,H=b+I/2;return new zn(z,null,0,[new Ce(U,r),new Ce(H,r)],je.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,l=a,u=!1,f=n.length,d=a;d<i;d++)if(r.get(d)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new oe},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,l;do{var u=2147483647;try{for(var f=(n=void 0,R2(r)),d=f.next();!d.done;d=f.next()){var p=d.value;p<u&&p>o&&(u=p)}}catch(w){n={error:w}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=u,l=0;for(var v=0,m=0,b=0;b<a;b++){var p=r[b];p>o&&(m|=1<<a-1-b,l++,v+=p)}if(l===3){for(var b=0;b<a&&l>0;b++){var p=r[b];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(a+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new me;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new me;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Qr),JY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),P2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o6=(function(t){JY(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,u,f=this.findAsteriskPattern(n),d=n.getNextSet(f[1]),p=n.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,b;do{e.recordPattern(n,d,v);var w=this.toPattern(v);if(w<0)throw new oe;m=this.patternToChar(w),this.decodeRowResult+=m,b=d;try{for(var A=(a=void 0,P2(v)),S=A.next();!S.done;S=A.next()){var O=S.value;d+=O}}catch(j){a={error:j}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var R=P2(v),k=R.next();!k.done;k=R.next()){var O=k.value;I+=O}}catch(j){l={error:j}}finally{try{k&&!k.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}if(d===p||!n.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var L=this.decodeExtended(this.decodeRowResult),P=(f[1]+f[0])/2,M=b+I/2;return new zn(L,null,0,[new Ce(P,r),new Ce(M,r)],je.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,u=a.length,f=0,d=i;d<n;d++)if(r.get(d)!==l)a[f]++;else{if(f===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new oe},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=P2(r),l=o.next();!l.done;l=o.next()){var u=l.value;a+=u}}catch(b){n={error:b}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var f=0,d=r.length,p=0;p<d;p++){var v=Math.round(r[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new oe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new me;var l=r.charAt(a+1),u="\0";switch(o){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new me;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new me;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,l=n-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(l)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new un},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Qr),eQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s6=(function(t){eQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,l=this.decodeStart(n),u=this.decodeEnd(n),f=new Ye;e.decodeMiddle(n,l[1],u[0],f);var d=f.toString(),p=null;i!=null&&(p=i.get(ir.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=d.length,m=!1,b=0;try{for(var w=tQ(p),A=w.next();!A.done;A=w.next()){var S=A.value;if(v===S){m=!0;break}S>b&&(b=S)}}catch(R){a={error:R}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>b&&(m=!0),!m)throw new me;var O=[new Ce(l[1],r),new Ce(u[0],r)],I=new zn(d,null,0,O,je.ITF,new Date().getTime());return I},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);n<i;){Qr.recordPattern(r,n,o);for(var f=0;f<5;f++){var d=2*f;l[f]=o[d],u[f]=o[d+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(u),a.append(p.toString()),o.forEach(function(v){n+=v})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new oe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof oe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),l=r.getSize(),u=!1,f=0,d=n;o.fill(0);for(var p=n;p<l;p++)if(r.get(p)!==u)o[f]++;else{if(f===a-1){if(Qr.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],Wt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new oe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],u=Qr.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=o):u===n&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Qr),rQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cf=(function(t){rQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var u=l-(a-l);u>=0&&(n=r.isRange(u,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var u=0,f=n,d=a.length,p=i,v=n;v<l;v++)if(r.get(v)!==p)o[u]++;else{if(u===d-1){if(Qr.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),b=0;b<u-1;b++)o[b]=m[b];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new oe},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,u=a.length,f=0;f<u;f++){var d=a[f],p=Qr.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Qr),nQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iQ=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),u=[new Ce((n[0]+n[1])/2,e),new Ce(a,e)],f=new zn(o,null,0,u,je.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),u=r[1],f=0,d=0;d<5&&u<l;d++){var p=Cf.decodeDigit(e,o,u,Cf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,nQ(o)),m=v.next();!m.done;m=v.next()){var b=m.value;u+=b}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-d),d!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new oe;var w=this.determineCheckDigit(f);if(t.extensionChecksum(n.toString())!==w)throw new oe;return u},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[In.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t})(),aQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oQ=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),u=[new Ce((n[0]+n[1])/2,e),new Ce(a,e)],f=new zn(o,null,0,u,je.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),u=r[1],f=0,d=0;d<2&&u<l;d++){var p=Cf.decodeDigit(e,o,u,Cf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,aQ(o)),m=v.next();!m.done;m=v.next()){var b=m.value;u+=b}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new oe;if(parseInt(n.toString())%4!==f)throw new oe;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[In.ISSUE_NUMBER,parseInt(e)]])},t})(),sQ=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=Cf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new iQ;return a.decodeRow(e,r,i)}catch{var o=new oQ;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),lQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Wr=(function(t){lQ(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(ir.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Ce((a[0]+a[1])/2,r);o.foundPossibleResultPoint(l)}var u=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=u.rowOffset,d=u.resultString;if(o!=null){var p=new Ce(f,r);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(n,f);if(o!=null){var m=new Ce((v[0]+v[1])/2,r);o.foundPossibleResultPoint(m)}var b=v[1],w=b+(b-v[0]);if(w>=n.getSize()||!n.isRange(b,w,!1))throw new oe;var A=d.toString();if(A.length<8)throw new me;if(!e.checkChecksum(A))throw new un;var S=(a[1]+a[0])/2,O=(v[1]+v[0])/2,I=this.getBarcodeFormat(),R=[new Ce(S,r),new Ce(O,r)],k=new zn(A,null,0,R,I,new Date().getTime()),L=0;try{var P=sQ.decodeRow(r,n,v[1]);k.putMetadata(In.UPC_EAN_EXTENSION,P.getText()),k.putAllMetadata(P.getResultMetadata()),k.addResultPoints(P.getResultPoints()),L=P.getText().length}catch{}var M=i==null?null:i.get(ir.ALLOWED_EAN_EXTENSIONS);if(M!=null){var j=!1;for(var z in M)if(L.toString()===z){j=!0;break}if(!j)throw new oe}return I===je.EAN_13||je.UPC_A,k},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Cf),cQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),l6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zb=(function(t){cQ(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=r.getSize(),p=n[1],v=0,m=0;m<6&&p<d;m++){var b=Wr.decodeDigit(r,f,p,Wr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+b%10);try{for(var w=(a=void 0,l6(f)),A=w.next();!A.done;A=w.next()){var S=A.value;p+=S}}catch(k){a={error:k}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}b>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var O=Wr.findGuardPattern(r,p,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0));p=O[1];for(var m=0;m<6&&p<d;m++){var b=Wr.decodeDigit(r,f,p,Wr.L_PATTERNS);i+=String.fromCharCode(48+b);try{for(var I=(l=void 0,l6(f)),R=I.next();!R.done;R=I.next()){var S=R.value;p+=S}}catch(P){l={error:P}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return je.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Wr),uQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),c6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u6=(function(t){uQ(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=r.getSize(),p=n[1],v=0;v<4&&p<d;v++){var m=Wr.decodeDigit(r,f,p,Wr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var b=(a=void 0,c6(f)),w=b.next();!w.done;w=b.next()){var A=w.value;p+=A}}catch(R){a={error:R}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}}var S=Wr.findGuardPattern(r,p,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<d;v++){var m=Wr.decodeDigit(r,f,p,Wr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var O=(l=void 0,c6(f)),I=O.next();!I.done;I=O.next()){var A=I.value;p+=A}}catch(L){l={error:L}}finally{try{I&&!I.done&&(u=O.return)&&u.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return je.EAN_8},e})(Wr),fQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),f6=(function(t){fQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Zb,r}return e.prototype.getBarcodeFormat=function(){return je.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new zn(n.substring(1),null,null,r.getResultPoints(),je.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Wr),dQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d6=(function(t){dQ(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l=this.decodeMiddleCounters.map(function(A){return A});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=r.getSize(),f=n[1],d=0,p=0;p<6&&f<u;p++){var v=e.decodeDigit(r,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,hQ(l)),b=m.next();!b.done;b=m.next()){var w=b.value;f+=w}}catch(A){a={error:A}}finally{try{b&&!b.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(d|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Ye(i),d),f},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Wr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return je.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ye;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Wr),pQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),h6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D2=(function(t){pQ(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ir.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(je.EAN_13)>-1&&a.push(new Zb),i.indexOf(je.UPC_A)>-1&&a.push(new f6),i.indexOf(je.EAN_8)>-1&&a.push(new u6),i.indexOf(je.UPC_E)>-1&&a.push(new d6)),a.length===0&&(a.push(new Zb),a.push(new f6),a.push(new u6),a.push(new d6)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var l=h6(this.readers),u=l.next();!u.done;u=l.next()){var f=u.value;try{var d=f.decodeRow(r,n,i),p=d.getBarcodeFormat()===je.EAN_13&&d.getText().charAt(0)==="0",v=i==null?null:i.get(ir.POSSIBLE_FORMATS),m=v==null||v.includes(je.UPC_A);if(p&&m){var b=d.getRawBytes(),w=new zn(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),je.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch{}}}catch(A){a={error:A}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new oe},e.prototype.reset=function(){var r,n;try{for(var i=h6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(Qr),gQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vQ=(function(t){gQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new oe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new oe;return new zn(o,null,0,[new Ce(a.left,r),new Ce(a.right,r)],je.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],l=n[0],u=1,f=1;f<n.length;f++)n[f]===l?u++:(l=n[f],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(u,f){return(u+f)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(Qr),mQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tc=(function(t){mQ(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Qr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(r){return mt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=yQ(r),p=d.next();!p.done;p=d.next()){var v=p.value;v>f&&(f=v),v<u&&(u=v)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Qr),Zg=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),YM=(function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ce(n,a)),this.resultPoints.push(new Ce(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),xQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sf=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var l=xQ(e),u=l.next();!u.done;u=l.next()){var f=u.value;o+=f}}catch(O){i={error:O}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var d=0,p=0,v=e.length,m=0;m<v-1;m++){var b=void 0;for(b=1,p|=1<<m;b<e[m];b++,p&=~(1<<m)){var w=t.combins(o-b-1,v-m-2);if(n&&p===0&&o-b-(v-m-1)>=v-m-1&&(w-=t.combins(o-b-(v-m),v-m-2)),v-m-1>1){for(var A=0,S=o-b-(v-m-2);S>r;S--)A+=t.combins(o-b-S-1,v-m-3);w-=A*(v-1-m)}else o-b>r&&w--;d+=w}o-=b}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,l=e;l>n;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),_Q=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new fn(n),a=0,o=e[0],l=o.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],d=f.getLeftChar().getValue(),p=11;p>=0;--p)(d&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),wc=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),xA=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),bQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Oa=(function(t){bQ(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(xA),wQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ec=(function(t){wQ(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(xA),EQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ef=(function(t){EQ(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new me;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(xA),V1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AQ=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,l,u,f;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var p=V1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===d)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(L){r={error:L}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(e.length<3)throw new oe;var b=e.substring(0,3);try{for(var w=V1(t.THREE_DIGIT_DATA_LENGTH),A=w.next();!A.done;A=w.next()){var m=A.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(L){i={error:L}}finally{try{A&&!A.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=V1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=S.next();!O.done;O=S.next()){var m=O.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(L){o={error:L}}finally{try{O&&!O.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new oe;var I=e.substring(0,4);try{for(var R=V1(t.FOUR_DIGIT_DATA_LENGTH),k=R.next();!k.done;k=R.next()){var m=k.value;if(m[0]===I)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(L){u={error:L}}finally{try{k&&!k.done&&(f=R.return)&&f.call(R)}finally{if(u)throw u.error}}throw new oe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new oe;var i=n.substring(0,e);if(n.length<e+r)throw new oe;var a=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+a,u=t.parseFieldsInGeneralPurpose(o);return u==null?l:l+u},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),l=n.substring(a),u="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?u:u+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),_g=(function(){function t(e){this.buffer=new Ye,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=AQ.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new ef(this.information.getSize(),ef.FNC1,ef.FNC1):new ef(this.information.getSize(),r-1,ef.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new ef(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Ec(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Ec(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Ec(this.current.getPosition(),this.buffer.toString()):r=new Ec(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new wc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Oa(e+5,Oa.FNC1);if(r>=5&&r<15)return new Oa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Oa(e+7,""+(n+1));if(n>=90&&n<116)return new Oa(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new me}return new Oa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Oa(e+5,Oa.FNC1);if(r>=5&&r<15)return new Oa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Oa(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Mp("Decoding invalid alphanumeric value: "+n)}return new Oa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),QM=(function(){function t(e){this.information=e,this.generalDecoder=new _g(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),SQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pa=(function(t){SQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(QM),TQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),CQ=(function(t){TQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ye;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Pa),IQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),OQ=(function(t){IQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ye;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(QM),RQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bg=(function(t){RQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),l=1e5,u=0;u<5;++u)o/l===0&&r.append("0"),l/=10;r.append(o)},e})(Pa),PQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ZM=(function(t){PQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+bg.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var r=new Ye;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+bg.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(bg),DQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),NQ=(function(t){DQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(ZM),MQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kQ=(function(t){MQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(ZM),jQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),LQ=(function(t){jQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pa.GTIN_SIZE)throw new oe;var r=new Ye;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Pa),BQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),UQ=(function(t){BQ(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pa.GTIN_SIZE)throw new oe;var r=new Ye;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Pa),FQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),nl=(function(t){FQ(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var r=new Ye;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(bg);function VQ(t){try{if(t.get(1))return new CQ(t);if(!t.get(2))return new OQ(t);var e=_g.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new NQ(t);case 5:return new kQ(t)}var r=_g.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new LQ(t);case 13:return new UQ(t)}var n=_g.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new nl(t,"310","11");case 57:return new nl(t,"320","11");case 58:return new nl(t,"310","13");case 59:return new nl(t,"320","13");case 60:return new nl(t,"310","15");case 61:return new nl(t,"320","15");case 62:return new nl(t,"310","17");case 63:return new nl(t,"320","17")}}catch(i){throw console.log(i),new Mp("unknown decoder: "+t)}}var p6=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),zQ=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),HQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),il=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$Q=(function(t){HQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new oe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,il(r)),f=u.next();!f.done;f=u.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(r);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new oe},e.isValidSequence=function(r){var n,i;try{for(var a=il(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(r.length>l.length)){for(var u=!0,f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!==l[f]){u=!1;break}if(u)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new zQ(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,l,u,f;try{for(var d=il(n),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.getPairs().length!==r.length){var m=!0;try{for(var b=(o=void 0,il(v.getPairs())),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var O=(u=void 0,il(r)),I=O.next();!I.done;I=O.next()){var R=I.value;if(p6.equals(A,R)){S=!0;break}}}catch(k){u={error:k}}finally{try{I&&!I.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}S||(m=!1)}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}}}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,l,u,f;try{for(var d=il(n),p=d.next();!p.done;p=d.next()){var v=p.value,m=!0;try{for(var b=(o=void 0,il(r)),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var O=(u=void 0,il(v.getPairs())),I=O.next();!I.done;I=O.next()){var R=I.value;if(A.equals(R)){S=!0;break}}}catch(k){u={error:k}}finally{try{I&&!I.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}if(!S){m=!1;break}}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(m)return!0}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=_Q.buildBitArray(r),i=VQ(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new zn(a,null,null,u,je.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,u=-1;do this.findNextPair(r,n,u),o=this.parseFoundFinderPattern(r,i,a),o===null?u=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(p){d=null,console.log(p)}return new p6(f,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var u=n[n.length-1];l=u.getFinderPattern().getStartEnd()[1]}var f=n.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;l<o&&(d=!r.get(l),!!d);)l++;for(var p=0,v=l,m=l;m<o;m++)if(r.get(m)!==d)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,d=!d}throw new oe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!r.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();Wt.arraycopy(f,0,f,1,f.length-1),f[0]=a;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new YM(d,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var d=o[u];o[u]=o[f],o[f]=d}}var p=17,v=mt.sum(new Int32Array(o))/p,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new oe;for(var b=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var O=1*o[u]/v,I=O+.5;if(I<1){if(O<.3)throw new oe;I=1}else if(I>8){if(O>8.7)throw new oe;I=8}var R=u/2;(u&1)===0?(b[R]=I,A[R]=O-I):(w[R]=I,S[R]=O-I)}this.adjustOddEvenCounts(p);for(var k=4*n.getValue()+(i?0:2)+(a?0:1)-1,L=0,P=0,u=b.length-1;u>=0;u--){if(e.isNotA1left(n,i,a)){var M=e.WEIGHTS[k][2*u];P+=b[u]*M}L+=b[u]}for(var j=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(n,i,a)){var M=e.WEIGHTS[k][2*u+1];j+=w[u]*M}var z=P+j;if((L&1)!==0||L>13||L<4)throw new oe;var U=(13-L)/2,H=e.SYMBOL_WIDEST[U],F=9-H,pe=sf.getRSSvalue(b,H,!0),_e=sf.getRSSvalue(w,F,!1),X=e.EVEN_TOTAL_SUBSET[U],ne=e.GSUM[U],de=pe*X+_e+ne;return new Zg(de,z)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=mt.sum(new Int32Array(this.getOddCounts())),i=mt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var f=n+i-r,d=(n&1)===1,p=(i&1)===0;if(f===1)if(d){if(p)throw new oe;o=!0}else{if(!p)throw new oe;u=!0}else if(f===-1)if(d){if(p)throw new oe;a=!0}else{if(!p)throw new oe;l=!0}else if(f===0){if(d){if(!p)throw new oe;n<i?(a=!0,u=!0):(o=!0,l=!0)}else if(p)throw new oe}else throw new oe;if(a){if(o)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Tc),qQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GQ=(function(t){qQ(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Zg),WQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),N2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g6=(function(t){WQ(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,u,f=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var p=N2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var b=(l=void 0,N2(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var A=w.value;if(A.getCount()>1&&e.checkChecksum(m,A))return e.constructResult(m,A)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new oe},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var l=N2(r),u=l.next();!u.done;u=l.next()){var f=u.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Ye,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var u=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var d=r.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new zn(o.toString(),null,0,[d[0],d[1],p[0],p[1]],je.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),u=a==null?null:a.get(ir.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;n&&(f=r.getSize()-1-f),u.foundPossibleResultPoint(new Ce(f,i))}var d=this.decodeDataCharacter(r,l,!0),p=this.decodeDataCharacter(r,l,!1);return new GQ(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Qr.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Qr.recordPattern(r,n.getStartEnd()[1]+1,a);for(var l=0,u=a.length-1;l<u;l++,u--){var f=a[l];a[l]=a[u],a[u]=f}}for(var d=i?16:15,p=mt.sum(new Int32Array(a))/d,v=this.getOddCounts(),m=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var A=a[l]/p,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var O=Math.floor(l/2);(l&1)===0?(v[O]=S,b[O]=A-S):(m[O]=S,w[O]=A-S)}this.adjustOddEvenCounts(i,d);for(var I=0,R=0,l=v.length-1;l>=0;l--)R*=9,R+=v[l],I+=v[l];for(var k=0,L=0,l=m.length-1;l>=0;l--)k*=9,k+=m[l],L+=m[l];var P=R+3*k;if(i){if((I&1)!==0||I>12||I<4)throw new oe;var M=(12-I)/2,j=e.OUTSIDE_ODD_WIDEST[M],z=9-j,U=sf.getRSSvalue(v,j,!1),H=sf.getRSSvalue(m,z,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[M],pe=e.OUTSIDE_GSUM[M];return new Zg(U*F+H+pe,P)}else{if((L&1)!==0||L>10||L<4)throw new oe;var M=(10-L)/2,j=e.INSIDE_ODD_WIDEST[M],z=9-j,U=sf.getRSSvalue(v,j,!0),H=sf.getRSSvalue(m,z,!1),_e=e.INSIDE_ODD_TOTAL_SUBSET[M],pe=e.INSIDE_GSUM[M];return new Zg(H*_e+U+pe,P)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,l=0;l<a&&(o=!r.get(l),n!==o);)l++;for(var u=0,f=l,d=l;d<a;d++)if(r.get(d)!==o)i[u]++;else{if(u===3){if(Tc.isFinderPattern(i))return[f,d];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new oe},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),l=a[0]-1;l>=0&&o!==r.get(l);)l--;l++;var u=a[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Wt.arraycopy(f,0,d,1,f.length-1),d[0]=u;var p=this.parseFinderValue(d,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=r.getSize()-1-v,m=r.getSize()-1-m),new YM(p,[l,a[1]],v,m,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=mt.sum(new Int32Array(this.getOddCounts())),a=mt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,f=!1;r?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var d=i+a-n,p=(i&1)===(r?1:0),v=(a&1)===1;if(d===1)if(p){if(v)throw new oe;l=!0}else{if(!v)throw new oe;f=!0}else if(d===-1)if(p){if(v)throw new oe;o=!0}else{if(!v)throw new oe;u=!0}else if(d===0){if(p){if(!v)throw new oe;i<a?(o=!0,f=!0):(l=!0,u=!0)}else if(v)throw new oe}else throw new oe;if(o){if(l)throw new oe;Tc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Tc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new oe;Tc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Tc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Tc),KQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Dh=(function(t){KQ(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ir.POSSIBLE_FORMATS):null,a=r&&r.get(ir.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(ir.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(je.EAN_13)||i.includes(je.UPC_A)||i.includes(je.EAN_8)||i.includes(je.UPC_E))&&n.readers.push(new D2(r)),i.includes(je.CODE_39)&&n.readers.push(new a6(a,o)),i.includes(je.CODE_93)&&n.readers.push(new o6),i.includes(je.CODE_128)&&n.readers.push(new i6),i.includes(je.ITF)&&n.readers.push(new s6),i.includes(je.CODABAR)&&n.readers.push(new vQ),i.includes(je.RSS_14)&&n.readers.push(new g6),i.includes(je.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new $Q))),n.readers.length===0&&(n.readers.push(new D2(r)),n.readers.push(new a6),n.readers.push(new o6),n.readers.push(new D2(r)),n.readers.push(new i6),n.readers.push(new s6),n.readers.push(new g6)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(Qr),XQ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){XQ(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Dh(n),r,n)||this}return e})(Yf);var v6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},St=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Et=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),YQ=(function(){function t(e,r,n,i,a,o){var l,u;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,d=o.getECCodewords(),p=o.getECBlocks();try{for(var v=v6(p),m=v.next();!m.done;m=v.next()){var b=m.value;f+=b.getCount()*(b.getDataCodewords()+d)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new me;try{for(var a=v6(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new St(5,new Et(1,3))),new t(2,12,12,10,10,new St(7,new Et(1,5))),new t(3,14,14,12,12,new St(10,new Et(1,8))),new t(4,16,16,14,14,new St(12,new Et(1,12))),new t(5,18,18,16,16,new St(14,new Et(1,18))),new t(6,20,20,18,18,new St(18,new Et(1,22))),new t(7,22,22,20,20,new St(20,new Et(1,30))),new t(8,24,24,22,22,new St(24,new Et(1,36))),new t(9,26,26,24,24,new St(28,new Et(1,44))),new t(10,32,32,14,14,new St(36,new Et(1,62))),new t(11,36,36,16,16,new St(42,new Et(1,86))),new t(12,40,40,18,18,new St(48,new Et(1,114))),new t(13,44,44,20,20,new St(56,new Et(1,144))),new t(14,48,48,22,22,new St(68,new Et(1,174))),new t(15,52,52,24,24,new St(42,new Et(2,102))),new t(16,64,64,14,14,new St(56,new Et(2,140))),new t(17,72,72,16,16,new St(36,new Et(4,92))),new t(18,80,80,18,18,new St(48,new Et(4,114))),new t(19,88,88,20,20,new St(56,new Et(4,144))),new t(20,96,96,22,22,new St(68,new Et(4,174))),new t(21,104,104,24,24,new St(56,new Et(6,136))),new t(22,120,120,18,18,new St(68,new Et(6,175))),new t(23,132,132,20,20,new St(62,new Et(8,163))),new t(24,144,144,22,22,new St(62,new Et(8,156),new Et(2,155))),new t(25,8,18,6,16,new St(7,new Et(1,5))),new t(26,8,32,6,14,new St(11,new Et(1,10))),new t(27,12,26,10,24,new St(14,new Et(1,16))),new t(28,12,36,10,16,new St(18,new Et(1,22))),new t(29,16,36,14,16,new St(24,new Et(1,32))),new t(30,16,48,14,22,new St(28,new Et(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),QQ=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new xo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return YQ.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,u=!1,f=!1,d=!1;do if(n===a&&i===0&&!l)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!u)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,u=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Le("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/a|0,u=o*i,f=l*a,d=new xo(f,u),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var b=m*a,w=0;w<i;++w)for(var A=p*(i+2)+1+w,S=v+w,O=0;O<a;++O){var I=m*(a+2)+1+O;if(e.get(I,A)){var R=b+O;d.set(R,S)}}return d},t})(),m6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZQ=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,l=r.getECBlocks(),u=0,f=l.getECBlocks();try{for(var d=m6(f),p=d.next();!p.done;p=d.next()){var v=p.value;u+=v.getCount()}}catch(pe){n={error:pe}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var m=new Array(u),b=0;try{for(var w=m6(f),A=w.next();!A.done;A=w.next())for(var v=A.value,S=0;S<v.getCount();S++){var O=v.getDataCodewords(),I=l.getECCodewords()+O;m[b++]=new t(O,new Uint8Array(I))}}catch(pe){a={error:pe}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var R=m[0].codewords.length,k=R-l.getECCodewords(),L=k-1,P=0,S=0;S<L;S++)for(var M=0;M<b;M++)m[M].codewords[S]=e[P++];for(var j=r.getVersionNumber()===24,z=j?8:b,M=0;M<z;M++)m[M].codewords[k-1]=e[P++];for(var U=m[0].codewords.length,S=k;S<U;S++)for(var M=0;M<b;M++){var H=j?(M+8)%b:M,F=j&&H>7?S-1:S;m[H].codewords[F]=e[P++]}if(P!==e.length)throw new Le;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),JM=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Le(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,u=o-l,f=255>>8-l<<u;r=(a[i]&f)>>u,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;r=r<<e|(a[i]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),qr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(qr||(qr={}));var JQ=(function(){function t(){}return t.decode=function(e){var r=new JM(e),n=new Ye,i=new Ye,a=new Array,o=qr.ASCII_ENCODE;do if(o===qr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case qr.C40_ENCODE:this.decodeC40Segment(r,n);break;case qr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case qr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case qr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case qr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new me}o=qr.ASCII_ENCODE}while(o!==qr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Tm(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new me;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),qr.ASCII_ENCODE;if(a===129)return qr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return qr.C40_ENCODE;case 231:return qr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return qr.ANSIX12_ENCODE;case 239:return qr.TEXT_ENCODE;case 240:return qr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return qr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}a=0;break;case 3:n?(r.append(String.fromCharCode(u+224)),n=!1):r.append(String.fromCharCode(u+96)),a=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new me}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f),a=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new me;for(var l=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new me;l[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(ua.decode(l,ft.ISO88591))}catch(f){throw new Mp("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),eZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tZ=(function(){function t(){this.rsDecoder=new Cm(fi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new QQ(e),a=i.getVersion(),o=i.readCodewords(),l=ZQ.getDataBlocks(o,a),u=0;try{for(var f=eZ(l),d=f.next();!d.done;d=f.next()){var p=d.value;u+=p.getNumDataCodewords()}}catch(I){r={error:I}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}for(var v=new Uint8Array(u),m=l.length,b=0;b<m;b++){var w=l[b],A=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(A,S);for(var O=0;O<S;O++)v[O*m+b]=A[O]}return JQ.decode(v)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new un}for(var i=0;i<r;i++)e[i]=n[i]},t})(),rZ=(function(){function t(e){this.image=e,this.rectangleDetector=new Yb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new oe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var f=t.sampleGrid(this.image,n,i,a,o,l,u);return new mA(f,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Ce(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Ce(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,r),d=o,p=[a,r,n,i];return d>l&&(d=l,p[0]=r,p[1]=n,p[2]=i,p[3]=a),d>u&&(d=u,p[0]=n,p[1]=i,p[2]=a,p[3]=r),d>f&&(p[0]=i,p[1]=a,p[2]=r,p[3]=n),p},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=t.shiftPoint(n,i,(o+1)*4),u=t.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(l,r),d=this.transitionsBetween(u,a);return f<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=this.transitionsBetween(n,a),u=t.shiftPoint(r,n,(l+1)*4),f=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(u,a),l=this.transitionsBetween(f,a);var d=new Ce(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),p=new Ce(a.getX()+(r.getX()-n.getX())/(l+1),a.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(p)?p:null;if(!this.isValid(p))return d;var v=this.transitionsBetween(u,d)+this.transitionsBetween(f,d),m=this.transitionsBetween(u,p)+this.transitionsBetween(f,p);return v>m?d:p},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(i,a)+1,u=t.shiftPoint(r,n,l*4),f=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(u,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,p=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,p),n=t.moveAway(n,d,p),i=t.moveAway(i,d,p),a=t.moveAway(a,d,p);var v,m;return u=t.shiftPoint(r,n,l*4),u=t.shiftPoint(u,a,o*4),v=t.shiftPoint(n,r,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,n,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,r,o*4),[u,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,l){var u=yA.getInstance();return u.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(a-n);if(l){var u=n;n=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-n),d=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=n<a?1:-1,b=0,w=this.image.get(l?i:n,l?n:i),A=n,S=i;A!==a;A+=m){var O=this.image.get(l?S:A,l?A:S);if(O!==w&&(b++,w=O),p+=d,p>0){if(S===o)break;S+=v,p-=f}}return b},t})(),Jb=(function(){function t(){this.decoder=new tZ}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ir.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new rZ(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),u=new zn(n.getText(),l,8*l.length,i,je.DATA_MATRIX,Wt.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata(In.BYTE_SEGMENTS,f);var d=n.getECLevel();return d!=null&&u.putMetadata(In.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],u=n[0],f=(u-l+1)/i,d=(o-a+1)/i;if(f<=0||d<=0)throw new oe;var p=i/2;a+=p,l+=p;for(var v=new xo(f,d),m=0;m<d;m++)for(var b=a+m*i,w=0;w<f;w++)e.get(l+w*i,b)&&v.set(w,m);return v},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new oe;var o=i-e[0];if(o===0)throw new oe;return o},t.NO_POINTS=[],t})(),nZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){nZ(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Jb,r)||this}return e})(Yf);var lf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(lf||(lf={}));var iZ=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ra(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Le;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(lf.L,"L",1),t.M=new t(lf.M,"M",0),t.Q=new t(lf.Q,"Q",3),t.H=new t(lf.H,"H",2),t})(),aZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e9=(function(){function t(e){this.errorCorrectionLevel=iZ.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Qe.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=aZ(t.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var f=u.value,d=f[0];if(d===e||d===r)return new t(f[1]);var p=t.numBitsDiffering(e,d);p<a&&(o=f[1],a=p),e!==r&&(p=t.numBitsDiffering(r,d),p<a&&(o=f[1],a=p))}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),oZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=oZ(i),o=a.next();!o.done;o=a.next()){var l=o.value;n+=l.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),sZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fc=(function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var l=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var d=sZ(f),p=d.next();!p.done;p=d.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+u)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Le;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=e9.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new xo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),on;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));var y6=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[on.DATA_MASK_000,new t(on.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[on.DATA_MASK_001,new t(on.DATA_MASK_001,function(e,r){return(e&1)===0})],[on.DATA_MASK_010,new t(on.DATA_MASK_010,function(e,r){return r%3===0})],[on.DATA_MASK_011,new t(on.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[on.DATA_MASK_100,new t(on.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[on.DATA_MASK_101,new t(on.DATA_MASK_101,function(e,r){return e*r%6===0})],[on.DATA_MASK_110,new t(on.DATA_MASK_110,function(e,r){return e*r%6<3})],[on.DATA_MASK_111,new t(on.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),lZ=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=e9.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Fc.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var l=Fc.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(l=Fc.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new me},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=y6.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),u=0,f=0,d=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,b=0;b<2;b++)a.get(p-b,m)||(d++,f<<=1,this.bitMatrix.get(p-b,m)&&(f|=1),d===8&&(l[u++]=f,d=0,f=0));o=!o}if(u!==r.getTotalCodewords())throw new me;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=y6.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),x6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cZ=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,l;if(e.length!==r.getTotalCodewords())throw new Le;var u=r.getECBlocksForLevel(n),f=0,d=u.getECBlocks();try{for(var p=x6(d),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(F){i={error:F}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var b=new Array(f),w=0;try{for(var A=x6(d),S=A.next();!S.done;S=A.next())for(var m=S.value,O=0;O<m.getCount();O++){var I=m.getDataCodewords(),R=u.getECCodewordsPerBlock()+I;b[w++]=new t(I,new Uint8Array(R))}}catch(F){o={error:F}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}for(var k=b[0].codewords.length,L=b.length-1;L>=0;){var P=b[L].codewords.length;if(P===k)break;L--}L++;for(var M=k-u.getECCodewordsPerBlock(),j=0,O=0;O<M;O++)for(var z=0;z<w;z++)b[z].codewords[O]=e[j++];for(var z=L;z<w;z++)b[z].codewords[M]=e[j++];for(var U=b[0].codewords.length,O=M;O<U;O++)for(var z=0;z<w;z++){var H=z<L?O:O+1;b[z].codewords[H]=e[j++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),na;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(na||(na={}));var Zt=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Le;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(na.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(na.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(na.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(na.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(na.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(na.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(na.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(na.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(na.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(na.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),uZ=(function(){function t(){}return t.decode=function(e,r,n,i){var a=new JM(e),o=new Ye,l=new Array,u=-1,f=-1;try{var d=null,p=!1,v=void 0;do{if(a.available()<4)v=Zt.TERMINATOR;else{var m=a.readBits(4);v=Zt.forBits(m)}switch(v){case Zt.TERMINATOR:break;case Zt.FNC1_FIRST_POSITION:case Zt.FNC1_SECOND_POSITION:p=!0;break;case Zt.STRUCTURED_APPEND:if(a.available()<16)throw new me;u=a.readBits(8),f=a.readBits(8);break;case Zt.ECI:var b=t.parseECIValue(a);if(d=Xr.getCharacterSetECIByValue(b),d===null)throw new me;break;case Zt.HANZI:var w=a.readBits(4),A=a.readBits(v.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,A);break;default:var S=a.readBits(v.getCharacterCountBits(r));switch(v){case Zt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Zt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Zt.BYTE:t.decodeByteSegment(a,o,S,d,l,i);break;case Zt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new me}break}}while(v!==Zt.TERMINATOR)}catch{throw new me}return new Tm(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),u,f)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,n--}try{r.append(ua.decode(i,ft.GB2312))}catch(u){throw new me(u)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,n--}try{r.append(ua.decode(i,ft.SHIFT_JIS))}catch(u){throw new me(u)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new me;for(var l=new Uint8Array(n),u=0;u<n;u++)l[u]=e.readBits(8);var f;i===null?f=ft.guessEncoding(l,o):f=i.getName();try{r.append(ua.decode(l,f))}catch(d){throw new me(d)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new me;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new me;var a=e.readBits(7);if(a>=100)throw new me;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new me;var o=e.readBits(4);if(o>=10)throw new me;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),t9=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),_6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fZ=(function(){function t(){this.rsDecoder=new Cm(fi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(xo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new lZ(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new t9(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=cZ.getDataBlocks(f,l,u),p=0;try{for(var v=_6(d),m=v.next();!m.done;m=v.next()){var b=m.value;p+=b.getNumDataCodewords()}}catch(L){n={error:L}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var w=new Uint8Array(p),A=0;try{for(var S=_6(d),O=S.next();!O.done;O=S.next()){var b=O.value,I=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(I,R);for(var k=0;k<R;k++)w[A++]=I[k]}}catch(L){a={error:L}}finally{try{O&&!O.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return uZ.decode(w,l,u,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new un}for(var i=0;i<r;i++)e[i]=n[i]},t})(),dZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hZ=(function(t){dZ(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Ce),pZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gZ=(function(){function t(e,r,n,i,a,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),l=this.image,u=0;u<r;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!l.get(d,f);)d++;for(var p=0;d<i;){if(l.get(d,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,d);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;d++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&a.get(r,u)&&l[1]<=n;)l[1]++,u--;if(u<0||l[1]>n)return NaN;for(;u>=0&&!a.get(r,u)&&l[0]<=n;)l[0]++,u--;if(l[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u)&&l[1]<=n;)l[1]++,u++;if(u===o||l[1]>n)return NaN;for(;u<o&&!a.get(r,u)&&l[2]<=n;)l[2]++,u++;if(l[2]>n)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=pZ(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.aboutEquals(f,u,l))return v.combineEstimate(u,l,f)}}catch(b){i={error:b}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var m=new hZ(l,u,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),vZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mZ=(function(t){vZ(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,l=(this.count*this.getY()+r)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,u,a)},e})(Ce),yZ=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),ph=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xZ=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ir.TRY_HARDER)!==void 0,n=e!=null&&e.get(ir.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var u=!1,f=new Int32Array(5),d=l-1;d<a&&!u;d+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,d))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,v,n);if(m===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(d+=b-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,o,n);m===!0&&(l=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Ce.orderBestPatterns(w),new yZ(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var u=l.getHeight(),f=l.getWidth();for(o=1;e+o<u&&r+o<f&&l.get(r+o,e+o);)a[2]++,o++;if(e+o>=u||r+o>=f)return!1;for(;e+o<u&&r+o<f&&!l.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=u||r+o>=f||a[3]>=n)return!1;for(;e+o<u&&r+o<f&&l.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(r,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(r,u)&&l[1]<=n;)l[1]++,u--;if(u<0||l[1]>n)return NaN;for(;u>=0&&a.get(r,u)&&l[0]<=n;)l[0]++,u--;if(l[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(r,u)&&l[3]<n;)l[3]++,u++;if(u===o||l[3]>=n)return NaN;for(;u<o&&a.get(r,u)&&l[4]<n;)l[4]++,u++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,r);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,r)&&l[1]<=n;)l[1]++,u--;if(u<0||l[1]>n)return NaN;for(;u>=0&&a.get(u,r)&&l[0]<=n;)l[0]++,u--;if(l[0]>n)return NaN;for(u=e+1;u<o&&a.get(u,r);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,r)&&l[3]<n;)l[3]++,u++;if(u===o||l[3]>=n)return NaN;for(;u<o&&a.get(u,r)&&l[4]<n;)l[4]++,u++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,d=this.possibleCenters,p=0,v=d.length;p<v;p++){var m=d[p];if(m.aboutEquals(u,l,o)){d[p]=m.combineEstimate(l,o,u),f=!0;break}}if(!f){var b=new mZ(o,l,u);d.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=ph(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,l=this.possibleCenters.length;try{for(var u=ph(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=ph(this.possibleCenters),b=m.next();!b.done;b=m.next()){var d=b.value;v+=Math.abs(d.getEstimatedModuleSize()-p)}}catch(w){n={error:w}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new oe;var o=this.possibleCenters,l;if(a>3){var u=0,f=0;try{for(var d=ph(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value,m=v.getEstimatedModuleSize();u+=m,f+=m*m}}catch(k){e={error:k}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}l=u/a;var b=Math.sqrt(f/a-l*l);o.sort(function(k,L){var P=Math.abs(L.getEstimatedModuleSize()-l),M=Math.abs(k.getEstimatedModuleSize()-l);return P<M?-1:P>M?1:0});for(var w=Math.max(.2*l,b),A=0;A<o.length&&o.length>3;A++){var S=o[A];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(A,1),A--)}}if(o.length>3){var u=0;try{for(var O=ph(o),I=O.next();!I.done;I=O.next()){var R=I.value;u+=R.getEstimatedModuleSize()}}catch(L){n={error:L}}finally{try{I&&!I.done&&(i=O.return)&&i.call(O)}finally{if(n)throw n.error}}l=u/o.length,o.sort(function(L,P){if(P.getCount()===L.getCount()){var M=Math.abs(P.getEstimatedModuleSize()-l),j=Math.abs(L.getEstimatedModuleSize()-l);return M<j?1:M>j?-1:0}else return P.getCount()-L.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),_Z=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ir.NEED_RESULT_POINT_CALLBACK);var r=new xZ(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new oe("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),l=Fc.getProvisionalVersionForDimension(o),u=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),p=n.getY()-r.getY()+i.getY(),v=1-3/u,m=Math.floor(r.getX()+v*(d-r.getX())),b=Math.floor(r.getY()+v*(p-r.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,b,w);break}catch(I){if(!(I instanceof oe))throw I}var A=t.createTransform(r,n,i,f,o),S=t.sampleGrid(this.image,A,o),O;return f===null?O=[i,r,n]:O=[i,r,n,f],new mA(S,O)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,l,u,f,d;return i!==null?(l=i.getX(),u=i.getY(),f=o-3,d=f):(l=r.getX()-e.getX()+n.getX(),u=r.getY()-e.getY()+n.getY(),f=o,d=o),XM.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,u,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=yA.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=mt.round(Ce.distance(e,r)/i),o=mt.round(Ce.distance(e,n)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new oe("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(r-(i-r)*o);return o=1,u<0?(o=r/(r-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(u-r),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,l,u),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),u=Math.abs(i-r),f=-l/2,d=e<n?1:-1,p=r<i?1:-1,v=0,m=n+d,b=e,w=r;b!==m;b+=d){var A=a?w:b,S=a?b:w;if(v===1===this.image.get(A,S)){if(v===2)return mt.distance(b,w,e,r);v++}if(f+=u,f>0){if(w===i)break;w+=p,f-=l}}return v===2?mt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),l=Math.min(this.image.getWidth()-1,r+a);if(l-o<e*3)throw new oe("Alignment top exceeds estimated module size.");var u=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-u<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new gZ(this.image,o,u,l-o,f-u,e,this.resultPointCallback);return d.find()},t})(),ew=(function(){function t(){this.decoder=new fZ}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ir.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new _Z(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof t9&&n.getOther().applyMirroredCorrection(i);var l=new zn(n.getText(),n.getRawBytes(),void 0,i,je.QR_CODE,void 0),u=n.getByteSegments();u!==null&&l.putMetadata(In.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!==null&&l.putMetadata(In.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(l.putMetadata(In.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(In.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],u=n[0];if(l>=u||a>=o)throw new oe;if(o-a!==u-l&&(u=l+(o-a),u>=e.getWidth()))throw new oe;var f=Math.round((u-l+1)/i),d=Math.round((o-a+1)/i);if(f<=0||d<=0)throw new oe;if(d!==f)throw new oe;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-u;if(v>0){if(v>p)throw new oe;l-=v}var m=a+Math.floor((d-1)*i)-o;if(m>0){if(m>p)throw new oe;a-=m}for(var b=new xo(f,d),w=0;w<d;w++)for(var A=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),A)&&b.set(S,w);return b},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],l=!0,u=0;a<i&&o<n;){if(l!==r.get(a,o)){if(++u===5)break;l=!l}a++,o++}if(a===i||o===n)throw new oe;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),bZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return mt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=bZ(e),l=o.next();!l.done;l=o.next()){var u=l.value;i[a++]=u}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Yr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),wZ=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),EZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AZ=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new wZ(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,l=0,u=!1;o<r.getHeight();){var f=t.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;try{for(var d=(n=void 0,EZ(a)),p=d.next();!p.done;p=d.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var l=new Array(4),u=!1,f=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,f);if(d!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,n,!1,o,f);if(p!=null)d=p;else{i++;break}}l[0]=new Ce(d[0],i),l[1]=new Ce(d[1],i),u=!0;break}}var v=i+1;if(u){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<r;v++){var d=t.findGuardPattern(e,p[0],v,n,!1,o,f);if(d!=null&&Math.abs(p[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-d[1])<t.MAX_PATTERN_DRIFT)p=d,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Ce(p[0],v),l[3]=new Ce(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Yr.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,a,o,l){Yr.fillWithin(l,0,l.length,0);for(var u=r,f=0;e.get(u,n)&&u>0&&f++<t.MAX_PIXEL_DRIFT;)u--;for(var d=u,p=0,v=o.length,m=a;d<i;d++){var b=e.get(d,n);if(b!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,d]);u+=l[0]+l[1],Wt.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return 1/0;var u=a/o;n*=u;for(var f=0,d=0;d<i;d++){var p=e[d],v=r[d]*u,m=p>v?p-v:v-p;if(m>n)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),SZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dc=(function(){function t(e,r){if(r.length===0)throw new Le;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Wt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=SZ(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){r={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)u=this.field.add(this.field.multiply(e,u),this.coefficients[d]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Wt.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=this.field.add(r[l-o],n[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=0;l<n;l++)for(var u=r[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(u,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Le;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ye,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),TZ=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Le;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new KM;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),CZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),IZ=(function(t){CZ(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Dc(i,new Int32Array([0])),i.one=new Dc(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Le;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Dc(this,i)},e.PDF417_GF=new e(pt.NUMBER_OF_CODEWORDS,3),e})(TZ),OZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RZ=(function(){function t(){this.field=IZ.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Dc(this.field,e),l=new Int32Array(r),u=!1,f=r;f>0;f--){var d=o.evaluateAt(this.field.exp(f));l[r-f]=d,d!==0&&(u=!0)}if(!u)return 0;var p=this.field.getOne();if(n!=null)try{for(var v=OZ(n),m=v.next();!m.done;m=v.next()){var b=m.value,w=this.field.exp(e.length-1-b),A=new Dc(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(A)}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new Dc(this.field,l),O=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),S,r),I=O[0],R=O[1],k=this.findErrorLocations(I),L=this.findErrorMagnitudes(R,I,k),f=0;f<k.length;f++){var P=e.length-1-this.field.log(k[f]);if(P<0)throw un.getChecksumInstance();e[P]=this.field.subtract(e[P],L[f])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,l=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,d=l;if(a=o,l=u,a.isZero())throw un.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var b=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(b,w)),o=o.subtract(a.multiplyByMonomial(b,w))}u=p.multiply(l).subtract(d).negative()}var A=u.getCoefficient(0);if(A===0)throw un.getChecksumInstance();var S=this.field.inverse(A),O=u.multiply(S),I=o.multiply(S);return[O,I]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw un.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new Dc(this.field,a),u=n.length,f=new Int32Array(u),o=0;o<u;o++){var d=this.field.inverse(n[o]),p=this.field.subtract(0,e.evaluateAt(d)),v=this.field.inverse(l.evaluateAt(d));f[o]=this.field.multiply(p,v)}return f},t})(),tw=(function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,l=i==null||a==null;if(o&&l)throw new oe;o?(r=new Ce(0,i.getY()),n=new Ce(0,a.getY())):l&&(i=new Ce(e.getWidth()-1,r.getY()),a=new Ce(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var d=new Ce(u.getX(),f);n?i=d:o=d}if(r>0){var p=n?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Ce(p.getX(),v);n?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),PZ=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),_A=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,u,f,d,p){if(o==="%%")return"%";if(r[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=d?parseInt(d.substr(1)):void 0,m;switch(p){case"s":m=r[n];break;case"c":m=r[n][0];break;case"f":m=parseFloat(r[n]).toFixed(o);break;case"p":m=parseFloat(r[n]).toPrecision(o);break;case"e":m=parseFloat(r[n]).toExponential(o);break;case"x":m=parseInt(r[n]).toString(v||16);break;case"d":m=parseFloat(parseInt(r[n],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var b=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";m.length<b;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),DZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r9=(function(){function t(e){this.boundingBox=new tw(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new _A,i=0;try{for(var a=DZ(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),NZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MZ=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Nh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>n?(n=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===n&&i.push(m.getKey())};try{for(var o=NZ(this.values.entries()),l=o.next();!l.done;l=o.next()){var u=MZ(l.value,2),f=u[0],d=u[1];a(f,d)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return pt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),kZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),M2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b6=(function(t){kZ(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=M2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0,v=l;v<u;v++)if(n[v]!=null){var m=n[v],b=m.getRowNumber()-f;if(b===0)p++;else if(b===1)d=Math.max(d,p),p=1,f=m.getRowNumber();else if(b<0||m.getRowNumber()>=r.getRowCount()||b>v)n[v]=null;else{var w=void 0;d>2?w=(d-2)*b:w=b;for(var A=w>=v,S=1;S<=w&&!A;S++)A=n[v-S]!=null;A?n[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=M2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var u=l.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,d=o;d<l;d++)if(u[d]!=null){var p=u[d];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=r.getRowCount()?u[d]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Nh,o=new Nh,l=new Nh,u=new Nh;try{for(var f=M2(i),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:u.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<pt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>pt.MAX_ROWS_IN_BARCODE)return null;var b=new PZ(a.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,b),b},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(r9),jZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LZ=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=pt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=n[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=n[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<n.length-1&&(f[1]=n[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<n.length-2&&(f[9]=n[r+2],f[12]=l[r+2],f[13]=u[r+2]);try{for(var d=jZ(f),p=d.next();!p.done;p=d.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new _A,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t})(),BZ=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),UZ=(function(){function t(){}return t.initialize=function(){for(var e=0;e<pt.SYMBOL_TABLE.length;e++)for(var r=pt.SYMBOL_TABLE[e],n=r&1,i=0;i<pt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(pt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][pt.BARS_IN_MODULE-i-1]=Math.fround(a/pt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=mt.sum(e),n=new Int32Array(pt.BARS_IN_MODULE),i=0,a=0,o=0;o<pt.MODULES_IN_CODEWORD;o++){var l=r/(2*pt.MODULES_IN_CODEWORD)+o*r/pt.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return pt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=mt.sum(e),n=new Array(pt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=Xb.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var u=0,f=t.RATIOS_TABLE[l],d=0;d<pt.BARS_IN_MODULE;d++){var p=Math.fround(f[d]-n[d]);if(u+=Math.fround(p*p),u>=a)break}u<a&&(a=u,o=pt.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(pt.SYMBOL_TABLE.length).map(function(e){return new Array(pt.BARS_IN_MODULE)}),t})(),FZ=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),w6=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),VZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zZ=(function(t){VZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(gi),HZ=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new zZ;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new gA;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),$Z=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qZ=(function(t){$Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(gi),GZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),WZ=(function(t){GZ(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Le("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new qZ;i=Qe.MAX_VALUE}this.buf=Yr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new gA;this.ensureCapacity(this.count+i),Wt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Yr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(HZ),Vt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Vt||(Vt={}));function n9(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var z1;function sl(t){if(typeof z1>"u"&&(z1=n9()),z1===null)throw new Error("BigInt is not supported!");return z1(t)}function KZ(){var t=[];t[0]=sl(1);var e=sl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var XZ=(function(){function t(){}return t.decode=function(e,r){var n=new Ye(""),i=Xr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],l=new FZ;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Xr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw me.getFormatInstance()}if(n.length()===0)throw me.getFormatInstance();var u=new Tm(null,n.toString(),null,r);return u.setOther(l),u},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Qe.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ye;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new Ye;r=t.textCompaction(e,r+1,u),n.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Ye;r=t.textCompaction(e,r+1,f),n.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Ye;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Ye;r=t.numericCompaction(e,r+1,p),n.setSegmentCount(Qe.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Ye;r=t.numericCompaction(e,r+1,v),n.setTimestamp(w6.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Ye;r=t.numericCompaction(e,r+1,m),n.setChecksum(Qe.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new Ye;r=t.numericCompaction(e,r+1,b),n.setFileSize(w6.parseLong(b.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(l!==-1){var w=r-l;n.isLastSegment()&&w--,n.setOptionalData(Yr.copyOfRange(e,l,l+w))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var u=e[r++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[r++],a[o]=u,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Vt.ALPHA,o=Vt.ALPHA,l=0;l<n;){var u=e[l],f="";switch(a){case Vt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.LL:a=Vt.LOWER;break;case t.ML:a=Vt.MIXED;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case t.AS:o=a,a=Vt.ALPHA_SHIFT;break;case t.ML:a=Vt.MIXED;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.MIXED:if(u<t.PL)f=t.MIXED_CHARS[u];else switch(u){case t.PL:a=Vt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Vt.LOWER;break;case t.AL:a=Vt.ALPHA;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.PUNCT:if(u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Vt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.PUNCT_SHIFT:if(a=o,u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Vt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,r,n,i,a){var o=new WZ,l=0,u=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),p=r[i++];i<r[0]&&!f;)switch(d[l++]=p,u=900*u+p,p=r[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(sl(u)>>sl(8*(5-v))));u=0,l=0}break}i===r[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=p);for(var m=0;m<l;m++)o.write(d[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!f;){var b=r[i++];if(b<t.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(sl(u)>>sl(8*(5-v))));u=0,l=0}}break}return a.append(ua.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var l=e[r++];if(r===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=sl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*sl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new me;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=n9()?KZ():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),gh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YZ=(function(){function t(){}return t.decode=function(e,r,n,i,a,o,l){for(var u=new tw(e,r,n,i,a),f=null,d=null,p,v=!0;;v=!1){if(r!=null&&(f=t.getRowIndicatorColumn(e,u,r,!0,o,l)),i!=null&&(d=t.getRowIndicatorColumn(e,u,i,!1,o,l)),p=t.merge(f,d),p==null)throw oe.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<u.getMinY()||m.getMaxY()>u.getMaxY()))u=m;else break}p.setBoundingBox(u);var b=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(b,d);for(var w=f!=null,A=1;A<=b;A++){var S=w?A:b-A;if(p.getDetectionResultColumn(S)===void 0){var O=void 0;S===0||S===b?O=new b6(u,S===0):O=new r9(u),p.setDetectionResultColumn(S,O);for(var I=-1,R=I,k=u.getMinY();k<=u.getMaxY();k++){if(I=t.getStartColumn(p,S,k,w),I<0||I>u.getMaxX()){if(R===-1)continue;I=R}var L=t.detectCodeword(e,u.getMinX(),u.getMaxX(),w,I,k,o,l);L!=null&&(O.setCodeword(k,L),R=I,o=Math.min(o,L.getWidth()),l=Math.max(l,L.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=tw.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new LZ(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=gh(i),u=l.next();!u.done;u=l.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),p=0;o>0&&d[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=d.length-1;v>0&&d[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=gh(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var l=new b6(r,i),u=0;u<2;u++)for(var f=u===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=r.getMaxY()&&p>=r.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,d,p,a,o);v!=null&&(l.setCodeword(p,v),i?d=v.getStartX():d=v.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>pt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=r[l][u+1].getValue(),d=l*e.getBarcodeColumnCount()+u;f.length===0?n.push(d):f.length===1?i[d]=f[0]:(o.push(d),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,pt.toIntArray(n),pt.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<o.length;u++)r[i[u]]=a[u][o[u]];try{return t.decodeCodewords(r,e,n)}catch(d){var f=d instanceof un;if(!f)throw d}if(o.length===0)throw un.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw un.getChecksumInstance()}throw un.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)o[l][u]=new Nh;var f=0;try{for(var d=gh(e.getDetectionResultColumns()),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,gh(v.getCodewords())),b=m.next();!b.done;b=m.next()){var w=b.value;if(w!=null){var A=w.getRowNumber();if(A>=0){if(A>=o.length)continue;o[A][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){r={error:S}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,l=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,r-l)&&(u=e.getDetectionResultColumn(r-l).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(r).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(u=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var d=(a=void 0,gh(e.getDetectionResultColumn(r).getCodewords())),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,l,u){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var f=t.getModuleBitCount(e,r,n,i,a,o);if(f==null)return null;var d,p=mt.sum(f);if(i)d=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}d=a,a=d-p}if(!t.checkCodewordSkew(p,l,u))return null;var b=UZ.getDecodedValue(f),w=pt.getCodeword(b);return w===-1?null:new BZ(a,d,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var l=a,u=new Int32Array(8),f=0,d=i?1:-1,p=i;(i?l<n:l>=r)&&f<u.length;)e.get(l,o)===p?(u[f]++,l+=d):(f++,p=!p);return f===u.length||l===(i?n:r)&&f===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var l=a,u=i?-1:1,f=0;f<2;f++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=u}u=-u,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw me.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=XZ.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw un.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw me.getFormatInstance();var n=e[0];if(n>e.length)throw me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new _A,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new RZ,t})(),QZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rw=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw oe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof me||n instanceof un?oe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,l=AZ.detectMultiple(e,r,n);try{for(var u=QZ(l.getPoints()),f=u.next();!f.done;f=u.next()){var d=f.value,p=YZ.decode(l.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),v=new zn(p.getText(),p.getRawBytes(),void 0,d,je.PDF_417);v.putMetadata(In.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(In.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(b){return b})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),ZZ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),E6=(function(t){ZZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(gi),A6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JZ=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ir.TRY_HARDER)!==void 0,n=e==null?null:e.get(ir.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===je.UPC_A||o===je.UPC_E||o===je.EAN_13||o===je.EAN_8||o===je.CODABAR||o===je.CODE_39||o===je.CODE_93||o===je.CODE_128||o===je.ITF||o===je.RSS_14||o===je.RSS_EXPANDED});a&&!r&&i.push(new Dh(e)),n.includes(je.QR_CODE)&&i.push(new ew),n.includes(je.DATA_MATRIX)&&i.push(new Jb),n.includes(je.AZTEC)&&i.push(new Qb),n.includes(je.PDF_417)&&i.push(new rw),a&&r&&i.push(new Dh(e))}i.length===0&&(r||i.push(new Dh(e)),i.push(new ew),i.push(new Jb),i.push(new Qb),i.push(new rw),r&&i.push(new Dh(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=A6(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new E6("No readers where selected, nothing can be read.");try{for(var i=A6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof E6)continue}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t})(),eJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tJ=(function(t){eJ(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new JZ;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Yf),rJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){rJ(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new rw,r)||this}return e})(Yf);var nJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){nJ(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ew,r)||this}return e})(Yf);var nw;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(nw||(nw={}));const H1=nw;var i9=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new wl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new wl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Le("No error correction bytes");var n=e.length-r;if(n<=0)throw new Le("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Wt.arraycopy(e,0,a,0,n);var o=new wl(this.field,a);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],u=l.getCoefficients(),f=r-u.length,d=0;d<f;d++)e[n+d]=0;Wt.arraycopy(u,0,e,n+f,u.length)},t})(),Mh=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=n[o],u=0;u<i-1;u++){var f=l[u];f===l[u+1]&&f===n[o+1][u]&&f===n[o+1][u+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var u=n[o];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(t.isWhiteHorizontal(u,l-4,l)||t.isWhiteHorizontal(u,l+7,l+11))&&r++,o+6<a&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=n[o],u=0;u<i;u++)l[u]===1&&r++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Le("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var u=0,f=-1,d=0;d<a;d++){var p=r?o[l][d]:o[d][l];p===f?u++:(u>=5&&(n+=t.N1+(u-5)),u=1,f=p)}u>=5&&(n+=t.N1+(u-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),iJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aJ=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=iJ(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Yr.fill(o,e)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],l=0,u=this.width;l<u;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Ye,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),iw=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ye;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),oJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qt=(function(t){oJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(gi),S6=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new fn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),u=t.TYPE_INFO_COORDINATES[a],f=u[0],d=u[1];if(n.setBoolean(f,d,l),a<8){var p=n.getWidth()-a-1,v=8;n.setBoolean(p,v,l)}else{var p=8,v=n.getHeight()-7+(a-8);n.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new fn;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(t.isEmpty(n.get(f,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&Mh.getDataMaskBit(r,f,l)&&(d=!d),n.setBoolean(f,l,d)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Qt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Le("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!iw.isValidMaskPattern(r))throw new Qt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new fn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Qt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Qt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Qt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Qt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Qt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&t.isEmpty(r.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),sJ=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),T6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Mh.applyMaskPenaltyRule1(e)+Mh.applyMaskPenaltyRule2(e)+Mh.applyMaskPenaltyRule3(e)+Mh.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(H1.CHARACTER_SET)!==void 0;a&&(i=n.get(H1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new fn;if(o===Zt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Xr.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(o,l);var f=new fn;this.appendBytes(e,o,f,i);var d;if(n!==null&&n.get(H1.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(H1.QR_VERSION).toString(),10);d=Fc.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,d);if(!this.willFit(v,d,r))throw new Qt("Data too big for requested version")}else d=this.recommendVersion(r,o,l,f);var m=new fn;m.appendBitArray(l);var b=o===Zt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,d,o,m),m.appendBitArray(f);var w=d.getECBlocksForLevel(r),A=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(A,m);var S=this.interleaveWithECBytes(m,d.getTotalCodewords(),A,w.getNumBlocks()),O=new iw;O.setECLevel(r),O.setMode(o),O.setVersion(d);var I=d.getDimensionForVersion(),R=new aJ(I,I),k=this.chooseMaskPattern(S,r,d,R);return O.setMaskPattern(k),S6.buildMatrix(S,r,d,k,R),O.setMatrix(R),O},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Fc.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Xr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Zt.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Zt.BYTE}return i?Zt.ALPHANUMERIC:n?Zt.NUMERIC:Zt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ua.encode(e,Xr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<iw.NUM_MASK_PATTERNS;l++){S6.buildMatrix(e,r,n,l,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Fc.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Qt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),l=i-o,u=(e+7)/8;return l>=u},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Qt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Qt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Qt("Block ID too large");var l=e%n,u=n-l,f=Math.floor(e/n),d=f+1,p=Math.floor(r/n),v=p+1,m=f-p,b=d-v;if(m!==b)throw new Qt("EC bytes mismatch");if(n!==u+l)throw new Qt("RS blocks mismatch");if(e!==(p+m)*u+(v+b)*l)throw new Qt("Total bytes mismatch");i<u?(a[0]=p,o[0]=m):(a[0]=v,o[0]=b)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,l,u;if(e.getSizeInBytes()!==n)throw new Qt("Number of bits and data bytes does not match");for(var f=0,d=0,p=0,v=new Array,m=0;m<i;++m){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,m,b,w);var A=b[0],S=new Uint8Array(A);e.toBytes(8*f,S,0,A);var O=t.generateECBytes(S,w[0]);v.push(new sJ(S,O)),d=Math.max(d,A),p=Math.max(p,O.length),f+=b[0]}if(n!==f)throw new Qt("Data bytes does not match offset");for(var I=new fn,m=0;m<d;++m)try{for(var R=(a=void 0,T6(v)),k=R.next();!k.done;k=R.next()){var L=k.value,S=L.getDataBytes();m<S.length&&I.appendBits(S[m],8)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var P=(l=void 0,T6(v)),M=P.next();!M.done;M=P.next()){var L=M.value,O=L.getErrorCorrectionBytes();m<O.length&&I.appendBits(O[m],8)}}catch(z){l={error:z}}finally{try{M&&!M.done&&(u=P.return)&&u.call(P)}finally{if(l)throw l.error}}if(r!==I.getSizeInBytes())throw new Qt("Interleaving error: "+r+" and "+I.getSizeInBytes()+" differ.");return I},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new i9(fi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Qt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Zt.NUMERIC:t.appendNumericBytes(e,n);break;case Zt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Zt.BYTE:t.append8BitBytes(e,n,i);break;case Zt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Qt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Qt;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Qt;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ua.encode(e,n)}catch(u){throw new Qt(u)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ua.encode(e,Xr.SJIS)}catch(p){throw new Qt(p)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,l=n[a+1]&255,u=o<<8&4294967295|l,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Qt("Invalid byte sequence");var d=(f>>8)*192+(f&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Zt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Xr.UTF8.getName(),t})();var lJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){lJ(e,t);function e(r,n,i,a,o,l,u,f){var d=t.call(this,l,u)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+l>n||o+u>i)throw new Le("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(l,u),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Le("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Wt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Wt.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<n;l++){var u=l*r;Wt.arraycopy(this.yuvData,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var u=l*r,f=0;f<r;f++){var d=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var l=o+r/2,u=o,f=o+r-1;u<l;u++,f--){var d=i[u];i[u]=i[f],i[f]=d}},e.prototype.invert=function(){return new vA(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Sm);var cJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){cJ(e,t);function e(r,n,i,a,o,l,u){var f=t.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=u,r.BYTES_PER_ELEMENT===4){for(var d=n*i,p=new Uint8ClampedArray(d),v=0;v<d;v++){var m=r[v],b=m>>16&255,w=m>>7&510,A=m&255;p[v]=(b+w+A)/4&255}f.luminances=p}else f.luminances=r;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new Le("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Le("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Wt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Wt.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<n;l++){var u=l*r;Wt.arraycopy(this.luminances,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new vA(this)},e})(Sm);var uJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fJ=(function(t){uJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(Xr),dJ=(function(){function t(){}return t.ISO_8859_1=Xr.ISO8859_1,t})(),aw,hJ=301,pJ=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=hJ);return{LOG:t,ALOG:e}};aw=pJ([],[]),aw.LOG;aw.ALOG;var C6;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(C6||(C6={}));var I6=129,a9=230,gJ=231,vJ=235,mJ=236,yJ=237,xJ=238,_J=239,bJ=240,k2=254,wJ=254,O6="[)>05",R6="[)>06",P6="",Nt=0,En=1,Xn=2,Gr=3,sn=4,Mn=5,EJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Nt},t.prototype.encode=function(e){var r=Da.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Mn:e.writeCodeword(gJ),e.signalEncoderChange(Mn);return;case En:e.writeCodeword(a9),e.signalEncoderChange(En);return;case Gr:e.writeCodeword(xJ),e.signalEncoderChange(Gr);break;case Xn:e.writeCodeword(_J),e.signalEncoderChange(Xn);break;case sn:e.writeCodeword(bJ),e.signalEncoderChange(sn);break;default:throw new Error("Illegal mode: "+i)}else Da.isExtendedASCII(n)?(e.writeCodeword(vJ),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Da.isDigit(e)&&Da.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),AJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Mn},t.prototype.encode=function(e){var r=new Ye;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}var a=r.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(a<=249)r.setCharAt(0,ft.getCharAt(a));else if(a<=1555)r.setCharAt(0,ft.getCharAt(Math.floor(a/250)+249)),r.insert(1,ft.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,n=r.length();f<n;f++)e.writeCodeword(this.randomize255State(r.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),bA=(function(){function t(){}return t.prototype.getEncodingMode=function(){return En},t.prototype.encodeMaximal=function(e){for(var r=new Ye,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var l=Math.floor(r.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,d=Math.floor(r.length()%3);(d===2&&f!==2||d===1&&(n>3||f!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(a9),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Ye;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new Ye;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,u,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,u,i);break}var f=r.length();if(f%3===0){var d=Da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(k2)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(k2),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(k2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Nt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Ye;return a.append(n),a.append(i),a.toString()},t})(),SJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return sn},t.prototype.encode=function(e){for(var r=new Ye;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Nt);break}}}r.append(ft.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),u=!e.hasMoreCharacters(),f=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Nt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ft.getCharAt(e-64)):Da.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(a<<6)+o,u=l>>16&255,f=l>>8&255,d=l&255,p=new Ye;return p.append(u),r>=2&&p.append(f),r>=3&&p.append(d),p.toString()},t})(),TJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),CJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=(function(){function t(e,r,n,i,a,o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=u}return t.lookup=function(e,r,n,i,a){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=CJ(OJ),f=u.next();!f.done;f=u.next()){var d=f.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),IJ=(function(t){TJ(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(At),OJ=[new At(!1,3,5,8,8,1),new At(!1,5,7,10,10,1),new At(!0,5,7,16,6,1),new At(!1,8,10,12,12,1),new At(!0,10,11,14,6,2),new At(!1,12,12,14,14,1),new At(!0,16,14,24,10,1),new At(!1,18,14,16,16,1),new At(!1,22,18,18,18,1),new At(!0,22,18,16,10,2),new At(!1,30,20,20,20,1),new At(!0,32,24,16,14,2),new At(!1,36,24,22,22,1),new At(!1,44,28,24,24,1),new At(!0,49,28,22,14,2),new At(!1,62,36,14,14,4),new At(!1,86,42,16,16,4),new At(!1,114,48,18,18,4),new At(!1,144,56,20,20,4),new At(!1,174,68,22,22,4),new At(!1,204,84,24,24,4,102,42),new At(!1,280,112,14,14,16,140,56),new At(!1,368,144,16,16,16,92,36),new At(!1,456,192,18,18,16,114,48),new At(!1,576,224,20,20,16,144,56),new At(!1,696,272,22,22,16,174,68),new At(!1,816,336,24,24,16,136,56),new At(!1,1050,408,18,18,36,175,68),new At(!1,1304,496,20,20,36,163,62),new IJ],RJ=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new Ye,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Ye,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=At.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),PJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DJ=(function(t){PJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Gr},e.prototype.encode=function(r){for(var n=new Ye;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Da.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Nt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Da.illegalCharacter(ft.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(wJ),r.getNewEncoding()<0&&r.signalEncoderChange(Nt)},e})(bA),NJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),MJ=(function(t){NJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Xn},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(bA),Da=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=I6+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new bA,l=[new EJ,o,new MJ,new DJ,new SJ,new AJ],u=new RJ(e);u.setSymbolShape(r),u.setSizeConstraints(n,i),e.startsWith(O6)&&e.endsWith(P6)?(u.writeCodeword(mJ),u.setSkipAtEnd(2),u.pos+=O6.length):e.startsWith(R6)&&e.endsWith(P6)&&(u.writeCodeword(yJ),u.setSkipAtEnd(2),u.pos+=R6.length);var f=Nt;for(a&&(o.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var d=u.getCodewordCount();u.updateSymbolInfo();var p=u.getSymbolInfo().getDataCapacity();d<p&&f!==Nt&&f!==Mn&&f!==sn&&u.writeCodeword("þ");var v=u.getCodewords();for(v.length()<p&&v.append(I6);v.length()<p;)v.append(this.randomize253State(v.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Gr&&i===Gr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Nt}else if(n===sn&&i===sn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Nt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Nt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(r+a===e.length){Yr.fill(o,0),Yr.fill(l,0);var u=this.findMinimums(i,l,Qe.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Nt]===u)return Nt;if(f===1){if(o[Mn]>0)return Mn;if(o[sn]>0)return sn;if(o[Xn]>0)return Xn;if(o[Gr]>0)return Gr}return En}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Nt]+=.5:this.isExtendedASCII(d)?(i[Nt]=Math.ceil(i[Nt]),i[Nt]+=2):(i[Nt]=Math.ceil(i[Nt]),i[Nt]++),this.isNativeC40(d)?i[En]+=2/3:this.isExtendedASCII(d)?i[En]+=8/3:i[En]+=4/3,this.isNativeText(d)?i[Xn]+=2/3:this.isExtendedASCII(d)?i[Xn]+=8/3:i[Xn]+=4/3,this.isNativeX12(d)?i[Gr]+=2/3:this.isExtendedASCII(d)?i[Gr]+=13/3:i[Gr]+=10/3,this.isNativeEDIFACT(d)?i[sn]+=3/4:this.isExtendedASCII(d)?i[sn]+=17/4:i[sn]+=13/4,this.isSpecialB256(d)?i[Mn]+=4:i[Mn]++,a>=4){if(Yr.fill(o,0),Yr.fill(l,0),this.findMinimums(i,l,Qe.MAX_VALUE,o),l[Nt]<this.min(l[Mn],l[En],l[Xn],l[Gr],l[sn]))return Nt;if(l[Mn]<l[Nt]||l[Mn]+1<this.min(l[En],l[Xn],l[Gr],l[sn]))return Mn;if(l[sn]+1<this.min(l[Mn],l[En],l[Xn],l[Gr],l[Nt]))return sn;if(l[Xn]+1<this.min(l[Mn],l[En],l[sn],l[Gr],l[Nt]))return Xn;if(l[Gr]+1<this.min(l[Mn],l[En],l[sn],l[Xn],l[Nt]))return Gr;if(l[En]+1<this.min(l[Nt],l[Mn],l[sn],l[Xn])){if(l[En]<l[Gr])return En;if(l[En]===l[Gr]){for(var p=r+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return Gr;if(!this.isNativeX12(v))break;p++}return En}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Yr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Qe.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),j2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D6=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ua.encode(e,this.charset)!=null}catch{return!1}},t})(),kJ=(function(){function t(e,r,n){var i,a,o,l,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new D6(fJ.forName(j))}),this.encoders=[];var d=[];d.push(new D6(dJ.ISO_8859_1));for(var p=r!=null&&r.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var b=(i=void 0,j2(d)),w=b.next();!w.done;w=b.next()){var A=w.value,S=e.charAt(v),O=S.charCodeAt(0);if(O===n||A.canEncode(S)){m=!0;break}}}catch(j){i={error:j}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}if(!m)try{for(var I=(o=void 0,j2(this.ENCODERS)),R=I.next();!R.done;R=I.next()){var A=R.value;if(A.canEncode(e.charAt(v))){d.push(A),m=!0;break}}}catch(j){o={error:j}}finally{try{R&&!R.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}m||(p=!0)}if(d.length===1&&!p)this.encoders=[d[0]];else{this.encoders=[];var k=0;try{for(var L=j2(d),P=L.next();!P.done;P=L.next()){var A=P.value;this.encoders[k++]=A}}catch(j){u={error:j}}finally{try{P&&!P.done&&(f=L.return)&&f.call(L)}finally{if(u)throw u.error}}}var M=-1;if(r!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&r.name===this.encoders[v].name){M=v;break}}this.priorityEncoderIndex=M}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ua.encode(ft.getCharAt(e),this.encoders[r].name)},t})(),jJ=3,LJ=(function(){function t(e,r,n){this.fnc1=n;var i=new kJ(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Ye,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var l=e.charAt(i).charCodeAt(0),u=0,f=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(u=r.getPriorityEncoderIndex(),f=u+1);for(var d=u;d<f;d++)(l===o||r.canEncode(l,d))&&this.addEdge(n,i+1,new N6(l,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new N6[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var l=0;l<r.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][l],n);for(var l=0;l<r.length();l++)a[o-1][l]=null}for(var u=-1,f=Qe.MAX_VALUE,l=0;l<r.length();l++)if(a[i][l]!=null){var d=a[i][l];d.cachedTotalSize<f&&(f=d.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][u];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=r.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var b=v.previous===null?0:v.previous.encoderIndex;b!==v.encoderIndex&&p.unshift(256+r.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),N6=(function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(o+=jJ),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),BJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var M6;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(M6||(M6={}));(function(t){BJ(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(LJ);var UJ=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),k6=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),FJ=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),VJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wA=(function(t){VJ(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Qe.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(FJ),zJ=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HJ=(function(t){zJ(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(wA);function $J(t,e,r){return new HJ(t,e,r)}function vh(t,e,r){return new wA(t,e,r)}var qJ=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],El=0,Jg=1,oa=2,o9=3,co=4,GJ=new wA(null,0,0),L2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],WJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function KJ(t){var e,r;try{for(var n=WJ(t),i=n.next();!i.done;i=n.next()){var a=i.value;Yr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[El][co]=0,t[Jg][co]=0,t[Jg][El]=28,t[o9][co]=0,t[oa][co]=0,t[oa][El]=15,t}var s9=KJ(Yr.createInt32Array(6,6)),XJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YJ=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=L2[this.mode][e];i=vh(i,a&65535,a>>16),n+=a>>16}var o=e===oa?4:5;return i=vh(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===oa?4:5;return n=vh(n,s9[this.mode][e],i),n=vh(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===co||this.mode===oa){var a=L2[n][El];r=vh(r,a&65535,a>>16),i+=a>>16,n=El}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=$J(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(L2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new fn;try{for(var l=XJ(i),u=l.next();!u.done;u=l.next()){var f=u.value;f.appendTo(o,e)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",qJ[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(GJ,El,0,0),t})();function QJ(t){var e=ft.getCharCode(" "),r=ft.getCharCode("."),n=ft.getCharCode(",");t[El][e]=1;for(var i=ft.getCharCode("Z"),a=ft.getCharCode("A"),o=a;o<=i;o++)t[El][o]=o-a+2;t[Jg][e]=1;for(var l=ft.getCharCode("z"),u=ft.getCharCode("a"),o=u;o<=l;o++)t[Jg][o]=o-u+2;t[oa][e]=1;for(var f=ft.getCharCode("9"),d=ft.getCharCode("0"),o=d;o<=f;o++)t[oa][o]=o-d+2;t[oa][n]=12,t[oa][r]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[o9][ft.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ft.getCharCode(m[v])>0&&(t[co][ft.getCharCode(m[v])]=v);return t}var B2=QJ(Yr.createInt32Array(5,256)),$1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZJ=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),r=ft.getCharCode(`
`),n=k6.singletonList(YJ.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ft.getCharCode("\r"):a=o===r?2:0;break;case ft.getCharCode("."):a=o===e?3:0;break;case ft.getCharCode(","):a=o===e?4:0;break;case ft.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var l=k6.min(n,function(u,f){return u.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=$1(e),l=o.next();!l.done;l=o.next()){var u=l.value;this.updateStateForChar(u,r,a)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=B2[e.getMode()][i]>0,o=null,l=0;l<=co;l++){var u=B2[l][i];if(u>0){if(o==null&&(o=e.endBinaryShift(r)),!a||l===e.getMode()||l===oa){var f=o.latchAndAppend(l,u);n.push(f)}if(!a&&s9[e.getMode()][l]>=0){var d=o.shiftAndAppend(l,u);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||B2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(r);n.push(p)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var l=$1(e),u=l.next();!u.done;u=l.next()){var f=u.value;this.updateStateForPair(f,r,n,o)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(co,n)),e.getMode()!==co&&i.push(a.shiftAndAppend(co,n)),n===3||n===4){var o=a.latchAndAppend(oa,16-n).latchAndAppend(oa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var l=$1(e),u=l.next();!u.done;u=l.next()){var f=u.value,d=!0,p=function(A){if(A.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(A)&&(o=o.filter(function(S){return S!==A}))};try{for(var v=(i=void 0,$1(o)),m=v.next();!m.done;m=v.next()){var b=m.value,w=p(b);if(w==="break")break}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}d&&o.push(f)}}catch(A){r={error:A}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t})(),JJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new ZJ(e).encode(),a=Qe.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,l,u,f,d,p;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,u=Math.abs(n),u>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Le(ft.format("Illegal value %s for layers",n));f=t.totalBitsInLayer(u,l),d=t.WORD_SIZE[u];var v=f-f%d;if(p=t.stuffBits(i,d),p.getSize()+a>v)throw new Le("Data to large for user specified layer");if(l&&p.getSize()>d*64)throw new Le("Data to large for user specified layer")}else{d=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Le("Data too large for an Aztec code");if(l=m<=3,u=l?m+1:m,f=t.totalBitsInLayer(u,l),!(o>f)){(p==null||d!==t.WORD_SIZE[u])&&(d=t.WORD_SIZE[u],p=t.stuffBits(i,d));var v=f-f%d;if(!(l&&p.getSize()>d*64)&&p.getSize()+a<=v)break}}}var b=t.generateCheckWords(p,f,d),w=p.getSize()/d,A=t.generateModeMessage(l,u,w),S=(l?11:14)+u*4,O=new Int32Array(S),I;if(l){I=S;for(var m=0;m<O.length;m++)O[m]=m}else{I=S+1+2*Qe.truncDivision(Qe.truncDivision(S,2)-1,15);for(var R=Qe.truncDivision(S,2),k=Qe.truncDivision(I,2),m=0;m<R;m++){var L=m+Qe.truncDivision(m,15);O[R-m-1]=k-L-1,O[R+m]=k+L+1}}for(var P=new xo(I),m=0,M=0;m<u;m++){for(var j=(u-m)*4+(l?9:12),z=0;z<j;z++)for(var U=z*2,H=0;H<2;H++)b.get(M+U+H)&&P.set(O[m*2+H],O[m*2+z]),b.get(M+j*2+U+H)&&P.set(O[m*2+z],O[S-1-m*2-H]),b.get(M+j*4+U+H)&&P.set(O[S-1-m*2-H],O[S-1-m*2-z]),b.get(M+j*6+U+H)&&P.set(O[S-1-m*2-z],O[m*2+H]);M+=j*8}if(t.drawModeMessage(P,l,I,A),l)t.drawBullsEye(P,Qe.truncDivision(I,2),5);else{t.drawBullsEye(P,Qe.truncDivision(I,2),7);for(var m=0,z=0;m<Qe.truncDivision(S,2)-1;m+=15,z+=16)for(var H=Qe.truncDivision(I,2)&1;H<I;H+=2)P.set(Qe.truncDivision(I,2)-z,H),P.set(Qe.truncDivision(I,2)+z,H),P.set(H,Qe.truncDivision(I,2)-z),P.set(H,Qe.truncDivision(I,2)+z)}var F=new UJ;return F.setCompact(l),F.setSize(I),F.setLayers(u),F.setCodeWords(w),F.setMatrix(P),F},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new fn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Qe.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Qe.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,l=new i9(t.getGF(n)),u=Qe.truncDivision(r,n),f=t.bitsToWords(e,n,u);l.encode(f,u-o);var d=r%n,p=new fn;p.appendBits(0,d);try{for(var v=JJ(Array.from(f)),m=v.next();!m.done;m=v.next()){var b=m.value;p.appendBits(b,n)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var l=0,u=0;u<r;u++)l|=e.get(a*r+u)?1<<r-u-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return fi.AZTEC_PARAM;case 6:return fi.AZTEC_DATA_6;case 8:return fi.AZTEC_DATA_8;case 10:return fi.AZTEC_DATA_10;case 12:return fi.AZTEC_DATA_12;default:throw new Le("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new fn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,u=0;u<r;u++)(o+u>=i||e.get(o+u))&&(l|=1<<r-1-u);(l&a)===a?(n.appendBits(l&a,r),o--):(l&a)===0?(n.appendBits(l|1,r),o--):n.appendBits(l,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const l9="YOUR_RAKUTEN_APP_ID_HERE",eee="b72c14dc75bcde18fb7d3628bf7e92b7";async function tee(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await ree(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await nee(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await iee(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await aee(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),oee(t)}async function ree(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",l9),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Items||n.Items.length===0)return null;const i=n.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function nee(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",l9),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Products||n.Products.length===0)return null;const i=n.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function iee(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",eee),e.searchParams.set("query",t),e.searchParams.set("type","code");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.product||n.product.length===0)return null;const i=n.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function aee(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();if(n.status!==1||!n.product)return null;const i=n.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function oee(t){const r={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return r?{barcode:t,...r,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const see=({onProductFound:t,onClose:e})=>{const r=C.useRef(null),[n,i]=C.useState(null),[a,o]=C.useState(null),[l,u]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(d(),()=>{p()}),[]);const d=async()=>{try{i(null);const m=new tJ;f.current=m;const b=await m.listVideoInputDevices();if(b.length===0)throw new Error("カメラが見つかりません");const w=b.find(S=>{const O=S.label.toLowerCase();return O.includes("back")||O.includes("rear")||O.includes("environment")||O.includes("camera")&&O.includes("0")}),A=w?w.deviceId:b[b.length-1].deviceId;console.log("使用するカメラ:",w?w.label:b[b.length-1].label),m.decodeFromVideoDevice(A,r.current,async(S,O)=>{if(S&&!l){const I=S.getText();if(I===a)return;o(I),u(!0);try{const R=await tee(I);R?(t(R),p()):(i(`商品情報が見つかりませんでした: ${I}`),u(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(R){console.error("商品情報取得エラー:",R),i("商品情報の取得に失敗しました"),u(!1),setTimeout(()=>{i(null),o(null)},3e3)}}O&&!(O instanceof oe)&&console.error("スキャンエラー:",O)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return x.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[x.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),x.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),x.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[x.jsx("video",{ref:r,style:{width:"100%",height:"100%",objectFit:"cover"}}),x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),n&&x.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:n})]}),x.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:x.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},lee=({product:t,onAdded:e,onNavigateToStock:r})=>{const{addIntake:n}=Ao(),{addStock:i}=To(),[a,o]=C.useState(""),[l,u]=C.useState(t.price?.toString()||""),[f,d]=C.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}n({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),r?(e(),setTimeout(()=>{r()},100)):(alert("在庫管理に追加しました！"),e())};return x.jsxs("div",{className:"card",children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(qv,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),x.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[x.jsxs("div",{style:{marginBottom:"12px"},children:[x.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),x.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&x.jsxs("div",{style:{marginBottom:"12px"},children:[x.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),x.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),x.jsxs("div",{style:{marginBottom:"12px"},children:[x.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),x.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&x.jsxs("div",{children:[x.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),x.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),x.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),x.jsxs("div",{style:{marginBottom:"24px"},children:[x.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[x.jsx(tE,{size:18}),"食事記録に追加"]}),x.jsx("label",{children:"カロリー (kcal)"}),x.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),x.jsx("label",{children:"金額 (円)"}),x.jsx("input",{type:"number",value:l,onChange:m=>u(m.target.value),placeholder:"例: 150"}),x.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),x.jsxs("div",{children:[x.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[x.jsx(mf,{size:18}),"在庫管理に追加"]}),x.jsx("label",{children:"賞味期限までの日数"}),x.jsx("input",{type:"number",value:f,onChange:m=>d(m.target.value),placeholder:"例: 7"}),x.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:r?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),x.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},cee=({onReceiptScanned:t,onClose:e})=>{const r=C.useRef(null),n=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[l,u]=C.useState(null),[f,d]=C.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});r.current&&(r.current.srcObject=w,d(w))}catch(w){console.error("カメラアクセスエラー:",w),u("カメラにアクセスできません。ファイル選択をお試しください。")}};Un.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!r.current||!n.current)){o(!0),u(null);try{const w=r.current,A=n.current,S=A.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");A.width=w.videoWidth,A.height=w.videoHeight,S.drawImage(w,0,0);const O=await new Promise((k,L)=>{A.toBlob(P=>{P?k(P):L(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),I=new File([O],"receipt.jpg",{type:"image/jpeg"}),R=await e6(I);f&&f.getTracks().forEach(k=>k.stop()),t(R)}catch(w){console.error("OCRエラー:",w),u(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const A=w.target.files?.[0];if(A){o(!0),u(null);try{const S=await e6(A);f&&f.getTracks().forEach(O=>O.stop()),t(S)}catch(S){console.error("OCRエラー:",S),u(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},b=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return x.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[x.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),x.jsx("button",{onClick:b,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:x.jsx(yf,{size:24})})]}),x.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[x.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),x.jsx("canvas",{ref:n,style:{display:"none"}}),x.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:x.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&x.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),x.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[x.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),x.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[x.jsx(wF,{size:20}),"ファイル選択"]}),x.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":x.jsx(Gh,{size:32})})]})]})},uee=({result:t,onClose:e})=>{const{addExpense:r}=So(),[n,i]=C.useState(t.items),[a,o]=C.useState(null),[l,u]=C.useState(""),[f,d]=C.useState(""),p=n.reduce((I,R)=>I+R.price*(R.quantity||1),0),v=I=>{const R=n[I];o(I),u(R.name),d(R.price.toString())},m=()=>{if(a===null)return;const I=parseInt(f,10);if(isNaN(I)||I<=0){alert("正しい金額を入力してください");return}const R=[...n];R[a]={...R[a],name:l.trim(),price:I},i(R),o(null),u(""),d("")},b=()=>{o(null),u(""),d("")},w=I=>{if(window.confirm("この商品を削除しますか？")){const R=n.filter((k,L)=>L!==I);i(R)}},A=()=>{const I=window.prompt("商品名を入力してください");if(!I||!I.trim())return;const R=window.prompt("金額を入力してください");if(!R)return;const k=parseInt(R,10);if(isNaN(k)||k<=0){alert("正しい金額を入力してください");return}i([...n,{name:I.trim(),price:k,quantity:1}])},S=()=>{if(n.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${n.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const I=new Date().toISOString();n.forEach(R=>{const k=R.quantity||1;for(let L=0;L<k;L++)r({category:"food",amount:R.price,memo:R.name,date:t.date||I})}),alert("家計簿に登録しました！"),e()},O=I=>new Intl.NumberFormat("ja-JP").format(I);return x.jsxs("div",{className:"card",children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[x.jsx(WD,{size:20}),"レシート内容"]}),x.jsxs("button",{onClick:A,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[x.jsx(Tg,{size:18}),"追加"]})]}),x.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&x.jsxs("div",{style:{marginBottom:"4px"},children:[x.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&x.jsxs("div",{children:[x.jsx("strong",{children:"日付:"})," ",t.date]})]}),n.length===0?x.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):x.jsx("div",{style:{marginBottom:"16px"},children:n.map((I,R)=>x.jsx("div",{style:{padding:"12px",borderBottom:R<n.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===R?x.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[x.jsx("input",{value:l,onChange:k=>u(k.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),x.jsx("input",{value:f,onChange:k=>d(k.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),x.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:x.jsx(eE,{size:16})}),x.jsx("button",{onClick:b,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:I.name}),I.quantity&&I.quantity>1&&x.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",I.quantity,"個"]})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",O(I.price*(I.quantity||1))]}),x.jsx("button",{onClick:()=>v(R),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:x.jsx(_F,{size:18})}),x.jsx("button",{onClick:()=>w(R),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:x.jsx(Uf,{size:18})})]})]})},R))}),x.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),x.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",O(p)]})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[x.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),x.jsx("button",{onClick:S,className:"submit",disabled:n.length===0,style:{opacity:n.length===0?.5:1},children:"家計簿に登録"})]}),x.jsxs("details",{style:{marginTop:"16px"},children:[x.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),x.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},fee=({onNavigateToStock:t})=>{const[e,r]=C.useState("select"),[n,i]=C.useState(!1),[a,o]=C.useState(null),[l,u]=C.useState(null),f=()=>{r("barcode"),i(!0),o(null)},d=()=>{r("receipt"),i(!0),u(null)},p=A=>{o(A),i(!1)},v=A=>{u(A),i(!1)},m=()=>{o(null),r("select")},b=()=>{u(null),r("select")},w=()=>{r("select"),i(!1),o(null),u(null)};return x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"スキャン"}),e==="select"&&!n&&!a&&!l&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"card",children:[x.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx(Gh,{size:20}),"スキャンモードを選択"]}),x.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[x.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[x.jsx(pF,{size:48}),x.jsx("span",{children:"バーコード"}),x.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),x.jsxs("button",{onClick:d,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[x.jsx(WD,{size:48}),x.jsx("span",{children:"レシート"}),x.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&n&&x.jsx(see,{onProductFound:p,onClose:w}),e==="barcode"&&a&&x.jsx(lee,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&n&&x.jsx(cee,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&x.jsx(uee,{result:l,onClose:b})]})};function j6(t,e,r){return t.filter(n=>{const i=new Date(n.date);return i.getFullYear()===e&&i.getMonth()+1===r})}function L6(t,e,r,n){const i=j6(r,t,e),a=j6(n,t,e),o=i.reduce((d,p)=>d+p.calories,0),l=i.reduce((d,p)=>d+(p.price||0),0),u=a.reduce((d,p)=>d+p.amount,0),f={};return a.forEach(d=>{f[d.category]=(f[d.category]||0)+d.amount}),{year:t,month:e,intakes:{count:i.length,totalCalories:o,avgCalories:i.length>0?o/i.length:0,totalPrice:l},expenses:{count:a.length,total:u,byCategory:f}}}function dee(t,e,r,n){const i=L6(t,e,r,n);let a=t,o=e-1;o===0&&(o=12,a-=1);const l=L6(a,o,r,n),u=(f,d)=>d===0?f>0?100:0:(f-d)/d*100;return{current:i,previous:l,changes:{intakesCount:u(i.intakes.count,l.intakes.count),totalCalories:u(i.intakes.totalCalories,l.intakes.totalCalories),avgCalories:u(i.intakes.avgCalories,l.intakes.avgCalories),totalExpenses:u(i.expenses.total,l.expenses.total)}}}function hee(t){const{current:e,previous:r,changes:n}=t;return`以下のユーザーの月次健康・家計データを分析し、3〜5つの具体的な改善提案をしてください。

【今月のデータ（${e.year}年${e.month}月）】
- 食事記録: ${e.intakes.count}回
- 総カロリー: ${e.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(e.intakes.avgCalories)}kcal/食
- 食費: ¥${e.intakes.totalPrice.toLocaleString()}
- 総支出: ¥${e.expenses.total.toLocaleString()}

【先月のデータ（${r.year}年${r.month}月）】
- 食事記録: ${r.intakes.count}回
- 総カロリー: ${r.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(r.intakes.avgCalories)}kcal/食
- 総支出: ¥${r.expenses.total.toLocaleString()}

【先月比の変化】
- 食事記録回数: ${n.intakesCount>0?"+":""}${n.intakesCount.toFixed(1)}%
- 総カロリー: ${n.totalCalories>0?"+":""}${n.totalCalories.toFixed(1)}%
- 平均カロリー: ${n.avgCalories>0?"+":""}${n.avgCalories.toFixed(1)}%
- 総支出: ${n.totalExpenses>0?"+":""}${n.totalExpenses.toFixed(1)}%

【お願い】
1. データの傾向を簡潔に分析してください
2. 健康面での改善提案を2〜3点
3. 家計面での改善提案を1〜2点
4. 具体的で実行可能なアドバイスをお願いします
5. 日本語で、親しみやすくわかりやすい表現で回答してください`}function pee(){const{intakes:t}=Ao(),{expenses:e}=So(),r=new Date,[n,i]=C.useState(r.getFullYear()),[a,o]=C.useState(r.getMonth()+1),[l,u]=C.useState(null),[f,d]=C.useState(""),[p,v]=C.useState(!1);C.useEffect(()=>{const R=dee(n,a,t,e);u(R)},[n,a,t,e]);const m=async()=>{if(l){v(!0);try{const R=hee(l),k=await sY(R);d(k)}catch(R){console.error("AI提案生成エラー:",R),alert("AI提案の生成に失敗しました")}finally{v(!1)}}},b=()=>{a===1?(i(n-1),o(12)):o(a-1),d("")},w=()=>{a===12?(i(n+1),o(1)):o(a+1),d("")},A=R=>{if(R===0)return x.jsx("span",{className:"change-neutral",children:"±0%"});const k=R>0?x.jsx(KD,{}):x.jsx(fF,{}),L=R>0?"change-up":"change-down";return x.jsxs("span",{className:`change ${L}`,children:[k," ",R>0?"+":"",R.toFixed(1),"%"]})};if(!l)return x.jsx("div",{className:"card",children:"データを読み込み中..."});const{current:S,previous:O,changes:I}=l;return x.jsx("div",{className:"monthly-report",children:x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"report-header",children:[x.jsx("h3",{children:"📊 月次レポート"}),x.jsxs("div",{className:"month-selector",children:[x.jsx("button",{className:"month-nav-btn",onClick:b,children:"◀"}),x.jsxs("span",{className:"current-month",children:[n,"年",a,"月"]}),x.jsx("button",{className:"month-nav-btn",onClick:w,children:"▶"})]})]}),x.jsxs("div",{className:"report-section",children:[x.jsx("h4",{children:"今月の記録"}),x.jsxs("div",{className:"stats-grid",children:[x.jsxs("div",{className:"stat-item",children:[x.jsx("div",{className:"stat-label",children:"食事記録"}),x.jsxs("div",{className:"stat-value",children:[S.intakes.count,"回"]}),A(I.intakesCount)]}),x.jsxs("div",{className:"stat-item",children:[x.jsx("div",{className:"stat-label",children:"平均カロリー"}),x.jsxs("div",{className:"stat-value",children:[Math.round(S.intakes.avgCalories),"kcal"]}),A(I.avgCalories)]}),x.jsxs("div",{className:"stat-item",children:[x.jsx("div",{className:"stat-label",children:"総カロリー"}),x.jsxs("div",{className:"stat-value",children:[S.intakes.totalCalories.toLocaleString(),"kcal"]}),A(I.totalCalories)]}),x.jsxs("div",{className:"stat-item",children:[x.jsx("div",{className:"stat-label",children:"総支出"}),x.jsxs("div",{className:"stat-value",children:["¥",S.expenses.total.toLocaleString()]}),A(I.totalExpenses)]})]})]}),x.jsxs("div",{className:"report-section",children:[x.jsxs("h4",{children:["先月（",O.year,"年",O.month,"月）との比較"]}),x.jsxs("div",{className:"comparison-grid",children:[x.jsxs("div",{className:"comparison-item",children:[x.jsx("div",{className:"comparison-label",children:"食事記録"}),x.jsxs("div",{className:"comparison-values",children:[x.jsxs("span",{className:"prev-value",children:[O.intakes.count,"回"]}),x.jsx(h2,{}),x.jsxs("span",{className:"curr-value",children:[S.intakes.count,"回"]})]})]}),x.jsxs("div",{className:"comparison-item",children:[x.jsx("div",{className:"comparison-label",children:"平均カロリー"}),x.jsxs("div",{className:"comparison-values",children:[x.jsxs("span",{className:"prev-value",children:[Math.round(O.intakes.avgCalories),"kcal"]}),x.jsx(h2,{}),x.jsxs("span",{className:"curr-value",children:[Math.round(S.intakes.avgCalories),"kcal"]})]})]}),x.jsxs("div",{className:"comparison-item",children:[x.jsx("div",{className:"comparison-label",children:"総支出"}),x.jsxs("div",{className:"comparison-values",children:[x.jsxs("span",{className:"prev-value",children:["¥",O.expenses.total.toLocaleString()]}),x.jsx(h2,{}),x.jsxs("span",{className:"curr-value",children:["¥",S.expenses.total.toLocaleString()]})]})]})]})]}),x.jsxs("div",{className:"report-section",children:[x.jsxs("h4",{children:[x.jsx(Cg,{size:20,style:{marginRight:"8px"}}),"AI改善提案"]}),f?x.jsxs("div",{className:"ai-suggestions",children:[x.jsx("div",{className:"suggestions-content",children:f}),x.jsx("button",{className:"submit",onClick:m,disabled:p,style:{marginTop:"12px"},children:"再生成"})]}):x.jsx("button",{className:"submit",onClick:m,disabled:p||S.intakes.count===0,style:{width:"100%"},children:p?"提案を生成中...":"AI改善提案を生成"}),S.intakes.count===0&&x.jsx("p",{className:"no-data-message",children:"データがありません。食事記録を追加してください。"})]})]})})}function c9(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=c9(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=c9(t))&&(n&&(n+=" "),n+=e);return n}var U2={},F2={},B6;function gee(){return B6||(B6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(F2)),F2}var V2={},U6;function u9(){return U6||(U6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(V2)),V2}var z2={},F6;function EA(){return F6||(F6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(z2)),z2}var H2={},$2={},V6;function vee(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})($2)),$2}var z6;function AA(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vee(),r=EA();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:d?p==='"'||p==="'"?f=p:p==="]"?(d=!1,a.push(u),u=""):u+=p:p==="["?(d=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=n})(H2)),H2}var H6;function SA(){return H6||(H6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gee(),r=u9(),n=EA(),i=AA();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?r.isDeepKey(u)?a(l,i.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function o(l,u,f){if(u.length===0)return f;let d=l;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return f;d=d[u[p]]}return d===void 0?f:d}t.get=a})(U2)),U2}var q2,$6;function mee(){return $6||($6=1,q2=SA().get),q2}var yee=mee();const Qc=wo(yee);var G2={exports:{}},Ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6;function xee(){if(q6)return Ft;q6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case r:case i:case n:case u:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case d:return w;case a:return w;default:return A}}case e:return A}}}return Ft.ContextConsumer=a,Ft.ContextProvider=o,Ft.Element=t,Ft.ForwardRef=l,Ft.Fragment=r,Ft.Lazy=p,Ft.Memo=d,Ft.Portal=e,Ft.Profiler=i,Ft.StrictMode=n,Ft.Suspense=u,Ft.SuspenseList=f,Ft.isContextConsumer=function(w){return b(w)===a},Ft.isContextProvider=function(w){return b(w)===o},Ft.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Ft.isForwardRef=function(w){return b(w)===l},Ft.isFragment=function(w){return b(w)===r},Ft.isLazy=function(w){return b(w)===p},Ft.isMemo=function(w){return b(w)===d},Ft.isPortal=function(w){return b(w)===e},Ft.isProfiler=function(w){return b(w)===i},Ft.isStrictMode=function(w){return b(w)===n},Ft.isSuspense=function(w){return b(w)===u},Ft.isSuspenseList=function(w){return b(w)===f},Ft.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===u||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===d||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},Ft.typeOf=b,Ft}var G6;function _ee(){return G6||(G6=1,G2.exports=xee()),G2.exports}var bee=_ee(),dn=t=>t===0?0:t>0?1:-1,ki=t=>typeof t=="number"&&t!=+t,Nc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,De=t=>(typeof t=="number"||t instanceof Number)&&!ki(t),_o=t=>De(t)||typeof t=="string",wee=0,ap=t=>{var e=++wee;return"".concat(t||"").concat(e)},Fn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&typeof e!="string")return n;var a;if(Nc(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return ki(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},f9=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function hr(t,e,r){return De(t)&&De(e)?t+r*(e-t):e}function d9(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Qc(n,e))===r)}var or=t=>t===null||typeof t>"u",kp=t=>or(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Eee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TA(t){if(typeof t!="string")return!1;var e=Eee;return e.includes(t)}var Aee=["viewBox","children"],W6=["points","pathLength"],W2={svg:Aee,polygon:W6,polyline:W6},CA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{TA(i)&&(n[i]=(a=>r[i](r,a)))}),n},See=(t,e,r)=>n=>(t(e,r,n),null),jp=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];TA(i)&&typeof a=="function"&&(n||(n={}),n[i]=See(a,e,r))}),n},Tee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function h9(t){if(typeof t!="string")return!1;var e=Tee;return e.includes(t)}function Co(t){var e=Object.entries(t).filter(r=>{var[n]=r;return h9(n)});return Object.fromEntries(e)}var K6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",X6=null,K2=null,p9=t=>{if(t===X6&&Array.isArray(K2))return K2;var e=[];return C.Children.forEach(t,r=>{or(r)||(bee.isFragment(r)?e=e.concat(p9(r.props.children)):e.push(r))}),K2=e,X6=t,e};function IA(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>K6(i)):n=[K6(e)],p9(t).forEach(i=>{var a=Qc(i,"type.displayName")||Qc(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var g9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Cee=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&W2?.[n])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!n&&a.includes(e)||h9(e)),u=!!r&&TA(e);return o||l||u},cr=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;Cee((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},Iee=["children","width","height","viewBox","className","style","title","desc"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ow.apply(null,arguments)}function Oee(t,e){if(t==null)return{};var r,n,i=Ree(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ree(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OA=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=t,d=Oee(t,Iee),p=a||{width:n,height:i,x:0,y:0},v=xt("recharts-surface",o);return C.createElement("svg",ow({},cr(d,!0,"svg"),{className:v,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,u),C.createElement("desc",null,f),r)}),Pee=["children","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(null,arguments)}function Dee(t,e){if(t==null)return{};var r,n,i=Nee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Nee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Rn=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Dee(t,Pee),a=xt("recharts-layer",n);return C.createElement("g",sw({className:a},cr(i,!0),{ref:e}),r)}),v9=zD(),m9=C.createContext(null),Mee=()=>C.useContext(m9);function qt(t){return function(){return t}}const y9=Math.cos,ev=Math.sin,Ua=Math.sqrt,tv=Math.PI,Im=2*tv,lw=Math.PI,cw=2*lw,Cc=1e-6,kee=cw-Cc;function x9(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x9;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Lee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x9:jee(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=n-e,f=i-r,d=o-e,p=l-r,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Cc)if(!(Math.abs(p*u-f*d)>Cc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,b=i-l,w=u*u+f*f,A=m*m+b*b,S=Math.sqrt(w),O=Math.sqrt(v),I=a*Math.tan((lw-Math.acos((w+v-A)/(2*S*O)))/2),R=I/O,k=I/S;Math.abs(R-1)>Cc&&this._append`L${e+R*d},${r+R*p}`,this._append`A${a},${a},0,0,${+(p*m>d*b)},${this._x1=e+k*u},${this._y1=r+k*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),f=e+l,d=r+u,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Cc||Math.abs(this._y1-d)>Cc)&&this._append`L${f},${d}`,n&&(v<0&&(v=v%cw+cw),v>kee?this._append`A${n},${n},0,1,${p},${e-l},${r-u}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:v>Cc&&this._append`A${n},${n},0,${+(v>=lw)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RA(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Lee(e)}function PA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _9(t){this._context=t}_9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Om(t){return new _9(t)}function b9(t){return t[0]}function w9(t){return t[1]}function E9(t,e){var r=qt(!0),n=null,i=Om,a=null,o=RA(l);t=typeof t=="function"?t:t===void 0?b9:qt(t),e=typeof e=="function"?e:e===void 0?w9:qt(e);function l(u){var f,d=(u=PA(u)).length,p,v=!1,m;for(n==null&&(a=i(m=o())),f=0;f<=d;++f)!(f<d&&r(p=u[f],f,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,u),+e(p,f,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:qt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:qt(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:qt(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function q1(t,e,r){var n=null,i=qt(!0),a=null,o=Om,l=null,u=RA(f);t=typeof t=="function"?t:t===void 0?b9:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?w9:qt(+r);function f(p){var v,m,b,w=(p=PA(p)).length,A,S=!1,O,I=new Array(w),R=new Array(w);for(a==null&&(l=o(O=u())),v=0;v<=w;++v){if(!(v<w&&i(A=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=m;--b)l.point(I[b],R[b]);l.lineEnd(),l.areaEnd()}S&&(I[v]=+t(A,v,p),R[v]=+e(A,v,p),l.point(n?+n(A,v,p):I[v],r?+r(A,v,p):R[v]))}if(O)return l=null,O+""||null}function d(){return E9().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qt(+p),f):r},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(r)},f.lineX1=function(){return d().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class A9{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Bee(t){return new A9(t,!0)}function Uee(t){return new A9(t,!1)}const DA={draw(t,e){const r=Ua(e/tv);t.moveTo(r,0),t.arc(0,0,r,0,Im)}},Fee={draw(t,e){const r=Ua(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},S9=Ua(1/3),Vee=S9*2,zee={draw(t,e){const r=Ua(e/Vee),n=r*S9;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Hee={draw(t,e){const r=Ua(e),n=-r/2;t.rect(n,n,r,r)}},$ee=.8908130915292852,T9=ev(tv/10)/ev(7*tv/10),qee=ev(Im/10)*T9,Gee=-y9(Im/10)*T9,Wee={draw(t,e){const r=Ua(e*$ee),n=qee*r,i=Gee*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Im*a/5,l=y9(o),u=ev(o);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},X2=Ua(3),Kee={draw(t,e){const r=-Ua(e/(X2*3));t.moveTo(0,r*2),t.lineTo(-X2*r,-r),t.lineTo(X2*r,-r),t.closePath()}},Ji=-.5,ea=Ua(3)/2,uw=1/Ua(12),Xee=(uw/2+1)*3,Yee={draw(t,e){const r=Ua(e/Xee),n=r/2,i=r*uw,a=n,o=r*uw+r,l=-a,u=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(Ji*n-ea*i,ea*n+Ji*i),t.lineTo(Ji*a-ea*o,ea*a+Ji*o),t.lineTo(Ji*l-ea*u,ea*l+Ji*u),t.lineTo(Ji*n+ea*i,Ji*i-ea*n),t.lineTo(Ji*a+ea*o,Ji*o-ea*a),t.lineTo(Ji*l+ea*u,Ji*u-ea*l),t.closePath()}};function Qee(t,e){let r=null,n=RA(i);t=typeof t=="function"?t:qt(t||DA),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rv(){}function nv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function C9(t){this._context=t}C9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zee(t){return new C9(t)}function I9(t){this._context=t}I9.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jee(t){return new I9(t)}function O9(t){this._context=t}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ete(t){return new O9(t)}function R9(t){this._context=t}R9.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tte(t){return new R9(t)}function Y6(t){return t<0?-1:1}function Q6(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(Y6(a)+Y6(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Z6(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Y2(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function iv(t){this._context=t}iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y2(this,this._t0,Z6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y2(this,Z6(this,r=Q6(this,t,e)),r);break;default:Y2(this,this._t0,r=Q6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function P9(t){this._context=new D9(t)}(P9.prototype=Object.create(iv.prototype)).point=function(t,e){iv.prototype.point.call(this,e,t)};function D9(t){this._context=t}D9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function rte(t){return new iv(t)}function nte(t){return new P9(t)}function N9(t){this._context=t}N9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=J6(t),i=J6(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function J6(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ite(t){return new N9(t)}function Rm(t,e){this._context=t,this._t=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ate(t){return new Rm(t,.5)}function ote(t){return new Rm(t,0)}function ste(t){return new Rm(t,1)}function If(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function fw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function lte(t,e){return t[e]}function cte(t){const e=[];return e.key=t,e}function ute(){var t=qt([]),e=fw,r=If,n=lte;function i(a){var o=Array.from(t.apply(this,arguments),cte),l,u=o.length,f=-1,d;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(p,o[l].key,f,a)]).data=p;for(l=0,d=PA(e(o));l<u;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:qt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?fw:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??If,i):r},i}function fte(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}If(t,e)}}function dte(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}If(t,e)}}function hte(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,u=0,f=0;l<o;++l){for(var d=t[e[l]],p=d[n][1]||0,v=d[n-1][1]||0,m=(p-v)/2,b=0;b<l;++b){var w=t[e[b]],A=w[n][1]||0,S=w[n-1][1]||0;m+=A-S}u+=p,f+=m*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=f/u)}i[n-1][1]+=i[n-1][0]=r,If(t,e)}}var pte=["type","size","sizeType"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(null,arguments)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gte(t,e,r){return(e=vte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yte(t,e){if(t==null)return{};var r,n,i=xte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var M9={symbolCircle:DA,symbolCross:Fee,symbolDiamond:zee,symbolSquare:Hee,symbolStar:Wee,symbolTriangle:Kee,symbolWye:Yee},_te=Math.PI/180,bte=t=>{var e="symbol".concat(kp(t));return M9[e]||DA},wte=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*_te;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ete=(t,e)=>{M9["symbol".concat(kp(t))]=e},NA=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=yte(t,pte),a=t8(t8({},i),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=bte(o),m=Qee().type(v).size(wte(r,n,o));return m()},{className:u,cx:f,cy:d}=a,p=cr(a,!0);return f===+f&&d===+d&&r===+r?C.createElement("path",dw({},p,{className:xt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};NA.registerSymbol=Ete;function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(null,arguments)}function r8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ate(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(r),!0).forEach(function(n){MA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MA(t,e,r){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ta=32;class kA extends C.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ta/2,a=ta/6,o=ta/3,l=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ta,y2:i,className:"recharts-legend-icon"});if(u==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ta,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=Ate({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(NA,{fill:l,cx:i,cy:i,size:ta,sizeType:"diameter",type:u})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:ta,height:ta},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var v=d.formatter||i,m=xt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,w=v?v(d.value,d,p):d.value;return C.createElement("li",hw({className:m,style:u,key:"legend-item-".concat(p)},jp(this.props,d,p)),C.createElement(OA,{width:r,height:r,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(d,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}MA(kA,"displayName","Legend");MA(kA,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Q2={},Z2={},n8;function Cte(){return n8||(n8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(Z2)),Z2}var J2={},i8;function k9(){return i8||(i8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(J2)),J2}var e_={},t_={},r_={},a8;function Ite(){return a8||(a8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(r_)),r_}var o8;function jA(){return o8||(o8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ite();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(t_)),t_}var n_={},s8;function Ote(){return s8||(s8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(n_)),n_}var l8;function Rte(){return l8||(l8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jA(),r=Ote();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(e_)),e_}var i_={},a_={},c8;function Pte(){return c8||(c8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SA();function r(n){return function(i){return e.get(i,n)}}t.property=r})(a_)),a_}var o_={},s_={},l_={},c_={},u8;function j9(){return u8||(u8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(c_)),c_}var u_={},f8;function L9(){return f8||(f8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(u_)),u_}var f_={},d8;function B9(){return d8||(d8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(f_)),f_}var h8;function Dte(){return h8||(h8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LA(),r=j9(),n=L9(),i=B9();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function b(w,A,S,O,I,R){const k=m(w,A,S,O,I,R);return k!==void 0?!!k:o(w,A,b,R)},new Map)}function o(p,v,m,b){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,b);case"function":return Object.keys(v).length>0?o(p,{...v},m,b):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,b){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,b);if(v instanceof Map)return u(p,v,m,b);if(v instanceof Set)return d(p,v,m,b);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(v))return b.get(v)===p;b&&b.set(v,p);try{for(let A=0;A<w.length;A++){const S=w[A];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,b))return!1}return!0}finally{b&&b.delete(v)}}function u(p,v,m,b){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,A]of v.entries()){const S=p.get(w);if(m(S,A,w,p,v,b)===!1)return!1}return!0}function f(p,v,m,b){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let A=0;A<v.length;A++){const S=v[A];let O=!1;for(let I=0;I<p.length;I++){if(w.has(I))continue;const R=p[I];let k=!1;if(m(R,S,A,p,v,b)&&(k=!0),k){w.add(I),O=!0;break}}if(!O)return!1}return!0}function d(p,v,m,b){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,b):!1}t.isMatchWith=a,t.isSetMatch=d})(l_)),l_}var p8;function LA(){return p8||(p8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dte();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(s_)),s_}var d_={},h_={},p_={},g8;function Nte(){return g8||(g8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(p_)),p_}var g_={},v8;function U9(){return v8||(v8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(g_)),g_}var v_={},m8;function F9(){return m8||(m8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",b="[object Error]",w="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",R="[object BigUint64Array]",k="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",j="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=b,t.float32ArrayTag=j,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=k,t.mapTag=u,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=O,t.uint32ArrayTag=I,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=S})(v_)),v_}var m_={},y8;function Mte(){return y8||(y8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(m_)),m_}var x8;function V9(){return x8||(x8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nte(),r=U9(),n=F9(),i=L9(),a=Mte();function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,v,m=new Map,b=void 0){const w=b?.(d,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const A=new Array(d.length);m.set(d,A);for(let S=0;S<d.length;S++)A[S]=l(d[S],S,v,m,b);return Object.hasOwn(d,"index")&&(A.index=d.index),Object.hasOwn(d,"input")&&(A.input=d.input),A}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const A=new RegExp(d.source,d.flags);return A.lastIndex=d.lastIndex,A}if(d instanceof Map){const A=new Map;m.set(d,A);for(const[S,O]of d)A.set(S,l(O,S,v,m,b));return A}if(d instanceof Set){const A=new Set;m.set(d,A);for(const S of d)A.add(l(S,void 0,v,m,b));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const A=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,A);for(let S=0;S<d.length;S++)A[S]=l(d[S],S,v,m,b);return A}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const A=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,A),u(A,d,v,m,b),A}if(typeof File<"u"&&d instanceof File){const A=new File([d],d.name,{type:d.type});return m.set(d,A),u(A,d,v,m,b),A}if(typeof Blob<"u"&&d instanceof Blob){const A=new Blob([d],{type:d.type});return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof Error){const A=new d.constructor;return m.set(d,A),A.message=d.message,A.name=d.name,A.stack=d.stack,A.cause=d.cause,u(A,d,v,m,b),A}if(d instanceof Boolean){const A=new Boolean(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof Number){const A=new Number(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof String){const A=new String(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(typeof d=="object"&&f(d)){const A=Object.create(Object.getPrototypeOf(d));return m.set(d,A),u(A,d,v,m,b),A}return d}function u(d,p,v=d,m,b){const w=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<w.length;A++){const S=w[A],O=Object.getOwnPropertyDescriptor(d,S);(O==null||O.writable)&&(d[S]=l(p[S],S,v,m,b))}}function f(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=u})(h_)),h_}var _8;function kte(){return _8||(_8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V9();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(d_)),d_}var b8;function jte(){return b8||(b8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LA(),r=kte();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(o_)),o_}var y_={},x_={},__={},w8;function Lte(){return w8||(w8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V9(),r=F9();function n(i,a){return e.cloneDeepWith(i,(o,l,u,f)=>{const d=a?.(o,l,u,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(__)),__}var E8;function Bte(){return E8||(E8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lte();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(x_)),x_}var b_={},w_={},A8;function z9(){return A8||(A8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(w_)),w_}var E_={},S8;function Ute(){return S8||(S8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U9();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(E_)),E_}var T8;function Fte(){return T8||(T8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u9(),r=z9(),n=Ute(),i=AA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let d=0;d<u.length;d++){const p=u[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(b_)),b_}var C8;function Vte(){return C8||(C8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LA(),r=EA(),n=Bte(),i=SA(),a=Fte();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(f){const d=i.get(f,l);return d===void 0?a.has(f,l):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=o})(y_)),y_}var I8;function zte(){return I8||(I8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k9(),r=Pte(),n=jte(),i=Vte();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(i_)),i_}var O8;function Hte(){return O8||(O8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cte(),r=k9(),n=Rte(),i=zte();function a(o,l=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(Q2)),Q2}var A_,R8;function $te(){return R8||(R8=1,A_=Hte().uniqBy),A_}var qte=$te();const P8=wo(qte);function H9(t,e,r){return e===!0?P8(t,r):typeof e=="function"?P8(t,e):t}var S_={exports:{}},T_={},C_={exports:{}},I_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D8;function Gte(){if(D8)return I_;D8=1;var t=Bf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),b=n({inst:{value:m,getSnapshot:v}}),w=b[0].inst,A=b[1];return a(function(){w.value=m,w.getSnapshot=v,u(w)&&A({inst:w})},[p,m,v]),i(function(){return u(w)&&A({inst:w}),p(function(){u(w)&&A({inst:w})})},[p]),o(m),m}function u(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!r(p,m)}catch{return!0}}function f(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return I_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,I_}var N8;function Wte(){return N8||(N8=1,C_.exports=Gte()),C_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M8;function Kte(){if(M8)return T_;M8=1;var t=Bf(),e=Wte();function r(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return T_.useSyncExternalStoreWithSelector=function(f,d,p,v,m){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function S(L){if(!O){if(O=!0,I=L,L=v(L),m!==void 0&&w.hasValue){var P=w.value;if(m(P,L))return R=P}return R=L}if(P=R,n(I,L))return P;var M=v(L);return m!==void 0&&m(P,M)?(I=L,P):(I=L,R=M)}var O=!1,I,R,k=p===void 0?null:p;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,p,v,m]);var A=i(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},T_}var k8;function Xte(){return k8||(k8=1,S_.exports=Kte()),S_.exports}var Yte=Xte(),BA=C.createContext(null),Qte=t=>t,ur=()=>{var t=C.useContext(BA);return t?t.store.dispatch:Qte},wg=()=>{},Zte=()=>wg,Jte=(t,e)=>t===e;function Ie(t){var e=C.useContext(BA);return Yte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Zte,e?e.store.getState:wg,e?e.store.getState:wg,e?t:wg,Jte)}function ere(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tre(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function rre(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var j8=t=>Array.isArray(t)?t:[t];function nre(t){const e=Array.isArray(t[0])?t[0]:t;return rre(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ire(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var are=class{constructor(t){this.value=t}deref(){return this.value}},ore=typeof WeakRef<"u"?WeakRef:are,sre=0,L8=1;function G1(){return{s:sre,v:void 0,o:null,p:null}}function $9(t,e={}){let r=G1();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let l=r;const{length:u}=arguments;for(let p=0,v=u;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(m);w===void 0?(l=G1(),b.set(m,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(m);w===void 0?(l=G1(),b.set(m,l)):l=w}}const f=l;let d;if(l.s===L8)d=l.v;else if(d=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new ore(d):d}return f.s=L8,f.v=d,d}return o.clearCache=()=>{r=G1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function lre(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),ere(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...r,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:m=$9,argsMemoizeOptions:b=[]}=d,w=j8(v),A=j8(b),S=nre(i),O=p(function(){return a++,f.apply(null,arguments)},...w),I=m(function(){o++;const k=ire(S,arguments);return l=O.apply(null,k),l},...A);return Object.assign(I,{resultFunc:f,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var re=lre($9),cre=Object.assign((t,e=re)=>{tre(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>cre}),O_={},R_={},P_={},B8;function ure(){return B8||(B8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),l=e(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=r})(P_)),P_}var D_={},N_={},U8;function q9(){return U8||(U8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(N_)),N_}var F8;function fre(){return F8||(F8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q9(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(D_)),D_}var V8;function dre(){return V8||(V8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ure(),r=fre(),n=AA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,b)=>{let w=m;for(let A=0;A<b.length&&w!=null;++A)w=w[b[A]];return w},d=(m,b)=>b==null||m==null?b:typeof m=="object"&&"key"in m?Object.hasOwn(b,m.key)?b[m.key]:f(b,m.path):typeof m=="function"?m(b):Array.isArray(m)?f(b,m):typeof b=="object"?b[m]:b,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(b=>d(b,m))})).slice().sort((m,b)=>{for(let w=0;w<p.length;w++){const A=e.compareValues(m.criteria[w],b.criteria[w],l[w]);if(A!==0)return A}return 0}).map(m=>m.original)}t.orderBy=i})(R_)),R_}var M_={},z8;function hre(){return z8||(z8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<a?o(d,u+1):i.push(d)}};return o(r,0),i}t.flatten=e})(M_)),M_}var k_={},H8;function G9(){return H8||(H8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z9(),r=jA(),n=j9(),i=B9();function a(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}t.isIterateeCall=a})(k_)),k_}var $8;function pre(){return $8||($8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dre(),r=hre(),n=G9();function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(O_)),O_}var j_,q8;function gre(){return q8||(q8=1,j_=pre().sortBy),j_}var vre=gre();const Pm=wo(vre);var W9=t=>t.legend.settings,mre=t=>t.legend.size,yre=t=>t.legend.payload,xre=re([yre,W9],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Pm(n,r):n});function _re(){return Ie(xre)}var W1=1;function K9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>W1||Math.abs(o.left-e.left)>W1||Math.abs(o.top-e.top)>W1||Math.abs(o.width-e.width)>W1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function An(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bre=typeof Symbol=="function"&&Symbol.observable||"@@observable",G8=bre,L_=()=>Math.random().toString(36).substring(7).split("").join("."),wre={INIT:`@@redux/INIT${L_()}`,REPLACE:`@@redux/REPLACE${L_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${L_()}`},av=wre;function UA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function X9(t,e,r){if(typeof t!="function")throw new Error(An(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(An(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(An(1));return r(X9)(t,e)}let n=t,i=e,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((A,S)=>{o.set(S,A)}))}function d(){if(u)throw new Error(An(3));return i}function p(A){if(typeof A!="function")throw new Error(An(4));if(u)throw new Error(An(5));let S=!0;f();const O=l++;return o.set(O,A),function(){if(S){if(u)throw new Error(An(6));S=!1,f(),o.delete(O),a=null}}}function v(A){if(!UA(A))throw new Error(An(7));if(typeof A.type>"u")throw new Error(An(8));if(typeof A.type!="string")throw new Error(An(17));if(u)throw new Error(An(9));try{u=!0,i=n(i,A)}finally{u=!1}return(a=o).forEach(O=>{O()}),A}function m(A){if(typeof A!="function")throw new Error(An(10));n=A,v({type:av.REPLACE})}function b(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(An(11));function O(){const R=S;R.next&&R.next(d())}return O(),{unsubscribe:A(O)}},[G8](){return this}}}return v({type:av.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:m,[G8]:b}}function Ere(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:av.INIT})>"u")throw new Error(An(12));if(typeof r(void 0,{type:av.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(An(13))})}function Y9(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{Ere(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let d=0;d<n.length;d++){const p=n[d],v=r[p],m=o[p],b=v(m,l);if(typeof b>"u")throw l&&l.type,new Error(An(14));f[p]=b,u=u||b!==m}return u=u||n.length!==Object.keys(o).length,u?f:o}}function ov(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Are(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(An(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=t.map(u=>u(o));return a=ov(...l)(i.dispatch),{...i,dispatch:a}}}function Q9(t){return UA(t)&&"type"in t&&typeof t.type=="string"}var Z9=Symbol.for("immer-nothing"),W8=Symbol.for("immer-draftable"),ji=Symbol.for("immer-state");function Na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Of=Object.getPrototypeOf;function Zc(t){return!!t&&!!t[ji]}function us(t){return t?J9(t)||Array.isArray(t)||!!t[W8]||!!t.constructor?.[W8]||Lp(t)||Nm(t):!1}var Sre=Object.prototype.constructor.toString();function J9(t){if(!t||typeof t!="object")return!1;const e=Of(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Sre}function sv(t,e){Dm(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Dm(t){const e=t[ji];return e?e.type_:Array.isArray(t)?1:Lp(t)?2:Nm(t)?3:0}function pw(t,e){return Dm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ek(t,e,r){const n=Dm(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Tre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lp(t){return t instanceof Map}function Nm(t){return t instanceof Set}function Ic(t){return t.copy_||t.base_}function gw(t,e){if(Lp(t))return new Map(t);if(Nm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=J9(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[ji];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Of(t),n)}else{const n=Of(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function FA(t,e=!1){return Mm(t)||Zc(t)||!us(t)||(Dm(t)>1&&Object.defineProperties(t,{set:{value:K1},add:{value:K1},clear:{value:K1},delete:{value:K1}}),Object.freeze(t),e&&Object.values(t).forEach(r=>FA(r,!0))),t}function K1(){Na(2)}function Mm(t){return Object.isFrozen(t)}var Cre={};function Jc(t){const e=Cre[t];return e||Na(0,t),e}var op;function tk(){return op}function Ire(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K8(t,e){e&&(Jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vw(t){mw(t),t.drafts_.forEach(Ore),t.drafts_=null}function mw(t){t===op&&(op=t.parent_)}function X8(t){return op=Ire(op,t)}function Ore(t){const e=t[ji];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Y8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[ji].modified_&&(vw(e),Na(4)),us(t)&&(t=lv(e,t),e.parent_||cv(e,t)),e.patches_&&Jc("Patches").generateReplacementPatches_(r[ji].base_,t,e.patches_,e.inversePatches_)):t=lv(e,r,[]),vw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Z9?t:void 0}function lv(t,e,r){if(Mm(e))return e;const n=e[ji];if(!n)return sv(e,(i,a)=>Q8(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return cv(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),sv(a,(l,u)=>Q8(t,n,i,l,u,r,o)),cv(t,i,!1),r&&t.patches_&&Jc("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function Q8(t,e,r,n,i,a,o){if(Zc(i)){const l=a&&e&&e.type_!==3&&!pw(e.assigned_,n)?a.concat(n):void 0,u=lv(t,i,l);if(ek(r,n,u),Zc(u))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(us(i)&&!Mm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lv(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Lp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&cv(t,i)}}function cv(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FA(e,r)}function Rre(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:tk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=VA;r&&(i=[n],a=sp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var VA={get(t,e){if(e===ji)return t;const r=Ic(t);if(!pw(r,e))return Pre(t,r,e);const n=r[e];return t.finalized_||!us(n)?n:n===B_(t.base_,e)?(U_(t),t.copy_[e]=xw(n,t)):n},has(t,e){return e in Ic(t)},ownKeys(t){return Reflect.ownKeys(Ic(t))},set(t,e,r){const n=rk(Ic(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=B_(Ic(t),e),a=i?.[ji];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Tre(r,i)&&(r!==void 0||pw(t.base_,e)))return!0;U_(t),yw(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return B_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,U_(t),yw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ic(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Na(11)},getPrototypeOf(t){return Of(t.base_)},setPrototypeOf(){Na(12)}},sp={};sv(VA,(t,e)=>{sp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sp.deleteProperty=function(t,e){return sp.set.call(this,t,e,void 0)};sp.set=function(t,e,r){return VA.set.call(this,t[0],e,r,t[0])};function B_(t,e){const r=t[ji];return(r?Ic(r):t)[e]}function Pre(t,e,r){const n=rk(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function rk(t,e){if(!(e in t))return;let r=Of(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Of(r)}}function yw(t){t.modified_||(t.modified_=!0,t.parent_&&yw(t.parent_))}function U_(t){t.copy_||(t.copy_=gw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Dre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(u=a,...f){return o.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&Na(6),n!==void 0&&typeof n!="function"&&Na(7);let i;if(us(e)){const a=X8(this),o=xw(e,void 0);let l=!0;try{i=r(o),l=!1}finally{l?vw(a):mw(a)}return K8(a,n),Y8(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Z9&&(i=void 0),this.autoFreeze_&&FA(i,!0),n){const a=[],o=[];Jc("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Na(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let n,i;return[this.produce(e,r,(o,l)=>{n=o,i=l}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){us(t)||Na(8),Zc(t)&&(t=rs(t));const e=X8(this),r=xw(t,void 0);return r[ji].isManual_=!0,mw(e),r}finishDraft(t,e){const r=t&&t[ji];(!r||!r.isManual_)&&Na(9);const{scope_:n}=r;return K8(n,e),Y8(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Jc("Patches").applyPatches_;return Zc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function xw(t,e){const r=Lp(t)?Jc("MapSet").proxyMap_(t,e):Nm(t)?Jc("MapSet").proxySet_(t,e):Rre(t,e);return(e?e.scope_:tk()).drafts_.push(r),r}function rs(t){return Zc(t)||Na(10,t),nk(t)}function nk(t){if(!us(t)||Mm(t))return t;const e=t[ji];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gw(t,e.scope_.immer_.useStrictShallowCopy_)}else r=gw(t,!0);return sv(r,(n,i)=>{ek(r,n,nk(i))}),e&&(e.finalized_=!1),r}var Nre=new Dre,ik=Nre.produce;function ak(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Mre=ak(),kre=ak,jre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ov:ov.apply(null,arguments)};function pa(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Mi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>Q9(n)&&n.type===t,r}var ok=class kh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kh.prototype)}static get[Symbol.species](){return kh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kh(...e[0].concat(this)):new kh(...e.concat(this))}};function Z8(t){return us(t)?ik(t,()=>{}):t}function X1(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Lre(t){return typeof t=="boolean"}var Bre=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new ok;return r&&(Lre(r)?o.push(Mre):o.push(kre(r.extraArgument))),o},Ure="RTK_autoBatch",J8=t=>e=>{setTimeout(e,t)},Fre=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:J8(10):t.type==="callback"?t.queueNotification:J8(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),v=n.subscribe(p);return l.add(d),()=>{v(),l.delete(d)}},dispatch(d){try{return i=!d?.meta?.[Ure],a=!i,a&&(o||(o=!0,u(f))),n.dispatch(d)}finally{i=!0}}})},Vre=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new ok(t);return n&&i.push(Fre(typeof n=="object"?n:void 0)),i};function zre(t){const e=Bre(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(UA(r))l=Y9(r);else throw new Error(Mi(1));let u;typeof n=="function"?u=n(e):u=e();let f=ov;i&&(f=jre({trace:!1,...typeof i=="object"&&i}));const d=Are(...u),p=Vre(d);let v=typeof o=="function"?o(p):p();const m=f(...v);return X9(l,a,m)}function sk(t){const e={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Mi(28));if(l in e)throw new Error(Mi(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function Hre(t){return typeof t=="function"}function $re(t,e){let[r,n,i]=sk(e),a;if(Hre(t))a=()=>Z8(t());else{const l=Z8(t);a=()=>l}function o(l=a(),u){let f=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(Zc(d)){const m=p(d,u);return m===void 0?d:m}else{if(us(d))return ik(d,v=>p(v,u));{const v=p(d,u);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},l)}return o.getInitialState=a,o}var qre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gre=(t=21)=>{let e="",r=t;for(;r--;)e+=qre[Math.random()*64|0];return e},Wre=Symbol.for("rtk-slice-createasyncthunk");function Kre(t,e){return`${t}/${e}`}function Xre({creators:t}={}){const e=t?.asyncThunk?.[Wre];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Mi(11));const o=(typeof n.reducers=="function"?n.reducers(Qre()):n.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,R){const k=typeof I=="string"?I:I.type;if(!k)throw new Error(Mi(12));if(k in u.sliceCaseReducersByType)throw new Error(Mi(13));return u.sliceCaseReducersByType[k]=R,f},addMatcher(I,R){return u.sliceMatchers.push({matcher:I,reducer:R}),f},exposeAction(I,R){return u.actionCreators[I]=R,f},exposeCaseReducer(I,R){return u.sliceCaseReducersByName[I]=R,f}};l.forEach(I=>{const R=o[I],k={reducerName:I,type:Kre(i,I),createNotation:typeof n.reducers=="function"};Jre(R)?tne(k,R,f,e):Zre(k,R,f)});function d(){const[I={},R=[],k=void 0]=typeof n.extraReducers=="function"?sk(n.extraReducers):[n.extraReducers],L={...I,...u.sliceCaseReducersByType};return $re(n.initialState,P=>{for(let M in L)P.addCase(M,L[M]);for(let M of u.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of R)P.addMatcher(M.matcher,M.reducer);k&&P.addDefaultCase(k)})}const p=I=>I,v=new Map,m=new WeakMap;let b;function w(I,R){return b||(b=d()),b(I,R)}function A(){return b||(b=d()),b.getInitialState()}function S(I,R=!1){function k(P){let M=P[I];return typeof M>"u"&&R&&(M=X1(m,k,A)),M}function L(P=p){const M=X1(v,R,()=>new WeakMap);return X1(M,P,()=>{const j={};for(const[z,U]of Object.entries(n.selectors??{}))j[z]=Yre(U,P,()=>X1(m,P,A),R);return j})}return{reducerPath:I,getSelectors:L,get selectors(){return L(k)},selectSlice:k}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:A,...S(a),injectInto(I,{reducerPath:R,...k}={}){const L=R??a;return I.inject({reducerPath:L,reducer:w},k),{...O,...S(L,!0)}}};return O}}function Yre(t,e,r,n){function i(a,...o){let l=e(a);return typeof l>"u"&&n&&(l=r()),t(l,...o)}return i.unwrapped=t,i}var Ui=Xre();function Qre(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Zre({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!ene(n))throw new Error(Mi(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?pa(t,o):pa(t))}function Jre(t){return t._reducerDefinitionType==="asyncThunk"}function ene(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tne({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Mi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:d}=r,p=i(t,a,d);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),u&&n.addCase(p.rejected,u),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(e,{fulfilled:o||Y1,pending:l||Y1,rejected:u||Y1,settled:f||Y1})}function Y1(){}var rne="task",lk="listener",ck="completed",zA="cancelled",nne=`task-${zA}`,ine=`task-${ck}`,_w=`${lk}-${zA}`,ane=`${lk}-${ck}`,km=class{constructor(t){this.code=t,this.message=`${rne} ${zA} (reason: ${t})`}name="TaskAbortError";message},HA=(t,e)=>{if(typeof t!="function")throw new TypeError(Mi(32))},uv=()=>{},uk=(t,e=uv)=>(t.catch(e),t),fk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Vc=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},zc=t=>{if(t.aborted){const{reason:e}=t;throw new km(e)}};function dk(t,e){let r=uv;return new Promise((n,i)=>{const a=()=>i(new km(t.reason));if(t.aborted){a();return}r=fk(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=uv})}var one=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof km?"cancelled":"rejected",error:r}}finally{e?.()}},fv=t=>e=>uk(dk(t,e).then(r=>(zc(t),r))),hk=t=>{const e=fv(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:gf}=Object,eR={},jm="listenerMiddleware",sne=(t,e)=>{const r=n=>fk(t,()=>Vc(n,t.reason));return(n,i)=>{HA(n);const a=new AbortController;r(a);const o=one(async()=>{zc(t),zc(a.signal);const l=await n({pause:fv(a.signal),delay:hk(a.signal),signal:a.signal});return zc(a.signal),l},()=>Vc(a,ine));return i?.autoJoin&&e.push(o.catch(uv)),{result:fv(t)(o),cancel(){Vc(a,nne)}}}},lne=(t,e)=>{const r=async(n,i)=>{zc(e);let a=()=>{};const l=[new Promise((u,f)=>{let d=t({predicate:n,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await dk(e,Promise.race(l));return zc(e),u}finally{a()}};return(n,i)=>uk(r(n,i))},pk=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=pa(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Mi(21));return HA(a),{predicate:i,type:e,effect:a}},gk=gf(t=>{const{type:e,predicate:r,effect:n}=pk(t);return{id:Gre(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Mi(22))}}},{withTypes:()=>gk}),tR=(t,e)=>{const{type:r,effect:n,predicate:i}=pk(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},bw=t=>{t.pending.forEach(e=>{Vc(e,_w)})},cne=t=>()=>{t.forEach(bw),t.clear()},rR=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},vk=gf(pa(`${jm}/add`),{withTypes:()=>vk}),une=pa(`${jm}/removeAll`),mk=gf(pa(`${jm}/remove`),{withTypes:()=>mk}),fne=(...t)=>{console.error(`${jm}/error`,...t)},Bp=(t={})=>{const e=new Map,{extra:r,onError:n=fne}=t;HA(n);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&bw(d)}),a=d=>{const p=tR(e,d)??gk(d);return i(p)};gf(a,{withTypes:()=>a});const o=d=>{const p=tR(e,d);return p&&(p.unsubscribe(),d.cancelActive&&bw(p)),!!p};gf(o,{withTypes:()=>o});const l=async(d,p,v,m)=>{const b=new AbortController,w=lne(a,b.signal),A=[];try{d.pending.add(b),await Promise.resolve(d.effect(p,gf({},v,{getOriginalState:m,condition:(S,O)=>w(S,O).then(Boolean),take:w,delay:hk(b.signal),pause:fv(b.signal),extra:r,signal:b.signal,fork:sne(b.signal,A),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((S,O,I)=>{S!==b&&(Vc(S,_w),I.delete(S))})},cancel:()=>{Vc(b,_w),d.pending.delete(b)},throwIfCancelled:()=>{zc(b.signal)}})))}catch(S){S instanceof km||rR(n,S,{raisedBy:"effect"})}finally{await Promise.all(A),Vc(b,ane),d.pending.delete(b)}},u=cne(e);return{middleware:d=>p=>v=>{if(!Q9(v))return p(v);if(vk.match(v))return a(v.payload);if(une.match(v)){u();return}if(mk.match(v))return o(v.payload);let m=d.getState();const b=()=>{if(m===eR)throw new Error(Mi(23));return m};let w;try{if(w=p(v),e.size>0){const A=d.getState(),S=Array.from(e.values());for(const O of S){let I=!1;try{I=O.predicate(v,A,m)}catch(R){I=!1,rR(n,R,{raisedBy:"predicate"})}I&&l(O,v,d,b)}}}finally{m=eR}return w},startListening:a,stopListening:o,clearListeners:u}};function Mi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yk=Ui({name:"chartLayout",initialState:dne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:hne,setLayout:pne,setChartSize:gne,setScale:vne}=yk.actions,mne=yk.reducer;function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){yne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yne(t,e,r){return(e=xne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv=Math.PI/180,bne=t=>t*180/Math.PI,Ur=(t,e,r,n)=>({x:t+Math.cos(-dv*n)*r,y:e+Math.sin(-dv*n)*r}),xk=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wne=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},Ene=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=wne({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,u=Math.acos(l);return n>a&&(u=2*Math.PI-u),{radius:o,angle:bne(u),angleInRadian:u}},Ane=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},Sne=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},Tne=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=Ene({x:r,y:n},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=Ane(e),d=a,p;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=u}return p?iR(iR({},e),{},{radius:i,angle:Sne(d,e)}):null};function _k(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){Cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cne(t,e,r){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ine(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kt(t,e,r){return or(t)||or(e)?r:_o(e)?Qc(t,e,r):typeof e=="function"?e(t):r}var Rne=(t,e,r,n,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?r[u-1].coordinate:r[l-1].coordinate,d=r[u].coordinate,p=u>=l-1?r[0].coordinate:r[u+1].coordinate,v=void 0;if(dn(d-f)!==dn(p-d)){var m=[];if(dn(p-d)===dn(i[1]-i[0])){v=p;var b=d+i[1]-i[0];m[0]=Math.min(b,(b+f)/2),m[1]=Math.max(b,(b+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(d,(w+d)/2),m[1]=Math.max(d,(w+d)/2)}var A=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>A[0]&&t<=A[1]||t>=m[0]&&t<=m[1]){({index:o}=r[u]);break}}else{var S=Math.min(f,p),O=Math.max(f,p);if(t>(S+d)/2&&t<=(O+d)/2){({index:o}=r[u]);break}}}else if(e){for(var I=0;I<l;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:o}=e[I]);break}}return o},Pne=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&De(t[a]))return ia(ia({},t),{},{[a]:t[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&De(t[o]))return ia(ia({},t),{},{[o]:t[o]+(i||0)})}return t},zl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",bk=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(r),o},wk=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var b=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=m==="angleAxis"&&a&&a.length>=2?dn(a[0]-a[1])*2*w:w,p||v){var A=(p||v||[]).map((S,O)=>{var I=n?n.indexOf(S):S;return{coordinate:o(I)+w,value:S,offset:w,index:O}});return A.filter(S=>!ki(S.coordinate))}return u&&f?f.map((S,O)=>({coordinate:o(S)+w,value:S,index:O,offset:w})):o.ticks&&d!=null?o.ticks(d).map((S,O)=>({coordinate:o(S)+w,value:S,offset:w,index:O})):o.domain().map((S,O)=>({coordinate:o(S)+w,value:n?n[S]:S,index:O,offset:w}))},oR=1e-4,Dne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-oR,a=Math.max(n[0],n[1])+oR,o=t(e[0]),l=t(e[r-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[r-1]])}},Nne=(t,e)=>{if(!e||e.length!==2||!De(e[0])||!De(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!De(t[0])||t[0]<r)&&(i[0]=r),(!De(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Mne=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var l=ki(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1])}},kne=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=ki(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},jne={sign:Mne,expand:fte,none:If,silhouette:dte,wiggle:hte,positive:kne},Lne=(t,e,r)=>{var n=jne[r],i=ute().keys(e).value((a,o)=>+Kt(a,o,0)).order(fw).offset(n);return i(t)};function Bne(t){return t==null?void 0:String(t)}function sR(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!or(i[e.dataKey])){var l=d9(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=Kt(i,or(o)?e.dataKey:o);return or(u)?null:e.scale(u)}var lR=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var l=Kt(a,e.dataKey,e.scale.domain()[o]);return or(l)?null:e.scale(l)-i/2+n},Une=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Fne=t=>{var e=t.flat(2).filter(De);return[Math.min(...e),Math.max(...e)]},Vne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],zne=(t,e,r)=>{if(t!=null)return Vne(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((u,f)=>{var d=_k(f,e,r),p=Fne(d);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},cR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lp=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Pm(e,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function fR(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return ia(ia({},e),{},{dataKey:r,payload:n,value:i,name:a})}function Qf(t,e){if(t)return String(t);if(typeof e=="string")return e}function Hne(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?Tne({x:t,y:e},n):null}var $ne=(t,e,r,n)=>{var i=e.find(f=>f&&f.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return ia(ia(ia({},n),Ur(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=n;return ia(ia(ia({},n),Ur(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},qne=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,vs=t=>t.layout.width,ms=t=>t.layout.height,Gne=t=>t.layout.scale,Ek=t=>t.layout.margin,Lm=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Bm=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ak="data-recharts-item-index",Sk="data-recharts-item-data-key",Up=60;function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){Wne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wne(t,e,r){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yne=t=>t.brush.height;function Qne(t){var e=Bm(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Up;return r+i}return r},0)}function Zne(t){var e=Bm(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Up;return r+i}return r},0)}function Jne(t){var e=Lm(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function eie(t){var e=Lm(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Jr=re([vs,ms,Ek,Yne,Qne,Zne,Jne,eie,W9,mre],(t,e,r,n,i,a,o,l,u,f)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+l},v=Q1(Q1({},p),d),m=v.bottom;v.bottom+=n,v=Pne(v,u,f);var b=t-v.left-v.right,w=e-v.top-v.bottom;return Q1(Q1({brushBottom:m},v),{},{width:Math.max(b,0),height:Math.max(w,0)})}),tie=re(Jr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$A=re(vs,ms,(t,e)=>({x:0,y:0,width:t,height:e})),rie=C.createContext(null),vi=()=>C.useContext(rie)!=null,Um=t=>t.brush,Fm=re([Um,Jr,Ek],(t,e,r)=>({height:t.height,x:De(t.x)?t.x:e.left,y:De(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:De(t.width)?t.width:e.width})),qA=()=>{var t,e=vi(),r=Ie(tie),n=Ie(Fm),i=(t=Ie(Um))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},nie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Tk=()=>{var t;return(t=Ie(Jr))!==null&&t!==void 0?t:nie},GA=()=>Ie(vs),WA=()=>Ie(ms),iie=()=>Ie(t=>t.layout.margin),ht=t=>t.layout.layoutType,Vm=()=>Ie(ht),aie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ck=Ui({name:"legend",initialState:aie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=rs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:hR,setLegendSettings:oie,addLegendPayload:Ik,removeLegendPayload:Ok}=Ck.actions,sie=Ck.reducer,lie=["contextPayload"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(null,arguments)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){KA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KA(t,e,r){return(e=cie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fie(t,e){if(t==null)return{};var r,n,i=die(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function die(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hie(t){return t.value}function pie(t){var{contextPayload:e}=t,r=fie(t,lie),n=H9(e,t.payloadUniqBy,hie),i=Rf(Rf({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(kA,i)}function gie(t,e,r,n,i,a){var{layout:o,align:l,verticalAlign:u}=e,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((n||0)-a.width)/2}:f=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Rf(Rf({},f),d)}function vie(t){var e=ur();return C.useEffect(()=>{e(oie(t))},[e,t]),null}function mie(t){var e=ur();return C.useEffect(()=>(e(hR(t)),()=>{e(hR({width:0,height:0}))}),[e,t]),null}function yie(t){var e=_re(),r=Mee(),n=iie(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[u,f]=K9([e]),d=GA(),p=WA();if(d==null||p==null)return null;var v=d-(n.left||0)-(n.right||0),m=zm.getWidthOrHeight(t.layout,a,i,v),b=l?o:Rf(Rf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},gie(o,t,n,d,p,u)),o),w=l??r;if(w==null)return null;var A=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},C.createElement(vie,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(mie,{width:u.width,height:u.height}),C.createElement(pie,ww({},t,m,{margin:n,chartWidth:d,chartHeight:p,contextPayload:e})));return v9.createPortal(A,w)}class zm extends C.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&De(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return C.createElement(yie,this.props)}}KA(zm,"displayName","Legend");KA(zm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(null,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){xie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xie(t,e,r){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t){return Array.isArray(t)&&_o(t[0])&&_o(t[1])?t.join(" ~ "):t}var Eie=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var k={padding:0,margin:0},L=(l?Pm(a,l):a).map((P,M)=>{if(P.type==="none")return null;var j=P.formatter||o||wie,{value:z,name:U}=P,H=z,F=U;if(j){var pe=j(z,U,P,M,a);if(Array.isArray(pe))[H,F]=pe;else if(pe!=null)H=pe;else return null}var _e=F_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:_e},_o(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,_o(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},b=F_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=F_({margin:0},i),A=!or(d),S=A?d:"",O=xt("recharts-default-tooltip",u),I=xt("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(S=p(d,a));var R=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Ew({className:O,style:b},R),C.createElement("p",{className:I,style:w},C.isValidElement(S)?S:"".concat(S)),m())},mh="recharts-tooltip-wrapper",Aie={visibility:"hidden"};function Sie(t){var{coordinate:e,translateX:r,translateY:n}=t;return xt(mh,{["".concat(mh,"-right")]:De(r)&&e&&De(e.x)&&r>=e.x,["".concat(mh,"-left")]:De(r)&&e&&De(e.x)&&r<e.x,["".concat(mh,"-bottom")]:De(n)&&e&&De(e.y)&&n>=e.y,["".concat(mh,"-top")]:De(n)&&e&&De(e.y)&&n<e.y})}function vR(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(a&&De(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),p=r[n]+i;if(e[n])return o[n]?d:p;var v=u[n];if(v==null)return 0;if(o[n]){var m=d,b=v;return m<b?Math.max(p,v):Math.max(d,v)}if(f==null)return 0;var w=p+l,A=v+f;return w>A?Math.max(d,v):Math.max(p,v)}function Tie(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cie(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,f,d,p;return o.height>0&&o.width>0&&r?(d=vR({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=vR({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Tie({translateX:d,translateY:p,useTranslate3d:l})):f=Aie,{cssProperties:f,cssClasses:Sie({translateX:d,translateY:p,coordinate:r})}}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aw(t,e,r){return(e=Iie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iie(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rie extends C.PureComponent{constructor(){super(...arguments),Aw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Aw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:b,lastBoundingBox:w,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:O,cssProperties:I}=Cie({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),R=S?{}:Z1(Z1({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Z1(Z1({},R),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:A},a)}}var Pie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hl={devToolsEnabled:!1,isSsr:Pie()},Rk=()=>Ie(t=>t.rootProps.accessibilityLayer);function Li(t){return Number.isFinite(t)}function Pf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(null,arguments)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){Die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Die(t,e,r){return(e=Nie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _R={curveBasisClosed:Jee,curveBasisOpen:ete,curveBasis:Zee,curveBumpX:Bee,curveBumpY:Uee,curveLinearClosed:tte,curveLinear:Om,curveMonotoneX:rte,curveMonotoneY:nte,curveNatural:ite,curveStep:ate,curveStepAfter:ste,curveStepBefore:ote},J1=t=>Li(t.x)&&Li(t.y),yh=t=>t.x,xh=t=>t.y,kie=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(kp(t));return(r==="curveMonotone"||r==="curveBump")&&e?_R["".concat(r).concat(e==="vertical"?"Y":"X")]:_R[r]||Om},jie=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=kie(e,i),l=a?r.filter(J1):r,u;if(Array.isArray(n)){var f=a?n.filter(p=>J1(p)):n,d=l.map((p,v)=>xR(xR({},p),{},{base:f[v]}));return i==="vertical"?u=q1().y(xh).x1(yh).x0(p=>p.base.x):u=q1().x(yh).y1(xh).y0(p=>p.base.y),u.defined(J1).curve(o),u(d)}return i==="vertical"&&De(n)?u=q1().y(xh).x1(yh).x0(n):De(n)?u=q1().x(yh).y1(xh).y0(n):u=E9().x(yh).y(xh),u.defined(J1).curve(o),u(l)},XA=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?jie(t):n;return C.createElement("path",Sw({},Co(t),CA(t),{className:xt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Lie=["x","y","top","left","width","height","className"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(null,arguments)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){Uie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uie(t,e,r){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zie(t,e){if(t==null)return{};var r,n,i=Hie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var $ie=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),qie=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=t,u=zie(t,Lie),f=Bie({x:e,y:r,top:n,left:i,width:a,height:o},u);return!De(e)||!De(r)||!De(a)||!De(o)||!De(n)||!De(i)?null:C.createElement("path",Tw({},cr(f,!0),{className:xt("recharts-cross",l),d:$ie(e,r,a,o,n,i)}))};function Gie(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){Kie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kie(t,e,r){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xie(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Yie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e){var r=Wie({},t),n=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}function Qie(){}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){Zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zie(t,e,r){return(e=Jie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jie(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Pk=(t,e,r)=>t.map(n=>"".concat(tae(n)," ").concat(e,"ms ").concat(r)).join(","),rae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),cp=(t,e)=>Object.keys(e).reduce((r,n)=>AR(AR({},r),{},{[n]:t(n,e[n])}),{});function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return(e=iae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hv=(t,e,r)=>t+(e-t)*r,Cw=t=>{var{from:e,to:r}=t;return e!==r},Dk=(t,e,r)=>{var n=cp((i,a)=>{if(Cw(a)){var[o,l]=t(a.from,a.to,a.velocity);return Tn(Tn({},a),{},{from:o,velocity:l})}return a},e);return r<1?cp((i,a)=>Cw(a)?Tn(Tn({},a),{},{velocity:hv(a.velocity,n[i].velocity,r),from:hv(a.from,n[i].from,r)}):a,e):Dk(t,n,r-1)};function oae(t,e,r,n,i,a){var o,l=n.reduce((v,m)=>Tn(Tn({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),u=()=>cp((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Cw).length,d=null,p=v=>{o||(o=v);var m=v-o,b=m/r.dt;l=Dk(r,l,b),i(Tn(Tn(Tn({},t),e),u())),o=v,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function sae(t,e,r,n,i,a,o){var l=null,u=i.reduce((p,v)=>Tn(Tn({},p),{},{[v]:[t[v],e[v]]}),{}),f,d=p=>{f||(f=p);var v=(p-f)/n,m=cp((w,A)=>hv(...A,r(v)),u);if(a(Tn(Tn(Tn({},t),e),m)),v<1)l=o.setTimeout(d);else{var b=cp((w,A)=>hv(...A,r(1)),u);a(Tn(Tn(Tn({},t),e),b))}};return()=>(l=o.setTimeout(d),()=>{l()})}const lae=(t,e,r,n,i,a)=>{var o=rae(t,e);return r.isStepper===!0?oae(t,e,r,o,i,a):sae(t,e,r,n,o,i,a)};var pv=1e-4,Nk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Mk=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),TR=(t,e)=>r=>{var n=Nk(t,e);return Mk(n,r)},cae=(t,e)=>r=>{var n=Nk(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return Mk(i,r)},CR=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,n,r,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([e,n,r,i]=o);var f=TR(e,r),d=TR(n,i),p=cae(e,r),v=b=>b>1?1:b<0?0:b,m=b=>{for(var w=b>1?1:b,A=w,S=0;S<8;++S){var O=f(A)-w,I=p(A);if(Math.abs(O-w)<pv||I<pv)return d(A);A=v(A-O/I)}return d(A)};return m.isStepper=!1,m},uae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,l,u)=>{var f=-(o-l)*r,d=u*n,p=u+(f-d)*i/1e3,v=u*i/1e3+o;return Math.abs(v-l)<pv&&Math.abs(p)<pv?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},fae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CR(t);case"spring":return uae();default:if(t.split("(")[0]==="cubic-bezier")return CR(t)}return typeof t=="function"?t:null};function dae(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class hae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function pae(){return dae(new hae)}var gae=C.createContext(pae);function vae(t,e){var r=C.useContext(gae);return C.useMemo(()=>e??r(t),[t,e,r])}var mae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IR={t:0},V_={t:1};function Fp(t){var e=Pn(t,mae),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=e,d=vae(e.animationId,e.animationManager),[p,v]=C.useState(r?IR:V_),m=C.useRef(null);return C.useEffect(()=>{r||v(V_)},[r]),C.useEffect(()=>{if(!r||!n)return Qie;var b=lae(IR,V_,fae(a),i,v,d.getTimeoutController()),w=()=>{m.current=b()};return d.start([u,o,w,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,a,o,u,l,d]),f(p.t)}function Vp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(ap(e)),n=C.useRef(t);return n.current!==t&&(r.current=ap(e),n.current=t),r.current}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yae(t,e,r){return(e=xae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gv.apply(null,arguments)}var PR=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(e)),f+="L ".concat(t+r-l*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(e+o*d[1])),f+="L ".concat(t+r,",").concat(e+n-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+r-l*d[2],",").concat(e+n)),f+="L ".concat(t+l*d[3],",").concat(e+n),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+n-o*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(e+o*m,`
            L `).concat(t+r,",").concat(e+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(e+n-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},bae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kk=t=>{var e=Pn(t,bae),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var pe=r.current.getTotalLength();pe&&i(pe)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:b,isUpdateAnimationActive:w}=e,A=C.useRef(l),S=C.useRef(u),O=C.useRef(a),I=C.useRef(o),R=C.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),k=Vp(R,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var L=xt("recharts-rectangle",d);if(!w)return C.createElement("path",gv({},cr(e,!0),{className:L,d:PR(a,o,l,u,f)}));var P=A.current,M=S.current,j=O.current,z=I.current,U="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),F=Pk(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(Fp,{animationId:k,key:k,canBegin:n>0,duration:v,easing:p,isActive:w,begin:m},pe=>{var _e=hr(P,l,pe),X=hr(M,u,pe),ne=hr(j,a,pe),de=hr(z,o,pe);r.current&&(A.current=_e,S.current=X,O.current=ne,I.current=de);var we;return b?pe>0?we={transition:F,strokeDasharray:H}:we={strokeDasharray:U}:we={strokeDasharray:H},C.createElement("path",gv({},cr(e,!0),{className:L,d:PR(ne,de,_e,X,f),ref:r,style:RR(RR({},we),e.style)}))})};function jk(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=Ur(e,r,n,i),l=Ur(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iw.apply(null,arguments)}var wae=(t,e)=>{var r=dn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},eg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=t,f=l*(o?1:-1)+n,d=Math.asin(l/f)/dv,p=u?i:i+a*d,v=Ur(e,r,f,p),m=Ur(e,r,n,p),b=u?i-a*d:i,w=Ur(e,r,f*Math.cos(d*dv),b);return{center:v,circleTangency:m,lineTangency:w,theta:d}},Lk=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,l=wae(a,o),u=a+l,f=Ur(e,r,i,a),d=Ur(e,r,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var v=Ur(e,r,n,a),m=Ur(e,r,n,u);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},Eae=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=t,d=dn(f-u),{circleTangency:p,lineTangency:v,theta:m}=eg({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:b,lineTangency:w,theta:A}=eg({cx:e,cy:r,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(u-f):Math.abs(u-f)-m-A;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Lk({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:f});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:I,lineTangency:R,theta:k}=eg({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:L,lineTangency:P,theta:M}=eg({cx:e,cy:r,radius:n,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-f):Math.abs(u-f)-k-M;if(j<0&&a===0)return"".concat(O,"L").concat(e,",").concat(r,"Z");O+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(e,",").concat(r,"Z");return O},Aae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bk=t=>{var e=Pn(t,Aae),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:p}=e;if(a<i||f===d)return null;var v=xt("recharts-sector",p),m=a-i,b=Fn(o,m,0,!0),w;return b>0&&Math.abs(f-d)<360?w=Eae({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):w=Lk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),C.createElement("path",Iw({},cr(e,!0),{className:v,d:w}))};function Sae(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:d,angle:p}=e,v=Ur(l,u,f,p),m=Ur(l,u,d,p);n=v.x,i=v.y,a=m.x,o=m.y}else return jk(e);return[{x:n,y:i},{x:a,y:o}]}var z_={},H_={},$_={},DR;function Tae(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q9();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})($_)),$_}var NR;function Cae(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tae();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(H_)),H_}var MR;function Iae(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G9(),r=Cae();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}t.range=n})(z_)),z_}var q_,kR;function Oae(){return kR||(kR=1,q_=Iae().range),q_}var Rae=Oae();const Uk=wo(Rae);function Al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YA(t){let e,r,n;t.length!==2?(e=Al,r=(l,u)=>Al(t(l),u),n=(l,u)=>t(l)-u):(e=t===Al||t===Pae?t:Dae,r=t,n=t);function i(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;r(l[p],u)<0?f=p+1:d=p}while(f<d)}return f}function a(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;r(l[p],u)<=0?f=p+1:d=p}while(f<d)}return f}function o(l,u,f=0,d=l.length){const p=i(l,u,f,d-1);return p>f&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function Dae(){return 0}function Fk(t){return t===null?NaN:+t}function*Nae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Mae=YA(Al),zp=Mae.right;YA(Fk).center;class jR extends Map{constructor(e,r=Lae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(LR(this,e))}has(e){return super.has(LR(this,e))}set(e,r){return super.set(kae(this,e),r)}delete(e){return super.delete(jae(this,e))}}function LR({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function kae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Lae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bae(t=Al){if(t===Al)return Vk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Vk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Uae=Math.sqrt(50),Fae=Math.sqrt(10),Vae=Math.sqrt(2);function vv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Uae?10:a>=Fae?5:a>=Vae?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=r&&r<2?vv(t,e,r*2):[l,u,f]}function Ow(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?vv(e,t,r):vv(t,e,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function Rw(t,e,r){return e=+e,t=+t,r=+r,vv(t,e,r)[2]}function Pw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Rw(e,t,r):Rw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function BR(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UR(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zk(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Vk:Bae(i);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,d=Math.log(u),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(u-p)/u)*(f-u/2<0?-1:1),m=Math.max(r,Math.floor(e-f*p/u+v)),b=Math.min(n,Math.floor(e+(u-f)*p/u+v));zk(t,e,m,b,i)}const a=t[e];let o=r,l=n;for(_h(t,r,e),i(t[n],a)>0&&_h(t,r,n);o<l;){for(_h(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?_h(t,r,l):(++l,_h(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function _h(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function zae(t,e,r){if(t=Float64Array.from(Nae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return UR(t);if(e>=1)return BR(t);var n,i=(n-1)*e,a=Math.floor(i),o=BR(zk(t,a).subarray(0,a+1)),l=UR(t.subarray(a+1));return o+(l-o)*(i-a)}}function Hae(t,e,r=Fk){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function $ae(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Dw=Symbol("implicit");function QA(){var t=new jR,e=[],r=[],n=Dw;function i(a){let o=t.get(a);if(o===void 0){if(n!==Dw)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jR;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QA(e,r).unknown(n)},va.apply(i,arguments),i}function ZA(){var t=QA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,u=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,m=i<n,b=m?i:n,w=m?n:i;a=(w-b)/Math.max(1,v-u+f*2),l&&(a=Math.floor(a)),b+=(w-b-a*(v-u))*d,o=a*(1-u),l&&(b=Math.round(b),o=Math.round(o));var A=$ae(v).map(function(S){return b+a*S});return r(m?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),p()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return ZA(e(),[n,i]).round(l).paddingInner(u).paddingOuter(f).align(d)},va.apply(p(),arguments)}function Hk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Hk(e())},t}function qae(){return Hk(ZA.apply(null,arguments).paddingInner(1))}function JA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $k(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Hp(){}var up=.7,mv=1/up,vf="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gae=/^#([0-9a-f]{3,8})$/,Wae=new RegExp(`^rgb\\(${vf},${vf},${vf}\\)$`),Kae=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),Xae=new RegExp(`^rgba\\(${vf},${vf},${vf},${fp}\\)$`),Yae=new RegExp(`^rgba\\(${mo},${mo},${mo},${fp}\\)$`),Qae=new RegExp(`^hsl\\(${fp},${mo},${mo}\\)$`),Zae=new RegExp(`^hsla\\(${fp},${mo},${mo},${fp}\\)$`),FR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JA(Hp,dp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VR,formatHex:VR,formatHex8:Jae,formatHsl:eoe,formatRgb:zR,toString:zR});function VR(){return this.rgb().formatHex()}function Jae(){return this.rgb().formatHex8()}function eoe(){return qk(this).formatHsl()}function zR(){return this.rgb().formatRgb()}function dp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Gae.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HR(e):r===3?new di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?tg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?tg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wae.exec(t))?new di(e[1],e[2],e[3],1):(e=Kae.exec(t))?new di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xae.exec(t))?tg(e[1],e[2],e[3],e[4]):(e=Yae.exec(t))?tg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qae.exec(t))?GR(e[1],e[2]/100,e[3]/100,1):(e=Zae.exec(t))?GR(e[1],e[2]/100,e[3]/100,e[4]):FR.hasOwnProperty(t)?HR(FR[t]):t==="transparent"?new di(NaN,NaN,NaN,0):null}function HR(t){return new di(t>>16&255,t>>8&255,t&255,1)}function tg(t,e,r,n){return n<=0&&(t=e=r=NaN),new di(t,e,r,n)}function toe(t){return t instanceof Hp||(t=dp(t)),t?(t=t.rgb(),new di(t.r,t.g,t.b,t.opacity)):new di}function Nw(t,e,r,n){return arguments.length===1?toe(t):new di(t,e,r,n??1)}function di(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}JA(di,Nw,$k(Hp,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?up:Math.pow(up,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new di(Hc(this.r),Hc(this.g),Hc(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$R,formatHex:$R,formatHex8:roe,formatRgb:qR,toString:qR}));function $R(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}`}function roe(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}${Mc((isNaN(this.opacity)?1:this.opacity)*255)}`}function qR(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mc(t){return t=Hc(t),(t<16?"0":"")+t.toString(16)}function GR(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ma(t,e,r,n)}function qk(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);if(t instanceof Hp||(t=dp(t)),!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ma(o,l,u,t.opacity)}function noe(t,e,r,n){return arguments.length===1?qk(t):new Ma(t,e,r,n??1)}function Ma(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}JA(Ma,noe,$k(Hp,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?up:Math.pow(up,t),new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new di(G_(t>=240?t-240:t+120,i,n),G_(t,i,n),G_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ma(WR(this.h),rg(this.s),rg(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${WR(this.h)}, ${rg(this.s)*100}%, ${rg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WR(t){return t=(t||0)%360,t<0?t+360:t}function rg(t){return Math.max(0,Math.min(1,t||0))}function G_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const eS=t=>()=>t;function ioe(t,e){return function(r){return t+r*e}}function aoe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ooe(t){return(t=+t)==1?Gk:function(e,r){return r-e?aoe(e,r,t):eS(isNaN(e)?r:e)}}function Gk(t,e){var r=e-t;return r?ioe(t,r):eS(isNaN(t)?e:t)}const KR=(function t(e){var r=ooe(e);function n(i,a){var o=r((i=Nw(i)).r,(a=Nw(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),f=Gk(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=u(d),i.opacity=f(d),i+""}}return n.gamma=t,n})(1);function soe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function loe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function coe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Zf(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function uoe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function foe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Zf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W_=new RegExp(Mw.source,"g");function doe(t){return function(){return t}}function hoe(t){return function(e){return t(e)+""}}function poe(t,e){var r=Mw.lastIndex=W_.lastIndex=0,n,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(n=Mw.exec(t))&&(i=W_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:xv(n,i)})),r=W_.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?hoe(u[0].x):doe(e):(e=u.length,function(f){for(var d=0,p;d<e;++d)l[(p=u[d]).i]=p.x(f);return l.join("")})}function Zf(t,e){var r=typeof e,n;return e==null||r==="boolean"?eS(e):(r==="number"?xv:r==="string"?(n=dp(e))?(e=n,KR):poe:e instanceof dp?KR:e instanceof Date?uoe:loe(e)?soe:Array.isArray(e)?coe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?foe:xv)(t,e)}function tS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function goe(t,e){e===void 0&&(e=t,t=Zf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function voe(t){return function(){return t}}function _v(t){return+t}var XR=[0,1];function Jn(t){return t}function kw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:voe(isNaN(e)?NaN:.5)}function moe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function yoe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=kw(i,n),a=r(o,a)):(n=kw(n,i),a=r(a,o)),function(l){return a(n(l))}}function xoe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=kw(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var u=zp(t,l,1,n)-1;return a[u](i[u](l))}}function $p(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hm(){var t=XR,e=XR,r=Zf,n,i,a,o=Jn,l,u,f;function d(){var v=Math.min(t.length,e.length);return o!==Jn&&(o=moe(t[0],t[v-1])),l=v>2?xoe:yoe,u=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(u||(u=l(t.map(n),e,r)))(n(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(n),xv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,_v),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=tS,d()},p.clamp=function(v){return arguments.length?(o=v?!0:Jn,d()):o!==Jn},p.interpolate=function(v){return arguments.length?(r=v,d()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return n=v,i=m,d()}}function rS(){return Hm()(Jn,Jn)}function _oe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Df(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function boe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function woe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Eoe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hp(t){if(!(e=Eoe.exec(t)))throw new Error("invalid format: "+t);var e;return new nS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hp.prototype=nS.prototype;function nS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aoe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Wk;function Soe(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Wk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+bv(t,Math.max(0,e+a-1))[0]}function YR(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const QR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_oe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YR(t*100,e),r:YR,s:Soe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZR(t){return t}var JR=Array.prototype.map,eP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Toe(t){var e=t.grouping===void 0||t.thousands===void 0?ZR:boe(JR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZR:woe(JR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=hp(p);var v=p.fill,m=p.align,b=p.sign,w=p.symbol,A=p.zero,S=p.width,O=p.comma,I=p.precision,R=p.trim,k=p.type;k==="n"?(O=!0,k="g"):QR[k]||(I===void 0&&(I=12),R=!0,k="g"),(A||v==="0"&&m==="=")&&(A=!0,v="0",m="=");var L=w==="$"?r:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=w==="$"?n:/[%p]/.test(k)?o:"",M=QR[k],j=/[defgprs%]/.test(k);I=I===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function z(U){var H=L,F=P,pe,_e,X;if(k==="c")F=M(U)+F,U="";else{U=+U;var ne=U<0||1/U<0;if(U=isNaN(U)?u:M(Math.abs(U),I),R&&(U=Aoe(U)),ne&&+U==0&&b!=="+"&&(ne=!1),H=(ne?b==="("?b:l:b==="-"||b==="("?"":b)+H,F=(k==="s"?eP[8+Wk/3]:"")+F+(ne&&b==="("?")":""),j){for(pe=-1,_e=U.length;++pe<_e;)if(X=U.charCodeAt(pe),48>X||X>57){F=(X===46?i+U.slice(pe+1):U.slice(pe))+F,U=U.slice(0,pe);break}}}O&&!A&&(U=e(U,1/0));var de=H.length+U.length+F.length,we=de<S?new Array(S-de+1).join(v):"";switch(O&&A&&(U=e(we+U,we.length?S-F.length:1/0),we=""),m){case"<":U=H+U+F+we;break;case"=":U=H+we+U+F;break;case"^":U=we.slice(0,de=we.length>>1)+H+U+F+we.slice(de);break;default:U=we+H+U+F;break}return a(U)}return z.toString=function(){return p+""},z}function d(p,v){var m=f((p=hp(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Df(v)/3)))*3,w=Math.pow(10,-b),A=eP[8+b/3];return function(S){return m(w*S)+A}}return{format:f,formatPrefix:d}}var ng,iS,Kk;Coe({thousands:",",grouping:[3],currency:["$",""]});function Coe(t){return ng=Toe(t),iS=ng.format,Kk=ng.formatPrefix,ng}function Ioe(t){return Math.max(0,-Df(Math.abs(t)))}function Ooe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Df(e)/3)))*3-Df(Math.abs(t)))}function Roe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Df(e)-Df(t))+1}function Xk(t,e,r,n){var i=Pw(t,e,r),a;switch(n=hp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Ooe(i,o))&&(n.precision=a),Kk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Roe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Ioe(i))&&(n.precision=a-(n.type==="%")*2);break}}return iS(n)}function $l(t){var e=t.domain;return t.ticks=function(r){var n=e();return Ow(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Xk(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],u,f,d=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);d-- >0;){if(f=Rw(o,l,r),f===u)return n[i]=o,n[a]=l,e(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function Yk(){var t=rS();return t.copy=function(){return $p(t,Yk())},va.apply(t,arguments),$l(t)}function Qk(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_v),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Qk(t).unknown(e)},t=arguments.length?Array.from(t,_v):[0,1],$l(r)}function Zk(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function tP(t){return Math.log(t)}function rP(t){return Math.exp(t)}function Poe(t){return-Math.log(-t)}function Doe(t){return-Math.exp(-t)}function Noe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Moe(t){return t===10?Noe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function koe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nP(t){return(e,r)=>-t(-e,r)}function aS(t){const e=t(tP,rP),r=e.domain;let n=10,i,a;function o(){return i=koe(n),a=Moe(n),r()[0]<0?(i=nP(i),a=nP(a),t(Poe,Doe)):t(tP,rP),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const u=r();let f=u[0],d=u[u.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),m=i(d),b,w;const A=l==null?10:+l;let S=[];if(!(n%1)&&m-v<A){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(b=1;b<n;++b)if(w=v<0?b/a(-v):b*a(v),!(w<f)){if(w>d)break;S.push(w)}}else for(;v<=m;++v)for(b=n-1;b>=1;--b)if(w=v>0?b/a(-v):b*a(v),!(w<f)){if(w>d)break;S.push(w)}S.length*2<A&&(S=Ow(f,d,A))}else S=Ow(v,m,Math.min(m-v,A)).map(a);return p?S.reverse():S},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=hp(u)).precision==null&&(u.trim=!0),u=iS(u)),l===1/0)return u;const f=Math.max(1,n*l/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=f?u(d):""}},e.nice=()=>r(Zk(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function Jk(){const t=aS(Hm()).domain([1,10]);return t.copy=()=>$p(t,Jk()).base(t.base()),va.apply(t,arguments),t}function iP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oS(t){var e=1,r=t(iP(e),aP(e));return r.constant=function(n){return arguments.length?t(iP(e=+n),aP(e)):e},$l(r)}function e7(){var t=oS(Hm());return t.copy=function(){return $p(t,e7()).constant(t.constant())},va.apply(t,arguments)}function oP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function joe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Loe(t){return t<0?-t*t:t*t}function sS(t){var e=t(Jn,Jn),r=1;function n(){return r===1?t(Jn,Jn):r===.5?t(joe,Loe):t(oP(r),oP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},$l(e)}function lS(){var t=sS(Hm());return t.copy=function(){return $p(t,lS()).exponent(t.exponent())},va.apply(t,arguments),t}function Boe(){return lS.apply(null,arguments).exponent(.5)}function sP(t){return Math.sign(t)*t*t}function Uoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function t7(){var t=rS(),e=[0,1],r=!1,n;function i(a){var o=Uoe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(sP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,_v)).map(sP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return t7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},va.apply(i,arguments),$l(i)}function r7(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Hae(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[zp(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Al),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return r7().domain(t).range(e).unknown(n)},va.apply(a,arguments)}function n7(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[zp(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return n7().domain([t,e]).range(i).unknown(a)},va.apply($l(o),arguments)}function i7(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[zp(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i7().domain(t).range(e).unknown(r)},va.apply(i,arguments)}const K_=new Date,X_=new Date;function en(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return u},i.filter=a=>en(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(K_.setTime(+a),X_.setTime(+o),t(K_),t(X_),Math.floor(r(K_,X_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wv=en(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?en(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wv);wv.range;const Zo=1e3,sa=Zo*60,Jo=sa*60,fs=Jo*24,cS=fs*7,lP=fs*30,Y_=fs*365,kc=en(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getUTCSeconds());kc.range;const uS=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zo)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getMinutes());uS.range;const fS=en(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getUTCMinutes());fS.range;const dS=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zo-t.getMinutes()*sa)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getHours());dS.range;const hS=en(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCHours());hS.range;const qp=en(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sa)/fs,t=>t.getDate()-1);qp.range;const $m=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>t.getUTCDate()-1);$m.range;const a7=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>Math.floor(t/fs));a7.range;function cu(t){return en(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*sa)/cS)}const qm=cu(0),Ev=cu(1),Foe=cu(2),Voe=cu(3),Nf=cu(4),zoe=cu(5),Hoe=cu(6);qm.range;Ev.range;Foe.range;Voe.range;Nf.range;zoe.range;Hoe.range;function uu(t){return en(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/cS)}const Gm=uu(0),Av=uu(1),$oe=uu(2),qoe=uu(3),Mf=uu(4),Goe=uu(5),Woe=uu(6);Gm.range;Av.range;$oe.range;qoe.range;Mf.range;Goe.range;Woe.range;const pS=en(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pS.range;const gS=en(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gS.range;const ds=en(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ds.range;const hs=en(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});hs.range;function o7(t,e,r,n,i,a){const o=[[kc,1,Zo],[kc,5,5*Zo],[kc,15,15*Zo],[kc,30,30*Zo],[a,1,sa],[a,5,5*sa],[a,15,15*sa],[a,30,30*sa],[i,1,Jo],[i,3,3*Jo],[i,6,6*Jo],[i,12,12*Jo],[n,1,fs],[n,2,2*fs],[r,1,cS],[e,1,lP],[e,3,3*lP],[t,1,Y_]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const m=p&&typeof p.range=="function"?p:u(f,d,p),b=m?m.range(f,+d+1):[];return v?b.reverse():b}function u(f,d,p){const v=Math.abs(d-f)/p,m=YA(([,,A])=>A).right(o,v);if(m===o.length)return t.every(Pw(f/Y_,d/Y_,p));if(m===0)return wv.every(Math.max(Pw(f,d,p),1));const[b,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return b.every(w)}return[l,u]}const[Koe,Xoe]=o7(hs,gS,Gm,a7,hS,fS),[Yoe,Qoe]=o7(ds,pS,qm,qp,dS,uS);function Q_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Zoe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,f=wh(i),d=Eh(i),p=wh(a),v=Eh(a),m=wh(o),b=Eh(o),w=wh(l),A=Eh(l),S=wh(u),O=Eh(u),I={a:ne,A:de,b:we,B:ke,c:null,d:pP,e:pP,f:bse,g:Pse,G:Nse,H:yse,I:xse,j:_se,L:s7,m:wse,M:Ese,p:G,q:ee,Q:mP,s:yP,S:Ase,u:Sse,U:Tse,V:Cse,w:Ise,W:Ose,x:null,X:null,y:Rse,Y:Dse,Z:Mse,"%":vP},R={a:ye,A:be,b:Pe,B:qe,c:null,d:gP,e:gP,f:Bse,g:Kse,G:Yse,H:kse,I:jse,j:Lse,L:c7,m:Use,M:Fse,p:nt,q:mr,Q:mP,s:yP,S:Vse,u:zse,U:Hse,V:$se,w:qse,W:Gse,x:null,X:null,y:Wse,Y:Xse,Z:Qse,"%":vP},k={a:z,A:U,b:H,B:F,c:pe,d:dP,e:dP,f:pse,g:fP,G:uP,H:hP,I:hP,j:use,L:hse,m:cse,M:fse,p:j,q:lse,Q:vse,s:mse,S:dse,u:nse,U:ise,V:ase,w:rse,W:ose,x:_e,X,y:fP,Y:uP,Z:sse,"%":gse};I.x=L(r,I),I.X=L(n,I),I.c=L(e,I),R.x=L(r,R),R.X=L(n,R),R.c=L(e,R);function L(ge,ze){return function(Xe){var he=[],yr=-1,Ze=0,zr=ge.length,xr,mi,ws;for(Xe instanceof Date||(Xe=new Date(+Xe));++yr<zr;)ge.charCodeAt(yr)===37&&(he.push(ge.slice(Ze,yr)),(mi=cP[xr=ge.charAt(++yr)])!=null?xr=ge.charAt(++yr):mi=xr==="e"?" ":"0",(ws=ze[xr])&&(xr=ws(Xe,mi)),he.push(xr),Ze=yr+1);return he.push(ge.slice(Ze,yr)),he.join("")}}function P(ge,ze){return function(Xe){var he=bh(1900,void 0,1),yr=M(he,ge,Xe+="",0),Ze,zr;if(yr!=Xe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ze&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=Z_(bh(he.y,0,1)),zr=Ze.getUTCDay(),Ze=zr>4||zr===0?Av.ceil(Ze):Av(Ze),Ze=$m.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=Q_(bh(he.y,0,1)),zr=Ze.getDay(),Ze=zr>4||zr===0?Ev.ceil(Ze):Ev(Ze),Ze=qp.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),zr="Z"in he?Z_(bh(he.y,0,1)).getUTCDay():Q_(bh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(zr+5)%7:he.w+he.U*7-(zr+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Z_(he)):Q_(he)}}function M(ge,ze,Xe,he){for(var yr=0,Ze=ze.length,zr=Xe.length,xr,mi;yr<Ze;){if(he>=zr)return-1;if(xr=ze.charCodeAt(yr++),xr===37){if(xr=ze.charAt(yr++),mi=k[xr in cP?ze.charAt(yr++):xr],!mi||(he=mi(ge,Xe,he))<0)return-1}else if(xr!=Xe.charCodeAt(he++))return-1}return he}function j(ge,ze,Xe){var he=f.exec(ze.slice(Xe));return he?(ge.p=d.get(he[0].toLowerCase()),Xe+he[0].length):-1}function z(ge,ze,Xe){var he=m.exec(ze.slice(Xe));return he?(ge.w=b.get(he[0].toLowerCase()),Xe+he[0].length):-1}function U(ge,ze,Xe){var he=p.exec(ze.slice(Xe));return he?(ge.w=v.get(he[0].toLowerCase()),Xe+he[0].length):-1}function H(ge,ze,Xe){var he=S.exec(ze.slice(Xe));return he?(ge.m=O.get(he[0].toLowerCase()),Xe+he[0].length):-1}function F(ge,ze,Xe){var he=w.exec(ze.slice(Xe));return he?(ge.m=A.get(he[0].toLowerCase()),Xe+he[0].length):-1}function pe(ge,ze,Xe){return M(ge,e,ze,Xe)}function _e(ge,ze,Xe){return M(ge,r,ze,Xe)}function X(ge,ze,Xe){return M(ge,n,ze,Xe)}function ne(ge){return o[ge.getDay()]}function de(ge){return a[ge.getDay()]}function we(ge){return u[ge.getMonth()]}function ke(ge){return l[ge.getMonth()]}function G(ge){return i[+(ge.getHours()>=12)]}function ee(ge){return 1+~~(ge.getMonth()/3)}function ye(ge){return o[ge.getUTCDay()]}function be(ge){return a[ge.getUTCDay()]}function Pe(ge){return u[ge.getUTCMonth()]}function qe(ge){return l[ge.getUTCMonth()]}function nt(ge){return i[+(ge.getUTCHours()>=12)]}function mr(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ze=L(ge+="",I);return ze.toString=function(){return ge},ze},parse:function(ge){var ze=P(ge+="",!1);return ze.toString=function(){return ge},ze},utcFormat:function(ge){var ze=L(ge+="",R);return ze.toString=function(){return ge},ze},utcParse:function(ge){var ze=P(ge+="",!0);return ze.toString=function(){return ge},ze}}}var cP={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,Joe=/^%/,ese=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function tse(t){return t.replace(ese,"\\$&")}function wh(t){return new RegExp("^(?:"+t.map(tse).join("|")+")","i")}function Eh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function rse(t,e,r){var n=hn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nse(t,e,r){var n=hn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ise(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function ase(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ose(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uP(t,e,r){var n=hn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function fP(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sse(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lse(t,e,r){var n=hn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function cse(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function dP(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function use(t,e,r){var n=hn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function hP(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function fse(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dse(t,e,r){var n=hn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hse(t,e,r){var n=hn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function pse(t,e,r){var n=hn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gse(t,e,r){var n=Joe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function vse(t,e,r){var n=hn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mse(t,e,r){var n=hn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function pP(t,e){return _t(t.getDate(),e,2)}function yse(t,e){return _t(t.getHours(),e,2)}function xse(t,e){return _t(t.getHours()%12||12,e,2)}function _se(t,e){return _t(1+qp.count(ds(t),t),e,3)}function s7(t,e){return _t(t.getMilliseconds(),e,3)}function bse(t,e){return s7(t,e)+"000"}function wse(t,e){return _t(t.getMonth()+1,e,2)}function Ese(t,e){return _t(t.getMinutes(),e,2)}function Ase(t,e){return _t(t.getSeconds(),e,2)}function Sse(t){var e=t.getDay();return e===0?7:e}function Tse(t,e){return _t(qm.count(ds(t)-1,t),e,2)}function l7(t){var e=t.getDay();return e>=4||e===0?Nf(t):Nf.ceil(t)}function Cse(t,e){return t=l7(t),_t(Nf.count(ds(t),t)+(ds(t).getDay()===4),e,2)}function Ise(t){return t.getDay()}function Ose(t,e){return _t(Ev.count(ds(t)-1,t),e,2)}function Rse(t,e){return _t(t.getFullYear()%100,e,2)}function Pse(t,e){return t=l7(t),_t(t.getFullYear()%100,e,2)}function Dse(t,e){return _t(t.getFullYear()%1e4,e,4)}function Nse(t,e){var r=t.getDay();return t=r>=4||r===0?Nf(t):Nf.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Mse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function gP(t,e){return _t(t.getUTCDate(),e,2)}function kse(t,e){return _t(t.getUTCHours(),e,2)}function jse(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Lse(t,e){return _t(1+$m.count(hs(t),t),e,3)}function c7(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Bse(t,e){return c7(t,e)+"000"}function Use(t,e){return _t(t.getUTCMonth()+1,e,2)}function Fse(t,e){return _t(t.getUTCMinutes(),e,2)}function Vse(t,e){return _t(t.getUTCSeconds(),e,2)}function zse(t){var e=t.getUTCDay();return e===0?7:e}function Hse(t,e){return _t(Gm.count(hs(t)-1,t),e,2)}function u7(t){var e=t.getUTCDay();return e>=4||e===0?Mf(t):Mf.ceil(t)}function $se(t,e){return t=u7(t),_t(Mf.count(hs(t),t)+(hs(t).getUTCDay()===4),e,2)}function qse(t){return t.getUTCDay()}function Gse(t,e){return _t(Av.count(hs(t)-1,t),e,2)}function Wse(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Kse(t,e){return t=u7(t),_t(t.getUTCFullYear()%100,e,2)}function Xse(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Yse(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Mf(t):Mf.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Qse(){return"+0000"}function vP(){return"%"}function mP(t){return+t}function yP(t){return Math.floor(+t/1e3)}var tf,f7,d7;Zse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zse(t){return tf=Zoe(t),f7=tf.format,tf.parse,d7=tf.utcFormat,tf.utcParse,tf}function Jse(t){return new Date(t)}function ele(t){return t instanceof Date?+t:+new Date(+t)}function vS(t,e,r,n,i,a,o,l,u,f){var d=rS(),p=d.invert,v=d.domain,m=f(".%L"),b=f(":%S"),w=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),O=f("%b %d"),I=f("%B"),R=f("%Y");function k(L){return(u(L)<L?m:l(L)<L?b:o(L)<L?w:a(L)<L?A:n(L)<L?i(L)<L?S:O:r(L)<L?I:R)(L)}return d.invert=function(L){return new Date(p(L))},d.domain=function(L){return arguments.length?v(Array.from(L,ele)):v().map(Jse)},d.ticks=function(L){var P=v();return t(P[0],P[P.length-1],L??10)},d.tickFormat=function(L,P){return P==null?k:f(P)},d.nice=function(L){var P=v();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?v(Zk(P,L)):d},d.copy=function(){return $p(d,vS(t,e,r,n,i,a,o,l,u,f))},d}function tle(){return va.apply(vS(Yoe,Qoe,ds,pS,qm,qp,dS,uS,kc,f7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rle(){return va.apply(vS(Koe,Xoe,hs,gS,Gm,$m,hS,fS,kc,d7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wm(){var t=0,e=1,r,n,i,a,o=Jn,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(v){var m,b;return arguments.length?([m,b]=v,o=p(m,b),f):[o(0),o(1)]}}return f.range=d(Zf),f.rangeRound=d(tS),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function h7(){var t=$l(Wm()(Jn));return t.copy=function(){return ql(t,h7())},ys.apply(t,arguments)}function p7(){var t=aS(Wm()).domain([1,10]);return t.copy=function(){return ql(t,p7()).base(t.base())},ys.apply(t,arguments)}function g7(){var t=oS(Wm());return t.copy=function(){return ql(t,g7()).constant(t.constant())},ys.apply(t,arguments)}function mS(){var t=sS(Wm());return t.copy=function(){return ql(t,mS()).exponent(t.exponent())},ys.apply(t,arguments)}function nle(){return mS.apply(null,arguments).exponent(.5)}function v7(){var t=[],e=Jn;function r(n){if(n!=null&&!isNaN(n=+n))return e((zp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Al),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>zae(t,a/n))},r.copy=function(){return v7(e).domain(t)},ys.apply(r,arguments)}function Km(){var t=0,e=.5,r=1,n=1,i,a,o,l,u,f=Jn,d,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+d(w))-a)*(n*w<n*a?l:u),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,r]=w,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function b(w){return function(A){var S,O,I;return arguments.length?([S,O,I]=A,f=goe(w,[S,O,I]),m):[f(0),f(.5),f(1)]}}return m.range=b(Zf),m.rangeRound=b(tS),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return d=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function m7(){var t=$l(Km()(Jn));return t.copy=function(){return ql(t,m7())},ys.apply(t,arguments)}function y7(){var t=aS(Km()).domain([.1,1,10]);return t.copy=function(){return ql(t,y7()).base(t.base())},ys.apply(t,arguments)}function x7(){var t=oS(Km());return t.copy=function(){return ql(t,x7()).constant(t.constant())},ys.apply(t,arguments)}function yS(){var t=sS(Km());return t.copy=function(){return ql(t,yS()).exponent(t.exponent())},ys.apply(t,arguments)}function ile(){return yS.apply(null,arguments).exponent(.5)}const jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZA,scaleDiverging:m7,scaleDivergingLog:y7,scaleDivergingPow:yS,scaleDivergingSqrt:ile,scaleDivergingSymlog:x7,scaleIdentity:Qk,scaleImplicit:Dw,scaleLinear:Yk,scaleLog:Jk,scaleOrdinal:QA,scalePoint:qae,scalePow:lS,scaleQuantile:r7,scaleQuantize:n7,scaleRadial:t7,scaleSequential:h7,scaleSequentialLog:p7,scaleSequentialPow:mS,scaleSequentialQuantile:v7,scaleSequentialSqrt:nle,scaleSequentialSymlog:g7,scaleSqrt:Boe,scaleSymlog:e7,scaleThreshold:i7,scaleTime:tle,scaleUtc:rle,tickFormat:Xk},Symbol.toStringTag,{value:"Module"}));var Gl=t=>t.chartData,xS=re([Gl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Xm=(t,e,r,n)=>n?xS(t):Gl(t);function kf(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Li(e)&&Li(r))return!0}return!1}function xP(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function ale(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(Li(r))i=r;else if(typeof r=="function")return;if(Li(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(kf(o))return o}}function ole(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(kf(n))return xP(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(De(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&cR.test(i)){var u=cR.exec(i);if(u==null||e==null)o=void 0;else{var f=+u[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(De(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&uR.test(a)){var d=uR.exec(a);if(d==null||e==null)l=void 0;else{var p=+d[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(kf(v))return e==null?v:xP(v,e,r)}}}var Jf=1e9,sle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bS,ar=!0,ga="[DecimalError] ",$c=ga+"Invalid argument: ",_S=ga+"Exponent out of range: ",ed=Math.floor,Oc=Math.pow,lle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,cn=1e7,Jt=7,_7=9007199254740991,Sv=ed(_7/Jt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(t){return ns(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,r=e.constructor;return Ht(ns(e,new r(t),0,1),r.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Vr(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Pi))throw Error(ga+"NaN");if(r.s<1)throw Error(ga+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(ar=!1,e=ns(pp(r,a),pp(t,a),a),ar=!0,Ht(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E7(e,t):b7(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ga+"NaN");return r.s?(ar=!1,e=ns(r,t,0,1).times(t),ar=!0,r.minus(e)):Ht(new n(r),i)};Ae.naturalExponential=Ae.exp=function(){return w7(this)};Ae.naturalLogarithm=Ae.ln=function(){return pp(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b7(e,t):E7(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($c+t);if(e=Vr(i)+1,n=i.d.length-1,r=n*Jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ae.squareRoot=Ae.sqrt=function(){var t,e,r,n,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ga+"NaN")}for(t=Vr(l),ar=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=uo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ed((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(ns(l,a,o+2)).times(.5),uo(a.d).slice(0,o)===(e=uo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ht(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ar=!0,Ht(n,r)};Ae.times=Ae.mul=function(t){var e,r,n,i,a,o,l,u,f,d=this,p=d.constructor,v=d.d,m=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,r=d.e+t.e,u=v.length,f=m.length,u<f&&(a=v,v=m,m=a,o=u,u=f,f=o),a=[],o=u+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+m[n]*v[i-n-1]+e,a[i--]=l%cn|0,e=l/cn|0;a[i]=(a[i]+e)%cn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ar?Ht(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bo(t,0,Jf),e===void 0?e=n.rounding:bo(e,0,8),Ht(r,t+Vr(r)+1,e))};Ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=eu(n,!0):(bo(t,0,Jf),e===void 0?e=i.rounding:bo(e,0,8),n=Ht(new i(n),t+1,e),r=eu(n,!0,t+1)),r};Ae.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?eu(i):(bo(t,0,Jf),e===void 0?e=a.rounding:bo(e,0,8),n=Ht(new a(i),t+Vr(i)+1,e),r=eu(n.abs(),!1,t+Vr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Ht(new e(t),Vr(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,r,n,i,a,o,l=this,u=l.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(Pi);if(l=new u(l),!l.s){if(t.s<1)throw Error(ga+"Infinity");return l}if(l.eq(Pi))return l;if(n=u.precision,t.eq(Pi))return Ht(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=_7){for(i=new u(Pi),e=Math.ceil(n/Jt+4),ar=!1;r%2&&(i=i.times(l),bP(i.d,e)),r=ed(r/2),r!==0;)l=l.times(l),bP(l.d,e);return ar=!0,t.s<0?new u(Pi).div(i):Ht(i,n)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ar=!1,i=t.times(pp(l,n+f)),ar=!0,i=w7(i),i.s=a,i};Ae.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Vr(i),n=eu(i,r<=a.toExpNeg||r>=a.toExpPos)):(bo(t,1,Jf),e===void 0?e=a.rounding:bo(e,0,8),i=Ht(new a(i),t,e),r=Vr(i),n=eu(i,t<=r||r<=a.toExpNeg,t)),n};Ae.toSignificantDigits=Ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bo(t,1,Jf),e===void 0?e=n.rounding:bo(e,0,8)),Ht(new n(r),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vr(t),r=t.constructor;return eu(t,e<=r.toExpNeg||e>=r.toExpPos)};function b7(t,e){var r,n,i,a,o,l,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ar?Ht(e,p):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,l=f.length):(n=f,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,n=f,f=u,u=n),r=0;a;)r=(u[--a]=u[a]+f[a]+r)/cn|0,u[a]%=cn;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ar?Ht(e,p):e}function bo(t,e,r){if(t!==~~t||t<e||t>r)throw Error($c+t)}function uo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Jt-n.length,r&&(a+=ll(r)),a+=n;o=t[e],n=o+"",r=Jt-n.length,r&&(a+=ll(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ns=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%cn|0,o=a/cn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*cn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,u,f,d,p,v,m,b,w,A,S,O,I,R,k,L,P,M,j=n.constructor,z=n.s==i.s?1:-1,U=n.d,H=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(ga+"Division by zero");for(u=n.e-i.e,P=H.length,k=U.length,m=new j(z),b=m.d=[],f=0;H[f]==(U[f]||0);)++f;if(H[f]>(U[f]||0)&&--u,a==null?O=a=j.precision:o?O=a+(Vr(n)-Vr(i))+1:O=a,O<0)return new j(0);if(O=O/Jt+2|0,f=0,P==1)for(d=0,H=H[0],O++;(f<k||d)&&O--;f++)I=d*cn+(U[f]||0),b[f]=I/H|0,d=I%H|0;else{for(d=cn/(H[0]+1)|0,d>1&&(H=t(H,d),U=t(U,d),P=H.length,k=U.length),R=P,w=U.slice(0,P),A=w.length;A<P;)w[A++]=0;M=H.slice(),M.unshift(0),L=H[0],H[1]>=cn/2&&++L;do d=0,l=e(H,w,P,A),l<0?(S=w[0],P!=A&&(S=S*cn+(w[1]||0)),d=S/L|0,d>1?(d>=cn&&(d=cn-1),p=t(H,d),v=p.length,A=w.length,l=e(p,w,v,A),l==1&&(d--,r(p,P<v?M:H,v))):(d==0&&(l=d=1),p=H.slice()),v=p.length,v<A&&p.unshift(0),r(w,p,A),l==-1&&(A=w.length,l=e(H,w,P,A),l<1&&(d++,r(w,P<A?M:H,A))),A=w.length):l===0&&(d++,w=[0]),b[f++]=d,l&&w[0]?w[A++]=U[R]||0:(w=[U[R]],A=1);while((R++<k||w[0]!==void 0)&&O--)}return b[0]||b.shift(),m.e=u,Ht(m,o?a+Vr(m)+1:a)}})();function w7(t,e){var r,n,i,a,o,l,u=0,f=0,d=t.constructor,p=d.precision;if(Vr(t)>16)throw Error(_S+Vr(t));if(!t.s)return new d(Pi);for(ar=!1,l=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Oc(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Pi),d.precision=l;;){if(i=Ht(i.times(t),l),r=r.times(++u),o=a.plus(ns(i,r,l)),uo(o.d).slice(0,l)===uo(a.d).slice(0,l)){for(;f--;)a=Ht(a.times(a),l);return d.precision=p,e==null?(ar=!0,Ht(a,p)):a}a=o}}function Vr(t){for(var e=t.e*Jt,r=t.d[0];r>=10;r/=10)e++;return e}function J_(t,e,r){if(e>t.LN10.sd())throw ar=!0,r&&(t.precision=r),Error(ga+"LN10 precision limit exceeded");return Ht(new t(t.LN10),e)}function ll(t){for(var e="";t--;)e+="0";return e}function pp(t,e){var r,n,i,a,o,l,u,f,d,p=1,v=10,m=t,b=m.d,w=m.constructor,A=w.precision;if(m.s<1)throw Error(ga+(m.s?"NaN":"-Infinity"));if(m.eq(Pi))return new w(0);if(e==null?(ar=!1,f=A):f=e,m.eq(10))return e==null&&(ar=!0),J_(w,f);if(f+=v,w.precision=f,r=uo(b),n=r.charAt(0),a=Vr(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=uo(m.d),n=r.charAt(0),p++;a=Vr(m),n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1))}else return u=J_(w,f+2,A).times(a+""),m=pp(new w(n+"."+r.slice(1)),f-v).plus(u),w.precision=A,e==null?(ar=!0,Ht(m,A)):m;for(l=o=m=ns(m.minus(Pi),m.plus(Pi),f),d=Ht(m.times(m),f),i=3;;){if(o=Ht(o.times(d),f),u=l.plus(ns(o,new w(i),f)),uo(u.d).slice(0,f)===uo(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(J_(w,f+2,A).times(a+""))),l=ns(l,new w(p),f),w.precision=A,e==null?(ar=!0,Ht(l,A)):l;l=u,i+=2}}function _P(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=ed(r/Jt),t.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Jt;n<i;)t.d.push(+e.slice(n,n+=Jt));e=e.slice(n),n=Jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ar&&(t.e>Sv||t.e<-Sv))throw Error(_S+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ht(t,e,r){var n,i,a,o,l,u,f,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Jt,i=e,f=p[d=0];else{if(d=Math.ceil((n+1)/Jt),a=p.length,d>=a)return t;for(f=a=p[d],o=1;a>=10;a/=10)o++;n%=Jt,i=n-Jt+o}if(r!==void 0&&(a=Oc(10,o-i-1),l=f/a%10|0,u=e<0||p[d+1]!==void 0||f%a,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?f/Oc(10,o-i):0:p[d-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(a=Vr(t),p.length=1,e=e-a-1,p[0]=Oc(10,(Jt-e%Jt)%Jt),t.e=ed(-e/Jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=d,a=1,d--):(p.length=d+1,a=Oc(10,Jt-n),p[d]=i>0?(f/Oc(10,o-i)%Oc(10,i)|0)*a:0),u)for(;;)if(d==0){(p[0]+=a)==cn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=cn)break;p[d--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(ar&&(t.e>Sv||t.e<-Sv))throw Error(_S+Vr(t));return t}function E7(t,e){var r,n,i,a,o,l,u,f,d,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),ar?Ht(e,m):e;if(u=t.d,p=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(d=o<0,d?(r=u,o=-o,l=p.length):(r=p,n=f,l=u.length),i=Math.max(Math.ceil(m/Jt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}o=0}for(d&&(r=u,u=p,p=r,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=cn-1;--u[a],u[i]+=cn}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,ar?Ht(e,m):e):new v(0)}function eu(t,e,r){var n,i=Vr(t),a=uo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ll(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ll(-i-1)+a,r&&(n=r-o)>0&&(a+=ll(n))):i>=o?(a+=ll(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ll(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ll(n))),t.s<0?"-"+a:a}function bP(t,e){if(t.length>e)return t.length=e,!0}function A7(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($c+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return _P(o,a.toString())}else if(typeof a!="string")throw Error($c+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lle.test(a))_P(o,a);else throw Error($c+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=A7,i.config=i.set=cle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function cle(t){if(!t||typeof t!="object")throw Error(ga+"Object expected");var e,r,n,i=["precision",1,Jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(ed(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error($c+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($c+r+": "+n);return this}var bS=A7(sle);Pi=new bS(1);const Mt=bS;var ule=t=>t,S7={},T7=t=>t===S7,wP=t=>function e(){return arguments.length===0||arguments.length===1&&T7(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},C7=(t,e)=>t===1?e:wP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==S7).length;return a>=t?e(...n):C7(t-a,wP(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=n.map(d=>T7(d)?l.shift():d);return e(...f,...l)}))}),Ym=t=>C7(t.length,t),jw=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},fle=Ym((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),dle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ule;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},Lw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),I7=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var u;return o===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,r=t(...i)),r}};function O7(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function R7(t,e,r){for(var n=new Mt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Ym((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Ym((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Ym((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var P7=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},D7=(t,e,r)=>{if(t.lte(0))return new Mt(0);var n=O7(t.toNumber()),i=new Mt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Mt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return e?new Mt(u.toNumber()):new Mt(Math.ceil(u.toNumber()))},hle=(t,e,r)=>{var n=new Mt(1),i=new Mt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Mt(10).pow(O7(t)-1),i=new Mt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):r||(i=new Mt(Math.floor(t)));var o=Math.floor((e-1)/2),l=dle(fle(u=>i.add(new Mt(u-o).mul(n)).toNumber()),jw);return l(0,e)},N7=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var o=D7(new Mt(r).sub(e).div(n-1),i,a),l;e<=0&&r>=0?l=new Mt(0):(l=new Mt(e).add(r).div(2),l=l.sub(new Mt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Mt(r).sub(l).div(o).toNumber()),d=u+f+1;return d>n?N7(e,r,n,i,a+1):(d<n&&(f=r>0?f+(n-d):f,u=r>0?u:u+(n-d)),{step:o,tickMin:l.sub(new Mt(u).mul(o)),tickMax:l.add(new Mt(f).mul(o))})};function ple(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,l]=P7([e,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...jw(0,n-1).map(()=>1/0)]:[...jw(0,n-1).map(()=>-1/0),l];return e>r?Lw(u):u}if(o===l)return hle(o,n,i);var{step:f,tickMin:d,tickMax:p}=N7(o,l,a,i,0),v=R7(d,p.add(new Mt(.1).mul(f)),f);return e>r?Lw(v):v}function gle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=P7([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var l=Math.max(e,2),u=D7(new Mt(o).sub(a).div(l-1),i,0),f=[...R7(new Mt(a),new Mt(o),u),o];return i===!1&&(f=f.map(d=>Math.round(d))),r>n?Lw(f):f}var vle=I7(ple),mle=I7(gle),M7=t=>t.rootProps.maxBarSize,yle=t=>t.rootProps.barGap,k7=t=>t.rootProps.barCategoryGap,xle=t=>t.rootProps.barSize,Gp=t=>t.rootProps.stackOffset,wS=t=>t.options.chartName,ES=t=>t.rootProps.syncId,j7=t=>t.rootProps.syncMethod,AS=t=>t.options.eventEmitter,Ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},_le={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:Ko.reversed,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:Ko.type,unit:void 0},ble={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:Oi.type,unit:void 0},wle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ele={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:"category",unit:void 0},SS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?wle:_le,TS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ele:ble,Zm=t=>t.polarOptions,CS=re([vs,ms,Jr],xk),L7=re([Zm,CS],(t,e)=>{if(t!=null)return Fn(t.innerRadius,e,0)}),B7=re([Zm,CS],(t,e)=>{if(t!=null)return Fn(t.outerRadius,e,e*.8)}),Ale=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},U7=re([Zm],Ale);re([SS,U7],Qm);var F7=re([CS,L7,B7],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});re([TS,F7],Qm);var V7=re([ht,Zm,L7,B7,vs,ms],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=e;return{cx:Fn(o,i,i/2),cy:Fn(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),sr=(t,e)=>e,Wp=(t,e,r)=>r;function IS(t){return t?.id}var tn=t=>{var e=ht(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},td=t=>t.tooltip.settings.axisId,pn=t=>{var e=tn(t),r=td(t);return Kp(t,e,r)},z7=re([pn],t=>t?.dataKey);function H7(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var d=IS(l);f.forEach((p,v)=>{var m=a==null||i?v:String(Kt(p,a,null)),b=Kt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[d]:b}),o.set(m,w)})}}),Array.from(o.values())}function Jm(t){return t.stackId!=null&&t.dataKey!=null}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){Sle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sle(t,e,r){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bw=[0,"auto"],Ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$7=(t,e)=>t.cartesianAxis.xAxis[e],xs=(t,e)=>{var r=$7(t,e);return r??Ci},Ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Up},q7=(t,e)=>t.cartesianAxis.yAxis[e],_s=(t,e)=>{var r=q7(t,e);return r??Ii},Ile={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OS=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Ile},Tr=(t,e,r)=>{switch(e){case"xAxis":return xs(t,r);case"yAxis":return _s(t,r);case"zAxis":return OS(t,r);case"angleAxis":return SS(t,r);case"radiusAxis":return TS(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ole=(t,e,r)=>{switch(e){case"xAxis":return xs(t,r);case"yAxis":return _s(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Kp=(t,e,r)=>{switch(e){case"xAxis":return xs(t,r);case"yAxis":return _s(t,r);case"angleAxis":return SS(t,r);case"radiusAxis":return TS(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},G7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function RS(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var ey=t=>t.graphicalItems.cartesianItems,Rle=re([sr,Wp],RS),PS=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),Xp=re([ey,Tr,Rle],PS),W7=re([Xp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Jm)),K7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),X7=re([Xp],K7),DS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ple=re([Xp],DS),NS=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},MS=re([Ple,Xm],NS),kS=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Kt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Kt(i,n)}))):t.map(n=>({value:n})),ty=re([MS,Tr,Xp],kS);function Y7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function fu(t){return t.filter(e=>_o(e)||e instanceof Date).map(Number).filter(e=>ki(e)===!1)}function Dle(t,e,r){return!r||typeof e!="number"||ki(e)?[]:r.length?fu(r.flatMap(n=>{var i=Kt(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Li(a)||!Li(o)))return[e-a,e+o]})):[]}var Nle=re([W7,Xm,pn],H7),Q7=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,u=l.map(IS);return[o,{stackedData:Lne(t,u,r),graphicalItems:l}]}))},Uw=re([Nle,W7,Gp],Q7),Z7=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=zne(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Mle=re([Uw,Gl,sr],Z7),J7=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var l,u,f=(l=n[o.id])===null||l===void 0?void 0:l.filter(p=>Y7(i,p)),d=Kt(a,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:d,errorDomain:Dle(a,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Kt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),ry=t=>t.errorBars,ej=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>Y7(r,n));re([X7,ry,sr],ej);var kle=re([MS,Tr,X7,ry,sr],J7);function jle(t){var{value:e}=t;if(_o(e)||e instanceof Date)return e}var AP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=fu(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lle=(t,e,r)=>{var n=t.map(jle).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&f9(n))?Uk(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},jS=t=>{var e;if(t==null||!("domain"in t))return Bw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=fu(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Bw},Cv=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},tj=t=>t.referenceElements.dots,rd=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ble=re([tj,sr,Wp],rd),rj=t=>t.referenceElements.areas,Ule=re([rj,sr,Wp],rd),nj=t=>t.referenceElements.lines,Fle=re([nj,sr,Wp],rd),ij=(t,e)=>{var r=fu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Vle=re(Ble,sr,ij),aj=(t,e)=>{var r=fu(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zle=re([Ule,sr],aj),oj=(t,e)=>{var r=fu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hle=re(Fle,sr,oj),$le=re(Vle,Hle,zle,(t,e,r)=>Cv(t,r,e)),sj=re([Tr],jS),LS=(t,e,r,n,i,a,o)=>{var l=ale(e,t.allowDataOverflow);if(l!=null)return l;var u=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=u?Cv(r,i,AP(n)):Cv(i,AP(n));return ole(e,f,t.allowDataOverflow)},qle=re([Tr,sj,Mle,kle,$le,ht,sr],LS),Gle=[0,1],BS=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=t,f=zl(e,a);return f&&l==null?Uk(0,r.length):u==="category"?Lle(n,t,f):i==="expand"?Gle:o}},US=re([Tr,ht,MS,ty,Gp,sr,qle],BS),lj=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(kp(a));return l in jh?l:"point"}}},nd=re([Tr,ht,G7,wS,sr],lj);function Wle(t){if(t!=null){if(t in jh)return jh[t]();var e="scale".concat(kp(t));if(e in jh)return jh[e]()}}function FS(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Wle(e);if(i!=null){var a=i.domain(r).range(n);return Dne(a),a}}}var VS=(t,e,r)=>{var n=jS(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&kf(t))return vle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&kf(t))return mle(t,e.tickCount,e.allowDecimals)}},zS=re([US,Kp,nd],VS),HS=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&kf(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],l=r[r.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},Kle=re([Tr,US,zS,sr],HS),Xle=re(ty,Tr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(fu(t.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),cj=re(Xle,ht,k7,Jr,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Li(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Fn(r,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),Yle=(t,e)=>{var r=xs(t,e);return r==null||typeof r.padding!="string"?0:cj(t,"xAxis",e,r.padding)},Qle=(t,e)=>{var r=_s(t,e);return r==null||typeof r.padding!="string"?0:cj(t,"yAxis",e,r.padding)},Zle=re(xs,Yle,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Jle=re(_s,Qle,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),ece=re([Jr,Zle,Fm,Um,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),tce=re([Jr,ht,Jle,Fm,Um,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Yp=(t,e,r,n)=>{var i;switch(e){case"xAxis":return ece(t,r,n);case"yAxis":return tce(t,r,n);case"zAxis":return(i=OS(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return U7(t);case"radiusAxis":return F7(t,r);default:return}},uj=re([Tr,Yp],Qm),id=re([Tr,nd,Kle,uj],FS);re([Xp,ry,sr],ej);function fj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ny=(t,e)=>e,iy=(t,e,r)=>r,rce=re(Lm,ny,iy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(fj)),nce=re(Bm,ny,iy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(fj)),dj=(t,e)=>({width:t.width,height:e.height}),ice=(t,e)=>{var r=typeof e.width=="number"?e.width:Up;return{width:r,height:t.height}},hj=re(Jr,xs,dj),ace=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},oce=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},sce=re(ms,Jr,rce,ny,iy,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=dj(e,l);o==null&&(o=ace(e,n,t));var f=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),lce=re(vs,Jr,nce,ny,iy,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var u=ice(e,l);o==null&&(o=oce(e,n,t));var f=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),cce=(t,e)=>{var r=xs(t,e);if(r!=null)return sce(t,r.orientation,r.mirror)},uce=re([Jr,xs,cce,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),fce=(t,e)=>{var r=_s(t,e);if(r!=null)return lce(t,r.orientation,r.mirror)},dce=re([Jr,_s,fce,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),pj=re(Jr,_s,(t,e)=>{var r=typeof e.width=="number"?e.width:Up;return{width:r,height:t.height}}),SP=(t,e,r)=>{switch(e){case"xAxis":return hj(t,r).width;case"yAxis":return pj(t,r).height;default:return}},gj=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=zl(t,n),u=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&f9(u))return u}},$S=re([ht,ty,Tr,sr],gj),vj=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=zl(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},qS=re([ht,ty,Kp,sr],vj),TP=re([ht,Ole,nd,id,$S,qS,Yp,zS,sr],(t,e,r,n,i,a,o,l,u)=>{if(e==null)return null;var f=zl(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}),hce=(t,e,r,n,i,a,o,l,u)=>{if(!(e==null||n==null)){var f=zl(t,u),{type:d,ticks:p,tickCount:v}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=d==="category"&&n.bandwidth?n.bandwidth()/m:0;b=u==="angleAxis"&&a!=null&&a.length>=2?dn(a[0]-a[1])*2*b:b;var w=p||i;if(w){var A=w.map((S,O)=>{var I=o?o.indexOf(S):S;return{index:O,coordinate:n(I)+b,value:S,offset:b}});return A.filter(S=>!ki(S.coordinate))}return f&&l?l.map((S,O)=>({coordinate:n(S)+b,value:S,index:O,offset:b})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+b,value:S,offset:b})):n.domain().map((S,O)=>({coordinate:n(S)+b,value:o?o[S]:S,index:O,offset:b}))}},mj=re([ht,Kp,nd,id,zS,Yp,$S,qS,sr],hce),pce=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=zl(t,o),{tickCount:u}=e,f=0;return f=o==="angleAxis"&&n?.length>=2?dn(n[0]-n[1])*2*f:f,l&&a?a.map((d,p)=>({coordinate:r(d)+f,value:d,index:p,offset:f})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+f,value:d,offset:f})):r.domain().map((d,p)=>({coordinate:r(d)+f,value:i?i[d]:d,index:p,offset:f}))}},Nl=re([ht,Kp,id,Yp,$S,qS,sr],pce),Ml=re(Tr,id,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})}),gce=re([Tr,nd,US,uj],FS);re((t,e,r)=>OS(t,r),gce,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})});var vce=re([ht,Lm,Bm],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yj=t=>t.options.defaultTooltipEventType,xj=t=>t.options.validateTooltipEventTypes;function _j(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function GS(t,e){var r=yj(t),n=xj(t);return _j(e,r,n)}function mce(t){return Ie(e=>GS(e,t))}var bj=(t,e)=>{var r,n=Number(e);if(!(ki(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},yce=t=>t.tooltip.settings,pl={active:!1,index:null,dataKey:void 0,coordinate:void 0},xce={itemInteraction:{click:pl,hover:pl},axisInteraction:{click:pl,hover:pl},keyboardInteraction:pl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wj=Ui({name:"tooltip",initialState:xce,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=rs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:_ce,removeTooltipEntrySettings:bce,setTooltipSettingsState:wce,setActiveMouseOverItemIndex:Ej,mouseLeaveItem:Ece,mouseLeaveChart:Aj,setActiveClickItemIndex:Ace,setMouseOverAxisIndex:Sj,setMouseClickAxisIndex:Sce,setSyncInteraction:Fw,setKeyboardInteraction:Vw}=wj.actions,Tce=wj.reducer;function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){Cce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e,r){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ice(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rce(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Pce(t){return t.index!=null}var Tj=(t,e,r,n)=>{if(e==null)return pl;var i=Rce(t,e,r);if(i==null)return pl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Pce(i)){if(a)return ig(ig({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ig(ig({},pl),{},{coordinate:i.coordinate})},WS=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!Li(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},Cj=(t,e,r,n,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},Ij=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Qp=t=>t.options.tooltipPayloadSearcher,ad=t=>t.tooltip;function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){Dce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dce(t,e,r){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t,e){return t??e}var Oj=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=r,p=[];return t.reduce((v,m)=>{var b,{dataDefinedOnItem:w,settings:A}=m,S=kce(w,l),O=Array.isArray(S)?_k(S,f,d):S,I=(b=A?.dataKey)!==null&&b!==void 0?b:n,R=A?.nameKey,k;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?k=d9(O,n,i):k=a(O,e,u,R),Array.isArray(k))k.forEach(P=>{var M=OP(OP({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(fR({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:Kt(P.payload,P.dataKey),name:P.name}))});else{var L;v.push(fR({tooltipEntrySettings:A,dataKey:I,payload:k,value:Kt(k,I),name:(L=Kt(k,R))!==null&&L!==void 0?L:A?.name}))}return v},p)}},KS=re([pn,ht,G7,wS,tn],lj),jce=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lce=re([tn,td],RS),Zp=re([jce,pn,Lce],PS),Bce=re([Zp],t=>t.filter(Jm)),Uce=re([Zp],DS),od=re([Uce,Gl],NS),Fce=re([Bce,Gl,pn],H7),XS=re([od,pn,Zp],kS),Vce=re([pn],jS),zce=re([Zp],t=>t.filter(Jm)),Hce=re([Fce,zce,Gp],Q7),$ce=re([Hce,Gl,tn],Z7),qce=re([Zp],K7),Gce=re([od,pn,qce,ry,tn],J7),Wce=re([tj,tn,td],rd),Kce=re([Wce,tn],ij),Xce=re([rj,tn,td],rd),Yce=re([Xce,tn],aj),Qce=re([nj,tn,td],rd),Zce=re([Qce,tn],oj),Jce=re([Kce,Zce,Yce],Cv),eue=re([pn,Vce,$ce,Gce,Jce,ht,tn],LS),Rj=re([pn,ht,od,XS,Gp,tn,eue],BS),tue=re([Rj,pn,KS],VS),rue=re([pn,Rj,tue,tn],HS),Pj=t=>{var e=tn(t),r=td(t),n=!1;return Yp(t,e,r,n)},Dj=re([pn,Pj],Qm),Nj=re([pn,KS,rue,Dj],FS),nue=re([ht,XS,pn,tn],gj),iue=re([ht,XS,pn,tn],vj),aue=(t,e,r,n,i,a,o,l)=>{if(e){var{type:u}=e,f=zl(t,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?dn(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:n(v)+p,value:v,index:m,offset:p})):n.domain().map((v,m)=>({coordinate:n(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},bs=re([ht,pn,KS,Nj,Pj,nue,iue,tn],aue),YS=re([yj,xj,yce],(t,e,r)=>_j(r.shared,t,e)),Mj=t=>t.tooltip.settings.trigger,QS=t=>t.tooltip.settings.defaultIndex,ay=re([ad,YS,Mj,QS],Tj),kl=re([ay,od],WS),kj=re([bs,kl],bj),jj=re([ay],t=>{if(t)return t.dataKey}),Lj=re([ad,YS,Mj,QS],Ij),oue=re([vs,ms,ht,Jr,bs,QS,Lj,Qp],Cj),sue=re([ay,oue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),lue=re([ay],t=>t.active),cue=re([Lj,kl,Gl,z7,kj,Qp,YS],Oj),uue=re([cue],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){fue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fue(t,e,r){return(e=due(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function due(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pue=()=>Ie(pn),gue=()=>{var t=pue(),e=Ie(bs),r=Ie(Nj);return lp(PP(PP({},t),{},{scale:r}),e)},vue=()=>Ie(wS),ZS=(t,e)=>e,Bj=(t,e,r)=>r,JS=(t,e,r,n)=>n,mue=re(bs,t=>Pm(t,e=>e.coordinate)),eT=re([ad,ZS,Bj,JS],Tj),Uj=re([eT,od],WS),yue=(t,e,r)=>{if(e!=null){var n=ad(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Fj=re([ad,ZS,Bj,JS],Ij),Iv=re([vs,ms,ht,Jr,bs,JS,Fj,Qp],Cj),xue=re([eT,Iv],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Vj=re(bs,Uj,bj),_ue=re([Fj,Uj,Gl,z7,Vj,Qp,ZS],Oj),bue=re([eT],t=>({isActive:t.active,activeIndex:t.index})),wue=(t,e,r,n,i,a,o,l)=>{if(!(!t||!e||!n||!i||!a)){var u=Hne(t.chartX,t.chartY,e,r,l);if(u){var f=qne(u,e),d=Rne(f,o,a,n,i),p=$ne(e,a,d,u);return{activeIndex:String(d),activeCoordinate:p}}}};function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zw.apply(null,arguments)}function DP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ag(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(r),!0).forEach(function(n){Eue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eue(t,e,r){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aue(t){var e=Sue(t,"string");return typeof e=="symbol"?e:e+""}function Sue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:f}=t,d=e,p=r,v=n;if(!l||!d||f!=="ScatterChart"&&u!=="axis")return null;var m,b;if(f==="ScatterChart")m=d,b=qie;else if(f==="BarChart")m=Gie(o,d,i,a),b=kk;else if(o==="radial"){var{cx:w,cy:A,radius:S,startAngle:O,endAngle:I}=jk(d);m={cx:w,cy:A,startAngle:O,endAngle:I,innerRadius:S,outerRadius:S},b=Bk}else m={points:Sae(o,d,i)},b=XA;var R=typeof l=="object"&&"className"in l?l.className:void 0,k=ag(ag(ag(ag({stroke:"#ccc",pointerEvents:"none"},i),m),cr(l,!1)),{},{payload:p,payloadIndex:v,className:xt("recharts-tooltip-cursor",R)});return C.isValidElement(l)?C.cloneElement(l,k):C.createElement(b,k)}function Cue(t){var e=gue(),r=Tk(),n=Vm(),i=vue();return C.createElement(Tue,zw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var zj=C.createContext(null),Iue=()=>C.useContext(zj),eb={exports:{}},NP;function Oue(){return NP||(NP=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function a(u,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||u,v),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],m]:u._events[b].push(m):(u._events[b]=m,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,b=new Array(m);v<m;v++)b[v]=p[v].fn;return b},l.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,m,b){var w=r?r+f:f;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,O,I;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,p),!0;case 4:return A.fn.call(A.context,d,p,v),!0;case 5:return A.fn.call(A.context,d,p,v,m),!0;case 6:return A.fn.call(A.context,d,p,v,m,b),!0}for(I=1,O=new Array(S-1);I<S;I++)O[I-1]=arguments[I];A.fn.apply(A.context,O)}else{var R=A.length,k;for(I=0;I<R;I++)switch(A[I].once&&this.removeListener(f,A[I].fn,void 0,!0),S){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,d);break;case 3:A[I].fn.call(A[I].context,d,p);break;case 4:A[I].fn.call(A[I].context,d,p,v);break;default:if(!O)for(k=1,O=new Array(S-1);k<S;k++)O[k-1]=arguments[k];A[I].fn.apply(A[I].context,O)}}return!0},l.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var m=r?r+f:f;if(!this._events[m])return this;if(!d)return o(this,m),this;var b=this._events[m];if(b.fn)b.fn===d&&(!v||b.once)&&(!p||b.context===p)&&o(this,m);else{for(var w=0,A=[],S=b.length;w<S;w++)(b[w].fn!==d||v&&!b[w].once||p&&b[w].context!==p)&&A.push(b[w]);A.length?this._events[m]=A.length===1?A[0]:A:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(eb)),eb.exports}var Rue=Oue();const Pue=wo(Rue);var gp=new Pue,Hw="recharts.syncEvent.tooltip",MP="recharts.syncEvent.brush";function tT(t,e){if(e){var r=Number.parseInt(e,10);if(!ki(r))return t?.[r]}}var Due={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Hj=Ui({name:"options",initialState:Due,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Nue=Hj.reducer,{createEventEmitter:Mue}=Hj.actions;function kue(t){return t.tooltip.syncInteraction}var jue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$j=Ui({name:"chartData",initialState:jue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:kP,setDataStartEndIndexes:Lue,setComputedData:Vve}=$j.actions,Bue=$j.reducer,Uue=["x","y"];function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Fue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fue(t,e,r){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vue(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){if(t==null)return{};var r,n,i=$ue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $ue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qj=()=>{};function que(){var t=Ie(ES),e=Ie(AS),r=ur(),n=Ie(j7),i=Ie(bs),a=Vm(),o=qA(),l=Ie(u=>u.rootProps.className);C.useEffect(()=>{if(t==null)return qj;var u=(f,d,p)=>{if(e!==p&&t===f){if(n==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate){var m=d.payload.coordinate,{x:b,y:w}=m,A=Hue(m,Uue),S=Ac(Ac(Ac({},A),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),O=Ac(Ac({},d),{},{payload:Ac(Ac({},d.payload),{},{coordinate:S})});r(O)}else r(d);return}if(i!=null){var I;if(typeof n=="function"){var R={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(i,R);I=i[k]}else n==="value"&&(I=i.find(F=>String(F.value)===d.payload.label));var{coordinate:L}=d.payload;if(I==null||d.payload.active===!1||L==null||o==null){r(Fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:M}=L,j=Math.min(P,o.x+o.width),z=Math.min(M,o.y+o.height),U={x:a==="horizontal"?I.coordinate:j,y:a==="horizontal"?z:I.coordinate},H=Fw({active:d.payload.active,coordinate:U,dataKey:d.payload.dataKey,index:String(I.index),label:d.payload.label});r(H)}}};return gp.on(Hw,u),()=>{gp.off(Hw,u)}},[l,r,e,t,n,i,a,o])}function Gue(){var t=Ie(ES),e=Ie(AS),r=ur();C.useEffect(()=>{if(t==null)return qj;var n=(i,a,o)=>{e!==o&&t===i&&r(Lue(a))};return gp.on(MP,n),()=>{gp.off(MP,n)}},[r,e,t])}function Wue(){var t=ur();C.useEffect(()=>{t(Mue())},[t]),que(),Gue()}function Kue(t,e,r,n,i,a){var o=Ie(v=>yue(v,t,e)),l=Ie(AS),u=Ie(ES),f=Ie(j7),d=Ie(kue),p=d?.active;C.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=Fw({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});gp.emit(Hw,u,v,l)}},[p,r,o,i,n,l,u,f,a])}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){Xue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xue(t,e,r){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yue(t){var e=Que(t,"string");return typeof e=="symbol"?e:e+""}function Que(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zue(t){return t.dataKey}function Jue(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(Eie,e)}var UP=[],efe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oy(t){var e=Pn(t,efe),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:b,cursor:w,shared:A,trigger:S,defaultIndex:O,portal:I,axisId:R}=e,k=ur(),L=typeof O=="number"?String(O):O;C.useEffect(()=>{k(wce({shared:A,trigger:S,axisId:R,active:r,defaultIndex:L}))},[k,A,S,R,r,L]);var P=qA(),M=Rk(),j=mce(A),{activeIndex:z,isActive:U}=Ie(Pe=>bue(Pe,j,S,L)),H=Ie(Pe=>_ue(Pe,j,S,L)),F=Ie(Pe=>Vj(Pe,j,S,L)),pe=Ie(Pe=>xue(Pe,j,S,L)),_e=H,X=Iue(),ne=r??U,[de,we]=K9([_e,ne]),ke=j==="axis"?F:void 0;Kue(j,S,pe,ke,z,ne);var G=I??X;if(G==null)return null;var ee=_e??UP;ne||(ee=UP),l&&ee.length&&(ee=H9(_e.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||e.includeHidden)),d,Zue));var ye=ee.length>0,be=C.createElement(Rie,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:u,active:ne,coordinate:pe,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:P,wrapperStyle:b,lastBoundingBox:de,innerRef:we,hasPortalFromProps:!!I},Jue(o,BP(BP({},e),{},{payload:ee,label:ke,active:ne,coordinate:pe,accessibilityLayer:M})));return C.createElement(C.Fragment,null,v9.createPortal(be,G),ne&&C.createElement(Cue,{cursor:w,tooltipEventType:j,coordinate:pe,payload:_e,index:z}))}var tb={},rb={},nb={},FP;function tfe(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},p=()=>{f&&d(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{b(),o=void 0,l=null},A=()=>{d()},S=function(...O){if(i?.aborted)return;o=this,l=O;const I=v==null;m(),u&&I&&d()};return S.schedule=m,S.cancel=w,S.flush=A,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(nb)),nb}var VP;function rfe(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tfe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let d,p=null;const v=e.debounce(function(...w){d=n.apply(this,w),p=null},i,{edges:f}),m=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=n.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,w),d)},b=()=>(v.flush(),d);return m.cancel=v.cancel,m.flush=b,m}t.debounce=r})(rb)),rb}var zP;function nfe(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rfe();function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:l})}t.throttle=r})(tb)),tb}var ib,HP;function ife(){return HP||(HP=1,ib=nfe().throttle),ib}var afe=ife();const ofe=wo(afe);var $h=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ab(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){sfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sfe(t,e,r){return(e=lfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lfe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:p,className:v,onResize:m,style:b={}}=t,w=C.useRef(null),A=C.useRef();A.current=m,C.useImperativeHandle(e,()=>w.current);var[S,O]=C.useState({containerWidth:n.width,containerHeight:n.height}),I=C.useCallback((k,L)=>{O(P=>{var M=Math.round(k),j=Math.round(L);return P.containerWidth===M&&P.containerHeight===j?P:{containerWidth:M,containerHeight:j}})},[]);C.useEffect(()=>{var k=j=>{var z,{width:U,height:H}=j[0].contentRect;I(U,H),(z=A.current)===null||z===void 0||z.call(A,U,H)};d>0&&(k=ofe(k,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(k),{width:P,height:M}=w.current.getBoundingClientRect();return I(P,M),L.observe(w.current),()=>{L.disconnect()}},[I,d]);var R=C.useMemo(()=>{var{containerWidth:k,containerHeight:L}=S;if(k<0||L<0)return null;$h(Nc(i)||Nc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),$h(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Nc(i)?k:i,M=Nc(a)?L:a;return r&&r>0&&(P?M=P/r:M&&(P=M*r),u&&M>u&&(M=u)),$h(P>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,i,a,o,l,r),C.Children.map(f,j=>C.cloneElement(j,{width:P,height:M,style:ab({width:P,height:M},j.props.style)}))},[r,f,a,u,l,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:xt("recharts-responsive-container",v),style:ab(ab({},b),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},R))}),sd=t=>null;sd.displayName="Cell";function ufe(t,e,r){return(e=ffe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=dfe(t,"string");return typeof e=="symbol"?e:e+""}function dfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hfe{constructor(e){ufe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gfe(t,e,r){return(e=vfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vfe(t){var e=mfe(t,"string");return typeof e=="symbol"?e:e+""}function mfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yfe={cacheSize:2e3,enableCache:!0},Gj=pfe({},yfe),GP=new hfe(Gj.cacheSize),xfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WP="recharts_measurement_span";function _fe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var KP=(t,e)=>{try{var r=document.getElementById(WP);r||(r=document.createElement("span"),r.setAttribute("id",WP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xfe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},qh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hl.isSsr)return{width:0,height:0};if(!Gj.enableCache)return KP(e,r);var n=_fe(e,r),i=GP.get(n);if(i)return i;var a=KP(e,r);return GP.set(n,a),a},XP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Efe=Object.keys(Wj),cf="NaN";function Afe(t,e){return t*Wj[e]}class li{static parse(e){var r,[,n,i]=(r=wfe.exec(e))!==null&&r!==void 0?r:[];return new li(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,ki(e)&&(this.unit=""),r!==""&&!bfe.test(r)&&(this.num=NaN,this.unit=""),Efe.includes(r)&&(this.num=Afe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new li(NaN,""):new li(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new li(NaN,""):new li(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new li(NaN,""):new li(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new li(NaN,""):new li(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}function Kj(t){if(t.includes(cf))return cf;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=XP.exec(e))!==null&&r!==void 0?r:[],o=li.parse(n??""),l=li.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return cf;e=e.replace(XP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,v]=(f=YP.exec(e))!==null&&f!==void 0?f:[],m=li.parse(d??""),b=li.parse(v??""),w=p==="+"?m.add(b):m.subtract(b);if(w.isNaN())return cf;e=e.replace(YP,w.toString())}return e}var QP=/\(([^()]*)\)/;function Sfe(t){for(var e=t,r;(r=QP.exec(e))!=null;){var[,n]=r;e=e.replace(QP,Kj(n))}return e}function Tfe(t){var e=t.replace(/\s+/g,"");return e=Sfe(e),e=Kj(e),e}function Cfe(t){try{return Tfe(t)}catch{return cf}}function ob(t){var e=Cfe(t.slice(5,-1));return e===cf?"":e}var Ife=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ofe=["dx","dy","angle","className","breakAll"];function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$w.apply(null,arguments)}function ZP(t,e){if(t==null)return{};var r,n,i=Rfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Xj=/[ \f\n\r\t\v\u2028\u2029]+/,Yj=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];or(e)||(r?i=e.toString().split(""):i=e.toString().split(Xj));var a=i.map(l=>({word:l,width:qh(l,n).width})),o=r?0:qh(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Pfe=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=t,f=De(a),d=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((H,F)=>{var{word:pe,width:_e}=F,X=H[H.length-1];if(X&&(n==null||i||X.width+_e+r<Number(n)))X.words.push(pe),X.width+=_e+r;else{var ne={words:[pe],width:_e};H.push(ne)}return H},[])},v=p(e),m=z=>z.reduce((U,H)=>U.width>H.width?U:H);if(!f||i)return v;var b=v.length>a||m(v).width>Number(n);if(!b)return v;for(var w="…",A=z=>{var U=d.slice(0,z),H=Yj({breakAll:u,style:l,children:U+w}).wordsWithComputedWidth,F=p(H),pe=F.length>a||m(F).width>Number(n);return[pe,F]},S=0,O=d.length-1,I=0,R;S<=O&&I<=d.length-1;){var k=Math.floor((S+O)/2),L=k-1,[P,M]=A(L),[j]=A(k);if(!P&&!j&&(S=k+1),P&&j&&(O=k-1),!P&&j){R=M;break}I++}return R||v},JP=t=>{var e=or(t)?[]:t.toString().split(Xj);return[{words:e}]},Dfe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!Hl.isSsr){var l,u,f=Yj({breakAll:a,children:n,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;l=d,u=p}else return JP(n);return Pfe({breakAll:a,children:n,maxLines:o,style:i},l,u,e,r)}return JP(n)},eD="#808080",ly=C.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=eD}=t,d=ZP(t,Ife),p=C.useMemo(()=>Dfe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:m,angle:b,className:w,breakAll:A}=d,S=ZP(d,Ofe);if(!_o(r)||!_o(n)||p.length===0)return null;var O=r+(De(v)?v:0),I=n+(De(m)?m:0),R;switch(u){case"start":R=ob("calc(".concat(a,")"));break;case"middle":R=ob("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:R=ob("calc(".concat(p.length-1," * -").concat(i,")"));break}var k=[];if(o){var L=p[0].width,{width:P}=d;k.push("scale(".concat(De(P)?P/L:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(O,", ").concat(I,")")),k.length&&(S.transform=k.join(" ")),C.createElement("text",$w({},cr(S,!0),{ref:e,x:O,y:I,className:xt("recharts-text",w),textAnchor:l,fill:f.includes("url")?eD:f}),p.map((M,j)=>{var z=M.words.join(A?"":" ");return C.createElement("tspan",{x:O,dy:j===0?R:i,key:"".concat(z,"-").concat(j)},z)}))});ly.displayName="Text";var Nfe=["labelRef"];function Mfe(t,e){if(t==null)return{};var r,n,i=kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(r),!0).forEach(function(n){jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e,r){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lfe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xo.apply(null,arguments)}var Qj=C.createContext(null),Ufe=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return C.createElement(Qj.Provider,{value:o},a)},Zj=()=>{var t=C.useContext(Qj),e=qA();return t||e},Ffe=C.createContext(null),Vfe=()=>{var t=C.useContext(Ffe),e=Ie(V7);return t||e},zfe=t=>{var{value:e,formatter:r}=t,n=or(t.children)?e:t.children;return typeof r=="function"?r(n):n},rT=t=>t!=null&&typeof t=="function",Hfe=(t,e)=>{var r=dn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},$fe=(t,e,r,n,i)=>{var{offset:a,className:o}=t,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:p,endAngle:v,clockWise:m}=i,b=(f+d)/2,w=Hfe(p,v),A=w>=0?1:-1,S,O;switch(e){case"insideStart":S=p+A*a,O=m;break;case"insideEnd":S=v-A*a,O=!m;break;case"end":S=v+A*a,O=m;break;default:throw new Error("Unsupported position ".concat(e))}O=w<=0?O:!O;var I=Ur(l,u,b,S),R=Ur(l,u,b,S+(O?1:-1)*359),k="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(R.x,",").concat(R.y),L=or(t.id)?ap("recharts-radial-line-"):t.id;return C.createElement("text",Xo({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:L,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(L)},r))},qfe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(r==="outside"){var{x:d,y:p}=Ur(n,i,o+e,f);return{x:d,y:p,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:b}=Ur(n,i,v,f);return{x:m,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Jj=t=>"cx"in t&&De(t.cx),Gfe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Jj(r)&&(a=r);var{x:o,y:l,width:u,height:f}=e,d=f>=0?1:-1,p=d*n,v=d>0?"end":"start",m=d>0?"start":"end",b=u>=0?1:-1,w=b*n,A=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var O={x:o+u/2,y:l-d*n,textAnchor:"middle",verticalAnchor:v};return Ar(Ar({},O),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var I={x:o+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return Ar(Ar({},I),a?{height:Math.max(a.y+a.height-(l+f),0),width:u}:{})}if(i==="left"){var R={x:o-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Ar(Ar({},R),a?{width:Math.max(R.x-a.x,0),height:f}:{})}if(i==="right"){var k={x:o+u+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return Ar(Ar({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:f}:{})}var L=a?{width:u,height:f}:{};return i==="insideLeft"?Ar({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},L):i==="insideRight"?Ar({x:o+u-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideTop"?Ar({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:m},L):i==="insideBottom"?Ar({x:o+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},L):i==="insideTopLeft"?Ar({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},L):i==="insideTopRight"?Ar({x:o+u-w,y:l+p,textAnchor:A,verticalAnchor:m},L):i==="insideBottomLeft"?Ar({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},L):i==="insideBottomRight"?Ar({x:o+u-w,y:l+f-p,textAnchor:A,verticalAnchor:v},L):i&&typeof i=="object"&&(De(i.x)||Nc(i.x))&&(De(i.y)||Nc(i.y))?Ar({x:o+Fn(i.x,u),y:l+Fn(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):Ar({x:o+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Wfe={offset:5};function cl(t){var e=Pn(t,Wfe),{viewBox:r,position:n,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=e,d=Vfe(),p=Zj(),v=n==="center"?p:d??p,m=r||v;if(!m||or(i)&&or(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var b=Ar(Ar({},e),{},{viewBox:m});if(C.isValidElement(o)){var{labelRef:w}=b,A=Mfe(b,Nfe);return C.cloneElement(o,A)}var S;if(typeof o=="function"){if(S=C.createElement(o,b),C.isValidElement(S))return S}else S=zfe(e);var O=Jj(m),I=cr(e,!0);if(O&&(n==="insideStart"||n==="insideEnd"||n==="end"))return $fe(e,n,S,I,m);var R=O?qfe(m,e.offset,e.position):Gfe(e,m);return C.createElement(ly,Xo({ref:f,className:xt("recharts-label",l)},I,R,{breakAll:u}),S)}cl.displayName="Label";var Kfe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(cl,Xo({key:"label-implicit"},n)):_o(t)?C.createElement(cl,Xo({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===cl?C.cloneElement(t,Ar({key:"label-implicit"},n)):C.createElement(cl,Xo({key:"label-implicit",content:t},n)):rT(t)?C.createElement(cl,Xo({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(cl,Xo({},t,{key:"label-implicit"},n)):null};function Xfe(t){var{label:e}=t,r=Zj();return Kfe(e,r)||null}var sb={},lb={},rD;function Yfe(){return rD||(rD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(lb)),lb}var cb={},nD;function Qfe(){return nD||(nD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(cb)),cb}var iD;function Zfe(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yfe(),r=Qfe(),n=jA();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(sb)),sb}var ub,aD;function Jfe(){return aD||(aD=1,ub=Zfe().last),ub}var ede=Jfe();const tde=wo(ede);var rde=["valueAccessor"],nde=["dataKey","clockWise","id","textBreakAll"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(null,arguments)}function oD(t,e){if(t==null)return{};var r,n,i=ide(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ide(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ade=t=>Array.isArray(t.value)?tde(t.value):t.value,eL=C.createContext(void 0),tL=eL.Provider,rL=C.createContext(void 0),ode=rL.Provider;function sde(){return C.useContext(eL)}function lde(){return C.useContext(rL)}function Eg(t){var{valueAccessor:e=ade}=t,r=oD(t,rde),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,l=oD(r,nde),u=sde(),f=lde(),d=u||f;return!d||!d.length?null:C.createElement(Rn,{className:"recharts-label-list"},d.map((p,v)=>{var m,b=or(n)?e(p,v):Kt(p&&p.payload,n),w=or(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement(cl,Ov({},cr(p,!0),l,w,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Eg.displayName="LabelList";function nT(t){var{label:e}=t;return e?e===!0?C.createElement(Eg,{key:"labelList-implicit"}):C.isValidElement(e)||rT(e)?C.createElement(Eg,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(Eg,Ov({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qw.apply(null,arguments)}var nL=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=xt("recharts-dot",i);return e===+e&&r===+r&&n===+n?C.createElement("circle",qw({},Co(t),CA(t),{className:a,cx:e,cy:r,r:n})):null},iL=t=>t.graphicalItems.polarItems,cde=re([sr,Wp],RS),iT=re([iL,Tr,cde],PS),ude=re([iT],DS),aT=re([ude,xS],NS),fde=re([aT,Tr,iT],kS),dde=re([aT,Tr,iT],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=Kt(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:Kt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),sD=()=>{},hde=re([Tr,sj,sD,dde,sD,ht,sr],LS),aL=re([Tr,ht,aT,fde,Gp,sr,hde],BS),pde=re([aL,Tr,nd],VS);re([Tr,aL,pde,sr],HS);var gde={radiusAxis:{},angleAxis:{}},oL=Ui({name:"polarAxis",initialState:gde,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zve,removeRadiusAxis:Hve,addAngleAxis:$ve,removeAngleAxis:qve}=oL.actions,vde=oL.reducer;function lD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(r),!0).forEach(function(n){mde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mde(t,e,r){return(e=yde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yde(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _de=(t,e)=>e,oT=re([iL,_de],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),bde=[],sT=(t,e,r)=>r?.length===0?bde:r,sL=re([xS,oT,sT],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>cD(cD({},e.presentationProps),a.props))),i!=null)return i}}),wde=re([sL,oT,sT],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=Kt(n,e.nameKey,e.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:Qf(o,e.dataKey),color:l,payload:n,type:e.legendType}})}),Ede=re([sL,oT,sT,Jr],(t,e,r,n)=>{if(!(e==null||t==null))return _he({offset:n,pieSettings:e,displayedData:t,cells:r})}),fb={},uD;function Ade(){return uD||(uD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(fb)),fb}var db,fD;function Sde(){return fD||(fD=1,db=Ade().isPlainObject),db}var Tde=Sde();const Cde=wo(Tde);function dD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(r),!0).forEach(function(n){Ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rv.apply(null,arguments)}var pD=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Pde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dde=t=>{var e=Pn(t,Pde),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,v=C.useRef(),[m,b]=C.useState(-1),w=C.useRef(i),A=C.useRef(a),S=C.useRef(o),O=C.useRef(r),I=C.useRef(n),R=Vp(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var pe=v.current.getTotalLength();pe&&b(pe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=xt("recharts-trapezoid",l);if(!p)return C.createElement("g",null,C.createElement("path",Rv({},cr(e,!0),{className:k,d:pD(r,n,i,a,o)})));var L=w.current,P=A.current,M=S.current,j=O.current,z=I.current,U="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),F=Pk(["strokeDasharray"],f,u);return C.createElement(Fp,{animationId:R,key:R,canBegin:m>0,duration:f,easing:u,isActive:p,begin:d},pe=>{var _e=hr(L,i,pe),X=hr(P,a,pe),ne=hr(M,o,pe),de=hr(j,r,pe),we=hr(z,n,pe);v.current&&(w.current=_e,A.current=X,S.current=ne,O.current=de,I.current=we);var ke=pe>0?{transition:F,strokeDasharray:H}:{strokeDasharray:U};return C.createElement("path",Rv({},cr(e,!0),{className:k,d:pD(de,we,_e,X,ne),ref:v,style:hD(hD({},ke),e.style)}))})},Nde=["option","shapeType","propTransformer","activeClassName","isActive"];function Mde(t,e){if(t==null)return{};var r,n,i=kde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jde(t,e,r){return(e=Lde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ude(t,e){return Pv(Pv({},e),t)}function Fde(t,e){return t==="symbols"}function vD(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(kk,r);case"trapezoid":return C.createElement(Dde,r);case"sector":return C.createElement(Bk,r);case"symbols":if(Fde(e))return C.createElement(NA,r);break;default:return null}}function Vde(t){return C.isValidElement(t)?t.props:t}function lL(t){var{option:e,shapeType:r,propTransformer:n=Ude,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Mde(t,Nde),l;if(C.isValidElement(e))l=C.cloneElement(e,Pv(Pv({},o),Vde(e)));else if(typeof e=="function")l=e(o);else if(Cde(e)&&typeof e!="boolean"){var u=n(e,o);l=C.createElement(vD,{shapeType:r,elementProps:u})}else{var f=o;l=C.createElement(vD,{shapeType:r,elementProps:f})}return a?C.createElement(Rn,{className:i},l):l}var lT=(t,e)=>{var r=ur();return(n,i)=>a=>{t?.(n,i,a),r(Ej({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},cT=t=>{var e=ur();return(r,n)=>i=>{t?.(r,n,i),e(Ece())}},uT=(t,e)=>{var r=ur();return(n,i)=>a=>{t?.(n,i,a),r(Ace({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function fT(t){var{fn:e,args:r}=t,n=ur(),i=vi();return C.useEffect(()=>{if(!i){var a=e(r);return n(_ce(a)),()=>{n(bce(a))}}},[e,r,n,i]),null}var cL=()=>{};function uL(t){var{legendPayload:e}=t,r=ur(),n=vi();return C.useEffect(()=>n?cL:(r(Ik(e)),()=>{r(Ok(e))}),[r,n,e]),null}function zde(t){var{legendPayload:e}=t,r=ur(),n=Ie(ht);return C.useEffect(()=>n!=="centric"&&n!=="radial"?cL:(r(Ik(e)),()=>{r(Ok(e))}),[r,n,e]),null}var hb,Hde=()=>{var[t]=C.useState(()=>ap("uid-"));return t},$de=(hb=jU.useId)!==null&&hb!==void 0?hb:Hde;function qde(t,e){var r=$de();return e||(t?"".concat(t,"-").concat(r):r)}var Gde=C.createContext(void 0),dT=t=>{var{id:e,type:r,children:n}=t,i=qde("recharts-".concat(r),e);return C.createElement(Gde.Provider,{value:i},n(i))},Wde={cartesianItems:[],polarItems:[]},fL=Ui({name:"graphicalItems",initialState:Wde,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=rs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=rs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=rs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Kde,replaceCartesianGraphicalItem:Xde,removeCartesianGraphicalItem:Yde,addPolarGraphicalItem:Qde,removePolarGraphicalItem:Zde}=fL.actions,Jde=fL.reducer;function dL(t){var e=ur(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?e(Kde(t)):r.current!==t&&e(Xde({prev:r.current,next:t})),r.current=t},[e,t]),C.useEffect(()=>()=>{r.current&&(e(Yde(r.current)),r.current=null)},[e]),null}function ehe(t){var e=ur();return C.useEffect(()=>(e(Qde(t)),()=>{e(Zde(t))}),[e,t]),null}var the=["onMouseEnter","onClick","onMouseLeave"],rhe=["id"],nhe=["id"];function hT(t,e){if(t==null)return{};var r,n,i=ihe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ihe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(null,arguments)}function lhe(t){var e=C.useMemo(()=>IA(t.children,sd),[t.children]),r=Ie(n=>wde(n,t.id,e));return r==null?null:C.createElement(zde,{legendPayload:r})}function che(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:l,hide:u,tooltipType:f}=t;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:Qf(l,e),hide:u,type:f,color:o,unit:""}}}var uhe=(t,e)=>t>e?"start":t<e?"end":"middle",fhe=(t,e,r)=>Fn(typeof e=="function"?e(t):e,r,r*.8),dhe=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,l=xk(a,o),u=i+Fn(t.cx,a,a/2),f=n+Fn(t.cy,o,o/2),d=Fn(t.innerRadius,l,0),p=fhe(r,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:p,maxRadius:v}},hhe=(t,e)=>{var r=dn(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function phe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ghe=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=xt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(XA,jl({},e,{type:"linear",className:r}))},vhe=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=xt("recharts-pie-label-text",phe(t));return C.createElement(ly,jl({},e,{alignmentBaseline:"middle",className:i}),n)};function mhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var l=Co(r),u=cr(i,!1),f=cr(a,!1),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var b=(v.startAngle+v.endAngle)/2,w=Ur(v.cx,v.cy,v.outerRadius+d,b),A=nr(nr(nr(nr({},l),v),{},{stroke:"none"},u),{},{index:m,textAnchor:uhe(w.x,v.cx)},w),S=nr(nr(nr(nr({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[Ur(v.cx,v.cy,v.outerRadius,b),w],key:"line"});return C.createElement(Rn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&ghe(a,S),vhe(i,A,Kt(v,o)))});return C.createElement(Rn,{className:"recharts-pie-labels"},p)}function yhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(nT,{label:i}):C.createElement(mhe,{sectors:e,props:r,showLabels:n})}function xhe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=Ie(kl),{onMouseEnter:o,onClick:l,onMouseLeave:u}=i,f=hT(i,the),d=lT(o,i.dataKey),p=cT(u),v=uT(l,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((m,b)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=r&&String(b)===a,A=a?n:null,S=w?r:A,O=nr(nr({},m),{},{stroke:m.stroke,tabIndex:-1,[Ak]:b,[Sk]:i.dataKey});return C.createElement(Rn,jl({tabIndex:-1,className:"recharts-pie-sector"},jp(f,m,b),{onMouseEnter:d(m,b),onMouseLeave:p(m,b),onClick:v(m,b),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(b)}),C.createElement(lL,jl({option:S,isActive:w,shapeType:"sector"},O)))}))}function _he(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:d,tooltipType:p}=r,v=Math.abs(r.minAngle),m=hhe(l,u),b=Math.abs(m),w=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,A=n.filter(L=>Kt(L,f,0)!==0).length,S=(b>=360?A:A-1)*w,O=b-A*v-S,I=n.reduce((L,P)=>{var M=Kt(P,f,0);return L+(De(M)?M:0)},0),R;if(I>0){var k;R=n.map((L,P)=>{var M=Kt(L,f,0),j=Kt(L,d,P),z=dhe(r,a,L),U=(De(M)?M:0)/I,H,F=nr(nr({},L),i&&i[P]&&i[P].props);P?H=k.endAngle+dn(m)*w*(M!==0?1:0):H=l;var pe=H+dn(m)*((M!==0?v:0)+U*O),_e=(H+pe)/2,X=(z.innerRadius+z.outerRadius)/2,ne=[{name:j,value:M,payload:F,dataKey:f,type:p}],de=Ur(z.cx,z.cy,X,_e);return k=nr(nr(nr(nr({},r.presentationProps),{},{percent:U,cornerRadius:o,name:j,tooltipPayload:ne,midAngle:_e,middleRadius:X,tooltipPosition:de},F),z),{},{value:M,startAngle:H,endAngle:pe,payload:F,paddingAngle:dn(m)*w}),k})}return R}function bhe(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return C.createElement(ode,{value:e?i:void 0},n)}function whe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:f,onAnimationStart:d,onAnimationEnd:p}=e,v=Vp(e,"recharts-pie-"),m=r.current,[b,w]=C.useState(!1),A=C.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=C.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return C.createElement(bhe,{showLabels:!b,sectors:n},C.createElement(Fp,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:A,key:v},O=>{var I=[],R=n&&n[0],k=R?.startAngle;return n?.forEach((L,P)=>{var M=m&&m[P],j=P>0?Qc(L,"paddingAngle",0):0;if(M){var z=hr(M.endAngle-M.startAngle,L.endAngle-L.startAngle,O),U=nr(nr({},L),{},{startAngle:k+j,endAngle:k+z+j});I.push(U),k=U.endAngle}else{var{endAngle:H,startAngle:F}=L,pe=hr(0,H-F,O),_e=nr(nr({},L),{},{startAngle:k+j,endAngle:k+pe+j});I.push(_e),k=_e.endAngle}}),r.current=I,C.createElement(Rn,null,C.createElement(xhe,{sectors:I,activeShape:u,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(yhe,{showLabels:!b,sectors:n,props:e}),e.children)}var Ehe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Hl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ahe(t){var{id:e}=t,r=hT(t,rhe),{hide:n,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>IA(t.children,sd),[t.children]),l=Ie(d=>Ede(d,e,o)),u=C.useRef(null),f=xt("recharts-pie",i);return n||l==null?(u.current=null,C.createElement(Rn,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(fT,{fn:che,args:nr(nr({},t),{},{sectors:l})}),C.createElement(Rn,{tabIndex:a,className:f},C.createElement(whe,{props:nr(nr({},r),{},{sectors:l}),previousSectorsRef:u})))}function pT(t){var e=Pn(t,Ehe),{id:r}=e,n=hT(e,nhe),i=Co(n);return C.createElement(dT,{id:r,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(ehe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(lhe,jl({},n,{id:a})),C.createElement(Ahe,jl({},n,{id:a}))))}pT.displayName="Pie";function yD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(r),!0).forEach(function(n){She(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function She(t,e,r){return(e=The(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function The(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ihe={xAxis:{},yAxis:{},zAxis:{}},hL=Ui({name:"cartesianAxis",initialState:Ihe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=xD(xD({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ohe,removeXAxis:Rhe,addYAxis:Phe,removeYAxis:Dhe,addZAxis:Gve,removeZAxis:Wve,updateYAxisWidth:Nhe}=hL.actions,Mhe=hL.reducer,khe=re([Jr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),jhe=re([khe,vs,ms],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),gT=()=>Ie(jhe),Lhe=()=>Ie(uue);function _D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(r),!0).forEach(function(n){Bhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bhe(t,e,r){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uhe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=bD(bD({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},cr(i,!1)),CA(i)),l;return C.isValidElement(i)?l=C.cloneElement(i,o):typeof i=="function"?l=i(o):l=C.createElement(nL,o),C.createElement(Rn,{className:"recharts-active-dot"},l)};function zhe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=Ie(kl),o=Lhe();if(e==null||o==null)return null;var l=e.find(u=>o.includes(u.payload));return or(l)?null:Vhe({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Hhe="Invariant failed";function $he(t,e){throw new Error(Hhe)}var qhe=["x","y"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(null,arguments)}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){Ghe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ghe(t,e,r){return(e=Whe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Whe(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xhe(t,e){if(t==null)return{};var r,n,i=Yhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Qhe(t,e){var{x:r,y:n}=t,i=Xhe(t,qhe),a="".concat(r),o=parseInt(a,10),l="".concat(n),u=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Ah(Ah(Ah(Ah(Ah({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function vT(t){return C.createElement(lL,Gw({shapeType:"rectangle",propTransformer:Qhe,activeClassName:"recharts-active-bar"},t))}var Zhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(De(e))return e;var a=De(n)||or(n);return a?e(n,i):(a||$he(),r)}},Jhe={},pL=Ui({name:"errorBars",initialState:Jhe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Kve,replaceErrorBar:Xve,removeErrorBar:Yve}=pL.actions,epe=pL.reducer,tpe=["children"];function rpe(t,e){if(t==null)return{};var r,n,i=npe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function npe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ipe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ape=C.createContext(ipe);function gL(t){var{children:e}=t,r=rpe(t,tpe);return C.createElement(ape.Provider,{value:r},e)}function mT(t,e){var r,n,i=Ie(f=>xs(f,t)),a=Ie(f=>_s(f,e)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Ci.allowDataOverflow,l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Ii.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function vL(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=gT(),{needClipX:a,needClipY:o,needClip:l}=mT(e,r);if(!l)return null;var{x:u,y:f,width:d,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:a?u:u-d/2,y:o?f:f-p/2,width:a?d:d*2,height:o?p:p*2}))}var ope=["onMouseEnter","onMouseLeave","onClick"],spe=["value","background","tooltipPosition"],lpe=["id"],cpe=["onMouseEnter","onClick","onMouseLeave"];function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ll.apply(null,arguments)}function ED(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(r),!0).forEach(function(n){upe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function upe(t,e,r){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fpe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:e+""}function dpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dv(t,e){if(t==null)return{};var r,n,i=hpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ppe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Qf(r,e),payload:t}]};function gpe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Qf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function vpe(t){var e=Ie(kl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,f=Dv(a,ope),d=lT(o,n),p=cT(l),v=uT(u,n);if(!i||r==null)return null;var m=cr(i,!1);return C.createElement(C.Fragment,null,r.map((b,w)=>{var{value:A,background:S,tooltipPosition:O}=b,I=Dv(b,spe);if(!S)return null;var R=d(b,w),k=p(b,w),L=v(b,w),P=Yn(Yn(Yn(Yn(Yn({option:i,isActive:String(w)===e},I),{},{fill:"#eee"},S),m),jp(f,b,w)),{},{onMouseEnter:R,onMouseLeave:k,onClick:L,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(vT,Ll({key:"background-bar-".concat(P.index)},P))}))}function mpe(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Yn(Yn({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(tL,{value:e?i:void 0},r)}function ype(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=t,l=Ie(kl),u=Ie(jj),f=r&&String(a)===l&&(u==null||o===u),d=f?r:e;return C.createElement(vT,Ll({},n,i,{isActive:f,option:d,index:a,dataKey:o}))}function xpe(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return C.createElement(vT,Ll({},r,n,{isActive:!1,option:e,index:i,dataKey:a}))}function _pe(t){var{data:e,props:r}=t,n=Co(r),{id:i}=n,a=Dv(n,lpe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:f,onClick:d,onMouseLeave:p}=r,v=Dv(r,cpe),m=lT(f,l),b=cT(p),w=uT(d,l);return e?C.createElement(C.Fragment,null,e.map((A,S)=>C.createElement(Rn,Ll({className:"recharts-bar-rectangle"},jp(v,A,S),{onMouseEnter:m(A,S),onMouseLeave:b(A,S),onClick:w(A,S),key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(S)}),u?C.createElement(ype,{shape:o,activeBar:u,baseProps:a,entry:A,index:S,dataKey:l}):C.createElement(xpe,{shape:o,baseProps:a,entry:A,index:S,dataKey:l})))):null}function bpe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,p=r.current,v=Vp(e,"recharts-bar-"),[m,b]=C.useState(!1),w=!m,A=C.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),S=C.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return C.createElement(mpe,{showLabels:w,rects:n},C.createElement(Fp,{animationId:v,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:A,onAnimationStart:S,key:v},O=>{var I=O===1?n:n?.map((R,k)=>{var L=p&&p[k];if(L)return Yn(Yn({},R),{},{x:hr(L.x,R.x,O),y:hr(L.y,R.y,O),width:hr(L.width,R.width,O),height:hr(L.height,R.height,O)});if(i==="horizontal"){var P=hr(0,R.height,O);return Yn(Yn({},R),{},{y:R.y+R.height-P,height:P})}var M=hr(0,R.width,O);return Yn(Yn({},R),{},{width:M})});return O>0&&(r.current=I??null),I==null?null:C.createElement(Rn,null,C.createElement(_pe,{props:e,data:I}))}),C.createElement(nT,{label:e.label}),e.children)}function wpe(t){var e=C.useRef(null);return C.createElement(bpe,{previousRectanglesRef:e,props:t})}var mL=0,Epe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Kt(t,e)}};class Ape extends C.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:f}=this.props;if(e||r==null)return null;var d=xt("recharts-bar",i),p=f;return C.createElement(Rn,{className:d,id:f},l&&C.createElement("defs",null,C.createElement(vL,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},C.createElement(vpe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),C.createElement(wpe,this.props)))}}var Spe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Hl.isSsr,legendType:"rect",minPointSize:mL,xAxisId:0,yAxisId:0};function Tpe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=mT(e,r),v=Vm(),m=vi(),b=IA(t.children,sd),w=Ie(O=>e0e(O,e,r,m,t.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=w?.[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,C.createElement(gL,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:Epe,errorBarOffset:A},C.createElement(Ape,Ll({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function Cpe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:p,offset:v,cells:m,parentViewBox:b}=t,w=e==="horizontal"?l:o,A=d?w.scale.domain():null,S=Une({numericAxis:w});return p.map((O,I)=>{var R,k,L,P,M,j;d?R=Nne(d[I],A):(R=Kt(O,r),Array.isArray(R)||(R=[S,R]));var z=Zhe(n,mL)(R[1],I);if(e==="horizontal"){var U,[H,F]=[l.scale(R[0]),l.scale(R[1])];k=lR({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:I}),L=(U=F??H)!==null&&U!==void 0?U:void 0,P=i.size;var pe=H-F;if(M=ki(pe)?0:pe,j={x:k,y:v.top,width:P,height:v.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var _e=dn(M||z)*(Math.abs(z)-Math.abs(M));L-=_e,M+=_e}}else{var[X,ne]=[o.scale(R[0]),o.scale(R[1])];if(k=X,L=lR({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:O,index:I}),P=ne-X,M=i.size,j={x:v.left,y:L,width:v.width,height:M},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var de=dn(P||z)*(Math.abs(z)-Math.abs(P));P+=de}}if(k==null||L==null||P==null||M==null)return null;var we=Yn(Yn({},O),{},{x:k,y:L,width:P,height:M,value:d?R:R[1],payload:O,background:j,tooltipPosition:{x:k+P/2,y:L+M/2},parentViewBox:b},m&&m[I]&&m[I].props);return we}).filter(Boolean)}function Ipe(t){var e=Pn(t,Spe),r=vi();return C.createElement(dT,{id:e.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(uL,{legendPayload:ppe(e)}),C.createElement(fT,{fn:gpe,args:e}),C.createElement(dL,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Bne(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Tpe,Ll({},e,{id:n}))))}var yL=C.memo(Ipe);yL.displayName="Bar";function AD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(r),!0).forEach(function(n){Ope(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ope(t,e,r){return(e=Rpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rpe(t){var e=Ppe(t,"string");return typeof e=="symbol"?e:e+""}function Ppe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dpe=(t,e)=>e,Npe=(t,e,r)=>r,Mpe=(t,e,r,n)=>n,kpe=(t,e,r,n,i)=>i,Jp=re([ey,kpe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),jpe=re([Jp],t=>t?.maxBarSize),Lpe=(t,e,r,n,i,a)=>a,SD=(t,e,r)=>{var n=r??t;if(!or(n))return Fn(n,e,0)},Bpe=re([ht,ey,Dpe,Npe,Mpe],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Upe=(t,e,r,n)=>{var i=ht(t);return i==="horizontal"?Uw(t,"yAxis",r,n):Uw(t,"xAxis",e,n)},Fpe=(t,e,r)=>{var n=ht(t);return n==="horizontal"?SP(t,"xAxis",e):SP(t,"yAxis",r)},Vpe=(t,e,r)=>{var n={},i=t.filter(Jm),a=t.filter(f=>f.stackId==null),o=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),n),l=Object.entries(o).map(f=>{var[d,p]=f,v=p.map(b=>b.dataKey),m=SD(e,r,p[0].barSize);return{stackId:d,dataKeys:v,barSize:m}}),u=a.map(f=>{var d=[f.dataKey].filter(v=>v!=null),p=SD(e,r,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...u]},zpe=re([Bpe,xle,Fpe],Vpe),Hpe=(t,e,r,n,i)=>{var a,o,l=Jp(t,e,r,n,i);if(l!=null){var u=ht(t),f=M7(t),{maxBarSize:d}=l,p=or(d)?f:d,v,m;return u==="horizontal"?(v=Ml(t,"xAxis",e,n),m=Nl(t,"xAxis",e,n)):(v=Ml(t,"yAxis",r,n),m=Nl(t,"yAxis",r,n)),(a=(o=lp(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},xL=(t,e,r,n)=>{var i=ht(t),a,o;return i==="horizontal"?(a=Ml(t,"xAxis",e,n),o=Nl(t,"xAxis",e,n)):(a=Ml(t,"yAxis",r,n),o=Nl(t,"yAxis",r,n)),lp(a,o)};function $pe(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=Fn(t,r,0,!0),l,u=[];if(Li(n[0].barSize)){var f=!1,d=r/a,p=n.reduce((S,O)=>S+(O.barSize||0),0);p+=(a-1)*o,p>=r&&(p-=(a-1)*o,o=0),p>=r&&d>0&&(f=!0,d*=.9,p=a*d);var v=(r-p)/2>>0,m={offset:v-o,size:0};l=n.reduce((S,O)=>{var I,R={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:m.offset+m.size+o,size:f?d:(I=O.barSize)!==null&&I!==void 0?I:0}},k=[...S,R];return m=k[k.length-1].position,k},u)}else{var b=Fn(e,r,0,!0);r-2*b-(a-1)*o<=0&&(o=0);var w=(r-2*b-(a-1)*o)/a;w>1&&(w>>=0);var A=Li(i)?Math.min(w,i):w;l=n.reduce((S,O,I)=>[...S,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b+(w+o)*I+(w-A)/2,size:A}}],u)}return l}}var qpe=(t,e,r,n,i,a,o)=>{var l=or(o)?e:o,u=$pe(r,n,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(f=>og(og({},f),{},{position:og(og({},f.position),{},{offset:f.position.offset-i/2})}))),u},Gpe=re([zpe,M7,yle,k7,Hpe,xL,jpe],qpe),Wpe=(t,e,r,n)=>Ml(t,"xAxis",e,n),Kpe=(t,e,r,n)=>Ml(t,"yAxis",r,n),Xpe=(t,e,r,n)=>Nl(t,"xAxis",e,n),Ype=(t,e,r,n)=>Nl(t,"yAxis",r,n),Qpe=re([Gpe,Jp],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Zpe=(t,e)=>{var r=IS(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Jpe=re([Upe,Jp],Zpe),e0e=re([Jr,$A,Wpe,Kpe,Xpe,Ype,Qpe,ht,Xm,xL,Jpe,Jp,Lpe],(t,e,r,n,i,a,o,l,u,f,d,p,v)=>{var{chartData:m,dataStartIndex:b,dataEndIndex:w}=u;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||f==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=m?.slice(b,w+1),S!=null)return Cpe({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:t,cells:v})}}),_L=t=>{var{chartData:e}=t,r=ur(),n=vi();return C.useEffect(()=>n?()=>{}:(r(kP(e)),()=>{r(kP(void 0))}),[e,r,n]),null},TD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bL=Ui({name:"brush",initialState:TD,reducers:{setBrushSettings(t,e){return e.payload==null?TD:e.payload}}}),{setBrushSettings:Qve}=bL.actions,t0e=bL.reducer;function r0e(t,e,r){return(e=n0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n0e(t){var e=i0e(t,"string");return typeof e=="symbol"?e:e+""}function i0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yT{static create(e){return new yT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}r0e(yT,"EPS",1e-4);function a0e(t){return(t%180+180)%180}var o0e=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=a0e(i),o=a*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},s0e={dots:[],areas:[],lines:[]},wL=Ui({name:"referenceElements",initialState:s0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=rs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=rs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=rs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:Zve,removeDot:Jve,addArea:eme,removeArea:tme,addLine:rme,removeLine:nme}=wL.actions,l0e=wL.reducer,c0e=C.createContext(void 0),u0e=t=>{var{children:e}=t,[r]=C.useState("".concat(ap("recharts"),"-clip")),n=gT();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return C.createElement(c0e.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function jf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function EL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function f0e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return o0e(n,r)}function d0e(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Nv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function h0e(t,e){return EL(t,e+1)}function p0e(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=e,u=0,f=1,d=o,p=function(){var b=n?.[u];if(b===void 0)return{v:EL(n,f)};var w=u,A,S=()=>(A===void 0&&(A=r(b,w)),A),O=b.coordinate,I=u===0||Nv(t,O,S,d,l);I||(u=0,d=o,f+=1),I&&(d=O+t*(S()/2+i),u+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function CD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(r),!0).forEach(function(n){g0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g0e(t,e,r){return(e=v0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v0e(t){var e=m0e(t,"string");return typeof e=="symbol"?e:e+""}function m0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y0e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=e,{end:u}=e,f=function(v){var m=a[v],b,w=()=>(b===void 0&&(b=r(m,v)),b);if(v===o-1){var A=t*(m.coordinate+t*w()/2-u);a[v]=m=kn(kn({},m),{},{tickCoord:A>0?m.coordinate-A*t:m.coordinate})}else a[v]=m=kn(kn({},m),{},{tickCoord:m.coordinate});var S=Nv(t,m.tickCoord,w,l,u);S&&(u=m.tickCoord-t*(w()/2+i),a[v]=kn(kn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function x0e(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:u,end:f}=e;if(a){var d=n[l-1],p=r(d,l-1),v=t*(d.coordinate+t*p/2-f);o[l-1]=d=kn(kn({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var m=Nv(t,d.tickCoord,()=>p,u,f);m&&(f=d.tickCoord-t*(p/2+i),o[l-1]=kn(kn({},d),{},{isShow:!0}))}for(var b=a?l-1:l,w=function(O){var I=o[O],R,k=()=>(R===void 0&&(R=r(I,O)),R);if(O===0){var L=t*(I.coordinate-t*k()/2-u);o[O]=I=kn(kn({},I),{},{tickCoord:L<0?I.coordinate-L*t:I.coordinate})}else o[O]=I=kn(kn({},I),{},{tickCoord:I.coordinate});var P=Nv(t,I.tickCoord,k,u,f);P&&(u=I.tickCoord+t*(k()/2+i),o[O]=kn(kn({},I),{},{isShow:!0}))},A=0;A<b;A++)w(A);return o}function xT(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!n)return[];if(De(u)||Hl.isSsr){var v;return(v=h0e(i,De(u)?u:0))!==null&&v!==void 0?v:[]}var m=[],b=l==="top"||l==="bottom"?"width":"height",w=d&&b==="width"?qh(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},A=(I,R)=>{var k=typeof f=="function"?f(I.value,R):I.value;return b==="width"?f0e(qh(k,{fontSize:e,letterSpacing:r}),w,p):qh(k,{fontSize:e,letterSpacing:r})[b]},S=i.length>=2?dn(i[1].coordinate-i[0].coordinate):1,O=d0e(a,S,b);return u==="equidistantPreserveStart"?p0e(S,O,A,i,o):(u==="preserveStart"||u==="preserveStartEnd"?m=x0e(S,O,A,i,o,u==="preserveStartEnd"):m=y0e(S,O,A,i,o),m.filter(I=>I.isShow))}var _0e=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=r?r.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(r?n:0);return Math.round(f)}return 0},b0e=["axisLine","width","height","className","hide","ticks"],w0e=["viewBox"],E0e=["viewBox"];function Ww(t,e){if(t==null)return{};var r,n,i=A0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function A0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(null,arguments)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){S0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S0e(t,e,r){return(e=T0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T0e(t){var e=C0e(t,"string");return typeof e=="symbol"?e:e+""}function C0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _T={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function I0e(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=Kr(Kr(Kr({},u),cr(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=Kr(Kr({},f),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Kr(Kr({},f),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return C.createElement("line",tu({},f,{className:xt("recharts-cartesian-axis-line",Qc(l,"className"))}))}function O0e(t,e,r,n,i,a,o,l,u){var f,d,p,v,m,b,w=l?-1:1,A=t.tickSize||o,S=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,v=r+ +!l*i,p=v-w*A,b=p-w*u,m=S;break;case"left":p=v=t.coordinate,d=e+ +!l*n,f=d-w*A,m=f-w*u,b=S;break;case"right":p=v=t.coordinate,d=e+ +l*n,f=d+w*A,m=f+w*u,b=S;break;default:f=d=t.coordinate,v=r+ +l*i,p=v+w*A,b=p+w*u,m=S;break}return{line:{x1:f,y1:p,x2:d,y2:v},tick:{x:m,y:b}}}function R0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function P0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function D0e(t){var{option:e,tickProps:r,value:n}=t,i,a=xt(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,Kr(Kr({},r),{},{className:a}));else if(typeof e=="function")i=e(Kr(Kr({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=xt(o,e?.className)),i=C.createElement(ly,tu({},r,{className:o}),n)}return i}function N0e(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:f,mirror:d,x:p,y:v,width:m,height:b,tickSize:w,tickMargin:A,fontSize:S,letterSpacing:O,getTicksConfig:I,events:R}=t,k=xT(Kr(Kr({},I),{},{ticks:e}),S,O),L=R0e(f,d),P=P0e(f,d),M=Co(I),j=cr(r,!1),z=Kr(Kr({},M),{},{fill:"none"},cr(n,!1)),U=k.map((H,F)=>{var{line:pe,tick:_e}=O0e(H,p,v,m,b,f,w,d,A),X=Kr(Kr(Kr(Kr({textAnchor:L,verticalAnchor:P},M),{},{stroke:"none",fill:i},j),_e),{},{index:F,payload:H,visibleTicksCount:k.length,tickFormatter:a,padding:l},u);return C.createElement(Rn,tu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},jp(R,H,F)),n&&C.createElement("line",tu({},z,pe,{className:xt("recharts-cartesian-axis-tick-line",Qc(n,"className"))})),r&&C.createElement(D0e,{option:r,tickProps:X,value:"".concat(typeof a=="function"?a(H.value,F):H.value).concat(o||"")}))});return U.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var M0e=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l}=t,u=Ww(t,b0e),[f,d]=C.useState(""),[p,v]=C.useState(""),m=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return _0e({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=C.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(A);var S=A[0];if(S){var O=window.getComputedStyle(S),I=O.fontSize,R=O.letterSpacing;(I!==f||R!==p)&&(d(I),v(R))}}},[f,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Rn,{className:xt("recharts-cartesian-axis",a),ref:b},C.createElement(I0e,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Co(t)}),C.createElement(N0e,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:u}),C.createElement(Ufe,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(Xfe,{label:t.label}),t.children))}),k0e=C.memo(M0e,(t,e)=>{var{viewBox:r}=t,n=Ww(t,w0e),{viewBox:i}=e,a=Ww(e,E0e);return jf(r,i)&&jf(n,a)}),bT=C.forwardRef((t,e)=>{var r=Pn(t,_T);return C.createElement(k0e,tu({},r,{ref:e}))});bT.displayName="CartesianAxis";var j0e=["x1","y1","x2","y2","key"],L0e=["offset"],B0e=["xAxisId","yAxisId"],U0e=["xAxisId","yAxisId"];function OD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(r),!0).forEach(function(n){F0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F0e(t,e,r){return(e=V0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V0e(t){var e=z0e(t,"string");return typeof e=="symbol"?e:e+""}function z0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(null,arguments)}function Mv(t,e){if(t==null)return{};var r,n,i=H0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function H0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var $0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=t;return C.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function AL(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:l}=e,u=Mv(e,j0e),f=Co(u),{offset:d}=f,p=Mv(f,L0e);r=C.createElement("line",jc({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function q0e(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Mv(t,B0e),u=i.map((f,d)=>{var p=Bn(Bn({},l),{},{x1:e,y1:f,x2:e+r,y2:f,key:"line-".concat(d),index:d});return AL(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function G0e(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Mv(t,U0e),u=i.map((f,d)=>{var p=Bn(Bn({},l),{},{x1:f,y1:e,x2:f,y2:e+r,key:"line-".concat(d),index:d});return AL(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function W0e(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function K0e(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%r.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var X0e=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return bk(xT(Bn(Bn(Bn({},_T),r),{},{ticks:wk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},Y0e=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return bk(xT(Bn(Bn(Bn({},_T),r),{},{ticks:wk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},Q0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wT(t){var e=GA(),r=WA(),n=Tk(),i=Bn(Bn({},Pn(t,Q0e)),{},{x:De(t.x)?t.x:n.left,y:De(t.y)?t.y:n.top,width:De(t.width)?t.width:n.width,height:De(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,b=vi(),w=Ie(j=>TP(j,"xAxis",a,b)),A=Ie(j=>TP(j,"yAxis",o,b));if(!De(f)||f<=0||!De(d)||d<=0||!De(l)||l!==+l||!De(u)||u!==+u)return null;var S=i.verticalCoordinatesGenerator||X0e,O=i.horizontalCoordinatesGenerator||Y0e,{horizontalPoints:I,verticalPoints:R}=i;if((!I||!I.length)&&typeof O=="function"){var k=v&&v.length,L=O({yAxis:A?Bn(Bn({},A),{},{ticks:k?v:A.ticks}):void 0,width:e,height:r,offset:n},k?!0:p);$h(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(I=L)}if((!R||!R.length)&&typeof S=="function"){var P=m&&m.length,M=S({xAxis:w?Bn(Bn({},w),{},{ticks:P?m:w.ticks}):void 0,width:e,height:r,offset:n},P?!0:p);$h(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(R=M)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement($0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(W0e,jc({},i,{horizontalPoints:I})),C.createElement(K0e,jc({},i,{verticalPoints:R})),C.createElement(q0e,jc({},i,{offset:n,horizontalPoints:I,xAxis:w,yAxis:A})),C.createElement(G0e,jc({},i,{offset:n,verticalPoints:R,xAxis:w,yAxis:A})))}wT.displayName="CartesianGrid";var SL=(t,e,r,n)=>Ml(t,"xAxis",e,n),TL=(t,e,r,n)=>Nl(t,"xAxis",e,n),CL=(t,e,r,n)=>Ml(t,"yAxis",r,n),IL=(t,e,r,n)=>Nl(t,"yAxis",r,n),Z0e=re([ht,SL,CL,TL,IL],(t,e,r,n,i)=>zl(t,"xAxis")?lp(e,n,!1):lp(r,i,!1)),J0e=(t,e,r,n,i)=>i;function e1e(t){return t.type==="line"}var t1e=re([ey,J0e],(t,e)=>t.filter(e1e).find(r=>r.id===e)),r1e=re([ht,SL,CL,TL,IL,t1e,Z0e,Xm],(t,e,r,n,i,a,o,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:d}=l;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=u?.slice(f,d+1),m!=null)return A1e({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),n1e=["id"],i1e=["type","layout","connectNulls","needClip"],a1e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function RD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(r),!0).forEach(function(n){o1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o1e(t,e,r){return(e=s1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ET(t,e){if(t==null)return{};var r,n,i=c1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ru.apply(null,arguments)}var u1e=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Qf(r,e),payload:t}]};function f1e(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:u}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Qf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var OL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function d1e(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var h1e=(t,e,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return OL(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,l=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>a){l=[...r.slice(0,u),a-f];break}var d=l.length%2===0?[0,o]:[o];return[...d1e(r,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function p1e(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=xt("recharts-line-dot",typeof t!="boolean"?t.className:"");r=C.createElement(nL,ru({},e,{className:n}))}return r}function g1e(t,e){return t==null?!1:e?!0:t.length===1}function v1e(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!g1e(r,i))return null;var{id:l}=n,u=ET(n,n1e),f=g9(i),d=Co(u),p=cr(i,!0),v=r.map((b,w)=>{var A=Ri(Ri(Ri({key:"dot-".concat(w),r:3},d),p),{},{index:w,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:r});return p1e(i,A)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Rn,ru({className:"recharts-line-dots",key:"dots"},m),v)}function m1e(t){var{showLabels:e,children:r,points:n}=t,i=C.useMemo(()=>n?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Ri(Ri({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(tL,{value:e?i:null},r)}function PD(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:u,needClip:f}=a,d=ET(a,i1e),p=Ri(Ri({},cr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(XA,ru({},p,{pathRef:r})),C.createElement(v1e,{points:n,clipPathId:e,props:a}))}function y1e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function x1e(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:v,width:m,height:b,onAnimationEnd:w,onAnimationStart:A}=r,S=i.current,O=Vp(r,"recharts-line-"),[I,R]=C.useState(!1),k=!I,L=C.useCallback(()=>{typeof w=="function"&&w(),R(!1)},[w]),P=C.useCallback(()=>{typeof A=="function"&&A(),R(!0)},[A]),M=y1e(n.current),j=a.current;return C.createElement(m1e,{points:o,showLabels:k},r.children,C.createElement(Fp,{animationId:O,begin:f,duration:d,isActive:u,easing:p,onAnimationEnd:L,onAnimationStart:P,key:O},z=>{var U=hr(j,M+j,z),H=Math.min(U,M),F;if(u)if(l){var pe="".concat(l).split(/[,\s]+/gim).map(ne=>parseFloat(ne));F=h1e(H,M,pe)}else F=OL(M,H);else F=l==null?void 0:String(l);if(S){var _e=S.length/o.length,X=z===1?o:o.map((ne,de)=>{var we=Math.floor(de*_e);if(S[we]){var ke=S[we];return Ri(Ri({},ne),{},{x:hr(ke.x,ne.x,z),y:hr(ke.y,ne.y,z)})}return v?Ri(Ri({},ne),{},{x:hr(m*2,ne.x,z),y:hr(b/2,ne.y,z)}):Ri(Ri({},ne),{},{x:ne.x,y:ne.y})});return i.current=X,C.createElement(PD,{props:r,points:X,clipPathId:e,pathRef:n,strokeDasharray:F})}return z>0&&M>0&&(i.current=o,a.current=H),C.createElement(PD,{props:r,points:o,clipPathId:e,pathRef:n,strokeDasharray:F})}),C.createElement(nT,{label:r.label}))}function _1e(t){var{clipPathId:e,props:r}=t,n=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(x1e,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var b1e=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Kt(t.payload,e)});class w1e extends C.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:l,top:u,left:f,width:d,height:p,id:v,needClip:m}=this.props;if(r)return null;var b=xt("recharts-line",a),w=v,{r:A=3,strokeWidth:S=2}=(e=cr(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},O=g9(n),I=A*2+S;return C.createElement(C.Fragment,null,C.createElement(Rn,{className:b},m&&C.createElement("defs",null,C.createElement(vL,{clipPathId:w,xAxisId:o,yAxisId:l}),!O&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:f-I/2,y:u-I/2,width:d+I,height:p+I}))),C.createElement(gL,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:b1e,errorBarOffset:0},C.createElement(_1e,{props:this.props,clipPathId:w}))),C.createElement(zhe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var RL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function E1e(t){var e=Pn(t,RL),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:f,isAnimationActive:d,label:p,legendType:v,xAxisId:m,yAxisId:b,id:w}=e,A=ET(e,a1e),{needClip:S}=mT(m,b),O=gT(),I=Vm(),R=vi(),k=Ie(z=>r1e(z,m,b,R,w));if(I!=="horizontal"&&I!=="vertical"||k==null||O==null)return null;var{height:L,width:P,x:M,y:j}=O;return C.createElement(w1e,ru({},A,{id:w,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:b,points:k,layout:I,height:L,width:P,left:M,top:j,needClip:S}))}function A1e(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=t;return u.map((f,d)=>{var p=Kt(f,o);if(e==="horizontal"){var v=sR({axis:r,ticks:i,bandSize:l,entry:f,index:d}),m=or(p)?null:n.scale(p);return{x:v,y:m,value:p,payload:f}}var b=or(p)?null:r.scale(p),w=sR({axis:n,ticks:a,bandSize:l,entry:f,index:d});return b==null||w==null?null:{x:b,y:w,value:p,payload:f}}).filter(Boolean)}function S1e(t){var e=Pn(t,RL),r=vi();return C.createElement(dT,{id:e.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(uL,{legendPayload:u1e(e)}),C.createElement(fT,{fn:f1e,args:e}),C.createElement(dL,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(E1e,ru({},e,{id:n}))))}var PL=C.memo(S1e);PL.displayName="Line";var T1e=["dangerouslySetInnerHTML","ticks"],C1e=["id"],I1e=["domain"],O1e=["domain"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(null,arguments)}function kv(t,e){if(t==null)return{};var r,n,i=R1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function R1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function P1e(t){var e=ur();return C.useEffect(()=>(e(Ohe(t)),()=>{e(Rhe(t))}),[t,e]),null}var D1e=t=>{var{xAxisId:e,className:r}=t,n=Ie($A),i=vi(),a="xAxis",o=Ie(A=>id(A,a,e,i)),l=Ie(A=>mj(A,a,e,i)),u=Ie(A=>hj(A,e)),f=Ie(A=>uce(A,e)),d=Ie(A=>$7(A,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=kv(t,T1e),{id:b}=d,w=kv(d,C1e);return C.createElement(bT,Kw({},m,w,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:xt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},N1e={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,height:Ci.height,hide:!1,mirror:Ci.mirror,orientation:Ci.orientation,padding:Ci.padding,reversed:Ci.reversed,scale:Ci.scale,tickCount:Ci.tickCount,type:Ci.type,xAxisId:0},M1e=t=>{var e,r,n,i,a,o=Pn(t,N1e);return C.createElement(C.Fragment,null,C.createElement(P1e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(D1e,o))},k1e=(t,e)=>{var{domain:r}=t,n=kv(t,I1e),{domain:i}=e,a=kv(e,O1e);return jf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:jf({domain:r},{domain:i}):!1},AT=C.memo(M1e,k1e);AT.displayName="XAxis";var j1e=["dangerouslySetInnerHTML","ticks"],L1e=["id"],B1e=["domain"],U1e=["domain"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xw.apply(null,arguments)}function jv(t,e){if(t==null)return{};var r,n,i=F1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function F1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function V1e(t){var e=ur();return C.useEffect(()=>(e(Phe(t)),()=>{e(Dhe(t))}),[t,e]),null}var z1e=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=C.useRef(null),o=C.useRef(null),l=Ie($A),u=vi(),f=ur(),d="yAxis",p=Ie(k=>id(k,d,e,u)),v=Ie(k=>pj(k,e)),m=Ie(k=>dce(k,e)),b=Ie(k=>mj(k,d,e,u)),w=Ie(k=>q7(k,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!v||rT(i)||C.isValidElement(i)||w==null)){var k=a.current;if(k){var L=k.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(Nhe({id:e,width:L}))}}},[b,v,f,i,e,n,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=t,O=jv(t,j1e),{id:I}=w,R=jv(w,L1e);return C.createElement(bT,Xw({},O,R,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:xt("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:b}))},H1e={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:Ii.allowDecimals,allowDuplicatedCategory:Ii.allowDuplicatedCategory,hide:!1,mirror:Ii.mirror,orientation:Ii.orientation,padding:Ii.padding,reversed:Ii.reversed,scale:Ii.scale,tickCount:Ii.tickCount,type:Ii.type,width:Ii.width,yAxisId:0},$1e=t=>{var e,r,n,i,a,o=Pn(t,H1e);return C.createElement(C.Fragment,null,C.createElement(V1e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(z1e,o))},q1e=(t,e)=>{var{domain:r}=t,n=jv(t,B1e),{domain:i}=e,a=jv(e,U1e);return jf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:jf({domain:r},{domain:i}):!1},ST=C.memo($1e,q1e);ST.displayName="YAxis";var pb={exports:{}},gb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD;function G1e(){if(DD)return gb;DD=1;var t=Bf();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(u,f,d,p,v){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=o(function(){function A(k){if(!S){if(S=!0,O=k,k=p(k),v!==void 0&&b.hasValue){var L=b.value;if(v(L,k))return I=L}return I=k}if(L=I,r(O,k))return L;var P=p(k);return v!==void 0&&v(L,P)?(O=k,L):(O=k,I=P)}var S=!1,O,I,R=d===void 0?null:d;return[function(){return A(f())},R===null?void 0:function(){return A(R())}]},[f,d,p,v]);var w=n(u,m[0],m[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},gb}var ND;function W1e(){return ND||(ND=1,pb.exports=G1e()),pb.exports}W1e();function K1e(t){t()}function X1e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){K1e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MD={notify(){},get:()=>[]};function Y1e(t,e){let r,n=MD,i=0,a=!1;function o(w){d();const A=n.subscribe(w);let S=!1;return()=>{S||(S=!0,A(),p())}}function l(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return a}function d(){i++,r||(r=t.subscribe(u),n=X1e())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=MD)}function v(){a||(a=!0,d())}function m(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>n};return b}var Q1e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z1e=Q1e(),J1e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ege=J1e(),tge=()=>Z1e||ege?C.useLayoutEffect:C.useEffect,rge=tge(),nge=Symbol.for("react-redux-context"),ige=typeof globalThis<"u"?globalThis:{};function age(){if(!C.createContext)return{};const t=ige[nge]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var oge=age();function sge(t){const{children:e,context:r,serverState:n,store:i}=t,a=C.useMemo(()=>{const u=Y1e(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=C.useMemo(()=>i.getState(),[i]);rge(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=r||oge;return C.createElement(l.Provider,{value:a},e)}var lge=sge,cge=(t,e)=>e,TT=re([cge,ht,V7,tn,Dj,bs,mue,Jr],wue),CT=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},DL=pa("mouseClick"),NL=Bp();NL.startListening({actionCreator:DL,effect:(t,e)=>{var r=t.payload,n=TT(e.getState(),CT(r));n?.activeIndex!=null&&e.dispatch(Sce({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Yw=pa("mouseMove"),ML=Bp();ML.startListening({actionCreator:Yw,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=GS(n,n.tooltip.settings.shared),a=TT(n,CT(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(Sj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Aj()))}});var kD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},kL=Ui({name:"rootProps",initialState:kD,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:kD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),uge=kL.reducer,{updateOptions:fge}=kL.actions,jL=Ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:dge}=jL.actions,hge=jL.reducer,LL=pa("keyDown"),BL=pa("focus"),IT=Bp();IT.startListening({actionCreator:LL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(WS(i,od(r))),l=bs(r);if(a==="Enter"){var u=Iv(r,"axis","hover",String(i.index));e.dispatch(Vw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=vce(r),d=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*d;if(!(l==null||v>=l.length||v<0)){var m=Iv(r,"axis","hover",String(v));e.dispatch(Vw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});IT.startListening({actionCreator:BL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Iv(r,"axis","hover",String(a));e.dispatch(Vw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ra=pa("externalEvent"),UL=Bp();UL.startListening({actionCreator:ra,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:sue(r),activeDataKey:jj(r),activeIndex:kl(r),activeLabel:kj(r),activeTooltipIndex:kl(r),isTooltipActive:lue(r)};t.payload.handler(n,t.payload.reactEvent)}}});var pge=re([ad],t=>t.tooltipItemPayloads),gge=re([pge,Qp,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),FL=pa("touchMove"),VL=Bp();VL.startListening({actionCreator:FL,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=GS(n,n.tooltip.settings.shared);if(i==="axis"){var a=TT(n,CT({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(Sj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Ak),d=(o=u.getAttribute(Sk))!==null&&o!==void 0?o:void 0,p=gge(e.getState(),f,d);e.dispatch(Ej({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var vge=Y9({brush:t0e,cartesianAxis:Mhe,chartData:Bue,errorBars:epe,graphicalItems:Jde,layout:mne,legend:sie,options:Nue,polarAxis:vde,polarOptions:hge,referenceElements:l0e,rootProps:uge,tooltip:Tce}),mge=function(e){return zre({reducer:vge,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([NL.middleware,ML.middleware,IT.middleware,UL.middleware,VL.middleware]),devTools:Hl.devToolsEnabled})};function zL(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=vi(),a=C.useRef(null);if(i)return r;a.current==null&&(a.current=mge(e));var o=BA;return C.createElement(lge,{context:o,store:a.current},r)}function HL(t){var{layout:e,width:r,height:n,margin:i}=t,a=ur(),o=vi();return C.useEffect(()=>{o||(a(pne(e)),a(gne({width:r,height:n})),a(hne(i)))},[a,o,e,r,n,i]),null}function $L(t){var e=ur();return C.useEffect(()=>{e(fge(t))},[e,t]),null}var yge=["children"];function xge(t,e){if(t==null)return{};var r,n,i=_ge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _ge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(null,arguments)}var bge={width:"100%",height:"100%"},wge=C.forwardRef((t,e)=>{var r=GA(),n=WA(),i=Rk();if(!Pf(r)||!Pf(n))return null;var{children:a,otherAttributes:o,title:l,desc:u}=t,f,d;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,C.createElement(OA,Lv({},o,{title:l,desc:u,role:d,tabIndex:f,width:r,height:n,style:bge,ref:e}),a)}),Ege=t=>{var{children:e}=t,r=Ie(Fm);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return C.createElement(OA,{width:n,height:i,x:o,y:a},e)},jD=C.forwardRef((t,e)=>{var{children:r}=t,n=xge(t,yge),i=vi();return i?C.createElement(Ege,null,r):C.createElement(wge,Lv({ref:e},n),r)});function Age(){var t=ur(),[e,r]=C.useState(null),n=Ie(Gne);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Li(a)&&a!==n&&t(vne(a))}},[e,t,n]),r}function LD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(r),!0).forEach(function(n){Tge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tge(t,e,r){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oge=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:b,onTouchStart:w,style:A,width:S}=t,O=ur(),[I,R]=C.useState(null),[k,L]=C.useState(null);Wue();var P=Age(),M=C.useCallback(ee=>{P(ee),typeof e=="function"&&e(ee),R(ee),L(ee)},[P,e,R,L]),j=C.useCallback(ee=>{O(DL(ee)),O(ra({handler:a,reactEvent:ee}))},[O,a]),z=C.useCallback(ee=>{O(Yw(ee)),O(ra({handler:f,reactEvent:ee}))},[O,f]),U=C.useCallback(ee=>{O(Aj()),O(ra({handler:d,reactEvent:ee}))},[O,d]),H=C.useCallback(ee=>{O(Yw(ee)),O(ra({handler:p,reactEvent:ee}))},[O,p]),F=C.useCallback(()=>{O(BL())},[O]),pe=C.useCallback(ee=>{O(LL(ee.key))},[O]),_e=C.useCallback(ee=>{O(ra({handler:o,reactEvent:ee}))},[O,o]),X=C.useCallback(ee=>{O(ra({handler:l,reactEvent:ee}))},[O,l]),ne=C.useCallback(ee=>{O(ra({handler:u,reactEvent:ee}))},[O,u]),de=C.useCallback(ee=>{O(ra({handler:v,reactEvent:ee}))},[O,v]),we=C.useCallback(ee=>{O(ra({handler:w,reactEvent:ee}))},[O,w]),ke=C.useCallback(ee=>{O(FL(ee)),O(ra({handler:b,reactEvent:ee}))},[O,b]),G=C.useCallback(ee=>{O(ra({handler:m,reactEvent:ee}))},[O,m]);return C.createElement(zj.Provider,{value:I},C.createElement(m9.Provider,{value:k},C.createElement("div",{className:xt("recharts-wrapper",n),style:Sge({position:"relative",cursor:"default",width:S,height:i},A),onClick:j,onContextMenu:_e,onDoubleClick:X,onFocus:F,onKeyDown:pe,onMouseDown:ne,onMouseEnter:z,onMouseLeave:U,onMouseMove:H,onMouseUp:de,onTouchEnd:G,onTouchMove:ke,onTouchStart:we,ref:M},r)))}),Rge=["children","className","width","height","style","compact","title","desc"];function Pge(t,e){if(t==null)return{};var r,n,i=Dge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qL=C.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:l,title:u,desc:f}=t,d=Pge(t,Rge),p=Co(d);return l?C.createElement(jD,{otherAttributes:p,title:u,desc:f},r):C.createElement(Oge,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(jD,{otherAttributes:p,title:u,desc:f,ref:e},C.createElement(u0e,null,r)))}),Nge=["width","height"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(null,arguments)}function Mge(t,e){if(t==null)return{};var r,n,i=kge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jge={top:5,right:5,bottom:5,left:5},Lge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jge,reverseStackOrder:!1,syncMethod:"index"},GL=C.forwardRef(function(e,r){var n,i=Pn(e.categoricalChartProps,Lge),{width:a,height:o}=i,l=Mge(i,Nge);if(!Pf(a)||!Pf(o))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(zL,{preloadedState:{options:m},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:u},C.createElement(_L,{chartData:v.data}),C.createElement(HL,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement($L,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(qL,Qw({},l,{width:a,height:o,ref:r})))}),Bge=["axis"],Uge=C.forwardRef((t,e)=>C.createElement(GL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bge,tooltipPayloadSearcher:tT,categoricalChartProps:t,ref:e})),Fge=["axis","item"],Vge=C.forwardRef((t,e)=>C.createElement(GL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fge,tooltipPayloadSearcher:tT,categoricalChartProps:t,ref:e}));function zge(t){var e=ur();return C.useEffect(()=>{e(dge(t))},[e,t]),null}var Hge=["width","height","layout"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(null,arguments)}function $ge(t,e){if(t==null)return{};var r,n,i=qge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Gge={top:5,right:5,bottom:5,left:5},Wge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gge,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Kge=C.forwardRef(function(e,r){var n,i=Pn(e.categoricalChartProps,Wge),{width:a,height:o,layout:l}=i,u=$ge(i,Hge);if(!Pf(a)||!Pf(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(zL,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},C.createElement(_L,{chartData:i.data}),C.createElement(HL,{width:a,height:o,layout:l,margin:i.margin}),C.createElement($L,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(zge,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(qL,Zw({width:a,height:o},u,{ref:r})))}),Xge=["item"],Yge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},WL=C.forwardRef((t,e)=>{var r=Pn(t,Yge);return C.createElement(Kge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xge,tooltipPayloadSearcher:tT,categoricalChartProps:r,ref:e})});const Qge=()=>{const{intakes:t}=Ao(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(d=>d.date.startsWith(l)).reduce((d,p)=>d+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),r=e.some(n=>n.calories>0);return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"📈 週間カロリー推移"}),r?x.jsx(sy,{width:"100%",height:250,children:x.jsxs(Uge,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[x.jsx(wT,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(AT,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),x.jsx(ST,{tick:{fontSize:12},stroke:"#9ca3af"}),x.jsx(oy,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),x.jsx(PL,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):x.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[x.jsx("p",{children:"データがありません"}),x.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},Zge=()=>{const{expenses:t}=So(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(n.getFullYear(),n.getMonth()-a,1),l=o.getFullYear(),u=o.getMonth()+1,d=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===u}).reduce((p,v)=>p+v.amount,0);i.push({month:`${u}月`,amount:d})}return i},[t]),r=e.some(n=>n.amount>0);return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"💰 月間支出推移"}),r?x.jsx(sy,{width:"100%",height:250,children:x.jsxs(Vge,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[x.jsx(wT,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),x.jsx(AT,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),x.jsx(ST,{tick:{fontSize:12},stroke:"#9ca3af"}),x.jsx(oy,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:n=>`¥${n.toLocaleString()}`}),x.jsx(yL,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):x.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[x.jsx("p",{children:"データがありません"}),x.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},Jge=()=>{const{intakes:t}=Ao(),e=C.useMemo(()=>{const r=new Map;return t.forEach(i=>{const a=r.get(i.name)||0;r.set(i.name,a+1)}),Array.from(r.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?x.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[x.jsx("p",{children:"データがありません"}),x.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):x.jsx("div",{style:{marginTop:"16px"},children:e.map(r=>x.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:r.rank<e.length?"1px solid var(--border)":"none"},children:[x.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:r.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":r.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":r.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:r.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:r.rank}),x.jsxs("div",{style:{flex:1,minWidth:0},children:[x.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name}),x.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",r.count,"回"]})]})]},r.rank))})]})},sg=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],eve=()=>{const{intakes:t}=Ao(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",u=i.get(l)||0;i.set(l,u+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),r=e.reduce((i,a)=>i+a.value,0),n=r>0;return x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"🏭 メーカー別支出分析"}),n?x.jsxs(x.Fragment,{children:[x.jsx(sy,{width:"100%",height:250,children:x.jsxs(WL,{children:[x.jsx(pT,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>x.jsx(sd,{fill:sg[a%sg.length]},`cell-${a}`))}),x.jsx(oy,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),x.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:sg[a%sg.length],flexShrink:0}}),x.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),x.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),x.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("span",{style:{fontWeight:600},children:"合計"}),x.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",r.toLocaleString()]})]})]}):x.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[x.jsx("p",{children:"データがありません"}),x.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},tve=()=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"📊 レポート"}),x.jsx(pee,{}),x.jsx(Qge,{}),x.jsx(Zge,{}),x.jsx(Jge,{}),x.jsx(eve,{})]}),KL=({selectedYear:t,selectedMonth:e,selectedDate:r,onSelectDate:n,onMonthChange:i,mode:a="month"})=>{const[o,l]=C.useState(t),[u,f]=C.useState(e),d=new Date(o,u,0).getDate(),p=new Date(o,u-1,1).getDay(),v=()=>{let R=u-1,k=o;R<1&&(R=12,k-=1),f(R),l(k),i&&i(k,R)},m=()=>{let R=u+1,k=o;R>12&&(R=1,k+=1),f(R),l(k),i&&i(k,R)},b=R=>{if(a==="date"&&n){const k=new Date(o,u-1,R);n(k)}},w=()=>{a==="month"&&i&&i(o,u)},A=R=>{const k=new Date;return k.getFullYear()===o&&k.getMonth()+1===u&&k.getDate()===R},S=R=>r?r.getFullYear()===o&&r.getMonth()+1===u&&r.getDate()===R:!1,O=[];for(let R=0;R<p;R++)O.push(null);for(let R=1;R<=d;R++)O.push(R);const I=["日","月","火","水","木","金","土"];return x.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[x.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:x.jsx(AF,{size:24})}),x.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&u===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&u===e?"white":"var(--text)"},children:[o,"年 ",u,"月"]}),x.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:x.jsx(ZD,{size:24})})]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:I.map((R,k)=>x.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:k===0?"#ef4444":k===6?"#3b82f6":"var(--text-secondary)"},children:R},k))}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:O.map((R,k)=>{if(R===null)return x.jsx("div",{},`empty-${k}`);const L=A(R),P=S(R),M=k%7;return x.jsx("button",{onClick:()=>b(R),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:L?"2px solid var(--primary)":"none",borderRadius:"8px",background:P?"var(--primary)":L?"var(--background)":"transparent",color:P?"white":M===0?"#ef4444":M===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:P||L?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:j=>{a==="date"&&!P&&(j.currentTarget.style.background="var(--background)")},onMouseLeave:j=>{a==="date"&&!P&&(j.currentTarget.style.background="transparent")},children:R},R)})}),a==="date"&&x.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:r?`選択: ${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`:"日付を選択してください"})]})},rve=({isOpen:t,selectedDate:e,onClose:r,onConfirm:n})=>{const[i,a]=Un.useState(e);if(Un.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{n(i),r()};return x.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:x.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[x.jsx("h3",{style:{margin:0},children:"日付を選択"}),x.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:x.jsx(yf,{size:24})})]}),x.jsx(KL,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),x.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[x.jsx("button",{onClick:r,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),x.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[x.jsx(EF,{size:20}),"決定"]})]})]})})},nve=()=>{const{addExpense:t}=So(),[e,r]=C.useState("food"),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,u]=C.useState(""),[f,d]=C.useState(new Date),[p,v]=C.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],b=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!n.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?n.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),u(""),i(""),alert("支出を記録しました！")},w=A=>`${A.getFullYear()}年${A.getMonth()+1}月${A.getDate()}日`;return x.jsxs("div",{className:"card",children:[x.jsx("label",{children:"日付"}),x.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[x.jsx("span",{children:w(f)}),x.jsx($v,{size:20,color:"var(--primary)"})]}),x.jsx("label",{children:"カテゴリ"}),x.jsx("select",{value:e,onChange:A=>r(A.target.value),children:m.map(A=>x.jsx("option",{value:A.value,children:A.label},A.value))}),e==="other"&&x.jsxs(x.Fragment,{children:[x.jsx("label",{children:"カスタムカテゴリ名"}),x.jsx("input",{value:n,onChange:A=>i(A.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),x.jsx("label",{children:"金額(円)"}),x.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:"1000",min:"0"}),x.jsx("label",{children:"メモ（任意）"}),x.jsx("input",{value:l,onChange:A=>u(A.target.value),placeholder:"例: 昼食"}),x.jsxs("button",{className:"submit",onClick:b,children:[x.jsx(Tg,{size:20}),"記録する"]}),x.jsx(rve,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:d})]})},OT=({isOpen:t,selectedYear:e,selectedMonth:r,onClose:n,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),n()};return x.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:x.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[x.jsx("h3",{style:{margin:0},children:"月を選択"}),x.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:x.jsx(yf,{size:24})})]}),x.jsx(KL,{selectedYear:e,selectedMonth:r,onMonthChange:a,mode:"month"}),x.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},ive=()=>{const{getTotalByMonth:t}=So(),{settings:e}=Yg(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),u=e.monthlyBudget??3e4,f=t(r,i),d=f/u*100,p=u-f,v=A=>new Intl.NumberFormat("ja-JP").format(A),b=d>=100?{color:"#ef4444",icon:x.jsx(YD,{size:24}),message:"予算超過"}:d>=80?{color:"#f59e0b",icon:x.jsx(KD,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:x.jsx(qv,{size:24}),message:"順調"},w=(A,S)=>{n(A),a(S)};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),x.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[x.jsxs("span",{children:[r,"年 ",i,"月"]}),x.jsx($v,{size:20,color:"var(--primary)"})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[x.jsx("div",{style:{color:b.color},children:b.icon}),x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{fontWeight:"bold",color:b.color},children:b.message}),x.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),x.jsx("div",{style:{textAlign:"right"},children:x.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:b.color},children:[d.toFixed(1),"%"]})})]}),x.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[x.jsx("div",{style:{background:`linear-gradient(90deg, ${b.color}, ${b.color}dd)`,height:"100%",width:`${Math.min(d,100)}%`,transition:"width 0.3s ease"}}),x.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:d>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(u)]})]}),x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[x.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[x.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),x.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),x.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[x.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),x.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(u)]})]})]}),x.jsx(OT,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},ol=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],BD=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],XL=t=>{if(!t)return ol[5];let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e),e=e&e;const r=Math.abs(e)%BD.length;return BD[r]},YL=t=>({food:ol[0],transport:ol[1],utilities:ol[2],entertainment:ol[3],health:ol[4],other:ol[5]})[t]||ol[5],ave=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=So(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),u=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(r,i),d=C.useMemo(()=>{const b=new Map;return u.forEach(w=>{const A=t(w.value,r,i);A>0&&b.set(w.value,{name:w.label,value:A,color:YL(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const A=`custom_${w.customCategory}`,S=b.get(A);S?S.value+=w.amount:b.set(A,{name:w.customCategory,value:w.amount,color:XL(w.customCategory)})}}),Array.from(b.values())},[r,i,f,t]),p=d.reduce((b,w)=>b+w.value,0),v=b=>new Intl.NumberFormat("ja-JP").format(b),m=(b,w)=>{n(b),a(w)};return x.jsxs("div",{className:"card",children:[x.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),x.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[x.jsxs("span",{children:[r,"年 ",i,"月"]}),x.jsx($v,{size:20,color:"var(--primary)"})]}),f.length===0?x.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[x.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),x.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(sy,{width:"100%",height:250,children:x.jsxs(WL,{children:[x.jsx(pT,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:b=>`${b.name}: ¥${v(b.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((b,w)=>x.jsx(sd,{fill:b.color},`cell-${w}`))}),x.jsx(oy,{formatter:b=>`¥${v(b)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),x.jsx(zm,{})]})}),x.jsx("div",{style:{marginTop:"20px"},children:d.map((b,w)=>{const A=(b.value/p*100).toFixed(1);return x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<d.length-1?"1px solid var(--border)":"none"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:b.color}}),x.jsx("span",{children:b.name})]}),x.jsxs("div",{style:{textAlign:"right"},children:[x.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(b.value)]}),x.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[A,"%"]})]})]},w)})})]})]}),x.jsx(OT,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},ove=()=>{const{deleteExpense:t,getExpensesByMonth:e}=So(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),u=e(r,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},d=A=>A.category==="other"&&A.customCategory?A.customCategory:f[A.category],p=A=>A.category==="other"&&A.customCategory?XL(A.customCategory):YL(A.category),v=A=>{window.confirm("この支出を削除しますか？")&&t(A)},m=A=>{const S=new Date(A);return`${S.getMonth()+1}/${S.getDate()}`},b=A=>new Intl.NumberFormat("ja-JP").format(A),w=(A,S)=>{n(A),a(S)};return x.jsxs("div",{className:"card",children:[x.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[x.jsxs("span",{children:[r,"年 ",i,"月"]}),x.jsx($v,{size:20,color:"var(--primary)"})]}),u.length===0?x.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):x.jsx("div",{className:"list",children:u.sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime()).map(A=>x.jsxs("div",{className:"list-item",children:[x.jsxs("div",{style:{flex:1},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[x.jsx("span",{style:{background:p(A),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:d(A)}),x.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(A.date)})]}),A.memo&&x.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:A.memo})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[x.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",b(A.amount)]}),x.jsx("button",{className:"delete",onClick:()=>v(A.id),style:{padding:"8px"},children:x.jsx(Uf,{size:20})})]})]},A.id))}),x.jsx(OT,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},sve=()=>x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"家計簿"}),x.jsx(ive,{}),x.jsx(nve,{}),x.jsx(ave,{}),x.jsx("h3",{children:"支出履歴"}),x.jsx(ove,{})]}),lve={streak:"🔥 連続記録",milestone:"📊 マイルストーン",goal:"🎯 目標達成",feature:"✨ 機能活用"};function cve(){const{badges:t,isUnlocked:e,getUnlockedCount:r,getTotalCount:n}=dA(),i=["streak","milestone","goal","feature"],a=o=>Qg.filter(l=>l.category===o);return x.jsxs("div",{className:"badge-list",children:[x.jsxs("div",{className:"badge-summary",children:[x.jsxs("h3",{children:["バッジコレクション"," ",x.jsxs("span",{className:"badge-count",children:[r()," / ",n()]})]}),x.jsx("div",{className:"progress-bar",children:x.jsx("div",{className:"progress-fill",style:{width:`${r()/n()*100}%`}})})]}),i.map(o=>{const l=a(o);return x.jsxs("div",{className:"badge-category",children:[x.jsx("h4",{className:"category-title",children:lve[o]}),x.jsx("div",{className:"badge-grid",children:l.map(u=>{const f=e(u.id),d=t.find(p=>p.id===u.id);return x.jsxs("div",{className:`badge-item ${f?"unlocked":"locked"}`,children:[x.jsx("div",{className:"badge-icon",children:f?u.icon:"🔒"}),x.jsxs("div",{className:"badge-info",children:[x.jsx("div",{className:"badge-name",children:u.name}),x.jsx("div",{className:"badge-description",children:u.description}),!f&&x.jsx("div",{className:"badge-requirement",children:u.requirement}),f&&d?.unlockedAt&&x.jsx("div",{className:"badge-unlocked-date",children:new Date(d.unlockedAt).toLocaleDateString("ja-JP")})]})]},u.id)})})]},o)})]})}function uve(){return x.jsxs("section",{className:"screen active",children:[x.jsx("h2",{children:"🏆 アチーブメント"}),x.jsx("div",{className:"card",children:x.jsx(cve,{})})]})}const fve=t=>{const e=/#[\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF]+/g,r=t.match(e);return r?r.map(n=>n.slice(1)):[]},Bv=t=>t?typeof t=="string"?t:t.toDate().toISOString():new Date().toISOString(),dve=async(t,e)=>{try{const r=await GM(t);if(!r)throw new Error("プロフィールが見つかりません");const n=[];if(e.images&&e.images.length>0)for(const u of e.images){const f=await qX(t,u);n.push(f)}const i=fve(e.content),a=dt(yt(Re,"posts")),o=a.id,l={id:o,content:e.content,images:n,authorId:t,authorName:r.displayName,authorAvatar:r.avatarUrl||"",likes:0,commentCount:0,repostCount:0,hashtags:i,visibility:e.visibility,createdAt:Oq()};return await su(a,l),console.log("投稿を作成しました:",o),o}catch(r){throw console.error("投稿の作成に失敗しました:",r),r}},QL=async t=>{try{const e=dt(Re,"posts",t),r=await qf(e);if(!r.exists())return null;const n=r.data();return{id:r.id,content:n.content,images:n.images||[],authorId:n.authorId,authorName:n.authorName,authorAvatar:n.authorAvatar||"",likes:n.likes||0,commentCount:n.commentCount||0,repostCount:n.repostCount||0,hashtags:n.hashtags||[],visibility:n.visibility,createdAt:Bv(n.createdAt),updatedAt:n.updatedAt?Bv(n.updatedAt):void 0}}catch(e){return console.error("投稿の取得に失敗しました:",e),null}},hve=async(t=20)=>{try{const e=yt(Re,"posts"),r=Fr(e,Tp("visibility","==","public"),fa("createdAt","desc"),Tq(t)),n=await pi(r),i=[];return n.forEach(a=>{const o=a.data();i.push({id:a.id,content:o.content,images:o.images||[],authorId:o.authorId,authorName:o.authorName,authorAvatar:o.authorAvatar||"",likes:o.likes||0,commentCount:o.commentCount||0,repostCount:o.repostCount||0,hashtags:o.hashtags||[],visibility:o.visibility,createdAt:Bv(o.createdAt),updatedAt:o.updatedAt?Bv(o.updatedAt):void 0})}),i}catch(e){return console.error("タイムラインの取得に失敗しました:",e),[]}},pve=async(t,e)=>{try{const r=await QL(t);if(!r)throw new Error("投稿が見つかりません");if(r.authorId!==e)throw new Error("自分の投稿のみ削除できます");const n=dt(Re,"posts",t);await da(n),console.log("投稿を削除しました:",t)}catch(r){throw console.error("投稿の削除に失敗しました:",r),r}},Jw=t=>{const e=new Date,r=new Date(t),n=e.getTime()-r.getTime(),i=Math.floor(n/6e4);return i<1?"たった今":i<60?`${i}分前`:i<1440?`${Math.floor(i/60)}時間前`:i<43200?`${Math.floor(i/1440)}日前`:r.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})},ZL=async(t,e,r,n)=>{try{const i=dt(yt(Re,`posts/${t}/likes`)),o={id:i.id,postId:t,userId:e,userName:r,userAvatar:n,createdAt:new Date().toISOString()};await su(i,o);const l=dt(Re,"posts",t);await Bi(l,{likes:Kf(1)}),console.log("いいねを追加しました")}catch(i){throw console.error("いいねの追加に失敗しました:",i),i}},JL=async(t,e)=>{try{const r=yt(Re,`posts/${t}/likes`),n=Fr(r,Tp("userId","==",e)),i=await pi(n);for(const o of i.docs)await da(o.ref);const a=dt(Re,"posts",t);await Bi(a,{likes:Kf(-1)}),console.log("いいねを削除しました")}catch(r){throw console.error("いいねの削除に失敗しました:",r),r}},eB=async(t,e)=>{try{const r=yt(Re,`posts/${t}/likes`),n=Fr(r,Tp("userId","==",e));return!(await pi(n)).empty}catch(r){return console.error("いいね確認に失敗しました:",r),!1}},gve=async(t,e,r,n,i)=>{try{const a=dt(yt(Re,`posts/${t}/comments`)),l={id:a.id,postId:t,userId:e,userName:r,userAvatar:i,content:n,createdAt:new Date().toISOString()};await su(a,l);const u=dt(Re,"posts",t);await Bi(u,{commentCount:Kf(1)}),console.log("コメントを追加しました")}catch(a){throw console.error("コメントの追加に失敗しました:",a),a}},vve=async(t,e,r)=>{try{const n=dt(Re,`posts/${t}/comments/${e}`),i=await qf(n);if(!i.exists())throw new Error("コメントが見つかりません");if(i.data().userId!==r)throw new Error("自分のコメントのみ削除できます");await da(n);const a=dt(Re,"posts",t);await Bi(a,{commentCount:Kf(-1)}),console.log("コメントを削除しました")}catch(n){throw console.error("コメントの削除に失敗しました:",n),n}},vb=async t=>{try{const e=yt(Re,`posts/${t}/comments`),r=Fr(e,fa("createdAt","asc")),n=await pi(r),i=[];return n.forEach(a=>{const o=a.data();i.push({id:a.id,postId:t,userId:o.userId,userName:o.userName,userAvatar:o.userAvatar,content:o.content,createdAt:o.createdAt,updatedAt:o.updatedAt})}),i}catch(e){return console.error("コメント一覧の取得に失敗しました:",e),[]}},mve=async(t,e)=>{try{const r=dt(Re,`users/${e}/bookmarks/${t}`),n={id:t,postId:t,userId:e,createdAt:new Date().toISOString()};await su(r,n),console.log("ブックマークを追加しました")}catch(r){throw console.error("ブックマークの追加に失敗しました:",r),r}},yve=async(t,e)=>{try{const r=dt(Re,`users/${e}/bookmarks/${t}`);await da(r),console.log("ブックマークを削除しました")}catch(r){throw console.error("ブックマークの削除に失敗しました:",r),r}},xve=async(t,e)=>{try{const r=dt(Re,`users/${e}/bookmarks/${t}`);return(await qf(r)).exists()}catch(r){return console.error("ブックマーク確認に失敗しました:",r),!1}},_ve=async(t,e,r,n)=>{try{const i=dt(yt(Re,`posts/${t}/reposts`)),o={id:i.id,postId:t,userId:e,userName:r,userAvatar:n,createdAt:new Date().toISOString()};await su(i,o);const l=dt(Re,"posts",t);await Bi(l,{repostCount:Kf(1)}),console.log("リポストを追加しました")}catch(i){throw console.error("リポストの追加に失敗しました:",i),i}},bve=async(t,e)=>{try{const r=yt(Re,`posts/${t}/reposts`),n=Fr(r,Tp("userId","==",e)),i=await pi(n);for(const o of i.docs)await da(o.ref);const a=dt(Re,"posts",t);await Bi(a,{repostCount:Kf(-1)}),console.log("リポストを削除しました")}catch(r){throw console.error("リポストの削除に失敗しました:",r),r}},wve=async(t,e)=>{try{const r=yt(Re,`posts/${t}/reposts`),n=Fr(r,Tp("userId","==",e));return!(await pi(n)).empty}catch(r){return console.error("リポスト確認に失敗しました:",r),!1}},Eve=({post:t,onPostClick:e})=>{const{user:r}=Np(),[n,i]=C.useState(!1),[a,o]=C.useState(!1),[l,u]=C.useState(!1),[f,d]=C.useState(t.likes),[p,v]=C.useState(t.repostCount),[m,b]=C.useState(!1);C.useEffect(()=>{(async()=>{if(r)try{const k=await eB(t.id,r.uid),L=await xve(t.id,r.uid),P=await wve(t.id,r.uid);i(k),o(L),u(P)}catch(k){console.error("ステータス確認エラー:",k)}})()},[t.id,r]);const w=async R=>{if(R.stopPropagation(),!(!r||m))try{b(!0),n?(await JL(t.id,r.uid),i(!1),d(Math.max(0,f-1))):(await ZL(t.id,r.uid,r.email?.split("@")[0]||"anonymous",void 0),i(!0),d(f+1))}catch(k){console.error("いいね操作エラー:",k),alert("いいね操作に失敗しました")}finally{b(!1)}},A=R=>{R.stopPropagation(),e(t.id)},S=async R=>{if(R.stopPropagation(),!(!r||m))try{b(!0),l?(await bve(t.id,r.uid),u(!1),v(Math.max(0,p-1))):(await _ve(t.id,r.uid,r.email?.split("@")[0]||"anonymous",void 0),u(!0),v(p+1))}catch(k){console.error("リポスト操作エラー:",k),alert("リポスト操作に失敗しました")}finally{b(!1)}},O=async R=>{if(R.stopPropagation(),!(!r||m))try{b(!0),a?(await yve(t.id,r.uid),o(!1)):(await mve(t.id,r.uid),o(!0))}catch(k){console.error("ブックマーク操作エラー:",k),alert("ブックマーク操作に失敗しました")}finally{b(!1)}},I=R=>{R.stopPropagation(),navigator.share?navigator.share({title:"投稿を共有",text:t.content}).catch(k=>console.log("Share cancelled:",k)):alert("この投稿をシェアしました！")};return x.jsxs("div",{className:"post-card",onClick:()=>e(t.id),style:{background:"var(--card)",borderRadius:"12px",padding:"16px",marginBottom:"12px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.authorAvatar?`url(${t.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),x.jsxs("div",{style:{flex:1,minWidth:0},children:[x.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.authorName}),x.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px"},children:Jw(t.createdAt)})]})]}),x.jsx("div",{style:{color:"var(--text)",fontSize:"15px",lineHeight:"1.5",marginBottom:t.images&&t.images.length>0?"12px":"16px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t.content}),t.images&&t.images.length>0&&x.jsx("div",{style:{display:"grid",gridTemplateColumns:t.images.length===1?"1fr":(t.images.length===2,"repeat(2, 1fr)"),gap:"8px",marginBottom:"16px"},children:t.images.map((R,k)=>x.jsx("div",{style:{width:"100%",paddingBottom:t.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"8px",overflow:"hidden",background:"var(--border)"},children:x.jsx("img",{src:R,alt:`投稿画像 ${k+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},k))}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",paddingTop:"12px",borderTop:"1px solid var(--border)"},children:[x.jsxs("button",{onClick:w,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:n?"#e91e63":"var(--text-secondary)",transition:"background 0.2s, color 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:[n?x.jsx(GD,{size:20}):x.jsx(qD,{size:20}),x.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:f})]}),x.jsxs("button",{onClick:A,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(33, 150, 243, 0.1)",R.currentTarget.style.color="#2196f3"},onMouseLeave:R=>{R.currentTarget.style.background="none",R.currentTarget.style.color="var(--text-secondary)"},children:[x.jsx(QD,{size:20}),x.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:t.commentCount})]}),x.jsxs("button",{onClick:S,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:l?"#4caf50":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:m?.6:1},onMouseEnter:R=>{R.currentTarget.style.background="rgba(76, 175, 80, 0.1)",l||(R.currentTarget.style.color="#4caf50")},onMouseLeave:R=>{R.currentTarget.style.background="none",l||(R.currentTarget.style.color="var(--text-secondary)")},children:[x.jsx(dF,{size:20}),x.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:p})]}),x.jsx("button",{onClick:O,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:a?"#ff9800":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:m?.6:1},onMouseEnter:R=>{R.currentTarget.style.background="rgba(255, 152, 0, 0.1)",a||(R.currentTarget.style.color="#ff9800")},onMouseLeave:R=>{R.currentTarget.style.background="none",a||(R.currentTarget.style.color="var(--text-secondary)")},children:a?x.jsx(nF,{size:20}):x.jsx(rF,{size:20})}),x.jsx("button",{onClick:I,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s",marginLeft:"auto"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(158, 158, 158, 0.1)"},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:x.jsx(CF,{size:20})})]})]})},al=280,lg=4,Ave=({onClose:t,onPostCreated:e})=>{const{user:r}=Np(),[n,i]=C.useState(""),[a,o]=C.useState([]),[l,u]=C.useState([]),[f,d]=C.useState("public"),[p,v]=C.useState(!1),[m,b]=C.useState(""),w=I=>{const R=Array.from(I.target.files||[]);if(R.length===0)return;if(a.length+R.length>lg){b(`画像は最大${lg}枚まで添付できます`);return}const k=[];R.forEach(L=>{const P=new FileReader;P.onloadend=()=>{k.push(P.result),k.length===R.length&&u([...l,...k])},P.readAsDataURL(L)}),o([...a,...R]),b("")},A=I=>{o(a.filter((R,k)=>k!==I)),u(l.filter((R,k)=>k!==I))},S=async()=>{if(!r){b("ログインしてください");return}if(!n.trim()){b("投稿内容を入力してください");return}if(n.length>al){b(`投稿は${al}文字以内で入力してください`);return}v(!0),b("");try{const I={content:n.trim(),images:a,visibility:f};await dve(r.uid,I),alert("投稿しました！"),e(),t()}catch(I){console.error("投稿の作成に失敗しました:",I),b("投稿の作成に失敗しました。もう一度お試しください。")}finally{v(!1)}},O=[{value:"public",label:"全体公開",icon:e5,description:"誰でも見られます"},{value:"followers",label:"フォロワー",icon:JD,description:"フォロワーのみ"},{value:"private",label:"非公開",icon:vl,description:"自分のみ"}];return x.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"16px"},onClick:t,children:x.jsxs("div",{style:{background:"var(--card)",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:I=>I.stopPropagation(),children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--border)"},children:[x.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:"投稿を作成"}),x.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="var(--border)"},onMouseLeave:I=>{I.currentTarget.style.background="none"},children:x.jsx(yf,{size:24})})]}),x.jsxs("div",{style:{padding:"20px"},children:[x.jsx("textarea",{value:n,onChange:I=>i(I.target.value),placeholder:"今何してる？",style:{width:"100%",minHeight:"120px",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"16px",color:"var(--text)",background:"var(--bg)",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"}}),x.jsxs("div",{style:{textAlign:"right",fontSize:"14px",color:n.length>al?"#f44336":"var(--text-secondary)",marginBottom:"16px"},children:[n.length," / ",al]}),l.length>0&&x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:l.map((I,R)=>x.jsxs("div",{style:{position:"relative",paddingBottom:"100%",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:[x.jsx("img",{src:I,alt:`プレビュー ${R+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),x.jsx("button",{onClick:()=>A(R),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0, 0, 0, 0.6)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:x.jsx(yf,{size:18})})]},R))}),a.length<lg&&x.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 16px",background:"var(--bg)",border:"2px solid var(--border)",borderRadius:"12px",cursor:"pointer",color:"var(--primary)",fontSize:"14px",fontWeight:500,marginBottom:"16px",transition:"background 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="var(--border)"},onMouseLeave:I=>{I.currentTarget.style.background="var(--bg)"},children:[x.jsx(bF,{size:20}),"画像を追加 (",a.length,"/",lg,")",x.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,style:{display:"none"}})]}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsx("label",{style:{display:"block",fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px",fontWeight:500},children:"公開範囲"}),x.jsx("select",{value:f,onChange:I=>d(I.target.value),style:{width:"100%",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"15px",color:"var(--text)",background:"var(--bg)",cursor:"pointer"},children:O.map(I=>x.jsxs("option",{value:I.value,children:[I.label," - ",I.description]},I.value))})]}),m&&x.jsx("div",{style:{padding:"12px",background:"#ffebee",color:"#c62828",borderRadius:"8px",fontSize:"14px",marginBottom:"16px"},children:m}),x.jsx("button",{onClick:S,disabled:p||!n.trim()||n.length>al,style:{width:"100%",padding:"14px",background:p||!n.trim()||n.length>al?"var(--border)":"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:600,cursor:p||!n.trim()||n.length>al?"not-allowed":"pointer",transition:"transform 0.2s"},onMouseEnter:I=>{!p&&n.trim()&&n.length<=al&&(I.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)"},children:p?"投稿中...":"投稿する"})]})]})})},Sve=({onPostClick:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,o]=C.useState(!1),l=async()=>{i(!0);try{const f=await hve(20);r(f)}catch(f){console.error("投稿の取得に失敗しました:",f)}finally{i(!1)}};C.useEffect(()=>{l()},[]);const u=()=>{l()};return x.jsxs("div",{style:{paddingBottom:"80px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[x.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:"タイムライン"}),x.jsxs("div",{style:{display:"flex",gap:"8px"},children:[x.jsx("button",{onClick:l,disabled:n,style:{background:"none",border:"none",cursor:n?"not-allowed":"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:f=>{n||(f.currentTarget.style.background="var(--border)")},onMouseLeave:f=>{f.currentTarget.style.background="none"},children:x.jsx(SF,{size:24})}),x.jsx("button",{onClick:()=>o(!0),style:{background:"linear-gradient(135deg, var(--primary), #81c784)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},children:x.jsx(Tg,{size:24})})]})]}),x.jsx("div",{style:{padding:"16px"},children:n?x.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)"},children:[x.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),x.jsx("div",{children:"投稿を読み込んでいます..."})]}):e.length===0?x.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-secondary)"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📝"}),x.jsx("div",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px"},children:"まだ投稿がありません"}),x.jsx("div",{style:{fontSize:"14px",marginBottom:"24px"},children:"最初の投稿をしてみましょう！"}),x.jsxs("button",{onClick:()=>o(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)"},children:[x.jsx(Tg,{size:20}),"投稿を作成"]})]}):x.jsx("div",{children:e.map(f=>x.jsx(Eve,{post:f,onPostClick:t},f.id))})}),a&&x.jsx(Ave,{onClose:()=>o(!1),onPostCreated:u})]})},Tve=({postId:t,onBack:e,onPostDeleted:r})=>{const{user:n}=Np(),[i,a]=C.useState(null),[o,l]=C.useState([]),[u,f]=C.useState(!0),[d,p]=C.useState(!1),[v,m]=C.useState(0),[b,w]=C.useState(""),[A,S]=C.useState(!1);C.useEffect(()=>{(async()=>{f(!0);try{const M=await QL(t);if(M){if(a(M),m(M.likes),n){const z=await eB(t,n.uid);p(z)}const j=await vb(t);l(j)}else alert("投稿が見つかりません"),e()}catch(M){console.error("投稿の取得に失敗しました:",M),alert("投稿の取得に失敗しました"),e()}finally{f(!1)}})()},[t,e,n]);const O=async()=>{if(n)try{d?(await JL(t,n.uid),p(!1),m(Math.max(0,v-1))):(await ZL(t,n.uid,n.email?.split("@")[0]||"anonymous",void 0),p(!0),m(v+1))}catch(P){console.error("いいね操作エラー:",P),alert("いいね操作に失敗しました")}},I=async()=>{if(!(!n||!i||!b.trim()))try{S(!0),await gve(t,n.uid,n.email?.split("@")[0]||"anonymous",b.trim());const P=await vb(t);l(P),w("")}catch(P){console.error("コメント追加エラー:",P),alert("コメントの追加に失敗しました")}finally{S(!1)}},R=async P=>{if(!(!n||!confirm("このコメントを削除しますか？")))try{await vve(t,P,n.uid);const M=await vb(t);l(M)}catch(M){console.error("コメント削除エラー:",M),alert("コメントの削除に失敗しました")}},k=async()=>{if(!(!n||!i)&&confirm("この投稿を削除しますか？"))try{await pve(t,n.uid),alert("投稿を削除しました"),r()}catch(P){console.error("投稿の削除に失敗しました:",P),alert("投稿の削除に失敗しました")}};if(u)return x.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)"},children:[x.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),x.jsx("div",{children:"投稿を読み込んでいます..."})]});if(!i)return null;const L=n&&i.authorId===n.uid;return x.jsxs("div",{style:{paddingBottom:"80px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[x.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:P=>{P.currentTarget.style.background="var(--border)"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:x.jsx(Kv,{size:24})}),x.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:0},children:"投稿"}),L&&x.jsx("button",{onClick:k,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#f44336",transition:"background 0.2s"},onMouseEnter:P=>{P.currentTarget.style.background="#ffebee"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:x.jsx(Uf,{size:24})})]}),x.jsxs("div",{style:{padding:"20px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[x.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:i.authorAvatar?`url(${i.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"16px"},children:i.authorName}),x.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:Jw(i.createdAt)})]})]}),x.jsx("div",{style:{color:"var(--text)",fontSize:"16px",lineHeight:"1.6",marginBottom:i.images&&i.images.length>0?"20px":"24px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:i.content}),i.images&&i.images.length>0&&x.jsx("div",{style:{display:"grid",gridTemplateColumns:i.images.length===1?"1fr":(i.images.length===2,"repeat(2, 1fr)"),gap:"12px",marginBottom:"24px"},children:i.images.map((P,M)=>x.jsx("div",{style:{width:"100%",paddingBottom:i.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:x.jsx("img",{src:P,alt:`投稿画像 ${M+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},M))}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",padding:"16px 0",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:[x.jsxs("button",{onClick:O,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px 12px",borderRadius:"12px",color:d?"#e91e63":"var(--text-secondary)",transition:"background 0.2s",fontSize:"16px"},onMouseEnter:P=>{P.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:[d?x.jsx(GD,{size:24}):x.jsx(qD,{size:24}),x.jsx("span",{style:{fontWeight:600},children:v})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-secondary)",fontSize:"16px"},children:[x.jsx(QD,{size:24}),x.jsx("span",{style:{fontWeight:600},children:i.commentCount})]})]}),x.jsxs("div",{style:{marginTop:"24px"},children:[n&&x.jsx("div",{style:{marginBottom:"24px"},children:x.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end",padding:"12px",background:"var(--card)",borderRadius:"12px",border:"1px solid var(--border)"},children:[x.jsx("textarea",{value:b,onChange:P=>w(P.target.value),placeholder:"コメントを入力...",style:{flex:1,padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--bg)",color:"var(--text)",fontFamily:"inherit",fontSize:"14px",resize:"vertical",minHeight:"44px",maxHeight:"120px",outline:"none"},onFocus:P=>{P.currentTarget.style.borderColor="var(--primary)"},onBlur:P=>{P.currentTarget.style.borderColor="var(--border)"}}),x.jsx("button",{onClick:I,disabled:A||!b.trim(),style:{background:b.trim()?"var(--primary)":"var(--border)",border:"none",color:b.trim()?"white":"var(--text-secondary)",padding:"12px 16px",borderRadius:"8px",cursor:b.trim()&&!A?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:x.jsx(vF,{size:20})})]})}),x.jsx("div",{style:{marginTop:"20px"},children:o.length>0?x.jsxs("div",{children:[x.jsxs("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px",color:"var(--text)"},children:["コメント (",o.length,")"]}),o.map(P=>x.jsxs("div",{style:{padding:"12px",background:"var(--bg)",borderRadius:"8px",marginBottom:"12px",borderLeft:"2px solid var(--primary)"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"14px"},children:P.userName}),x.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:Jw(P.createdAt)})]}),n&&n.uid===P.userId&&x.jsx("button",{onClick:()=>R(P.id),style:{background:"none",border:"none",color:"#f44336",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",transition:"background 0.2s"},onMouseEnter:M=>{M.currentTarget.style.background="#ffebee"},onMouseLeave:M=>{M.currentTarget.style.background="none"},children:"削除"})]}),x.jsx("div",{style:{color:"var(--text)",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:P.content})]},P.id))]}):x.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)",background:"var(--bg)",borderRadius:"12px"},children:x.jsx("div",{style:{fontSize:"14px"},children:"コメントはまだありません"})})})]})]})]})},Cve=()=>{const[t]=C.useState("timeline"),[e,r]=C.useState("main"),[n,i]=C.useState(null),a=u=>{i(u),r("post-detail")},o=()=>{r("main"),i(null)},l=()=>{r("main"),i(null)};return e==="post-detail"&&n?x.jsx(Tve,{postId:n,onBack:o,onPostDeleted:l}):x.jsx("div",{children:t==="timeline"&&x.jsx(Sve,{onPostClick:a})})},Ive=()=>{const[t,e]=C.useState("home"),r=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",social:"ソーシャル",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿",badges:"アチーブメント"})[i],n=()=>{switch(t){case"home":return x.jsx(YO,{onNavigate:e});case"meals":return x.jsx(MX,{});case"barcode":return x.jsx(fee,{onNavigateToStock:()=>e("stock")});case"report":return x.jsx(tve,{});case"social":return x.jsx(Cve,{});case"settings":return x.jsx(WX,{});case"stock":return x.jsx(QX,{});case"shopping":return x.jsx(aY,{});case"recipe":return x.jsx(pY,{});case"expense":return x.jsx(sve,{});case"badges":return x.jsx(uve,{});default:return x.jsx(YO,{onNavigate:e})}};return x.jsxs(x.Fragment,{children:[x.jsx($U,{title:r(t)}),x.jsx("main",{children:n()}),x.jsx(OF,{currentScreen:t,onNavigate:e})]})};function Ove(t){return Te({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const Rve="modulepreload",Pve=function(t){return"/life-pwa-react/"+t},UD={},Lf=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=f(r.map(d=>{if(d=Pve(d),d in UD)return;UD[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":Rve,p||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),p)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},Uv=()=>Math.floor(1e5+Math.random()*9e5).toString(),Fv=async(t,e)=>{const r=dt(yt(Re,"verificationCodes"),t),n=new Date;n.setMinutes(n.getMinutes()+10),await su(r,{code:e,email:t,expiresAt:n.toISOString(),createdAt:new Date().toISOString()})},tB=async(t,e)=>{try{const r=dt(yt(Re,"verificationCodes"),t),n=await qf(r);if(!n.exists())return{valid:!1,error:"確認コードが見つかりません。再送信してください。"};const i=n.data();return new Date(i.expiresAt)<new Date?(await da(r),{valid:!1,error:"確認コードの有効期限が切れています。再送信してください。"}):i.code!==e?{valid:!1,error:"確認コードが正しくありません。"}:(await da(r),{valid:!0})}catch(r){return console.error("Code verification error:",r),{valid:!1,error:"確認に失敗しました。もう一度お試しください。"}}},FD=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>fA);return{default:u}},void 0),a=r(i),l=await n(a,"sendVerificationEmail")({email:t,code:e});console.log(`✅ Verification email sent to ${t}`,l)}catch(r){throw console.error("Failed to send email via Cloud Functions:",r),console.log(`
====================================
🥗💰 健康家計アプリ - メール確認コード
====================================

こんにちは！

健康家計アプリへのご登録ありがとうございます。

以下の確認コードを入力して、メールアドレスの確認を完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━
健康家計アプリについて
━━━━━━━━━━━━━━━━━━━━━━━━

AIが健康をサポートする生活管理アプリです。

主な機能：
✓ 食事記録とカロリー管理
✓ AIレシピ生成
✓ 家計簿機能
✓ 在庫管理
✓ バーコードスキャン
✓ レシートOCR（自動読み取り）

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`),new Error("メール送信に失敗しました。コンソールで確認コードを確認してください。")}},VD=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>fA);return{default:u}},void 0),a=r(i),l=await n(a,"sendPasswordResetEmail")({email:t,code:e});console.log(`✅ Password reset email sent to ${t}`,l)}catch(r){console.error("Failed to send password reset email via Cloud Functions:",r),console.log(`
====================================
🥗💰 健康家計アプリ - パスワードリセット
====================================

こんにちは！

パスワードのリセットをリクエストいただきありがとうございます。

以下の確認コードを入力して、パスワードのリセットを完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`)}},Dve=async(t,e)=>{try{const{getFunctions:r,httpsCallable:n}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>fA);return{default:u}},void 0),a=r(i),l=await n(a,"resetPassword")({email:t,newPassword:e});return console.log(`✅ Password reset successful for ${t}`,l),{success:!0}}catch(r){return console.error("Failed to reset password via Cloud Functions:",r),{success:!1,error:r.message||"パスワードのリセットに失敗しました"}}},Nve=({onBack:t})=>{const[e,r]=C.useState("email"),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,u]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(""),[m,b]=C.useState(!1),[w,A]=C.useState(""),S=async k=>{k.preventDefault(),A(""),b(!0);try{const L=Uv();await Fv(n,L),await FD(n,L),console.log("✅ 確認コードを送信しました:",n),r("code")}catch(L){console.error("Email send error:",L),A(L.message||"確認コードの送信に失敗しました")}finally{b(!1)}},O=async k=>{k.preventDefault(),A(""),b(!0);try{const L=await tB(n,a);if(!L.valid){A(L.error||"確認コードが正しくありません"),b(!1);return}console.log("✅ 確認コードが正しいです"),r("profile")}catch(L){A(L.message||"確認に失敗しました")}finally{b(!1)}},I=async k=>{if(k.preventDefault(),A(""),f!==p){A("パスワードが一致しません");return}if(f.length<6){A("パスワードは6文字以上で入力してください");return}if(!l.trim()){A("ユーザー名を入力してください");return}b(!0);try{const P=(await RG(rt,n,f)).user;await dM(P,{displayName:l}),await new Promise(M=>setTimeout(M,1e3));try{await UX(P.uid,n,l),console.log("✅ アカウント作成完了:",P.uid)}catch(M){console.error("Profile creation error:",M),alert("注意: プロフィール作成に失敗しました。設定画面からプロフィールを作成してください。")}t()}catch(L){console.error("Registration error:",L);let P="アカウント作成に失敗しました";L.code==="auth/email-already-in-use"?P="このメールアドレスは既に使用されています":L.code==="auth/invalid-email"?P="メールアドレスの形式が正しくありません":L.code==="auth/weak-password"&&(P="パスワードが弱すぎます（6文字以上推奨）"),A(P)}finally{b(!1)}},R=async()=>{b(!0),A("");try{const k=Uv();await Fv(n,k),await FD(n,k),alert("確認コードを再送信しました！")}catch{A("再送信に失敗しました")}finally{b(!1)}};return x.jsxs("div",{className:"register-flow",children:[x.jsxs("div",{className:"progress-bar",children:[x.jsx("div",{className:`progress-step ${e==="email"?"active":["code","profile"].includes(e)?"completed":""}`,children:"1"}),x.jsx("div",{className:"progress-line"}),x.jsx("div",{className:`progress-step ${e==="code"?"active":e==="profile"?"completed":""}`,children:"2"}),x.jsx("div",{className:"progress-line"}),x.jsx("div",{className:`progress-step ${e==="profile"?"active":""}`,children:"3"})]}),e==="email"&&x.jsxs("form",{onSubmit:S,className:"step-form",children:[x.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[x.jsx(Kv,{})," 戻る"]}),x.jsxs("h2",{children:[x.jsx(Wv,{})," メールアドレスを入力"]}),x.jsx("p",{className:"step-description",children:"確認コードを送信します"}),x.jsx("div",{className:"form-group",children:x.jsx("input",{type:"email",value:n,onChange:k=>i(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),w&&x.jsx("div",{className:"error-message",children:w}),x.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"送信中...":"確認コードを送信"})]}),e==="code"&&x.jsxs("form",{onSubmit:O,className:"step-form",children:[x.jsxs("h2",{children:[x.jsx(XD,{})," 確認コードを入力"]}),x.jsxs("p",{className:"step-description",children:[x.jsx("strong",{children:n})," 宛に送信された6桁のコードを入力してください"]}),x.jsx("div",{className:"form-group",children:x.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),w&&x.jsx("div",{className:"error-message",children:w}),x.jsx("button",{type:"submit",className:"submit-button",disabled:m||a.length!==6,children:m?"確認中...":"確認"}),x.jsx("button",{type:"button",onClick:R,className:"link-button",disabled:m,children:"コードを再送信"})]}),e==="profile"&&x.jsxs("form",{onSubmit:I,className:"step-form",children:[x.jsxs("h2",{children:[x.jsx(Wh,{})," アカウント情報を設定"]}),x.jsx("p",{className:"step-description",children:"ユーザー名とパスワードを設定してください"}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(Wh,{})," ユーザー名"]}),x.jsx("input",{type:"text",value:l,onChange:k=>u(k.target.value),placeholder:"山田太郎",required:!0,autoFocus:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(vl,{})," パスワード"]}),x.jsx("input",{type:"password",value:f,onChange:k=>d(k.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(vl,{})," パスワード（確認）"]}),x.jsx("input",{type:"password",value:p,onChange:k=>v(k.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),w&&x.jsx("div",{className:"error-message",children:w}),x.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"アカウント作成中...":"登録完了"})]}),x.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Mve=({onBack:t,onSuccess:e})=>{const[r,n]=C.useState("email"),[i,a]=C.useState(""),[o,l]=C.useState(""),[u,f]=C.useState(""),[d,p]=C.useState(""),[v,m]=C.useState(!1),[b,w]=C.useState(""),A=async R=>{R.preventDefault(),w(""),m(!0);try{const k=Uv();await Fv(i,k),await VD(i,k),console.log("✅ パスワードリセット用の確認コードを送信しました:",i),n("code")}catch(k){console.error("Email send error:",k),w(k.message||"確認コードの送信に失敗しました")}finally{m(!1)}},S=async R=>{R.preventDefault(),w(""),m(!0);try{const k=await tB(i,o);if(!k.valid){w(k.error||"確認コードが正しくありません"),m(!1);return}console.log("✅ 確認コードが正しいです"),n("password")}catch(k){w(k.message||"確認に失敗しました")}finally{m(!1)}},O=async R=>{if(R.preventDefault(),w(""),u!==d){w("パスワードが一致しません");return}if(u.length<6){w("パスワードは6文字以上で入力してください");return}m(!0);try{const k=await Dve(i,u);if(!k.success){w(k.error||"パスワードの更新に失敗しました"),m(!1);return}console.log("✅ パスワードのリセットが完了しました"),alert("パスワードのリセットが完了しました！新しいパスワードでログインしてください。"),e()}catch(k){console.error("Password reset error:",k),w(k.message||"パスワードの更新に失敗しました")}finally{m(!1)}},I=async()=>{m(!0),w("");try{const R=Uv();await Fv(i,R),await VD(i,R),alert("確認コードを再送信しました！")}catch{w("再送信に失敗しました")}finally{m(!1)}};return x.jsxs("div",{className:"password-reset-flow",children:[x.jsxs("div",{className:"progress-bar",children:[x.jsx("div",{className:`progress-step ${r==="email"?"active":["code","password"].includes(r)?"completed":""}`,children:"1"}),x.jsx("div",{className:"progress-line"}),x.jsx("div",{className:`progress-step ${r==="code"?"active":r==="password"?"completed":""}`,children:"2"}),x.jsx("div",{className:"progress-line"}),x.jsx("div",{className:`progress-step ${r==="password"?"active":""}`,children:"3"})]}),r==="email"&&x.jsxs("form",{onSubmit:A,className:"step-form",children:[x.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[x.jsx(Kv,{})," 戻る"]}),x.jsxs("h2",{children:[x.jsx(Wv,{})," メールアドレスを入力"]}),x.jsx("p",{className:"step-description",children:"パスワードリセット用の確認コードを送信します"}),x.jsx("div",{className:"form-group",children:x.jsx("input",{type:"email",value:i,onChange:R=>a(R.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),b&&x.jsx("div",{className:"error-message",children:b}),x.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"送信中...":"確認コードを送信"})]}),r==="code"&&x.jsxs("form",{onSubmit:S,className:"step-form",children:[x.jsxs("h2",{children:[x.jsx(XD,{})," 確認コードを入力"]}),x.jsxs("p",{className:"step-description",children:[x.jsx("strong",{children:i})," 宛に送信された6桁のコードを入力してください"]}),x.jsx("div",{className:"form-group",children:x.jsx("input",{type:"text",value:o,onChange:R=>l(R.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),b&&x.jsx("div",{className:"error-message",children:b}),x.jsx("button",{type:"submit",className:"submit-button",disabled:v||o.length!==6,children:v?"確認中...":"確認"}),x.jsx("button",{type:"button",onClick:I,className:"link-button",disabled:v,children:"コードを再送信"})]}),r==="password"&&x.jsxs("form",{onSubmit:O,className:"step-form",children:[x.jsxs("h2",{children:[x.jsx(vl,{})," 新しいパスワードを設定"]}),x.jsx("p",{className:"step-description",children:"新しいパスワードを入力してください"}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(vl,{})," 新しいパスワード"]}),x.jsx("input",{type:"password",value:u,onChange:R=>f(R.target.value),placeholder:"6文字以上",minLength:6,required:!0,autoFocus:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(vl,{})," パスワード（確認）"]}),x.jsx("input",{type:"password",value:d,onChange:R=>p(R.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),b&&x.jsx("div",{className:"error-message",children:b}),x.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"更新中...":"パスワードを更新"})]}),x.jsx("style",{children:`
        .password-reset-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},kve=({onLoginSuccess:t})=>{const[e,r]=C.useState(!1),[n,i]=C.useState(!1),[a,o]=C.useState(""),[l,u]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(!1),m=async w=>{w.preventDefault(),d(""),v(!0);try{const A=await kX(a,l);A.error?d(A.error):t()}catch(A){d(A.message||"認証エラーが発生しました")}finally{v(!1)}},b=async()=>{d(""),v(!0);try{const w=await jX();w.error?d(w.error):t()}catch(w){d(w.message||"認証エラーが発生しました")}finally{v(!1)}};return e?x.jsxs("div",{className:"login-screen",children:[x.jsxs("div",{className:"login-container",children:[x.jsxs("div",{className:"login-header",children:[x.jsx("h1",{children:"🥗💰 健康家計アプリ"}),x.jsx("p",{children:"新規登録"})]}),x.jsx(Nve,{onBack:()=>r(!1)})]}),x.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):n?x.jsxs("div",{className:"login-screen",children:[x.jsxs("div",{className:"login-container",children:[x.jsxs("div",{className:"login-header",children:[x.jsx("h1",{children:"🥗💰 健康家計アプリ"}),x.jsx("p",{children:"パスワードリセット"})]}),x.jsx(Mve,{onBack:()=>i(!1),onSuccess:()=>i(!1)})]}),x.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):x.jsxs("div",{className:"login-screen",children:[x.jsxs("div",{className:"login-container",children:[x.jsxs("div",{className:"login-header",children:[x.jsx("h1",{children:"🥗💰 健康家計アプリ"}),x.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),x.jsxs("form",{onSubmit:m,className:"login-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(Wv,{})," メールアドレス"]}),x.jsx("input",{type:"email",value:a,onChange:w=>o(w.target.value),placeholder:"email@example.com",required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx(vl,{})," パスワード"]}),x.jsx("input",{type:"password",value:l,onChange:w=>u(w.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),f&&x.jsx("div",{className:"error-message",children:f}),x.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"処理中...":x.jsxs(x.Fragment,{children:[x.jsx(lF,{})," ログイン"]})}),x.jsx("button",{type:"button",onClick:()=>i(!0),className:"forgot-password-button",children:"パスワードをお忘れですか？"}),x.jsx("button",{type:"button",onClick:()=>r(!0),className:"register-link-button",children:"アカウントをお持ちでない方はこちら"})]}),x.jsx("div",{className:"divider",children:x.jsx("span",{children:"または"})}),x.jsxs("button",{onClick:b,className:"google-login-button",disabled:p,children:[x.jsx(Ove,{})," Googleでログイン"]}),x.jsx("div",{className:"login-footer",children:x.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",x.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),x.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .forgot-password-button,
        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .forgot-password-button:hover,
        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function jve(){const{newBadges:t,clearNewBadges:e}=dA(),[r,n]=C.useState(0),[i,a]=C.useState(!1);if(C.useEffect(()=>{t.length>0&&(n(0),a(!0))},[t]),!i||t.length===0)return null;const o=t[r],l=OX(o);if(!l)return null;const u=()=>{r<t.length-1?n(r+1):f()},f=()=>{a(!1),e(),n(0)};return x.jsx("div",{className:"badge-modal-overlay-fullscreen",children:x.jsx("div",{className:"badge-modal-fullscreen",children:x.jsxs("div",{className:"badge-modal-content-fullscreen",children:[x.jsx("div",{className:"badge-glow"}),x.jsx("div",{className:"badge-celebration-large",children:"🎉"}),x.jsx("div",{className:"badge-icon-huge",children:l.icon}),x.jsxs("h2",{className:"badge-title-huge",children:[x.jsx(qv,{size:48,style:{color:"#10b981",marginRight:"12px"}}),"バッジ獲得！"]}),x.jsx("h3",{className:"badge-name-huge",children:l.name}),x.jsx("p",{className:"badge-description-large",children:l.description}),t.length>1&&x.jsxs("div",{className:"badge-progress-large",children:[r+1," / ",t.length]}),x.jsx("div",{className:"badge-buttons-large",children:r<t.length-1?x.jsx("button",{className:"badge-btn-large badge-btn-next",onClick:u,children:"次へ"}):x.jsx("button",{className:"badge-btn-large badge-btn-ok",onClick:f,children:"OK"})})]})})})}function Lve(t){if(t.length===0)return 0;const e=[...new Set(t.map(i=>i.split("T")[0]))].sort().reverse();let r=0;const n=new Date;n.setHours(0,0,0,0);for(let i=0;i<e.length;i++){const a=new Date(e[i]);a.setHours(0,0,0,0);const o=new Date(n);if(o.setDate(o.getDate()-i),o.setHours(0,0,0,0),a.getTime()===o.getTime())r++;else break}return r}function Bve(){const{settings:t}=Yg(),{user:e,loading:r}=Np(),[n,i]=C.useState(!1),a=Ao(),o=So(),l=To(),u=lu(),f=Dp(),d=Yg(),p=dA();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>{if(!e)return;const{intakes:v}=a,{expenses:m}=o,{stocks:b}=l,{recipeHistory:w}=f,A=0,S=Lve(v.map(U=>U.date)),O=v.reduce((U,H)=>U+H.calories,0),I=new Date,R=I.getDate();let k=I.getMonth(),L=I.getFullYear();k===0?(k=11,L-=1):k-=1;const M=m.filter(U=>{const H=new Date(U.date);return H.getMonth()===k&&H.getFullYear()===L}).reduce((U,H)=>U+H.amount,0),j=R===1&&M<=t.monthlyBudget&&M>0,z={intakesCount:v.length,expensesCount:m.length,stocksCount:b.length,consecutiveDays:S,totalCalories:O,budgetAchieved:j,recipesGenerated:w.length,barcodesScanned:A};p.checkAndUnlockBadges(z)},[a.intakes.length,o.expenses.length,l.stocks.length,f.recipeHistory.length]),C.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),u.syncWithFirestore(),f.syncWithFirestore(),d.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(m){console.error("Failed to sync stores with Firestore:",m)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),r||n?x.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:x.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:r?"ロード中...":"データを同期中..."})}):e?x.jsxs(x.Fragment,{children:[x.jsx(Ive,{}),x.jsx(jve,{})]}):x.jsx(kve,{onLoginSuccess:()=>{}})}HU.createRoot(document.getElementById("root")).render(x.jsx(Un.StrictMode,{children:x.jsx(Bve,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
