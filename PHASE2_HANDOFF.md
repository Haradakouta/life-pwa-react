# Phase 2 å®Ÿè£…ã‚¬ã‚¤ãƒ‰ - æŠ•ç¨¿æ©Ÿèƒ½ï¼ˆSNSæ©Ÿèƒ½ï¼‰

**ä½œæˆæ—¥: 2025-10-28**
**å¯¾è±¡ã‚»ãƒƒã‚·ãƒ§ãƒ³: æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³11ï¼‰**

---

## ğŸ“‹ Phase 1 å®Œäº†çŠ¶æ³

### âœ… å®Ÿè£…æ¸ˆã¿ã®æ©Ÿèƒ½

1. **Firebase Storageçµ±åˆ**
   - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆã‚¢ãƒã‚¿ãƒ¼ã€ã‚«ãƒãƒ¼ã€æŠ•ç¨¿ç”¨ï¼‰
   - è‡ªå‹•ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

2. **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ©Ÿèƒ½**
   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ç”»é¢ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã€ã‚«ãƒãƒ¼ã€åå‰ã€bioã€URLã€å…¬é–‹è¨­å®šï¼‰
   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆFirestoreï¼‰
   - è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆï¼ˆæ–°è¦ç™»éŒ²æ™‚ï¼‰

3. **ãƒ‡ãƒ¼ã‚¿æ§‹é€ **
   ```
   Firestore
   â””â”€â”€ users/{userId}
       â””â”€â”€ profile/
           â””â”€â”€ data/
               â”œâ”€â”€ uid
               â”œâ”€â”€ displayName
               â”œâ”€â”€ username (ãƒ¦ãƒ‹ãƒ¼ã‚¯)
               â”œâ”€â”€ email
               â”œâ”€â”€ bio
               â”œâ”€â”€ avatarUrl
               â”œâ”€â”€ coverUrl
               â”œâ”€â”€ websiteUrl
               â”œâ”€â”€ isPublic
               â”œâ”€â”€ createdAt
               â””â”€â”€ stats (postCount, followerCount, etc.)
   ```

### ğŸ“‚ é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

**å‹å®šç¾©:**
- `src/types/profile.ts` - UserProfile, UserStats

**ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£:**
- `src/utils/imageUpload.ts` - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–¢æ•°
- `src/utils/profile.ts` - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ“ä½œé–¢æ•°

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
- `src/components/profile/ProfileEditScreen.tsx` - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ç”»é¢

---

## ğŸ¯ Phase 2: æŠ•ç¨¿æ©Ÿèƒ½ã®å®Ÿè£…

### ç›®æ¨™

SNSã®åŸºæœ¬ã¨ãªã‚‹æŠ•ç¨¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ï¼š
- ãƒ†ã‚­ã‚¹ãƒˆæŠ•ç¨¿ã®ä½œæˆãƒ»è¡¨ç¤ºãƒ»å‰Šé™¤
- ç”»åƒæŠ•ç¨¿ï¼ˆè¤‡æ•°æšå¯¾å¿œï¼‰
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
- æŠ•ç¨¿è©³ç´°ç”»é¢

---

## ğŸ“ å®Ÿè£…ã™ã¹ãæ©Ÿèƒ½ï¼ˆå„ªå…ˆé †ä½é †ï¼‰

### 1. **æŠ•ç¨¿ç”¨ã®å‹å®šç¾©** â­ æœ€å„ªå…ˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/types/post.ts`

```typescript
export interface Post {
  id: string;
  content: string;
  images?: string[]; // ç”»åƒURLé…åˆ—
  authorId: string;
  authorName: string;
  authorAvatar?: string;
  likes: number;
  commentCount: number;
  repostCount: number;
  hashtags?: string[];
  visibility: 'public' | 'followers' | 'private';
  createdAt: string;
  updatedAt?: string;
}

export interface PostFormData {
  content: string;
  images: File[];
  visibility: 'public' | 'followers' | 'private';
}
```

---

### 2. **æŠ•ç¨¿æ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£** â­ æœ€å„ªå…ˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/utils/post.ts`

**å¿…è¦ãªé–¢æ•°:**
```typescript
// æŠ•ç¨¿ã‚’ä½œæˆ
createPost(userId: string, data: PostFormData): Promise<string>

// æŠ•ç¨¿ã‚’å–å¾—
getPost(postId: string): Promise<Post | null>

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ä¸€è¦§ã‚’å–å¾—
getUserPosts(userId: string, limit?: number): Promise<Post[]>

// ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å–å¾—ï¼ˆå…¨ä½“å…¬é–‹ã®æŠ•ç¨¿ï¼‰
getTimelinePosts(limit?: number): Promise<Post[]>

// æŠ•ç¨¿ã‚’å‰Šé™¤
deletePost(postId: string, userId: string): Promise<void>

// æŠ•ç¨¿ã‚’æ›´æ–°
updatePost(postId: string, userId: string, data: Partial<Post>): Promise<void>
```

**Firestoreãƒ‡ãƒ¼ã‚¿æ§‹é€ :**
```
Firestore
â”œâ”€â”€ posts (ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³)
â”‚   â””â”€â”€ {postId}
â”‚       â”œâ”€â”€ content
â”‚       â”œâ”€â”€ images (é…åˆ—)
â”‚       â”œâ”€â”€ authorId
â”‚       â”œâ”€â”€ authorName
â”‚       â”œâ”€â”€ authorAvatar
â”‚       â”œâ”€â”€ likes
â”‚       â”œâ”€â”€ commentCount
â”‚       â”œâ”€â”€ repostCount
â”‚       â”œâ”€â”€ hashtags
â”‚       â”œâ”€â”€ visibility
â”‚       â”œâ”€â”€ createdAt
â”‚       â””â”€â”€ updatedAt
â””â”€â”€ users/{userId}
    â””â”€â”€ posts (ã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³) â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ä¸€è¦§ç”¨
        â””â”€â”€ {postId} (å‚ç…§ã®ã¿)
```

---

### 3. **æŠ•ç¨¿ä½œæˆç”»é¢** ğŸ¨ UIå®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/social/PostCreateScreen.tsx`

**å¿…è¦ãªè¦ç´ :**
- ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ï¼ˆtextareaã€æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆï¼‰
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆè¤‡æ•°æšå¯¾å¿œã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼‰
- å…¬é–‹ç¯„å›²é¸æŠï¼ˆå…¨ä½“å…¬é–‹/ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã®ã¿/éå…¬é–‹ï¼‰
- æŠ•ç¨¿ãƒœã‚¿ãƒ³
- ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³

**UIã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŠ•ç¨¿ã‚’ä½œæˆ          [Ã—]ã‚­ãƒ£ãƒ³ã‚»ãƒ«â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ] [åå‰]        â”‚
â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ä»Šä½•ã—ã¦ã‚‹ï¼Ÿ               â”‚ â”‚
â”‚ â”‚ (ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢)        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ 0/280                           â”‚
â”‚                                 â”‚
â”‚ [ğŸ“· ç”»åƒã‚’è¿½åŠ ]                â”‚
â”‚                                 â”‚
â”‚ å…¬é–‹ç¯„å›²: [â–¼ å…¨ä½“å…¬é–‹]         â”‚
â”‚                                 â”‚
â”‚          [æŠ•ç¨¿ã™ã‚‹]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. **ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ç”»é¢** ğŸ¨ UIå®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/social/TimelineScreen.tsx`

**å¿…è¦ãªè¦ç´ :**
- æŠ•ç¨¿ä½œæˆãƒœã‚¿ãƒ³ï¼ˆFABã¾ãŸã¯ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰
- æŠ•ç¨¿ä¸€è¦§è¡¨ç¤ºï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
- å„æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰:
  - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã€åå‰ã€æŠ•ç¨¿æ™‚é–“
  - æœ¬æ–‡
  - ç”»åƒï¼ˆè¤‡æ•°æšã®å ´åˆã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼‰
  - ã„ã„ã­æ•°ã€ã‚³ãƒ¡ãƒ³ãƒˆæ•°ã€ãƒªãƒã‚¹ãƒˆæ•°
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆã„ã„ã­ã€ã‚³ãƒ¡ãƒ³ãƒˆã€ãƒªãƒã‚¹ãƒˆã€å…±æœ‰ï¼‰

**ã‚¿ãƒ–æ§‹æˆ:**
- å…¨ä½“ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ï¼ˆPhase 4ã§å®Ÿè£…ï¼‰

**UIã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³     [ï¼‹ æŠ•ç¨¿ä½œæˆ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ğŸ‘¤] å±±ç”°å¤ªéƒ  @yamada  2æ™‚é–“å‰â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ ä»Šæ—¥ã®ãƒ©ãƒ³ãƒç¾å‘³ã—ã‹ã£ãŸï¼  â”‚ â”‚
â”‚ â”‚ #å¥åº· #æ–™ç†                 â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ [ç”»åƒ]                      â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ â™¡15  ğŸ’¬3  ğŸ”2              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ğŸ‘¤] ä½è—¤èŠ±å­  @sato   5æ™‚é–“å‰â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ æ–°ã—ã„ãƒ¬ã‚·ãƒ”ä½œã£ã¦ã¿ãŸğŸ³    â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ â™¡8   ğŸ’¬1   ğŸ”0              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. **æŠ•ç¨¿è©³ç´°ç”»é¢** ğŸ¨ UIå®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/social/PostDetailScreen.tsx`

**å¿…è¦ãªè¦ç´ :**
- æŠ•ç¨¿ã®è©³ç´°è¡¨ç¤º
- ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§ï¼ˆPhase 3ã§å®Ÿè£…ï¼‰
- ã„ã„ã­ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ï¼ˆPhase 3ã§å®Ÿè£…ï¼‰
- å‰Šé™¤ãƒœã‚¿ãƒ³ï¼ˆè‡ªåˆ†ã®æŠ•ç¨¿ã®ã¿ï¼‰

---

### 6. **ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ç”»é¢ã®ãƒ¡ã‚¤ãƒ³æ§‹æˆ** ğŸ¨ UIå®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/social/SocialScreen.tsx`

**ã‚¿ãƒ–æ§‹æˆ:**
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- ãƒ¬ã‚·ãƒ”åºƒå ´ï¼ˆPhase 5ï¼‰
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆPhase 7ï¼‰
- é€šçŸ¥ï¼ˆPhase 6ï¼‰

**ç”»é¢é·ç§»:**
```
BottomNav (è¨­å®šã®éš£ã«è¿½åŠ )
    â†“
SocialScreen (ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ)
    â”œâ”€ TimelineScreen
    â”œâ”€ [æŠ•ç¨¿ä½œæˆãƒœã‚¿ãƒ³] â†’ PostCreateScreen
    â””â”€ [æŠ•ç¨¿ã‚¯ãƒªãƒƒã‚¯] â†’ PostDetailScreen
```

---

### 7. **BottomNavã«ã‚½ãƒ¼ã‚·ãƒ£ãƒ«è¿½åŠ ** ğŸ”§ çµ±åˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `src/components/layout/BottomNav.tsx`

**å¤‰æ›´å†…å®¹:**
```typescript
export type Screen =
  | 'home'
  | 'meals'
  | 'barcode'
  | 'report'
  | 'social'  // â† è¿½åŠ 
  | 'settings'
  // ... ä»–ã®ç”»é¢
```

**ã‚¢ã‚¤ã‚³ãƒ³:** `MdPeople` ã¾ãŸã¯ `MdForum`

---

## ğŸ› ï¸ å®Ÿè£…æ‰‹é †ï¼ˆæ¨å¥¨ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®æº–å‚™
1. `src/types/post.ts` ã‚’ä½œæˆ
2. `src/utils/post.ts` ã‚’ä½œæˆ
3. Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’æ›´æ–°

### ã‚¹ãƒ†ãƒƒãƒ—2: æŠ•ç¨¿ä½œæˆæ©Ÿèƒ½
4. `PostCreateScreen.tsx` ã‚’ä½œæˆ
5. ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’çµ±åˆï¼ˆ`imageUpload.ts`ã®`uploadPostImage`ã‚’ä½¿ç”¨ï¼‰
6. æŠ•ç¨¿ä½œæˆã®ãƒ†ã‚¹ãƒˆ

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
7. `TimelineScreen.tsx` ã‚’ä½œæˆ
8. æŠ•ç¨¿ä¸€è¦§ã®å–å¾—ãƒ»è¡¨ç¤º
9. æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`PostCard.tsx`ï¼‰ã‚’ä½œæˆ

### ã‚¹ãƒ†ãƒƒãƒ—4: æŠ•ç¨¿è©³ç´°
10. `PostDetailScreen.tsx` ã‚’ä½œæˆ
11. å‰Šé™¤æ©Ÿèƒ½ã®å®Ÿè£…

### ã‚¹ãƒ†ãƒƒãƒ—5: çµ±åˆ
12. `SocialScreen.tsx` ã‚’ä½œæˆï¼ˆã‚¿ãƒ–æ§‹æˆï¼‰
13. BottomNavã«ã€Œã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã€ã‚’è¿½åŠ 
14. Layout.tsxã«çµ±åˆ

### ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
15. ãƒ“ãƒ«ãƒ‰ãƒ»ã‚¨ãƒ©ãƒ¼ç¢ºèª
16. ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
17. ãƒ‡ãƒ—ãƒ­ã‚¤

---

## ğŸ”’ Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

**`firestore.rules` ã«è¿½åŠ :**

```javascript
// æŠ•ç¨¿ï¼ˆpostsï¼‰ã®ãƒ«ãƒ¼ãƒ«
match /posts/{postId} {
  // èª­ã¿å–ã‚Š: å…¬é–‹æŠ•ç¨¿ã¯èª°ã§ã‚‚ã€ãã‚Œä»¥å¤–ã¯èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼
  allow read: if resource.data.visibility == 'public'
              || (request.auth != null && resource.data.visibility == 'followers')
              || (request.auth != null && request.auth.uid == resource.data.authorId);

  // ä½œæˆ: èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã‹ã¤è‡ªåˆ†ã®uidã‚’authorIdã«è¨­å®š
  allow create: if request.auth != null
                && request.resource.data.authorId == request.auth.uid;

  // æ›´æ–°ãƒ»å‰Šé™¤: è‡ªåˆ†ã®æŠ•ç¨¿ã®ã¿
  allow update, delete: if request.auth != null
                        && resource.data.authorId == request.auth.uid;
}
```

---

## ğŸ’¡ å®Ÿè£…ã®ãƒ’ãƒ³ãƒˆ

### 1. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å†åˆ©ç”¨**

æ—¢å­˜ã®`uploadPostImage`é–¢æ•°ã‚’ä½¿ã†:
```typescript
import { uploadPostImage } from '../../utils/imageUpload';

const uploadImages = async (files: File[]) => {
  const uploadPromises = files.map(file => uploadPostImage(user.uid, file));
  const imageUrls = await Promise.all(uploadPromises);
  return imageUrls;
};
```

### 2. **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã®æ‰±ã„**

Firestoreã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ä½¿ã†:
```typescript
import { serverTimestamp } from 'firebase/firestore';

await setDoc(postRef, {
  ...postData,
  createdAt: serverTimestamp(),
});
```

### 3. **ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**

å¾Œã®ãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿè£…ã€‚Phase 2ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«æœ€æ–°20ä»¶ã‚’è¡¨ç¤ºã€‚

### 4. **ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®æŠ½å‡º**

```typescript
const extractHashtags = (content: string): string[] => {
  const regex = /#[\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF]+/g;
  const matches = content.match(regex);
  return matches ? matches.map(tag => tag.slice(1)) : [];
};
```

### 5. **ç›¸å¯¾æ™‚é–“è¡¨ç¤º**

```typescript
const getRelativeTime = (dateString: string): string => {
  const now = new Date();
  const date = new Date(dateString);
  const diffMs = now.getTime() - date.getTime();
  const diffMins = Math.floor(diffMs / 60000);

  if (diffMins < 1) return 'ãŸã£ãŸä»Š';
  if (diffMins < 60) return `${diffMins}åˆ†å‰`;
  if (diffMins < 1440) return `${Math.floor(diffMins / 60)}æ™‚é–“å‰`;
  return `${Math.floor(diffMins / 1440)}æ—¥å‰`;
};
```

---

## ğŸ¨ UIãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ã‚«ãƒ©ãƒ¼

æ—¢å­˜ã®CSSå¤‰æ•°ã‚’ä½¿ç”¨:
- ãƒ—ãƒ©ã‚¤ãƒãƒª: `var(--primary)` (#4caf50)
- ãƒ†ã‚­ã‚¹ãƒˆ: `var(--text)`
- ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ†ã‚­ã‚¹ãƒˆ: `var(--text-secondary)`
- ã‚«ãƒ¼ãƒ‰èƒŒæ™¯: `var(--card)`
- ãƒœãƒ¼ãƒ€ãƒ¼: `var(--border)`

### ã‚¢ã‚¤ã‚³ãƒ³

React Iconsã‚’ä½¿ç”¨:
- ã„ã„ã­: `MdFavorite` / `MdFavoriteBorder`
- ã‚³ãƒ¡ãƒ³ãƒˆ: `MdComment`
- ãƒªãƒã‚¹ãƒˆ: `MdRepeat`
- å…±æœ‰: `MdShare`
- å‰Šé™¤: `MdDelete`
- ç·¨é›†: `MdEdit`

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–

```css
@media (max-width: 480px) {
  /* ã‚¹ãƒãƒ›ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
}
```

---

## âš ï¸ æ³¨æ„ç‚¹

### 1. **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã®åŒæœŸ**

æŠ•ç¨¿ä½œæˆæ™‚ã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ï¼ˆåå‰ã€ã‚¢ãƒã‚¿ãƒ¼ï¼‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ç†ç”±:
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å¤‰æ›´å¾Œã‚‚éå»ã®æŠ•ç¨¿ã¯å…ƒã®åå‰ãƒ»ã‚¢ãƒã‚¿ãƒ¼ã§è¡¨ç¤º
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼ˆæ¯å›ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’å–å¾—ã—ãªãã¦æ¸ˆã‚€ï¼‰

### 2. **ç”»åƒã®ã‚µã‚¤ã‚ºåˆ¶é™**

æŠ•ç¨¿ç”»åƒã¯1080x1080ã«ãƒªã‚µã‚¤ã‚ºã•ã‚Œã‚‹ï¼ˆ`imageUpload.ts`ã§å®Ÿè£…æ¸ˆã¿ï¼‰

### 3. **æ–‡å­—æ•°åˆ¶é™**

æŠ•ç¨¿æœ¬æ–‡ã¯280æ–‡å­—ç¨‹åº¦ã‚’æ¨å¥¨ï¼ˆTwitterãƒ©ã‚¤ã‚¯ï¼‰

### 4. **ãƒãƒƒãƒã‚µã‚¤ã‚ºè­¦å‘Š**

ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ï¼ˆ1,657KBï¼‰ã®ã§ã€ä»Šå¾Œã‚³ãƒ¼ãƒ‰åˆ†å‰²ãŒå¿…è¦ã«ãªã‚‹å¯èƒ½æ€§ã‚ã‚Šã€‚

---

## ğŸ“š å‚è€ƒè³‡æ–™

### æ—¢å­˜ã®é¡ä¼¼å®Ÿè£…

- ãƒ¬ã‚·ãƒ”ä½œæˆ: `src/components/recipe/RecipeGenerator.tsx`
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: `src/utils/imageUpload.ts`
- Firestoreæ“ä½œ: `src/utils/firestore.ts`
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ“ä½œ: `src/utils/profile.ts`

### Firebaseå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- Firestore: https://firebase.google.com/docs/firestore
- Storage: https://firebase.google.com/docs/storage

---

## ğŸš€ Phase 3ä»¥é™ã®äºˆå®š

Phase 2å®Œäº†å¾Œã«å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½:

**Phase 3: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**
- ã„ã„ã­æ©Ÿèƒ½
- ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ©Ÿèƒ½

**Phase 4: ãƒ•ã‚©ãƒ­ãƒ¼æ©Ÿèƒ½**
- ãƒ•ã‚©ãƒ­ãƒ¼/ã‚¢ãƒ³ãƒ•ã‚©ãƒ­ãƒ¼
- ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ç®¡ç†
- ãƒ›ãƒ¼ãƒ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆãƒ•ã‚©ãƒ­ãƒ¼ä¸­ã®æŠ•ç¨¿ï¼‰

**Phase 5: ãƒ¬ã‚·ãƒ”å…±æœ‰**
- ãƒ¬ã‚·ãƒ”å…¬é–‹æ©Ÿèƒ½
- ãƒ¬ã‚·ãƒ”åºƒå ´

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

Phase 2å®Ÿè£…æ™‚ã«ç¢ºèªã™ã¹ãé …ç›®:

- [ ] `src/types/post.ts` ä½œæˆ
- [ ] `src/utils/post.ts` ä½œæˆ
- [ ] Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«æ›´æ–°
- [ ] `PostCreateScreen.tsx` ä½œæˆ
- [ ] `TimelineScreen.tsx` ä½œæˆ
- [ ] `PostCard.tsx` ä½œæˆï¼ˆæŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ï¼‰
- [ ] `PostDetailScreen.tsx` ä½œæˆ
- [ ] `SocialScreen.tsx` ä½œæˆï¼ˆã‚¿ãƒ–æ§‹æˆï¼‰
- [ ] BottomNavã«ã€Œã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã€è¿½åŠ 
- [ ] Layout.tsxã«çµ±åˆ
- [ ] ãƒ“ãƒ«ãƒ‰ãƒ»ã‚¨ãƒ©ãƒ¼ç¢ºèª
- [ ] å‹•ä½œãƒ†ã‚¹ãƒˆï¼ˆæŠ•ç¨¿ä½œæˆã€è¡¨ç¤ºã€å‰Šé™¤ï¼‰
- [ ] ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

---

**æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚¹ãƒ ãƒ¼ã‚ºã«é–‹å§‹ã™ã‚‹ãŸã‚ã«ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€åˆã«ç¢ºèªã—ã¦ãã ã•ã„ï¼**

**Happy Coding! ğŸš€**
