import{G as A,r as m,j as e}from"./ui-vendor-JVI_EMCz.js";import{X as q,a9 as z,r as R,q as I,a8 as D,aa as C,ab as w,ac as T,ad as H,a2 as N,l as P,ae as B,af as L,s as G,ag as V,ah as Y,ai as O}from"./index-Ckc3PZ02.js";import{g as U}from"./gemini-BWHSVO4r.js";import{P as J}from"./PostCreateScreen-DGY0GqeR.js";import"./react-vendor-Bzgz95E1.js";import"./firebase-vendor-CyvWsNSE.js";function M(r){return A({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(r)}const X=({onRecipeGenerated:r,isLoading:i,setIsLoading:f})=>{const{stocks:s}=q(),{addToHistory:n}=z(),[a,c]=m.useState(""),[l,y]=m.useState("none"),[x,v]=m.useState("none"),[d,u]=m.useState(""),b=[{value:"none",label:"æŒ‡å®šãªã—",icon:e.jsx(D,{size:16})},{value:"super_easy",label:"è¶…ç°¡å˜",icon:e.jsx(C,{size:16})},{value:"under_5min",label:"5åˆ†ä»¥å†…",icon:e.jsx(w,{size:16})},{value:"under_10min",label:"10åˆ†ä»¥å†…",icon:e.jsx(T,{size:16})},{value:"no_fire",label:"ç«ã‚’ä½¿ã‚ãªã„",icon:e.jsx(M,{size:16})}],F=[{value:"none",label:"æŒ‡å®šãªã—",icon:e.jsx(R,{size:16})},{value:"vegetarian",label:"ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³",icon:e.jsx("span",{children:"ğŸ¥—"})},{value:"vegan",label:"ãƒ´ã‚£ãƒ¼ã‚¬ãƒ³",icon:e.jsx("span",{children:"ğŸŒ±"})}],W=()=>{const t=s.filter(p=>p.quantity>0).map(p=>p.name).slice(0,10).join(", ");c(t)},_=async()=>{if(!a.trim()){alert("ææ–™ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");return}f(!0);try{const t=a.split(/[,ã€]/).map(k=>k.trim()).filter(k=>k.length>0),p=await U(t,x,l,d),g={id:H(),title:`${t.slice(0,3).join("ã€")}ã‚’ä½¿ã£ãŸãƒ¬ã‚·ãƒ”`,content:p,ingredients:t,difficulty:l,dietaryRestriction:x,customRequest:d,isFavorite:!1,createdAt:new Date().toISOString()};n(g),r(g)}catch(t){console.error("ãƒ¬ã‚·ãƒ”ç”Ÿæˆã‚¨ãƒ©ãƒ¼:",t),alert("ãƒ¬ã‚·ãƒ”ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")}finally{f(!1)}};return e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(R,{size:20}),"ãƒ¬ã‚·ãƒ”ã‚’ç”Ÿæˆ"]}),e.jsx("label",{children:"ææ–™ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰"}),e.jsx("input",{value:a,onChange:t=>c(t.target.value),placeholder:"ä¾‹: é¶è‚‰, ã˜ã‚ƒãŒã„ã‚‚, ç‰ã­ã",disabled:i}),e.jsxs("button",{onClick:W,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:i,children:[e.jsx(I,{size:18,style:{marginRight:"6px"}}),"åœ¨åº«ã®ææ–™ã‚’ä½¿ã†"]}),e.jsx("label",{children:"é›£æ˜“åº¦"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:b.map(t=>e.jsx("button",{onClick:()=>y(t.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===t.value?"var(--primary)":"var(--border)"}`,background:l===t.value?"var(--primary)":"var(--card)",color:l===t.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===t.value?600:400},disabled:i,children:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[t.icon," ",t.label]})},t.value))}),e.jsx("label",{children:"é£Ÿäº‹åˆ¶é™"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:F.map(t=>e.jsx("button",{onClick:()=>v(t.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${x===t.value?"var(--primary)":"var(--border)"}`,background:x===t.value?"var(--primary)":"var(--card)",color:x===t.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:x===t.value?600:400},disabled:i,children:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[t.icon," ",t.label]})},t.value))}),e.jsx("label",{children:"ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰"}),e.jsx("textarea",{value:d,onChange:t=>u(t.target.value),placeholder:"ä¾‹: è¾›ã‚ã«ä½œã‚ŠãŸã„ã€å­ä¾›å‘ã‘ã«å„ªã—ã„å‘³ã§",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:i}),e.jsxs("button",{className:"submit",onClick:_,disabled:i,children:[e.jsx(D,{size:18,style:{marginRight:"8px"}}),"ãƒ¬ã‚·ãƒ”ã‚’ç”Ÿæˆã™ã‚‹"]})]})},Z=({recipe:r,onAttachToPost:i})=>{const{addToHistory:f,addToFavorites:s,removeFromFavorites:n,favoriteRecipes:a}=z(),{addStock:c,stocks:l,updateStock:y,deleteStock:x}=q(),{addItem:v}=N(),{addIntake:d}=P(),u=a.some(t=>t.id===r.id),b=()=>{u?n(r.id):(s(r),f(r))},F=()=>{confirm(`ææ–™ ${r.ingredients.length} å€‹ã‚’åœ¨åº«ã«è¿½åŠ ã—ã¾ã™ã‹ï¼Ÿ
ï¼ˆè³å‘³æœŸé™ã¯7æ—¥å¾Œã«è¨­å®šã•ã‚Œã¾ã™ï¼‰`)&&(r.ingredients.forEach(t=>{c({name:t,quantity:1,daysRemaining:7})}),alert(`${r.ingredients.length}å€‹ã®ææ–™ã‚’åœ¨åº«ã«è¿½åŠ ã—ã¾ã—ãŸï¼`))},W=()=>{confirm(`ææ–™ ${r.ingredients.length} å€‹ã‚’è²·ã„ç‰©ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã‹ï¼Ÿ`)&&(r.ingredients.forEach(t=>{v({name:t,quantity:1})}),alert(`${r.ingredients.length}å€‹ã®ææ–™ã‚’è²·ã„ç‰©ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸï¼`))},_=()=>{const t=[],p=[];r.ingredients.forEach(o=>{const $=l.find(E=>E.name===o);$?p.push({name:o,stockId:$.id,quantity:$.quantity}):t.push(o)});let g=`ã“ã®ãƒ¬ã‚·ãƒ”ã‚’ä½œã‚Šã¾ã™ã‹ï¼Ÿ

`;if(p.length>0&&(g+=`åœ¨åº«ã‹ã‚‰ä½¿ç”¨ã™ã‚‹ææ–™ï¼ˆ${p.length}å€‹ï¼‰:
`,p.forEach(o=>{g+=`ãƒ»${o.name} (æ®‹ã‚Š: ${o.quantity}å€‹)
`})),t.length>0&&(g+=`
âš ï¸ åœ¨åº«ã«ãªã„ææ–™ï¼ˆ${t.length}å€‹ï¼‰:
`,t.forEach(o=>{g+=`ãƒ»${o}
`}),g+=`
â€»åœ¨åº«ã«ãªã„ææ–™ã¯æ¸›ã‚‰ã•ã‚Œã¾ã›ã‚“`),g+=`

é£Ÿäº‹è¨˜éŒ²ã«ã‚‚è¿½åŠ ã•ã‚Œã¾ã™ã€‚`,!confirm(g))return;p.forEach(o=>{o.quantity>1?y(o.stockId,{quantity:o.quantity-1}):x(o.stockId)});const j=new Date().getHours();let h;j>=5&&j<10?h="breakfast":j>=10&&j<15?h="lunch":j>=15&&j<21?h="dinner":h="snack",d({name:r.title,calories:500,price:0,category:h});let S=`ãƒ¬ã‚·ãƒ”ã‚’ä½œã‚Šã¾ã—ãŸï¼

`;p.length>0&&(S+=`${p.length}å€‹ã®ææ–™ã‚’åœ¨åº«ã‹ã‚‰æ¸›ã‚‰ã—ã¾ã—ãŸ
`),S+=`é£Ÿäº‹è¨˜éŒ²ã«è¿½åŠ ã—ã¾ã—ãŸï¼ˆ${h==="breakfast"?"æœé£Ÿ":h==="lunch"?"æ˜¼é£Ÿ":h==="dinner"?"å¤•é£Ÿ":"é–“é£Ÿ"}ï¼‰`,t.length>0&&(S+=`

è²·ã„ç‰©ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¦ãã ã•ã„:
`,t.forEach(o=>{S+=`ãƒ»${o}
`})),alert(S)};return e.jsxs("div",{className:"card",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[e.jsx("h3",{children:r.title}),e.jsx("button",{onClick:b,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:u?"#fbbf24":"var(--text-secondary)"},title:u?"ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤":"ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ",children:u?e.jsx(B,{size:28}):e.jsx(L,{size:28})})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[r.difficulty&&r.difficulty!=="none"&&e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:e.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:e.jsxs(e.Fragment,{children:[e.jsx(C,{size:14})," è¶…ç°¡å˜"]}),under_5min:e.jsxs(e.Fragment,{children:[e.jsx(w,{size:14})," 5åˆ†ä»¥å†…"]}),under_10min:e.jsxs(e.Fragment,{children:[e.jsx(T,{size:14})," 10åˆ†ä»¥å†…"]}),no_fire:e.jsxs(e.Fragment,{children:[e.jsx(M,{size:14})," ç«ã‚’ä½¿ã‚ãªã„"]}),none:""}[r.difficulty]})}),r.dietaryRestriction&&r.dietaryRestriction!=="none"&&e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"ğŸ¥— ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³",vegan:"ğŸŒ± ãƒ´ã‚£ãƒ¼ã‚¬ãƒ³",none:""}[r.dietaryRestriction]})]}),e.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:r.content}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[e.jsxs("button",{onClick:_,style:{background:"#f97316",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",gridColumn:"span 2"},children:[e.jsx(R,{size:18})," ã“ã®ãƒ¬ã‚·ãƒ”ã‚’ä½œã‚‹"]}),e.jsxs("button",{onClick:F,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(I,{size:18})," åœ¨åº«ã«è¿½åŠ "]}),e.jsxs("button",{onClick:W,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(G,{size:18})," è²·ã„ç‰©ãƒªã‚¹ãƒˆã¸"]}),i&&e.jsxs("button",{onClick:()=>i(r),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",gridColumn:"span 2"},children:[e.jsx(V,{size:18})," æŠ•ç¨¿ã«æ·»ä»˜"]})]})]})},K=({onRecipeSelect:r})=>{const{recipeHistory:i}=z();if(i.length===0)return null;const f=s=>{const n=new Date(s),c=new Date().getTime()-n.getTime(),l=Math.floor(c/6e4),y=Math.floor(c/36e5),x=Math.floor(c/864e5);return l<1?"ãŸã£ãŸä»Š":l<60?`${l}åˆ†å‰`:y<24?`${y}æ™‚é–“å‰`:x<7?`${x}æ—¥å‰`:n.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Y,{size:20}),"ãƒ¬ã‚·ãƒ”å±¥æ­´"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.map(s=>e.jsxs("div",{onClick:()=>r(s.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:n=>{n.currentTarget.style.background="var(--background)",n.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:n=>{n.currentTarget.style.background="var(--card)",n.currentTarget.style.transform="translateY(0)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[e.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:s.recipe.title}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:f(s.generatedAt)})]}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[s.recipe.ingredients&&s.recipe.ingredients.slice(0,3).map((n,a)=>e.jsxs("span",{children:[n,a<Math.min((s.recipe.ingredients?.length||0)-1,2)?"ã€":""]},a)),s.recipe.ingredients&&s.recipe.ingredients.length>3&&e.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["ä»–",s.recipe.ingredients.length-3,"å€‹"]})]}),(s.recipe.difficulty!=="none"||s.recipe.dietaryRestriction!=="none")&&e.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[s.recipe.difficulty&&s.recipe.difficulty!=="none"&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:e.jsx(C,{size:12}),under_5min:e.jsx(w,{size:12}),under_10min:e.jsx(T,{size:12}),no_fire:e.jsx(M,{size:12}),none:""}[s.recipe.difficulty]}),s.recipe.dietaryRestriction&&s.recipe.dietaryRestriction!=="none"&&e.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"ğŸ¥—",vegan:"ğŸŒ±",none:""}[s.recipe.dietaryRestriction]})]})]},s.id))})]})},Q=({onRecipeSelect:r})=>{const{favoriteRecipes:i,removeFromFavorites:f}=z();if(i.length===0)return null;const s=(n,a)=>{n.stopPropagation(),confirm("ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")&&f(a)};return e.jsxs("div",{className:"card",children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(B,{size:20,color:"#fbbf24"}),"ãŠæ°—ã«å…¥ã‚Šãƒ¬ã‚·ãƒ”"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:i.map(n=>e.jsxs("div",{onClick:()=>r(n),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:n.title}),e.jsx("button",{onClick:a=>s(a,n.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤",children:e.jsx(B,{size:24})})]}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[e.jsx("span",{style:{fontWeight:500},children:"ææ–™:"}),n.ingredients&&n.ingredients.slice(0,4).map((a,c)=>e.jsxs("span",{children:[a,c<Math.min((n.ingredients?.length||0)-1,3)?"ã€":""]},c)),n.ingredients&&n.ingredients.length>4&&e.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["ä»–",n.ingredients.length-4,"å€‹"]})]}),(n.difficulty&&n.difficulty!=="none"||n.dietaryRestriction&&n.dietaryRestriction!=="none")&&e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[n.difficulty&&n.difficulty!=="none"&&e.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:e.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:e.jsxs(e.Fragment,{children:[e.jsx(C,{size:14})," è¶…ç°¡å˜"]}),under_5min:e.jsxs(e.Fragment,{children:[e.jsx(w,{size:14})," 5åˆ†ä»¥å†…"]}),under_10min:e.jsxs(e.Fragment,{children:[e.jsx(T,{size:14})," 10åˆ†ä»¥å†…"]}),no_fire:e.jsxs(e.Fragment,{children:[e.jsx(M,{size:14})," ç«ã‚’ä½¿ã‚ãªã„"]}),none:""}[n.difficulty]})}),n.dietaryRestriction&&n.dietaryRestriction!=="none"&&e.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"ğŸ¥— ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³",vegan:"ğŸŒ± ãƒ´ã‚£ãƒ¼ã‚¬ãƒ³",none:""}[n.dietaryRestriction]})]}),n.customRequest&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[e.jsx(O,{size:14,style:{marginTop:"2px",flexShrink:0}}),n.customRequest]})]},n.id))})]})},ie=()=>{const[r,i]=m.useState(null),[f,s]=m.useState(!1),[n,a]=m.useState(!1),[c,l]=m.useState(null),y=d=>{let u="easy";d.difficulty==="super_easy"||d.difficulty==="under_5min"?u="easy":d.difficulty==="under_10min"?u="medium":d.difficulty==="no_fire"&&(u="easy");const b={title:d.title,description:d.content.substring(0,100),ingredients:d.ingredients,instructions:d.content.split(`

`).slice(1),difficulty:u,servings:2,preparationTime:15,cookingTime:30};l(b),a(!0)},x=()=>{a(!1),l(null)},v=()=>{a(!1),l(null),alert("ãƒ¬ã‚·ãƒ”ã‚’æŠ•ç¨¿ã—ã¾ã—ãŸï¼")};return e.jsxs("section",{className:"screen active",children:[e.jsx("h2",{children:"AIãƒ¬ã‚·ãƒ”ç”Ÿæˆ"}),e.jsx(X,{onRecipeGenerated:i,isLoading:f,setIsLoading:s}),f&&e.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:e.jsx(R,{size:48})}),e.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"ãƒ¬ã‚·ãƒ”ã‚’ç”Ÿæˆä¸­..."}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIãŒãƒ¬ã‚·ãƒ”ã‚’è€ƒãˆã¦ã„ã¾ã™"})]}),r&&!f&&e.jsx(Z,{recipe:r,onAttachToPost:y}),e.jsx(K,{onRecipeSelect:i}),e.jsx(Q,{onRecipeSelect:i}),n&&e.jsx(J,{onClose:x,onPostCreated:v,recipeData:c||void 0})]})};export{ie as RecipeScreen};
