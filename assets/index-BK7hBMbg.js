function kU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l2={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4;function jU(){if(Q4)return ch;Q4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ch.Fragment=e,ch.jsx=n,ch.jsxs=n,ch}var Z4;function LU(){return Z4||(Z4=1,l2.exports=jU()),l2.exports}var y=LU(),c2={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4;function BU(){if(J4)return He;J4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=S.prototype;function I(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}var R=I.prototype=new O;R.constructor=I,w(R,S.prototype),R.isPureReactComponent=!0;var k=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function j(G,ee,ye){var be=ye.ref;return{$$typeof:t,type:G,key:ee,ref:be!==void 0?be:null,props:ye}}function z(G,ee){return j(G.type,ee,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var F=/\/+/g;function pe(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function _e(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function X(G,ee,ye,be,Pe){var qe=typeof G;(qe==="undefined"||qe==="boolean")&&(G=null);var rt=!1;if(G===null)rt=!0;else switch(qe){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(G.$$typeof){case t:case e:rt=!0;break;case d:return rt=G._init,X(rt(G._payload),ee,ye,be,Pe)}}if(rt)return Pe=Pe(G),rt=be===""?"."+pe(G,0):be,k(Pe)?(ye="",rt!=null&&(ye=rt.replace(F,"$&/")+"/"),X(Pe,ee,ye,"",function(ze){return ze})):Pe!=null&&(U(Pe)&&(Pe=z(Pe,ye+(Pe.key==null||G&&G.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+rt)),ee.push(Pe)),1;rt=0;var yn=be===""?".":be+":";if(k(G))for(var ge=0;ge<G.length;ge++)be=G[ge],qe=yn+pe(be,ge),rt+=X(be,ee,ye,qe,Pe);else if(ge=m(G),typeof ge=="function")for(G=ge.call(G),ge=0;!(be=G.next()).done;)be=be.value,qe=yn+pe(be,ge++),rt+=X(be,ee,ye,qe,Pe);else if(qe==="object"){if(typeof G.then=="function")return X(_e(G),ee,ye,be,Pe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return rt}function re(G,ee,ye){if(G==null)return G;var be=[],Pe=0;return X(G,be,"","",function(qe){return ee.call(ye,qe,Pe++)}),be}function de(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var we=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ke={map:re,forEach:function(G,ee,ye){re(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return re(G,function(){ee++}),ee},toArray:function(G){return re(G,function(ee){return ee})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return He.Activity=p,He.Children=ke,He.Component=S,He.Fragment=n,He.Profiler=i,He.PureComponent=I,He.StrictMode=r,He.Suspense=u,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,He.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},He.cache=function(G){return function(){return G.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=w({},G.props),Pe=G.key;if(ee!=null)for(qe in ee.key!==void 0&&(Pe=""+ee.key),ee)!M.call(ee,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ee.ref===void 0||(be[qe]=ee[qe]);var qe=arguments.length-2;if(qe===1)be.children=ye;else if(1<qe){for(var rt=Array(qe),yn=0;yn<qe;yn++)rt[yn]=arguments[yn+2];be.children=rt}return j(G.type,Pe,be)},He.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},He.createElement=function(G,ee,ye){var be,Pe={},qe=null;if(ee!=null)for(be in ee.key!==void 0&&(qe=""+ee.key),ee)M.call(ee,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Pe[be]=ee[be]);var rt=arguments.length-2;if(rt===1)Pe.children=ye;else if(1<rt){for(var yn=Array(rt),ge=0;ge<rt;ge++)yn[ge]=arguments[ge+2];Pe.children=yn}if(G&&G.defaultProps)for(be in rt=G.defaultProps,rt)Pe[be]===void 0&&(Pe[be]=rt[be]);return j(G,qe,Pe)},He.createRef=function(){return{current:null}},He.forwardRef=function(G){return{$$typeof:l,render:G}},He.isValidElement=U,He.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:de}},He.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},He.startTransition=function(G){var ee=P.T,ye={};P.T=ye;try{var be=G(),Pe=P.S;Pe!==null&&Pe(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(L,we)}catch(qe){we(qe)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),P.T=ee}},He.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},He.use=function(G){return P.H.use(G)},He.useActionState=function(G,ee,ye){return P.H.useActionState(G,ee,ye)},He.useCallback=function(G,ee){return P.H.useCallback(G,ee)},He.useContext=function(G){return P.H.useContext(G)},He.useDebugValue=function(){},He.useDeferredValue=function(G,ee){return P.H.useDeferredValue(G,ee)},He.useEffect=function(G,ee){return P.H.useEffect(G,ee)},He.useEffectEvent=function(G){return P.H.useEffectEvent(G)},He.useId=function(){return P.H.useId()},He.useImperativeHandle=function(G,ee,ye){return P.H.useImperativeHandle(G,ee,ye)},He.useInsertionEffect=function(G,ee){return P.H.useInsertionEffect(G,ee)},He.useLayoutEffect=function(G,ee){return P.H.useLayoutEffect(G,ee)},He.useMemo=function(G,ee){return P.H.useMemo(G,ee)},He.useOptimistic=function(G,ee){return P.H.useOptimistic(G,ee)},He.useReducer=function(G,ee,ye){return P.H.useReducer(G,ee,ye)},He.useRef=function(G){return P.H.useRef(G)},He.useState=function(G){return P.H.useState(G)},He.useSyncExternalStore=function(G,ee,ye){return P.H.useSyncExternalStore(G,ee,ye)},He.useTransition=function(){return P.H.useTransition()},He.version="19.2.0",He}var eI;function Bf(){return eI||(eI=1,c2.exports=BU()),c2.exports}var T=Bf();const Ur=wo(T),UU=kU({__proto__:null,default:Ur},[T]);var u2={exports:{}},uh={},f2={exports:{}},d2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function FU(){return tI||(tI=1,(function(t){function e(X,re){var de=X.length;X.push(re);e:for(;0<de;){var we=de-1>>>1,ke=X[we];if(0<i(ke,re))X[we]=re,X[de]=ke,de=we;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],de=X.pop();if(de!==re){X[0]=de;e:for(var we=0,ke=X.length,G=ke>>>1;we<G;){var ee=2*(we+1)-1,ye=X[ee],be=ee+1,Pe=X[be];if(0>i(ye,de))be<ke&&0>i(Pe,ye)?(X[we]=Pe,X[be]=de,we=be):(X[we]=ye,X[ee]=de,we=ee);else if(be<ke&&0>i(Pe,de))X[we]=Pe,X[be]=de,we=be;else break e}}return re}function i(X,re){var de=X.sortIndex-re.sortIndex;return de!==0?de:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],d=1,p=null,v=3,m=!1,b=!1,w=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function R(X){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=X)r(f),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(f)}}function k(X){if(w=!1,R(X),!b)if(n(u)!==null)b=!0,L||(L=!0,H());else{var re=n(f);re!==null&&_e(k,re.startTime-X)}}var L=!1,P=-1,M=5,j=-1;function z(){return A?!0:!(t.unstable_now()-j<M)}function U(){if(A=!1,L){var X=t.unstable_now();j=X;var re=!0;try{e:{b=!1,w&&(w=!1,O(P),P=-1),m=!0;var de=v;try{t:{for(R(X),p=n(u);p!==null&&!(p.expirationTime>X&&z());){var we=p.callback;if(typeof we=="function"){p.callback=null,v=p.priorityLevel;var ke=we(p.expirationTime<=X);if(X=t.unstable_now(),typeof ke=="function"){p.callback=ke,R(X),re=!0;break t}p===n(u)&&r(u),R(X)}else r(u);p=n(u)}if(p!==null)re=!0;else{var G=n(f);G!==null&&_e(k,G.startTime-X),re=!1}}break e}finally{p=null,v=de,m=!1}re=void 0}}finally{re?H():L=!1}}}var H;if(typeof I=="function")H=function(){I(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,pe=F.port2;F.port1.onmessage=U,H=function(){pe.postMessage(null)}}else H=function(){S(U,0)};function _e(X,re){P=S(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var de=v;v=re;try{return X()}finally{v=de}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=v;v=X;try{return re()}finally{v=de}},t.unstable_scheduleCallback=function(X,re,de){var we=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?we+de:we):de=we,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,X={id:d++,callback:re,priorityLevel:X,startTime:de,expirationTime:ke,sortIndex:-1},de>we?(X.sortIndex=de,e(f,X),n(u)===null&&X===n(f)&&(w?(O(P),P=-1):w=!0,_e(k,de-we))):(X.sortIndex=ke,e(u,X),b||m||(b=!0,L||(L=!0,H()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var re=v;return function(){var de=v;v=re;try{return X.apply(this,arguments)}finally{v=de}}}})(d2)),d2}var nI;function VU(){return nI||(nI=1,f2.exports=FU()),f2.exports}var h2={exports:{}},Nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function zU(){if(rI)return Nr;rI=1;var t=Bf();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nr.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,d)},Nr.flushSync=function(u){var f=o.T,d=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=d,r.d.f()}},Nr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Nr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Nr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Nr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Nr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=l(d,f.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Nr.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Nr.requestFormReset=function(u){r.d.r(u)},Nr.unstable_batchedUpdates=function(u,f){return u(f)},Nr.useFormState=function(u,f,d){return o.H.useFormState(u,f,d)},Nr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Nr.version="19.2.0",Nr}var iI;function $N(){if(iI)return h2.exports;iI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h2.exports=zU(),h2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function HU(){if(aI)return uh;aI=1;var t=VU(),e=Bf(),n=$N();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,g=c;;){var _=h.return;if(_===null)break;var E=_.alternate;if(E===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===h)return u(_),s;if(E===g)return u(_),c;E=E.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=E;else{for(var N=!1,B=_.child;B;){if(B===h){N=!0,h=_,g=E;break}if(B===g){N=!0,g=_,h=E;break}B=B.sibling}if(!N){for(B=E.child;B;){if(B===h){N=!0,h=E,g=_;break}if(B===g){N=!0,g=E,h=_;break}B=B.sibling}if(!N)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function d(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=d(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case I:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case R:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return c=s.displayName||null,c!==null?c:pe(s.type)||"Memo";case M:c=s._payload,s=s._init;try{return pe(s(c))}catch{}}return null}var _e=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},we=[],ke=-1;function G(s){return{current:s}}function ee(s){0>ke||(s.current=we[ke],we[ke]=null,ke--)}function ye(s,c){ke++,we[ke]=s.current,s.current=c}var be=G(null),Pe=G(null),qe=G(null),rt=G(null);function yn(s,c){switch(ye(qe,c),ye(Pe,s),ye(be,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?_4(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=_4(c),s=b4(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(be),ye(be,s)}function ge(){ee(be),ee(Pe),ee(qe)}function ze(s){s.memoizedState!==null&&ye(rt,s);var c=be.current,h=b4(c,s.type);c!==h&&(ye(Pe,s),ye(be,h))}function Xe(s){Pe.current===s&&(ee(be),ee(Pe)),rt.current===s&&(ee(rt),ah._currentValue=de)}var he,xn;function Ze(s){if(he===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);he=c&&c[1]||"",xn=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+xn}var Hn=!1;function _n(s,c){if(!s||Hn)return"";Hn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var te=ae}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ae){te=ae}s.call(ue.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),N=E[0],B=E[1];if(N&&B){var q=N.split(`
`),J=B.split(`
`);for(_=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;_<J.length&&!J[_].includes("DetermineComponentFrameRoot");)_++;if(g===q.length||_===J.length)for(g=q.length-1,_=J.length-1;1<=g&&0<=_&&q[g]!==J[_];)_--;for(;1<=g&&0<=_;g--,_--)if(q[g]!==J[_]){if(g!==1||_!==1)do if(g--,_--,0>_||q[g]!==J[_]){var se=`
`+q[g].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=g&&0<=_);break}}}finally{Hn=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ze(h):""}function mi(s,c){switch(s.tag){case 26:case 27:case 5:return Ze(s.type);case 16:return Ze("Lazy");case 13:return s.child!==c&&c!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return _n(s.type,!1);case 11:return _n(s.type.render,!1);case 1:return _n(s.type,!0);case 31:return Ze("Activity");default:return""}}function ws(s){try{var c="",h=null;do c+=mi(s,h),h=s,s=s.return;while(s);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var In=Object.prototype.hasOwnProperty,$n=t.unstable_scheduleCallback,Es=t.unstable_cancelCallback,uy=t.unstable_shouldYield,t0=t.unstable_requestPaint,Hr=t.unstable_now,Wl=t.unstable_getCurrentPriorityLevel,ld=t.unstable_ImmediatePriority,cd=t.unstable_UserBlockingPriority,As=t.unstable_NormalPriority,fy=t.unstable_LowPriority,n0=t.unstable_IdlePriority,r0=t.log,i0=t.unstable_setDisableYieldValue,ma=null,gr=null;function Fi(s){if(typeof r0=="function"&&i0(s),gr&&typeof gr.setStrictMode=="function")try{gr.setStrictMode(ma,s)}catch{}}var bn=Math.clz32?Math.clz32:o0,a0=Math.log,du=Math.LN2;function o0(s){return s>>>=0,s===0?32:31-(a0(s)/du|0)|0}var Fa=256,Kl=262144,On=4194304;function Va(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function za(s,c,h){var g=s.pendingLanes;if(g===0)return 0;var _=0,E=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var B=g&134217727;return B!==0?(g=B&~E,g!==0?_=Va(g):(N&=B,N!==0?_=Va(N):h||(h=B&~s,h!==0&&(_=Va(h))))):(B=g&~E,B!==0?_=Va(B):N!==0?_=Va(N):h||(h=g&~s,h!==0&&(_=Va(h)))),_===0?0:c!==0&&c!==_&&(c&E)===0&&(E=_&-_,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:_}function ya(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function dy(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s0(){var s=On;return On<<=1,(On&62914560)===0&&(On=4194304),s}function Ha(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function Xl(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hy(s,c,h,g,_,E){var N=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var B=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(h=N&~h;0<h;){var se=31-bn(h),ue=1<<se;B[se]=0,q[se]=-1;var te=J[se];if(te!==null)for(J[se]=null,se=0;se<te.length;se++){var ae=te[se];ae!==null&&(ae.lane&=-536870913)}h&=~ue}g!==0&&Yl(s,g,0),E!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=E&~(N&~c))}function Yl(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var g=31-bn(c);s.entangledLanes|=c,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function ud(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var g=31-bn(h),_=1<<g;_&c|s[g]&c&&(s[g]|=c),h&=~_}}function fd(s,c){var h=c&-c;return h=(h&42)!==0?1:Ql(h),(h&(s.suspendedLanes|c))!==0?0:h}function Ql(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Io(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function l0(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:$4(s.type))}function xa(s,c){var h=re.p;try{return re.p=s,c()}finally{re.p=h}}var _a=Math.random().toString(36).slice(2),Rn="__reactFiber$"+_a,rr="__reactProps$"+_a,$a="__reactContainer$"+_a,hu="__reactEvents$"+_a,py="__reactListeners$"+_a,c0="__reactHandles$"+_a,u0="__reactResources$"+_a,qa="__reactMarker$"+_a;function pu(s){delete s[Rn],delete s[rr],delete s[hu],delete s[py],delete s[c0]}function Ga(s){var c=s[Rn];if(c)return c;for(var h=s.parentNode;h;){if(c=h[$a]||h[Rn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=I4(s);s!==null;){if(h=s[Rn])return h;s=I4(s)}return c}s=h,h=s.parentNode}return null}function Vi(s){if(s=s[Rn]||s[$a]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function yi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Wa(s){var c=s[u0];return c||(c=s[u0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Pn(s){s[qa]=!0}var dd=new Set,hd={};function Ka(s,c){Xa(s,c),Xa(s+"Capture",c)}function Xa(s,c){for(hd[s]=c,s=0;s<c.length;s++)dd.add(c[s])}var pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},vd={};function f0(s){return In.call(vd,s)?!0:In.call(gd,s)?!1:pd.test(s)?vd[s]=!0:(gd[s]=!0,!1)}function gu(s,c,h){if(f0(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function xi(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function Nn(s,c,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+g)}}function ir(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ss(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function md(s,c,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,E=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return _.call(this)},set:function(N){h=""+N,E.call(this,N)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ot(s){if(!s._valueTracker){var c=Ss(s)?"checked":"value";s._valueTracker=md(s,c,""+s[c])}}function Zl(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return s&&(g=Ss(s)?s.checked?"true":"false":s.value),s=g,s!==h?(c.setValue(s),!0):!1}function Ya(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Jl=/[\n"\\]/g;function ei(s){return s.replace(Jl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function vu(s,c,h,g,_,E,N,B){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),c!=null?N==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+ir(c)):s.value!==""+ir(c)&&(s.value=""+ir(c)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),c!=null?yd(s,N,ir(c)):h!=null?yd(s,N,ir(h)):g!=null&&s.removeAttribute("value"),_==null&&E!=null&&(s.defaultChecked=!!E),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+ir(B):s.removeAttribute("name")}function d0(s,c,h,g,_,E,N,B){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){Ot(s);return}h=h!=null?""+ir(h):"",c=c!=null?""+ir(c):h,B||c===s.value||(s.value=c),s.defaultValue=c}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=B?s.checked:!!g,s.defaultChecked=!!g,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N),Ot(s)}function yd(s,c,h){c==="number"&&Ya(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Ts(s,c,h,g){if(s=s.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=c.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&g&&(s[h].defaultSelected=!0)}else{for(h=""+ir(h),c=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}c!==null||s[_].disabled||(c=s[_])}c!==null&&(c.selected=!0)}}function h0(s,c,h){if(c!=null&&(c=""+ir(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+ir(h):""}function Cs(s,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(_e(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=ir(c),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),Ot(s)}function ti(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var p0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(s,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":g?s.setProperty(c,h):typeof h!="number"||h===0||p0.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function _d(s,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var _ in c)g=c[_],c.hasOwnProperty(_)&&h[_]!==g&&xd(s,_,g)}else for(var E in c)c.hasOwnProperty(E)&&xd(s,E,c[E])}function mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(s){return Is.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ba(){}var bd=null;function zi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Os=null,Qa=null;function ec(s){var c=Vi(s);if(c&&(s=c.stateNode)){var h=s[rr]||null;e:switch(s=c.stateNode,c.type){case"input":if(vu(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ei(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==s&&g.form===s.form){var _=g[rr]||null;if(!_)throw Error(r(90));vu(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===s.form&&Zl(g)}break e;case"textarea":h0(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Ts(s,!!h.multiple,c,!1)}}}var xu=!1;function Rs(s,c,h){if(xu)return s(c,h);xu=!0;try{var g=s(c);return g}finally{if(xu=!1,(Os!==null||Qa!==null)&&(l1(),Os&&(c=Os,s=Qa,Qa=Os=null,ec(c),s)))for(c=0;c<s.length;c++)ec(s[c])}}function wa(s,c){var h=s.stateNode;if(h===null)return null;var g=h[rr]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(Hi)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){tc=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{tc=!1}var Za=null,wd=null,nc=null;function Ed(){if(nc)return nc;var s,c=wd,h=c.length,g,_="value"in Za?Za.value:Za.textContent,E=_.length;for(s=0;s<h&&c[s]===_[s];s++);var N=h-s;for(g=1;g<=N&&c[h-g]===_[E-g];g++);return nc=_.slice(s,1<g?1-g:void 0)}function rc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Oo(){return!0}function Ea(){return!1}function vr(s){function c(h,g,_,E,N){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Oo:Ea,this.isPropagationStopped=Ea,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),c}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=vr(Ro),Ps=p({},Ro,{view:0,detail:0}),Ad=vr(Ps),Ns,_u,eo,bu=p({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==eo&&(eo&&s.type==="mousemove"?(Ns=s.screenX-eo.screenX,_u=s.screenY-eo.screenY):_u=Ns=0,eo=s),Ns)},movementY:function(s){return"movementY"in s?s.movementY:_u}}),Sd=vr(bu),ic=p({},bu,{dataTransfer:0}),v0=vr(ic),m0=p({},Ps,{relatedTarget:0}),ac=vr(m0),Td=p({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=vr(Td),wu=p({},Ro,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),x0=vr(wu),_0=p({},Ro,{data:0}),to=vr(_0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=E0[s])?!!c[s]:!1}function Ds(){return A0}var $r=p({},Ps,{key:function(s){if(s.key){var c=b0[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=rc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?w0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(s){return s.type==="keypress"?rc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?rc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),S0=vr($r),T0=p({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=vr(T0),x=p({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),C=vr(x),D=p({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=vr(D),Y=p({},bu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=vr(Y),ve=p({},Ro,{newState:0,oldState:0}),Ge=vr(ve),wn=[9,13,27,32],bt=Hi&&"CompositionEvent"in window,tn=null;Hi&&"documentMode"in document&&(tn=document.documentMode);var $i=Hi&&"TextEvent"in window&&!tn,no=Hi&&(!bt||tn&&8<tn&&11>=tn),Aa=" ",Sa=!1;function oc(s,c){switch(s){case"keyup":return wn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Au=!1;function aB(s,c){switch(s){case"compositionend":return Eu(c);case"keypress":return c.which!==32?null:(Sa=!0,Aa);case"textInput":return s=c.data,s===Aa&&Sa?null:s;default:return null}}function oB(s,c){if(Au)return s==="compositionend"||!bt&&oc(s,c)?(s=Ed(),nc=wd=Za=null,Au=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return no&&c.locale!=="ko"?null:c.data;default:return null}}var sB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PT(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!sB[s.type]:c==="textarea"}function NT(s,c,h,g){Os?Qa?Qa.push(g):Qa=[g]:Os=g,c=g1(c,"onChange"),0<c.length&&(h=new Ja("onChange","change",null,h,g),s.push({event:h,listeners:c}))}var Cd=null,Id=null;function lB(s){p4(s,0)}function C0(s){var c=yi(s);if(Zl(c))return s}function DT(s,c){if(s==="change")return c}var MT=!1;if(Hi){var gy;if(Hi){var vy="oninput"in document;if(!vy){var kT=document.createElement("div");kT.setAttribute("oninput","return;"),vy=typeof kT.oninput=="function"}gy=vy}else gy=!1;MT=gy&&(!document.documentMode||9<document.documentMode)}function jT(){Cd&&(Cd.detachEvent("onpropertychange",LT),Id=Cd=null)}function LT(s){if(s.propertyName==="value"&&C0(Id)){var c=[];NT(c,Id,s,zi(s)),Rs(lB,c)}}function cB(s,c,h){s==="focusin"?(jT(),Cd=c,Id=h,Cd.attachEvent("onpropertychange",LT)):s==="focusout"&&jT()}function uB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return C0(Id)}function fB(s,c){if(s==="click")return C0(c)}function dB(s,c){if(s==="input"||s==="change")return C0(c)}function hB(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var _i=typeof Object.is=="function"?Object.is:hB;function Od(s,c){if(_i(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!In.call(c,_)||!_i(s[_],c[_]))return!1}return!0}function BT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function UT(s,c){var h=BT(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=c&&g>=c)return{node:h,offset:c-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=BT(h)}}function FT(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?FT(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function VT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ya(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=Ya(s.document)}return c}function my(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var pB=Hi&&"documentMode"in document&&11>=document.documentMode,Su=null,yy=null,Rd=null,xy=!1;function zT(s,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;xy||Su==null||Su!==Ya(g)||(g=Su,"selectionStart"in g&&my(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Rd&&Od(Rd,g)||(Rd=g,g=g1(yy,"onSelect"),0<g.length&&(c=new Ja("onSelect","select",null,c,h),s.push({event:c,listeners:g}),c.target=Su)))}function sc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var Tu={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionrun:sc("Transition","TransitionRun"),transitionstart:sc("Transition","TransitionStart"),transitioncancel:sc("Transition","TransitionCancel"),transitionend:sc("Transition","TransitionEnd")},_y={},HT={};Hi&&(HT=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function lc(s){if(_y[s])return _y[s];if(!Tu[s])return s;var c=Tu[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in HT)return _y[s]=c[h];return s}var $T=lc("animationend"),qT=lc("animationiteration"),GT=lc("animationstart"),gB=lc("transitionrun"),vB=lc("transitionstart"),mB=lc("transitioncancel"),WT=lc("transitionend"),KT=new Map,by="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");by.push("scrollEnd");function Ta(s,c){KT.set(s,c),Ka(c,[s])}var I0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qi=[],Cu=0,wy=0;function O0(){for(var s=Cu,c=wy=Cu=0;c<s;){var h=qi[c];qi[c++]=null;var g=qi[c];qi[c++]=null;var _=qi[c];qi[c++]=null;var E=qi[c];if(qi[c++]=null,g!==null&&_!==null){var N=g.pending;N===null?_.next=_:(_.next=N.next,N.next=_),g.pending=_}E!==0&&XT(h,_,E)}}function R0(s,c,h,g){qi[Cu++]=s,qi[Cu++]=c,qi[Cu++]=h,qi[Cu++]=g,wy|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Ey(s,c,h,g){return R0(s,c,h,g),P0(s)}function cc(s,c){return R0(s,null,null,c),P0(s)}function XT(s,c,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var _=!1,E=s.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(_=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,_&&c!==null&&(_=31-bn(h),s=E.hiddenUpdates,g=s[_],g===null?s[_]=[c]:g.push(c),c.lane=h|536870912),E):null}function P0(s){if(50<Zd)throw Zd=0,Nx=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Iu={};function yB(s,c,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,c,h,g){return new yB(s,c,h,g)}function Ay(s){return s=s.prototype,!(!s||!s.isReactComponent)}function No(s,c){var h=s.alternate;return h===null?(h=bi(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function YT(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function N0(s,c,h,g,_,E){var N=0;if(g=s,typeof s=="function")Ay(s)&&(N=1);else if(typeof s=="string")N=EU(s,h,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=bi(31,h,c,_),s.elementType=j,s.lanes=E,s;case w:return uc(h.children,_,E,c);case A:N=8,_|=24;break;case S:return s=bi(12,h,c,_|2),s.elementType=S,s.lanes=E,s;case k:return s=bi(13,h,c,_),s.elementType=k,s.lanes=E,s;case L:return s=bi(19,h,c,_),s.elementType=L,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:N=10;break e;case O:N=9;break e;case R:N=11;break e;case P:N=14;break e;case M:N=16,g=null;break e}N=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return c=bi(N,h,c,_),c.elementType=s,c.type=g,c.lanes=E,c}function uc(s,c,h,g){return s=bi(7,s,g,c),s.lanes=h,s}function Sy(s,c,h){return s=bi(6,s,null,c),s.lanes=h,s}function QT(s){var c=bi(18,null,null,0);return c.stateNode=s,c}function Ty(s,c,h){return c=bi(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var ZT=new WeakMap;function Gi(s,c){if(typeof s=="object"&&s!==null){var h=ZT.get(s);return h!==void 0?h:(c={value:s,source:c,stack:ws(c)},ZT.set(s,c),c)}return{value:s,source:c,stack:ws(c)}}var Ou=[],Ru=0,D0=null,Pd=0,Wi=[],Ki=0,Ms=null,ro=1,io="";function Do(s,c){Ou[Ru++]=Pd,Ou[Ru++]=D0,D0=s,Pd=c}function JT(s,c,h){Wi[Ki++]=ro,Wi[Ki++]=io,Wi[Ki++]=Ms,Ms=s;var g=ro;s=io;var _=32-bn(g)-1;g&=~(1<<_),h+=1;var E=32-bn(c)+_;if(30<E){var N=_-_%5;E=(g&(1<<N)-1).toString(32),g>>=N,_-=N,ro=1<<32-bn(c)+_|h<<_|g,io=E+s}else ro=1<<E|h<<_|g,io=s}function Cy(s){s.return!==null&&(Do(s,1),JT(s,1,0))}function Iy(s){for(;s===D0;)D0=Ou[--Ru],Ou[Ru]=null,Pd=Ou[--Ru],Ou[Ru]=null;for(;s===Ms;)Ms=Wi[--Ki],Wi[Ki]=null,io=Wi[--Ki],Wi[Ki]=null,ro=Wi[--Ki],Wi[Ki]=null}function eC(s,c){Wi[Ki++]=ro,Wi[Ki++]=io,Wi[Ki++]=Ms,ro=c.id,io=c.overflow,Ms=s}var mr=null,Xt=null,ct=!1,ks=null,Xi=!1,Oy=Error(r(519));function js(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nd(Gi(c,s)),Oy}function tC(s){var c=s.stateNode,h=s.type,g=s.memoizedProps;switch(c[Rn]=s,c[rr]=g,h){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(h=0;h<eh.length;h++)et(eh[h],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":et("invalid",c),d0(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":et("invalid",c);break;case"textarea":et("invalid",c),Cs(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||y4(c.textContent,h)?(g.popover!=null&&(et("beforetoggle",c),et("toggle",c)),g.onScroll!=null&&et("scroll",c),g.onScrollEnd!=null&&et("scrollend",c),g.onClick!=null&&(c.onclick=ba),c=!0):c=!1,c||js(s,!0)}function nC(s){for(mr=s.return;mr;)switch(mr.tag){case 5:case 31:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:mr=mr.return}}function Pu(s){if(s!==mr)return!1;if(!ct)return nC(s),ct=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Wx(s.type,s.memoizedProps)),h=!h),h&&Xt&&js(s),nC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Xt=C4(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Xt=C4(s)}else c===27?(c=Xt,Ys(s.type)?(s=Zx,Zx=null,Xt=s):Xt=c):Xt=mr?Qi(s.stateNode.nextSibling):null;return!0}function fc(){Xt=mr=null,ct=!1}function Ry(){var s=ks;return s!==null&&(ai===null?ai=s:ai.push.apply(ai,s),ks=null),s}function Nd(s){ks===null?ks=[s]:ks.push(s)}var Py=G(null),dc=null,Mo=null;function Ls(s,c,h){ye(Py,c._currentValue),c._currentValue=h}function ko(s){s._currentValue=Py.current,ee(Py)}function Ny(s,c,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===h)break;s=s.return}}function Dy(s,c,h,g){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var E=_.dependencies;if(E!==null){var N=_.child;E=E.firstContext;e:for(;E!==null;){var B=E;E=_;for(var q=0;q<c.length;q++)if(B.context===c[q]){E.lanes|=h,B=E.alternate,B!==null&&(B.lanes|=h),Ny(E.return,h,s),g||(N=null);break e}E=B.next}}else if(_.tag===18){if(N=_.return,N===null)throw Error(r(341));N.lanes|=h,E=N.alternate,E!==null&&(E.lanes|=h),Ny(N,h,s),N=null}else N=_.child;if(N!==null)N.return=_;else for(N=_;N!==null;){if(N===s){N=null;break}if(_=N.sibling,_!==null){_.return=N.return,N=_;break}N=N.return}_=N}}function Nu(s,c,h,g){s=null;for(var _=c,E=!1;_!==null;){if(!E){if((_.flags&524288)!==0)E=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var N=_.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var B=_.type;_i(_.pendingProps.value,N.value)||(s!==null?s.push(B):s=[B])}}else if(_===rt.current){if(N=_.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(ah):s=[ah])}_=_.return}s!==null&&Dy(c,s,h,g),c.flags|=262144}function M0(s){for(s=s.firstContext;s!==null;){if(!_i(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){dc=s,Mo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function yr(s){return rC(dc,s)}function k0(s,c){return dc===null&&hc(s),rC(s,c)}function rC(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Mo===null){if(s===null)throw Error(r(308));Mo=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Mo=Mo.next=c;return h}var xB=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},_B=t.unstable_scheduleCallback,bB=t.unstable_NormalPriority,Dn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function My(){return{controller:new xB,data:new Map,refCount:0}}function Dd(s){s.refCount--,s.refCount===0&&_B(bB,function(){s.controller.abort()})}var Md=null,ky=0,Du=0,Mu=null;function wB(s,c){if(Md===null){var h=Md=[];ky=0,Du=Bx(),Mu={status:"pending",value:void 0,then:function(g){h.push(g)}}}return ky++,c.then(iC,iC),c}function iC(){if(--ky===0&&Md!==null){Mu!==null&&(Mu.status="fulfilled");var s=Md;Md=null,Du=0,Mu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function EB(s,c){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){g.status="fulfilled",g.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var aC=X.S;X.S=function(s,c){z3=Hr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&wB(s,c),aC!==null&&aC(s,c)};var pc=G(null);function jy(){var s=pc.current;return s!==null?s:zt.pooledCache}function j0(s,c){c===null?ye(pc,pc.current):ye(pc,c.pool)}function oC(){var s=jy();return s===null?null:{parent:Dn._currentValue,pool:s}}var ku=Error(r(460)),Ly=Error(r(474)),L0=Error(r(542)),B0={then:function(){}};function sC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lC(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(ba,ba),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,uC(s),s;default:if(typeof c.status=="string")c.then(ba,ba);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(g){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=g}},function(g){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,uC(s),s}throw vc=c,ku}}function gc(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(vc=h,ku):h}}var vc=null;function cC(){if(vc===null)throw Error(r(459));var s=vc;return vc=null,s}function uC(s){if(s===ku||s===L0)throw Error(r(483))}var ju=null,kd=0;function U0(s){var c=kd;return kd+=1,ju===null&&(ju=[]),lC(ju,s,c)}function jd(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function F0(s,c){throw c.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function fC(s){function c(K,W){if(s){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function h(K,W){if(!s)return null;for(;W!==null;)c(K,W),W=W.sibling;return null}function g(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function _(K,W){return K=No(K,W),K.index=0,K.sibling=null,K}function E(K,W,Z){return K.index=Z,s?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function N(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function B(K,W,Z,le){return W===null||W.tag!==6?(W=Sy(Z,K.mode,le),W.return=K,W):(W=_(W,Z),W.return=K,W)}function q(K,W,Z,le){var De=Z.type;return De===w?se(K,W,Z.props.children,le,Z.key):W!==null&&(W.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&gc(De)===W.type)?(W=_(W,Z.props),jd(W,Z),W.return=K,W):(W=N0(Z.type,Z.key,Z.props,null,K.mode,le),jd(W,Z),W.return=K,W)}function J(K,W,Z,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Ty(Z,K.mode,le),W.return=K,W):(W=_(W,Z.children||[]),W.return=K,W)}function se(K,W,Z,le,De){return W===null||W.tag!==7?(W=uc(Z,K.mode,le,De),W.return=K,W):(W=_(W,Z),W.return=K,W)}function ue(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Sy(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return Z=N0(W.type,W.key,W.props,null,K.mode,Z),jd(Z,W),Z.return=K,Z;case b:return W=Ty(W,K.mode,Z),W.return=K,W;case M:return W=gc(W),ue(K,W,Z)}if(_e(W)||H(W))return W=uc(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return ue(K,U0(W),Z);if(W.$$typeof===I)return ue(K,k0(K,W),Z);F0(K,W)}return null}function te(K,W,Z,le){var De=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return De!==null?null:B(K,W,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===De?q(K,W,Z,le):null;case b:return Z.key===De?J(K,W,Z,le):null;case M:return Z=gc(Z),te(K,W,Z,le)}if(_e(Z)||H(Z))return De!==null?null:se(K,W,Z,le,null);if(typeof Z.then=="function")return te(K,W,U0(Z),le);if(Z.$$typeof===I)return te(K,W,k0(K,Z),le);F0(K,Z)}return null}function ae(K,W,Z,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Z)||null,B(W,K,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return K=K.get(le.key===null?Z:le.key)||null,q(W,K,le,De);case b:return K=K.get(le.key===null?Z:le.key)||null,J(W,K,le,De);case M:return le=gc(le),ae(K,W,Z,le,De)}if(_e(le)||H(le))return K=K.get(Z)||null,se(W,K,le,De,null);if(typeof le.then=="function")return ae(K,W,Z,U0(le),De);if(le.$$typeof===I)return ae(K,W,Z,k0(W,le),De);F0(W,le)}return null}function Te(K,W,Z,le){for(var De=null,gt=null,Oe=W,Ke=W=0,at=null;Oe!==null&&Ke<Z.length;Ke++){Oe.index>Ke?(at=Oe,Oe=null):at=Oe.sibling;var vt=te(K,Oe,Z[Ke],le);if(vt===null){Oe===null&&(Oe=at);break}s&&Oe&&vt.alternate===null&&c(K,Oe),W=E(vt,W,Ke),gt===null?De=vt:gt.sibling=vt,gt=vt,Oe=at}if(Ke===Z.length)return h(K,Oe),ct&&Do(K,Ke),De;if(Oe===null){for(;Ke<Z.length;Ke++)Oe=ue(K,Z[Ke],le),Oe!==null&&(W=E(Oe,W,Ke),gt===null?De=Oe:gt.sibling=Oe,gt=Oe);return ct&&Do(K,Ke),De}for(Oe=g(Oe);Ke<Z.length;Ke++)at=ae(Oe,K,Ke,Z[Ke],le),at!==null&&(s&&at.alternate!==null&&Oe.delete(at.key===null?Ke:at.key),W=E(at,W,Ke),gt===null?De=at:gt.sibling=at,gt=at);return s&&Oe.forEach(function(tl){return c(K,tl)}),ct&&Do(K,Ke),De}function Be(K,W,Z,le){if(Z==null)throw Error(r(151));for(var De=null,gt=null,Oe=W,Ke=W=0,at=null,vt=Z.next();Oe!==null&&!vt.done;Ke++,vt=Z.next()){Oe.index>Ke?(at=Oe,Oe=null):at=Oe.sibling;var tl=te(K,Oe,vt.value,le);if(tl===null){Oe===null&&(Oe=at);break}s&&Oe&&tl.alternate===null&&c(K,Oe),W=E(tl,W,Ke),gt===null?De=tl:gt.sibling=tl,gt=tl,Oe=at}if(vt.done)return h(K,Oe),ct&&Do(K,Ke),De;if(Oe===null){for(;!vt.done;Ke++,vt=Z.next())vt=ue(K,vt.value,le),vt!==null&&(W=E(vt,W,Ke),gt===null?De=vt:gt.sibling=vt,gt=vt);return ct&&Do(K,Ke),De}for(Oe=g(Oe);!vt.done;Ke++,vt=Z.next())vt=ae(Oe,K,Ke,vt.value,le),vt!==null&&(s&&vt.alternate!==null&&Oe.delete(vt.key===null?Ke:vt.key),W=E(vt,W,Ke),gt===null?De=vt:gt.sibling=vt,gt=vt);return s&&Oe.forEach(function(MU){return c(K,MU)}),ct&&Do(K,Ke),De}function Ut(K,W,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var De=Z.key;W!==null;){if(W.key===De){if(De=Z.type,De===w){if(W.tag===7){h(K,W.sibling),le=_(W,Z.props.children),le.return=K,K=le;break e}}else if(W.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&gc(De)===W.type){h(K,W.sibling),le=_(W,Z.props),jd(le,Z),le.return=K,K=le;break e}h(K,W);break}else c(K,W);W=W.sibling}Z.type===w?(le=uc(Z.props.children,K.mode,le,Z.key),le.return=K,K=le):(le=N0(Z.type,Z.key,Z.props,null,K.mode,le),jd(le,Z),le.return=K,K=le)}return N(K);case b:e:{for(De=Z.key;W!==null;){if(W.key===De)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){h(K,W.sibling),le=_(W,Z.children||[]),le.return=K,K=le;break e}else{h(K,W);break}else c(K,W);W=W.sibling}le=Ty(Z,K.mode,le),le.return=K,K=le}return N(K);case M:return Z=gc(Z),Ut(K,W,Z,le)}if(_e(Z))return Te(K,W,Z,le);if(H(Z)){if(De=H(Z),typeof De!="function")throw Error(r(150));return Z=De.call(Z),Be(K,W,Z,le)}if(typeof Z.then=="function")return Ut(K,W,U0(Z),le);if(Z.$$typeof===I)return Ut(K,W,k0(K,Z),le);F0(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(h(K,W.sibling),le=_(W,Z),le.return=K,K=le):(h(K,W),le=Sy(Z,K.mode,le),le.return=K,K=le),N(K)):h(K,W)}return function(K,W,Z,le){try{kd=0;var De=Ut(K,W,Z,le);return ju=null,De}catch(Oe){if(Oe===ku||Oe===L0)throw Oe;var gt=bi(29,Oe,null,K.mode);return gt.lanes=le,gt.return=K,gt}finally{}}}var mc=fC(!0),dC=fC(!1),Bs=!1;function By(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uy(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Us(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,c,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var _=g.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),g.pending=c,c=P0(s),XT(s,null,h),c}return R0(s,g,c,h),P0(s)}function Ld(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,ud(s,h)}}function Fy(s,c){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var N={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?_=E=N:E=E.next=N,h=h.next}while(h!==null);E===null?_=E=c:E=E.next=c}else _=E=c;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var Vy=!1;function Bd(){if(Vy){var s=Mu;if(s!==null)throw s}}function Ud(s,c,h,g){Vy=!1;var _=s.updateQueue;Bs=!1;var E=_.firstBaseUpdate,N=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var q=B,J=q.next;q.next=null,N===null?E=J:N.next=J,N=q;var se=s.alternate;se!==null&&(se=se.updateQueue,B=se.lastBaseUpdate,B!==N&&(B===null?se.firstBaseUpdate=J:B.next=J,se.lastBaseUpdate=q))}if(E!==null){var ue=_.baseState;N=0,se=J=q=null,B=E;do{var te=B.lane&-536870913,ae=te!==B.lane;if(ae?(it&te)===te:(g&te)===te){te!==0&&te===Du&&(Vy=!0),se!==null&&(se=se.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Te=s,Be=B;te=c;var Ut=h;switch(Be.tag){case 1:if(Te=Be.payload,typeof Te=="function"){ue=Te.call(Ut,ue,te);break e}ue=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Be.payload,te=typeof Te=="function"?Te.call(Ut,ue,te):Te,te==null)break e;ue=p({},ue,te);break e;case 2:Bs=!0}}te=B.callback,te!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=_.callbacks,ae===null?_.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},se===null?(J=se=ae,q=ue):se=se.next=ae,N|=te;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ae=B,B=ae.next,ae.next=null,_.lastBaseUpdate=ae,_.shared.pending=null}}while(!0);se===null&&(q=ue),_.baseState=q,_.firstBaseUpdate=J,_.lastBaseUpdate=se,E===null&&(_.shared.lanes=0),qs|=N,s.lanes=N,s.memoizedState=ue}}function hC(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function pC(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)hC(h[s],c)}var Lu=G(null),V0=G(0);function gC(s,c){s=$o,ye(V0,s),ye(Lu,c),$o=s|c.baseLanes}function zy(){ye(V0,$o),ye(Lu,Lu.current)}function Hy(){$o=V0.current,ee(Lu),ee(V0)}var wi=G(null),Yi=null;function Vs(s){var c=s.alternate;ye(En,En.current&1),ye(wi,s),Yi===null&&(c===null||Lu.current!==null||c.memoizedState!==null)&&(Yi=s)}function $y(s){ye(En,En.current),ye(wi,s),Yi===null&&(Yi=s)}function vC(s){s.tag===22?(ye(En,En.current),ye(wi,s),Yi===null&&(Yi=s)):zs()}function zs(){ye(En,En.current),ye(wi,wi.current)}function Ei(s){ee(wi),Yi===s&&(Yi=null),ee(En)}var En=G(0);function z0(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Yx(h)||Qx(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var jo=0,We=null,Lt=null,Mn=null,H0=!1,Bu=!1,yc=!1,$0=0,Fd=0,Uu=null,AB=0;function dn(){throw Error(r(321))}function qy(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!_i(s[h],c[h]))return!1;return!0}function Gy(s,c,h,g,_,E){return jo=E,We=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=s===null||s.memoizedState===null?JC:sx,yc=!1,E=h(g,_),yc=!1,Bu&&(E=yC(c,h,g,_)),mC(s),E}function mC(s){X.H=Hd;var c=Lt!==null&&Lt.next!==null;if(jo=0,Mn=Lt=We=null,H0=!1,Fd=0,Uu=null,c)throw Error(r(300));s===null||kn||(s=s.dependencies,s!==null&&M0(s)&&(kn=!0))}function yC(s,c,h,g){We=s;var _=0;do{if(Bu&&(Uu=null),Fd=0,Bu=!1,25<=_)throw Error(r(301));if(_+=1,Mn=Lt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=e3,E=c(h,g)}while(Bu);return E}function SB(){var s=X.H,c=s.useState()[0];return c=typeof c.then=="function"?Vd(c):c,s=s.useState()[0],(Lt!==null?Lt.memoizedState:null)!==s&&(We.flags|=1024),c}function Wy(){var s=$0!==0;return $0=0,s}function Ky(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function Xy(s){if(H0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}H0=!1}jo=0,Mn=Lt=We=null,Bu=!1,Fd=$0=0,Uu=null}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?We.memoizedState=Mn=s:Mn=Mn.next=s,Mn}function An(){if(Lt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var c=Mn===null?We.memoizedState:Mn.next;if(c!==null)Mn=c,Lt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mn===null?We.memoizedState=Mn=s:Mn=Mn.next=s}return Mn}function q0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(s){var c=Fd;return Fd+=1,Uu===null&&(Uu=[]),s=lC(Uu,s,c),c=We,(Mn===null?c.memoizedState:Mn.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?JC:sx),s}function G0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vd(s);if(s.$$typeof===I)return yr(s)}throw Error(r(438,String(s)))}function Yy(s){var c=null,h=We.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=q0(),We.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),g=0;g<s;g++)h[g]=z;return c.index++,h}function Lo(s,c){return typeof c=="function"?c(s):c}function W0(s){var c=An();return Qy(c,Lt,s)}function Qy(s,c,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var _=s.baseQueue,E=g.pending;if(E!==null){if(_!==null){var N=_.next;_.next=E.next,E.next=N}c.baseQueue=_=E,g.pending=null}if(E=s.baseState,_===null)s.memoizedState=E;else{c=_.next;var B=N=null,q=null,J=c,se=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(it&ue)===ue:(jo&ue)===ue){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Du&&(se=!0);else if((jo&te)===te){J=J.next,te===Du&&(se=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(B=q=ue,N=E):q=q.next=ue,We.lanes|=te,qs|=te;ue=J.action,yc&&h(E,ue),E=J.hasEagerState?J.eagerState:h(E,ue)}else te={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(B=q=te,N=E):q=q.next=te,We.lanes|=ue,qs|=ue;J=J.next}while(J!==null&&J!==c);if(q===null?N=E:q.next=B,!_i(E,s.memoizedState)&&(kn=!0,se&&(h=Mu,h!==null)))throw h;s.memoizedState=E,s.baseState=N,s.baseQueue=q,g.lastRenderedState=E}return _===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Zy(s){var c=An(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,_=h.pending,E=c.memoizedState;if(_!==null){h.pending=null;var N=_=_.next;do E=s(E,N.action),N=N.next;while(N!==_);_i(E,c.memoizedState)||(kn=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,g]}function xC(s,c,h){var g=We,_=An(),E=ct;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var N=!_i((Lt||_).memoizedState,h);if(N&&(_.memoizedState=h,kn=!0),_=_.queue,tx(wC.bind(null,g,_,s),[s]),_.getSnapshot!==c||N||Mn!==null&&Mn.memoizedState.tag&1){if(g.flags|=2048,Fu(9,{destroy:void 0},bC.bind(null,g,_,h,c),null),zt===null)throw Error(r(349));E||(jo&127)!==0||_C(g,c,h)}return h}function _C(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=We.updateQueue,c===null?(c=q0(),We.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function bC(s,c,h,g){c.value=h,c.getSnapshot=g,EC(c)&&AC(s)}function wC(s,c,h){return h(function(){EC(c)&&AC(s)})}function EC(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!_i(s,h)}catch{return!0}}function AC(s){var c=cc(s,2);c!==null&&oi(c,s,2)}function Jy(s){var c=qr();if(typeof s=="function"){var h=s;if(s=h(),yc){Fi(!0);try{h()}finally{Fi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:s},c}function SC(s,c,h,g){return s.baseState=h,Qy(s,Lt,typeof g=="function"?g:Lo)}function TB(s,c,h,g,_){if(Y0(s))throw Error(r(485));if(s=c.action,s!==null){var E={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){E.listeners.push(N)}};X.T!==null?h(!0):E.isTransition=!1,g(E),h=c.pending,h===null?(E.next=c.pending=E,TC(c,E)):(E.next=h.next,c.pending=h.next=E)}}function TC(s,c){var h=c.action,g=c.payload,_=s.state;if(c.isTransition){var E=X.T,N={};X.T=N;try{var B=h(_,g),q=X.S;q!==null&&q(N,B),CC(s,c,B)}catch(J){ex(s,c,J)}finally{E!==null&&N.types!==null&&(E.types=N.types),X.T=E}}else try{E=h(_,g),CC(s,c,E)}catch(J){ex(s,c,J)}}function CC(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){IC(s,c,g)},function(g){return ex(s,c,g)}):IC(s,c,h)}function IC(s,c,h){c.status="fulfilled",c.value=h,OC(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,TC(s,h)))}function ex(s,c,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,OC(c),c=c.next;while(c!==g)}s.action=null}function OC(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function RC(s,c){return c}function PC(s,c){if(ct){var h=zt.formState;if(h!==null){e:{var g=We;if(ct){if(Xt){t:{for(var _=Xt,E=Xi;_.nodeType!==8;){if(!E){_=null;break t}if(_=Qi(_.nextSibling),_===null){_=null;break t}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){Xt=Qi(_.nextSibling),g=_.data==="F!";break e}}js(g)}g=!1}g&&(c=h[0])}}return h=qr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RC,lastRenderedState:c},h.queue=g,h=YC.bind(null,We,g),g.dispatch=h,g=Jy(!1),E=ox.bind(null,We,!1,g.queue),g=qr(),_={state:c,dispatch:null,action:s,pending:null},g.queue=_,h=TB.bind(null,We,_,E,h),_.dispatch=h,g.memoizedState=s,[c,h,!1]}function NC(s){var c=An();return DC(c,Lt,s)}function DC(s,c,h){if(c=Qy(s,c,RC)[0],s=W0(Lo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Vd(c)}catch(N){throw N===ku?L0:N}else g=c;c=An();var _=c.queue,E=_.dispatch;return h!==c.memoizedState&&(We.flags|=2048,Fu(9,{destroy:void 0},CB.bind(null,_,h),null)),[g,E,s]}function CB(s,c){s.action=c}function MC(s){var c=An(),h=Lt;if(h!==null)return DC(c,h,s);An(),c=c.memoizedState,h=An();var g=h.queue.dispatch;return h.memoizedState=s,[c,g,!1]}function Fu(s,c,h,g){return s={tag:s,create:h,deps:g,inst:c,next:null},c=We.updateQueue,c===null&&(c=q0(),We.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,c.lastEffect=s),s}function kC(){return An().memoizedState}function K0(s,c,h,g){var _=qr();We.flags|=s,_.memoizedState=Fu(1|c,{destroy:void 0},h,g===void 0?null:g)}function X0(s,c,h,g){var _=An();g=g===void 0?null:g;var E=_.memoizedState.inst;Lt!==null&&g!==null&&qy(g,Lt.memoizedState.deps)?_.memoizedState=Fu(c,E,h,g):(We.flags|=s,_.memoizedState=Fu(1|c,E,h,g))}function jC(s,c){K0(8390656,8,s,c)}function tx(s,c){X0(2048,8,s,c)}function IB(s){We.flags|=4;var c=We.updateQueue;if(c===null)c=q0(),We.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function LC(s){var c=An().memoizedState;return IB({ref:c,nextImpl:s}),function(){if((wt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function BC(s,c){return X0(4,2,s,c)}function UC(s,c){return X0(4,4,s,c)}function FC(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function VC(s,c,h){h=h!=null?h.concat([s]):null,X0(4,4,FC.bind(null,c,s),h)}function nx(){}function zC(s,c){var h=An();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&qy(c,g[1])?g[0]:(h.memoizedState=[s,c],s)}function HC(s,c){var h=An();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&qy(c,g[1]))return g[0];if(g=s(),yc){Fi(!0);try{s()}finally{Fi(!1)}}return h.memoizedState=[g,c],g}function rx(s,c,h){return h===void 0||(jo&1073741824)!==0&&(it&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=$3(),We.lanes|=s,qs|=s,h)}function $C(s,c,h,g){return _i(h,c)?h:Lu.current!==null?(s=rx(s,h,g),_i(s,c)||(kn=!0),s):(jo&42)===0||(jo&1073741824)!==0&&(it&261930)===0?(kn=!0,s.memoizedState=h):(s=$3(),We.lanes|=s,qs|=s,c)}function qC(s,c,h,g,_){var E=re.p;re.p=E!==0&&8>E?E:8;var N=X.T,B={};X.T=B,ox(s,!1,c,h);try{var q=_(),J=X.S;if(J!==null&&J(B,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=EB(q,g);zd(s,c,se,Ti(s))}else zd(s,c,g,Ti(s))}catch(ue){zd(s,c,{then:function(){},status:"rejected",reason:ue},Ti())}finally{re.p=E,N!==null&&B.types!==null&&(N.types=B.types),X.T=N}}function OB(){}function ix(s,c,h,g){if(s.tag!==5)throw Error(r(476));var _=GC(s).queue;qC(s,_,c,de,h===null?OB:function(){return WC(s),h(g)})}function GC(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:de},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function WC(s){var c=GC(s);c.next===null&&(c=s.alternate.memoizedState),zd(s,c.next.queue,{},Ti())}function ax(){return yr(ah)}function KC(){return An().memoizedState}function XC(){return An().memoizedState}function RB(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ti();s=Us(h);var g=Fs(c,s,h);g!==null&&(oi(g,c,h),Ld(g,c,h)),c={cache:My()},s.payload=c;return}c=c.return}}function PB(s,c,h){var g=Ti();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Y0(s)?QC(c,h):(h=Ey(s,c,h,g),h!==null&&(oi(h,s,g),ZC(h,c,g)))}function YC(s,c,h){var g=Ti();zd(s,c,h,g)}function zd(s,c,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Y0(s))QC(c,_);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var N=c.lastRenderedState,B=E(N,h);if(_.hasEagerState=!0,_.eagerState=B,_i(B,N))return R0(s,c,_,0),zt===null&&O0(),!1}catch{}finally{}if(h=Ey(s,c,_,g),h!==null)return oi(h,s,g),ZC(h,c,g),!0}return!1}function ox(s,c,h,g){if(g={lane:2,revertLane:Bx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Y0(s)){if(c)throw Error(r(479))}else c=Ey(s,h,g,2),c!==null&&oi(c,s,2)}function Y0(s){var c=s.alternate;return s===We||c!==null&&c===We}function QC(s,c){Bu=H0=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function ZC(s,c,h){if((h&4194048)!==0){var g=c.lanes;g&=s.pendingLanes,h|=g,c.lanes=h,ud(s,h)}}var Hd={readContext:yr,use:G0,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Hd.useEffectEvent=dn;var JC={readContext:yr,use:G0,useCallback:function(s,c){return qr().memoizedState=[s,c===void 0?null:c],s},useContext:yr,useEffect:jC,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,K0(4194308,4,FC.bind(null,c,s),h)},useLayoutEffect:function(s,c){return K0(4194308,4,s,c)},useInsertionEffect:function(s,c){K0(4,2,s,c)},useMemo:function(s,c){var h=qr();c=c===void 0?null:c;var g=s();if(yc){Fi(!0);try{s()}finally{Fi(!1)}}return h.memoizedState=[g,c],g},useReducer:function(s,c,h){var g=qr();if(h!==void 0){var _=h(c);if(yc){Fi(!0);try{h(c)}finally{Fi(!1)}}}else _=c;return g.memoizedState=g.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},g.queue=s,s=s.dispatch=PB.bind(null,We,s),[g.memoizedState,s]},useRef:function(s){var c=qr();return s={current:s},c.memoizedState=s},useState:function(s){s=Jy(s);var c=s.queue,h=YC.bind(null,We,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:nx,useDeferredValue:function(s,c){var h=qr();return rx(h,s,c)},useTransition:function(){var s=Jy(!1);return s=qC.bind(null,We,s.queue,!0,!1),qr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var g=We,_=qr();if(ct){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),zt===null)throw Error(r(349));(it&127)!==0||_C(g,c,h)}_.memoizedState=h;var E={value:h,getSnapshot:c};return _.queue=E,jC(wC.bind(null,g,E,s),[s]),g.flags|=2048,Fu(9,{destroy:void 0},bC.bind(null,g,E,h,c),null),h},useId:function(){var s=qr(),c=zt.identifierPrefix;if(ct){var h=io,g=ro;h=(g&~(1<<32-bn(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=$0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=AB++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:ax,useFormState:PC,useActionState:PC,useOptimistic:function(s){var c=qr();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ox.bind(null,We,!0,h),h.dispatch=c,[s,c]},useMemoCache:Yy,useCacheRefresh:function(){return qr().memoizedState=RB.bind(null,We)},useEffectEvent:function(s){var c=qr(),h={impl:s};return c.memoizedState=h,function(){if((wt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},sx={readContext:yr,use:G0,useCallback:zC,useContext:yr,useEffect:tx,useImperativeHandle:VC,useInsertionEffect:BC,useLayoutEffect:UC,useMemo:HC,useReducer:W0,useRef:kC,useState:function(){return W0(Lo)},useDebugValue:nx,useDeferredValue:function(s,c){var h=An();return $C(h,Lt.memoizedState,s,c)},useTransition:function(){var s=W0(Lo)[0],c=An().memoizedState;return[typeof s=="boolean"?s:Vd(s),c]},useSyncExternalStore:xC,useId:KC,useHostTransitionStatus:ax,useFormState:NC,useActionState:NC,useOptimistic:function(s,c){var h=An();return SC(h,Lt,s,c)},useMemoCache:Yy,useCacheRefresh:XC};sx.useEffectEvent=LC;var e3={readContext:yr,use:G0,useCallback:zC,useContext:yr,useEffect:tx,useImperativeHandle:VC,useInsertionEffect:BC,useLayoutEffect:UC,useMemo:HC,useReducer:Zy,useRef:kC,useState:function(){return Zy(Lo)},useDebugValue:nx,useDeferredValue:function(s,c){var h=An();return Lt===null?rx(h,s,c):$C(h,Lt.memoizedState,s,c)},useTransition:function(){var s=Zy(Lo)[0],c=An().memoizedState;return[typeof s=="boolean"?s:Vd(s),c]},useSyncExternalStore:xC,useId:KC,useHostTransitionStatus:ax,useFormState:MC,useActionState:MC,useOptimistic:function(s,c){var h=An();return Lt!==null?SC(h,Lt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Yy,useCacheRefresh:XC};e3.useEffectEvent=LC;function lx(s,c,h,g){c=s.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var cx={enqueueSetState:function(s,c,h){s=s._reactInternals;var g=Ti(),_=Us(g);_.payload=c,h!=null&&(_.callback=h),c=Fs(s,_,g),c!==null&&(oi(c,s,g),Ld(c,s,g))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var g=Ti(),_=Us(g);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=Fs(s,_,g),c!==null&&(oi(c,s,g),Ld(c,s,g))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=Ti(),g=Us(h);g.tag=2,c!=null&&(g.callback=c),c=Fs(s,g,h),c!==null&&(oi(c,s,h),Ld(c,s,h))}};function t3(s,c,h,g,_,E,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,N):c.prototype&&c.prototype.isPureReactComponent?!Od(h,g)||!Od(_,E):!0}function n3(s,c,h,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==s&&cx.enqueueReplaceState(c,c.state,null)}function xc(s,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(s=s.defaultProps){h===c&&(h=p({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}function r3(s){I0(s)}function i3(s){console.error(s)}function a3(s){I0(s)}function Q0(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function o3(s,c,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ux(s,c,h){return h=Us(h),h.tag=3,h.payload={element:null},h.callback=function(){Q0(s,c)},h}function s3(s){return s=Us(s),s.tag=3,s}function l3(s,c,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var E=g.value;s.payload=function(){return _(E)},s.callback=function(){o3(c,h,g)}}var N=h.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){o3(c,h,g),typeof _!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function NB(s,c,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Nu(c,h,_,!0),h=wi.current,h!==null){switch(h.tag){case 31:case 13:return Yi===null?c1():h.alternate===null&&hn===0&&(hn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===B0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),kx(s,g,_)),!1;case 22:return h.flags|=65536,g===B0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),kx(s,g,_)),!1}throw Error(r(435,h.tag))}return kx(s,g,_),c1(),!1}if(ct)return c=wi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,g!==Oy&&(s=Error(r(422),{cause:g}),Nd(Gi(s,h)))):(g!==Oy&&(c=Error(r(423),{cause:g}),Nd(Gi(c,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,g=Gi(g,h),_=ux(s.stateNode,g,_),Fy(s,_),hn!==4&&(hn=2)),!1;var E=Error(r(520),{cause:g});if(E=Gi(E,h),Qd===null?Qd=[E]:Qd.push(E),hn!==4&&(hn=2),c===null)return!0;g=Gi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=ux(h.stateNode,g,s),Fy(h,s),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Gs===null||!Gs.has(E))))return h.flags|=65536,_&=-_,h.lanes|=_,_=s3(_),l3(_,s,h,g),Fy(h,_),!1}h=h.return}while(h!==null);return!1}var fx=Error(r(461)),kn=!1;function xr(s,c,h,g){c.child=s===null?dC(c,null,h,g):mc(c,s.child,h,g)}function c3(s,c,h,g,_){h=h.render;var E=c.ref;if("ref"in g){var N={};for(var B in g)B!=="ref"&&(N[B]=g[B])}else N=g;return hc(c),g=Gy(s,c,h,N,E,_),B=Wy(),s!==null&&!kn?(Ky(s,c,_),Bo(s,c,_)):(ct&&B&&Cy(c),c.flags|=1,xr(s,c,g,_),c.child)}function u3(s,c,h,g,_){if(s===null){var E=h.type;return typeof E=="function"&&!Ay(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,f3(s,c,E,g,_)):(s=N0(h.type,null,g,c,c.mode,_),s.ref=c.ref,s.return=c,c.child=s)}if(E=s.child,!xx(s,_)){var N=E.memoizedProps;if(h=h.compare,h=h!==null?h:Od,h(N,g)&&s.ref===c.ref)return Bo(s,c,_)}return c.flags|=1,s=No(E,g),s.ref=c.ref,s.return=c,c.child=s}function f3(s,c,h,g,_){if(s!==null){var E=s.memoizedProps;if(Od(E,g)&&s.ref===c.ref)if(kn=!1,c.pendingProps=g=E,xx(s,_))(s.flags&131072)!==0&&(kn=!0);else return c.lanes=s.lanes,Bo(s,c,_)}return dx(s,c,h,g,_)}function d3(s,c,h,g){var _=g.children,E=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,s!==null){for(g=c.child=s.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~E}else g=0,c.child=null;return h3(s,c,E,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&j0(c,E!==null?E.cachePool:null),E!==null?gC(c,E):zy(),vC(c);else return g=c.lanes=536870912,h3(s,c,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(j0(c,E.cachePool),gC(c,E),zs(),c.memoizedState=null):(s!==null&&j0(c,null),zy(),zs());return xr(s,c,_,h),c.child}function $d(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function h3(s,c,h,g,_){var E=jy();return E=E===null?null:{parent:Dn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},s!==null&&j0(c,null),zy(),vC(c),s!==null&&Nu(s,c,g,!0),c.childLanes=_,null}function Z0(s,c){return c=e1({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function p3(s,c,h){return mc(c,s.child,null,h),s=Z0(c,c.pendingProps),s.flags|=2,Ei(c),c.memoizedState=null,s}function DB(s,c,h){var g=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ct){if(g.mode==="hidden")return s=Z0(c,g),c.lanes=536870912,$d(null,s);if($y(c),(s=Xt)?(s=T4(s,Xi),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:ro,overflow:io}:null,retryLane:536870912,hydrationErrors:null},h=QT(s),h.return=c,c.child=h,mr=c,Xt=null)):s=null,s===null)throw js(c);return c.lanes=536870912,null}return Z0(c,g)}var E=s.memoizedState;if(E!==null){var N=E.dehydrated;if($y(c),_)if(c.flags&256)c.flags&=-257,c=p3(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(kn||Nu(s,c,h,!1),_=(h&s.childLanes)!==0,kn||_){if(g=zt,g!==null&&(N=fd(g,h),N!==0&&N!==E.retryLane))throw E.retryLane=N,cc(s,N),oi(g,s,N),fx;c1(),c=p3(s,c,h)}else s=E.treeContext,Xt=Qi(N.nextSibling),mr=c,ct=!0,ks=null,Xi=!1,s!==null&&eC(c,s),c=Z0(c,g),c.flags|=4096;return c}return s=No(s.child,{mode:g.mode,children:g.children}),s.ref=c.ref,c.child=s,s.return=c,s}function J0(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function dx(s,c,h,g,_){return hc(c),h=Gy(s,c,h,g,void 0,_),g=Wy(),s!==null&&!kn?(Ky(s,c,_),Bo(s,c,_)):(ct&&g&&Cy(c),c.flags|=1,xr(s,c,h,_),c.child)}function g3(s,c,h,g,_,E){return hc(c),c.updateQueue=null,h=yC(c,g,h,_),mC(s),g=Wy(),s!==null&&!kn?(Ky(s,c,E),Bo(s,c,E)):(ct&&g&&Cy(c),c.flags|=1,xr(s,c,h,E),c.child)}function v3(s,c,h,g,_){if(hc(c),c.stateNode===null){var E=Iu,N=h.contextType;typeof N=="object"&&N!==null&&(E=yr(N)),E=new h(g,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=cx,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=g,E.state=c.memoizedState,E.refs={},By(c),N=h.contextType,E.context=typeof N=="object"&&N!==null?yr(N):Iu,E.state=c.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(lx(c,h,N,g),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(N=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),N!==E.state&&cx.enqueueReplaceState(E,E.state,null),Ud(c,g,E,_),Bd(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(s===null){E=c.stateNode;var B=c.memoizedProps,q=xc(h,B);E.props=q;var J=E.context,se=h.contextType;N=Iu,typeof se=="object"&&se!==null&&(N=yr(se));var ue=h.getDerivedStateFromProps;se=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B||J!==N)&&n3(c,E,g,N),Bs=!1;var te=c.memoizedState;E.state=te,Ud(c,g,E,_),Bd(),J=c.memoizedState,B||te!==J||Bs?(typeof ue=="function"&&(lx(c,h,ue,g),J=c.memoizedState),(q=Bs||t3(c,h,q,g,te,J,N))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=J),E.props=g,E.state=J,E.context=N,g=q):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{E=c.stateNode,Uy(s,c),N=c.memoizedProps,se=xc(h,N),E.props=se,ue=c.pendingProps,te=E.context,J=h.contextType,q=Iu,typeof J=="object"&&J!==null&&(q=yr(J)),B=h.getDerivedStateFromProps,(J=typeof B=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ue||te!==q)&&n3(c,E,g,q),Bs=!1,te=c.memoizedState,E.state=te,Ud(c,g,E,_),Bd();var ae=c.memoizedState;N!==ue||te!==ae||Bs||s!==null&&s.dependencies!==null&&M0(s.dependencies)?(typeof B=="function"&&(lx(c,h,B,g),ae=c.memoizedState),(se=Bs||t3(c,h,se,g,te,ae,q)||s!==null&&s.dependencies!==null&&M0(s.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ae,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ae,q)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ae),E.props=g,E.state=ae,E.context=q,g=se):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(c.flags|=1024),g=!1)}return E=g,J0(s,c),g=(c.flags&128)!==0,E||g?(E=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,s!==null&&g?(c.child=mc(c,s.child,null,_),c.child=mc(c,null,h,_)):xr(s,c,h,_),c.memoizedState=E.state,s=c.child):s=Bo(s,c,_),s}function m3(s,c,h,g){return fc(),c.flags|=256,xr(s,c,h,g),c.child}var hx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function px(s){return{baseLanes:s,cachePool:oC()}}function gx(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=Si),s}function y3(s,c,h){var g=c.pendingProps,_=!1,E=(c.flags&128)!==0,N;if((N=E)||(N=s!==null&&s.memoizedState===null?!1:(En.current&2)!==0),N&&(_=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,s===null){if(ct){if(_?Vs(c):zs(),(s=Xt)?(s=T4(s,Xi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:ro,overflow:io}:null,retryLane:536870912,hydrationErrors:null},h=QT(s),h.return=c,c.child=h,mr=c,Xt=null)):s=null,s===null)throw js(c);return Qx(s)?c.lanes=32:c.lanes=536870912,null}var B=g.children;return g=g.fallback,_?(zs(),_=c.mode,B=e1({mode:"hidden",children:B},_),g=uc(g,_,h,null),B.return=c,g.return=c,B.sibling=g,c.child=B,g=c.child,g.memoizedState=px(h),g.childLanes=gx(s,N,h),c.memoizedState=hx,$d(null,g)):(Vs(c),vx(c,B))}var q=s.memoizedState;if(q!==null&&(B=q.dehydrated,B!==null)){if(E)c.flags&256?(Vs(c),c.flags&=-257,c=mx(s,c,h)):c.memoizedState!==null?(zs(),c.child=s.child,c.flags|=128,c=null):(zs(),B=g.fallback,_=c.mode,g=e1({mode:"visible",children:g.children},_),B=uc(B,_,h,null),B.flags|=2,g.return=c,B.return=c,g.sibling=B,c.child=g,mc(c,s.child,null,h),g=c.child,g.memoizedState=px(h),g.childLanes=gx(s,N,h),c.memoizedState=hx,c=$d(null,g));else if(Vs(c),Qx(B)){if(N=B.nextSibling&&B.nextSibling.dataset,N)var J=N.dgst;N=J,g=Error(r(419)),g.stack="",g.digest=N,Nd({value:g,source:null,stack:null}),c=mx(s,c,h)}else if(kn||Nu(s,c,h,!1),N=(h&s.childLanes)!==0,kn||N){if(N=zt,N!==null&&(g=fd(N,h),g!==0&&g!==q.retryLane))throw q.retryLane=g,cc(s,g),oi(N,s,g),fx;Yx(B)||c1(),c=mx(s,c,h)}else Yx(B)?(c.flags|=192,c.child=s.child,c=null):(s=q.treeContext,Xt=Qi(B.nextSibling),mr=c,ct=!0,ks=null,Xi=!1,s!==null&&eC(c,s),c=vx(c,g.children),c.flags|=4096);return c}return _?(zs(),B=g.fallback,_=c.mode,q=s.child,J=q.sibling,g=No(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?B=No(J,B):(B=uc(B,_,h,null),B.flags|=2),B.return=c,g.return=c,g.sibling=B,c.child=g,$d(null,g),g=c.child,B=s.child.memoizedState,B===null?B=px(h):(_=B.cachePool,_!==null?(q=Dn._currentValue,_=_.parent!==q?{parent:q,pool:q}:_):_=oC(),B={baseLanes:B.baseLanes|h,cachePool:_}),g.memoizedState=B,g.childLanes=gx(s,N,h),c.memoizedState=hx,$d(s.child,g)):(Vs(c),h=s.child,s=h.sibling,h=No(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,s!==null&&(N=c.deletions,N===null?(c.deletions=[s],c.flags|=16):N.push(s)),c.child=h,c.memoizedState=null,h)}function vx(s,c){return c=e1({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function e1(s,c){return s=bi(22,s,null,c),s.lanes=0,s}function mx(s,c,h){return mc(c,s.child,null,h),s=vx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function x3(s,c,h){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Ny(s.return,c,h)}function yx(s,c,h,g,_,E){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:E}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=h,N.tailMode=_,N.treeForkCount=E)}function _3(s,c,h){var g=c.pendingProps,_=g.revealOrder,E=g.tail;g=g.children;var N=En.current,B=(N&2)!==0;if(B?(N=N&1|2,c.flags|=128):N&=1,ye(En,N),xr(s,c,g,h),g=ct?Pd:0,!B&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&x3(s,h,c);else if(s.tag===19)x3(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(h=c.child,_=null;h!==null;)s=h.alternate,s!==null&&z0(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),yx(c,!1,_,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(s=_.alternate,s!==null&&z0(s)===null){c.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}yx(c,!0,h,null,E,g);break;case"together":yx(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Bo(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),qs|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(Nu(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=No(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=No(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function xx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&M0(s)))}function MB(s,c,h){switch(c.tag){case 3:yn(c,c.stateNode.containerInfo),Ls(c,Dn,s.memoizedState.cache),fc();break;case 27:case 5:ze(c);break;case 4:yn(c,c.stateNode.containerInfo);break;case 10:Ls(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,$y(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Vs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?y3(s,c,h):(Vs(c),s=Bo(s,c,h),s!==null?s.sibling:null);Vs(c);break;case 19:var _=(s.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Nu(s,c,h,!1),g=(h&c.childLanes)!==0),_){if(g)return _3(s,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ye(En,En.current),g)break;return null;case 22:return c.lanes=0,d3(s,c,h,c.pendingProps);case 24:Ls(c,Dn,s.memoizedState.cache)}return Bo(s,c,h)}function b3(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)kn=!0;else{if(!xx(s,h)&&(c.flags&128)===0)return kn=!1,MB(s,c,h);kn=(s.flags&131072)!==0}else kn=!1,ct&&(c.flags&1048576)!==0&&JT(c,Pd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(s=gc(c.elementType),c.type=s,typeof s=="function")Ay(s)?(g=xc(s,g),c.tag=1,c=v3(null,c,s,g,h)):(c.tag=0,c=dx(null,c,s,g,h));else{if(s!=null){var _=s.$$typeof;if(_===R){c.tag=11,c=c3(null,c,s,g,h);break e}else if(_===P){c.tag=14,c=u3(null,c,s,g,h);break e}}throw c=pe(s)||s,Error(r(306,c,""))}}return c;case 0:return dx(s,c,c.type,c.pendingProps,h);case 1:return g=c.type,_=xc(g,c.pendingProps),v3(s,c,g,_,h);case 3:e:{if(yn(c,c.stateNode.containerInfo),s===null)throw Error(r(387));g=c.pendingProps;var E=c.memoizedState;_=E.element,Uy(s,c),Ud(c,g,null,h);var N=c.memoizedState;if(g=N.cache,Ls(c,Dn,g),g!==E.cache&&Dy(c,[Dn],h,!0),Bd(),g=N.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=m3(s,c,g,h);break e}else if(g!==_){_=Gi(Error(r(424)),c),Nd(_),c=m3(s,c,g,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Xt=Qi(s.firstChild),mr=c,ct=!0,ks=null,Xi=!0,h=dC(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fc(),g===_){c=Bo(s,c,h);break e}xr(s,c,g,h)}c=c.child}return c;case 26:return J0(s,c),s===null?(h=N4(c.type,null,c.pendingProps,null))?c.memoizedState=h:ct||(h=c.type,s=c.pendingProps,g=v1(qe.current).createElement(h),g[Rn]=c,g[rr]=s,_r(g,h,s),Pn(g),c.stateNode=g):c.memoizedState=N4(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ze(c),s===null&&ct&&(g=c.stateNode=O4(c.type,c.pendingProps,qe.current),mr=c,Xi=!0,_=Xt,Ys(c.type)?(Zx=_,Xt=Qi(g.firstChild)):Xt=_),xr(s,c,c.pendingProps.children,h),J0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ct&&((_=g=Xt)&&(g=uU(g,c.type,c.pendingProps,Xi),g!==null?(c.stateNode=g,mr=c,Xt=Qi(g.firstChild),Xi=!1,_=!0):_=!1),_||js(c)),ze(c),_=c.type,E=c.pendingProps,N=s!==null?s.memoizedProps:null,g=E.children,Wx(_,E)?g=null:N!==null&&Wx(_,N)&&(c.flags|=32),c.memoizedState!==null&&(_=Gy(s,c,SB,null,null,h),ah._currentValue=_),J0(s,c),xr(s,c,g,h),c.child;case 6:return s===null&&ct&&((s=h=Xt)&&(h=fU(h,c.pendingProps,Xi),h!==null?(c.stateNode=h,mr=c,Xt=null,s=!0):s=!1),s||js(c)),null;case 13:return y3(s,c,h);case 4:return yn(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=mc(c,null,g,h):xr(s,c,g,h),c.child;case 11:return c3(s,c,c.type,c.pendingProps,h);case 7:return xr(s,c,c.pendingProps,h),c.child;case 8:return xr(s,c,c.pendingProps.children,h),c.child;case 12:return xr(s,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Ls(c,c.type,g.value),xr(s,c,g.children,h),c.child;case 9:return _=c.type._context,g=c.pendingProps.children,hc(c),_=yr(_),g=g(_),c.flags|=1,xr(s,c,g,h),c.child;case 14:return u3(s,c,c.type,c.pendingProps,h);case 15:return f3(s,c,c.type,c.pendingProps,h);case 19:return _3(s,c,h);case 31:return DB(s,c,h);case 22:return d3(s,c,h,c.pendingProps);case 24:return hc(c),g=yr(Dn),s===null?(_=jy(),_===null&&(_=zt,E=My(),_.pooledCache=E,E.refCount++,E!==null&&(_.pooledCacheLanes|=h),_=E),c.memoizedState={parent:g,cache:_},By(c),Ls(c,Dn,_)):((s.lanes&h)!==0&&(Uy(s,c),Ud(c,null,null,h),Bd()),_=s.memoizedState,E=c.memoizedState,_.parent!==g?(_={parent:g,cache:g},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Ls(c,Dn,g)):(g=E.cache,Ls(c,Dn,g),g!==_.cache&&Dy(c,[Dn],h,!0))),xr(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Uo(s){s.flags|=4}function _x(s,c,h,g,_){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(K3())s.flags|=8192;else throw vc=B0,Ly}else s.flags&=-16777217}function w3(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!L4(c))if(K3())s.flags|=8192;else throw vc=B0,Ly}function t1(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?s0():536870912,s.lanes|=c,$u|=c)}function qd(s,c){if(!ct)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Yt(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(c)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=h,c}function kB(s,c,h){var g=c.pendingProps;switch(Iy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(c),null;case 1:return Yt(c),null;case 3:return h=c.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ko(Dn),ge(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Pu(c)?Uo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ry())),Yt(c),null;case 26:var _=c.type,E=c.memoizedState;return s===null?(Uo(c),E!==null?(Yt(c),w3(c,E)):(Yt(c),_x(c,_,null,g,h))):E?E!==s.memoizedState?(Uo(c),Yt(c),w3(c,E)):(Yt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==g&&Uo(c),Yt(c),_x(c,_,s,g,h)),null;case 27:if(Xe(c),h=qe.current,_=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Yt(c),null}s=be.current,Pu(c)?tC(c):(s=O4(_,g,h),c.stateNode=s,Uo(c))}return Yt(c),null;case 5:if(Xe(c),_=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Yt(c),null}if(E=be.current,Pu(c))tC(c);else{var N=v1(qe.current);switch(E){case 1:E=N.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:E=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":E=N.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":E=N.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":E=N.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?N.createElement("select",{is:g.is}):N.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?N.createElement(_,{is:g.is}):N.createElement(_)}}E[Rn]=c,E[rr]=g;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)E.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=E;e:switch(_r(E,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Uo(c)}}return Yt(c),_x(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==g&&Uo(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(s=qe.current,Pu(c)){if(s=c.stateNode,h=c.memoizedProps,g=null,_=mr,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}s[Rn]=c,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||y4(s.nodeValue,h)),s||js(c,!0)}else s=v1(s).createTextNode(g),s[Rn]=c,c.stateNode=s}return Yt(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(g=Pu(c),h!==null){if(s===null){if(!g)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Rn]=c}else fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),s=!1}else h=Ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Ei(c),c):(Ei(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Yt(c),null;case 13:if(g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Pu(c),g!==null&&g.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Rn]=c}else fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yt(c),_=!1}else _=Ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(Ei(c),c):(Ei(c),null)}return Ei(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=c.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==_&&(g.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),t1(c,c.updateQueue),Yt(c),null);case 4:return ge(),s===null&&zx(c.stateNode.containerInfo),Yt(c),null;case 10:return ko(c.type),Yt(c),null;case 19:if(ee(En),g=c.memoizedState,g===null)return Yt(c),null;if(_=(c.flags&128)!==0,E=g.rendering,E===null)if(_)qd(g,!1);else{if(hn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(E=z0(s),E!==null){for(c.flags|=128,qd(g,!1),s=E.updateQueue,c.updateQueue=s,t1(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)YT(h,s),h=h.sibling;return ye(En,En.current&1|2),ct&&Do(c,g.treeForkCount),c.child}s=s.sibling}g.tail!==null&&Hr()>o1&&(c.flags|=128,_=!0,qd(g,!1),c.lanes=4194304)}else{if(!_)if(s=z0(E),s!==null){if(c.flags|=128,_=!0,s=s.updateQueue,c.updateQueue=s,t1(c,s),qd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ct)return Yt(c),null}else 2*Hr()-g.renderingStartTime>o1&&h!==536870912&&(c.flags|=128,_=!0,qd(g,!1),c.lanes=4194304);g.isBackwards?(E.sibling=c.child,c.child=E):(s=g.last,s!==null?s.sibling=E:c.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Hr(),s.sibling=null,h=En.current,ye(En,_?h&1|2:h&1),ct&&Do(c,g.treeForkCount),s):(Yt(c),null);case 22:case 23:return Ei(c),Hy(),g=c.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Yt(c),c.subtreeFlags&6&&(c.flags|=8192)):Yt(c),h=c.updateQueue,h!==null&&t1(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),s!==null&&ee(pc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ko(Dn),Yt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function jB(s,c){switch(Iy(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ko(Dn),ge(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Xe(c),null;case 31:if(c.memoizedState!==null){if(Ei(c),c.alternate===null)throw Error(r(340));fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ei(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return ee(En),null;case 4:return ge(),null;case 10:return ko(c.type),null;case 22:case 23:return Ei(c),Hy(),s!==null&&ee(pc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ko(Dn),null;case 25:return null;default:return null}}function E3(s,c){switch(Iy(c),c.tag){case 3:ko(Dn),ge();break;case 26:case 27:case 5:Xe(c);break;case 4:ge();break;case 31:c.memoizedState!==null&&Ei(c);break;case 13:Ei(c);break;case 19:ee(En);break;case 10:ko(c.type);break;case 22:case 23:Ei(c),Hy(),s!==null&&ee(pc);break;case 24:ko(Dn)}}function Gd(s,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&s)===s){g=void 0;var E=h.create,N=h.inst;g=E(),N.destroy=g}h=h.next}while(h!==_)}}catch(B){Pt(c,c.return,B)}}function Hs(s,c,h){try{var g=c.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var E=_.next;g=E;do{if((g.tag&s)===s){var N=g.inst,B=N.destroy;if(B!==void 0){N.destroy=void 0,_=c;var q=h,J=B;try{J()}catch(se){Pt(_,q,se)}}}g=g.next}while(g!==E)}}catch(se){Pt(c,c.return,se)}}function A3(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{pC(c,h)}catch(g){Pt(s,s.return,g)}}}function S3(s,c,h){h.props=xc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){Pt(s,c,g)}}function Wd(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(_){Pt(s,c,_)}}function ao(s,c){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){Pt(s,c,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Pt(s,c,_)}else h.current=null}function T3(s){var c=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){Pt(s,s.return,_)}}function bx(s,c,h){try{var g=s.stateNode;iU(g,s.type,h,c),g[rr]=c}catch(_){Pt(s,s.return,_)}}function C3(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ys(s.type)||s.tag===4}function wx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||C3(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ys(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ex(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ba));else if(g!==4&&(g===27&&Ys(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(Ex(s,c,h),s=s.sibling;s!==null;)Ex(s,c,h),s=s.sibling}function n1(s,c,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(g!==4&&(g===27&&Ys(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(n1(s,c,h),s=s.sibling;s!==null;)n1(s,c,h),s=s.sibling}function I3(s){var c=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);_r(c,g,h),c[Rn]=s,c[rr]=h}catch(E){Pt(s,s.return,E)}}var Fo=!1,jn=!1,Ax=!1,O3=typeof WeakSet=="function"?WeakSet:Set,ar=null;function LB(s,c){if(s=s.containerInfo,qx=E1,s=VT(s),my(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var N=0,B=-1,q=-1,J=0,se=0,ue=s,te=null;t:for(;;){for(var ae;ue!==h||_!==0&&ue.nodeType!==3||(B=N+_),ue!==E||g!==0&&ue.nodeType!==3||(q=N+g),ue.nodeType===3&&(N+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)te=ue,ue=ae;for(;;){if(ue===s)break t;if(te===h&&++J===_&&(B=N),te===E&&++se===g&&(q=N),(ae=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ae}h=B===-1||q===-1?null:{start:B,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(Gx={focusedElem:s,selectionRange:h},E1=!1,ar=c;ar!==null;)if(c=ar,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ar=s;else for(;ar!==null;){switch(c=ar,E=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)_=s[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,h=c,_=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var Te=xc(h.type,_);s=g.getSnapshotBeforeUpdate(Te,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Pt(h,h.return,Be)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)Xx(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,ar=s;break}ar=c.return}}function R3(s,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:zo(s,h),g&4&&Gd(5,h);break;case 1:if(zo(s,h),g&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(N){Pt(h,h.return,N)}else{var _=xc(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(_,c,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Pt(h,h.return,N)}}g&64&&A3(h),g&512&&Wd(h,h.return);break;case 3:if(zo(s,h),g&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{pC(s,c)}catch(N){Pt(h,h.return,N)}}break;case 27:c===null&&g&4&&I3(h);case 26:case 5:zo(s,h),c===null&&g&4&&T3(h),g&512&&Wd(h,h.return);break;case 12:zo(s,h);break;case 31:zo(s,h),g&4&&D3(s,h);break;case 13:zo(s,h),g&4&&M3(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=GB.bind(null,h),dU(s,h))));break;case 22:if(g=h.memoizedState!==null||Fo,!g){c=c!==null&&c.memoizedState!==null||jn,_=Fo;var E=jn;Fo=g,(jn=c)&&!E?Ho(s,h,(h.subtreeFlags&8772)!==0):zo(s,h),Fo=_,jn=E}break;case 30:break;default:zo(s,h)}}function P3(s){var c=s.alternate;c!==null&&(s.alternate=null,P3(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&pu(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var nn=null,ni=!1;function Vo(s,c,h){for(h=h.child;h!==null;)N3(s,c,h),h=h.sibling}function N3(s,c,h){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ma,h)}catch{}switch(h.tag){case 26:jn||ao(h,c),Vo(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:jn||ao(h,c);var g=nn,_=ni;Ys(h.type)&&(nn=h.stateNode,ni=!1),Vo(s,c,h),nh(h.stateNode),nn=g,ni=_;break;case 5:jn||ao(h,c);case 6:if(g=nn,_=ni,nn=null,Vo(s,c,h),nn=g,ni=_,nn!==null)if(ni)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(h.stateNode)}catch(E){Pt(h,c,E)}else try{nn.removeChild(h.stateNode)}catch(E){Pt(h,c,E)}break;case 18:nn!==null&&(ni?(s=nn,A4(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Zu(s)):A4(nn,h.stateNode));break;case 4:g=nn,_=ni,nn=h.stateNode.containerInfo,ni=!0,Vo(s,c,h),nn=g,ni=_;break;case 0:case 11:case 14:case 15:Hs(2,h,c),jn||Hs(4,h,c),Vo(s,c,h);break;case 1:jn||(ao(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&S3(h,c,g)),Vo(s,c,h);break;case 21:Vo(s,c,h);break;case 22:jn=(g=jn)||h.memoizedState!==null,Vo(s,c,h),jn=g;break;default:Vo(s,c,h)}}function D3(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zu(s)}catch(h){Pt(c,c.return,h)}}}function M3(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zu(s)}catch(h){Pt(c,c.return,h)}}function BB(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new O3),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new O3),c;default:throw Error(r(435,s.tag))}}function r1(s,c){var h=BB(s);c.forEach(function(g){if(!h.has(g)){h.add(g);var _=WB.bind(null,s,g);g.then(_,_)}})}function ri(s,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],E=s,N=c,B=N;e:for(;B!==null;){switch(B.tag){case 27:if(Ys(B.type)){nn=B.stateNode,ni=!1;break e}break;case 5:nn=B.stateNode,ni=!1;break e;case 3:case 4:nn=B.stateNode.containerInfo,ni=!0;break e}B=B.return}if(nn===null)throw Error(r(160));N3(E,N,_),nn=null,ni=!1,E=_.alternate,E!==null&&(E.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)k3(c,s),c=c.sibling}var Ca=null;function k3(s,c){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ri(c,s),ii(s),g&4&&(Hs(3,s,s.return),Gd(3,s),Hs(5,s,s.return));break;case 1:ri(c,s),ii(s),g&512&&(jn||h===null||ao(h,h.return)),g&64&&Fo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=Ca;if(ri(c,s),ii(s),g&512&&(jn||h===null||ao(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":E=_.getElementsByTagName("title")[0],(!E||E[qa]||E[Rn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=_.createElement(g),_.head.insertBefore(E,_.querySelector("head > title"))),_r(E,g,h),E[Rn]=s,Pn(E),g=E;break e;case"link":var N=k4("link","href",_).get(g+(h.href||""));if(N){for(var B=0;B<N.length;B++)if(E=N[B],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){N.splice(B,1);break t}}E=_.createElement(g),_r(E,g,h),_.head.appendChild(E);break;case"meta":if(N=k4("meta","content",_).get(g+(h.content||""))){for(B=0;B<N.length;B++)if(E=N[B],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){N.splice(B,1);break t}}E=_.createElement(g),_r(E,g,h),_.head.appendChild(E);break;default:throw Error(r(468,g))}E[Rn]=s,Pn(E),g=E}s.stateNode=g}else j4(_,s.type,s.stateNode);else s.stateNode=M4(_,g,s.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?j4(_,s.type,s.stateNode):M4(_,g,s.memoizedProps)):g===null&&s.stateNode!==null&&bx(s,s.memoizedProps,h.memoizedProps)}break;case 27:ri(c,s),ii(s),g&512&&(jn||h===null||ao(h,h.return)),h!==null&&g&4&&bx(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ri(c,s),ii(s),g&512&&(jn||h===null||ao(h,h.return)),s.flags&32){_=s.stateNode;try{ti(_,"")}catch(Te){Pt(s,s.return,Te)}}g&4&&s.stateNode!=null&&(_=s.memoizedProps,bx(s,_,h!==null?h.memoizedProps:_)),g&1024&&(Ax=!0);break;case 6:if(ri(c,s),ii(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(Te){Pt(s,s.return,Te)}}break;case 3:if(x1=null,_=Ca,Ca=m1(c.containerInfo),ri(c,s),Ca=_,ii(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Zu(c.containerInfo)}catch(Te){Pt(s,s.return,Te)}Ax&&(Ax=!1,j3(s));break;case 4:g=Ca,Ca=m1(s.stateNode.containerInfo),ri(c,s),ii(s),Ca=g;break;case 12:ri(c,s),ii(s);break;case 31:ri(c,s),ii(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 13:ri(c,s),ii(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(a1=Hr()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 22:_=s.memoizedState!==null;var q=h!==null&&h.memoizedState!==null,J=Fo,se=jn;if(Fo=J||_,jn=se||q,ri(c,s),jn=se,Fo=J,ii(s),g&8192)e:for(c=s.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||q||Fo||jn||_c(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){q=h=c;try{if(E=q.stateNode,_)N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{B=q.stateNode;var ue=q.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Te){Pt(q,q.return,Te)}}}else if(c.tag===6){if(h===null){q=c;try{q.stateNode.nodeValue=_?"":q.memoizedProps}catch(Te){Pt(q,q.return,Te)}}}else if(c.tag===18){if(h===null){q=c;try{var ae=q.stateNode;_?S4(ae,!0):S4(q.stateNode,!1)}catch(Te){Pt(q,q.return,Te)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,r1(s,h))));break;case 19:ri(c,s),ii(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,r1(s,g)));break;case 30:break;case 21:break;default:ri(c,s),ii(s)}}function ii(s){var c=s.flags;if(c&2){try{for(var h,g=s.return;g!==null;){if(C3(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,E=wx(s);n1(s,E,_);break;case 5:var N=h.stateNode;h.flags&32&&(ti(N,""),h.flags&=-33);var B=wx(s);n1(s,B,N);break;case 3:case 4:var q=h.stateNode.containerInfo,J=wx(s);Ex(s,J,q);break;default:throw Error(r(161))}}catch(se){Pt(s,s.return,se)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function j3(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;j3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function zo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)R3(s,c.alternate,c),c=c.sibling}function _c(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Hs(4,c,c.return),_c(c);break;case 1:ao(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&S3(c,c.return,h),_c(c);break;case 27:nh(c.stateNode);case 26:case 5:ao(c,c.return),_c(c);break;case 22:c.memoizedState===null&&_c(c);break;case 30:_c(c);break;default:_c(c)}s=s.sibling}}function Ho(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,_=s,E=c,N=E.flags;switch(E.tag){case 0:case 11:case 15:Ho(_,E,h),Gd(4,E);break;case 1:if(Ho(_,E,h),g=E,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(J){Pt(g,g.return,J)}if(g=E,_=g.updateQueue,_!==null){var B=g.stateNode;try{var q=_.shared.hiddenCallbacks;if(q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<q.length;_++)hC(q[_],B)}catch(J){Pt(g,g.return,J)}}h&&N&64&&A3(E),Wd(E,E.return);break;case 27:I3(E);case 26:case 5:Ho(_,E,h),h&&g===null&&N&4&&T3(E),Wd(E,E.return);break;case 12:Ho(_,E,h);break;case 31:Ho(_,E,h),h&&N&4&&D3(_,E);break;case 13:Ho(_,E,h),h&&N&4&&M3(_,E);break;case 22:E.memoizedState===null&&Ho(_,E,h),Wd(E,E.return);break;case 30:break;default:Ho(_,E,h)}c=c.sibling}}function Sx(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Dd(h))}function Tx(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Dd(s))}function Ia(s,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)L3(s,c,h,g),c=c.sibling}function L3(s,c,h,g){var _=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(s,c,h,g),_&2048&&Gd(9,c);break;case 1:Ia(s,c,h,g);break;case 3:Ia(s,c,h,g),_&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Dd(s)));break;case 12:if(_&2048){Ia(s,c,h,g),s=c.stateNode;try{var E=c.memoizedProps,N=E.id,B=E.onPostCommit;typeof B=="function"&&B(N,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Pt(c,c.return,q)}}else Ia(s,c,h,g);break;case 31:Ia(s,c,h,g);break;case 13:Ia(s,c,h,g);break;case 23:break;case 22:E=c.stateNode,N=c.alternate,c.memoizedState!==null?E._visibility&2?Ia(s,c,h,g):Kd(s,c):E._visibility&2?Ia(s,c,h,g):(E._visibility|=2,Vu(s,c,h,g,(c.subtreeFlags&10256)!==0||!1)),_&2048&&Sx(N,c);break;case 24:Ia(s,c,h,g),_&2048&&Tx(c.alternate,c);break;default:Ia(s,c,h,g)}}function Vu(s,c,h,g,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=s,N=c,B=h,q=g,J=N.flags;switch(N.tag){case 0:case 11:case 15:Vu(E,N,B,q,_),Gd(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?Vu(E,N,B,q,_):Kd(E,N):(se._visibility|=2,Vu(E,N,B,q,_)),_&&J&2048&&Sx(N.alternate,N);break;case 24:Vu(E,N,B,q,_),_&&J&2048&&Tx(N.alternate,N);break;default:Vu(E,N,B,q,_)}c=c.sibling}}function Kd(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,g=c,_=g.flags;switch(g.tag){case 22:Kd(h,g),_&2048&&Sx(g.alternate,g);break;case 24:Kd(h,g),_&2048&&Tx(g.alternate,g);break;default:Kd(h,g)}c=c.sibling}}var Xd=8192;function zu(s,c,h){if(s.subtreeFlags&Xd)for(s=s.child;s!==null;)B3(s,c,h),s=s.sibling}function B3(s,c,h){switch(s.tag){case 26:zu(s,c,h),s.flags&Xd&&s.memoizedState!==null&&AU(h,Ca,s.memoizedState,s.memoizedProps);break;case 5:zu(s,c,h);break;case 3:case 4:var g=Ca;Ca=m1(s.stateNode.containerInfo),zu(s,c,h),Ca=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Xd,Xd=16777216,zu(s,c,h),Xd=g):zu(s,c,h));break;default:zu(s,c,h)}}function U3(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Yd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ar=g,V3(g,s)}U3(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F3(s),s=s.sibling}function F3(s){switch(s.tag){case 0:case 11:case 15:Yd(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:Yd(s);break;case 12:Yd(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,i1(s)):Yd(s);break;default:Yd(s)}}function i1(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ar=g,V3(g,s)}U3(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Hs(8,c,c.return),i1(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,i1(c));break;default:i1(c)}s=s.sibling}}function V3(s,c){for(;ar!==null;){var h=ar;switch(h.tag){case 0:case 11:case 15:Hs(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Dd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ar=g;else e:for(h=s;ar!==null;){g=ar;var _=g.sibling,E=g.return;if(P3(g),g===h){ar=null;break e}if(_!==null){_.return=E,ar=_;break e}ar=E}}}var UB={getCacheForType:function(s){var c=yr(Dn),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return yr(Dn).controller.signal}},FB=typeof WeakMap=="function"?WeakMap:Map,wt=0,zt=null,Je=null,it=0,Rt=0,Ai=null,$s=!1,Hu=!1,Cx=!1,$o=0,hn=0,qs=0,bc=0,Ix=0,Si=0,$u=0,Qd=null,ai=null,Ox=!1,a1=0,z3=0,o1=1/0,s1=null,Gs=null,qn=0,Ws=null,qu=null,qo=0,Rx=0,Px=null,H3=null,Zd=0,Nx=null;function Ti(){return(wt&2)!==0&&it!==0?it&-it:X.T!==null?Bx():l0()}function $3(){if(Si===0)if((it&536870912)===0||ct){var s=Kl;Kl<<=1,(Kl&3932160)===0&&(Kl=262144),Si=s}else Si=536870912;return s=wi.current,s!==null&&(s.flags|=32),Si}function oi(s,c,h){(s===zt&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)&&(Gu(s,0),Ks(s,it,Si,!1)),Xl(s,h),((wt&2)===0||s!==zt)&&(s===zt&&((wt&2)===0&&(bc|=h),hn===4&&Ks(s,it,Si,!1)),oo(s))}function q3(s,c,h){if((wt&6)!==0)throw Error(r(327));var g=!h&&(c&127)===0&&(c&s.expiredLanes)===0||ya(s,c),_=g?HB(s,c):Mx(s,c,!0),E=g;do{if(_===0){Hu&&!g&&Ks(s,c,0,!1);break}else{if(h=s.current.alternate,E&&!VB(h)){_=Mx(s,c,!1),E=!1;continue}if(_===2){if(E=c,s.errorRecoveryDisabledLanes&E)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var B=s;_=Qd;var q=B.current.memoizedState.isDehydrated;if(q&&(Gu(B,N).flags|=256),N=Mx(B,N,!1),N!==2){if(Cx&&!q){B.errorRecoveryDisabledLanes|=E,bc|=E,_=4;break e}E=ai,ai=_,E!==null&&(ai===null?ai=E:ai.push.apply(ai,E))}_=N}if(E=!1,_!==2)continue}}if(_===1){Gu(s,0),Ks(s,c,0,!0);break}e:{switch(g=s,E=_,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ks(g,c,Si,!$s);break e;case 2:ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(_=a1+300-Hr(),10<_)){if(Ks(g,c,Si,!$s),za(g,0,!0)!==0)break e;qo=c,g.timeoutHandle=w4(G3.bind(null,g,h,ai,s1,Ox,c,Si,bc,$u,$s,E,"Throttled",-0,0),_);break e}G3(g,h,ai,s1,Ox,c,Si,bc,$u,$s,E,null,-0,0)}}break}while(!0);oo(s)}function G3(s,c,h,g,_,E,N,B,q,J,se,ue,te,ae){if(s.timeoutHandle=-1,ue=c.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},B3(c,E,ue);var Te=(E&62914560)===E?a1-Hr():(E&4194048)===E?z3-Hr():0;if(Te=SU(ue,Te),Te!==null){qo=E,s.cancelPendingCommit=Te(e4.bind(null,s,c,E,h,g,_,N,B,q,se,ue,null,te,ae)),Ks(s,E,N,!J);return}}e4(s,c,E,h,g,_,N,B,q)}function VB(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],E=_.getSnapshot;_=_.value;try{if(!_i(E(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ks(s,c,h,g){c&=~Ix,c&=~bc,s.suspendedLanes|=c,s.pingedLanes&=~c,g&&(s.warmLanes|=c),g=s.expirationTimes;for(var _=c;0<_;){var E=31-bn(_),N=1<<E;g[E]=-1,_&=~N}h!==0&&Yl(s,h,c)}function l1(){return(wt&6)===0?(Jd(0),!1):!0}function Dx(){if(Je!==null){if(Rt===0)var s=Je.return;else s=Je,Mo=dc=null,Xy(s),ju=null,kd=0,s=Je;for(;s!==null;)E3(s.alternate,s),s=s.return;Je=null}}function Gu(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,sU(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),qo=0,Dx(),zt=s,Je=h=No(s.current,null),it=c,Rt=0,Ai=null,$s=!1,Hu=ya(s,c),Cx=!1,$u=Si=Ix=bc=qs=hn=0,ai=Qd=null,Ox=!1,(c&8)!==0&&(c|=c&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=c;0<g;){var _=31-bn(g),E=1<<_;c|=s[_],g&=~E}return $o=c,O0(),h}function W3(s,c){We=null,X.H=Hd,c===ku||c===L0?(c=cC(),Rt=3):c===Ly?(c=cC(),Rt=4):Rt=c===fx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ai=c,Je===null&&(hn=1,Q0(s,Gi(c,s.current)))}function K3(){var s=wi.current;return s===null?!0:(it&4194048)===it?Yi===null:(it&62914560)===it||(it&536870912)!==0?s===Yi:!1}function X3(){var s=X.H;return X.H=Hd,s===null?Hd:s}function Y3(){var s=X.A;return X.A=UB,s}function c1(){hn=4,$s||(it&4194048)!==it&&wi.current!==null||(Hu=!0),(qs&134217727)===0&&(bc&134217727)===0||zt===null||Ks(zt,it,Si,!1)}function Mx(s,c,h){var g=wt;wt|=2;var _=X3(),E=Y3();(zt!==s||it!==c)&&(s1=null,Gu(s,c)),c=!1;var N=hn;e:do try{if(Rt!==0&&Je!==null){var B=Je,q=Ai;switch(Rt){case 8:Dx(),N=6;break e;case 3:case 2:case 9:case 6:wi.current===null&&(c=!0);var J=Rt;if(Rt=0,Ai=null,Wu(s,B,q,J),h&&Hu){N=0;break e}break;default:J=Rt,Rt=0,Ai=null,Wu(s,B,q,J)}}zB(),N=hn;break}catch(se){W3(s,se)}while(!0);return c&&s.shellSuspendCounter++,Mo=dc=null,wt=g,X.H=_,X.A=E,Je===null&&(zt=null,it=0,O0()),N}function zB(){for(;Je!==null;)Q3(Je)}function HB(s,c){var h=wt;wt|=2;var g=X3(),_=Y3();zt!==s||it!==c?(s1=null,o1=Hr()+500,Gu(s,c)):Hu=ya(s,c);e:do try{if(Rt!==0&&Je!==null){c=Je;var E=Ai;t:switch(Rt){case 1:Rt=0,Ai=null,Wu(s,c,E,1);break;case 2:case 9:if(sC(E)){Rt=0,Ai=null,Z3(c);break}c=function(){Rt!==2&&Rt!==9||zt!==s||(Rt=7),oo(s)},E.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:sC(E)?(Rt=0,Ai=null,Z3(c)):(Rt=0,Ai=null,Wu(s,c,E,7));break;case 5:var N=null;switch(Je.tag){case 26:N=Je.memoizedState;case 5:case 27:var B=Je;if(N?L4(N):B.stateNode.complete){Rt=0,Ai=null;var q=B.sibling;if(q!==null)Je=q;else{var J=B.return;J!==null?(Je=J,u1(J)):Je=null}break t}}Rt=0,Ai=null,Wu(s,c,E,5);break;case 6:Rt=0,Ai=null,Wu(s,c,E,6);break;case 8:Dx(),hn=6;break e;default:throw Error(r(462))}}$B();break}catch(se){W3(s,se)}while(!0);return Mo=dc=null,X.H=g,X.A=_,wt=h,Je!==null?0:(zt=null,it=0,O0(),hn)}function $B(){for(;Je!==null&&!uy();)Q3(Je)}function Q3(s){var c=b3(s.alternate,s,$o);s.memoizedProps=s.pendingProps,c===null?u1(s):Je=c}function Z3(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=g3(h,c,c.pendingProps,c.type,void 0,it);break;case 11:c=g3(h,c,c.pendingProps,c.type.render,c.ref,it);break;case 5:Xy(c);default:E3(h,c),c=Je=YT(c,$o),c=b3(h,c,$o)}s.memoizedProps=s.pendingProps,c===null?u1(s):Je=c}function Wu(s,c,h,g){Mo=dc=null,Xy(c),ju=null,kd=0;var _=c.return;try{if(NB(s,_,c,h,it)){hn=1,Q0(s,Gi(h,s.current)),Je=null;return}}catch(E){if(_!==null)throw Je=_,E;hn=1,Q0(s,Gi(h,s.current)),Je=null;return}c.flags&32768?(ct||g===1?s=!0:Hu||(it&536870912)!==0?s=!1:($s=s=!0,(g===2||g===9||g===3||g===6)&&(g=wi.current,g!==null&&g.tag===13&&(g.flags|=16384))),J3(c,s)):u1(c)}function u1(s){var c=s;do{if((c.flags&32768)!==0){J3(c,$s);return}s=c.return;var h=kB(c.alternate,c,$o);if(h!==null){Je=h;return}if(c=c.sibling,c!==null){Je=c;return}Je=c=s}while(c!==null);hn===0&&(hn=5)}function J3(s,c){do{var h=jB(s.alternate,s);if(h!==null){h.flags&=32767,Je=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){Je=s;return}Je=s=h}while(s!==null);hn=6,Je=null}function e4(s,c,h,g,_,E,N,B,q){s.cancelPendingCommit=null;do f1();while(qn!==0);if((wt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=wy,hy(s,h,E,N,B,q),s===zt&&(Je=zt=null,it=0),qu=c,Ws=s,qo=h,Rx=E,Px=_,H3=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,KB(As,function(){return a4(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=X.T,X.T=null,_=re.p,re.p=2,N=wt,wt|=4;try{LB(s,c,h)}finally{wt=N,re.p=_,X.T=g}}qn=1,t4(),n4(),r4()}}function t4(){if(qn===1){qn=0;var s=Ws,c=qu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var g=re.p;re.p=2;var _=wt;wt|=4;try{k3(c,s);var E=Gx,N=VT(s.containerInfo),B=E.focusedElem,q=E.selectionRange;if(N!==B&&B&&B.ownerDocument&&FT(B.ownerDocument.documentElement,B)){if(q!==null&&my(B)){var J=q.start,se=q.end;if(se===void 0&&(se=J),"selectionStart"in B)B.selectionStart=J,B.selectionEnd=Math.min(se,B.value.length);else{var ue=B.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Te=B.textContent.length,Be=Math.min(q.start,Te),Ut=q.end===void 0?Be:Math.min(q.end,Te);!ae.extend&&Be>Ut&&(N=Ut,Ut=Be,Be=N);var K=UT(B,Be),W=UT(B,Ut);if(K&&W&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var Z=ue.createRange();Z.setStart(K.node,K.offset),ae.removeAllRanges(),Be>Ut?(ae.addRange(Z),ae.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ae.addRange(Z))}}}}for(ue=[],ae=B;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ue.length;B++){var le=ue[B];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}E1=!!qx,Gx=qx=null}finally{wt=_,re.p=g,X.T=h}}s.current=c,qn=2}}function n4(){if(qn===2){qn=0;var s=Ws,c=qu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var g=re.p;re.p=2;var _=wt;wt|=4;try{R3(s,c.alternate,c)}finally{wt=_,re.p=g,X.T=h}}qn=3}}function r4(){if(qn===4||qn===3){qn=0,t0();var s=Ws,c=qu,h=qo,g=H3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?qn=5:(qn=0,qu=Ws=null,i4(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Gs=null),Io(h),c=c.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ma,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=X.T,_=re.p,re.p=2,X.T=null;try{for(var E=s.onRecoverableError,N=0;N<g.length;N++){var B=g[N];E(B.value,{componentStack:B.stack})}}finally{X.T=c,re.p=_}}(qo&3)!==0&&f1(),oo(s),_=s.pendingLanes,(h&261930)!==0&&(_&42)!==0?s===Nx?Zd++:(Zd=0,Nx=s):Zd=0,Jd(0)}}function i4(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Dd(c)))}function f1(){return t4(),n4(),r4(),a4()}function a4(){if(qn!==5)return!1;var s=Ws,c=Rx;Rx=0;var h=Io(qo),g=X.T,_=re.p;try{re.p=32>h?32:h,X.T=null,h=Px,Px=null;var E=Ws,N=qo;if(qn=0,qu=Ws=null,qo=0,(wt&6)!==0)throw Error(r(331));var B=wt;if(wt|=4,F3(E.current),L3(E,E.current,N,h),wt=B,Jd(0,!1),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ma,E)}catch{}return!0}finally{re.p=_,X.T=g,i4(s,c)}}function o4(s,c,h){c=Gi(h,c),c=ux(s.stateNode,c,2),s=Fs(s,c,2),s!==null&&(Xl(s,2),oo(s))}function Pt(s,c,h){if(s.tag===3)o4(s,s,h);else for(;c!==null;){if(c.tag===3){o4(c,s,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Gs===null||!Gs.has(g))){s=Gi(h,s),h=s3(2),g=Fs(c,h,2),g!==null&&(l3(h,g,c,s),Xl(g,2),oo(g));break}}c=c.return}}function kx(s,c,h){var g=s.pingCache;if(g===null){g=s.pingCache=new FB;var _=new Set;g.set(c,_)}else _=g.get(c),_===void 0&&(_=new Set,g.set(c,_));_.has(h)||(Cx=!0,_.add(h),s=qB.bind(null,s,c,h),c.then(s,s))}function qB(s,c,h){var g=s.pingCache;g!==null&&g.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,zt===s&&(it&h)===h&&(hn===4||hn===3&&(it&62914560)===it&&300>Hr()-a1?(wt&2)===0&&Gu(s,0):Ix|=h,$u===it&&($u=0)),oo(s)}function s4(s,c){c===0&&(c=s0()),s=cc(s,c),s!==null&&(Xl(s,c),oo(s))}function GB(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),s4(s,h)}function WB(s,c){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),s4(s,h)}function KB(s,c){return $n(s,c)}var d1=null,Ku=null,jx=!1,h1=!1,Lx=!1,Xs=0;function oo(s){s!==Ku&&s.next===null&&(Ku===null?d1=Ku=s:Ku=Ku.next=s),h1=!0,jx||(jx=!0,YB())}function Jd(s,c){if(!Lx&&h1){Lx=!0;do for(var h=!1,g=d1;g!==null;){if(s!==0){var _=g.pendingLanes;if(_===0)var E=0;else{var N=g.suspendedLanes,B=g.pingedLanes;E=(1<<31-bn(42|s)+1)-1,E&=_&~(N&~B),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,f4(g,E))}else E=it,E=za(g,g===zt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||ya(g,E)||(h=!0,f4(g,E));g=g.next}while(h);Lx=!1}}function XB(){l4()}function l4(){h1=jx=!1;var s=0;Xs!==0&&oU()&&(s=Xs);for(var c=Hr(),h=null,g=d1;g!==null;){var _=g.next,E=c4(g,c);E===0?(g.next=null,h===null?d1=_:h.next=_,_===null&&(Ku=h)):(h=g,(s!==0||(E&3)!==0)&&(h1=!0)),g=_}qn!==0&&qn!==5||Jd(s),Xs!==0&&(Xs=0)}function c4(s,c){for(var h=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var N=31-bn(E),B=1<<N,q=_[N];q===-1?((B&h)===0||(B&g)!==0)&&(_[N]=dy(B,c)):q<=c&&(s.expiredLanes|=B),E&=~B}if(c=zt,h=it,h=za(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===c&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Es(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||ya(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(g!==null&&Es(g),Io(h)){case 2:case 8:h=cd;break;case 32:h=As;break;case 268435456:h=n0;break;default:h=As}return g=u4.bind(null,s),h=$n(h,g),s.callbackPriority=c,s.callbackNode=h,c}return g!==null&&g!==null&&Es(g),s.callbackPriority=2,s.callbackNode=null,2}function u4(s,c){if(qn!==0&&qn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(f1()&&s.callbackNode!==h)return null;var g=it;return g=za(s,s===zt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(q3(s,g,c),c4(s,Hr()),s.callbackNode!=null&&s.callbackNode===h?u4.bind(null,s):null)}function f4(s,c){if(f1())return null;q3(s,c,!0)}function YB(){lU(function(){(wt&6)!==0?$n(ld,XB):l4()})}function Bx(){if(Xs===0){var s=Du;s===0&&(s=Fa,Fa<<=1,(Fa&261888)===0&&(Fa=256)),Xs=s}return Xs}function d4(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yu(""+s)}function h4(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function QB(s,c,h,g,_){if(c==="submit"&&h&&h.stateNode===_){var E=d4((_[rr]||null).action),N=g.submitter;N&&(c=(c=N[rr]||null)?d4(c.formAction):N.getAttribute("formAction"),c!==null&&(E=c,N=null));var B=new Ja("action","action",null,g,_);s.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Xs!==0){var q=N?h4(_,N):new FormData(_);ix(h,{pending:!0,data:q,method:_.method,action:E},null,q)}}else typeof E=="function"&&(B.preventDefault(),q=N?h4(_,N):new FormData(_),ix(h,{pending:!0,data:q,method:_.method,action:E},E,q))},currentTarget:_}]})}}for(var Ux=0;Ux<by.length;Ux++){var Fx=by[Ux],ZB=Fx.toLowerCase(),JB=Fx[0].toUpperCase()+Fx.slice(1);Ta(ZB,"on"+JB)}Ta($T,"onAnimationEnd"),Ta(qT,"onAnimationIteration"),Ta(GT,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(gB,"onTransitionRun"),Ta(vB,"onTransitionStart"),Ta(mB,"onTransitionCancel"),Ta(WT,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function p4(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],_=g.event;g=g.listeners;e:{var E=void 0;if(c)for(var N=g.length-1;0<=N;N--){var B=g[N],q=B.instance,J=B.currentTarget;if(B=B.listener,q!==E&&_.isPropagationStopped())break e;E=B,_.currentTarget=J;try{E(_)}catch(se){I0(se)}_.currentTarget=null,E=q}else for(N=0;N<g.length;N++){if(B=g[N],q=B.instance,J=B.currentTarget,B=B.listener,q!==E&&_.isPropagationStopped())break e;E=B,_.currentTarget=J;try{E(_)}catch(se){I0(se)}_.currentTarget=null,E=q}}}}function et(s,c){var h=c[hu];h===void 0&&(h=c[hu]=new Set);var g=s+"__bubble";h.has(g)||(g4(c,s,2,!1),h.add(g))}function Vx(s,c,h){var g=0;c&&(g|=4),g4(h,s,g,c)}var p1="_reactListening"+Math.random().toString(36).slice(2);function zx(s){if(!s[p1]){s[p1]=!0,dd.forEach(function(h){h!=="selectionchange"&&(eU.has(h)||Vx(h,!1,s),Vx(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[p1]||(c[p1]=!0,Vx("selectionchange",!1,c))}}function g4(s,c,h,g){switch($4(c)){case 2:var _=IU;break;case 8:_=OU;break;default:_=r2}h=_.bind(null,c,h,s),_=void 0,!tc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(c,h,{capture:!0,passive:_}):s.addEventListener(c,h,!0):_!==void 0?s.addEventListener(c,h,{passive:_}):s.addEventListener(c,h,!1)}function Hx(s,c,h,g,_){var E=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var B=g.stateNode.containerInfo;if(B===_)break;if(N===4)for(N=g.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===_)return;N=N.return}for(;B!==null;){if(N=Ga(B),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){g=E=N;continue e}B=B.parentNode}}g=g.return}Rs(function(){var J=E,se=zi(h),ue=[];e:{var te=KT.get(s);if(te!==void 0){var ae=Ja,Te=s;switch(s){case"keypress":if(rc(h)===0)break e;case"keydown":case"keyup":ae=S0;break;case"focusin":Te="focus",ae=ac;break;case"focusout":Te="blur",ae=ac;break;case"beforeblur":case"afterblur":ae=ac;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=C;break;case $T:case qT:case GT:ae=y0;break;case WT:ae=V;break;case"scroll":case"scrollend":ae=Ad;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Po;break;case"toggle":case"beforetoggle":ae=Ge}var Be=(c&4)!==0,Ut=!Be&&(s==="scroll"||s==="scrollend"),K=Be?te!==null?te+"Capture":null:te;Be=[];for(var W=J,Z;W!==null;){var le=W;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||K===null||(le=wa(W,K),le!=null&&Be.push(th(W,le,Z))),Ut)break;W=W.return}0<Be.length&&(te=new ae(te,Te,null,h,se),ue.push({event:te,listeners:Be}))}}if((c&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",te&&h!==bd&&(Te=h.relatedTarget||h.fromElement)&&(Ga(Te)||Te[$a]))break e;if((ae||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Te=h.relatedTarget||h.toElement,ae=J,Te=Te?Ga(Te):null,Te!==null&&(Ut=a(Te),Be=Te.tag,Te!==Ut||Be!==5&&Be!==27&&Be!==6)&&(Te=null)):(ae=null,Te=J),ae!==Te)){if(Be=Sd,le="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Po,le="onPointerLeave",K="onPointerEnter",W="pointer"),Ut=ae==null?te:yi(ae),Z=Te==null?te:yi(Te),te=new Be(le,W+"leave",ae,h,se),te.target=Ut,te.relatedTarget=Z,le=null,Ga(se)===J&&(Be=new Be(K,W+"enter",Te,h,se),Be.target=Z,Be.relatedTarget=Ut,le=Be),Ut=le,ae&&Te)t:{for(Be=tU,K=ae,W=Te,Z=0,le=K;le;le=Be(le))Z++;le=0;for(var De=W;De;De=Be(De))le++;for(;0<Z-le;)K=Be(K),Z--;for(;0<le-Z;)W=Be(W),le--;for(;Z--;){if(K===W||W!==null&&K===W.alternate){Be=K;break t}K=Be(K),W=Be(W)}Be=null}else Be=null;ae!==null&&v4(ue,te,ae,Be,!1),Te!==null&&Ut!==null&&v4(ue,Ut,Te,Be,!0)}}e:{if(te=J?yi(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var gt=DT;else if(PT(te))if(MT)gt=dB;else{gt=uB;var Oe=cB}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&mu(J.elementType)&&(gt=DT):gt=fB;if(gt&&(gt=gt(s,J))){NT(ue,gt,h,se);break e}Oe&&Oe(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&yd(te,"number",te.value)}switch(Oe=J?yi(J):window,s){case"focusin":(PT(Oe)||Oe.contentEditable==="true")&&(Su=Oe,yy=J,Rd=null);break;case"focusout":Rd=yy=Su=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,zT(ue,h,se);break;case"selectionchange":if(pB)break;case"keydown":case"keyup":zT(ue,h,se)}var Ke;if(bt)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Au?oc(s,h)&&(at="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(at="onCompositionStart");at&&(no&&h.locale!=="ko"&&(Au||at!=="onCompositionStart"?at==="onCompositionEnd"&&Au&&(Ke=Ed()):(Za=se,wd="value"in Za?Za.value:Za.textContent,Au=!0)),Oe=g1(J,at),0<Oe.length&&(at=new to(at,s,null,h,se),ue.push({event:at,listeners:Oe}),Ke?at.data=Ke:(Ke=Eu(h),Ke!==null&&(at.data=Ke)))),(Ke=$i?aB(s,h):oB(s,h))&&(at=g1(J,"onBeforeInput"),0<at.length&&(Oe=new to("onBeforeInput","beforeinput",null,h,se),ue.push({event:Oe,listeners:at}),Oe.data=Ke)),QB(ue,s,J,h,se)}p4(ue,c)})}function th(s,c,h){return{instance:s,listener:c,currentTarget:h}}function g1(s,c){for(var h=c+"Capture",g=[];s!==null;){var _=s,E=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||E===null||(_=wa(s,h),_!=null&&g.unshift(th(s,_,E)),_=wa(s,c),_!=null&&g.push(th(s,_,E))),s.tag===3)return g;s=s.return}return[]}function tU(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function v4(s,c,h,g,_){for(var E=c._reactName,N=[];h!==null&&h!==g;){var B=h,q=B.alternate,J=B.stateNode;if(B=B.tag,q!==null&&q===g)break;B!==5&&B!==26&&B!==27||J===null||(q=J,_?(J=wa(h,E),J!=null&&N.unshift(th(h,J,q))):_||(J=wa(h,E),J!=null&&N.push(th(h,J,q)))),h=h.return}N.length!==0&&s.push({event:c,listeners:N})}var nU=/\r\n?/g,rU=/\u0000|\uFFFD/g;function m4(s){return(typeof s=="string"?s:""+s).replace(nU,`
`).replace(rU,"")}function y4(s,c){return c=m4(c),m4(s)===c}function Bt(s,c,h,g,_,E){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ti(s,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ti(s,""+g);break;case"className":xi(s,"class",g);break;case"tabIndex":xi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(s,h,g);break;case"style":_d(s,g,E);break;case"data":if(c!=="object"){xi(s,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=yu(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&Bt(s,c,"name",_.name,_,null),Bt(s,c,"formEncType",_.formEncType,_,null),Bt(s,c,"formMethod",_.formMethod,_,null),Bt(s,c,"formTarget",_.formTarget,_,null)):(Bt(s,c,"encType",_.encType,_,null),Bt(s,c,"method",_.method,_,null),Bt(s,c,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=yu(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=ba);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=yu(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":et("beforetoggle",s),et("toggle",s),gu(s,"popover",g);break;case"xlinkActuate":Nn(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Nn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Nn(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Nn(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Nn(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Nn(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Nn(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Nn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Nn(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gu(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=g0.get(h)||h,gu(s,h,g))}}function $x(s,c,h,g,_,E){switch(h){case"style":_d(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?ti(s,g):(typeof g=="number"||typeof g=="bigint")&&ti(s,""+g);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"onClick":g!=null&&(s.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),E=s[rr]||null,E=E!=null?E[h]:null,typeof E=="function"&&s.removeEventListener(c,E,_),typeof g=="function")){typeof E!="function"&&E!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,g,_);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):gu(s,h,g)}}}function _r(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var g=!1,_=!1,E;for(E in h)if(h.hasOwnProperty(E)){var N=h[E];if(N!=null)switch(E){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,E,N,h,null)}}_&&Bt(s,c,"srcSet",h.srcSet,h,null),g&&Bt(s,c,"src",h.src,h,null);return;case"input":et("invalid",s);var B=E=N=_=null,q=null,J=null;for(g in h)if(h.hasOwnProperty(g)){var se=h[g];if(se!=null)switch(g){case"name":_=se;break;case"type":N=se;break;case"checked":q=se;break;case"defaultChecked":J=se;break;case"value":E=se;break;case"defaultValue":B=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,c));break;default:Bt(s,c,g,se,h,null)}}d0(s,E,B,q,J,N,_,!1);return;case"select":et("invalid",s),g=N=E=null;for(_ in h)if(h.hasOwnProperty(_)&&(B=h[_],B!=null))switch(_){case"value":E=B;break;case"defaultValue":N=B;break;case"multiple":g=B;default:Bt(s,c,_,B,h,null)}c=E,h=N,s.multiple=!!g,c!=null?Ts(s,!!g,c,!1):h!=null&&Ts(s,!!g,h,!0);return;case"textarea":et("invalid",s),E=_=g=null;for(N in h)if(h.hasOwnProperty(N)&&(B=h[N],B!=null))switch(N){case"value":g=B;break;case"defaultValue":_=B;break;case"children":E=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Bt(s,c,N,B,h,null)}Cs(s,g,_,E);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(g=h[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Bt(s,c,q,g,h,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(g=0;g<eh.length;g++)et(eh[g],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in h)if(h.hasOwnProperty(J)&&(g=h[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,J,g,h,null)}return;default:if(mu(c)){for(se in h)h.hasOwnProperty(se)&&(g=h[se],g!==void 0&&$x(s,c,se,g,h,void 0));return}}for(B in h)h.hasOwnProperty(B)&&(g=h[B],g!=null&&Bt(s,c,B,g,h,null))}function iU(s,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,N=null,B=null,q=null,J=null,se=null;for(ae in h){var ue=h[ae];if(h.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=ue;default:g.hasOwnProperty(ae)||Bt(s,c,ae,null,g,ue)}}for(var te in g){var ae=g[te];if(ue=h[te],g.hasOwnProperty(te)&&(ae!=null||ue!=null))switch(te){case"type":E=ae;break;case"name":_=ae;break;case"checked":J=ae;break;case"defaultChecked":se=ae;break;case"value":N=ae;break;case"defaultValue":B=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:ae!==ue&&Bt(s,c,te,ae,g,ue)}}vu(s,N,B,q,J,se,E,_);return;case"select":ae=N=B=te=null;for(E in h)if(q=h[E],h.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":ae=q;default:g.hasOwnProperty(E)||Bt(s,c,E,null,g,q)}for(_ in g)if(E=g[_],q=h[_],g.hasOwnProperty(_)&&(E!=null||q!=null))switch(_){case"value":te=E;break;case"defaultValue":B=E;break;case"multiple":N=E;default:E!==q&&Bt(s,c,_,E,g,q)}c=B,h=N,g=ae,te!=null?Ts(s,!!h,te,!1):!!g!=!!h&&(c!=null?Ts(s,!!h,c,!0):Ts(s,!!h,h?[]:"",!1));return;case"textarea":ae=te=null;for(B in h)if(_=h[B],h.hasOwnProperty(B)&&_!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Bt(s,c,B,null,g,_)}for(N in g)if(_=g[N],E=h[N],g.hasOwnProperty(N)&&(_!=null||E!=null))switch(N){case"value":te=_;break;case"defaultValue":ae=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==E&&Bt(s,c,N,_,g,E)}h0(s,te,ae);return;case"option":for(var Te in h)if(te=h[Te],h.hasOwnProperty(Te)&&te!=null&&!g.hasOwnProperty(Te))switch(Te){case"selected":s.selected=!1;break;default:Bt(s,c,Te,null,g,te)}for(q in g)if(te=g[q],ae=h[q],g.hasOwnProperty(q)&&te!==ae&&(te!=null||ae!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Bt(s,c,q,te,g,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in h)te=h[Be],h.hasOwnProperty(Be)&&te!=null&&!g.hasOwnProperty(Be)&&Bt(s,c,Be,null,g,te);for(J in g)if(te=g[J],ae=h[J],g.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,c));break;default:Bt(s,c,J,te,g,ae)}return;default:if(mu(c)){for(var Ut in h)te=h[Ut],h.hasOwnProperty(Ut)&&te!==void 0&&!g.hasOwnProperty(Ut)&&$x(s,c,Ut,void 0,g,te);for(se in g)te=g[se],ae=h[se],!g.hasOwnProperty(se)||te===ae||te===void 0&&ae===void 0||$x(s,c,se,te,g,ae);return}}for(var K in h)te=h[K],h.hasOwnProperty(K)&&te!=null&&!g.hasOwnProperty(K)&&Bt(s,c,K,null,g,te);for(ue in g)te=g[ue],ae=h[ue],!g.hasOwnProperty(ue)||te===ae||te==null&&ae==null||Bt(s,c,ue,te,g,ae)}function x4(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aU(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],E=_.transferSize,N=_.initiatorType,B=_.duration;if(E&&B&&x4(N)){for(N=0,B=_.responseEnd,g+=1;g<h.length;g++){var q=h[g],J=q.startTime;if(J>B)break;var se=q.transferSize,ue=q.initiatorType;se&&x4(ue)&&(q=q.responseEnd,N+=se*(q<B?1:(B-J)/(q-J)))}if(--g,c+=8*(E+N)/(_.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qx=null,Gx=null;function v1(s){return s.nodeType===9?s:s.ownerDocument}function _4(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b4(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Wx(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Kx=null;function oU(){var s=window.event;return s&&s.type==="popstate"?s===Kx?!1:(Kx=s,!0):(Kx=null,!1)}var w4=typeof setTimeout=="function"?setTimeout:void 0,sU=typeof clearTimeout=="function"?clearTimeout:void 0,E4=typeof Promise=="function"?Promise:void 0,lU=typeof queueMicrotask=="function"?queueMicrotask:typeof E4<"u"?function(s){return E4.resolve(null).then(s).catch(cU)}:w4;function cU(s){setTimeout(function(){throw s})}function Ys(s){return s==="head"}function A4(s,c){var h=c,g=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(_),Zu(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")nh(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,nh(h);for(var E=h.firstChild;E;){var N=E.nextSibling,B=E.nodeName;E[qa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=N}}else h==="body"&&nh(s.ownerDocument.body);h=_}while(h);Zu(c)}function S4(s,c){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function Xx(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Xx(h),pu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function uU(s,c,h,g){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[qa])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Qi(s.nextSibling),s===null)break}return null}function fU(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Qi(s.nextSibling),s===null))return null;return s}function T4(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Qi(s.nextSibling),s===null))return null;return s}function Yx(s){return s.data==="$?"||s.data==="$~"}function Qx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function dU(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Qi(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Zx=null;function C4(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return Qi(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function I4(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function O4(s,c,h){switch(c=v1(h),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function nh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);pu(s)}var Zi=new Map,R4=new Set;function m1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Go=re.d;re.d={f:hU,r:pU,D:gU,C:vU,L:mU,m:yU,X:_U,S:xU,M:bU};function hU(){var s=Go.f(),c=l1();return s||c}function pU(s){var c=Vi(s);c!==null&&c.tag===5&&c.type==="form"?WC(c):Go.r(s)}var Xu=typeof document>"u"?null:document;function P4(s,c,h){var g=Xu;if(g&&typeof c=="string"&&c){var _=ei(c);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),R4.has(_)||(R4.add(_),s={rel:s,crossOrigin:h,href:c},g.querySelector(_)===null&&(c=g.createElement("link"),_r(c,"link",s),Pn(c),g.head.appendChild(c)))}}function gU(s){Go.D(s),P4("dns-prefetch",s,null)}function vU(s,c){Go.C(s,c),P4("preconnect",s,c)}function mU(s,c,h){Go.L(s,c,h);var g=Xu;if(g&&s&&c){var _='link[rel="preload"][as="'+ei(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+ei(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+ei(h.imageSizes)+'"]')):_+='[href="'+ei(s)+'"]';var E=_;switch(c){case"style":E=Yu(s);break;case"script":E=Qu(s)}Zi.has(E)||(s=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),Zi.set(E,s),g.querySelector(_)!==null||c==="style"&&g.querySelector(rh(E))||c==="script"&&g.querySelector(ih(E))||(c=g.createElement("link"),_r(c,"link",s),Pn(c),g.head.appendChild(c)))}}function yU(s,c){Go.m(s,c);var h=Xu;if(h&&s){var g=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+ei(g)+'"][href="'+ei(s)+'"]',E=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Qu(s)}if(!Zi.has(E)&&(s=p({rel:"modulepreload",href:s},c),Zi.set(E,s),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ih(E)))return}g=h.createElement("link"),_r(g,"link",s),Pn(g),h.head.appendChild(g)}}}function xU(s,c,h){Go.S(s,c,h);var g=Xu;if(g&&s){var _=Wa(g).hoistableStyles,E=Yu(s);c=c||"default";var N=_.get(E);if(!N){var B={loading:0,preload:null};if(N=g.querySelector(rh(E)))B.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},h),(h=Zi.get(E))&&Jx(s,h);var q=N=g.createElement("link");Pn(q),_r(q,"link",s),q._p=new Promise(function(J,se){q.onload=J,q.onerror=se}),q.addEventListener("load",function(){B.loading|=1}),q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,y1(N,c,g)}N={type:"stylesheet",instance:N,count:1,state:B},_.set(E,N)}}}function _U(s,c){Go.X(s,c);var h=Xu;if(h&&s){var g=Wa(h).hoistableScripts,_=Qu(s),E=g.get(_);E||(E=h.querySelector(ih(_)),E||(s=p({src:s,async:!0},c),(c=Zi.get(_))&&e2(s,c),E=h.createElement("script"),Pn(E),_r(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(_,E))}}function bU(s,c){Go.M(s,c);var h=Xu;if(h&&s){var g=Wa(h).hoistableScripts,_=Qu(s),E=g.get(_);E||(E=h.querySelector(ih(_)),E||(s=p({src:s,async:!0,type:"module"},c),(c=Zi.get(_))&&e2(s,c),E=h.createElement("script"),Pn(E),_r(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(_,E))}}function N4(s,c,h,g){var _=(_=qe.current)?m1(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Yu(h.href),h=Wa(_).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Yu(h.href);var E=Wa(_).hoistableStyles,N=E.get(s);if(N||(_=_.ownerDocument||_,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,N),(E=_.querySelector(rh(s)))&&!E._p&&(N.instance=E,N.state.loading=5),Zi.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Zi.set(s,h),E||wU(_,s,h,N.state))),c&&g===null)throw Error(r(528,""));return N}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Qu(h),h=Wa(_).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Yu(s){return'href="'+ei(s)+'"'}function rh(s){return'link[rel="stylesheet"]['+s+"]"}function D4(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function wU(s,c,h,g){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=s.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),_r(c,"link",h),Pn(c),s.head.appendChild(c))}function Qu(s){return'[src="'+ei(s)+'"]'}function ih(s){return"script[async]"+s}function M4(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=s.querySelector('style[data-href~="'+ei(h.href)+'"]');if(g)return c.instance=g,Pn(g),g;var _=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Pn(g),_r(g,"style",_),y1(g,h.precedence,s),c.instance=g;case"stylesheet":_=Yu(h.href);var E=s.querySelector(rh(_));if(E)return c.state.loading|=4,c.instance=E,Pn(E),E;g=D4(h),(_=Zi.get(_))&&Jx(g,_),E=(s.ownerDocument||s).createElement("link"),Pn(E);var N=E;return N._p=new Promise(function(B,q){N.onload=B,N.onerror=q}),_r(E,"link",g),c.state.loading|=4,y1(E,h.precedence,s),c.instance=E;case"script":return E=Qu(h.src),(_=s.querySelector(ih(E)))?(c.instance=_,Pn(_),_):(g=h,(_=Zi.get(E))&&(g=p({},h),e2(g,_)),s=s.ownerDocument||s,_=s.createElement("script"),Pn(_),_r(_,"link",g),s.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,y1(g,h.precedence,s));return c.instance}function y1(s,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,E=_,N=0;N<g.length;N++){var B=g[N];if(B.dataset.precedence===c)E=B;else if(E!==_)break}E?E.parentNode.insertBefore(s,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function Jx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function e2(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var x1=null;function k4(s,c,h){if(x1===null){var g=new Map,_=x1=new Map;_.set(h,g)}else _=x1,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var E=h[_];if(!(E[qa]||E[Rn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var N=E.getAttribute(c)||"";N=s+N;var B=g.get(N);B?B.push(E):g.set(N,[E])}}return g}function j4(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function EU(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function L4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function AU(s,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Yu(g.href),E=c.querySelector(rh(_));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=_1.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=E,Pn(E);return}E=c.ownerDocument||c,g=D4(g),(_=Zi.get(_))&&Jx(g,_),E=E.createElement("link"),Pn(E);var N=E;N._p=new Promise(function(B,q){N.onload=B,N.onerror=q}),_r(E,"link",g),h.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=_1.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var t2=0;function SU(s,c){return s.stylesheets&&s.count===0&&w1(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&w1(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+c);0<s.imgBytes&&t2===0&&(t2=62500*aU());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&w1(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>t2?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function _1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)w1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var b1=null;function w1(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,b1=new Map,c.forEach(TU,s),b1=null,_1.call(s))}function TU(s,c){if(!(c.state.loading&4)){var h=b1.get(s);if(h)var g=h.get(null);else{h=new Map,b1.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<_.length;E++){var N=_[E];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(h.set(N.dataset.precedence,N),g=N)}g&&h.set(null,g)}_=c.instance,N=_.getAttribute("data-precedence"),E=h.get(N)||g,E===g&&h.set(null,_),h.set(N,_),this.count++,g=_1.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),E?E.parentNode.insertBefore(_,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),c.state.loading|=4}}var ah={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function CU(s,c,h,g,_,E,N,B,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function B4(s,c,h,g,_,E,N,B,q,J,se,ue){return s=new CU(s,c,h,N,q,J,se,ue,B),c=1,E===!0&&(c|=24),E=bi(3,null,null,c),s.current=E,E.stateNode=s,c=My(),c.refCount++,s.pooledCache=c,c.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:c},By(E),s}function U4(s){return s?(s=Iu,s):Iu}function F4(s,c,h,g,_,E){_=U4(_),g.context===null?g.context=_:g.pendingContext=_,g=Us(c),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=Fs(s,g,c),h!==null&&(oi(h,s,c),Ld(h,s,c))}function V4(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function n2(s,c){V4(s,c),(s=s.alternate)&&V4(s,c)}function z4(s){if(s.tag===13||s.tag===31){var c=cc(s,67108864);c!==null&&oi(c,s,67108864),n2(s,67108864)}}function H4(s){if(s.tag===13||s.tag===31){var c=Ti();c=Ql(c);var h=cc(s,c);h!==null&&oi(h,s,c),n2(s,c)}}var E1=!0;function IU(s,c,h,g){var _=X.T;X.T=null;var E=re.p;try{re.p=2,r2(s,c,h,g)}finally{re.p=E,X.T=_}}function OU(s,c,h,g){var _=X.T;X.T=null;var E=re.p;try{re.p=8,r2(s,c,h,g)}finally{re.p=E,X.T=_}}function r2(s,c,h,g){if(E1){var _=i2(g);if(_===null)Hx(s,c,g,A1,h),q4(s,g);else if(PU(_,s,c,h,g))g.stopPropagation();else if(q4(s,g),c&4&&-1<RU.indexOf(s)){for(;_!==null;){var E=Vi(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var N=Va(E.pendingLanes);if(N!==0){var B=E;for(B.pendingLanes|=2,B.entangledLanes|=2;N;){var q=1<<31-bn(N);B.entanglements[1]|=q,N&=~q}oo(E),(wt&6)===0&&(o1=Hr()+500,Jd(0))}}break;case 31:case 13:B=cc(E,2),B!==null&&oi(B,E,2),l1(),n2(E,2)}if(E=i2(g),E===null&&Hx(s,c,g,A1,h),E===_)break;_=E}_!==null&&g.stopPropagation()}else Hx(s,c,g,null,h)}}function i2(s){return s=zi(s),a2(s)}var A1=null;function a2(s){if(A1=null,s=Ga(s),s!==null){var c=a(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=o(c),s!==null)return s;s=null}else if(h===31){if(s=l(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return A1=s,null}function $4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case ld:return 2;case cd:return 8;case As:case fy:return 32;case n0:return 268435456;default:return 32}default:return 32}}var o2=!1,Qs=null,Zs=null,Js=null,oh=new Map,sh=new Map,el=[],RU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q4(s,c){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":oh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(c.pointerId)}}function lh(s,c,h,g,_,E){return s===null||s.nativeEvent!==E?(s={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[_]},c!==null&&(c=Vi(c),c!==null&&z4(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),s)}function PU(s,c,h,g,_){switch(c){case"focusin":return Qs=lh(Qs,s,c,h,g,_),!0;case"dragenter":return Zs=lh(Zs,s,c,h,g,_),!0;case"mouseover":return Js=lh(Js,s,c,h,g,_),!0;case"pointerover":var E=_.pointerId;return oh.set(E,lh(oh.get(E)||null,s,c,h,g,_)),!0;case"gotpointercapture":return E=_.pointerId,sh.set(E,lh(sh.get(E)||null,s,c,h,g,_)),!0}return!1}function G4(s){var c=Ga(s.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){s.blockedOn=c,xa(s.priority,function(){H4(h)});return}}else if(c===31){if(c=l(h),c!==null){s.blockedOn=c,xa(s.priority,function(){H4(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function S1(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=i2(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);bd=g,h.target.dispatchEvent(g),bd=null}else return c=Vi(h),c!==null&&z4(c),s.blockedOn=h,!1;c.shift()}return!0}function W4(s,c,h){S1(s)&&h.delete(c)}function NU(){o2=!1,Qs!==null&&S1(Qs)&&(Qs=null),Zs!==null&&S1(Zs)&&(Zs=null),Js!==null&&S1(Js)&&(Js=null),oh.forEach(W4),sh.forEach(W4)}function T1(s,c){s.blockedOn===c&&(s.blockedOn=null,o2||(o2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NU)))}var C1=null;function K4(s){C1!==s&&(C1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){C1===s&&(C1=null);for(var c=0;c<s.length;c+=3){var h=s[c],g=s[c+1],_=s[c+2];if(typeof g!="function"){if(a2(g||h)===null)continue;break}var E=Vi(h);E!==null&&(s.splice(c,3),c-=3,ix(E,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function Zu(s){function c(q){return T1(q,s)}Qs!==null&&T1(Qs,s),Zs!==null&&T1(Zs,s),Js!==null&&T1(Js,s),oh.forEach(c),sh.forEach(c);for(var h=0;h<el.length;h++){var g=el[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<el.length&&(h=el[0],h.blockedOn===null);)G4(h),h.blockedOn===null&&el.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],E=h[g+1],N=_[rr]||null;if(typeof E=="function")N||K4(h);else if(N){var B=null;if(E&&E.hasAttribute("formAction")){if(_=E,N=E[rr]||null)B=N.formAction;else if(a2(_)!==null)continue}else B=N.action;typeof B=="function"?h[g+1]=B:(h.splice(g,3),g-=3),K4(h)}}}function X4(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(N){return _=N})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function s2(s){this._internalRoot=s}I1.prototype.render=s2.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Ti();F4(h,g,s,c,null,null)},I1.prototype.unmount=s2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;F4(s.current,2,null,s,null,null),l1(),c[$a]=null}};function I1(s){this._internalRoot=s}I1.prototype.unstable_scheduleHydration=function(s){if(s){var c=l0();s={blockedOn:null,target:s,priority:c};for(var h=0;h<el.length&&c!==0&&c<el[h].priority;h++);el.splice(h,0,s),h===0&&G4(s)}};var Y4=e.version;if(Y4!=="19.2.0")throw Error(r(527,Y4,"19.2.0"));re.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var DU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O1.isDisabled&&O1.supportsFiber)try{ma=O1.inject(DU),gr=O1}catch{}}return uh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var h=!1,g="",_=r3,E=i3,N=a3;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=B4(s,1,!1,null,null,h,g,null,_,E,N,X4),s[$a]=c.current,zx(s),new s2(c)},uh.hydrateRoot=function(s,c,h){if(!i(s))throw Error(r(299));var g=!1,_="",E=r3,N=i3,B=a3,q=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(N=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.formState!==void 0&&(q=h.formState)),c=B4(s,1,!0,c,h??null,g,_,q,E,N,B,X4),c.context=U4(null),h=c.current,g=Ti(),g=Ql(g),_=Us(g),_.callback=null,Fs(h,_,g),h=g,c.current.lanes=h,Xl(c,h),oo(c),s[$a]=c.current,zx(s),new I1(c)},uh.version="19.2.0",uh}var oI;function $U(){if(oI)return u2.exports;oI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u2.exports=HU(),u2.exports}var qU=$U();const GU=wo(qU),WU=({title:t})=>y.jsx("header",{children:t});var qN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sI=Ur.createContext&&Ur.createContext(qN),KU=["attr","size","title"];function XU(t,e){if(t==null)return{};var n=YU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){QU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QU(t,e,n){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZU(t){var e=JU(t,"string");return typeof e=="symbol"?e:e+""}function JU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GN(t){return t&&t.map((e,n)=>Ur.createElement(e.tag,Cg({key:n},e.attr),GN(e.child)))}function Se(t){return e=>Ur.createElement(eF,Tg({attr:Cg({},t.attr)},e),GN(t.child))}function eF(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=XU(t,KU),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ur.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Cg(Cg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Ur.createElement("title",null,a),t.children)};return sI!==void 0?Ur.createElement(sI.Consumer,null,n=>e(n)):e(qN)}function tF(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function nF(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function zv(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function rF(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function iF(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Hv(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function $v(t){return Se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function aF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"},child:[]}]})(t)}function oF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function qv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function Gv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function sF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Uf(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function lF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function WN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(t)}function KN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(t)}function cF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function uF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function vl(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function fF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function dF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function XN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function hF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Wv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function pF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function YN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function QN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function ZN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function gF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"},child:[]}]})(t)}function vF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function JN(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(t)}function Kv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function mF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function Ig(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function mf(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function yF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"},child:[]}]})(t)}function tE(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function xF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(t)}function _F(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function bF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function wF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function Og(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function Gh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function EF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function AF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function SF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function Rg(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function nE(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function Xv(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function p2(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function TF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function CF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function eD(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function yf(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function IF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(t)}function OF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94A5.01 5.01 0 0 0 11 15.9V19H7v2h10v-2h-4v-3.1a5.01 5.01 0 0 0 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"},child:[]}]})(t)}function RF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"},child:[]}]})(t)}function PF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function tD(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(t)}function Wh(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function nD(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function NF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(t)}function DF(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function yb(t){return Se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const MF=({currentScreen:t,onNavigate:e})=>{const n=[{screen:"home",icon:y.jsx(rF,{size:24}),label:"ホーム"},{screen:"meals",icon:y.jsx(nE,{size:24}),label:"食事"},{screen:"barcode",icon:y.jsx(nF,{size:24}),label:"スキャン"},{screen:"report",icon:y.jsx(tF,{size:24}),label:"レポート"},{screen:"social",icon:y.jsx(tD,{size:24}),label:"ソーシャル"},{screen:"settings",icon:y.jsx(iF,{size:24}),label:"設定"}];return y.jsx("nav",{id:"bottomNav",children:n.map(r=>y.jsxs("button",{className:`nav-item ${t===r.screen?"active":""}`,onClick:()=>e(r.screen),children:[y.jsx("span",{children:r.icon}),y.jsx("span",{children:r.label})]},r.screen))})},cI=t=>{let e;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(m=>m(e,v))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(r,i,l);return l},kF=(t=>t?cI(t):cI),jF=t=>t;function LF(t,e=jF){const n=Ur.useSyncExternalStore(t.subscribe,Ur.useCallback(()=>e(t.getState()),[t,e]),Ur.useCallback(()=>e(t.getInitialState()),[t,e]));return Ur.useDebugValue(n),n}const uI=t=>{const e=kF(t),n=r=>LF(e,r);return Object.assign(n,e),n},ru=(t=>t?uI(t):uI);function Sl(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`localStorage取得エラー (${t}):`,n),e}}function kt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`localStorage保存エラー (${t}):`,n)}}const tt={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings",BADGES:"app-badges"},br=[];for(let t=0;t<256;++t)br.push((t+256).toString(16).slice(1));function BF(t,e=0){return(br[t[e+0]]+br[t[e+1]]+br[t[e+2]]+br[t[e+3]]+"-"+br[t[e+4]]+br[t[e+5]]+"-"+br[t[e+6]]+br[t[e+7]]+"-"+br[t[e+8]]+br[t[e+9]]+"-"+br[t[e+10]]+br[t[e+11]]+br[t[e+12]]+br[t[e+13]]+br[t[e+14]]+br[t[e+15]]).toLowerCase()}let g2;const UF=new Uint8Array(16);function FF(){if(!g2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g2=crypto.getRandomValues.bind(crypto)}return g2(UF)}const VF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fI={randomUUID:VF};function zF(t,e,n){t=t||{};const r=t.random??t.rng?.()??FF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,BF(r)}function HF(t,e,n){return fI.randomUUID&&!t?fI.randomUUID():zF(t)}function ml(){return HF()}const $F=()=>{};var dI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},iD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,d=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;u||(m=64,o||(v=64)),r.push(n[d],n[p],n[v],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new GF;const v=a<<2|l>>4;if(r.push(v),f!==64){const m=l<<4&240|f>>2;if(r.push(m),p!==64){const b=f<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WF=function(t){const e=rD(t);return iD.encodeByteArray(e,!0)},Pg=function(t){return WF(t).replace(/\./g,"")},aD=function(t){try{return iD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>KF().__FIREBASE_DEFAULTS__,YF=()=>{if(typeof process>"u"||typeof dI>"u")return;const t=dI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aD(t[1]);return e&&JSON.parse(e)},Yv=()=>{try{return $F()||XF()||YF()||QF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oD=t=>Yv()?.emulatorHosts?.[t],rE=t=>{const e=oD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sD=()=>Yv()?.config,lD=t=>Yv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pg(JSON.stringify(n)),Pg(JSON.stringify(o)),""].join(".")}const Lh={};function JF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lh))Lh[e]?t.emulator.push(e):t.prod.push(e);return t}function eV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hI=!1;function Zv(t,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Lh[t]===e||Lh[t]||hI)return;Lh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=JF().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{hI=!0,o()},v}function d(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=eV(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),A=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),O=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const I=v.element;l(I),d(A,w);const R=f();u(O,S),I.append(O,b,A,R),document.body.appendChild(I)}a?(b.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}function nV(){const t=Yv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oV(){const t=Vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sV(){return!nV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lV(){try{return typeof indexedDB=="object"}catch{return!1}}function cV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="FirebaseError";class Ba extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uV,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mp.prototype.create)}}class mp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?fV(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ba(i,l,r)}}function fV(t,e){return t.replace(dV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dV=/\{\$([^}]+)}/g;function hV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(pI(a)&&pI(o)){if(!qc(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pV(t,e){const n=new gV(t,e);return n.subscribe.bind(n)}class gV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=v2),i.error===void 0&&(i.error=v2),i.complete===void 0&&(i.complete=v2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function v2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xV(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yV(t){return t===Sc?void 0:t}function xV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const bV={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},wV=ot.INFO,EV={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},AV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=EV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iE{constructor(e){this.name=e,this._logLevel=wV,this._logHandler=AV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const SV=(t,e)=>e.some(n=>t instanceof n);let gI,vI;function TV(){return gI||(gI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CV(){return vI||(vI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uD=new WeakMap,xb=new WeakMap,fD=new WeakMap,m2=new WeakMap,aE=new WeakMap;function IV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(yl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uD.set(n,t)}).catch(()=>{}),aE.set(e,t),e}function OV(t){if(xb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});xb.set(t,e)}let _b={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RV(t){_b=t(_b)}function PV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y2(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),yl(r)}:CV().includes(t)?function(...e){return t.apply(y2(this),e),yl(uD.get(this))}:function(...e){return yl(t.apply(y2(this),e))}}function NV(t){return typeof t=="function"?PV(t):(t instanceof IDBTransaction&&OV(t),SV(t,TV())?new Proxy(t,_b):t)}function yl(t){if(t instanceof IDBRequest)return IV(t);if(m2.has(t))return m2.get(t);const e=NV(t);return e!==t&&(m2.set(t,e),aE.set(e,t)),e}const y2=t=>aE.get(t);function DV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=yl(o);return r&&o.addEventListener("upgradeneeded",u=>{r(yl(o.result),u.oldVersion,u.newVersion,yl(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const MV=["get","getKey","getAll","getAllKeys","count"],kV=["put","add","delete","clear"],x2=new Map;function mI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(x2.get(e))return x2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return x2.set(e,a),a}RV(t=>({...t,get:(e,n,r)=>mI(e,n)||t.get(e,n,r),has:(e,n)=>!!mI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LV(t){return t.getComponent()?.type==="VERSION"}const bb="@firebase/app",yI="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new iE("@firebase/app"),BV="@firebase/app-compat",UV="@firebase/analytics-compat",FV="@firebase/analytics",VV="@firebase/app-check-compat",zV="@firebase/app-check",HV="@firebase/auth",$V="@firebase/auth-compat",qV="@firebase/database",GV="@firebase/data-connect",WV="@firebase/database-compat",KV="@firebase/functions",XV="@firebase/functions-compat",YV="@firebase/installations",QV="@firebase/installations-compat",ZV="@firebase/messaging",JV="@firebase/messaging-compat",ez="@firebase/performance",tz="@firebase/performance-compat",nz="@firebase/remote-config",rz="@firebase/remote-config-compat",iz="@firebase/storage",az="@firebase/storage-compat",oz="@firebase/firestore",sz="@firebase/ai",lz="@firebase/firestore-compat",cz="firebase",uz="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="[DEFAULT]",fz={[bb]:"fire-core",[BV]:"fire-core-compat",[FV]:"fire-analytics",[UV]:"fire-analytics-compat",[zV]:"fire-app-check",[VV]:"fire-app-check-compat",[HV]:"fire-auth",[$V]:"fire-auth-compat",[qV]:"fire-rtdb",[GV]:"fire-data-connect",[WV]:"fire-rtdb-compat",[KV]:"fire-fn",[XV]:"fire-fn-compat",[YV]:"fire-iid",[QV]:"fire-iid-compat",[ZV]:"fire-fcm",[JV]:"fire-fcm-compat",[ez]:"fire-perf",[tz]:"fire-perf-compat",[nz]:"fire-rc",[rz]:"fire-rc-compat",[iz]:"fire-gcs",[az]:"fire-gcs-compat",[oz]:"fire-fst",[lz]:"fire-fst-compat",[sz]:"fire-vertex","fire-js":"fire-js",[cz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map,dz=new Map,Eb=new Map;function xI(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tl(t){const e=t.name;if(Eb.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Eb.set(e,t);for(const n of Ng.values())xI(n,t);for(const n of dz.values())xI(n,t);return!0}function xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new mp("app","Firebase",hz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=uz;function dD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(n||(n=sD()),!n)throw xl.create("no-options");const a=Ng.get(i);if(a){if(qc(n,a.options)&&qc(r,a.config))return a;throw xl.create("duplicate-app",{appName:i})}const o=new _V(i);for(const u of Eb.values())o.addComponent(u);const l=new pz(n,r,o);return Ng.set(i,l),l}function Jv(t=wb){const e=Ng.get(t);if(!e&&t===wb&&sD())return dD();if(!e)throw xl.create("no-app",{appName:t});return e}function la(t,e,n){let r=fz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}Tl(new is(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="firebase-heartbeat-database",vz=1,Kh="firebase-heartbeat-store";let _2=null;function hD(){return _2||(_2=DV(gz,vz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw xl.create("idb-open",{originalErrorMessage:t.message})})),_2}async function mz(t){try{const n=(await hD()).transaction(Kh),r=await n.objectStore(Kh).get(pD(t));return await n.done,r}catch(e){if(e instanceof Ba)as.warn(e.message);else{const n=xl.create("idb-get",{originalErrorMessage:e?.message});as.warn(n.message)}}}async function _I(t,e){try{const r=(await hD()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,pD(t)),await r.done}catch(n){if(n instanceof Ba)as.warn(n.message);else{const r=xl.create("idb-set",{originalErrorMessage:n?.message});as.warn(r.message)}}}function pD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=1024,xz=30;class _z{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xz){const i=Ez(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bI(),{heartbeatsToSend:n,unsentEntries:r}=bz(this._heartbeatsCache.heartbeats),i=Pg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return as.warn(e),""}}}function bI(){return new Date().toISOString().substring(0,10)}function bz(t,e=yz){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),wI(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lV()?cV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wI(t){return Pg(JSON.stringify({version:2,heartbeats:t})).length}function Ez(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){Tl(new is("platform-logger",e=>new jV(e),"PRIVATE")),Tl(new is("heartbeat",e=>new _z(e),"PRIVATE")),la(bb,yI,t),la(bb,yI,"esm2020"),la("fire-js","")}Az("");var EI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,gD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function j(){}j.prototype=M.prototype,P.F=M.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(z,U,H){for(var F=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)F[pe-2]=arguments[pe];return M.prototype[U].apply(z,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,M,j){j||(j=0);const z=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)z[U]=M.charCodeAt(j++)|M.charCodeAt(j++)<<8|M.charCodeAt(j++)<<16|M.charCodeAt(j++)<<24;else for(U=0;U<16;++U)z[U]=M[j++]|M[j++]<<8|M[j++]<<16|M[j++]<<24;M=P.g[0],j=P.g[1],U=P.g[2];let H=P.g[3],F;F=M+(H^j&(U^H))+z[0]+3614090360&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[1]+3905402710&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[2]+606105819&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[3]+3250441966&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[4]+4118548399&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[5]+1200080426&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[6]+2821735955&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[7]+4249261313&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[8]+1770035416&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[9]+2336552879&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[10]+4294925233&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[11]+2304563134&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[12]+1804603682&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[13]+4254626195&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[14]+2792965006&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[15]+1236535329&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(U^H&(j^U))+z[1]+4129170786&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[6]+3225465664&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[11]+643717713&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[0]+3921069994&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[5]+3593408605&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[10]+38016083&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[15]+3634488961&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[4]+3889429448&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[9]+568446438&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[14]+3275163606&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[3]+4107603335&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[8]+1163531501&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[13]+2850285829&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[2]+4243563512&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[7]+1735328473&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[12]+2368359562&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(j^U^H)+z[5]+4294588738&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[8]+2272392833&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[11]+1839030562&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[14]+4259657740&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[1]+2763975236&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[4]+1272893353&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[7]+4139469664&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[10]+3200236656&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[13]+681279174&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[0]+3936430074&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[3]+3572445317&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[6]+76029189&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[9]+3654602809&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[12]+3873151461&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[15]+530742520&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[2]+3299628645&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(U^(j|~H))+z[0]+4096336452&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[7]+1126891415&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[14]+2878612391&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[5]+4237533241&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[12]+1700485571&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[3]+2399980690&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[10]+4293915773&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[1]+2240044497&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[8]+1873313359&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[15]+4264355552&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[6]+2734768916&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[13]+1309151649&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[4]+4149444226&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[11]+3174756917&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[2]+718787259&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+H&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const j=M-this.blockSize,z=this.C;let U=this.h,H=0;for(;H<M;){if(U==0)for(;H<=j;)i(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<M;)if(z[U++]=P.charCodeAt(H++),U==this.blockSize){i(this,z),U=0;break}}else for(;H<M;)if(z[U++]=P[H++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)P[M++]=this.g[j]>>>z&255;return P};function a(P,M){var j=l;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=M(P)}function o(P,M){this.h=M;const j=[];let z=!0;for(let U=P.length-1;U>=0;U--){const H=P[U]|0;z&&H==M||(j[U]=H,z=!1)}this.g=j}var l={};function u(P){return-128<=P&&P<128?a(P,function(M){return new o([M|0],M<0?-1:0)}):new o([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(f(-P));const M=[];let j=1;for(let z=0;P>=j;z++)M[z]=P/j|0,j*=4294967296;return new o(M,0)}function d(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return A(d(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(M,8));let z=p;for(let H=0;H<P.length;H+=8){var U=Math.min(8,P.length-H);const F=parseInt(P.substring(H,H+U),M);U<8?(U=f(Math.pow(M,U)),z=z.j(U).add(f(F))):(z=z.j(j),z=z.add(f(F)))}return z}var p=u(0),v=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-A(this).m();let P=0,M=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);P+=(z>=0?z:4294967296+z)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(w(this))return"-"+A(this).toString(P);const M=f(Math.pow(P,6));var j=this;let z="";for(;;){const U=R(j,M).g;j=S(j,U.j(M));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=U,b(j))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=S(this,P),w(P)?-1:b(P)?0:1};function A(P){const M=P.g.length,j=[];for(let z=0;z<M;z++)j[z]=~P.g[z];return new o(j,~P.h).add(v)}t.abs=function(){return w(this)?A(this):this},t.add=function(P){const M=Math.max(this.g.length,P.g.length),j=[];let z=0;for(let U=0;U<=M;U++){let H=z+(this.i(U)&65535)+(P.i(U)&65535),F=(H>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);z=F>>>16,H&=65535,F&=65535,j[U]=F<<16|H}return new o(j,j[j.length-1]&-2147483648?-1:0)};function S(P,M){return P.add(A(M))}t.j=function(P){if(b(this)||b(P))return p;if(w(this))return w(P)?A(this).j(A(P)):A(A(this).j(P));if(w(P))return A(this.j(A(P)));if(this.l(m)<0&&P.l(m)<0)return f(this.m()*P.m());const M=this.g.length+P.g.length,j=[];for(var z=0;z<2*M;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<P.g.length;U++){const H=this.i(z)>>>16,F=this.i(z)&65535,pe=P.i(U)>>>16,_e=P.i(U)&65535;j[2*z+2*U]+=F*_e,O(j,2*z+2*U),j[2*z+2*U+1]+=H*_e,O(j,2*z+2*U+1),j[2*z+2*U+1]+=F*pe,O(j,2*z+2*U+1),j[2*z+2*U+2]+=H*pe,O(j,2*z+2*U+2)}for(P=0;P<M;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=M;P<2*M;P++)j[P]=0;return new o(j,0)};function O(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function I(P,M){this.g=P,this.h=M}function R(P,M){if(b(M))throw Error("division by zero");if(b(P))return new I(p,p);if(w(P))return M=R(A(P),M),new I(A(M.g),A(M.h));if(w(M))return M=R(P,A(M)),new I(A(M.g),M.h);if(P.g.length>30){if(w(P)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var j=v,z=M;z.l(P)<=0;)j=k(j),z=k(z);var U=L(j,1),H=L(z,1);for(z=L(z,2),j=L(j,2);!b(z);){var F=H.add(z);F.l(P)<=0&&(U=U.add(j),H=F),z=L(z,1),j=L(j,1)}return M=S(P,U.j(M)),new I(U,M)}for(U=p;P.l(M)>=0;){for(j=Math.max(1,Math.floor(P.m()/M.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(j),F=H.j(M);w(F)||F.l(P)>0;)j-=z,H=f(j),F=H.j(M);b(H)&&(H=v),U=U.add(H),P=S(P,F)}return new I(U,P)}t.B=function(P){return R(this,P).h},t.and=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)&P.i(z);return new o(j,this.h&P.h)},t.or=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)|P.i(z);return new o(j,this.h|P.h)},t.xor=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)^P.i(z);return new o(j,this.h^P.h)};function k(P){const M=P.g.length+1,j=[];for(let z=0;z<M;z++)j[z]=P.i(z)<<1|P.i(z-1)>>>31;return new o(j,P.h)}function L(P,M){const j=M>>5;M%=32;const z=P.g.length-j,U=[];for(let H=0;H<z;H++)U[H]=M>0?P.i(H+j)>>>M|P.i(H+j+1)<<32-M:P.i(H+j);return new o(U,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,_l=o}).apply(typeof EI<"u"?EI:typeof self<"u"?self:typeof window<"u"?window:{});var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vD,Ch,mD,ug,Ab,yD,xD,_D;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof R1=="object"&&R1];for(var C=0;C<x.length;++C){var D=x[C];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(x,C){if(C)e:{var D=r;x=x.split(".");for(var V=0;V<x.length-1;V++){var Y=x[V];if(!(Y in D))break e;D=D[Y]}x=x[x.length-1],V=D[x],C=C(V),C!=V&&C!=null&&e(D,x,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(C){var D=[],V;for(V in C)Object.prototype.hasOwnProperty.call(C,V)&&D.push([V,C[V]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(x){var C=typeof x;return C=="object"&&x!=null||C=="function"}function u(x,C,D){return x.call.apply(x.bind,arguments)}function f(x,C,D){return f=u,f.apply(null,arguments)}function d(x,C){var D=Array.prototype.slice.call(arguments,1);return function(){var V=D.slice();return V.push.apply(V,arguments),x.apply(this,V)}}function p(x,C){function D(){}D.prototype=C.prototype,x.Z=C.prototype,x.prototype=new D,x.prototype.constructor=x,x.Ob=function(V,Y,ie){for(var ve=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ve[Ge-2]=arguments[Ge];return C.prototype[Y].apply(V,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function m(x){const C=x.length;if(C>0){const D=Array(C);for(let V=0;V<C;V++)D[V]=x[V];return D}return[]}function b(x,C){for(let V=1;V<arguments.length;V++){const Y=arguments[V];var D=typeof Y;if(D=D!="object"?D:Y?Array.isArray(Y)?"array":D:"null",D=="array"||D=="object"&&typeof Y.length=="number"){D=x.length||0;const ie=Y.length||0;x.length=D+ie;for(let ve=0;ve<ie;ve++)x[D+ve]=Y[ve]}else x.push(Y)}}class w{constructor(C,D){this.i=C,this.j=D,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(x){o.setTimeout(()=>{throw x},0)}function S(){var x=P;let C=null;return x.g&&(C=x.g,x.g=x.g.next,x.g||(x.h=null),C.next=null),C}class O{constructor(){this.h=this.g=null}add(C,D){const V=I.get();V.set(C,D),this.h?this.h.next=V:this.g=V,this.h=V}}var I=new w(()=>new R,x=>x.reset());class R{constructor(){this.next=this.g=this.h=null}set(C,D){this.h=C,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let k,L=!1,P=new O,M=()=>{const x=Promise.resolve(void 0);k=()=>{x.then(j)}};function j(){for(var x;x=S();){try{x.h.call(x.g)}catch(D){A(D)}var C=I;C.j(x),C.h<100&&(C.h++,x.next=C.g,C.g=x)}L=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(x,C){this.type=x,this.g=this.target=C,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,C=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const D=()=>{};o.addEventListener("test",D,C),o.removeEventListener("test",D,C)}catch{}return x})();function F(x){return/^[\s\xa0]*$/.test(x)}function pe(x,C){U.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,C)}p(pe,U),pe.prototype.init=function(x,C){const D=this.type=x.type,V=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=C,C=x.relatedTarget,C||(D=="mouseover"?C=x.fromElement:D=="mouseout"&&(C=x.toElement)),this.relatedTarget=C,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(x,C,D,V,Y){this.listener=x,this.proxy=null,this.src=C,this.type=D,this.capture=!!V,this.ha=Y,this.key=++X,this.da=this.fa=!1}function de(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function we(x,C,D){for(const V in x)C.call(D,x[V],V,x)}function ke(x,C){for(const D in x)C.call(void 0,x[D],D,x)}function G(x){const C={};for(const D in x)C[D]=x[D];return C}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(x,C){let D,V;for(let Y=1;Y<arguments.length;Y++){V=arguments[Y];for(D in V)x[D]=V[D];for(let ie=0;ie<ee.length;ie++)D=ee[ie],Object.prototype.hasOwnProperty.call(V,D)&&(x[D]=V[D])}}function be(x){this.src=x,this.g={},this.h=0}be.prototype.add=function(x,C,D,V,Y){const ie=x.toString();x=this.g[ie],x||(x=this.g[ie]=[],this.h++);const ve=qe(x,C,V,Y);return ve>-1?(C=x[ve],D||(C.fa=!1)):(C=new re(C,this.src,ie,!!V,Y),C.fa=D,x.push(C)),C};function Pe(x,C){const D=C.type;if(D in x.g){var V=x.g[D],Y=Array.prototype.indexOf.call(V,C,void 0),ie;(ie=Y>=0)&&Array.prototype.splice.call(V,Y,1),ie&&(de(C),x.g[D].length==0&&(delete x.g[D],x.h--))}}function qe(x,C,D,V){for(let Y=0;Y<x.length;++Y){const ie=x[Y];if(!ie.da&&ie.listener==C&&ie.capture==!!D&&ie.ha==V)return Y}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),yn={};function ge(x,C,D,V,Y){if(Array.isArray(C)){for(let ie=0;ie<C.length;ie++)ge(x,C[ie],D,V,Y);return null}return D=ws(D),x&&x[_e]?x.J(C,D,l(V)?!!V.capture:!1,Y):ze(x,C,D,!1,V,Y)}function ze(x,C,D,V,Y,ie){if(!C)throw Error("Invalid event type");const ve=l(Y)?!!Y.capture:!!Y;let Ge=_n(x);if(Ge||(x[rt]=Ge=new be(x)),D=Ge.add(C,D,V,ve,ie),D.proxy)return D;if(V=Xe(),D.proxy=V,V.src=x,V.listener=D,x.addEventListener)H||(Y=ve),Y===void 0&&(Y=!1),x.addEventListener(C.toString(),V,Y);else if(x.attachEvent)x.attachEvent(Ze(C.toString()),V);else if(x.addListener&&x.removeListener)x.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Xe(){function x(D){return C.call(x.src,x.listener,D)}const C=Hn;return x}function he(x,C,D,V,Y){if(Array.isArray(C))for(var ie=0;ie<C.length;ie++)he(x,C[ie],D,V,Y);else V=l(V)?!!V.capture:!!V,D=ws(D),x&&x[_e]?(x=x.i,ie=String(C).toString(),ie in x.g&&(C=x.g[ie],D=qe(C,D,V,Y),D>-1&&(de(C[D]),Array.prototype.splice.call(C,D,1),C.length==0&&(delete x.g[ie],x.h--)))):x&&(x=_n(x))&&(C=x.g[C.toString()],x=-1,C&&(x=qe(C,D,V,Y)),(D=x>-1?C[x]:null)&&xn(D))}function xn(x){if(typeof x!="number"&&x&&!x.da){var C=x.src;if(C&&C[_e])Pe(C.i,x);else{var D=x.type,V=x.proxy;C.removeEventListener?C.removeEventListener(D,V,x.capture):C.detachEvent?C.detachEvent(Ze(D),V):C.addListener&&C.removeListener&&C.removeListener(V),(D=_n(C))?(Pe(D,x),D.h==0&&(D.src=null,C[rt]=null)):de(x)}}}function Ze(x){return x in yn?yn[x]:yn[x]="on"+x}function Hn(x,C){if(x.da)x=!0;else{C=new pe(C,this);const D=x.listener,V=x.ha||x.src;x.fa&&xn(x),x=D.call(V,C)}return x}function _n(x){return x=x[rt],x instanceof be?x:null}var mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ws(x){return typeof x=="function"?x:(x[mi]||(x[mi]=function(C){return x.handleEvent(C)}),x[mi])}function In(){z.call(this),this.i=new be(this),this.M=this,this.G=null}p(In,z),In.prototype[_e]=!0,In.prototype.removeEventListener=function(x,C,D,V){he(this,x,C,D,V)};function $n(x,C){var D,V=x.G;if(V)for(D=[];V;V=V.G)D.push(V);if(x=x.M,V=C.type||C,typeof C=="string")C=new U(C,x);else if(C instanceof U)C.target=C.target||x;else{var Y=C;C=new U(V,x),ye(C,Y)}Y=!0;let ie,ve;if(D)for(ve=D.length-1;ve>=0;ve--)ie=C.g=D[ve],Y=Es(ie,V,!0,C)&&Y;if(ie=C.g=x,Y=Es(ie,V,!0,C)&&Y,Y=Es(ie,V,!1,C)&&Y,D)for(ve=0;ve<D.length;ve++)ie=C.g=D[ve],Y=Es(ie,V,!1,C)&&Y}In.prototype.N=function(){if(In.Z.N.call(this),this.i){var x=this.i;for(const C in x.g){const D=x.g[C];for(let V=0;V<D.length;V++)de(D[V]);delete x.g[C],x.h--}}this.G=null},In.prototype.J=function(x,C,D,V){return this.i.add(String(x),C,!1,D,V)},In.prototype.K=function(x,C,D,V){return this.i.add(String(x),C,!0,D,V)};function Es(x,C,D,V){if(C=x.i.g[String(C)],!C)return!0;C=C.concat();let Y=!0;for(let ie=0;ie<C.length;++ie){const ve=C[ie];if(ve&&!ve.da&&ve.capture==D){const Ge=ve.listener,wn=ve.ha||ve.src;ve.fa&&Pe(x.i,ve),Y=Ge.call(wn,V)!==!1&&Y}}return Y&&!V.defaultPrevented}function uy(x,C){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(x,C||0)}function t0(x){x.g=uy(()=>{x.g=null,x.i&&(x.i=!1,t0(x))},x.l);const C=x.h;x.h=null,x.m.apply(null,C)}class Hr extends z{constructor(C,D){super(),this.m=C,this.l=D,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:t0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wl(x){z.call(this),this.h=x,this.g={}}p(Wl,z);var ld=[];function cd(x){we(x.g,function(C,D){this.g.hasOwnProperty(D)&&xn(C)},x),x.g={}}Wl.prototype.N=function(){Wl.Z.N.call(this),cd(this)},Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=o.JSON.stringify,fy=o.JSON.parse,n0=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function r0(){}function i0(){}var ma={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gr(){U.call(this,"d")}p(gr,U);function Fi(){U.call(this,"c")}p(Fi,U);var bn={},a0=null;function du(){return a0=a0||new In}bn.Ia="serverreachability";function o0(x){U.call(this,bn.Ia,x)}p(o0,U);function Fa(x){const C=du();$n(C,new o0(C))}bn.STAT_EVENT="statevent";function Kl(x,C){U.call(this,bn.STAT_EVENT,x),this.stat=C}p(Kl,U);function On(x){const C=du();$n(C,new Kl(C,x))}bn.Ja="timingevent";function Va(x,C){U.call(this,bn.Ja,x),this.size=C}p(Va,U);function za(x,C){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},C)}function ya(){this.g=!0}ya.prototype.ua=function(){this.g=!1};function dy(x,C,D,V,Y,ie){x.info(function(){if(x.g)if(ie){var ve="",Ge=ie.split("&");for(let bt=0;bt<Ge.length;bt++){var wn=Ge[bt].split("=");if(wn.length>1){const tn=wn[0];wn=wn[1];const $i=tn.split("_");ve=$i.length>=2&&$i[1]=="type"?ve+(tn+"="+wn+"&"):ve+(tn+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+V+") [attempt "+Y+"]: "+C+`
`+D+`
`+ve})}function s0(x,C,D,V,Y,ie,ve){x.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Y+"]: "+C+`
`+D+`
`+ie+" "+ve})}function Ha(x,C,D,V){x.info(function(){return"XMLHTTP TEXT ("+C+"): "+hy(x,D)+(V?" "+V:"")})}function Xl(x,C){x.info(function(){return"TIMEOUT: "+C})}ya.prototype.info=function(){};function hy(x,C){if(!x.g)return C;if(!C)return null;try{const ie=JSON.parse(C);if(ie){for(x=0;x<ie.length;x++)if(Array.isArray(ie[x])){var D=ie[x];if(!(D.length<2)){var V=D[1];if(Array.isArray(V)&&!(V.length<1)){var Y=V[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<V.length;ve++)V[ve]=""}}}}return As(ie)}catch{return C}}var Yl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ud={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fd;function Ql(){}p(Ql,r0),Ql.prototype.g=function(){return new XMLHttpRequest},fd=new Ql;function Io(x){return encodeURIComponent(String(x))}function l0(x){var C=1;x=x.split(":");const D=[];for(;C>0&&x.length;)D.push(x.shift()),C--;return x.length&&D.push(x.join(":")),D}function xa(x,C,D,V){this.j=x,this.i=C,this.l=D,this.S=V||1,this.V=new Wl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var Rn={},rr={};function $a(x,C,D){x.M=1,x.A=Zl(Nn(C)),x.u=D,x.R=!0,hu(x,null)}function hu(x,C){x.F=Date.now(),qa(x),x.B=Nn(x.A);var D=x.B,V=x.S;Array.isArray(V)||(V=[String(V)]),mu(D.i,"t",V),x.C=0,D=x.j.L,x.h=new _a,x.g=E0(x.j,D?C:null,!x.u),x.P>0&&(x.O=new Hr(f(x.Y,x,x.g),x.P)),C=x.V,D=x.g,V=x.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ld[0]=Y.toString()),Y=ld);for(let ie=0;ie<Y.length;ie++){const ve=ge(D,Y[ie],V||C.handleEvent,!1,C.h||C);if(!ve)break;C.g[ve.key]=ve}C=x.J?G(x.J):{},x.u?(x.v||(x.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,C)):(x.v="GET",x.g.ea(x.B,x.v,null,C)),Fa(),dy(x.i,x.v,x.B,x.l,x.S,x.u)}xa.prototype.ba=function(x){x=x.target;const C=this.O;C&&Ea(x)==3?C.j():this.Y(x)},xa.prototype.Y=function(x){try{if(x==this.g)e:{const Ge=Ea(this.g),wn=this.g.ya(),bt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||vr(this.g)))){this.K||Ge!=4||wn==7||(wn==8||bt<=0?Fa(3):Fa(2)),Ga(this);var C=this.g.ca();this.X=C;var D=py(this);if(this.o=C==200,s0(this.i,this.v,this.B,this.l,this.S,Ge,C),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Y=this.g;if((V=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(V)){var ie=V;break t}}ie=null}if(x=ie)Ha(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wa(this,x);else{this.o=!1,this.m=3,On(12),yi(this),Vi(this);break e}}if(this.R){x=!0;let tn;for(;!this.K&&this.C<D.length;)if(tn=u0(this,D),tn==rr){Ge==4&&(this.m=4,On(14),x=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Rn){this.m=4,On(15),Ha(this.i,this.l,D,"[Invalid Chunk]"),x=!1;break}else Ha(this.i,this.l,tn,null),Wa(this,tn);if(c0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||D.length!=0||this.h.h||(this.m=1,On(16),x=!1),this.o=this.o&&x,!x)Ha(this.i,this.l,D,"[Invalid Chunked Response]"),yi(this),Vi(this);else if(D.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Td(ve),ve.P=!0,On(11))}}else Ha(this.i,this.l,D,null),Wa(this,D);Ge==4&&yi(this),this.o&&!this.K&&(Ge==4?x0(this.j,this):(this.o=!1,qa(this)))}else Ro(this.g),C==400&&D.indexOf("Unknown SID")>0?(this.m=3,On(12)):(this.m=0,On(13)),yi(this),Vi(this)}}}catch{}finally{}};function py(x){if(!c0(x))return x.g.la();const C=vr(x.g);if(C==="")return"";let D="";const V=C.length,Y=Ea(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return yi(x),Vi(x),"";x.h.i=new o.TextDecoder}for(let ie=0;ie<V;ie++)x.h.h=!0,D+=x.h.i.decode(C[ie],{stream:!(Y&&ie==V-1)});return C.length=0,x.h.g+=D,x.C=0,x.h.g}function c0(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function u0(x,C){var D=x.C,V=C.indexOf(`
`,D);return V==-1?rr:(D=Number(C.substring(D,V)),isNaN(D)?Rn:(V+=1,V+D>C.length?rr:(C=C.slice(V,V+D),x.C=V+D,C)))}xa.prototype.cancel=function(){this.K=!0,yi(this)};function qa(x){x.T=Date.now()+x.H,pu(x,x.H)}function pu(x,C){if(x.D!=null)throw Error("WatchDog timer not null");x.D=za(f(x.aa,x),C)}function Ga(x){x.D&&(o.clearTimeout(x.D),x.D=null)}xa.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Xl(this.i,this.B),this.M!=2&&(Fa(),On(17)),yi(this),this.m=2,Vi(this)):pu(this,this.T-x)};function Vi(x){x.j.I==0||x.K||x0(x.j,x)}function yi(x){Ga(x);var C=x.O;C&&typeof C.dispose=="function"&&C.dispose(),x.O=null,cd(x.V),x.g&&(C=x.g,x.g=null,C.abort(),C.dispose())}function Wa(x,C){try{var D=x.j;if(D.I!=0&&(D.g==x||Xa(D.h,x))){if(!x.L&&Xa(D.h,x)&&D.I==3){try{var V=D.Ba.g.parse(C)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Y=V;if(Y[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<x.F)wu(D),Ns(D);else break e;ac(D),On(18)}}else D.xa=Y[1],0<D.xa-D.K&&Y[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=za(f(D.Va,D),6e3));Ka(D.h)<=1&&D.ta&&(D.ta=void 0)}else to(D,11)}else if((x.L||D.g==x)&&wu(D),!F(C))for(Y=D.Ba.g.parse(C),C=0;C<Y.length;C++){let bt=Y[C];const tn=bt[0];if(!(tn<=D.K))if(D.K=tn,bt=bt[1],D.I==2)if(bt[0]=="c"){D.M=bt[1],D.ba=bt[2];const $i=bt[3];$i!=null&&(D.ka=$i,D.j.info("VER="+D.ka));const no=bt[4];no!=null&&(D.za=no,D.j.info("SVER="+D.za));const Aa=bt[5];Aa!=null&&typeof Aa=="number"&&Aa>0&&(V=1.5*Aa,D.O=V,D.j.info("backChannelRequestTimeoutMs_="+V)),V=D;const Sa=x.g;if(Sa){const oc=Sa.g?Sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var ie=V.h;ie.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(pd(ie,ie.h),ie.h=null))}if(V.G){const Eu=Sa.g?Sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(V.wa=Eu,Ot(V.J,V.G,Eu))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-x.F,D.j.info("Handshake RTT: "+D.T+"ms")),V=D;var ve=x;if(V.na=w0(V,V.L?V.ba:null,V.W),ve.L){gd(V.h,ve);var Ge=ve,wn=V.O;wn&&(Ge.H=wn),Ge.D&&(Ga(Ge),qa(Ge)),V.g=ve}else m0(V);D.i.length>0&&eo(D)}else bt[0]!="stop"&&bt[0]!="close"||to(D,7);else D.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?to(D,7):Ad(D):bt[0]!="noop"&&D.l&&D.l.qa(bt),D.A=0)}}Fa(4)}catch{}}var Pn=class{constructor(x,C){this.g=x,this.map=C}};function dd(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hd(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Ka(x){return x.h?1:x.g?x.g.size:0}function Xa(x,C){return x.h?x.h==C:x.g?x.g.has(C):!1}function pd(x,C){x.g?x.g.add(C):x.h=C}function gd(x,C){x.h&&x.h==C?x.h=null:x.g&&x.g.has(C)&&x.g.delete(C)}dd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function vd(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let C=x.i;for(const D of x.g.values())C=C.concat(D.G);return C}return m(x.i)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gu(x,C){if(x){x=x.split("&");for(let D=0;D<x.length;D++){const V=x[D].indexOf("=");let Y,ie=null;V>=0?(Y=x[D].substring(0,V),ie=x[D].substring(V+1)):Y=x[D],C(Y,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function xi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;x instanceof xi?(this.l=x.l,ir(this,x.j),this.o=x.o,this.g=x.g,Ss(this,x.u),this.h=x.h,md(this,g0(x.i)),this.m=x.m):x&&(C=String(x).match(f0))?(this.l=!1,ir(this,C[1]||"",!0),this.o=Ya(C[2]||""),this.g=Ya(C[3]||"",!0),Ss(this,C[4]),this.h=Ya(C[5]||"",!0),md(this,C[6]||"",!0),this.m=Ya(C[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}xi.prototype.toString=function(){const x=[];var C=this.j;C&&x.push(Jl(C,vu,!0),":");var D=this.g;return(D||C=="file")&&(x.push("//"),(C=this.o)&&x.push(Jl(C,vu,!0),"@"),x.push(Io(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&x.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&x.push("/"),x.push(Jl(D,D.charAt(0)=="/"?yd:d0,!0))),(D=this.i.toString())&&x.push("?",D),(D=this.m)&&x.push("#",Jl(D,h0)),x.join("")},xi.prototype.resolve=function(x){const C=Nn(this);let D=!!x.j;D?ir(C,x.j):D=!!x.o,D?C.o=x.o:D=!!x.g,D?C.g=x.g:D=x.u!=null;var V=x.h;if(D)Ss(C,x.u);else if(D=!!x.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Y=C.h.lastIndexOf("/");Y!=-1&&(V=C.h.slice(0,Y+1)+V)}if(Y=V,Y==".."||Y==".")V="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){V=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ie=[];for(let ve=0;ve<Y.length;){const Ge=Y[ve++];Ge=="."?V&&ve==Y.length&&ie.push(""):Ge==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),V&&ve==Y.length&&ie.push("")):(ie.push(Ge),V=!0)}V=ie.join("/")}else V=Y}return D?C.h=V:D=x.i.toString()!=="",D?md(C,g0(x.i)):D=!!x.m,D&&(C.m=x.m),C};function Nn(x){return new xi(x)}function ir(x,C,D){x.j=D?Ya(C,!0):C,x.j&&(x.j=x.j.replace(/:$/,""))}function Ss(x,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);x.u=C}else x.u=null}function md(x,C,D){C instanceof Cs?(x.i=C,yu(x.i,x.l)):(D||(C=Jl(C,Ts)),x.i=new Cs(C,x.l))}function Ot(x,C,D){x.i.set(C,D)}function Zl(x){return Ot(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function Ya(x,C){return x?C?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Jl(x,C,D){return typeof x=="string"?(x=encodeURI(x).replace(C,ei),D&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ei(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var vu=/[#\/\?@]/g,d0=/[#\?:]/g,yd=/[#\?]/g,Ts=/[#\?@]/g,h0=/#/g;function Cs(x,C){this.h=this.g=null,this.i=x||null,this.j=!!C}function ti(x){x.g||(x.g=new Map,x.h=0,x.i&&gu(x.i,function(C,D){x.add(decodeURIComponent(C.replace(/\+/g," ")),D)}))}t=Cs.prototype,t.add=function(x,C){ti(this),this.i=null,x=Is(this,x);let D=this.g.get(x);return D||this.g.set(x,D=[]),D.push(C),this.h+=1,this};function p0(x,C){ti(x),C=Is(x,C),x.g.has(C)&&(x.i=null,x.h-=x.g.get(C).length,x.g.delete(C))}function xd(x,C){return ti(x),C=Is(x,C),x.g.has(C)}t.forEach=function(x,C){ti(this),this.g.forEach(function(D,V){D.forEach(function(Y){x.call(C,Y,V,this)},this)},this)};function _d(x,C){ti(x);let D=[];if(typeof C=="string")xd(x,C)&&(D=D.concat(x.g.get(Is(x,C))));else for(x=Array.from(x.g.values()),C=0;C<x.length;C++)D=D.concat(x[C]);return D}t.set=function(x,C){return ti(this),this.i=null,x=Is(this,x),xd(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[C]),this.h+=1,this},t.get=function(x,C){return x?(x=_d(this,x),x.length>0?String(x[0]):C):C};function mu(x,C,D){p0(x,C),D.length>0&&(x.i=null,x.g.set(Is(x,C),m(D)),x.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],C=Array.from(this.g.keys());for(let V=0;V<C.length;V++){var D=C[V];const Y=Io(D);D=_d(this,D);for(let ie=0;ie<D.length;ie++){let ve=Y;D[ie]!==""&&(ve+="="+Io(D[ie])),x.push(ve)}}return this.i=x.join("&")};function g0(x){const C=new Cs;return C.i=x.i,x.g&&(C.g=new Map(x.g),C.h=x.h),C}function Is(x,C){return C=String(C),x.j&&(C=C.toLowerCase()),C}function yu(x,C){C&&!x.j&&(ti(x),x.i=null,x.g.forEach(function(D,V){const Y=V.toLowerCase();V!=Y&&(p0(this,V),mu(this,Y,D))},x)),x.j=C}function ba(x,C){const D=new ya;if(o.Image){const V=new Image;V.onload=d(zi,D,"TestLoadImage: loaded",!0,C,V),V.onerror=d(zi,D,"TestLoadImage: error",!1,C,V),V.onabort=d(zi,D,"TestLoadImage: abort",!1,C,V),V.ontimeout=d(zi,D,"TestLoadImage: timeout",!1,C,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=x}else C(!1)}function bd(x,C){const D=new ya,V=new AbortController,Y=setTimeout(()=>{V.abort(),zi(D,"TestPingServer: timeout",!1,C)},1e4);fetch(x,{signal:V.signal}).then(ie=>{clearTimeout(Y),ie.ok?zi(D,"TestPingServer: ok",!0,C):zi(D,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Y),zi(D,"TestPingServer: error",!1,C)})}function zi(x,C,D,V,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),V(D)}catch{}}function Os(){this.g=new n0}function Qa(x){this.i=x.Sb||null,this.h=x.ab||!1}p(Qa,r0),Qa.prototype.g=function(){return new ec(this.i,this.h)};function ec(x,C){In.call(this),this.H=x,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ec,In),t=ec.prototype,t.open=function(x,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=C,this.readyState=1,wa(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(C.body=x),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xu(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function xu(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var C=x.value?x.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!x.done}))&&(this.response=this.responseText+=C)}x.done?Rs(this):wa(this),this.readyState==3&&xu(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Rs(this))},t.Na=function(x){this.g&&(this.response=x,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(x){x.readyState=4,x.l=null,x.j=null,x.B=null,wa(x)}t.setRequestHeader=function(x,C){this.A.append(x,C)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],C=this.h.entries();for(var D=C.next();!D.done;)D=D.value,x.push(D[0]+": "+D[1]),D=C.next();return x.join(`\r
`)};function wa(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Hi(x){let C="";return we(x,function(D,V){C+=V,C+=":",C+=D,C+=`\r
`}),C}function tc(x,C,D){e:{for(V in D){var V=!1;break e}V=!0}V||(D=Hi(D),typeof x=="string"?D!=null&&Io(D):Ot(x,C,D))}function jt(x){In.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(jt,In);var Za=/^https?$/i,wd=["POST","PUT"];t=jt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,C,D,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);C=C?C.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(C,String(x),!0),this.B=!1}catch(ie){nc(this,ie);return}if(x=D||"",D=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Y in V)D.set(Y,V[Y]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())D.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(D.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(wd,C,void 0)>=0)||V||Y||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of D)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(ie){nc(this,ie)}};function nc(x,C){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=C,x.o=5,Ed(x),Oo(x)}function Ed(x){x.A||(x.A=!0,$n(x,"complete"),$n(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,$n(this,"complete"),$n(this,"abort"),Oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oo(this,!0)),jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?rc(this):this.Xa())},t.Xa=function(){rc(this)};function rc(x){if(x.h&&typeof a<"u"){if(x.v&&Ea(x)==4)setTimeout(x.Ca.bind(x),0);else if($n(x,"readystatechange"),Ea(x)==4){x.h=!1;try{const ie=x.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var D;if(!(D=C)){var V;if(V=ie===0){let ve=String(x.D).match(f0)[1]||null;!ve&&o.self&&o.self.location&&(ve=o.self.location.protocol.slice(0,-1)),V=!Za.test(ve?ve.toLowerCase():"")}D=V}if(D)$n(x,"complete"),$n(x,"success");else{x.o=6;try{var Y=Ea(x)>2?x.g.statusText:""}catch{Y=""}x.l=Y+" ["+x.ca()+"]",Ed(x)}}finally{Oo(x)}}}}function Oo(x,C){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const D=x.g;x.g=null,C||$n(x,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ea(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var C=this.g.responseText;return x&&C.indexOf(x)==0&&(C=C.substring(x.length)),fy(C)}};function vr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Ro(x){const C={};x=(x.g&&Ea(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<x.length;V++){if(F(x[V]))continue;var D=l0(x[V]);const Y=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ie=C[Y]||[];C[Y]=ie,ie.push(D)}ke(C,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(x,C,D){return D&&D.internalChannelParams&&D.internalChannelParams[x]||C}function Ps(x){this.za=0,this.i=[],this.j=new ya,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ja("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ja("baseRetryDelayMs",5e3,x),this.Za=Ja("retryDelaySeedMs",1e4,x),this.Ta=Ja("forwardChannelMaxRetries",2,x),this.va=Ja("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new dd(x&&x.concurrentRequestLimit),this.Ba=new Os,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ps.prototype,t.ka=8,t.I=1,t.connect=function(x,C,D,V){On(0),this.W=x,this.H=C||{},D&&V!==void 0&&(this.H.OSID=D,this.H.OAID=V),this.F=this.X,this.J=w0(this,null,this.W),eo(this)};function Ad(x){if(_u(x),x.I==3){var C=x.V++,D=Nn(x.J);if(Ot(D,"SID",x.M),Ot(D,"RID",C),Ot(D,"TYPE","terminate"),ic(x,D),C=new xa(x,x.j,C),C.M=2,C.A=Zl(Nn(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!D&&o.Image&&(new Image().src=C.A,D=!0),D||(C.g=E0(C.j,null),C.g.ea(C.A)),C.F=Date.now(),qa(C)}b0(x)}function Ns(x){x.g&&(Td(x),x.g.cancel(),x.g=null)}function _u(x){Ns(x),x.v&&(o.clearTimeout(x.v),x.v=null),wu(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function eo(x){if(!hd(x.h)&&!x.m){x.m=!0;var C=x.Ea;k||M(),L||(k(),L=!0),P.add(C,x),x.D=0}}function bu(x,C){return Ka(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=C.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=za(f(x.Ea,x,C),_0(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Y=new xa(this,this.j,x);let ie=this.o;if(this.U&&(ie?(ie=G(ie),ye(ie,this.U)):ie=this.U),this.u!==null||this.R||(Y.J=ie,ie=null),this.S)e:{for(var C=0,D=0;D<this.i.length;D++){t:{var V=this.i[D];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(C+=V,C>4096){C=D;break e}if(C===4096||D===this.i.length-1){C=D+1;break e}}C=1e3}else C=1e3;C=v0(this,Y,C),D=Nn(this.J),Ot(D,"RID",x),Ot(D,"CVER",22),this.G&&Ot(D,"X-HTTP-Session-Id",this.G),ic(this,D),ie&&(this.R?C="headers="+Io(Hi(ie))+"&"+C:this.u&&tc(D,this.u,ie)),pd(this.h,Y),this.Ra&&Ot(D,"TYPE","init"),this.S?(Ot(D,"$req",C),Ot(D,"SID","null"),Y.U=!0,$a(Y,D,null)):$a(Y,D,C),this.I=2}}else this.I==3&&(x?Sd(this,x):this.i.length==0||hd(this.h)||Sd(this))};function Sd(x,C){var D;C?D=C.l:D=x.V++;const V=Nn(x.J);Ot(V,"SID",x.M),Ot(V,"RID",D),Ot(V,"AID",x.K),ic(x,V),x.u&&x.o&&tc(V,x.u,x.o),D=new xa(x,x.j,D,x.D+1),x.u===null&&(D.J=x.o),C&&(x.i=C.G.concat(x.i)),C=v0(x,D,1e3),D.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),pd(x.h,D),$a(D,V,C)}function ic(x,C){x.H&&we(x.H,function(D,V){Ot(C,V,D)}),x.l&&we({},function(D,V){Ot(C,V,D)})}function v0(x,C,D){D=Math.min(x.i.length,D);const V=x.l?f(x.l.Ka,x.l,x):null;e:{var Y=x.i;let Ge=-1;for(;;){const wn=["count="+D];Ge==-1?D>0?(Ge=Y[0].g,wn.push("ofs="+Ge)):Ge=0:wn.push("ofs="+Ge);let bt=!0;for(let tn=0;tn<D;tn++){var ie=Y[tn].g;const $i=Y[tn].map;if(ie-=Ge,ie<0)Ge=Math.max(0,Y[tn].g-100),bt=!1;else try{ie="req"+ie+"_"||"";try{var ve=$i instanceof Map?$i:Object.entries($i);for(const[no,Aa]of ve){let Sa=Aa;l(Aa)&&(Sa=As(Aa)),wn.push(ie+no+"="+encodeURIComponent(Sa))}}catch(no){throw wn.push(ie+"type="+encodeURIComponent("_badmap")),no}}catch{V&&V($i)}}if(bt){ve=wn.join("&");break e}}ve=void 0}return x=x.i.splice(0,D),C.G=x,ve}function m0(x){if(!x.g&&!x.v){x.Y=1;var C=x.Da;k||M(),L||(k(),L=!0),P.add(C,x),x.A=0}}function ac(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=za(f(x.Da,x),_0(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,y0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=za(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,On(10),Ns(this),y0(this))};function Td(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function y0(x){x.g=new xa(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var C=Nn(x.na);Ot(C,"RID","rpc"),Ot(C,"SID",x.M),Ot(C,"AID",x.K),Ot(C,"CI",x.F?"0":"1"),!x.F&&x.ia&&Ot(C,"TO",x.ia),Ot(C,"TYPE","xmlhttp"),ic(x,C),x.u&&x.o&&tc(C,x.u,x.o),x.O&&(x.g.H=x.O);var D=x.g;x=x.ba,D.M=1,D.A=Zl(Nn(C)),D.u=null,D.R=!0,hu(D,x)}t.Va=function(){this.C!=null&&(this.C=null,Ns(this),ac(this),On(19))};function wu(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function x0(x,C){var D=null;if(x.g==C){wu(x),Td(x),x.g=null;var V=2}else if(Xa(x.h,C))D=C.G,gd(x.h,C),V=1;else return;if(x.I!=0){if(C.o)if(V==1){D=C.u?C.u.length:0,C=Date.now()-C.F;var Y=x.D;V=du(),$n(V,new Va(V,D)),eo(x)}else m0(x);else if(Y=C.m,Y==3||Y==0&&C.X>0||!(V==1&&bu(x,C)||V==2&&ac(x)))switch(D&&D.length>0&&(C=x.h,C.i=C.i.concat(D)),Y){case 1:to(x,5);break;case 4:to(x,10);break;case 3:to(x,6);break;default:to(x,2)}}}function _0(x,C){let D=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(D*=2),D*C}function to(x,C){if(x.j.info("Error code "+C),C==2){var D=f(x.bb,x),V=x.Ua;const Y=!V;V=new xi(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ir(V,"https"),Zl(V),Y?ba(V.toString(),D):bd(V.toString(),D)}else On(2);x.I=0,x.l&&x.l.pa(C),b0(x),_u(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function b0(x){if(x.I=0,x.ja=[],x.l){const C=vd(x.h);(C.length!=0||x.i.length!=0)&&(b(x.ja,C),b(x.ja,x.i),x.h.i.length=0,m(x.i),x.i.length=0),x.l.oa()}}function w0(x,C,D){var V=D instanceof xi?Nn(D):new xi(D);if(V.g!="")C&&(V.g=C+"."+V.g),Ss(V,V.u);else{var Y=o.location;V=Y.protocol,C=C?C+"."+Y.hostname:Y.hostname,Y=+Y.port;const ie=new xi(null);V&&ir(ie,V),C&&(ie.g=C),Y&&Ss(ie,Y),D&&(ie.h=D),V=ie}return D=x.G,C=x.wa,D&&C&&Ot(V,D,C),Ot(V,"VER",x.ka),ic(x,V),V}function E0(x,C,D){if(C&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=x.Aa&&!x.ma?new jt(new Qa({ab:D})):new jt(x.ma),C.Fa(x.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A0(){}t=A0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ds(){}Ds.prototype.g=function(x,C){return new $r(x,C)};function $r(x,C){In.call(this),this.g=new Ps(C),this.l=x,this.h=C&&C.messageUrlParams||null,x=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(x?x["X-WebChannel-Content-Type"]=C.messageContentType:x={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(x?x["X-WebChannel-Client-Profile"]=C.sa:x={"X-WebChannel-Client-Profile":C.sa}),this.g.U=x,(x=C&&C.Qb)&&!F(x)&&(this.g.u=x),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!F(C)&&(this.g.G=C,x=this.h,x!==null&&C in x&&(x=this.h,C in x&&delete x[C])),this.j=new Po(this)}p($r,In),$r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){Ad(this.g)},$r.prototype.o=function(x){var C=this.g;if(typeof x=="string"){var D={};D.__data__=x,x=D}else this.v&&(D={},D.__data__=As(x),x=D);C.i.push(new Pn(C.Ya++,x)),C.I==3&&eo(C)},$r.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,$r.Z.N.call(this)};function S0(x){gr.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var C=x.__sm__;if(C){e:{for(const D in C){x=D;break e}x=void 0}(this.i=x)&&(x=this.i,C=C!==null&&x in C?C[x]:void 0),this.data=C}else this.data=x}p(S0,gr);function T0(){Fi.call(this),this.status=1}p(T0,Fi);function Po(x){this.g=x}p(Po,A0),Po.prototype.ra=function(){$n(this.g,"a")},Po.prototype.qa=function(x){$n(this.g,new S0(x))},Po.prototype.pa=function(x){$n(this.g,new T0)},Po.prototype.oa=function(){$n(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,_D=function(){return new Ds},xD=function(){return du()},yD=bn,Ab={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yl.NO_ERROR=0,Yl.TIMEOUT=8,Yl.HTTP_ERROR=6,ug=Yl,ud.COMPLETE="complete",mD=ud,i0.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",In.prototype.listen=In.prototype.J,Ch=i0,jt.prototype.listenOnce=jt.prototype.K,jt.prototype.getLastError=jt.prototype.Ha,jt.prototype.getLastErrorCode=jt.prototype.ya,jt.prototype.getStatus=jt.prototype.ca,jt.prototype.getResponseJson=jt.prototype.La,jt.prototype.getResponseText=jt.prototype.la,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Fa,vD=jt}).apply(typeof R1<"u"?R1:typeof self<"u"?self:typeof window<"u"?window:{});const AI="@firebase/firestore",SI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new iE("@firebase/firestore");function nf(){return Gc.logLevel}function Ee(t,...e){if(Gc.logLevel<=ot.DEBUG){const n=e.map(oE);Gc.debug(`Firestore (${Ff}): ${t}`,...n)}}function os(t,...e){if(Gc.logLevel<=ot.ERROR){const n=e.map(oE);Gc.error(`Firestore (${Ff}): ${t}`,...n)}}function xf(t,...e){if(Gc.logLevel<=ot.WARN){const n=e.map(oE);Gc.warn(`Firestore (${Ff}): ${t}`,...n)}}function oE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bD(t,r,n)}function bD(t,e,n){let r=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw os(r),new Error(r)}function It(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||bD(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ba{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jr.UNAUTHENTICATED)))}shutdown(){}}class Tz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Cz{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new es;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new es,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new es)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new wD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class Iz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Iz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Pz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function Sb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return b2(i)===b2(a)?st(i,a):b2(i)?1:-1}return st(t.length,e.length)}const Nz=55296,Dz=57343;function b2(t){const e=t.charCodeAt(0);return e>=Nz&&e<=Dz}function _f(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__name__";class so{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return so.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=so.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return st(e.length,n.length)}static compareSegments(e,n){const r=so.isNumericId(e),i=so.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?so.extractNumericId(e).compare(so.extractNumericId(n)):Sb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _l.fromString(e.substring(4,e.length-2))}}class Gt extends so{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const Mz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends so{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return Mz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CI}static keyField(){return new Cr([CI])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Gt.fromString(e))}static fromName(e){return new Me(Gt.fromString(e).popFirst(5))}static empty(){return new Me(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e,n){if(!n)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kz(t,e,n,r){if(e===!0&&r===!0)throw new xe(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function II(t){if(!Me.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OI(t){if(Me.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(t);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jz(t,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function _p(t,e){if(!AD(t))throw new xe(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new xe(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=-62135596800,PI=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PI);return new en(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RI)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PI}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:en._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_p(e,en._jsonSchema))return new en(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:Un("string",en._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new en(0,0))}static max(){return new Ve(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=-1;function Lz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new Cl(i,Me.empty(),e)}function Bz(t){return new Cl(t.readTime,t.key,Xh)}class Cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cl(Ve.min(),Me.empty(),Xh)}static max(){return new Cl(Ve.max(),Me.empty(),Xh)}}function Uz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Fz)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(u=>r(u)))})),o=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;n(e[f]).next((d=>{o[f]=d,++l,l===a&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function zz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-1;function nm(t){return t==null}function Dg(t){return t===0&&1/t==-1/0}function Hz(t){return typeof t=="number"&&Number.isInteger(t)&&!Dg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="";function $z(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NI(e)),e=qz(t.get(n),e);return NI(e)}function qz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case SD:n+="";break;default:n+=a}}return n}function NI(t){return t+SD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.comparator=e,this.root=n||Sr.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P1(this.root,e,this.comparator,!1)}getReverseIterator(){return new P1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P1(this.root,e,this.comparator,!0)}}class P1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=a??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MI(this.data.getIterator())}getIteratorFrom(e){return new MI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class MI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new Jn(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CD("Invalid base64 string: "+a):a}})(e);return new Or(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const Gz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(It(!!t,39018),typeof t=="string"){let e=0;const n=Gz.exec(t);if(It(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(t.seconds),nanos:Tn(t.nanos)}}function Tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ol(t){return typeof t=="string"?Or.fromBase64String(t):Or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="server_timestamp",OD="__type__",RD="__previous_value__",PD="__local_write_time__";function cE(t){return(t?.mapValue?.fields||{})[OD]?.stringValue===ID}function rm(t){const e=t.mapValue.fields[RD];return cE(e)?rm(e):e}function Yh(t){const e=Il(t.mapValue.fields[PD].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i,a,o,l,u,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const Mg="(default)";class Qh{constructor(e,n){this.projectId=e,this.database=n||Mg}static empty(){return new Qh("","")}get isDefaultDatabase(){return this.database===Mg}isEqual(e){return e instanceof Qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="__type__",Kz="__max__",N1={mapValue:{}},DD="__vector__",kg="value";function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cE(t)?4:Yz(t)?9007199254740991:Xz(t)?10:11:Fe(28295,{value:t})}function yo(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Il(i.timestampValue),l=Il(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ol(i.bytesValue).isEqual(Ol(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Tn(i.geoPointValue.latitude)===Tn(a.geoPointValue.latitude)&&Tn(i.geoPointValue.longitude)===Tn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Tn(i.integerValue)===Tn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Tn(i.doubleValue),l=Tn(a.doubleValue);return o===l?Dg(o)===Dg(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return _f(t.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(DI(o)!==DI(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!yo(o[u],l[u])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function Zh(t,e){return(t.values||[]).find((n=>yo(n,e)))!==void 0}function bf(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Tn(a.integerValue||a.doubleValue),u=Tn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return kI(t.timestampValue,e.timestampValue);case 4:return kI(Yh(t),Yh(e));case 5:return Sb(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=Ol(a),u=Ol(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),u=o.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=st(l[f],u[f]);if(d!==0)return d}return st(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=st(Tn(a.latitude),Tn(o.latitude));return l!==0?l:st(Tn(a.longitude),Tn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},u=o.fields||{},f=l[kg]?.arrayValue,d=u[kg]?.arrayValue,p=st(f?.values?.length||0,d?.values?.length||0);return p!==0?p:jI(f,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===N1.mapValue&&o===N1.mapValue)return 0;if(a===N1.mapValue)return 1;if(o===N1.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=o.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const v=Sb(u[p],d[p]);if(v!==0)return v;const m=bf(l[u[p]],f[d[p]]);if(m!==0)return m}return st(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function kI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=Il(t),r=Il(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function jI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=bf(n[i],r[i]);if(a)return a}return st(n.length,r.length)}function wf(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ol(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Tb(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Tb(n.fields[o])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function fg(t){switch(Rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(t);return e?16+fg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ol(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+fg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bl(r.fields,((a,o)=>{i+=a.length+fg(o)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function LI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cb(t){return!!t&&"integerValue"in t}function uE(t){return!!t&&"arrayValue"in t}function BI(t){return!!t&&"nullValue"in t}function UI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dg(t){return!!t&&"mapValue"in t}function Xz(t){return(t?.mapValue?.fields||{})[ND]?.stringValue===DD}function Bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return{...t}}function Yz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Kz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Bh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ui(Bh(this.value))}}function MD(t){const e=[];return Bl(t.fields,((n,r)=>{const i=new Cr([n]);if(dg(r)){const a=MD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Lr(e,0,Ve.min(),Ve.min(),Ve.min(),ui.empty(),0)}static newFoundDocument(e,n,r,i){return new Lr(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Lr(e,2,n,Ve.min(),Ve.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new Lr(e,3,n,Ve.min(),Ve.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.position=e,this.inclusive=n}}function FI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Me.comparator(Me.fromName(o.referenceValue),n.key):r=bf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function VI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class Bn extends kD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jz(e,n,r):n==="array-contains"?new nH(e,r):n==="in"?new rH(e,r):n==="not-in"?new iH(e,r):n==="array-contains-any"?new aH(e,r):new Bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eH(e,r):new tH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bf(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(bf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class La extends kD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new La(e,n)}matches(e){return jD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jD(t){return t.op==="and"}function LD(t){return Zz(t)&&jD(t)}function Zz(t){for(const e of t.filters)if(e instanceof La)return!1;return!0}function Ib(t){if(t instanceof Bn)return t.field.canonicalString()+t.op.toString()+wf(t.value);if(LD(t))return t.filters.map((e=>Ib(e))).join(",");{const e=t.filters.map((n=>Ib(n))).join(",");return`${t.op}(${e})`}}function BD(t,e){return t instanceof Bn?(function(r,i){return i instanceof Bn&&r.op===i.op&&r.field.isEqual(i.field)&&yo(r.value,i.value)})(t,e):t instanceof La?(function(r,i){return i instanceof La&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&BD(o,i.filters[l])),!0):!1})(t,e):void Fe(19439)}function UD(t){return t instanceof Bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${wf(n.value)}`})(t):t instanceof La?(function(n){return n.op.toString()+" {"+n.getFilters().map(UD).join(" ,")+"}"})(t):"Filter"}class Jz extends Bn{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class eH extends Bn{constructor(e,n){super(e,"in",n),this.keys=FD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tH extends Bn{constructor(e,n){super(e,"not-in",n),this.keys=FD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function FD(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class nH extends Bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uE(n)&&Zh(n.arrayValue,this.value)}}class rH extends Bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zh(this.value.arrayValue,n)}}class iH extends Bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zh(this.value.arrayValue,n)}}class aH extends Bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function zI(t,e=null,n=[],r=[],i=null,a=null,o=null){return new oH(t,e,n,r,i,a,o)}function fE(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ib(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wf(r))).join(",")),e.Te=n}return e.Te}function dE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VI(t.startAt,e.startAt)&&VI(t.endAt,e.endAt)}function Ob(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sH(t,e,n,r,i,a,o,l){return new Hf(t,e,n,r,i,a,o,l)}function im(t){return new Hf(t)}function HI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VD(t){return t.collectionGroup!==null}function Uh(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Jn(Cr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Jh(a,r))})),n.has(Cr.keyField().canonicalString())||e.Ie.push(new Jh(Cr.keyField(),r))}return e.Ie}function fo(t){const e=$e(t);return e.Ee||(e.Ee=lH(e,Uh(t))),e.Ee}function lH(t,e){if(t.limitType==="F")return zI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Jh(i.field,a)}));const n=t.endAt?new jg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jg(t.startAt.position,t.startAt.inclusive):null;return zI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rb(t,e){const n=t.filters.concat([e]);return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lg(t,e,n){return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return dE(fo(t),fo(e))&&t.limitType===e.limitType}function zD(t){return`${fE(fo(t))}|lt:${t.limitType}`}function rf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>UD(i))).join(", ")}]`),nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>wf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>wf(i))).join(",")),`Target(${r})`})(fo(t))}; limitType=${t.limitType})`}function om(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Me.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Uh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,u){const f=FI(o,l,u);return o.inclusive?f<=0:f<0})(r.startAt,Uh(r),i)||r.endAt&&!(function(o,l,u){const f=FI(o,l,u);return o.inclusive?f>=0:f>0})(r.endAt,Uh(r),i))})(t,e)}function cH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HD(t){return(e,n)=>{let r=!1;for(const i of Uh(t)){const a=uH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function uH(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(a,o,l){const u=o.data.field(a),f=l.data.field(a);return u!==null&&f!==null?bf(u,f):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return TD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new cn(Me.comparator);function ss(){return fH}const $D=new cn(Me.comparator);function Ih(...t){let e=$D;for(const n of t)e=e.insert(n.key,n);return e}function qD(t){let e=$D;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Rc(){return Fh()}function GD(){return Fh()}function Fh(){return new au((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dH=new cn(Me.comparator),hH=new Jn(Me.comparator);function lt(...t){let e=hH;for(const n of t)e=e.add(n);return e}const pH=new Jn(st);function gH(){return pH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dg(e)?"-0":e}}function WD(t){return{integerValue:""+t}}function KD(t,e){return Hz(e)?WD(e):hE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function vH(t,e,n){return t instanceof ep?(function(i,a){const o={fields:{[OD]:{stringValue:ID},[PD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cE(a)&&(a=rm(a)),a&&(o.fields[RD]=a),{mapValue:o}})(n,e):t instanceof tp?YD(t,e):t instanceof np?QD(t,e):(function(i,a){const o=XD(i,a),l=$I(o)+$I(i.Ae);return Cb(o)&&Cb(i.Ae)?WD(l):hE(i.serializer,l)})(t,e)}function mH(t,e,n){return t instanceof tp?YD(t,e):t instanceof np?QD(t,e):n}function XD(t,e){return t instanceof rp?(function(r){return Cb(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ep extends sm{}class tp extends sm{constructor(e){super(),this.elements=e}}function YD(t,e){const n=ZD(e);for(const r of t.elements)n.some((i=>yo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class np extends sm{constructor(e){super(),this.elements=e}}function QD(t,e){let n=ZD(e);for(const r of t.elements)n=n.filter((i=>!yo(i,r)));return{arrayValue:{values:n}}}class rp extends sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $I(t){return Tn(t.integerValue||t.doubleValue)}function ZD(t){return uE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.field=e,this.transform=n}}function yH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof tp&&i instanceof tp||r instanceof np&&i instanceof np?_f(r.elements,i.elements,yo):r instanceof rp&&i instanceof rp?yo(r.Ae,i.Ae):r instanceof ep&&i instanceof ep})(t.transform,e.transform)}class xH{constructor(e,n){this.version=e,this.transformResults=n}}class ca{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function e5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pE(t.key,ca.none()):new bp(t.key,t.data,ca.none());{const n=t.data,r=ui.empty();let i=new Jn(Cr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Ul(t.key,r,new Ni(i.toArray()),ca.none())}}function _H(t,e,n){t instanceof bp?(function(i,a,o){const l=i.value.clone(),u=GI(i.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Ul?(function(i,a,o){if(!hg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=GI(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(t5(i)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vh(t,e,n,r){return t instanceof bp?(function(a,o,l,u){if(!hg(a.precondition,o))return l;const f=a.value.clone(),d=WI(a.fieldTransforms,u,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ul?(function(a,o,l,u){if(!hg(a.precondition,o))return l;const f=WI(a.fieldTransforms,u,o),d=o.data;return d.setAll(t5(a)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,l){return hg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function bH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=XD(r.transform,i||null);a!=null&&(n===null&&(n=ui.empty()),n.set(r.field,a))}return n||null}function qI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_f(r,i,((a,o)=>yH(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bp extends lm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ul extends lm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function t5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GI(t,e,n){const r=new Map;It(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,mH(o,l,n[i]))}return r}function WI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,vH(a,o,e))}return r}class pE extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wH extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&_H(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const u=e5(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,((n,r)=>qI(n,r)))&&_f(this.baseMutations,e.baseMutations,((n,r)=>qI(n,r)))}}class gE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return dH})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new gE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,ut;function TH(t){switch(t){case ce.OK:return Fe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function n5(t){if(t===void 0)return os("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Ln.OK:return ce.OK;case Ln.CANCELLED:return ce.CANCELLED;case Ln.UNKNOWN:return ce.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return ce.INTERNAL;case Ln.UNAVAILABLE:return ce.UNAVAILABLE;case Ln.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ln.NOT_FOUND:return ce.NOT_FOUND;case Ln.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ln.ABORTED:return ce.ABORTED;case Ln.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ln.DATA_LOSS:return ce.DATA_LOSS;default:return Fe(39323,{code:t})}}(ut=Ln||(Ln={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new _l([4294967295,4294967295],0);function KI(t){const e=CH().encode(t),n=new gD;return n.update(e),new Uint8Array(n.digest())}function XI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _l([n,r],0),new _l([i,a],0)]}class vE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oh(`Invalid padding: ${n}`);if(r<0)throw new Oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_l.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_l.fromNumber(r)));return i.compare(IH)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KI(e),[r,i]=XI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new vE(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=KI(e),[r,i]=XI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cm(Ve.min(),i,new cn(st),ss(),lt())}}class wp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wp(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class r5{constructor(e,n){this.targetId=e,this.Ce=n}}class i5{constructor(e,n,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YI{constructor(){this.ve=0,this.Fe=QI(),this.Me=Or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:a})}})),new wp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OH{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=D1(),this.He=D1(),this.Ye=new cn(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Ob(a))if(r===0){const o=new Me(a.path);this.et(n,o,Lr.newNoDocument(o,Ve.min()))}else It(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=Ol(r).toUint8Array()}catch(u){if(u instanceof CD)return xf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new vE(o,i,a)}catch(u){return xf(u instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Ob(l.target)){const u=new Me(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Lr.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=lt();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new cm(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=D1(),this.He=D1(),this.Ye=new cn(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function D1(){return new cn(Me.comparator)}function QI(){return new cn(Me.comparator)}const RH={asc:"ASCENDING",desc:"DESCENDING"},PH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"};class DH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pb(t,e){return t.useProto3Json||nm(e)?e:{value:e}}function Bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MH(t,e){return Bg(t,e.toTimestamp())}function ho(t){return It(!!t,49232),Ve.fromTimestamp((function(n){const r=Il(n);return new en(r.seconds,r.nanos)})(t))}function mE(t,e){return Nb(t,e).canonicalString()}function Nb(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function o5(t){const e=Gt.fromString(t);return It(f5(e),10190,{key:e.toString()}),e}function Db(t,e){return mE(t.databaseId,e.path)}function w2(t,e){const n=o5(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(l5(n))}function s5(t,e){return mE(t.databaseId,e)}function kH(t){const e=o5(t);return e.length===4?Gt.emptyPath():l5(e)}function Mb(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l5(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZI(t,e,n){return{name:Db(t,e),fields:n.value.mapValue.fields}}function jH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,d){return f.useProto3Json?(It(d===void 0||typeof d=="string",58123),Or.fromBase64String(d||"")):(It(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Or.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const d=f.code===void 0?ce.UNKNOWN:n5(f.code);return new xe(d,f.message||"")})(o);n=new i5(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=w2(t,r.document.name),a=ho(r.document.updateTime),o=r.document.createTime?ho(r.document.createTime):Ve.min(),l=new ui({mapValue:{fields:r.document.fields}}),u=Lr.newFoundDocument(i,a,o,l),f=r.targetIds||[],d=r.removedTargetIds||[];n=new pg(f,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=w2(t,r.document),a=r.readTime?ho(r.readTime):Ve.min(),o=Lr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new pg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=w2(t,r.document),a=r.removedTargetIds||[];n=new pg([],a,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new SH(i,a),l=r.targetId;n=new r5(l,o)}}return n}function LH(t,e){let n;if(e instanceof bp)n={update:ZI(t,e.key,e.value)};else if(e instanceof pE)n={delete:Db(t,e.key)};else if(e instanceof Ul)n={update:ZI(t,e.key,e.data),updateMask:GH(e.fieldMask)};else{if(!(e instanceof wH))return Fe(16599,{Vt:e.type});n={verify:Db(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof np)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof rp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Fe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:MH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(t,e.precondition)),n}function BH(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?ho(i.updateTime):ho(a);return o.isEqual(Ve.min())&&(o=ho(a)),new xH(o,i.transformResults||[])})(n,e)))):[]}function UH(t,e){return{documents:[s5(t,e.path)]}}function FH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=s5(t,i);const a=(function(f){if(f.length!==0)return u5(La.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((d=>(function(v){return{field:af(v.field),direction:HH(v.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Pb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function VH(t){let e=kH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const v=c5(p);return v instanceof La&&LD(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((v=>(function(b){return new Jh(of(b.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,nm(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(p){const v=!!p.before,m=p.values||[];return new jg(m,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new jg(m,v)})(n.endAt)),sH(e,i,o,a,l,"F",u,f)}function zH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function c5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=of(n.unaryFilter.field);return Bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=of(n.unaryFilter.field);return Bn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=of(n.unaryFilter.field);return Bn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=of(n.unaryFilter.field);return Bn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bn.create(of(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return La.create(n.compositeFilter.filters.map((r=>c5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function HH(t){return RH[t]}function $H(t){return PH[t]}function qH(t){return NH[t]}function af(t){return{fieldPath:t.canonicalString()}}function of(t){return Cr.fromServerFormat(t.fieldPath)}function u5(t){return t instanceof Bn?(function(n){if(n.op==="=="){if(UI(n.value))return{unaryFilter:{field:af(n.field),op:"IS_NAN"}};if(BI(n.value))return{unaryFilter:{field:af(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UI(n.value))return{unaryFilter:{field:af(n.field),op:"IS_NOT_NAN"}};if(BI(n.value))return{unaryFilter:{field:af(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(n.field),op:$H(n.op),value:n.value}}})(t):t instanceof La?(function(n){const r=n.getFilters().map((i=>u5(i)));return r.length===1?r[0]:{compositeFilter:{op:qH(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function GH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function f5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r,i,a=Ve.min(),o=Ve.min(),l=Or.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.yt=e}}function KH(t){const e=VH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(){this.Cn=new YH}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Cl.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Cl.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class YH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(Gt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d5=41943040;class ci{static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(d5,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ef(0)}static cr(){return new Ef(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="LruGarbageCollector",QH=1048576;function tO([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class ZH{constructor(e){this.Ir=e,this.buffer=new Jn(tO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(eO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zf(n)?Ee(eO,"Ignoring IndexedDB error during garbage collection: ",n):await Vf(n)}await this.Vr(3e5)}))}}class e${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(tm.ce);const r=new ZH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(JI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,u,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),nf()<=ot.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function t$(t,e){return new e$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.changes=new au((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vh(r.mutation,i,Ni.empty(),en.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=Rc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Ih();return a.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Rc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=ss();const o=Fh(),l=(function(){return Fh()})();return n.forEach(((u,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Ul)?a=a.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Vh(d.mutation,f,d.mutation.getFieldMask(),en.now())):o.set(f.key,Ni.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>l.set(f,new r$(d,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new cn(((o,l)=>o-l)),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let d=r.get(u)||Ni.empty();d=l.applyToLocalView(f,d),r.set(u,d);const p=(i.get(l.batchId)||lt()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,p=GD();d.forEach((v=>{if(!a.has(v)){const m=e5(n.get(v),r.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(Rc());let l=Xh,u=a;return o.next((f=>fe.forEach(f,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next((v=>{u=u.insert(d,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,u,f,lt()))).next((d=>({batchId:l,changes:qD(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Ih();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(u=>{const f=(function(p,v){return new Hf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((u,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Lr.newInvalidDocument(d)))}));let l=Ih();return o.forEach(((u,f)=>{const d=a.get(u);d!==void 0&&Vh(d.mutation,f,Ni.empty(),en.now()),om(n,f)&&(l=l.insert(u,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:KH(i.bundledQuery),readTime:ho(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.overlays=new cn(Me.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rc();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Rc(),a=n.length+1,o=new Me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new cn(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=a.get(f.largestBatchId);d===null&&(d=Rc(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Rc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AH(n,r));let a=this.qr.get(n);a===void 0&&(a=lt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Qr=new Jn(lr.$r),this.Ur=new Jn(lr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new lr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Me(new Gt([])),r=new lr(n,e),i=new lr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Gt([])),r=new lr(n,e),i=new lr(n,e+1);let a=lt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new lr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(lr.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EH(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new lr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?lE:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(st);return n.forEach((i=>{const a=new lr(i,0),o=new lr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Me.isDocumentKey(a)||(a=a.child(""));const o=new lr(new Me(a),0);let l=new Jn(st);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new lr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new lr(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.ri=e,this.docs=(function(){return new cn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Lr.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Lr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ss();const o=n.path,l=new Me(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Uz(Bz(d),r)<=0||(i.has(d.key)||om(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new u$(this)}getSize(e){return fe.resolve(this.size)}}class u$ extends n${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.persistence=e,this.si=new au((n=>fE(n)),dE),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new yE,this.targetCount=0,this.ai=Ef.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ef(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.ui={},this.overlays={},this.ci=new tm(0),this.li=!1,this.li=!0,this.hi=new s$,this.referenceDelegate=e(this),this.Pi=new f$(this),this.indexManager=new XH,this.remoteDocumentCache=(function(i){return new c$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WH(n),this.Ii=new a$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new l$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new d$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class d$ extends Vz{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.Ri=new yE,this.Vi=null}static mi(e){return new xE(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Me.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ug{constructor(e,n){this.persistence=e,this.pi=new au((r=>$z(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=t$(this,n)}static mi(e,n){return new Ug(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _E(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sV()?8:zz(Vr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new h$;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(nf()<=ot.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",rf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(nf()<=ot.DEBUG&&Ee("QueryEngine","Query:",rf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(nf()<=ot.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",rf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(n))):fe.resolve())}ys(e,n){if(HI(n))return fe.resolve(null);let r=fo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Lg(n,null,"F"),r=fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=lt(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const f=this.Ds(n,l);return this.Cs(n,f,o,u.readTime)?this.ys(e,Lg(n,null,"F")):this.vs(e,f,n,u)}))))})))))}ws(e,n,r,i){return HI(n)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?fe.resolve(null):(nf()<=ot.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rf(n)),this.vs(e,o,n,Lz(i,Xh)).next((l=>l)))}))}Ds(e,n){let r=new Jn(HD(e));return n.forEach(((i,a)=>{om(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return nf()<=ot.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",rf(n)),this.ps.getDocumentsMatchingQuery(e,n,Cl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LocalStore",g$=3e8;class v${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new cn(st),this.xs=new au((a=>fE(a)),dE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function m$(t,e,n,r){return new v$(t,e,n,r)}async function p5(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let u=lt();for(const f of i){o.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of a){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function y$(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,d){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((b=>{m=m.next((()=>d.getEntry(u,b))).next((w=>{const A=f.docVersions.get(b);It(A!==null,48541),w.version.compareTo(A)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),d.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=lt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function g5(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function x$(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,d.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Or.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(p,m),(function(w,A,S){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=g$?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,d)&&l.push(n.Pi.updateTargetData(a,m))}));let u=ss(),f=lt();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),l.push(_$(a,o,e.documentUpdates).next((d=>{u=d.ks,f=d.qs}))),!r.isEqual(Ve.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(d)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,f))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function _$(t,e,n){let r=lt(),i=lt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=ss();return n.forEach(((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ee(bE,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function b$(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function w$(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new gl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function kb(t,e,n){const r=$e(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zf(o))throw o;Ee(bE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nO(t,e,n){const r=$e(t);let i=Ve.min(),a=lt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,f,d){const p=$e(u),v=p.xs.get(d);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,d)})(r,o,fo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ve.min(),n?a:lt()))).next((l=>(E$(r,cH(e),l),{documents:l,Qs:a})))))}function E$(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class rO{constructor(){this.activeTargetIds=gH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A${constructor(){this.Mo=new rO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="ConnectivityMonitor";class aO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(iO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(iO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M1=null;function jb(){return M1===null?M1=(function(){return 268435456+Math.round(2147483648*Math.random())})():M1++,"0x"+M1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="RestConnection",T$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Mg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=jb(),l=this.zo(e,n.toUriEncodedString());Ee(E2,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:f}=new URL(l),d=Eo(f);return this.Jo(e,l,u,r,d).then((p=>(Ee(E2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw xf(E2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ff})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=T$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class O$ extends C${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=jb();return new Promise(((l,u)=>{const f=new vD;f.setWithCredentials(!0),f.listenOnce(mD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case ug.NO_ERROR:const p=f.getResponseJson();Ee(Dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case ug.TIMEOUT:Ee(Dr,`RPC '${e}' ${o} timed out`),u(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const v=f.getStatus();if(Ee(Dr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m?.error;if(b&&b.status&&b.message){const w=(function(S){const O=S.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN})(b.status);u(new xe(w,b.message))}else u(new xe(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ee(Dr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Ee(Dr,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=jb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_D(),l=xD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=a.join("");Ee(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);this.I_(p);let v=!1,m=!1;const b=new I$({Yo:A=>{m?Ee(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(Ee(Dr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ee(Dr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),w=(A,S,O)=>{A.listen(S,(I=>{try{O(I)}catch(R){setTimeout((()=>{throw R}),0)}}))};return w(p,Ch.EventType.OPEN,(()=>{m||(Ee(Dr,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),w(p,Ch.EventType.CLOSE,(()=>{m||(m=!0,Ee(Dr,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),w(p,Ch.EventType.ERROR,(A=>{m||(m=!0,xf(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new xe(ce.UNAVAILABLE,"The operation could not be completed")))})),w(p,Ch.EventType.MESSAGE,(A=>{if(!m){const S=A.data[0];It(!!S,16349);const O=S,I=O?.error||O[0]?.error;if(I){Ee(Dr,`RPC '${e}' stream ${i} received error:`,I);const R=I.status;let k=(function(M){const j=Ln[M];if(j!==void 0)return n5(j)})(R),L=I.message;k===void 0&&(k=ce.INTERNAL,L="Unknown error status: "+R+" with message "+I.message),m=!0,b.a_(new xe(k,L)),p.close()}else Ee(Dr,`RPC '${e}' stream ${i} received:`,S),b.u_(S)}})),w(l,yD.STAT_EVENT,(A=>{A.stat===Ab.PROXY?Ee(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Ab.NOPROXY&&Ee(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function A2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){return new DH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="PersistentStream";class m5{constructor(e,n,r,i,a,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(oO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(oO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R$ extends m5{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jH(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?ho(o.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Mb(this.serializer),n.addTarget=(function(a,o){let l;const u=o.target;if(l=Ob(u)?{documents:UH(a,u)}:{query:FH(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=a5(a,o.resumeToken);const f=Pb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=Bg(a,o.snapshotVersion.toTimestamp());const f=Pb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=zH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Mb(this.serializer),n.removeTarget=e,this.q_(n)}}class P$ extends m5{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BH(e.writeResults,e.commitTime),r=ho(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>LH(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${}class D$ extends N${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Nb(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ce.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Nb(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="RemoteStore";class k${constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ou(this)&&(Ee(Wc,"Restarting streams for network reachability change."),await(async function(u){const f=$e(u);f.Ea.add(4),await Ep(f),f.Ra.set("Unknown"),f.Ea.delete(4),await fm(f)})(this))}))})),this.Ra=new M$(r,i)}}async function fm(t){if(ou(t))for(const e of t.da)await e(!0)}async function Ep(t){for(const e of t.da)await e(!1)}function y5(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),SE(n)?AE(n):$f(n).O_()&&EE(n,e))}function wE(t,e){const n=$e(t),r=$f(n);n.Ia.delete(e),r.O_()&&x5(n,e),n.Ia.size===0&&(r.O_()?r.L_():ou(n)&&n.Ra.set("Unknown"))}function EE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$f(t).Y_(e)}function x5(t,e){t.Va.Ue(e),$f(t).Z_(e)}function AE(t){t.Va=new OH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$f(t).start(),t.Ra.ua()}function SE(t){return ou(t)&&!$f(t).x_()&&t.Ia.size>0}function ou(t){return $e(t).Ea.size===0}function _5(t){t.Va=void 0}async function j$(t){t.Ra.set("Online")}async function L$(t){t.Ia.forEach(((e,n)=>{EE(t,e)}))}async function B$(t,e){_5(t),SE(t)?(t.Ra.ha(e),AE(t)):t.Ra.set("Unknown")}async function U$(t,e,n){if(t.Ra.set("Online"),e instanceof i5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ee(Wc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fg(t,r)}else if(e instanceof pg?t.Va.Ze(e):e instanceof r5?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await g5(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=a.Ia.get(f);d&&a.Ia.set(f,d.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,f)=>{const d=a.Ia.get(u);if(!d)return;a.Ia.set(u,d.withResumeToken(Or.EMPTY_BYTE_STRING,d.snapshotVersion)),x5(a,u);const p=new gl(d.target,u,f,d.sequenceNumber);EE(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ee(Wc,"Failed to raise snapshot:",r),await Fg(t,r)}}async function Fg(t,e,n){if(!zf(e))throw e;t.Ea.add(1),await Ep(t),t.Ra.set("Offline"),n||(n=()=>g5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Wc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fm(t)}))}function b5(t,e){return e().catch((n=>Fg(t,n,e)))}async function dm(t){const e=$e(t),n=Pl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lE;for(;F$(e);)try{const i=await b$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,V$(e,i)}catch(i){await Fg(e,i)}w5(e)&&E5(e)}function F$(t){return ou(t)&&t.Ta.length<10}function V$(t,e){t.Ta.push(e);const n=Pl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w5(t){return ou(t)&&!Pl(t).x_()&&t.Ta.length>0}function E5(t){Pl(t).start()}async function z$(t){Pl(t).ra()}async function H$(t){const e=Pl(t);for(const n of t.Ta)e.ea(n.mutations)}async function $$(t,e,n){const r=t.Ta.shift(),i=gE.from(r,e,n);await b5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dm(t)}async function q$(t,e){e&&Pl(t).X_&&await(async function(r,i){if((function(o){return TH(o)&&o!==ce.ABORTED})(i.code)){const a=r.Ta.shift();Pl(r).B_(),await b5(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await dm(r)}})(t,e),w5(t)&&E5(t)}async function sO(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Ee(Wc,"RemoteStore received new credentials");const r=ou(n);n.Ea.add(3),await Ep(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fm(n)}async function G$(t,e){const n=$e(t);e?(n.Ea.delete(2),await fm(n)):e||(n.Ea.add(2),await Ep(n),n.Ra.set("Unknown"))}function $f(t){return t.ma||(t.ma=(function(n,r,i){const a=$e(n);return a.sa(),new R$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:j$.bind(null,t),t_:L$.bind(null,t),r_:B$.bind(null,t),H_:U$.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),SE(t)?AE(t):t.Ra.set("Unknown")):(await t.ma.stop(),_5(t))}))),t.ma}function Pl(t){return t.fa||(t.fa=(function(n,r,i){const a=$e(n);return a.sa(),new P$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:z$.bind(null,t),r_:q$.bind(null,t),ta:H$.bind(null,t),na:$$.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await dm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Wc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new TE(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CE(t,e){if(os("AsyncQueue",`${e}: ${t}`),zf(t))return new xe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{static emptySet(e){return new uf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ga=new cn(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Af{constructor(e,n,r,i,a,o,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Af(e,n,uf.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class K${constructor(){this.queries=cO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=$e(n),a=i.queries;i.queries=cO(),a.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function cO(){return new au((t=>zD(t)),am)}async function IE(t,e){const n=$e(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new W$,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=CE(o,`Initialization of query '${rf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&RE(n)}async function OE(t,e){const n=$e(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X$(t,e){const n=$e(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&RE(n)}function Y$(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function RE(t){t.Ca.forEach((e=>{e.next()}))}var Lb,uO;(uO=Lb||(Lb={})).Ma="default",uO.Cache="cache";class PE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Af(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.key=e}}class S5{constructor(e){this.key=e}}class Q${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=HD(e),this.tu=new uf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lO,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const v=i.get(d),m=om(this.query,p)?p:null,b=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;v&&m?v.data.isEqual(m.data)?b!==w&&(r.track({type:3,doc:m}),A=!0):this.su(v,m)||(r.track({type:2,doc:m}),A=!0,(u&&this.eu(m,u)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(r.track({type:0,doc:m}),A=!0):v&&!m&&(r.track({type:1,doc:v}),A=!0,(u||f)&&(l=!0)),A&&(m?(o=o.add(m),a=w?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(m,b){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:A})}};return w(m)-w(b)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,f=u!==this.Za;return this.Za=u,o.length!==0||f?{snapshot:new Af(this.query,e.tu,a,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new S5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new A5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Af.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const NE="SyncEngine";class Z${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J${constructor(e){this.key=e,this.hu=!1}}class eq{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new au((l=>zD(l)),am),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Me.comparator),this.Au=new Map,this.Ru=new yE,this.Vu={},this.mu=new Map,this.fu=Ef.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tq(t,e,n=!0){const r=P5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await T5(r,e,n,!0),i}async function nq(t,e){const n=P5(t);await T5(n,e,!0,!1)}async function T5(t,e,n,r){const i=await w$(t.localStore,fo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await rq(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&y5(t.remoteStore,i),l}async function rq(t,e,n,r,i){t.pu=(p,v,m)=>(async function(w,A,S,O){let I=A.view.ru(S);I.Cs&&(I=await nO(w.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,I))));const R=O&&O.targetChanges.get(A.targetId),k=O&&O.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(I,w.isPrimaryClient,R,k);return dO(w,A.targetId,L.au),L.snapshot})(t,p,v,m);const a=await nO(t.localStore,e,!0),o=new Q$(e,a.Qs),l=o.ru(a.documents),u=wp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,u);dO(t,n,f.au);const d=new Z$(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function iq(t,e,n){const r=$e(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!am(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wE(r.remoteStore,i.targetId),Bb(r,i.targetId)})).catch(Vf)):(Bb(r,i.targetId),await kb(r.localStore,i.targetId,!0))}async function aq(t,e){const n=$e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wE(n.remoteStore,r.targetId))}async function oq(t,e,n){const r=hq(t);try{const i=await(function(o,l){const u=$e(o),f=en.now(),d=l.reduce(((m,b)=>m.add(b.key)),lt());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let b=ss(),w=lt();return u.Ns.getEntries(m,d).next((A=>{b=A,b.forEach(((S,O)=>{O.isValidDocument()||(w=w.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(m,b))).next((A=>{p=A;const S=[];for(const O of l){const I=bH(O,p.get(O.key).overlayedDocument);I!=null&&S.push(new Ul(O.key,I,MD(I.value.mapValue),ca.exists(!0)))}return u.mutationQueue.addMutationBatch(m,f,S,l)})).next((A=>{v=A;const S=A.applyToLocalDocumentSet(p,w);return u.documentOverlayCache.saveOverlays(m,A.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:qD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let f=o.Vu[o.currentUser.toKey()];f||(f=new cn(st)),f=f.insert(l,u),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await Ap(r,i.changes),await dm(r.remoteStore)}catch(i){const a=CE(i,"Failed to persist write");n.reject(a)}}async function C5(t,e){const n=$e(t);try{const r=await x$(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?It(o.hu,14607):i.removedDocuments.size>0&&(It(o.hu,42227),o.hu=!1))})),await Ap(n,r,e)}catch(r){await Vf(r)}}function fO(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=$e(o);u.onlineState=l;let f=!1;u.queries.forEach(((d,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&RE(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sq(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new cn(Me.comparator);o=o.insert(a,Lr.newNoDocument(a,Ve.min()));const l=lt().add(a),u=new cm(Ve.min(),new Map,new cn(st),o,l);await C5(r,u),r.du=r.du.remove(a),r.Au.delete(e),DE(r)}else await kb(r.localStore,e,!1).then((()=>Bb(r,e,n))).catch(Vf)}async function lq(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await y$(n.localStore,e);O5(n,r,null),I5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ap(n,i)}catch(i){await Vf(i)}}async function cq(t,e,n){const r=$e(t);try{const i=await(function(o,l){const u=$e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return u.mutationQueue.lookupMutationBatch(f,l).next((p=>(It(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(f,p)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>u.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);O5(r,e,n),I5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ap(r,i)}catch(i){await Vf(i)}}function I5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function O5(t,e,n){const r=$e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||R5(t,r)}))}function R5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),DE(t))}function dO(t,e,n){for(const r of n)r instanceof A5?(t.Ru.addReference(r.key,e),uq(t,r)):r instanceof S5?(Ee(NE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||R5(t,r.key)):Fe(19791,{wu:r})}function uq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(NE,"New document in limbo: "+n),t.Eu.add(r),DE(t))}function DE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new J$(n)),t.du=t.du.insert(n,r),y5(t.remoteStore,new gl(fo(im(n.path)),r,"TargetPurposeLimboResolution",tm.ce))}}async function Ap(t,e,n){const r=$e(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(f){i.push(f);const d=_E.As(u.targetId,f);a.push(d)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,f){const d=$e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>d.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>d.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!zf(p))throw p;Ee(bE,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=d.Ms.get(v),b=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(v,w)}}})(r.localStore,a))}async function fq(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Ee(NE,"User change. New user:",e.toKey());const r=await p5(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new xe(ce.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ap(n,r.Ls)}}function dq(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function P5(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sq.bind(null,e),e.Pu.H_=X$.bind(null,e.eventManager),e.Pu.yu=Y$.bind(null,e.eventManager),e}function hq(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cq.bind(null,e),e}class Vg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return m$(this.persistence,new p$,e.initialUser,this.serializer)}Cu(e){return new h5(xE.mi,this.serializer)}Du(e){return new A$}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vg.provider={build:()=>new Vg};class pq extends Vg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){It(this.persistence.referenceDelegate instanceof Ug,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new h5((r=>Ug.mi(r,n)),this.serializer)}}class Ub{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fq.bind(null,this.syncEngine),await G$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K$})()}createDatastore(e){const n=um(e.databaseInfo.databaseId),r=(function(a){return new O$(a)})(e.databaseInfo);return(function(a,o,l,u){return new D$(a,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new k$(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>fO(this.syncEngine,n,0)),(function(){return aO.v()?new aO:new S$})())}createSyncEngine(e,n){return(function(i,a,o,l,u,f,d){const p=new eq(i,a,o,l,u,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=$e(n);Ee(Wc,"RemoteStore shutting down."),r.Ea.add(5),await Ep(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ub.provider={build:()=>new Ub};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="FirestoreClient";class gq{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Ee(Nl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ee(Nl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function S2(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Nl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await p5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vq(t);Ee(Nl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>sO(e.remoteStore,i))),t._onlineComponents=e}async function vq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Nl,"Using user provided OfflineComponentProvider");try{await S2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xf("Error using user provided cache. Falling back to memory cache: "+n),await S2(t,new Vg)}}else Ee(Nl,"Using default OfflineComponentProvider"),await S2(t,new pq(void 0));return t._offlineComponents}async function N5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Nl,"Using user provided OnlineComponentProvider"),await hO(t,t._uninitializedComponentsProvider._online)):(Ee(Nl,"Using default OnlineComponentProvider"),await hO(t,new Ub))),t._onlineComponents}function mq(t){return N5(t).then((e=>e.syncEngine))}async function zg(t){const e=await N5(t),n=e.eventManager;return n.onListen=tq.bind(null,e.syncEngine),n.onUnlisten=iq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aq.bind(null,e.syncEngine),n}function yq(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,f){const d=new ME({next:v=>{d.Nu(),o.enqueueAndForget((()=>OE(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&u&&u.source==="server"?f.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new PE(im(l.path),d,{includeMetadataChanges:!0,qa:!0});return IE(a,p)})(await zg(t),t.asyncQueue,e,n,r))),r.promise}function xq(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,f){const d=new ME({next:v=>{d.Nu(),o.enqueueAndForget((()=>OE(a,p))),v.fromCache&&u.source==="server"?f.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new PE(l,d,{includeMetadataChanges:!0,qa:!0});return IE(a,p)})(await zg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="firestore.googleapis.com",gO=!0;class vO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M5,this.ssl=gO}else this.host=e.host,this.ssl=e.ssl??gO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QH)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Sz;switch(r.type){case"firstParty":return new Oz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pO.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),pO.delete(n),r.terminate())})(this),Promise.resolve()}}function _q(t,e,n,r={}){t=hi(t,hm);const i=Eo(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Qv(`https://${l}`),Zv("Firestore",!0)),a.host!==M5&&a.host!==l&&xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!qc(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=jr.MOCK_USER;else{f=cD(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jr(p)}t._authCredentials=new Tz(new wD(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_p(n,gn._jsonSchema))return new gn(e,r||null,new Me(Gt.fromString(n.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:Un("string",gn._jsonSchemaVersion),referencePath:Un("string")};class bl extends ps{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Me(e))}withConverter(e){return new bl(this.firestore,e,this._path)}}function yt(t,e,...n){if(t=$t(t),ED("collection","path",e),t instanceof hm){const r=Gt.fromString(e,...n);return OI(r),new bl(t,null,r)}{if(!(t instanceof gn||t instanceof bl))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return OI(r),new bl(t.firestore,null,r)}}function dt(t,e,...n){if(t=$t(t),arguments.length===1&&(e=sE.newId()),ED("doc","path",e),t instanceof hm){const r=Gt.fromString(e,...n);return II(r),new gn(t,null,new Me(r))}{if(!(t instanceof gn||t instanceof bl))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return II(r),new gn(t.firestore,t instanceof bl?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="AsyncQueue";class yO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v5(this,"async_queue_retry"),this._c=()=>{const r=A2();r&&Ee(mO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=A2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=A2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zf(e))throw e;Ee(mO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",xO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=TE.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:xO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ls extends hm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yO(e),this._firestoreClient=void 0,await e}}}function bq(t,e){const n=typeof t=="object"?t:Jv(),r=typeof t=="string"?t:Mg,i=xp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rE("firestore");a&&_q(i,...a)}return i}function pm(t){if(t._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wq(t),t._firestoreClient}function wq(t){const e=t._freezeSettings(),n=(function(i,a,o,l){return new Wz(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,D5(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Or.fromBase64String(e))}catch(n){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_p(e,aa._jsonSchema))return aa.fromBase64String(e.bytes)}}aa._jsonSchemaVersion="firestore/bytes/1.0",aa._jsonSchema={type:Un("string",aa._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:po._jsonSchemaVersion}}static fromJSON(e){if(_p(e,po._jsonSchema))return new po(e.latitude,e.longitude)}}po._jsonSchemaVersion="firestore/geoPoint/1.0",po._jsonSchema={type:Un("string",po._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_p(e,go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new go(e.vectorValues);throw new xe(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:Un("string",go._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=/^__.*__$/;class Aq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new bp(e,this.data,n,this.fieldTransforms)}}class k5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ul(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class kE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j5(this.Ac)&&Eq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||um(e)}Cc(e,n,r,i=!1){return new kE({Ac:e,methodName:n,Dc:r,path:Cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(t){const e=t._freezeSettings(),n=um(t._databaseId);return new Sq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L5(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);BE("Data must be an object, but it was:",o,r);const l=B5(r,o);let u,f;if(a.merge)u=new Ni(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const v=Fb(e,p,n);if(!o.contains(v))throw new xe(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);F5(d,v)||d.push(v)}u=new Ni(d),f=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,f=o.fieldTransforms;return new Aq(new ui(l),u,f)}class mm extends Sp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mm}}class jE extends Sp{_toFieldTransform(e){return new JD(e.path,new ep)}isEqual(e){return e instanceof jE}}class LE extends Sp{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new rp(e.serializer,KD(e.serializer,this.Fc));return new JD(e.path,n)}isEqual(e){return e instanceof LE&&this.Fc===e.Fc}}function Tq(t,e,n,r){const i=t.Cc(1,e,n);BE("Data must be an object, but it was:",i,r);const a=[],o=ui.empty();Bl(r,((u,f)=>{const d=UE(e,u,n);f=$t(f);const p=i.yc(d);if(f instanceof mm)a.push(d);else{const v=Tp(f,p);v!=null&&(a.push(d),o.set(d,v))}}));const l=new Ni(a);return new k5(o,l,i.fieldTransforms)}function Cq(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[Fb(e,r,n)],u=[i];if(a.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(Fb(e,a[v])),u.push(a[v+1]);const f=[],d=ui.empty();for(let v=l.length-1;v>=0;--v)if(!F5(f,l[v])){const m=l[v];let b=u[v];b=$t(b);const w=o.yc(m);if(b instanceof mm)f.push(m);else{const A=Tp(b,w);A!=null&&(f.push(m),d.set(m,A))}}const p=new Ni(f);return new k5(d,p,o.fieldTransforms)}function Iq(t,e,n,r=!1){return Tp(n,t.Cc(r?4:3,e))}function Tp(t,e){if(U5(t=$t(t)))return BE("Unsupported field value:",e,t),B5(t,e);if(t instanceof Sp)return(function(r,i){if(!j5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let u=Tp(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=en.fromDate(r);return{timestampValue:Bg(i.serializer,a)}}if(r instanceof en){const a=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bg(i.serializer,a)}}if(r instanceof po)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:a5(i.serializer,r._byteString)};if(r instanceof gn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof go)return(function(o,l){return{mapValue:{fields:{[ND]:{stringValue:DD},[kg]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return hE(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${em(r)}`)})(t,e)}function B5(t,e){const n={};return TD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,((r,i)=>{const a=Tp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function U5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof po||t instanceof aa||t instanceof gn||t instanceof Sp||t instanceof go)}function BE(t,e,n){if(!U5(n)||!AD(n)){const r=em(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Fb(t,e,n){if((e=$t(e))instanceof gm)return e._internalPath;if(typeof e=="string")return UE(t,e);throw Hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Oq=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(Oq)>=0)throw Hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gm(...e.split("."))._internalPath}catch{throw Hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new xe(ce.INVALID_ARGUMENT,l+t+u)}function F5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rq extends V5{data(){return super.data()}}function ym(t,e){return typeof e=="string"?UE(t,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FE{}class VE extends FE{}function Vn(t,e,...n){let r=[];e instanceof FE&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((u=>u instanceof zE)).length,l=a.filter((u=>u instanceof xm)).length;if(o>1||o>0&&l>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class xm extends VE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xm(e,n,r)}_apply(e){const n=this._parse(e);return H5(e._query,n),new ps(e.firestore,e.converter,Rb(e._query,n))}_parse(e){const n=vm(e.firestore);return(function(a,o,l,u,f,d,p){let v;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){wO(p,d);const b=[];for(const w of p)b.push(bO(u,a,w));v={arrayValue:{values:b}}}else v=bO(u,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||wO(p,d),v=Iq(l,o,p,d==="in"||d==="not-in");return Bn.create(f,d,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cp(t,e,n){const r=e,i=ym("where",t);return xm._create(i,r,n)}class zE extends FE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:La.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const u of l)H5(o,u),o=Rb(o,u)})(e._query,n),new ps(e.firestore,e.converter,Rb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends VE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HE(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jh(a,o)})(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Hf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function fa(t,e="asc"){const n=e,r=ym("orderBy",t);return HE._create(r,n)}class $E extends VE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $E(e,n,r)}_apply(e){return new ps(e.firestore,e.converter,Lg(e._query,this._limit,this._limitType))}}function Pq(t){return jz("limit",t),$E._create("limit",t,"F")}function bO(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VD(e)&&n.indexOf("/")!==-1)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Me.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LI(t,new Me(r))}if(n instanceof gn)return LI(t,n._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(n)}.`)}function wO(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H5(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nq{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[kg].arrayValue?.values?.map((r=>Tn(r.doubleValue)));return new go(n)}convertGeoPoint(e){return new po(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const n=Il(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);It(f5(r),9688,{name:e});const i=new Qh(r.get(1),r.get(3)),a=new Me(r.popFirst(5));return i.isEqual(n)||os(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends V5{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Lc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Lc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lc._jsonSchema={type:Un("string",Lc._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class gg extends Lc{data(e={}){return super.data(e)}}class Bc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gg(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new gg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new gg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Dq(l.type),doc:u,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){t=hi(t,gn);const e=hi(t.firestore,ls);return yq(pm(e),t._key).then((n=>q5(e,t,n)))}Bc._jsonSchemaVersion="firestore/querySnapshot/1.0",Bc._jsonSchema={type:Un("string",Bc._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class qE extends Nq{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function pi(t){t=hi(t,ps);const e=hi(t.firestore,ls),n=pm(e),r=new qE(e);return z5(t._query),xq(n,t._query).then((i=>new Bc(e,r,t,i)))}function su(t,e,n){t=hi(t,gn);const r=hi(t.firestore,ls),i=$5(t.converter,e);return _m(r,[L5(vm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ca.none())])}function Bi(t,e,n,...r){t=hi(t,gn);const i=hi(t.firestore,ls),a=vm(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof gm?Cq(a,"updateDoc",t._key,e,n,r):Tq(a,"updateDoc",t._key,e),_m(i,[o.toMutation(t._key,ca.exists(!0))])}function da(t){return _m(hi(t.firestore,ls),[new pE(t._key,ca.none())])}function Gf(t,e){const n=hi(t.firestore,ls),r=dt(t),i=$5(t.converter,e);return _m(n,[L5(vm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ca.exists(!1))]).then((()=>r))}function Wf(t,...e){t=$t(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_O(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_O(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let a,o,l;if(t instanceof gn)o=hi(t.firestore,ls),l=im(t._key.path),a={next:u=>{e[r]&&e[r](q5(o,t,u))},error:e[r+1],complete:e[r+2]};else{const u=hi(t,ps);o=hi(u.firestore,ls),l=u._query;const f=new qE(o);a={next:d=>{e[r]&&e[r](new Bc(o,f,u,d))},error:e[r+1],complete:e[r+2]},z5(t._query)}return(function(f,d,p,v){const m=new ME(v),b=new PE(d,m,p);return f.asyncQueue.enqueueAndForget((async()=>IE(await zg(f),b))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>OE(await zg(f),b)))}})(pm(o),l,i,a)}function _m(t,e){return(function(r,i){const a=new es;return r.asyncQueue.enqueueAndForget((async()=>oq(await mq(r),i,a))),a.promise})(pm(t),e)}function q5(t,e,n){const r=n.docs.get(e._key),i=new qE(t);return new Lc(t,i,e._key,r,new Rh(n.hasPendingWrites,n.fromCache),e.converter)}function Mq(){return new jE("serverTimestamp")}function Kf(t){return new LE("increment",t)}(function(e,n=!0){(function(i){Ff=i})(iu),Tl(new is("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new ls(new Cz(r.getProvider("auth-internal")),new Rz(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qh(f.options.projectId,d)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),la(AI,SI,e),la(AI,SI,"esm2020")})();var kq="firebase",jq="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(kq,jq,"app");function G5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lq=G5,W5=new mp("auth","Firebase",G5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new iE("@firebase/auth");function Bq(t,...e){$g.logLevel<=ot.WARN&&$g.warn(`Auth (${iu}): ${t}`,...e)}function vg(t,...e){$g.logLevel<=ot.ERROR&&$g.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,...e){throw WE(t,...e)}function ja(t,...e){return WE(t,...e)}function GE(t,e,n){const r={...Lq(),[e]:n};return new mp("auth","Firebase",r).create(e,{appName:t.name})}function ts(t){return GE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ha(t,"argument-error"),GE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function WE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W5.create(t,...e)}function Ue(t,e,...n){if(!t)throw WE(e,...n)}function Yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function cs(t,e){t||Yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof self<"u"&&self.location?.href||""}function Fq(){return EO()==="http:"||EO()==="https:"}function EO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fq()||iV()||"connection"in navigator)?navigator.onLine:!0}function zq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=tV()||aV()}get(){return Vq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qq=new Ip(3e4,6e4);function Fl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gs(t,e,n,r,i={}){return X5(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=yp({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...a};return rV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(f.credentials="include"),K5.fetch()(await Y5(t,t.config.apiHost,n,l),f)})}async function X5(t,e,n){t._canInitEmulator=!1;const r={...Hq,...e};try{const i=new Wq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw k1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw k1(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw k1(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw k1(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw GE(t,d,f);ha(t,d)}}catch(i){if(i instanceof Ba)throw i;ha(t,"network-request-failed",{message:String(i)})}}async function Op(t,e,n,r,i={}){const a=await gs(t,e,n,r,i);return"mfaPendingCredential"in a&&ha(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Y5(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?KE(t.config,i):`${t.config.apiScheme}://${i}`;return $q.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Gq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ja(this.auth,"network-request-failed")),qq.get())})}}function k1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ja(t,e,r);return i.customData._tokenResponse=n,i}function AO(t){return t!==void 0&&t.enterprise!==void 0}class Kq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xq(t,e){return gs(t,"GET","/v2/recaptchaConfig",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function qg(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qq(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=XE(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:zh(T2(i.auth_time)),issuedAtTime:zh(T2(i.iat)),expirationTime:zh(T2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function T2(t){return Number(t)*1e3}function XE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=aD(n);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SO(t){const e=XE(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ba&&Zq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Zq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t){const e=t.auth,n=await t.getIdToken(),r=await Sf(t,qg(e,{idToken:n}));Ue(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Q5(i.providerUserInfo):[],o=tG(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!o?.length,f=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zb(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function eG(t){const e=$t(t);await Gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e){const n=await X5(t,{},async()=>{const r=yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await Y5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(u.credentials="include"),K5.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rG(t,e){return gs(t,"POST","/v2/accounts:revokeToken",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=SO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await nG(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new ff;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ka{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Jq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qq(this,e)}reload(){return eG(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ka({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await Sf(this,Yq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:b,stsTokenManager:w}=n;Ue(p&&w,e,"internal-error");const A=ff.fromJSON(this.name,w);Ue(typeof p=="string",e,"internal-error"),nl(r,e.name),nl(i,e.name),Ue(typeof v=="boolean",e,"internal-error"),Ue(typeof m=="boolean",e,"internal-error"),nl(a,e.name),nl(o,e.name),nl(l,e.name),nl(u,e.name),nl(f,e.name),nl(d,e.name);const S=new ka({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:A,createdAt:f,lastLoginAt:d});return b&&Array.isArray(b)&&(S.providerData=b.map(O=>({...O}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ff;i.updateFromServerResponse(n);const a=new ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Q5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new ff;l.updateFromIdToken(r);const u=new ka({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Map;function Qo(t){cs(t instanceof Function,"Expected a class definition");let e=TO.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z5.type="NONE";const CO=Z5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e,n){return`firebase:${t}:${e}:${n}`}class df{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,a),this.fullPersistenceKey=mg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qg(this.auth,{idToken:e}).catch(()=>{});return n?ka._fromGetAccountInfoResponse(this.auth,n,e):null}return ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new df(Qo(CO),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Qo(CO);const o=mg(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const v=await qg(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ka._fromGetAccountInfoResponse(e,v,d)}else p=ka._fromJSON(e,d);f!==a&&(l=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new df(a,e,r):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new df(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(aM(e))return"Webos";if(eM(e))return"Safari";if((e.includes("chrome/")||tM(e))&&!e.includes("edge/"))return"Chrome";if(rM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J5(t=Vr()){return/firefox\//i.test(t)}function eM(t=Vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tM(t=Vr()){return/crios\//i.test(t)}function nM(t=Vr()){return/iemobile/i.test(t)}function rM(t=Vr()){return/android/i.test(t)}function iM(t=Vr()){return/blackberry/i.test(t)}function aM(t=Vr()){return/webos/i.test(t)}function YE(t=Vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iG(t=Vr()){return YE(t)&&!!window.navigator?.standalone}function aG(){return oV()&&document.documentMode===10}function oM(t=Vr()){return YE(t)||rM(t)||aM(t)||iM(t)||/windows phone/i.test(t)||nM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e=[]){let n;switch(t){case"Browser":n=IO(Vr());break;case"Worker":n=`${IO(Vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e={}){return gs(t,"GET","/v2/passwordPolicy",Fl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=6;class cG{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OO(this),this.idTokenSubscription=new OO(this),this.beforeStateQueue=new oG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await df.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qg(this,{idToken:e}),r=await ka._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(ts(this));const n=e?$t(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sG(this),n=new cG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rG(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qo(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await df.create(this,[Qo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vl(t){return $t(t)}class OO{constructor(e){this.auth=e,this.observer=null,this.addObserver=pV(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fG(t){bm=t}function lM(t){return bm.loadJS(t)}function dG(){return bm.recaptchaEnterpriseScript}function hG(){return bm.gapiScript}function pG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gG{constructor(){this.enterprise=new vG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mG="recaptcha-enterprise",cM="NO_RECAPTCHA";class yG{constructor(e){this.type=mG,this.auth=Vl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{Xq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Kq(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(u=>{l(u)})})}function i(a,o,l){const u=window.grecaptcha;AO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(cM)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gG().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&AO(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=dG();u.length!==0&&(u+=l),lM(u).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function RO(t,e,n,r=!1,i=!1){const a=new yG(t);let o;if(i)o=cM;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Hb(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await RO(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await RO(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t,e){const n=xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(qc(a,e??{}))return i;ha(i,"already-initialized")}return n.initialize({options:e})}function _G(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bG(t,e,n){const r=Vl(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=uM(e),{host:o,port:l}=wG(e),u=l===null?"":`:${l}`,f={url:`${a}//${o}${u}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(qc(f,r.config.emulator)&&qc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Eo(o)?(Qv(`${a}//${o}${u}`),Zv("Auth",!0)):EG()}function uM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wG(t){const e=uM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:PO(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:PO(o)}}}function PO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,n){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}async function AG(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(t,e){return Op(t,"POST","/v1/accounts:signInWithPassword",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(t,e){return Op(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,e))}async function CG(t,e){return Op(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends QE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ip(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ip(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hb(e,n,"signInWithPassword",SG);case"emailLink":return TG(e,{email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hb(e,r,"signUpPassword",AG);case"emailLink":return CG(e,{idToken:n,email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e){return Op(t,"POST","/v1/accounts:signInWithIdp",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG="http://localhost";class Kc extends QE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ha("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Kc(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hf(e,n)}buildRequest(){const e={requestUri:IG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RG(t){const e=Sh(Th(t)).link,n=e?Sh(Th(e)).deep_link_id:null,r=Sh(Th(t)).deep_link_id;return(r?Sh(Th(r)).link:null)||r||n||e||t}class ZE{constructor(e){const n=Sh(Th(e)),r=n.apiKey??null,i=n.oobCode??null,a=OG(n.mode??null);Ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=RG(e);try{return new ZE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.providerId=Xf.PROVIDER_ID}static credential(e,n){return ip._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZE.parseLink(n);return Ue(r,"argument-error"),ip._fromEmailAndCode(e,r.code,r.tenantId)}}Xf.PROVIDER_ID="password";Xf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Rp{constructor(){super("facebook.com")}static credential(e){return Kc._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.FACEBOOK_SIGN_IN_METHOD="facebook.com";ul.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Rp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Rp{constructor(){super("github.com")}static credential(e){return Kc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Rp{constructor(){super("twitter.com")}static credential(e,n){return Kc._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dl.credential(n,r)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PG(t,e){return Op(t,"POST","/v1/accounts:signUp",Fl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ka._fromIdTokenResponse(e,r,i),o=NO(r);return new Xc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NO(r);return new Xc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Ba{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wg(e,n,r,i)}}function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,a,e,r):a})}async function NG(t,e,n=!1){const r=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DG(t,e,n=!1){const{auth:r}=t;if(Qr(r.app))return Promise.reject(ts(r));const i="reauthenticate";try{const a=await Sf(t,fM(r,i,e,t),n);Ue(a.idToken,r,"internal-error");const o=XE(a.idToken);Ue(o,r,"internal-error");const{sub:l}=o;return Ue(t.uid===l,r,"user-mismatch"),Xc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ha(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e,n=!1){if(Qr(t.app))return Promise.reject(ts(t));const r="signIn",i=await fM(t,r,e),a=await Xc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function MG(t,e){return dM(Vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t){const e=Vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kG(t,e,n){if(Qr(t.app))return Promise.reject(ts(t));const r=Vl(t),o=await Hb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PG).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hM(t),u}),l=await Xc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function jG(t,e,n){return Qr(t.app)?Promise.reject(ts(t)):MG($t(t),Xf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LG(t,e){return gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=$t(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Sf(r,LG(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function BG(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function UG(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function FG(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function VG(t){return $t(t).signOut()}const Kg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kg,"1"),this.storage.removeItem(Kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=1e3,HG=10;class vM extends gM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);aG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vM.type="LOCAL";const $G=vM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends gM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mM.type="SESSION";const yM=mM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,a)),u=await qG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const f=eA("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(d),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(){return window}function WG(t){vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof vo().WorkerGlobalScope<"u"&&typeof vo().importScripts=="function"}async function KG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XG(){return navigator?.serviceWorker?.controller||null}function YG(){return xM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="firebaseLocalStorageDb",QG=1,Xg="firebaseLocalStorage",bM="fbase_key";class Pp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function ZG(){const t=indexedDB.deleteDatabase(_M);return new Pp(t).toPromise()}function $b(){const t=indexedDB.open(_M,QG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xg,{keyPath:bM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xg)?e(r):(r.close(),await ZG(),e(await $b()))})})}async function DO(t,e,n){const r=Em(t,!0).put({[bM]:e,value:n});return new Pp(r).toPromise()}async function JG(t,e){const n=Em(t,!1).get(e),r=await new Pp(n).toPromise();return r===void 0?null:r.value}function MO(t,e){const n=Em(t,!0).delete(e);return new Pp(n).toPromise()}const eW=800,tW=3;class wM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $b(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(YG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KG(),!this.activeServiceWorker)return;this.sender=new GG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $b();return await DO(e,Kg,"1"),await MO(e,Kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Em(i,!1).getAll();return new Pp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wM.type="LOCAL";const nW=wM;new Ip(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){return e?Qo(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends QE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rW(t){return dM(t.auth,new tA(t),t.bypassAuthState)}function iW(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),DG(n,new tA(t),t.bypassAuthState)}async function aW(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),NG(n,new tA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rW;case"linkViaPopup":case"linkViaRedirect":return aW;case"reauthViaPopup":case"reauthViaRedirect":return iW;default:ha(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new Ip(2e3,1e4);async function sW(t,e,n){if(Qr(t.app))return Promise.reject(ja(t,"operation-not-supported-in-this-environment"));const r=Vl(t);Uq(t,e,JE);const i=EM(r,n);return new Pc(r,"signInViaPopup",e,i).executeNotNull()}class Pc extends AM{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Pc.currentPopupAction&&Pc.currentPopupAction.cancel(),Pc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=eA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oW.get())};e()}}Pc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="pendingRedirect",yg=new Map;class cW extends AM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yg.get(this.auth._key());if(!e){try{const r=await uW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yg.set(this.auth._key(),e)}return this.bypassAuthState||yg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uW(t,e){const n=hW(e),r=dW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fW(t,e){yg.set(t._key(),e)}function dW(t){return Qo(t._redirectPersistence)}function hW(t){return mg(lW,t.config.apiKey,t.name)}async function pW(t,e,n=!1){if(Qr(t.app))return Promise.reject(ts(t));const r=Vl(t),i=EM(r,e),o=await new cW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=600*1e3;class vW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!SM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ja(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gW&&this.cachedEventUids.clear(),this.cachedEventUids.has(kO(e))}saveEventToCache(e){this.cachedEventUids.add(kO(e)),this.lastProcessedEventTime=Date.now()}}function kO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_W=/^https?/;async function bW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yW(t);for(const n of e)try{if(wW(n))return}catch{}ha(t,"unauthorized-domain")}function wW(t){const e=Vb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_W.test(n))return!1;if(xW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new Ip(3e4,6e4);function jO(){const t=vo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AW(t){return new Promise((e,n)=>{function r(){jO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jO(),n(ja(t,"network-request-failed"))},timeout:EW.get()})}if(vo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vo().gapi?.load)r();else{const i=pG("iframefcb");return vo()[i]=()=>{gapi.load?r():n(ja(t,"network-request-failed"))},lM(`${hG()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw xg=null,e})}let xg=null;function SW(t){return xg=xg||AW(t),xg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=new Ip(5e3,15e3),CW="__/auth/iframe",IW="emulator/auth/iframe",OW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PW(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?KE(e,IW):`https://${t.config.authDomain}/${CW}`,r={apiKey:e.apiKey,appName:t.name,v:iu},i=RW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${yp(r).slice(1)}`}async function NW(t){const e=await SW(t),n=vo().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:PW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OW,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ja(t,"network-request-failed"),l=vo().setTimeout(()=>{a(o)},TW.get());function u(){vo().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MW=500,kW=600,jW="_blank",LW="http://localhost";class LO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BW(t,e,n,r=MW,i=kW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...DW,width:r.toString(),height:i.toString(),top:a,left:o},f=Vr().toLowerCase();n&&(l=tM(f)?jW:n),J5(f)&&(e=e||LW,u.scrollbars="yes");const d=Object.entries(u).reduce((v,[m,b])=>`${v}${m}=${b},`,"");if(iG(f)&&l!=="_self")return UW(e||"",l),new LO(null);const p=window.open(e||"",l,d);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new LO(p)}function UW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="__/auth/handler",VW="emulator/auth/handler",zW=encodeURIComponent("fac");async function BO(t,e,n,r,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:i};if(e instanceof JE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Rp){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),f=u?`#${zW}=${encodeURIComponent(u)}`:"";return`${HW(t)}?${yp(l).slice(1)}${f}`}function HW({config:t}){return t.emulator?KE(t,VW):`https://${t.authDomain}/${FW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="webStorageSupport";class $W{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yM,this._completeRedirectFn=pW,this._overrideRedirectResult=fW}async _openPopup(e,n,r,i){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await BO(e,n,r,Vb(),i);return BW(e,a,eA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await BO(e,n,r,Vb(),i);return WG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(cs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NW(e),r=new vW(e);return n.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(C2,{type:C2},i=>{const a=i?.[0]?.[C2];a!==void 0&&n(!!a),ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oM()||eM()||YE()}}const qW=$W;var UO="@firebase/auth",FO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KW(t){Tl(new is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sM(t)},f=new uG(r,i,a,u);return _G(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tl(new is("auth-internal",e=>{const n=Vl(e.getProvider("auth").getImmediate());return(r=>new GW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(UO,FO,WW(t)),la(UO,FO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=300,YW=lD("authIdTokenMaxAge")||XW;let VO=null;const QW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YW)return;const i=n?.token;VO!==i&&(VO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZW(t=Jv()){const e=xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xG(t,{popupRedirectResolver:qW,persistence:[nW,$G,yM]}),r=lD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=QW(a.toString());UG(n,o,()=>o(n.currentUser)),BG(n,l=>o(l))}}const i=oD("auth");return i&&bG(n,`http://${i}`),n}function JW(){return document.getElementsByTagName("head")?.[0]??document}fG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ja("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",JW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="type.googleapis.com/google.protobuf.Int64Value",tK="type.googleapis.com/google.protobuf.UInt64Value";function TM(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Yg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Yg(e));if(typeof t=="function"||typeof t=="object")return TM(t,e=>Yg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Tf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case eK:case tK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Tf(e)):typeof t=="function"||typeof t=="object"?TM(t,e=>Tf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zr extends Ba{constructor(e,n,r){super(`${nA}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Zr.prototype)}}function nK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Qg(t,e){let n=nK(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!zO[o])return new Zr("internal","internal");n=zO[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=Tf(i))}}catch{}return n==="ok"?null:new Zr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Qr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="us-central1",iK=/^data: (.*?)(?:\n|$)/;function aK(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Zr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class oK{constructor(e,n,r,i,a=qb,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new rK(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=qb}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function sK(t,e,n){const r=Eo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Qv(t.emulatorOrigin+"/backends"),Zv("Functions",!0))}function lK(t,e,n){const r=i=>uK(t,e,i,n||{});return r.stream=(i,a)=>dK(t,e,i,a),r}function CM(t){return t.emulatorOrigin&&Eo(t.emulatorOrigin)?"include":void 0}async function cK(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:CM(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function IM(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function uK(t,e,n,r){const i=t._url(e);return fK(t,i,n,r)}async function fK(t,e,n,r){n=Yg(n);const i={data:n},a=await IM(t,r),o=r.timeout||7e4,l=aK(o),u=await Promise.race([cK(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Zr("cancelled","Firebase Functions instance was deleted.");const f=Qg(u.status,u.json);if(f)throw f;if(!u.json)throw new Zr("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new Zr("internal","Response is missing data field.");return{data:Tf(d)}}function dK(t,e,n,r){const i=t._url(e);return hK(t,i,n,r||{})}async function hK(t,e,n,r){n=Yg(n);const i={data:n},a=await IM(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:CM(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const b=new Zr("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const m=Qg(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let l,u;const f=new Promise((v,m)=>{l=v,u=m});r?.signal?.addEventListener("abort",()=>{const v=new Zr("cancelled","Request was cancelled.");u(v)});const d=o.body.getReader(),p=pK(d,l,u,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:m,done:b}=await v.read();return{value:m,done:b}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function pK(t,e,n,r){const i=(o,l)=>{const u=o.match(iK);if(!u)return;const f=u[1];try{const d=JSON.parse(f);if("result"in d){e(Tf(d.result));return}if("message"in d){l.enqueue(Tf(d.message));return}if("error"in d){const p=Qg(0,d);l.error(p),n(p);return}}catch(d){if(d instanceof Zr){l.error(d),n(d);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return u();async function u(){if(r?.aborted){const f=new Zr("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:d}=await t.read();if(d){l.trim()&&i(l.trim(),o),o.close();return}if(r?.aborted){const v=new Zr("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}l+=a.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return u()}catch(f){const d=f instanceof Zr?f:Qg(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const HO="@firebase/functions",$O="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="auth-internal",vK="app-check-internal",mK="messaging-internal";function yK(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(gK),o=n.getProvider(mK),l=n.getProvider(vK);return new oK(i,a,o,l,r)};Tl(new is(nA,e,"PUBLIC").setMultipleInstances(!0)),la(HO,$O,t),la(HO,$O,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t=Jv(),e=qb){const r=xp($t(t),nA).getImmediate({identifier:e}),i=rE("functions");return i&&RM(r,...i),r}function RM(t,e,n){sK($t(t),e,n)}function xK(t,e,n){return lK($t(t),e,n)}yK();const rA=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:Zr,connectFunctionsEmulator:RM,getFunctions:OM,httpsCallable:xK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebasestorage.googleapis.com",NM="storageBucket",_K=120*1e3,bK=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Ba{constructor(e,n,r=0){super(I2(e),`Firebase Storage: ${n} (${I2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return I2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vn||(vn={}));function I2(t){return"storage/"+t}function iA(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(vn.UNKNOWN,t)}function wK(t){return new mn(vn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EK(t){return new mn(vn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(vn.UNAUTHENTICATED,t)}function SK(){return new mn(vn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TK(t){return new mn(vn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function CK(){return new mn(vn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IK(){return new mn(vn.CANCELED,"User canceled the upload/download.")}function OK(t){return new mn(vn.INVALID_URL,"Invalid URL '"+t+"'.")}function RK(t){return new mn(vn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PK(){return new mn(vn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NM+"' property when initializing the app?")}function NK(){return new mn(vn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DK(){return new mn(vn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MK(t){return new mn(vn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gb(t){return new mn(vn.INVALID_ARGUMENT,t)}function DM(){return new mn(vn.APP_DELETED,"The Firebase app was deleted.")}function kK(t){return new mn(vn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hh(t,e){return new mn(vn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fh(t){throw new mn(vn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Di.makeFromUrl(e,n)}catch{return new Di(e,"")}if(r.path==="")return r;throw RK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${d}/b/${i}/o${v}`,"i"),b={bucket:1,path:3},w=n===PM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${A}`,"i"),I=[{regex:l,indices:u,postModify:a},{regex:m,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<I.length;R++){const k=I[R],L=k.regex.exec(e);if(L){const P=L[k.indices.bucket];let M=L[k.indices.path];M||(M=""),r=new Di(P,M),k.postModify(r);break}}if(r==null)throw OK(e);return r}}class jK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function u(){return l===2}let f=!1;function d(...A){f||(f=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(m,u())},A)}function v(){a&&clearTimeout(a)}function m(A,...S){if(f){v();return}if(A){v(),d.call(null,A,...S);return}if(u()||o){v(),d.call(null,A,...S);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let b=!1;function w(A){b||(b=!0,v(),!f&&(i!==null?(A||(l=2),clearTimeout(i),p(0)):A||(l=1)))}return p(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function BK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t){return t!==void 0}function FK(t){return typeof t=="object"&&!Array.isArray(t)}function aA(t){return typeof t=="string"||t instanceof String}function qO(t){return oA()&&t instanceof Blob}function oA(){return typeof Blob<"u"}function GO(t,e,n,r){if(r<e)throw Gb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function MM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Uc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uc||(Uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,n,r,i,a,o,l,u,f,d,p,v=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new j1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const u=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Uc.NO_ERROR,u=a.getStatus();if(!l||VK(u,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Uc.ABORT;r(!1,new j1(!1,null,d));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new j1(f,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());UK(u)?a(u):a()}catch(u){o(u)}else if(l!==null){const u=iA();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?DM():IK();o(u)}else{const u=CK();o(u)}};this.canceled_?n(!1,new j1(!1,null,!0)):this.backoffId_=LK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class j1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $K(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WK(t,e,n,r,i,a,o=!0,l=!1){const u=MM(t.urlParams),f=t.url+u,d=Object.assign({},t.headers);return qK(d,e),HK(d,n),$K(d,a),GK(d,r),new zK(f,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XK(...t){const e=KK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(oA())return new Blob(t);throw new mn(vn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t){if(typeof atob>"u")throw MK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class O2{constructor(e,n){this.data=e,this.contentType=n||null}}function ZK(t,e){switch(t){case lo.RAW:return new O2(kM(e));case lo.BASE64:case lo.BASE64URL:return new O2(jM(t,e));case lo.DATA_URL:return new O2(eX(e),tX(e))}throw iA()}function kM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function JK(t){let e;try{e=decodeURIComponent(t)}catch{throw Hh(lo.DATA_URL,"Malformed data URL.")}return kM(e)}function jM(t,e){switch(t){case lo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Hh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case lo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Hh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QK(e)}catch(i){throw i.message.includes("polyfill")?i:Hh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class LM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hh(lo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eX(t){const e=new LM(t);return e.base64?jM(lo.BASE64,e.rest):JK(e.rest)}function tX(t){return new LM(t).contentType}function nX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){let r=0,i="";qO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(qO(this.data_)){const r=this.data_,i=YK(r,e,n);return i===null?null:new hl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hl(r,!0)}}static getBlob(...e){if(oA()){const n=e.map(r=>r instanceof hl?r.data_:r);return new hl(XK.apply(null,n))}else{const n=e.map(o=>aA(o)?ZK(lo.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new hl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){let e;try{e=JSON.parse(t)}catch{return null}return FK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function UM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t,e){return e}class Gr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||aX}}let L1=null;function oX(t){return!aA(t)||t.length<2?t:UM(t)}function FM(){if(L1)return L1;const t=[];t.push(new Gr("bucket")),t.push(new Gr("generation")),t.push(new Gr("metageneration")),t.push(new Gr("name","fullPath",!0));function e(a,o){return oX(o)}const n=new Gr("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Gr("size");return i.xform=r,t.push(i),t.push(new Gr("timeCreated")),t.push(new Gr("updated")),t.push(new Gr("md5Hash",null,!0)),t.push(new Gr("cacheControl",null,!0)),t.push(new Gr("contentDisposition",null,!0)),t.push(new Gr("contentEncoding",null,!0)),t.push(new Gr("contentLanguage",null,!0)),t.push(new Gr("contentType",null,!0)),t.push(new Gr("metadata","customMetadata",!0)),L1=t,L1}function sX(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Di(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function lX(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return sX(r,t),r}function VM(t,e,n){const r=BM(e);return r===null?null:lX(t,r,n)}function cX(t,e,n,r){const i=BM(e);if(i===null||!aA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const d=t.bucket,p=t.fullPath,v="/b/"+o(d)+"/o/"+o(p),m=sA(v,n,r),b=MM({alt:"media",token:f});return m+b})[0]}function uX(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class zM{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){if(!t)throw iA()}function fX(t,e){function n(r,i){const a=VM(t,i,e);return HM(a!==null),a}return n}function dX(t,e){function n(r,i){const a=VM(t,i,e);return HM(a!==null),cX(a,i,t.host,t._protocol)}return n}function $M(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SK():i=AK():n.getStatus()===402?i=EK(t.bucket):n.getStatus()===403?i=TK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function hX(t){const e=$M(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=wK(t.path)),a.serverResponse=i.serverResponse,a}return n}function pX(t,e,n){const r=e.fullServerUrl(),i=sA(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new zM(i,a,dX(t,n),o);return l.errorHandler=hX(e),l}function gX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vX(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gX(null,e)),r}function mX(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const f=vX(e,r,i),d=uX(f,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+u+"--",m=hl.getBlob(p,r,v);if(m===null)throw NK();const b={name:f.fullPath},w=sA(a,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,O=new zM(w,A,fX(t,n),S);return O.urlParams=b,O.headers=o,O.body=m.uploadData(),O.errorHandler=$M(e),O}class yX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw fh("cannot .send() more than once");if(Eo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xX extends yX{initXhr(){this.xhr_.responseType="text"}}function qM(){return new xX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this._service=e,n instanceof Di?this._location=n:this._location=Di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yc(e,n)}get root(){const e=new Di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UM(this._location.path)}get storage(){return this._service}get parent(){const e=rX(this._location.path);if(e===null)return null;const n=new Di(this._location.bucket,e);return new Yc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kK(e)}}function _X(t,e,n){t._throwIfRoot("uploadBytes");const r=mX(t.storage,t._location,FM(),new hl(e,!0),n);return t.storage.makeRequestWithTokens(r,qM).then(i=>({metadata:i,ref:t}))}function bX(t){t._throwIfRoot("getDownloadURL");const e=pX(t.storage,t._location,FM());return t.storage.makeRequestWithTokens(e,qM).then(n=>{if(n===null)throw DK();return n})}function wX(t,e){const n=iX(t._location.path,e),r=new Di(t._location.bucket,n);return new Yc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){return/^[A-Za-z]+:\/\//.test(t)}function AX(t,e){return new Yc(t,e)}function GM(t,e){if(t instanceof lA){const n=t;if(n._bucket==null)throw PK();const r=new Yc(n,n._bucket);return e!=null?GM(r,e):r}else return e!==void 0?wX(t,e):t}function SX(t,e){if(e&&EX(e)){if(t instanceof lA)return AX(t,e);throw Gb("To use ref(service, url), the first argument must be a Storage instance.")}else return GM(t,e)}function WO(t,e){const n=e?.[NM];return n==null?null:Di.makeFromBucketSpec(n,t)}function TX(t,e,n,r={}){t.host=`${e}:${n}`;const i=Eo(e);i&&(Qv(`https://${t.host}/b`),Zv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:cD(a,t.app.options.projectId))}class lA{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=PM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_K,this._maxUploadRetryTime=bK,this._requests=new Set,i!=null?this._bucket=Di.makeFromBucketSpec(i,this._host):this._bucket=WO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Di.makeFromBucketSpec(this._url,e):this._bucket=WO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new jK(DM());{const o=WK(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const KO="@firebase/storage",XO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="storage";function cA(t,e,n){return t=$t(t),_X(t,e,n)}function uA(t){return t=$t(t),bX(t)}function fA(t,e){return t=$t(t),SX(t,e)}function CX(t=Jv(),e){t=$t(t);const r=xp(t,WM).getImmediate({identifier:e}),i=rE("storage");return i&&IX(r,...i),r}function IX(t,e,n,r={}){TX(t,e,n,r)}function OX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new lA(n,r,i,e,iu)}function RX(){Tl(new is(WM,OX,"PUBLIC").setMultipleInstances(!0)),la(KO,XO,""),la(KO,XO,"esm2020")}RX();const PX={apiKey:"AIzaSyB_23qGagKyn6SqpNh1u7_EMqJWMN9MZuo",authDomain:"oshi-para.firebaseapp.com",projectId:"oshi-para",storageBucket:"oshi-para.firebasestorage.app",messagingSenderId:"123159056695",appId:"1:123159056695:web:b2226933dc6f6095220ab2"},Np=dD(PX),nt=ZW(Np),Re=bq(Np);OM(Np);const Am=CX(Np),dA=Object.freeze(Object.defineProperty({__proto__:null,auth:nt,db:Re,default:Np,storage:Am},Symbol.toStringTag,{value:"Module"})),Tt={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},Ct=(t,e)=>`users/${t}/${e}`,dh={getAll:async t=>{const e=Vn(yt(Re,Ct(t,Tt.INTAKES)),fa("createdAt","desc"));return(await pi(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.INTAKES)),e)).id,update:async(t,e,n)=>{const r=dt(Re,Ct(t,Tt.INTAKES),e);await Bi(r,n)},delete:async(t,e)=>{const n=dt(Re,Ct(t,Tt.INTAKES),e);await da(n)},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.INTAKES)),fa("createdAt","desc"));return Wf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},R2={getAll:async t=>{const e=Vn(yt(Re,Ct(t,Tt.EXPENSES)),fa("createdAt","desc"));return(await pi(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.EXPENSES)),e)).id,update:async(t,e,n)=>{const r=dt(Re,Ct(t,Tt.EXPENSES),e);await Bi(r,n)},delete:async(t,e)=>{const n=dt(Re,Ct(t,Tt.EXPENSES),e);await da(n)},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.EXPENSES)),fa("createdAt","desc"));return Wf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},B1={getAll:async t=>{const e=Vn(yt(Re,Ct(t,Tt.STOCKS)),fa("createdAt","desc"));return(await pi(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.STOCKS)),e)).id,update:async(t,e,n)=>{const r=dt(Re,Ct(t,Tt.STOCKS),e);await Bi(r,n)},delete:async(t,e)=>{const n=dt(Re,Ct(t,Tt.STOCKS),e);await da(n)},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.STOCKS)),fa("createdAt","desc"));return Wf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},hh={getAll:async t=>{const e=Vn(yt(Re,Ct(t,Tt.SHOPPING)),fa("createdAt","desc"));return(await pi(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.SHOPPING)),e)).id,update:async(t,e,n)=>{const r=dt(Re,Ct(t,Tt.SHOPPING),e);await Bi(r,n)},delete:async(t,e)=>{const n=dt(Re,Ct(t,Tt.SHOPPING),e);await da(n)},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.SHOPPING)),fa("createdAt","desc"));return Wf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},U1={getAll:async t=>{const e=Vn(yt(Re,Ct(t,Tt.RECIPES)),fa("createdAt","desc"));return(await pi(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Gf(yt(Re,Ct(t,Tt.RECIPES)),e)).id,update:async(t,e,n)=>{const r=dt(Re,Ct(t,Tt.RECIPES),e);await Bi(r,n)},delete:async(t,e)=>{const n=dt(Re,Ct(t,Tt.RECIPES),e);await da(n)},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.RECIPES)),fa("createdAt","desc"));return Wf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},F1={get:async t=>{const e=Vn(yt(Re,Ct(t,Tt.SETTINGS))),n=await pi(e);return n.empty?null:n.docs[0].data()},set:async(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.SETTINGS))),r=await pi(n);if(r.empty)return(await Gf(yt(Re,Ct(t,Tt.SETTINGS)),e)).id;{const i=dt(Re,Ct(t,Tt.SETTINGS),r.docs[0].id);return await Bi(i,e),r.docs[0].id}},subscribe:(t,e)=>{const n=Vn(yt(Re,Ct(t,Tt.SETTINGS)));return Wf(n,r=>{if(r.empty)e(null);else{const i=r.docs[0].data();e(i)}})}},Ao=ru((t,e)=>({intakes:Sl(tt.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:n=>t({intakes:n}),setLoading:n=>t({loading:n}),setInitialized:n=>t({initialized:n}),addIntake:async n=>{const r=nt.currentUser,i={id:ml(),...n,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return kt(tt.INTAKES,o),{intakes:o}}),r)try{await dh.add(r.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(n,r)=>{const i=nt.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(u=>u.id===n?{...u,...a}:u);return kt(tt.INTAKES,l),{intakes:l}}),i)try{await dh.update(i.uid,n,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==n);return kt(tt.INTAKES,a),{intakes:a}}),r)try{await dh.delete(r.uid,n)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:n=>e().intakes.filter(i=>i.date.startsWith(n)),getTotalCaloriesByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${n.uid}`);const r=await dh.getAll(n.uid);console.log(`[IntakeStore] Loaded ${r.length} intakes from Firestore`),t({intakes:r,loading:!1,initialized:!0}),kt(tt.INTAKES,r)}catch(r){console.error("Failed to sync intakes with Firestore:",r),t({loading:!1})}},subscribeToFirestore:()=>{const n=nt.currentUser;if(!n)return;const r=e().unsubscribe;r&&r(),console.log(`[IntakeStore] Starting realtime sync for user: ${n.uid}`);const i=dh.subscribe(n.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),kt(tt.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const n=e().unsubscribe;n&&(console.log("[IntakeStore] Stopping realtime sync"),n(),t({unsubscribe:null}))}})),So=ru((t,e)=>({expenses:Sl(tt.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:n=>t({expenses:n}),addExpense:async n=>{const r=nt.currentUser,i={id:ml(),...n,date:n.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return kt(tt.EXPENSES,o),{expenses:o}}),r)try{await R2.add(r.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==n);return kt(tt.EXPENSES,a),{expenses:a}}),r)try{await R2.delete(r.uid,n)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(n,r)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===n&&o.getMonth()+1===r}),getTotalByMonth:(n,r)=>e().getExpensesByMonth(n,r).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(n,r,i)=>e().getExpensesByMonth(r,i).filter(o=>o.category===n).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await R2.getAll(n.uid);t({expenses:r,loading:!1,initialized:!0}),kt(tt.EXPENSES,r)}catch(r){console.error("Failed to sync expenses with Firestore:",r),t({loading:!1})}}})),To=ru((t,e)=>({stocks:Sl(tt.STOCKS,[]),loading:!1,initialized:!1,setStocks:n=>t({stocks:n}),addStock:async n=>{const r=nt.currentUser,i={id:ml(),...n,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return kt(tt.STOCKS,o),{stocks:o}}),r)try{await B1.add(r.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(n,r)=>{const i=nt.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(u=>u.id===n?{...u,...a}:u);return kt(tt.STOCKS,l),{stocks:l}}),i)try{await B1.update(i.uid,n,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==n);return kt(tt.STOCKS,a),{stocks:a}}),r)try{await B1.delete(r.uid,n)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:n=>e().stocks.filter(i=>i.daysRemaining<=n),getStockIngredients:()=>e().stocks.map(r=>r.name),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await B1.getAll(n.uid);t({stocks:r,loading:!1,initialized:!0}),kt(tt.STOCKS,r)}catch(r){console.error("Failed to sync stocks with Firestore:",r),t({loading:!1})}}})),NX=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],lu=ru((t,e)=>({items:Sl(tt.SHOPPING,[]),loading:!1,initialized:!1,setItems:n=>t({items:n}),addItem:async n=>{const r=nt.currentUser;if(e().items.find(o=>o.name===n.name&&!o.checked))return;const a={id:ml(),...n,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return kt(tt.SHOPPING,l),{items:l}}),r)try{await hh.add(r.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===n?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return kt(tt.SHOPPING,a),{items:a}}),r)try{const i=e().items.find(a=>a.id===n);i&&await hh.update(r.uid,n,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==n);return kt(tt.SHOPPING,a),{items:a}}),r)try{await hh.delete(r.uid,n)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const n=nt.currentUser,r=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return kt(tt.SHOPPING,a),{items:a}}),n)try{await Promise.all(r.map(i=>hh.delete(n.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(n=>{const r=n.items,i=[...r];return NX.forEach(a=>{r.find(l=>l.name===a.name&&!l.checked)||i.push({id:ml(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),kt(tt.SHOPPING,i),{items:i}})},addLowStockItems:n=>{t(r=>{const i=r.items,a=[...i];return n.forEach(o=>{i.find(u=>u.name===o.name&&!u.checked)||a.push({id:ml(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),kt(tt.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await hh.getAll(n.uid);t({items:r,loading:!1,initialized:!0}),kt(tt.SHOPPING,r)}catch(r){console.error("Failed to sync shopping items with Firestore:",r),t({loading:!1})}}})),DX=10,Dp=ru((t,e)=>({recipeHistory:Sl(tt.RECIPE_HISTORY,[]),favoriteRecipes:Sl(tt.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(n,r)=>t({recipeHistory:n,favoriteRecipes:r}),addToHistory:async n=>{const r=nt.currentUser,i={id:ml(),recipe:n,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,DX);return kt(tt.RECIPE_HISTORY,o),{recipeHistory:o}}),r)try{await U1.add(r.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async n=>{const r=nt.currentUser;if(e().favoriteRecipes.find(o=>o.id===n.id))return;const a={...n,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return kt(tt.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),r)try{await U1.add(r.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==n);return kt(tt.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),r)try{await U1.delete(r.uid,n)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:n=>e().favoriteRecipes.some(i=>i.id===n),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${n.uid}`);const i=await U1.getAll(n.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),kt(tt.RECIPE_HISTORY,a),kt(tt.FAVORITE_RECIPES,i)}catch(r){console.error("Failed to sync recipes with Firestore:",r),t({loading:!1})}}})),YO={monthlyBudget:3e4,darkMode:!1,notifications:{enabled:!0,breakfast:{enabled:!0,time:"07:00"},lunch:{enabled:!0,time:"12:00"},dinner:{enabled:!0,time:"18:00"}},firstTime:!0},ap=ru((t,e)=>({settings:{...YO,...Sl(tt.SETTINGS,YO)},loading:!1,initialized:!1,updateSettings:async n=>{const r=nt.currentUser;if(t(i=>{const a={...i.settings,...n};return kt(tt.SETTINGS,a),"darkMode"in n&&document.body.classList.toggle("dark-mode",n.darkMode),{settings:a}}),r)try{const i=e().settings;await F1.set(r.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const n=nt.currentUser,r=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:r};return kt(tt.SETTINGS,a),document.body.classList.toggle("dark-mode",r),{settings:a}}),n)try{const i=e().settings;await F1.set(n.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:n=>t(r=>{const i={...r.settings,firstTime:n};return kt(tt.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${n.uid}`);const r=await F1.get(n.uid);if(r)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:r,loading:!1,initialized:!0}),kt(tt.SETTINGS,r),document.body.classList.toggle("dark-mode",r.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await F1.set(n.uid,i),t({loading:!1,initialized:!0})}}catch(r){console.error("Failed to sync settings with Firestore:",r),t({loading:!1})}}})),Zg=[{id:"streak-3",name:"3日連続記録",description:"3日間連続で食事を記録しました",icon:"🔥",category:"streak",requirement:"3日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=3},{id:"streak-7",name:"1週間継続",description:"7日間連続で食事を記録しました",icon:"🎯",category:"streak",requirement:"7日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=7},{id:"streak-14",name:"2週間チャンピオン",description:"14日間連続で食事を記録しました",icon:"🏆",category:"streak",requirement:"14日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=14},{id:"streak-30",name:"1ヶ月マスター",description:"30日間連続で食事を記録しました",icon:"👑",category:"streak",requirement:"30日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=30},{id:"milestone-10-intakes",name:"記録の第一歩",description:"食事記録が10件に達しました",icon:"📝",category:"milestone",requirement:"食事記録10件",checkCondition:t=>t.intakesCount>=10},{id:"milestone-50-intakes",name:"記録マスター",description:"食事記録が50件に達しました",icon:"📚",category:"milestone",requirement:"食事記録50件",checkCondition:t=>t.intakesCount>=50},{id:"milestone-100-intakes",name:"記録の達人",description:"食事記録が100件に達しました",icon:"🎓",category:"milestone",requirement:"食事記録100件",checkCondition:t=>t.intakesCount>=100},{id:"goal-budget-first",name:"節約家デビュー",description:"先月の支出が予算内に収まりました！",icon:"💰",category:"goal",requirement:"月次予算達成（毎月1日に先月分を判定）",checkCondition:t=>t.budgetAchieved},{id:"feature-recipe-first",name:"AIシェフデビュー",description:"初めてAIレシピを生成しました",icon:"👨‍🍳",category:"feature",requirement:"AIレシピ生成1回",checkCondition:t=>t.recipesGenerated>=1},{id:"feature-recipe-10",name:"レシピマスター",description:"AIレシピを10回生成しました",icon:"🍳",category:"feature",requirement:"AIレシピ生成10回",checkCondition:t=>t.recipesGenerated>=10},{id:"feature-barcode-first",name:"スキャナーデビュー",description:"初めてバーコードをスキャンしました",icon:"📱",category:"feature",requirement:"バーコードスキャン1回",checkCondition:t=>t.barcodesScanned>=1},{id:"feature-barcode-10",name:"スキャンマスター",description:"バーコードを10回スキャンしました",icon:"🔍",category:"feature",requirement:"バーコードスキャン10回",checkCondition:t=>t.barcodesScanned>=10},{id:"milestone-all-features",name:"フル活用マスター",description:"すべての機能を使いこなしています",icon:"⭐",category:"milestone",requirement:"全機能の使用",checkCondition:t=>t.intakesCount>=5&&t.expensesCount>=5&&t.stocksCount>=3&&t.recipesGenerated>=1&&t.barcodesScanned>=1}];function MX(t){return Zg.find(e=>e.id===t)}const hA=ru((t,e)=>({badges:Sl(tt.BADGES,[]),newBadges:[],loading:!1,checkAndUnlockBadges:n=>{const r=e().badges,i=r.map(o=>o.id),a=[];return Zg.forEach(o=>{if(!i.includes(o.id)&&o.checkCondition(n)){const l={id:o.id,name:o.name,description:o.description,icon:o.icon,category:o.category,requirement:o.requirement,unlockedAt:new Date().toISOString()};r.push(l),a.push(o.id)}}),a.length>0&&(t({badges:r,newBadges:a}),kt(tt.BADGES,r)),a},clearNewBadges:()=>{t({newBadges:[]})},getBadge:n=>e().badges.find(r=>r.id===n),isUnlocked:n=>e().badges.some(r=>r.id===n),getUnlockedCount:()=>e().badges.length,getTotalCount:()=>Zg.length})),kX=()=>{const{getTotalCaloriesByDate:t}=Ao(),{getTotalByMonth:e}=So(),n=T.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),r=T.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return y.jsxs("div",{className:"summary-box",children:[y.jsxs("div",{className:"summary-row",children:[y.jsx("span",{className:"summary-label",children:"今日のカロリー"}),y.jsxs("span",{className:"summary-value",children:[n," kcal"]})]}),y.jsxs("div",{className:"summary-row",children:[y.jsx("span",{className:"summary-label",children:"今月の支出"}),y.jsxs("span",{className:"summary-value positive",children:["¥",r.toLocaleString()]})]})]})},jX=({onNavigate:t})=>{const e=[{screen:"meals",icon:y.jsx(nE,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:y.jsx(Gh,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:y.jsx(bF,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:y.jsx(mf,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:y.jsx(Rg,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:y.jsx(Wv,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:y.jsx(wF,{size:32}),label:"レポート",color:"#6366f1"},{screen:"badges",icon:y.jsx(OF,{size:32}),label:"バッジ",color:"#f59e0b"},{screen:"settings",icon:y.jsx(hF,{size:32}),label:"設定",color:"#64748b"}],n=r=>{r.onClick?r.onClick():r.screen&&t(r.screen)};return y.jsx("div",{className:"function-grid",children:e.map((r,i)=>y.jsxs("button",{className:"function-card",style:{"--card-color":r.color},onClick:()=>n(r),children:[y.jsx("div",{className:"function-icon",style:{color:r.color},children:r.icon}),y.jsx("div",{className:"function-label",children:r.label})]},i))})},QO=({onNavigate:t})=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"ホーム"}),y.jsx(kX,{}),y.jsx(jX,{onNavigate:t})]}),LX=()=>{const{addIntake:t}=Ao(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,o]=T.useState(""),l=()=>{if(!e||!r||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(r),price:Number(a)}),n(""),i(""),o(""),alert("食事を記録しました！")};return y.jsxs("div",{className:"card",children:[y.jsx("label",{children:"食品名"}),y.jsx("input",{value:e,onChange:u=>n(u.target.value),placeholder:"例: 牛乳"}),y.jsx("label",{children:"カロリー(kcal)"}),y.jsx("input",{type:"number",value:r,onChange:u=>i(u.target.value),placeholder:"200"}),y.jsx("label",{children:"金額(円)"}),y.jsx("input",{type:"number",value:a,onChange:u=>o(u.target.value),placeholder:"150"}),y.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},BX=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:n,getTotalPriceByDate:r}=Ao(),i=T.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(d=>d.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=n(a),l=r(a),u=f=>{confirm("この記録を削除しますか？")&&e(f)};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"今日の記録"}),i.length===0?y.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):y.jsxs(y.Fragment,{children:[y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>y.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),y.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),y.jsx("button",{onClick:()=>u(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:y.jsx(Uf,{size:20})})]},f.id))}),y.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[y.jsxs("span",{children:[y.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),y.jsxs("span",{children:[y.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},UX=()=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"食事記録"}),y.jsx(LX,{}),y.jsx(BX,{})]}),FX=async(t,e)=>{try{return{user:(await jG(nt,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},VX=async()=>{const t=new Wo;try{return{user:(await sW(nt,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},zX=async()=>{try{return await VG(nt),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},HX=t=>FG(nt,t),Mp=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>{const i=HX(a=>{e(a),r(!1)});return()=>i()},[]),{user:t,loading:n}};async function $X(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("このブラウザは通知をサポートしていません"),!1)}function qX(t,e){"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{icon:"/icon-192.png",badge:"/icon-192.png",...e})}function GX(t){const e={breakfast:"朝食",lunch:"昼食",dinner:"夕食"};qX(`${{breakfast:"🍳",lunch:"🍱",dinner:"🍽️"}[t]} ${e[t]}の記録をお忘れなく！`,{body:"食事の記録を追加して、健康管理を続けましょう",tag:`meal-reminder-${t}`,requireInteraction:!1})}function WX(t){if(!t.enabled){ZO();return}ZO(),t.breakfast.enabled&&_g("breakfast",t.breakfast.time),t.lunch.enabled&&_g("lunch",t.lunch.time),t.dinner.enabled&&_g("dinner",t.dinner.time)}function _g(t,e){const[n,r]=e.split(":").map(Number),i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate(),n,r,0);a<=i&&a.setDate(a.getDate()+1);const o=a.getTime()-i.getTime(),l=setTimeout(()=>{GX(t),_g(t,e)},o);KX(t,l)}function ZO(){KM().forEach(e=>clearTimeout(e)),localStorage.removeItem("notification-schedules")}function KX(t,e){const n=KM();n.push(e),localStorage.setItem("notification-schedules",JSON.stringify(n))}function KM(){const t=localStorage.getItem("notification-schedules");return t?JSON.parse(t):[]}function XX(){return"Notification"in window}function YX(){return"Notification"in window?Notification.permission:null}function QX(){const{settings:t,updateSettings:e}=ap(),[n,r]=T.useState(YX());T.useEffect(()=>{t.notifications.enabled&&n==="granted"&&WX(t.notifications)},[t.notifications.enabled,n]);const i=async()=>{if(!XX()){alert("このブラウザは通知をサポートしていません");return}if(!t.notifications.enabled){const u=await $X();if(r(u?"granted":"denied"),!u){alert("通知を有効にするには、ブラウザの設定で通知を許可してください");return}}const l={notifications:{...t.notifications,enabled:!t.notifications.enabled}};await e(l)},a=async l=>{const u={...t.notifications,[l]:{...t.notifications[l],enabled:!t.notifications[l].enabled}};await e({notifications:u})},o=async(l,u)=>{const f={...t.notifications,[l]:{...t.notifications[l],time:u}};await e({notifications:f})};return y.jsx("div",{className:"notification-settings",children:y.jsxs("div",{className:"setting-section",children:[y.jsxs("div",{className:"setting-header",children:[y.jsxs("h3",{children:[t.notifications.enabled?y.jsx(PF,{size:24}):y.jsx(RF,{size:24}),"食事記録リマインダー"]}),y.jsx("p",{className:"setting-description",children:"指定した時間に食事記録の入力を促す通知を送信します"})]}),y.jsxs("div",{className:"setting-item",children:[y.jsx("div",{className:"setting-label",children:y.jsx("span",{children:"通知を有効化"})}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",checked:t.notifications.enabled,onChange:i}),y.jsx("span",{className:"toggle-slider"})]})]}),n==="denied"&&y.jsx("div",{className:"notification-warning",children:y.jsx("p",{children:"⚠️ 通知が拒否されています。ブラウザの設定で通知を許可してください。"})}),t.notifications.enabled&&n==="granted"&&y.jsxs("div",{className:"meal-notifications",children:[y.jsxs("div",{className:"meal-notification-item",children:[y.jsxs("div",{className:"meal-header",children:[y.jsxs("div",{className:"meal-info",children:[y.jsx("span",{className:"meal-icon",children:"🍳"}),y.jsx("span",{className:"meal-name",children:"朝食"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",checked:t.notifications.breakfast.enabled,onChange:()=>a("breakfast")}),y.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.breakfast.enabled&&y.jsx("div",{className:"time-input-wrapper",children:y.jsx("input",{type:"time",value:t.notifications.breakfast.time,onChange:l=>o("breakfast",l.target.value),className:"time-input"})})]}),y.jsxs("div",{className:"meal-notification-item",children:[y.jsxs("div",{className:"meal-header",children:[y.jsxs("div",{className:"meal-info",children:[y.jsx("span",{className:"meal-icon",children:"🍱"}),y.jsx("span",{className:"meal-name",children:"昼食"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",checked:t.notifications.lunch.enabled,onChange:()=>a("lunch")}),y.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.lunch.enabled&&y.jsx("div",{className:"time-input-wrapper",children:y.jsx("input",{type:"time",value:t.notifications.lunch.time,onChange:l=>o("lunch",l.target.value),className:"time-input"})})]}),y.jsxs("div",{className:"meal-notification-item",children:[y.jsxs("div",{className:"meal-header",children:[y.jsxs("div",{className:"meal-info",children:[y.jsx("span",{className:"meal-icon",children:"🍽️"}),y.jsx("span",{className:"meal-name",children:"夕食"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",checked:t.notifications.dinner.enabled,onChange:()=>a("dinner")}),y.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.dinner.enabled&&y.jsx("div",{className:"time-input-wrapper",children:y.jsx("input",{type:"time",value:t.notifications.dinner.time,onChange:l=>o("dinner",l.target.value),className:"time-input"})})]})]})]})})}const ZX=async(t,e,n)=>{const r={uid:t,displayName:n,username:`user${t.slice(0,8)}`,email:e,bio:"",avatarUrl:"",coverUrl:"",websiteUrl:"",isPublic:!0,createdAt:new Date().toISOString(),stats:{postCount:0,followerCount:0,followingCount:0,recipeCount:0,likeCount:0}};await su(dt(Re,"users",t,"profile","data"),r),console.log("✅ User profile created:",t)},XM=async t=>{try{const e=await qf(dt(Re,"users",t,"profile","data"));return e.exists()?e.data():null}catch(e){throw console.error("Get profile error:",e),new Error("プロフィールの取得に失敗しました")}},JX=async(t,e)=>{try{await Bi(dt(Re,"users",t,"profile","data"),e),e.displayName&&nt.currentUser&&await pM(nt.currentUser,{displayName:e.displayName,photoURL:e.avatarUrl||nt.currentUser.photoURL}),console.log("✅ Profile updated:",t)}catch(n){throw console.error("Update profile error:",n),new Error("プロフィールの更新に失敗しました")}},eY=async(t,e)=>{try{const n=yt(Re,"users"),r=Vn(n),i=await pi(r);for(const a of i.docs){const o=dt(Re,"users",a.id,"profile","data"),l=await qf(o);if(l.exists()){const u=l.data();if(u.username===t&&u.uid!==e)return!1}}return!0}catch(n){return console.error("Username check error:",n),!1}},tY=t=>t.length<3||t.length>20?{valid:!1,error:"ユーザー名は3〜20文字で入力してください"}:/^[a-zA-Z0-9_]+$/.test(t)?/^[a-zA-Z]/.test(t)?{valid:!0}:{valid:!1,error:"ユーザー名は英字で始める必要があります"}:{valid:!1,error:"ユーザー名は英数字とアンダースコア(_)のみ使用できます"},pA=(t,e,n)=>new Promise((r,i)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=o=>{const l=new Image;l.src=o.target?.result,l.onload=()=>{const u=document.createElement("canvas");let f=l.width,d=l.height;f>d?f>e&&(d=d*e/f,f=e):d>n&&(f=f*n/d,d=n),u.width=f,u.height=d,u.getContext("2d")?.drawImage(l,0,0,f,d),u.toBlob(v=>{v?r(v):i(new Error("画像のリサイズに失敗しました"))},t.type)},l.onerror=()=>i(new Error("画像の読み込みに失敗しました"))},a.onerror=()=>i(new Error("ファイルの読み込みに失敗しました"))}),nY=async(t,e)=>{try{const n=await pA(e,512,512),r=fA(Am,`avatars/${t}/${Date.now()}_avatar.jpg`);await cA(r,n);const i=await uA(r);return console.log("✅ Avatar uploaded:",i),i}catch(n){throw console.error("Avatar upload error:",n),new Error("プロフィール画像のアップロードに失敗しました")}},rY=async(t,e)=>{try{const n=await pA(e,1200,400),r=fA(Am,`covers/${t}/${Date.now()}_cover.jpg`);await cA(r,n);const i=await uA(r);return console.log("✅ Cover uploaded:",i),i}catch(n){throw console.error("Cover upload error:",n),new Error("カバー画像のアップロードに失敗しました")}},iY=async(t,e)=>{try{const n=await pA(e,1080,1080),r=fA(Am,`posts/${t}/${Date.now()}_${e.name}`);await cA(r,n);const i=await uA(r);return console.log("✅ Post image uploaded:",i),i}catch(n){throw console.error("Post image upload error:",n),new Error("投稿画像のアップロードに失敗しました")}},JO=t=>t.size>10485760?{valid:!1,error:"画像サイズは10MB以下にしてください"}:["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)?{valid:!0}:{valid:!1,error:"対応している画像形式: JPEG, PNG, GIF, WebP"},aY=({onBack:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(""),[p,v]=T.useState(!0),[m,b]=T.useState(""),[w,A]=T.useState(""),[S,O]=T.useState(!1),[I,R]=T.useState(!1),[k,L]=T.useState(!1),[P,M]=T.useState(""),[j,z]=T.useState(""),U=T.useRef(null),H=T.useRef(null);T.useEffect(()=>{F()},[]);const F=async()=>{try{const re=nt.currentUser;if(!re)return;const de=await XM(re.uid);de&&(n(de),i(de.displayName),o(de.username),u(de.bio||""),d(de.websiteUrl||""),v(de.isPublic),b(de.avatarUrl||""),A(de.coverUrl||""))}catch(re){console.error("Load profile error:",re),M("プロフィールの読み込みに失敗しました")}},pe=async re=>{const de=re.target.files?.[0];if(!de)return;const we=JO(de);if(!we.valid){M(we.error||"");return}R(!0),M("");try{const ke=nt.currentUser;if(!ke)throw new Error("ログインが必要です");const G=await nY(ke.uid,de);b(G),z("アイコン画像をアップロードしました")}catch(ke){console.error("Avatar upload error:",ke),M(ke.message||"アイコン画像のアップロードに失敗しました")}finally{R(!1)}},_e=async re=>{const de=re.target.files?.[0];if(!de)return;const we=JO(de);if(!we.valid){M(we.error||"");return}L(!0),M("");try{const ke=nt.currentUser;if(!ke)throw new Error("ログインが必要です");const G=await rY(ke.uid,de);A(G),z("カバー画像をアップロードしました")}catch(ke){console.error("Cover upload error:",ke),M(ke.message||"カバー画像のアップロードに失敗しました")}finally{L(!1)}},X=async()=>{M(""),z(""),O(!0);try{const re=nt.currentUser;if(!re)throw new Error("ログインが必要です");if(!r.trim()){M("表示名を入力してください"),O(!1);return}const de=tY(a);if(!de.valid){M(de.error||""),O(!1);return}if(a!==e?.username&&!await eY(a,re.uid)){M("このユーザー名は既に使用されています"),O(!1);return}await JX(re.uid,{displayName:r.trim(),username:a,bio:l.trim(),websiteUrl:f.trim(),isPublic:p,avatarUrl:m,coverUrl:w}),z("プロフィールを更新しました！"),setTimeout(()=>z(""),3e3)}catch(re){console.error("Save profile error:",re),M(re.message||"プロフィールの更新に失敗しました")}finally{O(!1)}};return y.jsxs("div",{className:"profile-edit-screen",children:[y.jsxs("div",{className:"profile-edit-header",children:[y.jsxs("button",{onClick:t,className:"back-button",children:[y.jsx(Xv,{})," 戻る"]}),y.jsx("h2",{children:"プロフィール編集"}),y.jsxs("button",{onClick:X,className:"save-button",disabled:S,children:[y.jsx(tE,{})," ",S?"保存中...":"保存"]})]}),P&&y.jsx("div",{className:"error-message",children:P}),j&&y.jsx("div",{className:"success-message",children:j}),y.jsx("div",{className:"cover-section",children:y.jsxs("div",{className:"cover-image",style:{backgroundImage:w?`url(${w})`:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:[y.jsxs("button",{onClick:()=>H.current?.click(),className:"cover-upload-button",disabled:k,children:[y.jsx(Gh,{})," ",k?"アップロード中...":"カバー画像を変更"]}),y.jsx("input",{ref:H,type:"file",accept:"image/*",onChange:_e,style:{display:"none"}})]})}),y.jsx("div",{className:"avatar-section",children:y.jsxs("div",{className:"avatar-image",children:[m?y.jsx("img",{src:m,alt:"Avatar"}):y.jsx("div",{className:"avatar-placeholder",children:y.jsx(Wh,{size:60})}),y.jsx("button",{onClick:()=>U.current?.click(),className:"avatar-upload-button",disabled:I,children:y.jsx(Gh,{})}),y.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:pe,style:{display:"none"}})]})}),y.jsxs("div",{className:"profile-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(Wh,{})," 表示名"]}),y.jsx("input",{type:"text",value:r,onChange:re=>i(re.target.value),placeholder:"山田太郎",maxLength:50}),y.jsxs("span",{className:"char-count",children:[r.length,"/50"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(Kv,{})," ユーザー名"]}),y.jsxs("div",{className:"username-input",children:[y.jsx("span",{className:"username-prefix",children:"@"}),y.jsx("input",{type:"text",value:a,onChange:re=>o(re.target.value.toLowerCase()),placeholder:"yamada_taro",maxLength:20})]}),y.jsx("span",{className:"hint",children:"英数字とアンダースコア（_）のみ使用可能"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"自己紹介"}),y.jsx("textarea",{value:l,onChange:re=>u(re.target.value),placeholder:"あなたについて教えてください...",maxLength:200,rows:4}),y.jsxs("span",{className:"char-count",children:[l.length,"/200"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(yF,{})," WebサイトURL"]}),y.jsx("input",{type:"url",value:f,onChange:re=>d(re.target.value),placeholder:"https://example.com"})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{className:"toggle-label",children:[p?y.jsx(nD,{}):y.jsx(vl,{}),"プロフィールを公開する",y.jsx("input",{type:"checkbox",checked:p,onChange:re=>v(re.target.checked),className:"toggle-switch"})]}),y.jsx("span",{className:"hint",children:p?"誰でもあなたのプロフィールを閲覧できます":"フォロワーのみプロフィールを閲覧できます"})]})]}),y.jsx("style",{children:`
        .profile-edit-screen {
          min-height: 100vh;
          background: var(--background);
          padding-bottom: 80px;
        }

        .profile-edit-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: var(--card);
          border-bottom: 1px solid var(--border);
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .profile-edit-header h2 {
          color: var(--text);
          font-size: 20px;
          margin: 0;
        }

        .back-button,
        .save-button {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button {
          background: var(--background);
          color: var(--text);
        }

        .back-button:hover {
          background: var(--border);
        }

        .save-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .save-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .save-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .error-message {
          margin: 16px;
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .success-message {
          margin: 16px;
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .success-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .cover-section {
          position: relative;
        }

        .cover-image {
          width: 100%;
          height: 200px;
          background-size: cover;
          background-position: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .cover-upload-button {
          padding: 10px 20px;
          background: rgba(0, 0, 0, 0.6);
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .cover-upload-button:hover:not(:disabled) {
          background: rgba(0, 0, 0, 0.8);
        }

        .cover-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .avatar-section {
          display: flex;
          justify-content: center;
          margin-top: -60px;
          padding: 0 16px;
        }

        .avatar-image {
          position: relative;
          width: 120px;
          height: 120px;
          border-radius: 50%;
          border: 4px solid var(--card);
          background: var(--background);
          overflow: hidden;
        }

        .avatar-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .avatar-placeholder {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--text-secondary);
          background: var(--border);
        }

        .avatar-upload-button {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--primary);
          color: white;
          border: 2px solid var(--card);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
        }

        .avatar-upload-button:hover:not(:disabled) {
          transform: scale(1.1);
        }

        .avatar-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .profile-form {
          padding: 32px 16px;
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input,
        .form-group textarea {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .form-group textarea {
          resize: vertical;
          font-family: inherit;
        }

        .username-input {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .username-prefix {
          color: var(--text-secondary);
          font-size: 16px;
          font-weight: 500;
        }

        .username-input input {
          flex: 1;
        }

        .char-count,
        .hint {
          color: var(--text-secondary);
          font-size: 12px;
        }

        .toggle-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
        }

        .toggle-switch {
          margin-left: auto;
          width: 50px;
          height: 26px;
          appearance: none;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          cursor: pointer;
          transition: background 0.3s;
        }

        .toggle-switch:checked {
          background: var(--primary);
        }

        .toggle-switch::before {
          content: '';
          position: absolute;
          width: 22px;
          height: 22px;
          border-radius: 50%;
          background: white;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
        }

        .toggle-switch:checked::before {
          transform: translateX(24px);
        }

        @media (max-width: 480px) {
          .cover-image {
            height: 150px;
          }

          .avatar-image {
            width: 100px;
            height: 100px;
          }

          .profile-form {
            padding: 24px 12px;
          }
        }
      `})]})},oY=()=>{const{settings:t,updateSettings:e,toggleDarkMode:n}=ap(),{intakes:r}=Ao(),{expenses:i}=So(),{stocks:a}=To(),{user:o}=Mp(),[l,u]=T.useState((t.monthlyBudget??3e4).toString()),[f,d]=T.useState(!1),p=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},v=()=>{const w=["種類,名前,カロリー,金額,日付",...r.map(O=>`食事記録,${O.name},${O.calories},${O.price},${O.date}`)].join(`
`),A=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,S.click()},m=()=>{const w={intakes:r,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},A=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,S.click()},b=async()=>{if(window.confirm("ログアウトしますか？")){const w=await zX();w.error&&alert("ログアウトに失敗しました: "+w.error)}};return f?y.jsx(aY,{onBack:()=>d(!1)}):y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"設定"}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"プロフィール"}),y.jsxs("button",{className:"profile-edit-button",onClick:()=>d(!0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 16px",background:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",marginBottom:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx(Wh,{size:24,color:"var(--primary)"}),y.jsx("span",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"500"},children:"プロフィールを編集"})]}),y.jsx(eD,{size:24,color:"var(--text-secondary)"})]}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0"},children:"アイコン、名前、自己紹介などを編集"})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"月間予算"}),y.jsx("input",{type:"number",value:l,onChange:w=>u(w.target.value),placeholder:"30000"}),y.jsxs("button",{className:"submit",onClick:p,children:[y.jsx(tE,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"外観"}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-item-left",children:[y.jsx("div",{className:"setting-icon",children:y.jsx(_F,{size:24})}),y.jsx("span",{className:"setting-label",children:"ダークモード"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:n}),y.jsx("span",{className:"toggle-slider"})]})]})]}),y.jsx("div",{className:"card",children:y.jsx(QX,{})}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"データエクスポート"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("button",{className:"submit",onClick:v,style:{flex:1},children:[y.jsx(lF,{size:18,style:{marginRight:"8px"}}),"CSV"]}),y.jsxs("button",{className:"submit",onClick:m,style:{flex:1},children:[y.jsx(sF,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"データ統計"}),y.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[y.jsxs("p",{children:["食事記録: ",r.length,"件"]}),y.jsxs("p",{children:["支出記録: ",i.length,"件"]}),y.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"アカウント"}),y.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:y.jsxs("p",{children:["ログイン: ",o?.email]})}),y.jsxs("button",{className:"submit",onClick:b,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[y.jsx(dF,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},sY=()=>{const{addStock:t}=To(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,o]=T.useState("1"),l=()=>{if(!e||!r){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(r),quantity:Number(a)}),n(""),i(""),o("1"),alert("在庫を追加しました！")};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"手動で追加"}),y.jsx("label",{children:"品目"}),y.jsx("input",{value:e,onChange:u=>n(u.target.value),placeholder:"例: 牛乳"}),y.jsx("label",{children:"残り日数"}),y.jsx("input",{type:"number",value:r,onChange:u=>i(u.target.value),placeholder:"例: 3"}),y.jsx("label",{children:"数量"}),y.jsx("input",{type:"number",value:a,onChange:u=>o(u.target.value),placeholder:"1"}),y.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},lY=()=>{const{stocks:t,deleteStock:e}=To(),{addItem:n}=lu(),r=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,u)=>{n({name:l,quantity:u}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"在庫一覧"}),t.length===0?y.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>y.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&y.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),y.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:y.jsx(Wv,{size:20})}),y.jsx("button",{onClick:()=>r(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:y.jsx(Uf,{size:20})})]})]},l.id))})]})},cY=()=>{const{getExpiringStocks:t}=To(),{addItem:e}=lu(),n=T.useMemo(()=>t(0),[t]),r=T.useMemo(()=>t(1),[t]),i=()=>{const a=[...n,...r];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return n.length===0&&r.length===0?null:y.jsxs(y.Fragment,{children:[n.length>0&&y.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[y.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),y.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>y.jsx("li",{children:a.name},a.id))})]}),r.length>0&&y.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[y.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),y.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>y.jsx("li",{children:a.name},a.id))})]}),y.jsx("div",{className:"card",style:{padding:"12px"},children:y.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[y.jsx(Wv,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},uY=()=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"在庫管理"}),y.jsx(cY,{}),y.jsx(sY,{}),y.jsx(lY,{})]}),fY=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=lu(),{getExpiringStocks:n}=To(),r=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=n(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"🔰 初心者向けサポート"}),y.jsx("button",{className:"submit",onClick:r,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),y.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},dY=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function hY(t){const e=t.toLowerCase();for(const n of dY)for(const r of n.keywords)if(e.includes(r.toLowerCase()))return{type:"warning",category:n.category,reason:n.reason,alternatives:n.alternatives};return null}async function pY(t,e){try{const n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!n.ok)throw new Error("AI分析に失敗しました");const i=(await n.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(n){return console.error("AI健康分析エラー:",n),null}}const gY=({productName:t,warning:e,onClose:n,onAddAlternative:r,onContinueAnyway:i})=>{const[a,o]=T.useState(!1),[l,u]=T.useState(null),[f,d]=T.useState(!1),p=async()=>{d(!0);const b=await pY(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");u(b),o(!0),d(!1)},v=a&&l?l:e;return y.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:y.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[y.jsx("button",{onClick:n,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:y.jsx(yf,{size:24})}),y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[y.jsx(ZN,{size:32,color:"#f59e0b"}),y.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),y.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",y.jsx("strong",{children:t}),"」について"]})]}),y.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[y.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),y.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(uF,{size:20,color:"#10b981"}),"より健康的な代替案"]}),y.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,b)=>y.jsxs("button",{onClick:()=>r(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},b))})]}),!a&&y.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[y.jsx(Og,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),y.jsxs("div",{style:{display:"grid",gap:"8px"},children:[y.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),y.jsx("button",{onClick:n,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},vY=()=>{const{addItem:t}=lu(),[e,n]=T.useState(""),[r,i]=T.useState("1"),[a,o]=T.useState(null),[l,u]=T.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const b=hY(e);if(b){o(b),u({name:e,quantity:Number(r)});return}d(e,Number(r))},d=(b,w)=>{t({name:b,quantity:w}),n(""),i("1")},p=()=>{o(null),u(null)},v=b=>{l&&d(b,l.quantity),p()},m=()=>{l&&d(l.name,l.quantity),p()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"手動で追加"}),y.jsx("label",{children:"商品名"}),y.jsx("input",{value:e,onChange:b=>n(b.target.value),placeholder:"例: 牛乳",onKeyDown:b=>b.key==="Enter"&&f()}),y.jsx("label",{children:"数量"}),y.jsx("input",{type:"number",value:r,onChange:b=>i(b.target.value),placeholder:"1"}),y.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&y.jsx(gY,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},mY=()=>{const{items:t,toggleItem:e,deleteItem:n,clearCompleted:r}=lu(),{addStock:i}=To(),[a,o]=T.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&r()},u=()=>{const f=t.filter(d=>d.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(d=>{i({name:d.name,quantity:d.quantity,daysRemaining:7})}),r(),o(!0),setTimeout(()=>{o(!1)},3e3))};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"買い物リスト"}),t.length===0?y.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):y.jsxs(y.Fragment,{children:[y.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>y.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[y.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),y.jsx("div",{style:{flex:1},children:y.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&y.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),y.jsx("button",{onClick:()=>n(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:y.jsx(Uf,{size:20})})]},f.id))}),t.some(f=>f.checked)&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[y.jsx(mf,{size:20}),y.jsx("span",{children:"買い物完了後はこちら！"})]}),y.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",y.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),y.jsxs("button",{className:"submit",onClick:u,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[y.jsx(mf,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),y.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&y.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[y.jsx(Gv,{size:28}),y.jsx("span",{children:"在庫に追加しました！"})]})]})]})},yY=()=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"買い物リスト"}),y.jsx(fY,{}),y.jsx(vY,{}),y.jsx(mY,{})]}),pf="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",YM=pf!=="YOUR_GEMINI_API_KEY_HERE";let Ju=[];function gA(t){const e=Date.now();Ju.push({type:t,timestamp:e}),Ju=Ju.filter(a=>e-a.timestamp<6e4);const n=Ju.filter(a=>a.type==="recipe").length,r=Ju.filter(a=>a.type==="receipt").length,i=Ju.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${n}回`),console.log(`  - レシートOCR: ${r}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function xY(t,e="none",n="none",r=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:n,customRequest:r,API_ENABLED:YM,apiKeyPrefix:pf.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";n==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:n==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:n==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:n==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=r?`

**追加のリクエスト**: ${r}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),u=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${pf}`;gA("recipe"),console.log("[Gemini] APIリクエスト送信",{url:u.replace(pf,"HIDDEN")});const f=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const d=await f.json();if(console.log("[Gemini] レスポンスデータ",d),d.candidates&&d.candidates.length>0){const p=d.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",d),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),wY(t,e,n)}}async function _Y(t){console.log("[Gemini Text] テキスト生成開始");try{const e=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${pf}`;gA("recipe"),console.log("[Gemini Text] APIリクエスト送信");const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(console.log("[Gemini Text] APIレスポンス受信",{status:n.status}),!n.ok){const i=await n.text();throw console.error("[Gemini Text] APIエラー",i),new Error(`Gemini API エラー: ${n.status}`)}const r=await n.json();if(console.log("[Gemini Text] レスポンスデータ受信"),r.candidates&&r.candidates.length>0){const i=r.candidates[0];if(i.content?.parts&&i.content.parts.length>0){const a=i.content.parts[0].text.trim();return console.log("[Gemini Text] テキスト生成成功"),a}}throw new Error("テキストを生成できませんでした")}catch(e){throw console.error("[Gemini Text] エラー:",e),e}}const bY=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];e(a)},r.onerror=n,r.readAsDataURL(t)});let e6=0;const t6=5e3;async function n6(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:YM});const e=Date.now(),n=e-e6;if(n<t6){const r=Math.ceil((t6-n)/1e3);throw new Error(`レート制限: ${r}秒後に再試行してください`)}try{e6=e;const r=await bY(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${pf}`;gA("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:r}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const u=await o.text();throw console.error("[Gemini Receipt] APIエラー",u),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const u=l.candidates[0];if(u.content?.parts&&u.content.parts.length>0){const f=u.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let d=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)d=p[1];else if(f.includes("```")){const b=f.match(/```\s*([\s\S]*?)\s*```/);b&&(d=b[1])}const v=JSON.parse(d),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(r){throw console.error("[Gemini Receipt] エラー:",r),r}}function wY(t,e,n="none"){const r=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=n==="super_easy"?"（超簡単）":n==="under_5min"?"（5分）":n==="under_10min"?"（10分）":n==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${r}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function Sm(t){return Se({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const EY=({onRecipeGenerated:t,isLoading:e,setIsLoading:n})=>{const{stocks:r}=To(),{addToHistory:i}=Dp(),[a,o]=T.useState(""),[l,u]=T.useState("none"),[f,d]=T.useState("none"),[p,v]=T.useState(""),m=[{value:"none",label:"指定なし",icon:y.jsx(Og,{size:16})},{value:"super_easy",label:"超簡単",icon:y.jsx(Hv,{size:16})},{value:"under_5min",label:"5分以内",icon:y.jsx($v,{size:16})},{value:"under_10min",label:"10分以内",icon:y.jsx(zv,{size:16})},{value:"no_fire",label:"火を使わない",icon:y.jsx(Sm,{size:16})}],b=[{value:"none",label:"指定なし",icon:y.jsx(Rg,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:y.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:y.jsx("span",{children:"🌱"})}],w=()=>{const S=r.filter(O=>O.quantity>0).map(O=>O.name).slice(0,10).join(", ");o(S)},A=async()=>{if(!a.trim()){alert("材料を入力してください");return}n(!0);try{const S=a.split(/[,、]/).map(R=>R.trim()).filter(R=>R.length>0),O=await xY(S,f,l,p),I={id:ml(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:O,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(I),t(I)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{n(!1)}};return y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(Rg,{size:20}),"レシピを生成"]}),y.jsx("label",{children:"材料（カンマ区切り）"}),y.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),y.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[y.jsx(mf,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),y.jsx("label",{children:"難易度"}),y.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>y.jsx("button",{onClick:()=>u(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:y.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),y.jsx("label",{children:"食事制限"}),y.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:b.map(S=>y.jsx("button",{onClick:()=>d(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:y.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),y.jsx("label",{children:"カスタムリクエスト（任意）"}),y.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),y.jsxs("button",{className:"submit",onClick:A,disabled:e,children:[y.jsx(Og,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},AY=({recipe:t})=>{const{addToHistory:e,addToFavorites:n,removeFromFavorites:r,favoriteRecipes:i}=Dp(),{addStock:a}=To(),{addItem:o}=lu(),l=i.some(p=>p.id===t.id),u=()=>{l?r(t.id):(n(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},d=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[y.jsx("h3",{children:t.title}),y.jsx("button",{onClick:u,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?y.jsx(yb,{size:28}):y.jsx(DF,{size:28})})]}),y.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&y.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:y.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:y.jsxs(y.Fragment,{children:[y.jsx(Hv,{size:14})," 超簡単"]}),under_5min:y.jsxs(y.Fragment,{children:[y.jsx($v,{size:14})," 5分以内"]}),under_10min:y.jsxs(y.Fragment,{children:[y.jsx(zv,{size:14})," 10分以内"]}),no_fire:y.jsxs(y.Fragment,{children:[y.jsx(Sm,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&y.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),y.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[y.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(mf,{size:18})," 在庫に追加"]}),y.jsxs("button",{onClick:d,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(Wv,{size:18})," 買い物リストへ"]})]})]})},SY=({onRecipeSelect:t})=>{const{recipeHistory:e}=Dp();if(e.length===0)return null;const n=r=>{const i=new Date(r),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:u<24?`${u}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(cF,{size:20}),"レシピ履歴"]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>y.jsxs("div",{onClick:()=>t(r.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[y.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:r.recipe.title}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:n(r.generatedAt)})]}),y.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[r.recipe.ingredients&&r.recipe.ingredients.slice(0,3).map((i,a)=>y.jsxs("span",{children:[i,a<Math.min((r.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),r.recipe.ingredients&&r.recipe.ingredients.length>3&&y.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",r.recipe.ingredients.length-3,"個"]})]}),(r.recipe.difficulty!=="none"||r.recipe.dietaryRestriction!=="none")&&y.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[r.recipe.difficulty&&r.recipe.difficulty!=="none"&&y.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:y.jsx(Hv,{size:12}),under_5min:y.jsx($v,{size:12}),under_10min:y.jsx(zv,{size:12}),no_fire:y.jsx(Sm,{size:12}),none:""}[r.recipe.difficulty]}),r.recipe.dietaryRestriction&&r.recipe.dietaryRestriction!=="none"&&y.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[r.recipe.dietaryRestriction]})]})]},r.id))})]})},TY=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:n}=Dp();if(e.length===0)return null;const r=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&n(a)};return y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(yb,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>y.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[y.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),y.jsx("button",{onClick:a=>r(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:y.jsx(yb,{size:24})})]}),y.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[y.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>y.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&y.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&y.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&y.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:y.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:y.jsxs(y.Fragment,{children:[y.jsx(Hv,{size:14})," 超簡単"]}),under_5min:y.jsxs(y.Fragment,{children:[y.jsx($v,{size:14})," 5分以内"]}),under_10min:y.jsxs(y.Fragment,{children:[y.jsx(zv,{size:14})," 10分以内"]}),no_fire:y.jsxs(y.Fragment,{children:[y.jsx(Sm,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&y.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&y.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[y.jsx(vF,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},CY=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!1);return y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"AIレシピ生成"}),y.jsx(EY,{onRecipeGenerated:e,isLoading:n,setIsLoading:r}),n&&y.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[y.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:y.jsx(Rg,{size:48})}),y.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),y.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!n&&y.jsx(AY,{recipe:t}),y.jsx(SY,{onRecipeSelect:e}),y.jsx(TY,{onRecipeSelect:e})]})};function IY(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function OY(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var RY=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),PY=(function(t){RY(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),IY(a,i.prototype),OY(a),a}return e})(Error),NY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gi=(function(t){NY(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(PY),DY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ra=(function(t){DY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(gi),MY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Le=(function(t){MY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(gi),kY=(function(){function t(e){if(this.binarizer=e,e===null)throw new Le("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var a=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),jY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ur=(function(t){jY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(gi),LY=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Wt=(function(){function t(){}return t.arraycopy=function(e,n,r,i,a){for(;a--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),BY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vA=(function(t){BY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(gi),UY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),r6=(function(t){UY(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(vA),FY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var a=n;a<r;a++)e[a]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new Le("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new r6(n);if(r>e)throw new r6(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var a=FY(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,a=new Int32Array(i);return Wt.arraycopy(e,n,a,0,i),a},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=r(n,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,n){return e-n},t})(),Qe=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),fr=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);Wt.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=r[i]}var l=i*32+Qe.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=~r[i]}var l=i*32+Qe.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new Le;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,o=r;o<=i;o++){var l=o>r?0:e&31,u=o<i?31:n&31,f=(2<<u)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new Le;if(n===e)return!0;n--;for(var i=Math.floor(e/32),a=Math.floor(n/32),o=this.bits,l=i;l<=a;l++){var u=l>i?0:e&31,f=l<a?31:n&31,d=(2<<f)-(1<<u)&4294967295;if((o[l]&d)!==(r?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new Le("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Le("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;n[r+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[n-a]=o}if(this.size!==r*32){for(var l=r*32-this.size,u=e[0]>>>l,a=1;a<r;a++){var f=e[a];u|=f<<32-l,e[a-1]=u,u=f>>>l}e[r-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Qn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Qn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),Wb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Wb||(Wb={}));const an=Wb;var VY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),me=(function(t){VY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(gi),zY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Nt||(Nt={}));var Yn=(function(){function t(e,n,r){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,f=0,d=u.length;f!==d;f++){var p=u[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=zY(o),m=v.next();!m.done;m=v.next()){var b=m.value;t.NAME_TO_ECI.set(b,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Nt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Nt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Nt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Nt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Nt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Nt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Nt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Nt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Nt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Nt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Nt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Nt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Nt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Nt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Nt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Nt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Nt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Nt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Nt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Nt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Nt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Nt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Nt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Nt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Nt.Big5,28,"Big5"),t.GB18030=new t(Nt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Nt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),HY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bg=(function(t){HY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(gi),ua=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Yn?e:Yn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(r.equals(Yn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new bg("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Yn.UTF8)||e.equals(Yn.ISO8859_1)||e.equals(Yn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},t})(),ft=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return ua.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(an.CHARACTER_SET)!==void 0)return n.get(an.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,l=0,u=0,f=0,d=0,p=0,v=0,m=0,b=0,w=0,A=0,S=0,O=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<r&&(i||a||o);I++){var R=e[I]&255;o&&(l>0?(R&128)===0?o=!1:l--:(R&128)!==0&&((R&64)===0?o=!1:(l++,(R&32)===0?u++:(l++,(R&16)===0?f++:(l++,(R&8)===0?d++:o=!1))))),i&&(R>127&&R<160?i=!1:R>159&&(R<192||R===215||R===247)&&S++),a&&(p>0?R<64||R===127||R>252?a=!1:p--:R===128||R===160||R>239?a=!1:R>160&&R<224?(v++,b=0,m++,m>w&&(w=m)):R>127?(p++,m=0,b++,b>A&&(A=b)):(m=0,b=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(O||u+f+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||A>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function a(l,u,f,d,p,v){if(l==="%%")return"%";if(n[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,b;switch(v){case"s":b=n[i];break;case"c":b=n[i][0];break;case"f":b=parseFloat(n[i]).toFixed(l);break;case"p":b=parseFloat(n[i]).toPrecision(l);break;case"e":b=parseFloat(n[i]).toExponential(l);break;case"x":b=parseInt(n[i]).toString(m||16);break;case"d":b=parseFloat(parseInt(n[i],m||10).toPrecision(l)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(m);for(var w=parseInt(f),A=f&&f[0]+""=="0"?"0":" ";b.length<w;)b=u!==void 0?b+A:A+b;return b}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,n){return ua.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Yn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Yn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Yn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Ye=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),xo=(function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new Le("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),a=0;a<n;a++)for(var o=e[a],l=0;l<r;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,n,r){if(e===null)throw new Le("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Le("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new Le("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Le("row lengths do not match");u++}for(var d=new t(l,u),p=0;p<a;p++)i[p]&&d.set(Math.floor(p%l),Math.floor(p/l));return d},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Le("input matrix dimensions do not match");for(var n=new fr(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*r,u=e.getRow(a,n).getBitArray(),f=0;f<r;f++)i[l+f]^=u[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new Le("Left and top must be nonnegative");if(i<1||r<1)throw new Le("Height and width must be at least 1");var a=e+r,o=n+i;if(o>this.height||a>this.width)throw new Le("The region must fit inside the matrix");for(var l=this.rowSize,u=this.bits,f=n;f<o;f++)for(var d=f*l,p=e;p<a;p++)u[d+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new fr(this.width):n.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)n.setBulk(o*32,i[a+o]);return n},t.prototype.setRow=function(e,n){Wt.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new fr(e),i=new fr(e),a=0,o=Math.floor((n+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(n-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(n-1-a,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,a=e,o=n,l=-1,u=-1,f=0;f<n;f++)for(var d=0;d<r;d++){var p=i[f*r+d];if(p!==0){if(f<o&&(o=f),f>u&&(u=f),d*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;d*32+v<a&&(a=d*32+v)}if(d*32+31>l){for(var v=31;!(p>>>v);)v--;d*32+v>l&&(l=d*32+v)}}}return l<a||u<o?null:Int32Array.from([a,o,l-a+1,u-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,a=r%e*32,o=n[r],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=n[r],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Qn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Qn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new Ye,a=0,o=this.height;a<o;a++){for(var l=0,u=this.width;l<u;l++)i.append(this.get(l,a)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),$Y=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oe=(function(t){$Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(gi),qY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),GY=(function(t){qY(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new fr(a):r.clear(),this.initArrays(a);for(var o=i.getRow(n,this.luminances),l=this.buckets,u=0;u<a;u++)l[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&r.set(u);else for(var d=o[0]&255,p=o[1]&255,u=1;u<a-1;u++){var v=o[u+1]&255;(p*4-d-v)/2<f&&r.set(u),d=p,p=v}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),a=new xo(r,i);this.initArrays(r);for(var o=this.buckets,l=1;l<5;l++)for(var u=Math.floor(i*l/5),f=n.getRow(u,this.luminances),d=Math.floor(r*4/5),p=Math.floor(r/5);p<d;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),b=n.getMatrix(),l=0;l<i;l++)for(var w=l*r,p=0;p<r;p++){var v=b[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,a=0,o=0,l=0;l<r;l++)n[l]>o&&(a=l,o=n[l]),n[l]>i&&(i=n[l]);for(var u=0,f=0,l=0;l<r;l++){var d=l-a,p=n[l]*d*d;p>f&&(u=l,f=p)}if(a>u){var v=a;a=u,u=v}if(u-a<=r/16)throw new oe;for(var m=u-1,b=-1,l=u-1;l>a;l--){var w=l-a,p=w*w*(u-l)*(i-n[l]);p>b&&(m=l,b=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(LY),WY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),KY=(function(t){WY(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=n.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var u=e.calculateBlackPoints(a,o,l,r,i),f=new xo(r,i);e.calculateThresholdForBlock(a,o,l,r,i,u,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,a,o,l,u){for(var f=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),b=0;b<r;b++){var w=b<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var A=e.cap(b,2,r-3),S=0,O=-2;O<=2;O++){var I=l[m+O];S+=I[A-2]+I[A-1]+I[A]+I[A+1]+I[A+2]}var R=S/25;e.thresholdBlock(n,w,v,R,a,u)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,a,o,l){for(var u=0,f=i*o+r;u<e.BLOCK_SIZE;u++,f+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(n[f+d]&255)<=a&&l.set(r+d,i+u)},e.calculateBlackPoints=function(n,r,i,a,o){for(var l=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),d=0;d<i;d++){f[d]=new Int32Array(r);var p=d<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<r;v++){var m=v<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var b=0,w=255,A=0,S=0,O=p*a+m;S<e.BLOCK_SIZE;S++,O+=a){for(var I=0;I<e.BLOCK_SIZE;I++){var R=n[O+I]&255;b+=R,R<w&&(w=R),R>A&&(A=R)}if(A-w>e.MIN_DYNAMIC_RANGE)for(S++,O+=a;S<e.BLOCK_SIZE;S++,O+=a)for(var I=0;I<e.BLOCK_SIZE;I++)b+=n[O+I]&255}var k=b>>e.BLOCK_SIZE_POWER*2;if(A-w<=e.MIN_DYNAMIC_RANGE&&(k=w/2,d>0&&v>0)){var L=(f[d-1][v]+2*f[d][v-1]+f[d-1][v-1])/4;w<L&&(k=L)}f[d][v]=k}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(GY),Tm=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new bg("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new bg("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new bg("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Ye,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},t})(),XY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mA=(function(t){XY(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(n[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,a){return new e(this.delegate.crop(n,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Tm),YY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QY=(function(t){YY(e,t);function e(n,r){r===void 0&&(r=!1);var i=t.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,r),i}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,u=0,f=n.length;l<f;l+=4,u++){var d=void 0,p=n[l+3];if(p===0)d=255;else{var v=n[l],m=n[l+1],b=n[l+2];d=306*v+601*m+117*b+512>>10}o[u]=d}else for(var l=0,u=0,w=n.length;l<w;l+=4,u++){var d=void 0,p=n[l+3];if(p===0)d=255;else{var v=n[l],m=n[l+1],b=n[l+2];d=306*v+601*m+117*b+512>>10}o[u]=255-d}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Le("Requested row is outside the image: "+n);var i=this.getWidth(),a=n*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return t.prototype.crop.call(this,n,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return r.width=u,r.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new mA(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Tm),ZY=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Wr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{f(r.next(d))}catch(p){o(p)}}function u(d){try{f(r.throw(d))}catch(p){o(p)}}function f(d){d.done?a(d.value):i(d.value).then(l,u)}f((r=r.apply(t,e||[])).next())})},Kr=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},JY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Wr(this,void 0,void 0,function(){var e,n,r,i,a,o,l,u,f,d,p,v;return Kr(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),n=[];try{for(r=JY(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,u=a.label||"Video device "+(n.length+1),f=a.groupId,d={deviceId:l,label:u,kind:o,groupId:f},n.push(d))}catch(b){p={error:b}}finally{try{i&&!i.done&&(v=r.return)&&v.call(r)}finally{if(p)throw p.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return Wr(this,void 0,void 0,function(){var e;return Kr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new ZY(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return Wr(this,void 0,void 0,function(){var n;return Kr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return Wr(this,void 0,void 0,function(){return Kr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return Wr(this,void 0,void 0,function(){var r,i;return Kr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return Wr(this,void 0,void 0,function(){var r;return Kr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return Wr(this,void 0,void 0,function(){var r,i;return Kr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return Wr(this,void 0,void 0,function(){return Kr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return Wr(this,void 0,void 0,function(){var i,a;return Kr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return Wr(this,void 0,void 0,function(){var i;return Kr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return Wr(this,void 0,void 0,function(){var i;return Kr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return Wr(this,void 0,void 0,function(){var r;return Kr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Wr(this,void 0,void 0,function(){return Kr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new Ra("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new Ra("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new Ra("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new Ra("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new Ra("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ra("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ra("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ra("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ra("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new Ra("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Wr(this,void 0,void 0,function(){return Kr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return Wr(this,void 0,void 0,function(){return Kr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(v){var f=n&&v instanceof oe,d=v instanceof ur||v instanceof me,p=d&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);n(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(u){n(null,u);var o=u instanceof ur||u instanceof me,l=u instanceof oe;(o||l)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new QY(r,n),a=new KY(i);return new kY(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),zr=(function(){function t(e,n,r,i,a,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=Wt.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Wt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);Wt.arraycopy(n,0,r,0,n.length),Wt.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Kb;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Kb||(Kb={}));const je=Kb;var Xb;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Xb||(Xb={}));const Ir=Xb;var Cm=(function(){function t(e,n,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Ph=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Le;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),wl=(function(){function t(e,n){if(n.length===0)throw new Le;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Wt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,a=n.length;i!==a;i++){var o=n[i];r=Ph.addOrSubtract(r,o)}return r}r=n[0];for(var l=n.length,u=this.field,i=1;i<l;i++)r=Ph.addOrSubtract(u.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;Wt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=Ph.addOrSubtract(n[l-o],r[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=this.field,u=0;u<r;u++)for(var f=n[u],d=0;d<a;d++)o[u+d]=Ph.addOrSubtract(o[u+d],l.multiply(f,i[d]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),a=this.coefficients,o=0;o<n;o++)i[o]=r.multiply(a[o],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Le;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(r[l],n);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Le("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Le("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=n.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),u=n.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,u),d=n.buildMonomial(l,u);r=r.addOrSubtract(d),i=i.addOrSubtract(f)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),eQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QM=(function(t){eQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(gi),tQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fi=(function(t){tQ(e,t);function e(n,r,i){var a=t.call(this)||this;a.primitive=n,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),l=1,u=0;u<r;u++)o[u]=l,l*=2,l>=r&&(l^=n,l&=r-1);a.expTable=o;for(var f=new Int32Array(r),u=0;u<r-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new wl(a,Int32Array.from([0])),a.one=new wl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Le;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new wl(this,i)},e.prototype.inverse=function(n){if(n===0)throw new QM;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Ph),nQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),V1=(function(t){nQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(gi),rQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kp=(function(t){rQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(gi),Im=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new wl(r,e),a=new Int32Array(n),o=!0,l=0;l<n;l++){var u=i.evaluateAt(r.exp(l+r.getGeneratorBase()));a[a.length-1-l]=u,u!==0&&(o=!1)}if(!o)for(var f=new wl(r,a),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),p=d[0],v=d[1],m=this.findErrorLocations(p),b=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-r.log(m[l]);if(w<0)throw new V1("Bad error location");e[w]=fi.addOrSubtract(e[w],b[l])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=this.field,o=e,l=n,u=a.getZero(),f=a.getOne();l.getDegree()>=(r/2|0);){var d=o,p=u;if(o=l,u=f,o.isZero())throw new V1("r_{i-1} was zero");l=d;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),b=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),A=a.multiply(l.getCoefficient(l.getDegree()),b);v=v.addOrSubtract(a.buildMonomial(w,A)),l=l.addOrSubtract(o.multiplyByMonomial(w,A))}if(f=v.multiply(u).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new kp("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new V1("sigmaTilde(0) was zero");var O=a.inverse(S),I=f.multiplyScalar(O),R=l.multiplyScalar(O);return[I,R]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,a=this.field,o=1;o<a.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==n)throw new V1("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var l=a.inverse(n[o]),u=1,f=0;f<r;f++)if(o!==f){var d=a.multiply(n[f],l),p=(d&1)===0?d|1:d&-2;u=a.multiply(u,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),wr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(wr||(wr={}));var i6=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Cm(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=wr.UPPER,i=wr.UPPER,a="",o=0;o<n;)if(i===wr.BINARY){if(n-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(n-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var u=0;u<l;u++){if(n-o<8){o=n;break}var f=t.readCode(e,o,8);a+=ft.castAsNonUtf8Char(f),o+=8}i=r}else{var d=i===wr.DIGIT?4:5;if(n-o<d)break;var f=t.readCode(e,o,d);o+=d;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},t.getTable=function(e){switch(e){case"L":return wr.LOWER;case"P":return wr.PUNCT;case"M":return wr.MIXED;case"D":return wr.DIGIT;case"B":return wr.BINARY;case"U":default:return wr.UPPER}},t.getCharacter=function(e,n){switch(e){case wr.UPPER:return t.UPPER_TABLE[n];case wr.LOWER:return t.LOWER_TABLE[n];case wr.MIXED:return t.MIXED_TABLE[n];case wr.PUNCT:return t.PUNCT_TABLE[n];case wr.DIGIT:return t.DIGIT_TABLE[n];default:throw new kp("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=fi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=fi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=fi.AZTEC_DATA_10):(r=12,n=fi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new me;for(var o=e.length%r,l=new Int32Array(a),u=0;u<a;u++,o+=r)l[u]=t.readCode(e,o,r);try{var f=new Im(n);f.decode(l,a-i)}catch(A){throw new me(A)}for(var d=(1<<r)-1,p=0,u=0;u<i;u++){var v=l[u];if(v===0||v===d)throw new me;(v===1||v===d-1)&&p++}for(var m=new Array(i*r-p),b=0,u=0;u<i;u++){var v=l[u];if(v===1||v===d-1)m.fill(v>1,b,b+r-1),b+=r-1;else for(var w=r-1;w>=0;--w)m[b++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var l=0;l<a.length;l++)a[l]=l;else for(var u=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),f=i/2,d=Qe.truncDivision(u,2),l=0;l<f;l++){var p=l+Qe.truncDivision(l,15);a[f-l-1]=d-p-1,a[f+l]=d+p+1}for(var l=0,v=0;l<r;l++){for(var m=(r-l)*4+(n?9:12),b=l*2,w=i-1-b,A=0;A<m;A++)for(var S=A*2,O=0;O<2;O++)o[v+S+O]=e.get(a[b+O],a[b+A]),o[v+2*m+S+O]=e.get(a[b+A],a[w-O]),o[v+4*m+S+O]=e.get(a[w-O],a[w-A]),o[v+6*m+S+O]=e.get(a[w-A],a[b+O]);v+=m*8}return o},t.readCode=function(e,n,r){for(var i=0,a=n;a<n+r;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),mt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var a=e-r,o=n-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var a=e[r];n+=a}return n},t})(),Yb=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ce=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*Yb.floatToIntBits(this.x)+Yb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(r>=n&&r>=i?(o=e[0],a=e[1],l=e[2]):i>=r&&i>=n?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var u=a;a=l,l=u}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,n){return mt.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,a=n.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},t})(),yA=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),iQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aQ=(function(t){iQ(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(yA),Qb=(function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=n/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,u=!1,f=!1,d=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var b=!0;(b||!u)&&n<v;)b=this.containsBlackPoint(r,i,n,!1),b?(n++,o=!0,u=!0):u||n++;if(n>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,n,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var A=!0;(A||!d)&&e>=0;)A=this.containsBlackPoint(r,i,e,!1),A?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&r>=0;)S=this.containsBlackPoint(e,n,r,!0),S?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var O=n-e,I=null,R=1;I===null&&R<O;R++)I=this.getBlackPointOnSegment(e,i-R,e+R,i);if(I==null)throw new oe;for(var k=null,R=1;k===null&&R<O;R++)k=this.getBlackPointOnSegment(e,r+R,e+R,r);if(k==null)throw new oe;for(var L=null,R=1;L===null&&R<O;R++)L=this.getBlackPointOnSegment(n,r+R,n-R,r);if(L==null)throw new oe;for(var P=null,R=1;P===null&&R<O;R++)P=this.getBlackPointOnSegment(n,i-R,n-R,i);if(P==null)throw new oe;return this.centerEdges(P,I,L,k)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var a=mt.round(mt.distance(e,n,r,i)),o=(r-e)/a,l=(i-n)/a,u=this.image,f=0;f<a;f++){var d=mt.round(e+f*o),p=mt.round(n+f*l);if(u.get(d,p))return new Ce(d,p)}return null},t.prototype.centerEdges=function(e,n,r,i){var a=e.getX(),o=e.getY(),l=n.getX(),u=n.getY(),f=r.getX(),d=r.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Ce(p-m,v+m),new Ce(l+m,u+m),new Ce(f-m,d-m),new Ce(a+m,o-m)]:[new Ce(p+m,v+m),new Ce(l+m,u-m),new Ce(f-m,d+m),new Ce(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,n,r,i){var a=this.image;if(i){for(var o=e;o<=n;o++)if(a.get(o,r))return!0}else for(var l=e;l<=n;l++)if(a.get(r,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),a6=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<n.length&&a;o+=2){var l=Math.floor(n[o]),u=Math.floor(n[o+1]);if(l<-1||l>r||u<-1||u>i)throw new oe;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),u===-1?(n[o+1]=0,a=!0):u===i&&(n[o+1]=i-1,a=!0)}a=!0;for(var o=n.length-2;o>=0&&a;o-=2){var l=Math.floor(n[o]),u=Math.floor(n[o+1]);if(l<-1||l>r||u<-1||u>i)throw new oe;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),u===-1?(n[o+1]=0,a=!0):u===i&&(n[o+1]=i-1,a=!0)}},t})(),ZM=(function(){function t(e,n,r,i,a,o,l,u,f){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=u,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,i,a,o,l,u,f,d,p,v,m,b,w,A){var S=t.quadrilateralToSquare(e,n,r,i,a,o,l,u),O=t.squareToQuadrilateral(f,d,p,v,m,b,w,A);return O.times(S)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,u=this.a23,f=this.a31,d=this.a32,p=this.a33,v=0;v<n;v+=2){var m=e[v],b=e[v+1],w=a*m+u*b+p;e[v]=(r*m+o*b+f)/w,e[v+1]=(i*m+l*b+d)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,u=this.a23,f=this.a31,d=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var b=e[m],w=n[m],A=a*b+u*w+p;e[m]=(r*b+o*w+f)/A,n[m]=(i*b+l*w+d)/A}},t.squareToQuadrilateral=function(e,n,r,i,a,o,l,u){var f=e-r+a-l,d=n-i+o-u;if(f===0&&d===0)return new t(r-e,a-r,e,i-n,o-i,n,0,0,1);var p=r-a,v=l-a,m=i-o,b=u-o,w=p*b-v*m,A=(f*b-v*d)/w,S=(p*d-f*m)/w;return new t(r-e+A*r,l-e+S*l,e,i-n+A*i,u-n+S*u,n,A,S,1)},t.quadrilateralToSquare=function(e,n,r,i,a,o,l,u){return t.squareToQuadrilateral(e,n,r,i,a,o,l,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),oQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sQ=(function(t){oQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,a,o,l,u,f,d,p,v,m,b,w,A,S,O,I,R){var k=ZM.quadrilateralToQuadrilateral(a,o,l,u,f,d,p,v,m,b,w,A,S,O,I,R);return this.sampleGridWithTransform(n,r,i,k)},e.prototype.sampleGridWithTransform=function(n,r,i,a){if(r<=0||i<=0)throw new oe;for(var o=new xo(r,i),l=new Float32Array(2*r),u=0;u<i;u++){for(var f=l.length,d=u+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=d;a.transformPoints(l),a6.checkAndNudgePoints(n,l);try{for(var p=0;p<f;p+=2)n.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,u)}catch{throw new oe}}return o},e})(a6),xA=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new sQ,t})(),si=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Ce(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),lQ=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new aQ(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(a,o,l){var u=(a>>n-2<<1)+(a&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),l=r-1;l>=0;--l)o[l]=e&15,e>>=4;try{var u=new Im(fi.AZTEC_PARAM);u.decode(o,a)}catch{throw new oe}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,o,1,-1),u=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,u,f,d))break}n=l,r=u,i=f,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var v=new Ce(n.getX()+.5,n.getY()-.5),m=new Ce(r.getX()+.5,r.getY()+.5),b=new Ce(i.getX()-.5,i.getY()+.5),w=new Ce(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var a=new Qb(this.image).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new si(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new si(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new si(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new si(o-7,l-7),!1,-1,-1).toResultPoint()}var u=mt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=mt.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var a=new Qb(this.image,15,u,f).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new si(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new si(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new si(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new si(u-7,f-7),!1,-1,-1).toResultPoint()}return u=mt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=mt.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new si(u,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,a){var o=xA.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,u,u,f,u,f,f,u,f,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,a=this.distanceResultPoint(e,n),o=a/r,l=e.getX(),u=e.getY(),f=o*(n.getX()-e.getX())/a,d=o*(n.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(mt.round(l+p*f),mt.round(u+p*d))&&(i|=1<<r-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var a=3;e=new si(e.getX()-a,e.getY()+a),n=new si(n.getX()-a,n.getY()-a),r=new si(r.getX()+a,r.getY()-a),i=new si(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,n);return l!==o||(l=this.getColor(n,r),l!==o)?!1:(l=this.getColor(r,i),l===o)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,a=(n.getY()-e.getY())/r,o=0,l=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(r),p=0;p<d;p++)l+=i,u+=a,this.image.get(mt.round(l),mt.round(u))!==f&&o++;var v=o/r;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===n;)o+=i;return o-=i,new si(a,o)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Ce(l+i*a,u+i*o),d=new Ce(l-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var p=new Ce(l+i*a,u+i*o),v=new Ce(l-i*a,u-i*o),m=[f,p,d,v];return m},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=mt.round(e.getX()),r=mt.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return mt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return mt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},t})(),Zb=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new lQ(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new i6().decode(l)}catch(p){r=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new i6().decode(l)}catch(p){throw r??p}var u=new zr(o.getText(),o.getRawBytes(),o.getNumBits(),a,je.AZTEC,Wt.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(Ir.BYTE_SEGMENTS,f);var d=o.getECLevel();return d!=null&&u.putMetadata(Ir.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(an.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),cQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){cQ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Zb,n)||this}return e})(Yf);var Zn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(an.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,n),o=a.getResultMetadata(),l=270;o!==null&&o.get(Ir.ORIENTATION)===!0&&(l=l+o.get(Ir.ORIENTATION)%360),a.putMetadata(Ir.ORIENTATION,l);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),d=0;d<u.length;d++)u[d]=new Ce(f-u[d].getY()-1,u[d].getX());return a}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),a=new fr(r),o=n&&n.get(an.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),d=0;d<u;d++){var p=Math.trunc((d+1)/2),v=(d&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var b=function(O){if(O===1&&(a.reverse(),n&&n.get(an.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;n.forEach(function(L,P){return I.set(P,L)}),I.delete(an.NEED_RESULT_POINT_CALLBACK),n=I}try{var R=w.decodeRow(m,a,n);if(O===1){R.putMetadata(Ir.ORIENTATION,180);var k=R.getResultPoints();k!==null&&(k[0]=new Ce(r-k[0].getX()-1,k[0].getY()),k[1]=new Ce(r-k[1].getX()-1,k[1].getY()))}return{value:R}}catch{}},w=this,A=0;A<2;A++){var S=b(A);if(typeof S=="object")return S.value}}throw new oe},t.recordPattern=function(e,n,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(n>=o)throw new oe;for(var l=!e.get(n),u=0,f=n;f<o;){if(e.get(f)!==l)r[u]++;else{if(++u===i)break;r[u]=1,l=!l}f++}if(!(u===i||u===i-1&&f===o))throw new oe},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,a=e.get(n);n>0&&i>=0;)e.get(--n)!==a&&(i--,a=!a);if(i>=0)throw new oe;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;r*=u;for(var f=0,d=0;d<i;d++){var p=e[d],v=n[d]*u,m=p>v?p-v:v-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),uQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),o6=(function(t){uQ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,u=!1,f=6,d=i;d<r;d++)if(n.get(d)!==u)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var b=Zn.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);b<p&&(p=b,v=m)}if(v>=0&&n.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new oe},e.decodeCode=function(n,r,i){Zn.recordPattern(n,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var u=e.CODE_PATTERNS[l],f=this.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new oe},e.prototype.decodeRow=function(n,r,i){var a=i&&i.get(an.ASSUME_GS1)===!0,o=e.findStartPattern(r),l=o[2],u=0,f=new Uint8Array(20);f[u++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new me}for(var p=!1,v=!1,m="",b=o[0],w=o[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,O=0,I=l,R=0,k=!0,L=!1,P=!1;!p;){var M=v;switch(v=!1,S=O,O=e.decodeCode(r,A,w),f[u++]=O,O!==e.CODE_STOP&&(k=!0),O!==e.CODE_STOP&&(R++,I+=R*O),b=w,w+=A.reduce(function(re,de){return re+de},0),O){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(d){case e.CODE_CODE_A:if(O<64)P===L?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),P=!1;else if(O<96)P===L?m+=String.fromCharCode(O-64):m+=String.fromCharCode(O+64),P=!1;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&P?(L=!0,P=!1):L&&P?(L=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(O<96)P===L?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),P=!1;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&P?(L=!0,P=!1):L&&P?(L=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(O<100)O<10&&(m+="0"),m+=O;else switch(O!==e.CODE_STOP&&(k=!1),O){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}M&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=w-b;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-b)/2),!1))throw new oe;if(I-=R*S,I%103!==S)throw new ur;var z=m.length;if(z===0)throw new oe;z>0&&k&&(d===e.CODE_CODE_C?m=m.substring(0,z-2):m=m.substring(0,z-1));for(var U=(o[1]+o[0])/2,H=b+j/2,F=f.length,pe=new Uint8Array(F),_e=0;_e<F;_e++)pe[_e]=f[_e];var X=[new Ce(U,n),new Ce(H,n)];return new zr(m,pe,0,X,je.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Zn),fQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),P2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s6=(function(t){fQ(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var a,o,l,u,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,f),p=r.getNextSet(d[1]),v=r.getSize(),m,b;do{e.recordPattern(r,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new oe;m=e.patternToChar(w),this.decodeRowResult+=m,b=p;try{for(var A=(a=void 0,P2(f)),S=A.next();!S.done;S=A.next()){var O=S.value;p+=O}}catch(F){a={error:F}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var R=P2(f),k=R.next();!k.done;k=R.next()){var O=k.value;I+=O}}catch(F){l={error:F}}finally{try{k&&!k.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}var L=p-b-I;if(p!==v&&L*2<I)throw new oe;if(this.usingCheckDigit){for(var P=this.decodeRowResult.length-1,M=0,j=0;j<P;j++)M+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(P)!==e.ALPHABET_STRING.charAt(M%43))throw new ur;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new oe;var z;this.extendedMode?z=e.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;var U=(d[1]+d[0])/2,H=b+I/2;return new zr(z,null,0,[new Ce(U,n),new Ce(H,n)],je.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),a=n.getNextSet(0),o=0,l=a,u=!1,f=r.length,d=a;d<i;d++)if(n.get(d)!==u)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,u=!u}throw new oe},e.toNarrowWidePattern=function(n){var r,i,a=n.length,o=0,l;do{var u=2147483647;try{for(var f=(r=void 0,P2(n)),d=f.next();!d.done;d=f.next()){var p=d.value;p<u&&p>o&&(u=p)}}catch(w){r={error:w}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=u,l=0;for(var v=0,m=0,b=0;b<a;b++){var p=n[b];p>o&&(m|=1<<a-1-b,l++,v+=p)}if(l===3){for(var b=0;b<a&&l>0;b++){var p=n[b];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=n.charAt(a+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new me;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new me;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Zn),dQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),N2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l6=(function(t){dQ(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,u,f=this.findAsteriskPattern(r),d=r.getNextSet(f[1]),p=r.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,b;do{e.recordPattern(r,d,v);var w=this.toPattern(v);if(w<0)throw new oe;m=this.patternToChar(w),this.decodeRowResult+=m,b=d;try{for(var A=(a=void 0,N2(v)),S=A.next();!S.done;S=A.next()){var O=S.value;d+=O}}catch(j){a={error:j}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}d=r.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var R=N2(v),k=R.next();!k.done;k=R.next()){var O=k.value;I+=O}}catch(j){l={error:j}}finally{try{k&&!k.done&&(u=R.return)&&u.call(R)}finally{if(l)throw l.error}}if(d===p||!r.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var L=this.decodeExtended(this.decodeRowResult),P=(f[1]+f[0])/2,M=b+I/2;return new zr(L,null,0,[new Ce(P,n),new Ce(M,n)],je.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,u=a.length,f=0,d=i;d<r;d++)if(n.get(d)!==l)a[f]++;else{if(f===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new oe},e.prototype.toPattern=function(n){var r,i,a=0;try{for(var o=N2(n),l=o.next();!l.done;l=o.next()){var u=l.value;a+=u}}catch(b){r={error:b}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,d=n.length,p=0;p<d;p++){var v=Math.round(n[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new oe},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new me;var l=n.charAt(a+1),u="\0";switch(o){case"d":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"a":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"b":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l>="X"&&l<="Z")u="";else throw new me;break;case"c":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new me;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var a=1,o=0,l=r-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(n.charAt(l)),++a>i&&(a=1);if(n.charAt(r)!==e.ALPHABET_STRING[o%47])throw new ur},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Zn),hQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c6=(function(t){hQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var a,o,l=this.decodeStart(r),u=this.decodeEnd(r),f=new Ye;e.decodeMiddle(r,l[1],u[0],f);var d=f.toString(),p=null;i!=null&&(p=i.get(an.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=d.length,m=!1,b=0;try{for(var w=pQ(p),A=w.next();!A.done;A=w.next()){var S=A.value;if(v===S){m=!0;break}S>b&&(b=S)}}catch(R){a={error:R}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>b&&(m=!0),!m)throw new me;var O=[new Ce(l[1],n),new Ce(u[0],n)],I=new zr(d,null,0,O,je.ITF,new Date().getTime());return I},e.decodeMiddle=function(n,r,i,a){var o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);r<i;){Zn.recordPattern(n,r,o);for(var f=0;f<5;f++){var d=2*f;l[f]=o[d],u[f]=o[d+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(u),a.append(p.toString()),o.forEach(function(v){r+=v})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!n.get(a);a--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new oe;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof oe&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var a=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-a,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var a=i.length,o=new Int32Array(a),l=n.getSize(),u=!1,f=0,d=r;o.fill(0);for(var p=r;p<l;p++)if(n.get(p)!==u)o[f]++;else{if(f===a-1){if(Zn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],Wt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new oe},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],u=Zn.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,i=o):u===r&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Zn),gQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Cf=(function(t){gQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var u=l-(a-l);u>=0&&(r=n.isRange(u,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,a){return this.findGuardPattern(n,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(n,r,i,a,o){var l=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var u=0,f=r,d=a.length,p=i,v=r;v<l;v++)if(n.get(v)!==p)o[u]++;else{if(u===d-1){if(Zn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),b=0;b<u-1;b++)o[b]=m[b];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new oe},e.decodeDigit=function(n,r,i,a){this.recordPattern(n,i,r);for(var o=this.MAX_AVG_VARIANCE,l=-1,u=a.length,f=0;f<u;f++){var d=a[f],p=Zn.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Zn),vQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mQ=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),u=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],f=new zr(o,null,0,u,je.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),u=n[1],f=0,d=0;d<5&&u<l;d++){var p=Cf.decodeDigit(e,o,u,Cf.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,vQ(o)),m=v.next();!m.done;m=v.next()){var b=m.value;u+=b}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-d),d!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==5)throw new oe;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new oe;return u},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Ir.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return n+i+"."+o},t})(),yQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xQ=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),u=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],f=new zr(o,null,0,u,je.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),u=n[1],f=0,d=0;d<2&&u<l;d++){var p=Cf.decodeDigit(e,o,u,Cf.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,yQ(o)),m=v.next();!m.done;m=v.next()){var b=m.value;u+=b}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-d),d!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(r.length!==2)throw new oe;if(parseInt(r.toString())%4!==f)throw new oe;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ir.ISSUE_NUMBER,parseInt(e)]])},t})(),_Q=(function(){function t(){}return t.decodeRow=function(e,n,r){var i=Cf.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new mQ;return a.decodeRow(e,n,i)}catch{var o=new xQ;return o.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),bQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Kn=(function(t){bQ(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return n}return e.prototype.decodeRow=function(n,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(an.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Ce((a[0]+a[1])/2,n);o.foundPossibleResultPoint(l)}var u=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=u.rowOffset,d=u.resultString;if(o!=null){var p=new Ce(f,n);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(r,f);if(o!=null){var m=new Ce((v[0]+v[1])/2,n);o.foundPossibleResultPoint(m)}var b=v[1],w=b+(b-v[0]);if(w>=r.getSize()||!r.isRange(b,w,!1))throw new oe;var A=d.toString();if(A.length<8)throw new me;if(!e.checkChecksum(A))throw new ur;var S=(a[1]+a[0])/2,O=(v[1]+v[0])/2,I=this.getBarcodeFormat(),R=[new Ce(S,n),new Ce(O,n)],k=new zr(A,null,0,R,I,new Date().getTime()),L=0;try{var P=_Q.decodeRow(n,r,v[1]);k.putMetadata(Ir.UPC_EAN_EXTENSION,P.getText()),k.putAllMetadata(P.getResultMetadata()),k.addResultPoints(P.getResultPoints()),L=P.getText().length}catch{}var M=i==null?null:i.get(an.ALLOWED_EAN_EXTENSIONS);if(M!=null){var j=!1;for(var z in M)if(L.toString()===z){j=!0;break}if(!j)throw new oe}return I===je.EAN_13||je.UPC_A,k},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Cf),wQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),u6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jb=(function(t){wQ(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),p=r[1],v=0,m=0;m<6&&p<d;m++){var b=Kn.decodeDigit(n,f,p,Kn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+b%10);try{for(var w=(a=void 0,u6(f)),A=w.next();!A.done;A=w.next()){var S=A.value;p+=S}}catch(k){a={error:k}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}b>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var O=Kn.findGuardPattern(n,p,!0,Kn.MIDDLE_PATTERN,new Int32Array(Kn.MIDDLE_PATTERN.length).fill(0));p=O[1];for(var m=0;m<6&&p<d;m++){var b=Kn.decodeDigit(n,f,p,Kn.L_PATTERNS);i+=String.fromCharCode(48+b);try{for(var I=(l=void 0,u6(f)),R=I.next();!R.done;R=I.next()){var S=R.value;p+=S}}catch(P){l={error:P}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return je.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Kn),EQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),f6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d6=(function(t){EQ(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=n.getSize(),p=r[1],v=0;v<4&&p<d;v++){var m=Kn.decodeDigit(n,f,p,Kn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var b=(a=void 0,f6(f)),w=b.next();!w.done;w=b.next()){var A=w.value;p+=A}}catch(R){a={error:R}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}}var S=Kn.findGuardPattern(n,p,!0,Kn.MIDDLE_PATTERN,new Int32Array(Kn.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<d;v++){var m=Kn.decodeDigit(n,f,p,Kn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var O=(l=void 0,f6(f)),I=O.next();!I.done;I=O.next()){var A=I.value;p+=A}}catch(L){l={error:L}}finally{try{I&&!I.done&&(u=O.return)&&u.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return je.EAN_8},e})(Kn),AQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),h6=(function(t){AQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new Jb,n}return e.prototype.getBarcodeFormat=function(){return je.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new zr(r.substring(1),null,null,n.getResultPoints(),je.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Kn),SQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p6=(function(t){SQ(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l=this.decodeMiddleCounters.map(function(A){return A});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=n.getSize(),f=r[1],d=0,p=0;p<6&&f<u;p++){var v=e.decodeDigit(n,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,TQ(l)),b=m.next();!b.done;b=m.next()){var w=b.value;f+=w}}catch(A){a={error:A}}finally{try{b&&!b.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(d|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Ye(i),d),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Kn.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){n.insert(0,"0"+i),n.append("0"+a);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return je.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ye;i.append(n.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Kn),CQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),g6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D2=(function(t){CQ(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(an.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(je.EAN_13)>-1&&a.push(new Jb),i.indexOf(je.UPC_A)>-1&&a.push(new h6),i.indexOf(je.EAN_8)>-1&&a.push(new d6),i.indexOf(je.UPC_E)>-1&&a.push(new p6)),a.length===0&&(a.push(new Jb),a.push(new h6),a.push(new d6),a.push(new p6)),r.readers=a,r}return e.prototype.decodeRow=function(n,r,i){var a,o;try{for(var l=g6(this.readers),u=l.next();!u.done;u=l.next()){var f=u.value;try{var d=f.decodeRow(n,r,i),p=d.getBarcodeFormat()===je.EAN_13&&d.getText().charAt(0)==="0",v=i==null?null:i.get(an.POSSIBLE_FORMATS),m=v==null||v.includes(je.UPC_A);if(p&&m){var b=d.getRawBytes(),w=new zr(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),je.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch{}}}catch(A){a={error:A}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new oe},e.prototype.reset=function(){var n,r;try{for(var i=g6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e})(Zn),IQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),OQ=(function(t){IQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var a=this.getValidRowData(r);if(!a)throw new oe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new oe;return new zr(o,null,0,[new Ce(a.left,n),new Ce(a.right,n)],je.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],l=r[0],u=1,f=1;f<r.length;f++)r[f]===l?u++:(l=r[f],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(u,f){return(u+f)/2},0));n.length>0;){var a=n.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var l=r.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Zn),RQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),PQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tc=(function(t){RQ(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(Zn.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(n){return mt.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]>a&&(a=r[o],i=o);n[i]++},e.decrement=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]<a&&(a=r[o],i=o);n[i]--},e.isFinderPattern=function(n){var r,i,a=n[0]+n[1],o=a+n[2]+n[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=PQ(n),p=d.next();!p.done;p=d.next()){var v=p.value;v>f&&(f=v),v<u&&(u=v)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Zn),Jg=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),JM=(function(){function t(e,n,r,i,a){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ce(r,a)),this.resultPoints.push(new Ce(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),NQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sf=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,a,o=0;try{for(var l=NQ(e),u=l.next();!u.done;u=l.next()){var f=u.value;o+=f}}catch(O){i={error:O}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var d=0,p=0,v=e.length,m=0;m<v-1;m++){var b=void 0;for(b=1,p|=1<<m;b<e[m];b++,p&=~(1<<m)){var w=t.combins(o-b-1,v-m-2);if(r&&p===0&&o-b-(v-m-1)>=v-m-1&&(w-=t.combins(o-b-(v-m),v-m-2)),v-m-1>1){for(var A=0,S=o-b-(v-m-2);S>n;S--)A+=t.combins(o-b-S-1,v-m-3);w-=A*(v-1-m)}else o-b>n&&w--;d+=w}o-=b}return d},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var a=1,o=1,l=e;l>r;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),DQ=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new fr(r),a=0,o=e[0],l=o.getRightChar().getValue(),u=11;u>=0;--u)(l&1<<u)!==0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],d=f.getLeftChar().getValue(),p=11;p>=0;--p)(d&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),wc=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),_A=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),MQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Oa=(function(t){MQ(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(_A),kQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ec=(function(t){kQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(_A),jQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ef=(function(t){jQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new me;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(_A),z1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LQ=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,a,o,l,u,f;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var p=z1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===d)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(L){n={error:L}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(e.length<3)throw new oe;var b=e.substring(0,3);try{for(var w=z1(t.THREE_DIGIT_DATA_LENGTH),A=w.next();!A.done;A=w.next()){var m=A.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(L){i={error:L}}finally{try{A&&!A.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=z1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=S.next();!O.done;O=S.next()){var m=O.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(L){o={error:L}}finally{try{O&&!O.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new oe;var I=e.substring(0,4);try{for(var R=z1(t.FOUR_DIGIT_DATA_LENGTH),k=R.next();!k.done;k=R.next()){var m=k.value;if(m[0]===I)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(L){u={error:L}}finally{try{k&&!k.done&&(f=R.return)&&f.call(R)}finally{if(u)throw u.error}}throw new oe},t.processFixedAI=function(e,n,r){if(r.length<e)throw new oe;var i=r.substring(0,e);if(r.length<e+n)throw new oe;var a=r.substring(e,e+n),o=r.substring(e+n),l="("+i+")"+a,u=t.parseFieldsInGeneralPurpose(o);return u==null?l:l+u},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),a;r.length<e+n?a=r.length:a=e+n;var o=r.substring(e,a),l=r.substring(a),u="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?u:u+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),wg=(function(){function t(e){this.buffer=new Ye,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=LQ.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new ef(this.information.getSize(),ef.FNC1,ef.FNC1):new ef(this.information.getSize(),n-1,ef.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new ef(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,a=0;a<r;++a)e.get(n+a)&&(i|=1<<r-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ec(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ec(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Ec(this.current.getPosition(),this.buffer.toString()):n=new Ec(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new wc(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ec(this.current.getPosition(),this.buffer.toString());return new wc(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Oa(e+5,Oa.FNC1);if(n>=5&&n<15)return new Oa(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Oa(e+7,""+(r+1));if(r>=90&&r<116)return new Oa(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new me}return new Oa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Oa(e+5,Oa.FNC1);if(n>=5&&n<15)return new Oa(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Oa(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new kp("Decoding invalid alphanumeric value: "+r)}return new Oa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),e9=(function(){function t(e){this.information=e,this.generalDecoder=new wg(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),BQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Pa=(function(t){BQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,a=0;a<13;a++){var o=n.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(e9),UQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FQ=(function(t){UQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ye;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Pa),VQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zQ=(function(t){VQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ye;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(e9),HQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Eg=(function(t){HQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,a);for(var o=this.checkWeight(a),l=1e5,u=0;u<5;++u)o/l===0&&n.append("0"),l/=10;n.append(o)},e})(Pa),$Q=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),t9=(function(t){$Q(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Eg.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var n=new Ye;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Eg.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Eg),qQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),GQ=(function(t){qQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(t9),WQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),KQ=(function(t){WQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(t9),XQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YQ=(function(t){XQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pa.GTIN_SIZE)throw new oe;var n=new Ye;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Pa),QQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ZQ=(function(t){QQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pa.GTIN_SIZE)throw new oe;var n=new Ye;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Pa),JQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rl=(function(t){JQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var n=new Ye;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),o/10===0&&n.append("0"),n.append(o),a/10===0&&n.append("0"),n.append(a)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Eg);function eZ(t){try{if(t.get(1))return new FQ(t);if(!t.get(2))return new zQ(t);var e=wg.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new GQ(t);case 5:return new KQ(t)}var n=wg.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new YQ(t);case 13:return new ZQ(t)}var r=wg.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new rl(t,"310","11");case 57:return new rl(t,"320","11");case 58:return new rl(t,"310","13");case 59:return new rl(t,"320","13");case 60:return new rl(t,"310","15");case 61:return new rl(t,"320","15");case 62:return new rl(t,"310","17");case 63:return new rl(t,"320","17")}}catch(i){throw console.log(i),new kp("unknown decoder: "+t)}}var v6=(function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),tZ=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,a){n.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),nZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),il=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rZ=(function(t){nZ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new oe},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,a,o=r;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,il(n)),f=u.next();!f.done;f=u.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(n);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new oe},e.isValidSequence=function(n){var r,i;try{for(var a=il(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(n.length>l.length)){for(var u=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==l[f]){u=!1;break}if(u)return!0}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new tZ(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,a,o,l,u,f;try{for(var d=il(r),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.getPairs().length!==n.length){var m=!0;try{for(var b=(o=void 0,il(v.getPairs())),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var O=(u=void 0,il(n)),I=O.next();!I.done;I=O.next()){var R=I.value;if(v6.equals(A,R)){S=!0;break}}}catch(k){u={error:k}}finally{try{I&&!I.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}S||(m=!1)}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}}}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,a,o,l,u,f;try{for(var d=il(r),p=d.next();!p.done;p=d.next()){var v=p.value,m=!0;try{for(var b=(o=void 0,il(n)),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var O=(u=void 0,il(v.getPairs())),I=O.next();!I.done;I=O.next()){var R=I.value;if(A.equals(R)){S=!0;break}}}catch(k){u={error:k}}finally{try{I&&!I.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}if(!S){m=!1;break}}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(m)return!0}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=DQ.buildBitArray(n),i=eZ(r),a=i.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new zr(a,null,null,u,je.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var u=this.pairs.get(l);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,u=-1;do this.findNextPair(n,r,u),o=this.parseFoundFinderPattern(n,i,a),o===null?u=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(n,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(n,o,a,!1)}catch(p){d=null,console.log(p)}return new v6(f,d,o,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(r))l=0;else{var u=r[r.length-1];l=u.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;l<o&&(d=!n.get(l),!!d);)l++;for(var p=0,v=l,m=l;m<o;m++)if(n.get(m)!==d)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,d=!d}throw new oe},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var a=n[i];n[i]=n[r-i-1],n[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(n,r,i){var a,o,l;if(i){for(var u=this.startEnd[0]-1;u>=0&&!n.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,l=this.startEnd[1]}else o=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();Wt.arraycopy(f,0,f,1,f.length-1),f[0]=a;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new JM(d,[o,l],o,l,r)},e.prototype.decodeDataCharacter=function(n,r,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(n,r.getStartEnd()[0],o);else{e.recordPattern(n,r.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var d=o[u];o[u]=o[f],o[f]=d}}var p=17,v=mt.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new oe;for(var b=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var O=1*o[u]/v,I=O+.5;if(I<1){if(O<.3)throw new oe;I=1}else if(I>8){if(O>8.7)throw new oe;I=8}var R=u/2;(u&1)===0?(b[R]=I,A[R]=O-I):(w[R]=I,S[R]=O-I)}this.adjustOddEvenCounts(p);for(var k=4*r.getValue()+(i?0:2)+(a?0:1)-1,L=0,P=0,u=b.length-1;u>=0;u--){if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*u];P+=b[u]*M}L+=b[u]}for(var j=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*u+1];j+=w[u]*M}var z=P+j;if((L&1)!==0||L>13||L<4)throw new oe;var U=(13-L)/2,H=e.SYMBOL_WIDEST[U],F=9-H,pe=sf.getRSSvalue(b,H,!0),_e=sf.getRSSvalue(w,F,!1),X=e.EVEN_TOTAL_SUBSET[U],re=e.GSUM[U],de=pe*X+_e+re;return new Jg(de,z)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=mt.sum(new Int32Array(this.getOddCounts())),i=mt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);var f=r+i-n,d=(r&1)===1,p=(i&1)===0;if(f===1)if(d){if(p)throw new oe;o=!0}else{if(!p)throw new oe;u=!0}else if(f===-1)if(d){if(p)throw new oe;a=!0}else{if(!p)throw new oe;l=!0}else if(f===0){if(d){if(!p)throw new oe;r<i?(a=!0,u=!0):(o=!0,l=!0)}else if(p)throw new oe}else throw new oe;if(a){if(o)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Tc),iZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aZ=(function(t){iZ(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Jg),oZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),M2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m6=(function(t){oZ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,u,f=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var d=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,d),r.reverse();try{for(var p=M2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var b=(l=void 0,M2(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var A=w.value;if(A.getCount()>1&&e.checkChecksum(m,A))return e.constructResult(m,A)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new oe},e.addOrTally=function(n,r){var i,a;if(r!=null){var o=!1;try{for(var l=M2(n),u=l.next();!u.done;u=l.next()){var f=u.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),a=new String(i).toString(),o=new Ye,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var u=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;u+=(l&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var d=n.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new zr(o.toString(),null,0,[d[0],d[1],p[0],p[1]],je.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(n,r,i,a){try{var o=this.findFinderPattern(n,r),l=this.parseFoundFinderPattern(n,i,r,o),u=a==null?null:a.get(an.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;r&&(f=n.getSize()-1-f),u.foundPossibleResultPoint(new Ce(f,i))}var d=this.decodeDataCharacter(n,l,!0),p=this.decodeDataCharacter(n,l,!1);return new aZ(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Zn.recordPatternInReverse(n,r.getStartEnd()[0],a);else{Zn.recordPattern(n,r.getStartEnd()[1]+1,a);for(var l=0,u=a.length-1;l<u;l++,u--){var f=a[l];a[l]=a[u],a[u]=f}}for(var d=i?16:15,p=mt.sum(new Int32Array(a))/d,v=this.getOddCounts(),m=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var A=a[l]/p,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var O=Math.floor(l/2);(l&1)===0?(v[O]=S,b[O]=A-S):(m[O]=S,w[O]=A-S)}this.adjustOddEvenCounts(i,d);for(var I=0,R=0,l=v.length-1;l>=0;l--)R*=9,R+=v[l],I+=v[l];for(var k=0,L=0,l=m.length-1;l>=0;l--)k*=9,k+=m[l],L+=m[l];var P=R+3*k;if(i){if((I&1)!==0||I>12||I<4)throw new oe;var M=(12-I)/2,j=e.OUTSIDE_ODD_WIDEST[M],z=9-j,U=sf.getRSSvalue(v,j,!1),H=sf.getRSSvalue(m,z,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[M],pe=e.OUTSIDE_GSUM[M];return new Jg(U*F+H+pe,P)}else{if((L&1)!==0||L>10||L<4)throw new oe;var M=(10-L)/2,j=e.INSIDE_ODD_WIDEST[M],z=9-j,U=sf.getRSSvalue(v,j,!0),H=sf.getRSSvalue(m,z,!1),_e=e.INSIDE_ODD_TOTAL_SUBSET[M],pe=e.INSIDE_GSUM[M];return new Jg(H*_e+U+pe,P)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=n.getSize(),o=!1,l=0;l<a&&(o=!n.get(l),r!==o);)l++;for(var u=0,f=l,d=l;d<a;d++)if(n.get(d)!==o)i[u]++;else{if(u===3){if(Tc.isFinderPattern(i))return[f,d];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new oe},e.prototype.parseFoundFinderPattern=function(n,r,i,a){for(var o=n.get(a[0]),l=a[0]-1;l>=0&&o!==n.get(l);)l--;l++;var u=a[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Wt.arraycopy(f,0,d,1,f.length-1),d[0]=u;var p=this.parseFinderValue(d,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=n.getSize()-1-v,m=n.getSize()-1-m),new JM(p,[l,a[1]],v,m,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=mt.sum(new Int32Array(this.getOddCounts())),a=mt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,f=!1;n?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var d=i+a-r,p=(i&1)===(n?1:0),v=(a&1)===1;if(d===1)if(p){if(v)throw new oe;l=!0}else{if(!v)throw new oe;f=!0}else if(d===-1)if(p){if(v)throw new oe;o=!0}else{if(!v)throw new oe;u=!0}else if(d===0){if(p){if(!v)throw new oe;i<a?(o=!0,f=!0):(l=!0,u=!0)}else if(v)throw new oe}else throw new oe;if(o){if(l)throw new oe;Tc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Tc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new oe;Tc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Tc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Tc),sZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Nh=(function(t){sZ(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(an.POSSIBLE_FORMATS):null,a=n&&n.get(an.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(an.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(je.EAN_13)||i.includes(je.UPC_A)||i.includes(je.EAN_8)||i.includes(je.UPC_E))&&r.readers.push(new D2(n)),i.includes(je.CODE_39)&&r.readers.push(new s6(a,o)),i.includes(je.CODE_93)&&r.readers.push(new l6),i.includes(je.CODE_128)&&r.readers.push(new o6),i.includes(je.ITF)&&r.readers.push(new c6),i.includes(je.CODABAR)&&r.readers.push(new OQ),i.includes(je.RSS_14)&&r.readers.push(new m6),i.includes(je.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new rZ))),r.readers.length===0&&(r.readers.push(new D2(n)),r.readers.push(new s6),r.readers.push(new l6),r.readers.push(new D2(n)),r.readers.push(new o6),r.readers.push(new c6),r.readers.push(new m6)),r}return e.prototype.decodeRow=function(n,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Zn),lZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){lZ(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new Nh(r),n,r)||this}return e})(Yf);var y6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},St=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Et=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),cZ=(function(){function t(e,n,r,i,a,o){var l,u;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,d=o.getECCodewords(),p=o.getECBlocks();try{for(var v=y6(p),m=v.next();!m.done;m=v.next()){var b=m.value;f+=b.getCount()*(b.getDataCodewords()+d)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if((e&1)!==0||(n&1)!==0)throw new me;try{for(var a=y6(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new St(5,new Et(1,3))),new t(2,12,12,10,10,new St(7,new Et(1,5))),new t(3,14,14,12,12,new St(10,new Et(1,8))),new t(4,16,16,14,14,new St(12,new Et(1,12))),new t(5,18,18,16,16,new St(14,new Et(1,18))),new t(6,20,20,18,18,new St(18,new Et(1,22))),new t(7,22,22,20,20,new St(20,new Et(1,30))),new t(8,24,24,22,22,new St(24,new Et(1,36))),new t(9,26,26,24,24,new St(28,new Et(1,44))),new t(10,32,32,14,14,new St(36,new Et(1,62))),new t(11,36,36,16,16,new St(42,new Et(1,86))),new t(12,40,40,18,18,new St(48,new Et(1,114))),new t(13,44,44,20,20,new St(56,new Et(1,144))),new t(14,48,48,22,22,new St(68,new Et(1,174))),new t(15,52,52,24,24,new St(42,new Et(2,102))),new t(16,64,64,14,14,new St(56,new Et(2,140))),new t(17,72,72,16,16,new St(36,new Et(4,92))),new t(18,80,80,18,18,new St(48,new Et(4,114))),new t(19,88,88,20,20,new St(56,new Et(4,144))),new t(20,96,96,22,22,new St(68,new Et(4,174))),new t(21,104,104,24,24,new St(56,new Et(6,136))),new t(22,120,120,18,18,new St(68,new Et(6,175))),new t(23,132,132,20,20,new St(62,new Et(8,163))),new t(24,144,144,22,22,new St(62,new Et(8,156),new Et(2,155))),new t(25,8,18,6,16,new St(7,new Et(1,5))),new t(26,8,32,6,14,new St(11,new Et(1,10))),new t(27,12,26,10,24,new St(14,new Et(1,16))),new t(28,12,36,10,16,new St(18,new Et(1,22))),new t(29,16,36,14,16,new St(24,new Et(1,32))),new t(30,16,48,14,22,new St(28,new Et(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),uZ=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new xo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return cZ.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,u=!1,f=!1,d=!1;do if(r===a&&i===0&&!l)e[n++]=this.readCorner1(a,o)&255,r-=2,i+=2,l=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!u)e[n++]=this.readCorner2(a,o)&255,r-=2,i+=2,u=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[n++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!d)e[n++]=this.readCorner4(a,o)&255,r-=2,i+=2,d=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(n!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var a=0;return this.readModule(e-2,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n,r,i)&&(a|=1),a<<=1,this.readModule(e,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e,n,r,i)&&(a|=1),a},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new Le("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=n/i|0,l=r/a|0,u=o*i,f=l*a,d=new xo(f,u),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var b=m*a,w=0;w<i;++w)for(var A=p*(i+2)+1+w,S=v+w,O=0;O<a;++O){var I=m*(a+2)+1+O;if(e.get(I,A)){var R=b+O;d.set(R,S)}}return d},t})(),x6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fZ=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,a,o,l=n.getECBlocks(),u=0,f=l.getECBlocks();try{for(var d=x6(f),p=d.next();!p.done;p=d.next()){var v=p.value;u+=v.getCount()}}catch(pe){r={error:pe}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var m=new Array(u),b=0;try{for(var w=x6(f),A=w.next();!A.done;A=w.next())for(var v=A.value,S=0;S<v.getCount();S++){var O=v.getDataCodewords(),I=l.getECCodewords()+O;m[b++]=new t(O,new Uint8Array(I))}}catch(pe){a={error:pe}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var R=m[0].codewords.length,k=R-l.getECCodewords(),L=k-1,P=0,S=0;S<L;S++)for(var M=0;M<b;M++)m[M].codewords[S]=e[P++];for(var j=n.getVersionNumber()===24,z=j?8:b,M=0;M<z;M++)m[M].codewords[k-1]=e[P++];for(var U=m[0].codewords.length,S=k;S<U;S++)for(var M=0;M<b;M++){var H=j?(M+8)%b:M,F=j&&H>7?S-1:S;m[H].codewords[F]=e[P++]}if(P!==e.length)throw new Le;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),n9=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Le(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,l=e<o?e:o,u=o-l,f=255>>8-l<<u;n=(a[i]&f)>>u,e-=l,r+=l,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;n=n<<e|(a[i]&f)>>u,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Gn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gn||(Gn={}));var dZ=(function(){function t(){}return t.decode=function(e){var n=new n9(e),r=new Ye,i=new Ye,a=new Array,o=Gn.ASCII_ENCODE;do if(o===Gn.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,i);else{switch(o){case Gn.C40_ENCODE:this.decodeC40Segment(n,r);break;case Gn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Gn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Gn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Gn.BASE256_ENCODE:this.decodeBase256Segment(n,r,a);break;default:throw new me}o=Gn.ASCII_ENCODE}while(o!==Gn.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Cm(e,r.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new me;if(a<=128)return i&&(a+=128),n.append(String.fromCharCode(a-1)),Gn.ASCII_ENCODE;if(a===129)return Gn.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&n.append("0"),n.append(""+o)}else switch(a){case 230:return Gn.C40_ENCODE;case 231:return Gn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Gn.ANSIX12_ENCODE;case 239:return Gn.TEXT_ENCODE;case 240:return Gn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return Gn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),a=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var u=i[l];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),a=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new me;for(var l=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new me;l[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(l);try{n.append(ua.decode(l,ft.ISO88591))}catch(f){throw new kp("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),hZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pZ=(function(){function t(){this.rsDecoder=new Im(fi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new uZ(e),a=i.getVersion(),o=i.readCodewords(),l=fZ.getDataBlocks(o,a),u=0;try{for(var f=hZ(l),d=f.next();!d.done;d=f.next()){var p=d.value;u+=p.getNumDataCodewords()}}catch(I){n={error:I}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var v=new Uint8Array(u),m=l.length,b=0;b<m;b++){var w=l[b],A=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(A,S);for(var O=0;O<S;O++)v[O*m+b]=A[O]}return dZ.decode(v)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ur}for(var i=0;i<n;i++)e[i]=r[i]},t})(),gZ=(function(){function t(e){this.image=e,this.rectangleDetector=new Qb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new oe;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],a=n[2],o=n[3],l=this.transitionsBetween(r,o)+1,u=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));var f=t.sampleGrid(this.image,r,i,a,o,l,u);return new yA(f,[r,i,a,o])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),a=(n.getY()-e.getY())/(r+1);return new Ce(e.getX()+i,e.getY()+a)},t.moveAway=function(e,n,r){var i=e.getX(),a=e.getY();return i<n?i-=1:i+=1,a<r?a-=1:a+=1,new Ce(i,a)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(n,r),l=this.transitionsBetween(r,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,n),d=o,p=[a,n,r,i];return d>l&&(d=l,p[0]=n,p[1]=r,p[2]=i,p[3]=a),d>u&&(d=u,p[0]=r,p[1]=i,p[2]=a,p[3]=n),d>f&&(p[0]=i,p[1]=a,p[2]=n,p[3]=r),p},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=t.shiftPoint(r,i,(o+1)*4),u=t.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(l,n),d=this.transitionsBetween(u,a);return f<d?(e[0]=n,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=this.transitionsBetween(r,a),u=t.shiftPoint(n,r,(l+1)*4),f=t.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(u,a),l=this.transitionsBetween(f,a);var d=new Ce(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new Ce(a.getX()+(n.getX()-r.getX())/(l+1),a.getY()+(n.getY()-r.getY())/(l+1));if(!this.isValid(d))return this.isValid(p)?p:null;if(!this.isValid(p))return d;var v=this.transitionsBetween(u,d)+this.transitionsBetween(f,d),m=this.transitionsBetween(u,p)+this.transitionsBetween(f,p);return v>m?d:p},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(i,a)+1,u=t.shiftPoint(n,r,l*4),f=t.shiftPoint(i,r,o*4);o=this.transitionsBetween(u,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(n.getX()+r.getX()+i.getX()+a.getX())/4,p=(n.getY()+r.getY()+i.getY()+a.getY())/4;n=t.moveAway(n,d,p),r=t.moveAway(r,d,p),i=t.moveAway(i,d,p),a=t.moveAway(a,d,p);var v,m;return u=t.shiftPoint(n,r,l*4),u=t.shiftPoint(u,a,o*4),v=t.shiftPoint(r,n,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,r,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,n,o*4),[u,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,a,o,l){var u=xA.getInstance();return u.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.abs(o-i)>Math.abs(a-r);if(l){var u=r;r=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-r),d=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=r<a?1:-1,b=0,w=this.image.get(l?i:r,l?r:i),A=r,S=i;A!==a;A+=m){var O=this.image.get(l?S:A,l?A:S);if(O!==w&&(b++,w=O),p+=d,p>0){if(S===o)break;S+=v,p-=f}}return b},t})(),ew=(function(){function t(){this.decoder=new pZ}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(an.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new gZ(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=r.getRawBytes(),u=new zr(r.getText(),l,8*l.length,i,je.DATA_MATRIX,Wt.currentTimeMillis()),f=r.getByteSegments();f!=null&&u.putMetadata(Ir.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!=null&&u.putMetadata(Ir.ERROR_CORRECTION_LEVEL,d),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new oe;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],u=r[0],f=(u-l+1)/i,d=(o-a+1)/i;if(f<=0||d<=0)throw new oe;var p=i/2;a+=p,l+=p;for(var v=new xo(f,d),m=0;m<d;m++)for(var b=a+m*i,w=0;w<f;w++)e.get(l+w*i,b)&&v.set(w,m);return v},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],a=e[1];i<r&&n.get(i,a);)i++;if(i===r)throw new oe;var o=i-e[0];if(o===0)throw new oe;return o},t.NO_POINTS=[],t})(),vZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){vZ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new ew,n)||this}return e})(Yf);var lf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(lf||(lf={}));var mZ=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ra(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Le;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(lf.L,"L",1),t.M=new t(lf.M,"M",0),t.Q=new t(lf.Q,"Q",3),t.H=new t(lf.H,"H",2),t})(),yZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r9=(function(){function t(e){this.errorCorrectionLevel=mZ.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return Qe.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=yZ(t.FORMAT_INFO_DECODE_LOOKUP),u=l.next();!u.done;u=l.next()){var f=u.value,d=f[0];if(d===e||d===n)return new t(f[1]);var p=t.numBitsDiffering(e,d);p<a&&(o=f[1],a=p),e!==n&&(p=t.numBitsDiffering(n,d),p<a&&(o=f[1],a=p))}}catch(v){r={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),xZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var a=xZ(i),o=a.next();!o.done;o=a.next()){var l=o.value;r+=l.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),_Z=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fc=(function(){function t(e,n){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=a;var l=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var d=_Z(f),p=d.next();!p.done;p=d.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+u)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Le;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=r9.numBitsDiffering(e,a);o<n&&(r=i+7,n=o)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new xo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),or;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(or||(or={}));var _6=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[or.DATA_MASK_000,new t(or.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[or.DATA_MASK_001,new t(or.DATA_MASK_001,function(e,n){return(e&1)===0})],[or.DATA_MASK_010,new t(or.DATA_MASK_010,function(e,n){return n%3===0})],[or.DATA_MASK_011,new t(or.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[or.DATA_MASK_100,new t(or.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[or.DATA_MASK_101,new t(or.DATA_MASK_101,function(e,n){return e*n%6===0})],[or.DATA_MASK_110,new t(or.DATA_MASK_110,function(e,n){return e*n%6<3})],[or.DATA_MASK_111,new t(or.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),bZ=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var n=i-8;n<i;n++)a=this.copyBit(n,8,a);if(this.parsedFormatInfo=r9.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Fc.getVersionForNumber(n);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var l=Fc.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(l=Fc.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new me},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=_6.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=n.buildFunctionPattern(),o=!0,l=new Uint8Array(n.getTotalCodewords()),u=0,f=0,d=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,b=0;b<2;b++)a.get(p-b,m)||(d++,f<<=1,this.bitMatrix.get(p-b,m)&&(f|=1),d===8&&(l[u++]=f,d=0,f=0));o=!o}if(u!==n.getTotalCodewords())throw new me;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=_6.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,a=e.getHeight();i<a;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t})(),b6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wZ=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,a,o,l;if(e.length!==n.getTotalCodewords())throw new Le;var u=n.getECBlocksForLevel(r),f=0,d=u.getECBlocks();try{for(var p=b6(d),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(F){i={error:F}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var b=new Array(f),w=0;try{for(var A=b6(d),S=A.next();!S.done;S=A.next())for(var m=S.value,O=0;O<m.getCount();O++){var I=m.getDataCodewords(),R=u.getECCodewordsPerBlock()+I;b[w++]=new t(I,new Uint8Array(R))}}catch(F){o={error:F}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}for(var k=b[0].codewords.length,L=b.length-1;L>=0;){var P=b[L].codewords.length;if(P===k)break;L--}L++;for(var M=k-u.getECCodewordsPerBlock(),j=0,O=0;O<M;O++)for(var z=0;z<w;z++)b[z].codewords[O]=e[j++];for(var z=L;z<w;z++)b[z].codewords[M]=e[j++];for(var U=b[0].codewords.length,O=M;O<U;O++)for(var z=0;z<w;z++){var H=z<L?O:O+1;b[z].codewords[H]=e[j++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),ra;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ra||(ra={}));var Zt=(function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new Le;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ra.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ra.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ra.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ra.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ra.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ra.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ra.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ra.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ra.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ra.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),EZ=(function(){function t(){}return t.decode=function(e,n,r,i){var a=new n9(e),o=new Ye,l=new Array,u=-1,f=-1;try{var d=null,p=!1,v=void 0;do{if(a.available()<4)v=Zt.TERMINATOR;else{var m=a.readBits(4);v=Zt.forBits(m)}switch(v){case Zt.TERMINATOR:break;case Zt.FNC1_FIRST_POSITION:case Zt.FNC1_SECOND_POSITION:p=!0;break;case Zt.STRUCTURED_APPEND:if(a.available()<16)throw new me;u=a.readBits(8),f=a.readBits(8);break;case Zt.ECI:var b=t.parseECIValue(a);if(d=Yn.getCharacterSetECIByValue(b),d===null)throw new me;break;case Zt.HANZI:var w=a.readBits(4),A=a.readBits(v.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,A);break;default:var S=a.readBits(v.getCharacterCountBits(n));switch(v){case Zt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Zt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Zt.BYTE:t.decodeByteSegment(a,o,S,d,l,i);break;case Zt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new me}break}}while(v!==Zt.TERMINATOR)}catch{throw new me}return new Cm(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),u,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,r--}try{n.append(ua.decode(i,ft.GB2312))}catch(u){throw new me(u)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,r--}try{n.append(ua.decode(i,ft.SHIFT_JIS))}catch(u){throw new me(u)}},t.decodeByteSegment=function(e,n,r,i,a,o){if(8*r>e.available())throw new me;for(var l=new Uint8Array(r),u=0;u<r;u++)l[u]=e.readBits(8);var f;i===null?f=ft.guessEncoding(l,o):f=i.getName();try{n.append(ua.decode(l,f))}catch(d){throw new me(d)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var a=n.length();r>1;){if(e.available()<11)throw new me;var o=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(o/45))),n.append(t.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new me;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new me;var a=e.readBits(7);if(a>=100)throw new me;n.append(t.toAlphaNumericChar(Math.floor(a/10))),n.append(t.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new me;var o=e.readBits(4);if(o>=10)throw new me;n.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),i9=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),w6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AZ=(function(){function t(){this.rsDecoder=new Im(fi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(xo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new bZ(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,n);return a.setOther(new i9(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,a,o,l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=wZ.getDataBlocks(f,l,u),p=0;try{for(var v=w6(d),m=v.next();!m.done;m=v.next()){var b=m.value;p+=b.getNumDataCodewords()}}catch(L){r={error:L}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}var w=new Uint8Array(p),A=0;try{for(var S=w6(d),O=S.next();!O.done;O=S.next()){var b=O.value,I=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(I,R);for(var k=0;k<R;k++)w[A++]=I[k]}}catch(L){a={error:L}}finally{try{O&&!O.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return EZ.decode(w,l,u,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new ur}for(var i=0;i<n;i++)e[i]=r[i]},t})(),SZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TZ=(function(t){SZ(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=(this.getX()+r)/2,o=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Ce),CZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IZ=(function(){function t(e,n,r,i,a,o,l){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,a=this.startY+n/2,o=new Int32Array(3),l=this.image,u=0;u<n;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!l.get(d,f);)d++;for(var p=0;d<i;){if(l.get(d,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,d);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;d++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var u=e;u>=0&&a.get(n,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&!a.get(n,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&a.get(n,u)&&l[1]<=r;)l[1]++,u++;if(u===o||l[1]>r)return NaN;for(;u<o&&!a.get(n,u)&&l[2]<=r;)l[2]++,u++;if(l[2]>r)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=CZ(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value;if(v.aboutEquals(f,u,l))return v.combineEstimate(u,l,f)}}catch(b){i={error:b}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var m=new TZ(l,u,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),OZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),RZ=(function(t){OZ(e,t);function e(n,r,i,a){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,l=(this.count*this.getY()+n)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,u,a)},e})(Ce),PZ=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),ph=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NZ=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(an.TRY_HARDER)!==void 0,r=e!=null&&e.get(an.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||n)&&(l=t.MIN_SKIP);for(var u=!1,f=new Int32Array(5),d=l-1;d<a&&!u;d+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,d))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,v,r);if(m===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(d+=b-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,d,o,r);m===!0&&(l=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Ce.orderBestPatterns(w),new PZ(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var a=n/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&n>=o&&l.get(n-o,e-o);)a[2]++,o++;if(e<o||n<o)return!1;for(;e>=o&&n>=o&&!l.get(n-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||n<o||a[1]>r)return!1;for(;e>=o&&n>=o&&l.get(n-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var u=l.getHeight(),f=l.getWidth();for(o=1;e+o<u&&n+o<f&&l.get(n+o,e+o);)a[2]++,o++;if(e+o>=u||n+o>=f)return!1;for(;e+o<u&&n+o<f&&!l.get(n+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=u||n+o>=f||a[3]>=r)return!1;for(;e+o<u&&n+o<f&&l.get(n+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(n,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(n,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&a.get(n,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&a.get(n,u);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(n,u)&&l[3]<r;)l[3]++,u++;if(u===o||l[3]>=r)return NaN;for(;u<o&&a.get(n,u)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,n);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,n)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&a.get(u,n)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&a.get(u,n);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,n)&&l[3]<r;)l[3]++,u++;if(u===o||l[3]>=r)return NaN;for(;u<o&&a.get(u,n)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,d=this.possibleCenters,p=0,v=d.length;p<v;p++){var m=d[p];if(m.aboutEquals(u,l,o)){d[p]=m.combineEstimate(l,o,u),f=!0;break}}if(!f){var b=new RZ(o,l,u);d.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=ph(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,a=0,o=0,l=this.possibleCenters.length;try{for(var u=ph(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=ph(this.possibleCenters),b=m.next();!b.done;b=m.next()){var d=b.value;v+=Math.abs(d.getEstimatedModuleSize()-p)}}catch(w){r={error:w}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,n,r,i,a=this.possibleCenters.length;if(a<3)throw new oe;var o=this.possibleCenters,l;if(a>3){var u=0,f=0;try{for(var d=ph(this.possibleCenters),p=d.next();!p.done;p=d.next()){var v=p.value,m=v.getEstimatedModuleSize();u+=m,f+=m*m}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}l=u/a;var b=Math.sqrt(f/a-l*l);o.sort(function(k,L){var P=Math.abs(L.getEstimatedModuleSize()-l),M=Math.abs(k.getEstimatedModuleSize()-l);return P<M?-1:P>M?1:0});for(var w=Math.max(.2*l,b),A=0;A<o.length&&o.length>3;A++){var S=o[A];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(A,1),A--)}}if(o.length>3){var u=0;try{for(var O=ph(o),I=O.next();!I.done;I=O.next()){var R=I.value;u+=R.getEstimatedModuleSize()}}catch(L){r={error:L}}finally{try{I&&!I.done&&(i=O.return)&&i.call(O)}finally{if(r)throw r.error}}l=u/o.length,o.sort(function(L,P){if(P.getCount()===L.getCount()){var M=Math.abs(P.getEstimatedModuleSize()-l),j=Math.abs(L.getEstimatedModuleSize()-l);return M<j?1:M>j?-1:0}else return P.getCount()-L.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),DZ=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(an.NEED_RESULT_POINT_CALLBACK);var n=new NZ(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(n,r,i);if(a<1)throw new oe("No pattern found in proccess finder.");var o=t.computeDimension(n,r,i,a),l=Fc.getProvisionalVersionForDimension(o),u=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var d=r.getX()-n.getX()+i.getX(),p=r.getY()-n.getY()+i.getY(),v=1-3/u,m=Math.floor(n.getX()+v*(d-n.getX())),b=Math.floor(n.getY()+v*(p-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,b,w);break}catch(I){if(!(I instanceof oe))throw I}var A=t.createTransform(n,r,i,f,o),S=t.sampleGrid(this.image,A,o),O;return f===null?O=[i,n,r]:O=[i,n,r,f],new yA(S,O)},t.createTransform=function(e,n,r,i,a){var o=a-3.5,l,u,f,d;return i!==null?(l=i.getX(),u=i.getY(),f=o-3,d=f):(l=n.getX()-e.getX()+r.getX(),u=n.getY()-e.getY()+r.getY(),f=o,d=o),ZM.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,d,3.5,o,e.getX(),e.getY(),n.getX(),n.getY(),l,u,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=xA.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var a=mt.round(Ce.distance(e,n)/i),o=mt.round(Ce.distance(e,r)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new oe("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,n,r,i),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var u=Math.floor(n-(i-n)*o);return o=1,u<0?(o=n/(n-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,n,l,u),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var a=Math.abs(i-n)>Math.abs(r-e);if(a){var o=e;e=n,n=o,o=r,r=i,i=o}for(var l=Math.abs(r-e),u=Math.abs(i-n),f=-l/2,d=e<r?1:-1,p=n<i?1:-1,v=0,m=r+d,b=e,w=n;b!==m;b+=d){var A=a?w:b,S=a?b:w;if(v===1===this.image.get(A,S)){if(v===2)return mt.distance(b,w,e,n);v++}if(f+=u,f>0){if(w===i)break;w+=p,f-=l}}return v===2?mt.distance(r+d,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var a=Math.floor(i*e),o=Math.max(0,n-a),l=Math.min(this.image.getWidth()-1,n+a);if(l-o<e*3)throw new oe("Alignment top exceeds estimated module size.");var u=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-u<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new IZ(this.image,o,u,l-o,f-u,e,this.resultPointCallback);return d.find()},t})(),tw=(function(){function t(){this.decoder=new AZ}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(an.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,n),i=t.NO_POINTS}else{var o=new DZ(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),i=o.getPoints()}r.getOther()instanceof i9&&r.getOther().applyMirroredCorrection(i);var l=new zr(r.getText(),r.getRawBytes(),void 0,i,je.QR_CODE,void 0),u=r.getByteSegments();u!==null&&l.putMetadata(Ir.BYTE_SEGMENTS,u);var f=r.getECLevel();return f!==null&&l.putMetadata(Ir.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(l.putMetadata(Ir.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(Ir.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new oe;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],u=r[0];if(l>=u||a>=o)throw new oe;if(o-a!==u-l&&(u=l+(o-a),u>=e.getWidth()))throw new oe;var f=Math.round((u-l+1)/i),d=Math.round((o-a+1)/i);if(f<=0||d<=0)throw new oe;if(d!==f)throw new oe;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-u;if(v>0){if(v>p)throw new oe;l-=v}var m=a+Math.floor((d-1)*i)-o;if(m>0){if(m>p)throw new oe;a-=m}for(var b=new xo(f,d),w=0;w<d;w++)for(var A=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),A)&&b.set(S,w);return b},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),a=e[0],o=e[1],l=!0,u=0;a<i&&o<r;){if(l!==n.get(a,o)){if(++u===5)break;l=!l}a++,o++}if(a===i||o===r)throw new oe;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),MZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return mt.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=MZ(e),l=o.next();!l.done;l=o.next()){var u=l.value;i[a++]=u}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=Qn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),kZ=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),jZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LZ=(function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),a=t.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(r,i)),new kZ(i,a)},t.detect=function(e,n){for(var r,i,a=new Array,o=0,l=0,u=!1;o<n.getHeight();){var f=t.findVertices(n,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;try{for(var d=(r=void 0,jZ(a)),p=d.next();!p.done;p=d.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}o+=t.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,n,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,a,o){for(var l=new Array(4),u=!1,f=new Int32Array(o.length);i<n;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,r,!1,o,f);if(d!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)d=p;else{i++;break}}l[0]=new Ce(d[0],i),l[1]=new Ce(d[1],i),u=!0;break}}var v=i+1;if(u){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<n;v++){var d=t.findGuardPattern(e,p[0],v,r,!1,o,f);if(d!=null&&Math.abs(p[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-d[1])<t.MAX_PATTERN_DRIFT)p=d,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Ce(p[0],v),l[3]=new Ce(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Qn.fill(l,null),l},t.findGuardPattern=function(e,n,r,i,a,o,l){Qn.fillWithin(l,0,l.length,0);for(var u=n,f=0;e.get(u,r)&&u>0&&f++<t.MAX_PIXEL_DRIFT;)u--;for(var d=u,p=0,v=o.length,m=a;d<i;d++){var b=e.get(d,r);if(b!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,d]);u+=l[0]+l[1],Wt.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,d-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return 1/0;var u=a/o;r*=u;for(var f=0,d=0;d<i;d++){var p=e[d],v=n[d]*u,m=p>v?p-v:v-p;if(m>r)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),BZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nc=(function(){function t(e,n){if(n.length===0)throw new Le;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Wt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=BZ(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)u=this.field.add(this.field.multiply(e,u),this.coefficients[d]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;Wt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=this.field.add(n[l-o],r[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Le("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=0;l<r;l++)for(var u=n[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(u,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new Le;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ye,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),UZ=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Le;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new QM;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),FZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),VZ=(function(t){FZ(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var a=1,o=0;o<n;o++)i.expTable[o]=a,a=a*r%n;for(var o=0;o<n-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Nc(i,new Int32Array([0])),i.one=new Nc(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new Le;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new Nc(this,i)},e.PDF417_GF=new e(pt.NUMBER_OF_CODEWORDS,3),e})(UZ),zZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HZ=(function(){function t(){this.field=VZ.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,a,o=new Nc(this.field,e),l=new Int32Array(n),u=!1,f=n;f>0;f--){var d=o.evaluateAt(this.field.exp(f));l[n-f]=d,d!==0&&(u=!0)}if(!u)return 0;var p=this.field.getOne();if(r!=null)try{for(var v=zZ(r),m=v.next();!m.done;m=v.next()){var b=m.value,w=this.field.exp(e.length-1-b),A=new Nc(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(A)}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new Nc(this.field,l),O=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),S,n),I=O[0],R=O[1],k=this.findErrorLocations(I),L=this.findErrorMagnitudes(R,I,k),f=0;f<k.length;f++){var P=e.length-1-this.field.log(k[f]);if(P<0)throw ur.getChecksumInstance();e[P]=this.field.subtract(e[P],L[f])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=e,o=n,l=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,d=l;if(a=o,l=u,a.isZero())throw ur.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var b=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(b,w)),o=o.subtract(a.multiplyByMonomial(b,w))}u=p.multiply(l).subtract(d).negative()}var A=u.getCoefficient(0);if(A===0)throw ur.getChecksumInstance();var S=this.field.inverse(A),O=u.multiply(S),I=o.multiply(S);return[O,I]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,a=1;a<this.field.getSize()&&i<n;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==n)throw ur.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,n.getCoefficient(o));for(var l=new Nc(this.field,a),u=r.length,f=new Int32Array(u),o=0;o<u;o++){var d=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(d)),v=this.field.inverse(l.evaluateAt(d));f[o]=this.field.multiply(p,v)}return f},t})(),nw=(function(){function t(e,n,r,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,a)}return t.prototype.constructor_1=function(e,n,r,i,a){var o=n==null||r==null,l=i==null||a==null;if(o&&l)throw new oe;o?(n=new Ce(0,i.getY()),r=new Ce(0,a.getY())):l&&(i=new Ce(e.getWidth()-1,n.getY()),a=new Ce(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var d=new Ce(u.getX(),f);r?i=d:o=d}if(n>0){var p=r?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Ce(p.getX(),v);r?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),$Z=(function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),bA=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(o,l,u,f,d,p){if(o==="%%")return"%";if(n[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=d?parseInt(d.substr(1)):void 0,m;switch(p){case"s":m=n[r];break;case"c":m=n[r][0];break;case"f":m=parseFloat(n[r]).toFixed(o);break;case"p":m=parseFloat(n[r]).toPrecision(o);break;case"e":m=parseFloat(n[r]).toExponential(o);break;case"x":m=parseInt(n[r]).toString(v||16);break;case"d":m=parseFloat(parseInt(n[r],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var b=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";m.length<b;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),qZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a9=(function(){function t(e){this.boundingBox=new nw(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new bA,i=0;try{for(var a=qZ(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),GZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WZ=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Dh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=GZ(this.values.entries()),l=o.next();!l.done;l=o.next()){var u=WZ(l.value,2),f=u[0],d=u[1];a(f,d)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return pt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),KZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),k2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E6=(function(t){KZ(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=k2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0,v=l;v<u;v++)if(r[v]!=null){var m=r[v],b=m.getRowNumber()-f;if(b===0)p++;else if(b===1)d=Math.max(d,p),p=1,f=m.getRowNumber();else if(b<0||m.getRowNumber()>=n.getRowCount()||b>v)r[v]=null;else{var w=void 0;d>2?w=(d-2)*b:w=b;for(var A=w>=v,S=1;S<=w&&!A;S++)A=r[v-S]!=null;A?r[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=k2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var u=l.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,d=o;d<l;d++)if(u[d]!=null){var p=u[d];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=n.getRowCount()?u[d]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),a=new Dh,o=new Dh,l=new Dh,u=new Dh;try{for(var f=k2(i),d=f.next();!d.done;d=f.next()){var p=d.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:u.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<pt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>pt.MAX_ROWS_IN_BARCODE)return null;var b=new $Z(a.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,b),b},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var a=n[i];if(n[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:o+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(a9),XZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YZ=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=pt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[n],l=this.detectionResultColumns[e-1].getCodewords(),u=l;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[n],f[3]=u[n],n>0&&(f[0]=r[n-1],f[4]=l[n-1],f[5]=u[n-1]),n>1&&(f[8]=r[n-2],f[10]=l[n-2],f[11]=u[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=l[n+1],f[7]=u[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=l[n+2],f[13]=u[n+2]);try{for(var d=XZ(f),p=d.next();!p.done;p=d.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new bA,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()},t})(),QZ=(function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),ZZ=(function(){function t(){}return t.initialize=function(){for(var e=0;e<pt.SYMBOL_TABLE.length;e++)for(var n=pt.SYMBOL_TABLE[e],r=n&1,i=0;i<pt.BARS_IN_MODULE;i++){for(var a=0;(n&1)===r;)a+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(pt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][pt.BARS_IN_MODULE-i-1]=Math.fround(a/pt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=mt.sum(e),r=new Int32Array(pt.BARS_IN_MODULE),i=0,a=0,o=0;o<pt.MODULES_IN_CODEWORD;o++){var l=n/(2*pt.MODULES_IN_CODEWORD)+o*n/pt.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return pt.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=mt.sum(e),r=new Array(pt.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var a=Yb.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var u=0,f=t.RATIOS_TABLE[l],d=0;d<pt.BARS_IN_MODULE;d++){var p=Math.fround(f[d]-r[d]);if(u+=Math.fround(p*p),u>=a)break}u<a&&(a=u,o=pt.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(pt.SYMBOL_TABLE.length).map(function(e){return new Array(pt.BARS_IN_MODULE)}),t})(),JZ=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),A6=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),eJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tJ=(function(t){eJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(gi),nJ=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new tJ;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new vA;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),rJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),iJ=(function(t){rJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(gi),aJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oJ=(function(t){aJ(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new Le("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new iJ;i=Qe.MAX_VALUE}this.buf=Qn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new vA;this.ensureCapacity(this.count+i),Wt.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Qn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(nJ),Vt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Vt||(Vt={}));function o9(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var H1;function sl(t){if(typeof H1>"u"&&(H1=o9()),H1===null)throw new Error("BigInt is not supported!");return H1(t)}function sJ(){var t=[];t[0]=sl(1);var e=sl(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var lJ=(function(){function t(){}return t.decode=function(e,n){var r=new Ye(""),i=Yn.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],l=new JZ;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,r);break;case t.ECI_CHARSET:Yn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:a--,a=t.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw me.getFormatInstance()}if(r.length()===0)throw me.getFormatInstance();var u=new Cm(null,r.toString(),null,n);return u.setOther(l),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,n++)i[a]=e[n];r.setSegmentIndex(Qe.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ye;n=t.textCompaction(e,n,o),r.setFileId(o.toString());var l=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new Ye;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Ye;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Ye;n=t.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Ye;n=t.numericCompaction(e,n+1,p),r.setSegmentCount(Qe.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Ye;n=t.numericCompaction(e,n+1,v),r.setTimestamp(A6.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Ye;n=t.numericCompaction(e,n+1,m),r.setChecksum(Qe.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new Ye;n=t.numericCompaction(e,n+1,b),r.setFileSize(A6.parseLong(b.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(l!==-1){var w=n-l;r.isLastSegment()&&w--,r.setOptionalData(Qn.copyOfRange(e,l,l+w))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),a=new Int32Array((e[0]-n)*2),o=0,l=!1;n<e[0]&&!l;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],a[o]=u,o++;break}}return t.decodeTextCompaction(i,a,o,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var a=Vt.ALPHA,o=Vt.ALPHA,l=0;l<r;){var u=e[l],f="";switch(a){case Vt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.LL:a=Vt.LOWER;break;case t.ML:a=Vt.MIXED;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case t.AS:o=a,a=Vt.ALPHA_SHIFT;break;case t.ML:a=Vt.MIXED;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.MIXED:if(u<t.PL)f=t.MIXED_CHARS[u];else switch(u){case t.PL:a=Vt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Vt.LOWER;break;case t.AL:a=Vt.ALPHA;break;case t.PS:o=a,a=Vt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.PUNCT:if(u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Vt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break;case Vt.PUNCT_SHIFT:if(a=o,u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Vt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Vt.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,n,r,i,a){var o=new oJ,l=0,u=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),p=n[i++];i<n[0]&&!f;)switch(d[l++]=p,u=900*u+p,p=n[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(sl(u)>>sl(8*(5-v))));u=0,l=0}break}i===n[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=p);for(var m=0;m<l;m++)o.write(d[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!f;){var b=n[i++];if(b<t.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(sl(u)>>sl(8*(5-v))));u=0,l=0}}break}return a.append(ua.decode(o.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!a;){var l=e[n++];if(n===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(t.decodeBase900toBase10(o,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=sl(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*sl(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new me;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=o9()?sJ():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),gh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cJ=(function(){function t(){}return t.decode=function(e,n,r,i,a,o,l){for(var u=new nw(e,n,r,i,a),f=null,d=null,p,v=!0;;v=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,u,n,!0,o,l)),i!=null&&(d=t.getRowIndicatorColumn(e,u,i,!1,o,l)),p=t.merge(f,d),p==null)throw oe.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<u.getMinY()||m.getMaxY()>u.getMaxY()))u=m;else break}p.setBoundingBox(u);var b=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(b,d);for(var w=f!=null,A=1;A<=b;A++){var S=w?A:b-A;if(p.getDetectionResultColumn(S)===void 0){var O=void 0;S===0||S===b?O=new E6(u,S===0):O=new a9(u),p.setDetectionResultColumn(S,O);for(var I=-1,R=I,k=u.getMinY();k<=u.getMaxY();k++){if(I=t.getStartColumn(p,S,k,w),I<0||I>u.getMaxX()){if(R===-1)continue;I=R}var L=t.detectCodeword(e,u.getMinX(),u.getMaxX(),w,I,k,o,l);L!=null&&(O.setCodeword(k,L),R=I,o=Math.min(o,L.getWidth()),l=Math.max(l,L.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=nw.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new YZ(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=gh(i),u=l.next();!u.done;u=l.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(m){n={error:m}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(var d=e.getCodewords(),p=0;o>0&&d[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=d.length-1;v>0&&d[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var a=gh(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,a,o){for(var l=new E6(n,i),u=0;u<2;u++)for(var f=u===0?1:-1,d=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=n.getMaxY()&&p>=n.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,d,p,a,o);v!=null&&(l.setCodeword(p,v),i?d=v.getStartX():d=v.getEndX())}return l},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>pt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=n[l][u+1].getValue(),d=l*e.getBarcodeColumnCount()+u;f.length===0?r.push(d):f.length===1?i[d]=f[0]:(o.push(d),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,pt.toIntArray(r),pt.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var u=0;u<o.length;u++)n[i[u]]=a[u][o[u]];try{return t.decodeCodewords(n,e,r)}catch(d){var f=d instanceof ur;if(!f)throw d}if(o.length===0)throw ur.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw ur.getChecksumInstance()}throw ur.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)o[l][u]=new Dh;var f=0;try{for(var d=gh(e.getDetectionResultColumns()),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,gh(v.getCodewords())),b=m.next();!b.done;b=m.next()){var w=b.value;if(w!=null){var A=w.getRowNumber();if(A>=0){if(A>=o.length)continue;o[A][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){n={error:S}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return o},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var a,o,l=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodeword(r)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(r),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-l)&&(u=e.getDetectionResultColumn(n-l).getCodewordNearby(r)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var d=(a=void 0,gh(e.getDetectionResultColumn(n).getCodewords())),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,a,o,l,u){a=t.adjustCodewordStartColumn(e,n,r,i,a,o);var f=t.getModuleBitCount(e,n,r,i,a,o);if(f==null)return null;var d,p=mt.sum(f);if(i)d=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}d=a,a=d-p}if(!t.checkCodewordSkew(p,l,u))return null;var b=ZZ.getDecodedValue(f),w=pt.getCodeword(b);return w===-1?null:new QZ(a,d,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,n,r,i,a,o){for(var l=a,u=new Int32Array(8),f=0,d=i?1:-1,p=i;(i?l<r:l>=n)&&f<u.length;)e.get(l,o)===p?(u[f]++,l+=d):(f++,p=!p);return f===u.length||l===(i?r:n)&&f===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,a,o){for(var l=a,u=i?-1:1,f=0;f<2;f++){for(;(i?l>=n:l<r)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=u}u=-u,i=!i}return l},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw me.getFormatInstance();var i=1<<n+1,a=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var o=lJ.decode(e,""+n);return o.setErrorsCorrected(a),o.setErasures(r.length),o},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw ur.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw me.getFormatInstance();var r=e[0];if(r>e.length)throw me.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new bA,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new HZ,t})(),uJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rw=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw oe.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof me||r instanceof ur?oe.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,a,o=new Array,l=LZ.detectMultiple(e,n,r);try{for(var u=uJ(l.getPoints()),f=u.next();!f.done;f=u.next()){var d=f.value,p=cJ.decode(l.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),v=new zr(p.getText(),p.getRawBytes(),void 0,d,je.PDF_417);v.putMetadata(Ir.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(Ir.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(b){return b})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),fJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),S6=(function(t){fJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(gi),T6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dJ=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(an.TRY_HARDER)!==void 0,r=e==null?null:e.get(an.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===je.UPC_A||o===je.UPC_E||o===je.EAN_13||o===je.EAN_8||o===je.CODABAR||o===je.CODE_39||o===je.CODE_93||o===je.CODE_128||o===je.ITF||o===je.RSS_14||o===je.RSS_EXPANDED});a&&!n&&i.push(new Nh(e)),r.includes(je.QR_CODE)&&i.push(new tw),r.includes(je.DATA_MATRIX)&&i.push(new ew),r.includes(je.AZTEC)&&i.push(new Zb),r.includes(je.PDF_417)&&i.push(new rw),a&&n&&i.push(new Nh(e))}i.length===0&&(n||i.push(new Nh(e)),i.push(new tw),i.push(new ew),i.push(new Zb),i.push(new rw),n&&i.push(new Nh(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=T6(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new S6("No readers where selected, nothing can be read.");try{for(var i=T6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof S6)continue}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t})(),hJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pJ=(function(t){hJ(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,a=new dJ;return a.setHints(n),i=t.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(Yf),gJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){gJ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new rw,n)||this}return e})(Yf);var vJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){vJ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new tw,n)||this}return e})(Yf);var iw;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(iw||(iw={}));const $1=iw;var s9=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new wl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,a=n.length;a<=e;a++){var o=r.multiply(new wl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));n.push(o),r=o}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new Le("No error correction bytes");var r=e.length-n;if(r<=0)throw new Le("No data bytes provided");var i=this.buildGenerator(n),a=new Int32Array(r);Wt.arraycopy(e,0,a,0,r);var o=new wl(this.field,a);o=o.multiplyByMonomial(n,1);for(var l=o.divide(i)[1],u=l.getCoefficients(),f=n-u.length,d=0;d<f;d++)e[r+d]=0;Wt.arraycopy(u,0,e,r+f,u.length)},t})(),Mh=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=r[o],u=0;u<i-1;u++){var f=l[u];f===l[u+1]&&f===r[o+1][u]&&f===r[o+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var u=r[o];l+6<i&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(t.isWhiteHorizontal(u,l-4,l)||t.isWhiteHorizontal(u,l+7,l+11))&&n++,o+6<a&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(t.isWhiteVertical(r,l,o-4,o)||t.isWhiteVertical(r,l,o+7,o+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=r[o],u=0;u<i;u++)l[u]===1&&n++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(n*2-f)*10/f);return d*t.N4},t.getDataMaskBit=function(e,n,r){var i,a;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:a=r*n,i=(a&1)+a%3;break;case 6:a=r*n,i=(a&1)+a%3&1;break;case 7:a=r*n,i=a%3+(r+n&1)&1;break;default:throw new Le("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),a=n?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var u=0,f=-1,d=0;d<a;d++){var p=n?o[l][d]:o[d][l];p===f?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,f=p)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),mJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yJ=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=mJ(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Qn.fill(o,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=n.bytes[r],l=0,u=this.width;l<u;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Ye,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),aw=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ye;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),xJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Qt=(function(t){xJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(gi),C6=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,a){t.clearMatrix(a),t.embedBasicPatterns(r,a),t.embedTypeInfo(n,i,a),t.maybeEmbedVersionInfo(r,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new fr;t.makeTypeInfoBits(e,n,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),u=t.TYPE_INFO_COORDINATES[a],f=u[0],d=u[1];if(r.setBoolean(f,d,l),a<8){var p=r.getWidth()-a-1,v=8;r.setBoolean(p,v,l)}else{var p=8,v=r.getHeight()-7+(a-8);r.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new fr;t.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=r.get(i);i--,n.setBoolean(a,n.getHeight()-11+o,l),n.setBoolean(n.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,n,r){for(var i=0,a=-1,o=r.getWidth()-1,l=r.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(t.isEmpty(r.get(f,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,n!==255&&Mh.getDataMaskBit(n,f,l)&&(d=!d),r.setBoolean(f,l,d)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Qt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new Le("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!aw.isValidMaskPattern(n))throw new Qt("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(a,10);var o=new fr;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Qt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Qt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Qt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Qt;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Qt;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&t.isEmpty(n.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),_J=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),I6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Mh.applyMaskPenaltyRule1(e)+Mh.applyMaskPenaltyRule2(e)+Mh.applyMaskPenaltyRule3(e)+Mh.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get($1.CHARACTER_SET)!==void 0;a&&(i=r.get($1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new fr;if(o===Zt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Yn.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,l)}this.appendModeInfo(o,l);var f=new fr;this.appendBytes(e,o,f,i);var d;if(r!==null&&r.get($1.QR_VERSION)!==void 0){var p=Number.parseInt(r.get($1.QR_VERSION).toString(),10);d=Fc.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,d);if(!this.willFit(v,d,n))throw new Qt("Data too big for requested version")}else d=this.recommendVersion(n,o,l,f);var m=new fr;m.appendBitArray(l);var b=o===Zt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,d,o,m),m.appendBitArray(f);var w=d.getECBlocksForLevel(n),A=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(A,m);var S=this.interleaveWithECBytes(m,d.getTotalCodewords(),A,w.getNumBlocks()),O=new aw;O.setECLevel(n),O.setMode(o),O.setVersion(d);var I=d.getDimensionForVersion(),R=new yJ(I,I),k=this.chooseMaskPattern(S,n,d,R);return O.setMaskPattern(k),C6.buildMatrix(S,n,d,k,R),O.setMatrix(R),O},t.recommendVersion=function(e,n,r,i){var a=this.calculateBitsNeeded(n,r,i,Fc.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(n,r,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),Yn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Zt.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Zt.BYTE}return i?Zt.ALPHANUMERIC:r?Zt.NUMERIC:Zt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=ua.encode(e,Yn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=n[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<aw.NUM_MASK_PATTERNS;l++){C6.buildMatrix(e,n,r,l,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=l)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=Fc.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Qt("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),a=n.getECBlocksForLevel(r),o=a.getTotalECCodewords(),l=i-o,u=(e+7)/8;return l>=u},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Qt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var a=n.getSize()&7;if(a>0)for(var i=a;i<8;i++)n.appendBit(!1);for(var o=e-n.getSizeInBytes(),i=0;i<o;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==r)throw new Qt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,a,o){if(i>=r)throw new Qt("Block ID too large");var l=e%r,u=r-l,f=Math.floor(e/r),d=f+1,p=Math.floor(n/r),v=p+1,m=f-p,b=d-v;if(m!==b)throw new Qt("EC bytes mismatch");if(r!==u+l)throw new Qt("RS blocks mismatch");if(e!==(p+m)*u+(v+b)*l)throw new Qt("Total bytes mismatch");i<u?(a[0]=p,o[0]=m):(a[0]=v,o[0]=b)},t.interleaveWithECBytes=function(e,n,r,i){var a,o,l,u;if(e.getSizeInBytes()!==r)throw new Qt("Number of bits and data bytes does not match");for(var f=0,d=0,p=0,v=new Array,m=0;m<i;++m){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,m,b,w);var A=b[0],S=new Uint8Array(A);e.toBytes(8*f,S,0,A);var O=t.generateECBytes(S,w[0]);v.push(new _J(S,O)),d=Math.max(d,A),p=Math.max(p,O.length),f+=b[0]}if(r!==f)throw new Qt("Data bytes does not match offset");for(var I=new fr,m=0;m<d;++m)try{for(var R=(a=void 0,I6(v)),k=R.next();!k.done;k=R.next()){var L=k.value,S=L.getDataBytes();m<S.length&&I.appendBits(S[m],8)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var P=(l=void 0,I6(v)),M=P.next();!M.done;M=P.next()){var L=M.value,O=L.getErrorCorrectionBytes();m<O.length&&I.appendBits(O[m],8)}}catch(z){l={error:z}}finally{try{M&&!M.done&&(u=P.return)&&u.call(P)}finally{if(l)throw l.error}}if(n!==I.getSizeInBytes())throw new Qt("Interleaving error: "+n+" and "+I.getSizeInBytes()+" differ.");return I},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),a=0;a<r;a++)i[a]=e[a]&255;new s9(fi.QR_CODE_FIELD_256).encode(i,n);for(var o=new Uint8Array(n),a=0;a<n;a++)o[a]=i[r+a];return o},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var a=r.getCharacterCountBits(n);if(e>=1<<a)throw new Qt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,n,r,i){switch(n){case Zt.NUMERIC:t.appendNumericBytes(e,r);break;case Zt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Zt.BYTE:t.append8BitBytes(e,r,i);break;case Zt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Qt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getDigit(e.charAt(i));if(i+2<r){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));n.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<r){var o=t.getDigit(e.charAt(i+1));n.appendBits(a*10+o,7),i+=2}else n.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Qt;if(i+1<r){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Qt;n.appendBits(a*45+o,11),i+=2}else n.appendBits(a,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=ua.encode(e,r)}catch(u){throw new Qt(u)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];n.appendBits(l,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=ua.encode(e,Yn.SJIS)}catch(p){throw new Qt(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,l=r[a+1]&255,u=o<<8&4294967295|l,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Qt("Invalid byte sequence");var d=(f>>8)*192+(f&255);n.appendBits(d,13)}},t.appendECI=function(e,n){n.appendBits(Zt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Yn.UTF8.getName(),t})();var bJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){bJ(e,t);function e(n,r,i,a,o,l,u,f){var d=t.call(this,l,u)||this;if(d.yuvData=n,d.dataWidth=r,d.dataHeight=i,d.left=a,d.top=o,a+l>r||o+u>i)throw new Le("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(l,u),d}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Le("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return Wt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Wt.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<r;l++){var u=l*n;Wt.arraycopy(this.yuvData,o,a,u,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<r;l++){for(var u=l*n,f=0;f<n;f++){var d=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var l=o+n/2,u=o,f=o+n-1;u<l;u++,f--){var d=i[u];i[u]=i[f],i[f]=d}},e.prototype.invert=function(){return new mA(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Tm);var wJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){wJ(e,t);function e(n,r,i,a,o,l,u){var f=t.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=u,n.BYTES_PER_ELEMENT===4){for(var d=r*i,p=new Uint8ClampedArray(d),v=0;v<d;v++){var m=n[v],b=m>>16&255,w=m>>7&510,A=m&255;p[v]=(b+w+A)/4&255}f.luminances=p}else f.luminances=n;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new Le("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new Le("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return Wt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Wt.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<r;l++){var u=l*n;Wt.arraycopy(this.luminances,o,a,u,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new mA(this)},e})(Tm);var EJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),AJ=(function(t){EJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Yn),SJ=(function(){function t(){}return t.ISO_8859_1=Yn.ISO8859_1,t})(),ow,TJ=301,CJ=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=TJ);return{LOG:t,ALOG:e}};ow=CJ([],[]),ow.LOG;ow.ALOG;var O6;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(O6||(O6={}));var R6=129,l9=230,IJ=231,OJ=235,RJ=236,PJ=237,NJ=238,DJ=239,MJ=240,j2=254,kJ=254,P6="[)>05",N6="[)>06",D6="",Dt=0,Er=1,Xr=2,Wn=3,sr=4,Mr=5,jJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Dt},t.prototype.encode=function(e){var n=Na.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Mr:e.writeCodeword(IJ),e.signalEncoderChange(Mr);return;case Er:e.writeCodeword(l9),e.signalEncoderChange(Er);return;case Wn:e.writeCodeword(NJ),e.signalEncoderChange(Wn);break;case Xr:e.writeCodeword(DJ),e.signalEncoderChange(Xr);break;case sr:e.writeCodeword(MJ),e.signalEncoderChange(sr);break;default:throw new Error("Illegal mode: "+i)}else Na.isExtendedASCII(r)?(e.writeCodeword(OJ),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(Na.isDigit(e)&&Na.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),LJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Mr},t.prototype.encode=function(e){var n=new Ye;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}var a=n.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||u)if(a<=249)n.setCharAt(0,ft.getCharAt(a));else if(a<=1555)n.setCharAt(0,ft.getCharAt(Math.floor(a/250)+249)),n.insert(1,ft.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t})(),wA=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Er},t.prototype.encodeMaximal=function(e){for(var n=new Ye,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(i=e.pos,a=n.length())}if(a!==n.length()){var l=Math.floor(n.length()/3*2),u=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(u);var f=e.getSymbolInfo().getDataCapacity()-u,d=Math.floor(n.length()%3);(d===2&&f!==2||d===1&&(r>3||f!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(l9),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new Ye;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),a=Math.floor(n.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new Ye;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,u,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,u,i);break}var f=n.length();if(f%3===0){var d=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var a=n.length(),o=n.toString().substring(0,a-i);n.setLengthToZero(),n.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(j2)}else if(o===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(j2),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(o>0||e.hasMoreCharacters())&&e.writeCodeword(j2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Dt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,a=new Ye;return a.append(r),a.append(i),a.toString()},t})(),BJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return sr},t.prototype.encode=function(e){for(var n=new Ye;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(4);n.setLengthToZero(),n.append(a);var o=Na.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Dt);break}}}n.append(ft.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,l=this.encodeToCodewords(n.toString()),u=!e.hasMoreCharacters(),f=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Dt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(ft.getCharAt(e-64)):Na.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,a=n>=3?e.charAt(2).charCodeAt(0):0,o=n>=4?e.charAt(3).charCodeAt(0):0,l=(r<<18)+(i<<12)+(a<<6)+o,u=l>>16&255,f=l>>8&255,d=l&255,p=new Ye;return p.append(u),n>=2&&p.append(f),n>=3&&p.append(d),p.toString()},t})(),UJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=(function(){function t(e,n,r,i,a,o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=u}return t.lookup=function(e,n,r,i,a){var o,l;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=FJ(zJ),f=u.next();!f.done;f=u.next()){var d=f.value;if(!(n===1&&d.rectangular)&&!(n===2&&!d.rectangular)&&!(r!=null&&(d.getSymbolWidth()<r.getWidth()||d.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),VJ=(function(t){UJ(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(At),zJ=[new At(!1,3,5,8,8,1),new At(!1,5,7,10,10,1),new At(!0,5,7,16,6,1),new At(!1,8,10,12,12,1),new At(!0,10,11,14,6,2),new At(!1,12,12,14,14,1),new At(!0,16,14,24,10,1),new At(!1,18,14,16,16,1),new At(!1,22,18,18,18,1),new At(!0,22,18,16,10,2),new At(!1,30,20,20,20,1),new At(!0,32,24,16,14,2),new At(!1,36,24,22,22,1),new At(!1,44,28,24,24,1),new At(!0,49,28,22,14,2),new At(!1,62,36,14,14,4),new At(!1,86,42,16,16,4),new At(!1,114,48,18,18,4),new At(!1,144,56,20,20,4),new At(!1,174,68,22,22,4),new At(!1,204,84,24,24,4,102,42),new At(!1,280,112,14,14,16,140,56),new At(!1,368,144,16,16,16,92,36),new At(!1,456,192,18,18,16,114,48),new At(!1,576,224,20,20,16,144,56),new At(!1,696,272,22,22,16,174,68),new At(!1,816,336,24,24,16,136,56),new At(!1,1050,408,18,18,36,175,68),new At(!1,1304,496,20,20,36,163,62),new VJ],HJ=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),r=new Ye,i=0,a=n.length;i<a;i++){var o=String.fromCharCode(n[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new Ye,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=At.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),$J=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qJ=(function(t){$J(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Wn},e.prototype.encode=function(n){for(var r=new Ye;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(n,r);var o=Na.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(Dt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):Na.illegalCharacter(ft.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),a=r.length();n.pos-=a,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(kJ),n.getNewEncoding()<0&&n.signalEncoderChange(Dt)},e})(wA),GJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),WJ=(function(t){GJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Xr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e})(wA),Na=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=R6+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,a){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new wA,l=[new jJ,o,new WJ,new qJ,new BJ,new LJ],u=new HJ(e);u.setSymbolShape(n),u.setSizeConstraints(r,i),e.startsWith(P6)&&e.endsWith(D6)?(u.writeCodeword(RJ),u.setSkipAtEnd(2),u.pos+=P6.length):e.startsWith(N6)&&e.endsWith(D6)&&(u.writeCodeword(PJ),u.setSkipAtEnd(2),u.pos+=N6.length);var f=Dt;for(a&&(o.encodeMaximal(u),f=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)l[f].encode(u),u.getNewEncoding()>=0&&(f=u.getNewEncoding(),u.resetEncoderSignal());var d=u.getCodewordCount();u.updateSymbolInfo();var p=u.getSymbolInfo().getDataCapacity();d<p&&f!==Dt&&f!==Mr&&f!==sr&&u.writeCodeword("þ");var v=u.getCodewords();for(v.length()<p&&v.append(R6);v.length()<p;)v.append(this.randomize253State(v.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===Wn&&i===Wn){for(var a=Math.min(n+3,e.length),o=n;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Dt}else if(r===sr&&i===sr){for(var a=Math.min(n+4,e.length),o=n;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Dt}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===Dt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(n+a===e.length){Qn.fill(o,0),Qn.fill(l,0);var u=this.findMinimums(i,l,Qe.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Dt]===u)return Dt;if(f===1){if(o[Mr]>0)return Mr;if(o[sr]>0)return sr;if(o[Xr]>0)return Xr;if(o[Wn]>0)return Wn}return Er}var d=e.charCodeAt(n+a);if(a++,this.isDigit(d)?i[Dt]+=.5:this.isExtendedASCII(d)?(i[Dt]=Math.ceil(i[Dt]),i[Dt]+=2):(i[Dt]=Math.ceil(i[Dt]),i[Dt]++),this.isNativeC40(d)?i[Er]+=2/3:this.isExtendedASCII(d)?i[Er]+=8/3:i[Er]+=4/3,this.isNativeText(d)?i[Xr]+=2/3:this.isExtendedASCII(d)?i[Xr]+=8/3:i[Xr]+=4/3,this.isNativeX12(d)?i[Wn]+=2/3:this.isExtendedASCII(d)?i[Wn]+=13/3:i[Wn]+=10/3,this.isNativeEDIFACT(d)?i[sr]+=3/4:this.isExtendedASCII(d)?i[sr]+=17/4:i[sr]+=13/4,this.isSpecialB256(d)?i[Mr]+=4:i[Mr]++,a>=4){if(Qn.fill(o,0),Qn.fill(l,0),this.findMinimums(i,l,Qe.MAX_VALUE,o),l[Dt]<this.min(l[Mr],l[Er],l[Xr],l[Wn],l[sr]))return Dt;if(l[Mr]<l[Dt]||l[Mr]+1<this.min(l[Er],l[Xr],l[Wn],l[sr]))return Mr;if(l[sr]+1<this.min(l[Mr],l[Er],l[Xr],l[Wn],l[Dt]))return sr;if(l[Xr]+1<this.min(l[Mr],l[Er],l[sr],l[Wn],l[Dt]))return Xr;if(l[Wn]+1<this.min(l[Mr],l[Er],l[sr],l[Xr],l[Dt]))return Wn;if(l[Er]+1<this.min(l[Dt],l[Mr],l[sr],l[Xr])){if(l[Er]<l[Wn])return Er;if(l[Er]===l[Wn]){for(var p=n+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return Wn;if(!this.isNativeX12(v))break;p++}return Er}}}}},t.min=function(e,n,r,i,a){var o=Math.min(e,Math.min(n,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,n,r,i){for(var a=0;a<6;a++){var o=n[a]=Math.ceil(e[a]);r>o&&(r=o,Qn.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=Qe.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),L2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M6=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ua.encode(e,this.charset)!=null}catch{return!1}},t})(),KJ=(function(){function t(e,n,r){var i,a,o,l,u,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new M6(AJ.forName(j))}),this.encoders=[];var d=[];d.push(new M6(SJ.ISO_8859_1));for(var p=n!=null&&n.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var b=(i=void 0,L2(d)),w=b.next();!w.done;w=b.next()){var A=w.value,S=e.charAt(v),O=S.charCodeAt(0);if(O===r||A.canEncode(S)){m=!0;break}}}catch(j){i={error:j}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}if(!m)try{for(var I=(o=void 0,L2(this.ENCODERS)),R=I.next();!R.done;R=I.next()){var A=R.value;if(A.canEncode(e.charAt(v))){d.push(A),m=!0;break}}}catch(j){o={error:j}}finally{try{R&&!R.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}m||(p=!0)}if(d.length===1&&!p)this.encoders=[d[0]];else{this.encoders=[];var k=0;try{for(var L=L2(d),P=L.next();!P.done;P=L.next()){var A=P.value;this.encoders[k++]=A}}catch(j){u={error:j}}finally{try{P&&!P.done&&(f=L.return)&&f.call(L)}finally{if(u)throw u.error}}}var M=-1;if(n!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&n.name===this.encoders[v].name){M=v;break}}this.priorityEncoderIndex=M}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return ua.encode(ft.getCharAt(e),this.encoders[n].name)},t})(),XJ=3,YJ=(function(){function t(e,n,r){this.fnc1=r;var i=new KJ(e,n,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new Ye,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,a,o){var l=e.charAt(i).charCodeAt(0),u=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(l===o||n.canEncode(l,n.getPriorityEncoderIndex()))&&(u=n.getPriorityEncoderIndex(),f=u+1);for(var d=u;d<f;d++)(l===o||n.canEncode(l,d))&&this.addEdge(r,i+1,new k6(l,n,d,a,o))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,a=new k6[i+1][n.length()];this.addEdges(e,n,a,0,null,r);for(var o=1;o<=i;o++){for(var l=0;l<n.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,n,a,o,a[o][l],r);for(var l=0;l<n.length();l++)a[o-1][l]=null}for(var u=-1,f=Qe.MAX_VALUE,l=0;l<n.length();l++)if(a[i][l]!=null){var d=a[i][l];d.cachedTotalSize<f&&(f=d.cachedTotalSize,u=l)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][u];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=n.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var b=v.previous===null?0:v.previous.encoderIndex;b!==v.encoderIndex&&p.unshift(256+n.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),k6=(function(){function t(e,n,r,i,a){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:n.encode(e,r).length,l=i===null?0:i.encoderIndex;l!==r&&(o+=XJ),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),QJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var j6;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(j6||(j6={}));(function(t){QJ(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(YJ);var ZJ=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),L6=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),JJ=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),eee=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),EA=(function(t){eee(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Qe.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(JJ),tee=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nee=(function(t){tee(e,t);function e(n,r,i){var a=t.call(this,n,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(EA);function ree(t,e,n){return new nee(t,e,n)}function vh(t,e,n){return new EA(t,e,n)}var iee=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],El=0,ev=1,oa=2,c9=3,co=4,aee=new EA(null,0,0),B2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],oee=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function see(t){var e,n;try{for(var r=oee(t),i=r.next();!i.done;i=r.next()){var a=i.value;Qn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[El][co]=0,t[ev][co]=0,t[ev][El]=28,t[c9][co]=0,t[oa][co]=0,t[oa][El]=15,t}var u9=see(Qn.createInt32Array(6,6)),lee=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cee=(function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=B2[this.mode][e];i=vh(i,a&65535,a>>16),r+=a>>16}var o=e===oa?4:5;return i=vh(i,n,o),new t(i,e,0,r+o)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===oa?4:5;return r=vh(r,u9[this.mode][e],i),r=vh(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===co||this.mode===oa){var a=B2[r][El];n=vh(n,a&65535,a>>16),i+=a>>16,r=El}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(n,r,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=ree(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(B2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new fr;try{for(var l=lee(i),u=l.next();!u.done;u=l.next()){var f=u.value;f.appendTo(o,e)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",iee[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(aee,El,0,0),t})();function uee(t){var e=ft.getCharCode(" "),n=ft.getCharCode("."),r=ft.getCharCode(",");t[El][e]=1;for(var i=ft.getCharCode("Z"),a=ft.getCharCode("A"),o=a;o<=i;o++)t[El][o]=o-a+2;t[ev][e]=1;for(var l=ft.getCharCode("z"),u=ft.getCharCode("a"),o=u;o<=l;o++)t[ev][o]=o-u+2;t[oa][e]=1;for(var f=ft.getCharCode("9"),d=ft.getCharCode("0"),o=d;o<=f;o++)t[oa][o]=o-d+2;t[oa][r]=12,t[oa][n]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[c9][ft.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ft.getCharCode(m[v])>0&&(t[co][ft.getCharCode(m[v])]=v);return t}var U2=uee(Qn.createInt32Array(5,256)),q1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fee=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),n=ft.getCharCode(`
`),r=L6.singletonList(cee.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ft.getCharCode("\r"):a=o===n?2:0;break;case ft.getCharCode("."):a=o===e?3:0;break;case ft.getCharCode(","):a=o===e?4:0;break;case ft.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=t.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var l=L6.min(r,function(u,f){return u.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,a=[];try{for(var o=q1(e),l=o.next();!l.done;l=o.next()){var u=l.value;this.updateStateForChar(u,n,a)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,a=U2[e.getMode()][i]>0,o=null,l=0;l<=co;l++){var u=U2[l][i];if(u>0){if(o==null&&(o=e.endBinaryShift(n)),!a||l===e.getMode()||l===oa){var f=o.latchAndAppend(l,u);r.push(f)}if(!a&&u9[e.getMode()][l]>=0){var d=o.shiftAndAppend(l,u);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||U2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(n);r.push(p)}},t.updateStateListForPair=function(e,n,r){var i,a,o=[];try{for(var l=q1(e),u=l.next();!u.done;u=l.next()){var f=u.value;this.updateStateForPair(f,n,r,o)}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,n,r,i){var a=e.endBinaryShift(n);if(i.push(a.latchAndAppend(co,r)),e.getMode()!==co&&i.push(a.shiftAndAppend(co,r)),r===3||r===4){var o=a.latchAndAppend(oa,16-r).latchAndAppend(oa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},t.simplifyStates=function(e){var n,r,i,a,o=[];try{for(var l=q1(e),u=l.next();!u.done;u=l.next()){var f=u.value,d=!0,p=function(A){if(A.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(A)&&(o=o.filter(function(S){return S!==A}))};try{for(var v=(i=void 0,q1(o)),m=v.next();!m.done;m=v.next()){var b=m.value,w=p(b);if(w==="break")break}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}d&&o.push(f)}}catch(A){n={error:A}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t})(),dee=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new fee(e).encode(),a=Qe.truncDivision(i.getSize()*n,100)+11,o=i.getSize()+a,l,u,f,d,p;if(r!==t.DEFAULT_AZTEC_LAYERS){if(l=r<0,u=Math.abs(r),u>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Le(ft.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(u,l),d=t.WORD_SIZE[u];var v=f-f%d;if(p=t.stuffBits(i,d),p.getSize()+a>v)throw new Le("Data to large for user specified layer");if(l&&p.getSize()>d*64)throw new Le("Data to large for user specified layer")}else{d=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Le("Data too large for an Aztec code");if(l=m<=3,u=l?m+1:m,f=t.totalBitsInLayer(u,l),!(o>f)){(p==null||d!==t.WORD_SIZE[u])&&(d=t.WORD_SIZE[u],p=t.stuffBits(i,d));var v=f-f%d;if(!(l&&p.getSize()>d*64)&&p.getSize()+a<=v)break}}}var b=t.generateCheckWords(p,f,d),w=p.getSize()/d,A=t.generateModeMessage(l,u,w),S=(l?11:14)+u*4,O=new Int32Array(S),I;if(l){I=S;for(var m=0;m<O.length;m++)O[m]=m}else{I=S+1+2*Qe.truncDivision(Qe.truncDivision(S,2)-1,15);for(var R=Qe.truncDivision(S,2),k=Qe.truncDivision(I,2),m=0;m<R;m++){var L=m+Qe.truncDivision(m,15);O[R-m-1]=k-L-1,O[R+m]=k+L+1}}for(var P=new xo(I),m=0,M=0;m<u;m++){for(var j=(u-m)*4+(l?9:12),z=0;z<j;z++)for(var U=z*2,H=0;H<2;H++)b.get(M+U+H)&&P.set(O[m*2+H],O[m*2+z]),b.get(M+j*2+U+H)&&P.set(O[m*2+z],O[S-1-m*2-H]),b.get(M+j*4+U+H)&&P.set(O[S-1-m*2-H],O[S-1-m*2-z]),b.get(M+j*6+U+H)&&P.set(O[S-1-m*2-z],O[m*2+H]);M+=j*8}if(t.drawModeMessage(P,l,I,A),l)t.drawBullsEye(P,Qe.truncDivision(I,2),5);else{t.drawBullsEye(P,Qe.truncDivision(I,2),7);for(var m=0,z=0;m<Qe.truncDivision(S,2)-1;m+=15,z+=16)for(var H=Qe.truncDivision(I,2)&1;H<I;H+=2)P.set(Qe.truncDivision(I,2)-z,H),P.set(Qe.truncDivision(I,2)+z,H),P.set(H,Qe.truncDivision(I,2)-z),P.set(H,Qe.truncDivision(I,2)+z)}var F=new ZJ;return F.setCompact(l),F.setSize(I),F.setLayers(u),F.setCodeWords(w),F.setMatrix(P),F},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var a=n-i;a<=n+i;a++)e.set(a,n-i),e.set(a,n+i),e.set(n-i,a),e.set(n+i,a);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new fr;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var a=Qe.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Qe.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,n,r){var i,a,o=e.getSize()/r,l=new s9(t.getGF(r)),u=Qe.truncDivision(n,r),f=t.bitsToWords(e,r,u);l.encode(f,u-o);var d=n%r,p=new fr;p.appendBits(0,d);try{for(var v=dee(Array.from(f)),m=v.next();!m.done;m=v.next()){var b=m.value;p.appendBits(b,r)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/n;a<o;a++){for(var l=0,u=0;u<n;u++)l|=e.get(a*n+u)?1<<n-u-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return fi.AZTEC_PARAM;case 6:return fi.AZTEC_DATA_6;case 8:return fi.AZTEC_DATA_8;case 10:return fi.AZTEC_DATA_10;case 12:return fi.AZTEC_DATA_12;default:throw new Le("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new fr,i=e.getSize(),a=(1<<n)-2,o=0;o<i;o+=n){for(var l=0,u=0;u<n;u++)(o+u>=i||e.get(o+u))&&(l|=1<<n-1-u);(l&a)===a?(r.appendBits(l&a,n),o--):(l&a)===0?(r.appendBits(l|1,n),o--):r.appendBits(l,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const f9="YOUR_RAKUTEN_APP_ID_HERE",hee="b72c14dc75bcde18fb7d3628bf7e92b7";async function pee(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await gee(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await vee(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await mee(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await yee(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),xee(t)}async function gee(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",f9),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Items||r.Items.length===0)return null;const i=r.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function vee(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",f9),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Products||r.Products.length===0)return null;const i=r.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function mee(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",hee),e.searchParams.set("query",t),e.searchParams.set("type","code");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.product||r.product.length===0)return null;const i=r.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function yee(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,n=await fetch(e);if(!n.ok)return null;const r=await n.json();if(r.status!==1||!r.product)return null;const i=r.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function xee(t){const n={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return n?{barcode:t,...n,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const _ee=({onProductFound:t,onClose:e})=>{const n=T.useRef(null),[r,i]=T.useState(null),[a,o]=T.useState(null),[l,u]=T.useState(!1),f=T.useRef(null);T.useEffect(()=>(d(),()=>{p()}),[]);const d=async()=>{try{i(null);const m=new pJ;f.current=m;const b=await m.listVideoInputDevices();if(b.length===0)throw new Error("カメラが見つかりません");const w=b.find(S=>{const O=S.label.toLowerCase();return O.includes("back")||O.includes("rear")||O.includes("environment")||O.includes("camera")&&O.includes("0")}),A=w?w.deviceId:b[b.length-1].deviceId;console.log("使用するカメラ:",w?w.label:b[b.length-1].label),m.decodeFromVideoDevice(A,n.current,async(S,O)=>{if(S&&!l){const I=S.getText();if(I===a)return;o(I),u(!0);try{const R=await pee(I);R?(t(R),p()):(i(`商品情報が見つかりませんでした: ${I}`),u(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(R){console.error("商品情報取得エラー:",R),i("商品情報の取得に失敗しました"),u(!1),setTimeout(()=>{i(null),o(null)},3e3)}}O&&!(O instanceof oe)&&console.error("スキャンエラー:",O)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return y.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),y.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),y.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[y.jsx("video",{ref:n,style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&y.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),r&&y.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:r})]}),y.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:y.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},bee=({product:t,onAdded:e,onNavigateToStock:n})=>{const{addIntake:r}=Ao(),{addStock:i}=To(),[a,o]=T.useState(""),[l,u]=T.useState(t.price?.toString()||""),[f,d]=T.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}r({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),n?(e(),setTimeout(()=>{n()},100)):(alert("在庫管理に追加しました！"),e())};return y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(Gv,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),y.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[y.jsxs("div",{style:{marginBottom:"12px"},children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),y.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&y.jsxs("div",{style:{marginBottom:"12px"},children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),y.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),y.jsxs("div",{style:{marginBottom:"12px"},children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),y.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),y.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),y.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),y.jsxs("div",{style:{marginBottom:"24px"},children:[y.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(nE,{size:18}),"食事記録に追加"]}),y.jsx("label",{children:"カロリー (kcal)"}),y.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),y.jsx("label",{children:"金額 (円)"}),y.jsx("input",{type:"number",value:l,onChange:m=>u(m.target.value),placeholder:"例: 150"}),y.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),y.jsxs("div",{children:[y.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(mf,{size:18}),"在庫管理に追加"]}),y.jsx("label",{children:"賞味期限までの日数"}),y.jsx("input",{type:"number",value:f,onChange:m=>d(m.target.value),placeholder:"例: 7"}),y.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:n?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),y.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},wee=({onReceiptScanned:t,onClose:e})=>{const n=T.useRef(null),r=T.useRef(null),i=T.useRef(null),[a,o]=T.useState(!1),[l,u]=T.useState(null),[f,d]=T.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});n.current&&(n.current.srcObject=w,d(w))}catch(w){console.error("カメラアクセスエラー:",w),u("カメラにアクセスできません。ファイル選択をお試しください。")}};Ur.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!n.current||!r.current)){o(!0),u(null);try{const w=n.current,A=r.current,S=A.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");A.width=w.videoWidth,A.height=w.videoHeight,S.drawImage(w,0,0);const O=await new Promise((k,L)=>{A.toBlob(P=>{P?k(P):L(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),I=new File([O],"receipt.jpg",{type:"image/jpeg"}),R=await n6(I);f&&f.getTracks().forEach(k=>k.stop()),t(R)}catch(w){console.error("OCRエラー:",w),u(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const A=w.target.files?.[0];if(A){o(!0),u(null);try{const S=await n6(A);f&&f.getTracks().forEach(O=>O.stop()),t(S)}catch(S){console.error("OCRエラー:",S),u(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},b=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return y.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),y.jsx("button",{onClick:b,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:y.jsx(yf,{size:24})})]}),y.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[y.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("canvas",{ref:r,style:{display:"none"}}),y.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:y.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&y.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),y.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[y.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),y.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[y.jsx(SF,{size:20}),"ファイル選択"]}),y.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":y.jsx(Gh,{size:32})})]})]})},Eee=({result:t,onClose:e})=>{const{addExpense:n}=So(),[r,i]=T.useState(t.items),[a,o]=T.useState(null),[l,u]=T.useState(""),[f,d]=T.useState(""),p=r.reduce((I,R)=>I+R.price*(R.quantity||1),0),v=I=>{const R=r[I];o(I),u(R.name),d(R.price.toString())},m=()=>{if(a===null)return;const I=parseInt(f,10);if(isNaN(I)||I<=0){alert("正しい金額を入力してください");return}const R=[...r];R[a]={...R[a],name:l.trim(),price:I},i(R),o(null),u(""),d("")},b=()=>{o(null),u(""),d("")},w=I=>{if(window.confirm("この商品を削除しますか？")){const R=r.filter((k,L)=>L!==I);i(R)}},A=()=>{const I=window.prompt("商品名を入力してください");if(!I||!I.trim())return;const R=window.prompt("金額を入力してください");if(!R)return;const k=parseInt(R,10);if(isNaN(k)||k<=0){alert("正しい金額を入力してください");return}i([...r,{name:I.trim(),price:k,quantity:1}])},S=()=>{if(r.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${r.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const I=new Date().toISOString();r.forEach(R=>{const k=R.quantity||1;for(let L=0;L<k;L++)n({category:"food",amount:R.price,memo:R.name,date:t.date||I})}),alert("家計簿に登録しました！"),e()},O=I=>new Intl.NumberFormat("ja-JP").format(I);return y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[y.jsx(XN,{size:20}),"レシート内容"]}),y.jsxs("button",{onClick:A,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx(Ig,{size:18}),"追加"]})]}),y.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&y.jsxs("div",{style:{marginBottom:"4px"},children:[y.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&y.jsxs("div",{children:[y.jsx("strong",{children:"日付:"})," ",t.date]})]}),r.length===0?y.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):y.jsx("div",{style:{marginBottom:"16px"},children:r.map((I,R)=>y.jsx("div",{style:{padding:"12px",borderBottom:R<r.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===R?y.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[y.jsx("input",{value:l,onChange:k=>u(k.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),y.jsx("input",{value:f,onChange:k=>d(k.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),y.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:y.jsx(tE,{size:16})}),y.jsx("button",{onClick:b,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:I.name}),I.quantity&&I.quantity>1&&y.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",I.quantity,"個"]})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[y.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",O(I.price*(I.quantity||1))]}),y.jsx("button",{onClick:()=>v(R),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:y.jsx(EF,{size:18})}),y.jsx("button",{onClick:()=>w(R),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:y.jsx(Uf,{size:18})})]})]})},R))}),y.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),y.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",O(p)]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[y.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),y.jsx("button",{onClick:S,className:"submit",disabled:r.length===0,style:{opacity:r.length===0?.5:1},children:"家計簿に登録"})]}),y.jsxs("details",{style:{marginTop:"16px"},children:[y.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),y.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},Aee=({onNavigateToStock:t})=>{const[e,n]=T.useState("select"),[r,i]=T.useState(!1),[a,o]=T.useState(null),[l,u]=T.useState(null),f=()=>{n("barcode"),i(!0),o(null)},d=()=>{n("receipt"),i(!0),u(null)},p=A=>{o(A),i(!1)},v=A=>{u(A),i(!1)},m=()=>{o(null),n("select")},b=()=>{u(null),n("select")},w=()=>{n("select"),i(!1),o(null),u(null)};return y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"スキャン"}),e==="select"&&!r&&!a&&!l&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"card",children:[y.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(Gh,{size:20}),"スキャンモードを選択"]}),y.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[y.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[y.jsx(mF,{size:48}),y.jsx("span",{children:"バーコード"}),y.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),y.jsxs("button",{onClick:d,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[y.jsx(XN,{size:48}),y.jsx("span",{children:"レシート"}),y.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&r&&y.jsx(_ee,{onProductFound:p,onClose:w}),e==="barcode"&&a&&y.jsx(bee,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&r&&y.jsx(wee,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&y.jsx(Eee,{result:l,onClose:b})]})};function B6(t,e,n){return t.filter(r=>{const i=new Date(r.date);return i.getFullYear()===e&&i.getMonth()+1===n})}function U6(t,e,n,r){const i=B6(n,t,e),a=B6(r,t,e),o=i.reduce((d,p)=>d+p.calories,0),l=i.reduce((d,p)=>d+(p.price||0),0),u=a.reduce((d,p)=>d+p.amount,0),f={};return a.forEach(d=>{f[d.category]=(f[d.category]||0)+d.amount}),{year:t,month:e,intakes:{count:i.length,totalCalories:o,avgCalories:i.length>0?o/i.length:0,totalPrice:l},expenses:{count:a.length,total:u,byCategory:f}}}function See(t,e,n,r){const i=U6(t,e,n,r);let a=t,o=e-1;o===0&&(o=12,a-=1);const l=U6(a,o,n,r),u=(f,d)=>d===0?f>0?100:0:(f-d)/d*100;return{current:i,previous:l,changes:{intakesCount:u(i.intakes.count,l.intakes.count),totalCalories:u(i.intakes.totalCalories,l.intakes.totalCalories),avgCalories:u(i.intakes.avgCalories,l.intakes.avgCalories),totalExpenses:u(i.expenses.total,l.expenses.total)}}}function Tee(t){const{current:e,previous:n,changes:r}=t;return`以下のユーザーの月次健康・家計データを分析し、3〜5つの具体的な改善提案をしてください。

【今月のデータ（${e.year}年${e.month}月）】
- 食事記録: ${e.intakes.count}回
- 総カロリー: ${e.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(e.intakes.avgCalories)}kcal/食
- 食費: ¥${e.intakes.totalPrice.toLocaleString()}
- 総支出: ¥${e.expenses.total.toLocaleString()}

【先月のデータ（${n.year}年${n.month}月）】
- 食事記録: ${n.intakes.count}回
- 総カロリー: ${n.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(n.intakes.avgCalories)}kcal/食
- 総支出: ¥${n.expenses.total.toLocaleString()}

【先月比の変化】
- 食事記録回数: ${r.intakesCount>0?"+":""}${r.intakesCount.toFixed(1)}%
- 総カロリー: ${r.totalCalories>0?"+":""}${r.totalCalories.toFixed(1)}%
- 平均カロリー: ${r.avgCalories>0?"+":""}${r.avgCalories.toFixed(1)}%
- 総支出: ${r.totalExpenses>0?"+":""}${r.totalExpenses.toFixed(1)}%

【お願い】
1. データの傾向を簡潔に分析してください
2. 健康面での改善提案を2〜3点
3. 家計面での改善提案を1〜2点
4. 具体的で実行可能なアドバイスをお願いします
5. 日本語で、親しみやすくわかりやすい表現で回答してください`}function Cee(){const{intakes:t}=Ao(),{expenses:e}=So(),n=new Date,[r,i]=T.useState(n.getFullYear()),[a,o]=T.useState(n.getMonth()+1),[l,u]=T.useState(null),[f,d]=T.useState(""),[p,v]=T.useState(!1);T.useEffect(()=>{const R=See(r,a,t,e);u(R)},[r,a,t,e]);const m=async()=>{if(l){v(!0);try{const R=Tee(l),k=await _Y(R);d(k)}catch(R){console.error("AI提案生成エラー:",R),alert("AI提案の生成に失敗しました")}finally{v(!1)}}},b=()=>{a===1?(i(r-1),o(12)):o(a-1),d("")},w=()=>{a===12?(i(r+1),o(1)):o(a+1),d("")},A=R=>{if(R===0)return y.jsx("span",{className:"change-neutral",children:"±0%"});const k=R>0?y.jsx(YN,{}):y.jsx(pF,{}),L=R>0?"change-up":"change-down";return y.jsxs("span",{className:`change ${L}`,children:[k," ",R>0?"+":"",R.toFixed(1),"%"]})};if(!l)return y.jsx("div",{className:"card",children:"データを読み込み中..."});const{current:S,previous:O,changes:I}=l;return y.jsx("div",{className:"monthly-report",children:y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"report-header",children:[y.jsx("h3",{children:"📊 月次レポート"}),y.jsxs("div",{className:"month-selector",children:[y.jsx("button",{className:"month-nav-btn",onClick:b,children:"◀"}),y.jsxs("span",{className:"current-month",children:[r,"年",a,"月"]}),y.jsx("button",{className:"month-nav-btn",onClick:w,children:"▶"})]})]}),y.jsxs("div",{className:"report-section",children:[y.jsx("h4",{children:"今月の記録"}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:"食事記録"}),y.jsxs("div",{className:"stat-value",children:[S.intakes.count,"回"]}),A(I.intakesCount)]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:"平均カロリー"}),y.jsxs("div",{className:"stat-value",children:[Math.round(S.intakes.avgCalories),"kcal"]}),A(I.avgCalories)]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:"総カロリー"}),y.jsxs("div",{className:"stat-value",children:[S.intakes.totalCalories.toLocaleString(),"kcal"]}),A(I.totalCalories)]}),y.jsxs("div",{className:"stat-item",children:[y.jsx("div",{className:"stat-label",children:"総支出"}),y.jsxs("div",{className:"stat-value",children:["¥",S.expenses.total.toLocaleString()]}),A(I.totalExpenses)]})]})]}),y.jsxs("div",{className:"report-section",children:[y.jsxs("h4",{children:["先月（",O.year,"年",O.month,"月）との比較"]}),y.jsxs("div",{className:"comparison-grid",children:[y.jsxs("div",{className:"comparison-item",children:[y.jsx("div",{className:"comparison-label",children:"食事記録"}),y.jsxs("div",{className:"comparison-values",children:[y.jsxs("span",{className:"prev-value",children:[O.intakes.count,"回"]}),y.jsx(p2,{}),y.jsxs("span",{className:"curr-value",children:[S.intakes.count,"回"]})]})]}),y.jsxs("div",{className:"comparison-item",children:[y.jsx("div",{className:"comparison-label",children:"平均カロリー"}),y.jsxs("div",{className:"comparison-values",children:[y.jsxs("span",{className:"prev-value",children:[Math.round(O.intakes.avgCalories),"kcal"]}),y.jsx(p2,{}),y.jsxs("span",{className:"curr-value",children:[Math.round(S.intakes.avgCalories),"kcal"]})]})]}),y.jsxs("div",{className:"comparison-item",children:[y.jsx("div",{className:"comparison-label",children:"総支出"}),y.jsxs("div",{className:"comparison-values",children:[y.jsxs("span",{className:"prev-value",children:["¥",O.expenses.total.toLocaleString()]}),y.jsx(p2,{}),y.jsxs("span",{className:"curr-value",children:["¥",S.expenses.total.toLocaleString()]})]})]})]})]}),y.jsxs("div",{className:"report-section",children:[y.jsxs("h4",{children:[y.jsx(Og,{size:20,style:{marginRight:"8px"}}),"AI改善提案"]}),f?y.jsxs("div",{className:"ai-suggestions",children:[y.jsx("div",{className:"suggestions-content",children:f}),y.jsx("button",{className:"submit",onClick:m,disabled:p,style:{marginTop:"12px"},children:"再生成"})]}):y.jsx("button",{className:"submit",onClick:m,disabled:p||S.intakes.count===0,style:{width:"100%"},children:p?"提案を生成中...":"AI改善提案を生成"}),S.intakes.count===0&&y.jsx("p",{className:"no-data-message",children:"データがありません。食事記録を追加してください。"})]})]})})}function d9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=d9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=d9(t))&&(r&&(r+=" "),r+=e);return r}var F2={},V2={},F6;function Iee(){return F6||(F6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(V2)),V2}var z2={},V6;function h9(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(z2)),z2}var H2={},z6;function AA(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(H2)),H2}var $2={},q2={},H6;function Oee(){return H6||(H6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(q2)),q2}var $6;function SA(){return $6||($6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oee(),n=AA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:d?p==='"'||p==="'"?f=p:p==="]"?(d=!1,a.push(u),u=""):u+=p:p==="["?(d=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=r})($2)),$2}var q6;function TA(){return q6||(q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iee(),n=h9(),r=AA(),i=SA();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=l[u];return d===void 0?f:d}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const d=l[u];return d===void 0?f:d}}}function o(l,u,f){if(u.length===0)return f;let d=l;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return f;d=d[u[p]]}return d===void 0?f:d}t.get=a})(F2)),F2}var G2,G6;function Ree(){return G6||(G6=1,G2=TA().get),G2}var Pee=Ree();const Qc=wo(Pee);var W2={exports:{}},Ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6;function Nee(){if(W6)return Ft;W6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case u:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case d:return w;case a:return w;default:return A}}case e:return A}}}return Ft.ContextConsumer=a,Ft.ContextProvider=o,Ft.Element=t,Ft.ForwardRef=l,Ft.Fragment=n,Ft.Lazy=p,Ft.Memo=d,Ft.Portal=e,Ft.Profiler=i,Ft.StrictMode=r,Ft.Suspense=u,Ft.SuspenseList=f,Ft.isContextConsumer=function(w){return b(w)===a},Ft.isContextProvider=function(w){return b(w)===o},Ft.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Ft.isForwardRef=function(w){return b(w)===l},Ft.isFragment=function(w){return b(w)===n},Ft.isLazy=function(w){return b(w)===p},Ft.isMemo=function(w){return b(w)===d},Ft.isPortal=function(w){return b(w)===e},Ft.isProfiler=function(w){return b(w)===i},Ft.isStrictMode=function(w){return b(w)===r},Ft.isSuspense=function(w){return b(w)===u},Ft.isSuspenseList=function(w){return b(w)===f},Ft.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===u||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===d||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},Ft.typeOf=b,Ft}var K6;function Dee(){return K6||(K6=1,W2.exports=Nee()),W2.exports}var Mee=Dee(),dr=t=>t===0?0:t>0?1:-1,ki=t=>typeof t=="number"&&t!=+t,Dc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ki(t),_o=t=>Ne(t)||typeof t=="string",kee=0,op=t=>{var e=++kee;return"".concat(t||"").concat(e)},Fr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var a;if(Dc(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ki(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},p9=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function pn(t,e,n){return Ne(t)&&Ne(e)?t+n*(e-t):e}function g9(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Qc(r,e))===n)}var sn=t=>t===null||typeof t>"u",jp=t=>sn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),jee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CA(t){if(typeof t!="string")return!1;var e=jee;return e.includes(t)}var Lee=["viewBox","children"],X6=["points","pathLength"],K2={svg:Lee,polygon:X6,polyline:X6},IA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{CA(i)&&(r[i]=(a=>n[i](n,a)))}),r},Bee=(t,e,n)=>r=>(t(e,n,r),null),Lp=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];CA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Bee(a,e,n))}),r},Uee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function v9(t){if(typeof t!="string")return!1;var e=Uee;return e.includes(t)}function Co(t){var e=Object.entries(t).filter(n=>{var[r]=n;return v9(r)});return Object.fromEntries(e)}var Y6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Q6=null,X2=null,m9=t=>{if(t===Q6&&Array.isArray(X2))return X2;var e=[];return T.Children.forEach(t,n=>{sn(n)||(Mee.isFragment(n)?e=e.concat(m9(n.props.children)):e.push(n))}),X2=e,Q6=t,e};function OA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Y6(i)):r=[Y6(e)],m9(t).forEach(i=>{var a=Qc(i,"type.displayName")||Qc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var y9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Fee=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&K2?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&a.includes(e)||v9(e)),u=!!n&&CA(e);return o||l||u},un=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;Fee((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},Vee=["children","width","height","viewBox","className","style","title","desc"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(null,arguments)}function zee(t,e){if(t==null)return{};var n,r,i=Hee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RA=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=t,d=zee(t,Vee),p=a||{width:r,height:i,x:0,y:0},v=xt("recharts-surface",o);return T.createElement("svg",sw({},un(d,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,f),n)}),$ee=["children","className"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function qee(t,e){if(t==null)return{};var n,r,i=Gee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rr=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=qee(t,$ee),a=xt("recharts-layer",r);return T.createElement("g",lw({className:a},un(i,!0),{ref:e}),n)}),x9=$N(),_9=T.createContext(null),Wee=()=>T.useContext(_9);function qt(t){return function(){return t}}const b9=Math.cos,tv=Math.sin,Ua=Math.sqrt,nv=Math.PI,Om=2*nv,cw=Math.PI,uw=2*cw,Cc=1e-6,Kee=uw-Cc;function w9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w9:Xee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-e,f=i-n,d=o-e,p=l-n,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Cc)if(!(Math.abs(p*u-f*d)>Cc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,b=i-l,w=u*u+f*f,A=m*m+b*b,S=Math.sqrt(w),O=Math.sqrt(v),I=a*Math.tan((cw-Math.acos((w+v-A)/(2*S*O)))/2),R=I/O,k=I/S;Math.abs(R-1)>Cc&&this._append`L${e+R*d},${n+R*p}`,this._append`A${a},${a},0,0,${+(p*m>d*b)},${this._x1=e+k*u},${this._y1=n+k*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,d=n+u,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Cc||Math.abs(this._y1-d)>Cc)&&this._append`L${f},${d}`,r&&(v<0&&(v=v%uw+uw),v>Kee?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:v>Cc&&this._append`A${r},${r},0,${+(v>=cw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function PA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yee(e)}function NA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E9(t){this._context=t}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rm(t){return new E9(t)}function A9(t){return t[0]}function S9(t){return t[1]}function T9(t,e){var n=qt(!0),r=null,i=Rm,a=null,o=PA(l);t=typeof t=="function"?t:t===void 0?A9:qt(t),e=typeof e=="function"?e:e===void 0?S9:qt(e);function l(u){var f,d=(u=NA(u)).length,p,v=!1,m;for(r==null&&(a=i(m=o())),f=0;f<=d;++f)!(f<d&&n(p=u[f],f,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,u),+e(p,f,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:qt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:qt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:qt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function G1(t,e,n){var r=null,i=qt(!0),a=null,o=Rm,l=null,u=PA(f);t=typeof t=="function"?t:t===void 0?A9:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S9:qt(+n);function f(p){var v,m,b,w=(p=NA(p)).length,A,S=!1,O,I=new Array(w),R=new Array(w);for(a==null&&(l=o(O=u())),v=0;v<=w;++v){if(!(v<w&&i(A=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=m;--b)l.point(I[b],R[b]);l.lineEnd(),l.areaEnd()}S&&(I[v]=+t(A,v,p),R[v]=+e(A,v,p),l.point(r?+r(A,v,p):I[v],n?+n(A,v,p):R[v]))}if(O)return l=null,O+""||null}function d(){return T9().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qt(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class C9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Qee(t){return new C9(t,!0)}function Zee(t){return new C9(t,!1)}const DA={draw(t,e){const n=Ua(e/nv);t.moveTo(n,0),t.arc(0,0,n,0,Om)}},Jee={draw(t,e){const n=Ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},I9=Ua(1/3),ete=I9*2,tte={draw(t,e){const n=Ua(e/ete),r=n*I9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nte={draw(t,e){const n=Ua(e),r=-n/2;t.rect(r,r,n,n)}},rte=.8908130915292852,O9=tv(nv/10)/tv(7*nv/10),ite=tv(Om/10)*O9,ate=-b9(Om/10)*O9,ote={draw(t,e){const n=Ua(e*rte),r=ite*n,i=ate*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Om*a/5,l=b9(o),u=tv(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},Y2=Ua(3),ste={draw(t,e){const n=-Ua(e/(Y2*3));t.moveTo(0,n*2),t.lineTo(-Y2*n,-n),t.lineTo(Y2*n,-n),t.closePath()}},Ji=-.5,ea=Ua(3)/2,fw=1/Ua(12),lte=(fw/2+1)*3,cte={draw(t,e){const n=Ua(e/lte),r=n/2,i=n*fw,a=r,o=n*fw+n,l=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(Ji*r-ea*i,ea*r+Ji*i),t.lineTo(Ji*a-ea*o,ea*a+Ji*o),t.lineTo(Ji*l-ea*u,ea*l+Ji*u),t.lineTo(Ji*r+ea*i,Ji*i-ea*r),t.lineTo(Ji*a+ea*o,Ji*o-ea*a),t.lineTo(Ji*l+ea*u,Ji*u-ea*l),t.closePath()}};function ute(t,e){let n=null,r=PA(i);t=typeof t=="function"?t:qt(t||DA),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function rv(){}function iv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R9(t){this._context=t}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fte(t){return new R9(t)}function P9(t){this._context=t}P9.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dte(t){return new P9(t)}function N9(t){this._context=t}N9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hte(t){return new N9(t)}function D9(t){this._context=t}D9.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pte(t){return new D9(t)}function Z6(t){return t<0?-1:1}function J6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Z6(a)+Z6(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function e8(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Q2(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function av(t){this._context=t}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q2(this,this._t0,e8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Q2(this,e8(this,n=J6(this,t,e)),n);break;default:Q2(this,this._t0,n=J6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function M9(t){this._context=new k9(t)}(M9.prototype=Object.create(av.prototype)).point=function(t,e){av.prototype.point.call(this,e,t)};function k9(t){this._context=t}k9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function gte(t){return new av(t)}function vte(t){return new M9(t)}function j9(t){this._context=t}j9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=t8(t),i=t8(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function t8(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mte(t){return new j9(t)}function Pm(t,e){this._context=t,this._t=e}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yte(t){return new Pm(t,.5)}function xte(t){return new Pm(t,0)}function _te(t){return new Pm(t,1)}function If(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bte(t,e){return t[e]}function wte(t){const e=[];return e.key=t,e}function Ete(){var t=qt([]),e=dw,n=If,r=bte;function i(a){var o=Array.from(t.apply(this,arguments),wte),l,u=o.length,f=-1,d;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,d=NA(e(o));l<u;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?dw:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??If,i):n},i}function Ate(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}If(t,e)}}function Ste(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}If(t,e)}}function Tte(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,f=0;l<o;++l){for(var d=t[e[l]],p=d[r][1]||0,v=d[r-1][1]||0,m=(p-v)/2,b=0;b<l;++b){var w=t[e[b]],A=w[r][1]||0,S=w[r-1][1]||0;m+=A-S}u+=p,f+=m*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,If(t,e)}}var Cte=["type","size","sizeType"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}function n8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t,e){if(t==null)return{};var n,r,i=Nte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var L9={symbolCircle:DA,symbolCross:Jee,symbolDiamond:tte,symbolSquare:nte,symbolStar:ote,symbolTriangle:ste,symbolWye:cte},Dte=Math.PI/180,Mte=t=>{var e="symbol".concat(jp(t));return L9[e]||DA},kte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Dte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jte=(t,e)=>{L9["symbol".concat(jp(t))]=e},MA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Pte(t,Cte),a=r8(r8({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=Mte(o),m=ute().type(v).size(kte(n,r,o));return m()},{className:u,cx:f,cy:d}=a,p=un(a,!0);return f===+f&&d===+d&&n===+n?T.createElement("path",hw({},p,{className:xt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};MA.registerSymbol=jte;function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}function i8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(n),!0).forEach(function(r){kA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kA(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=Ute(t,"string");return typeof e=="symbol"?e:e+""}function Ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ta=32;class jA extends T.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=ta/2,a=ta/6,o=ta/3,l=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ta,y2:i,className:"recharts-legend-icon"});if(u==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ta,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var f=Lte({},e);return delete f.legendIcon,T.cloneElement(e.legendIcon,f)}return T.createElement(MA,{fill:l,cx:i,cy:i,size:ta,sizeType:"diameter",type:u})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:ta,height:ta},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var v=d.formatter||i,m=xt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,w=v?v(d.value,d,p):d.value;return T.createElement("li",pw({className:m,style:u,key:"legend-item-".concat(p)},Lp(this.props,d,p)),T.createElement(RA,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(d,o)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}kA(jA,"displayName","Legend");kA(jA,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Z2={},J2={},a8;function Fte(){return a8||(a8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(J2)),J2}var e_={},o8;function B9(){return o8||(o8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(e_)),e_}var t_={},n_={},r_={},s8;function Vte(){return s8||(s8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(r_)),r_}var l8;function LA(){return l8||(l8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(n_)),n_}var i_={},c8;function zte(){return c8||(c8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(i_)),i_}var u8;function Hte(){return u8||(u8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LA(),n=zte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(t_)),t_}var a_={},o_={},f8;function $te(){return f8||(f8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(o_)),o_}var s_={},l_={},c_={},u_={},d8;function U9(){return d8||(d8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(u_)),u_}var f_={},h8;function F9(){return h8||(h8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(f_)),f_}var d_={},p8;function V9(){return p8||(p8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(d_)),d_}var g8;function qte(){return g8||(g8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BA(),n=U9(),r=F9(),i=V9();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function b(w,A,S,O,I,R){const k=m(w,A,S,O,I,R);return k!==void 0?!!k:o(w,A,b,R)},new Map)}function o(p,v,m,b){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,b);case"function":return Object.keys(v).length>0?o(p,{...v},m,b):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,b){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,b);if(v instanceof Map)return u(p,v,m,b);if(v instanceof Set)return d(p,v,m,b);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(v))return b.get(v)===p;b&&b.set(v,p);try{for(let A=0;A<w.length;A++){const S=w[A];if(!r.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,b))return!1}return!0}finally{b&&b.delete(v)}}function u(p,v,m,b){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,A]of v.entries()){const S=p.get(w);if(m(S,A,w,p,v,b)===!1)return!1}return!0}function f(p,v,m,b){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let A=0;A<v.length;A++){const S=v[A];let O=!1;for(let I=0;I<p.length;I++){if(w.has(I))continue;const R=p[I];let k=!1;if(m(R,S,A,p,v,b)&&(k=!0),k){w.add(I),O=!0;break}}if(!O)return!1}return!0}function d(p,v,m,b){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,b):!1}t.isMatchWith=a,t.isSetMatch=d})(c_)),c_}var v8;function BA(){return v8||(v8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(l_)),l_}var h_={},p_={},g_={},m8;function Gte(){return m8||(m8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(g_)),g_}var v_={},y8;function z9(){return y8||(y8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(v_)),v_}var m_={},x8;function H9(){return x8||(x8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",b="[object Error]",w="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",R="[object BigUint64Array]",k="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",j="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=b,t.float32ArrayTag=j,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=k,t.mapTag=u,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=O,t.uint32ArrayTag=I,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=S})(m_)),m_}var y_={},_8;function Wte(){return _8||(_8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(y_)),y_}var b8;function $9(){return b8||(b8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gte(),n=z9(),r=H9(),i=F9(),a=Wte();function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,v,m=new Map,b=void 0){const w=b?.(d,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const A=new Array(d.length);m.set(d,A);for(let S=0;S<d.length;S++)A[S]=l(d[S],S,v,m,b);return Object.hasOwn(d,"index")&&(A.index=d.index),Object.hasOwn(d,"input")&&(A.input=d.input),A}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const A=new RegExp(d.source,d.flags);return A.lastIndex=d.lastIndex,A}if(d instanceof Map){const A=new Map;m.set(d,A);for(const[S,O]of d)A.set(S,l(O,S,v,m,b));return A}if(d instanceof Set){const A=new Set;m.set(d,A);for(const S of d)A.add(l(S,void 0,v,m,b));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const A=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,A);for(let S=0;S<d.length;S++)A[S]=l(d[S],S,v,m,b);return A}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const A=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,A),u(A,d,v,m,b),A}if(typeof File<"u"&&d instanceof File){const A=new File([d],d.name,{type:d.type});return m.set(d,A),u(A,d,v,m,b),A}if(typeof Blob<"u"&&d instanceof Blob){const A=new Blob([d],{type:d.type});return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof Error){const A=new d.constructor;return m.set(d,A),A.message=d.message,A.name=d.name,A.stack=d.stack,A.cause=d.cause,u(A,d,v,m,b),A}if(d instanceof Boolean){const A=new Boolean(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof Number){const A=new Number(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(d instanceof String){const A=new String(d.valueOf());return m.set(d,A),u(A,d,v,m,b),A}if(typeof d=="object"&&f(d)){const A=Object.create(Object.getPrototypeOf(d));return m.set(d,A),u(A,d,v,m,b),A}return d}function u(d,p,v=d,m,b){const w=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<w.length;A++){const S=w[A],O=Object.getOwnPropertyDescriptor(d,S);(O==null||O.writable)&&(d[S]=l(p[S],S,v,m,b))}}function f(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=u})(p_)),p_}var w8;function Kte(){return w8||(w8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$9();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(h_)),h_}var E8;function Xte(){return E8||(E8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BA(),n=Kte();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(s_)),s_}var x_={},__={},b_={},A8;function Yte(){return A8||(A8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$9(),n=H9();function r(i,a){return e.cloneDeepWith(i,(o,l,u,f)=>{const d=a?.(o,l,u,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(b_)),b_}var S8;function Qte(){return S8||(S8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yte();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(__)),__}var w_={},E_={},T8;function q9(){return T8||(T8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(E_)),E_}var A_={},C8;function Zte(){return C8||(C8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z9();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(A_)),A_}var I8;function Jte(){return I8||(I8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h9(),n=q9(),r=Zte(),i=SA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let d=0;d<u.length;d++){const p=u[d];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(w_)),w_}var O8;function ene(){return O8||(O8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BA(),n=AA(),r=Qte(),i=TA(),a=Jte();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const d=i.get(f,l);return d===void 0?a.has(f,l):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=o})(x_)),x_}var R8;function tne(){return R8||(R8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B9(),n=$te(),r=Xte(),i=ene();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(a_)),a_}var P8;function nne(){return P8||(P8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fte(),n=B9(),r=Hte(),i=tne();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(Z2)),Z2}var S_,N8;function rne(){return N8||(N8=1,S_=nne().uniqBy),S_}var ine=rne();const D8=wo(ine);function G9(t,e,n){return e===!0?D8(t,n):typeof e=="function"?D8(t,e):t}var T_={exports:{}},C_={},I_={exports:{}},O_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M8;function ane(){if(M8)return O_;M8=1;var t=Bf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),b=r({inst:{value:m,getSnapshot:v}}),w=b[0].inst,A=b[1];return a(function(){w.value=m,w.getSnapshot=v,u(w)&&A({inst:w})},[p,m,v]),i(function(){return u(w)&&A({inst:w}),p(function(){u(w)&&A({inst:w})})},[p]),o(m),m}function u(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!n(p,m)}catch{return!0}}function f(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return O_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,O_}var k8;function one(){return k8||(k8=1,I_.exports=ane()),I_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8;function sne(){if(j8)return C_;j8=1;var t=Bf(),e=one();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return C_.useSyncExternalStoreWithSelector=function(f,d,p,v,m){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function S(L){if(!O){if(O=!0,I=L,L=v(L),m!==void 0&&w.hasValue){var P=w.value;if(m(P,L))return R=P}return R=L}if(P=R,r(I,L))return P;var M=v(L);return m!==void 0&&m(P,M)?(I=L,P):(I=L,R=M)}var O=!1,I,R,k=p===void 0?null:p;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,p,v,m]);var A=i(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},C_}var L8;function lne(){return L8||(L8=1,T_.exports=sne()),T_.exports}var cne=lne(),UA=T.createContext(null),une=t=>t,fn=()=>{var t=T.useContext(UA);return t?t.store.dispatch:une},Ag=()=>{},fne=()=>Ag,dne=(t,e)=>t===e;function Ie(t){var e=T.useContext(UA);return cne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fne,e?e.store.getState:Ag,e?e.store.getState:Ag,e?t:Ag,dne)}function hne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function pne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function gne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var B8=t=>Array.isArray(t)?t:[t];function vne(t){const e=Array.isArray(t[0])?t[0]:t;return gne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mne(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yne=class{constructor(t){this.value=t}deref(){return this.value}},xne=typeof WeakRef<"u"?WeakRef:yne,_ne=0,U8=1;function W1(){return{s:_ne,v:void 0,o:null,p:null}}function W9(t,e={}){let n=W1();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,v=u;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(m);w===void 0?(l=W1(),b.set(m,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(m);w===void 0?(l=W1(),b.set(m,l)):l=w}}const f=l;let d;if(l.s===U8)d=l.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new xne(d):d}return f.s=U8,f.v=d,d}return o.clearCache=()=>{n=W1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function bne(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),hne(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:m=W9,argsMemoizeOptions:b=[]}=d,w=B8(v),A=B8(b),S=vne(i),O=p(function(){return a++,f.apply(null,arguments)},...w),I=m(function(){o++;const k=mne(S,arguments);return l=O.apply(null,k),l},...A);return Object.assign(I,{resultFunc:f,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ne=bne(W9),wne=Object.assign((t,e=ne)=>{pne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>wne}),R_={},P_={},N_={},F8;function Ene(){return F8||(F8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(N_)),N_}var D_={},M_={},V8;function K9(){return V8||(V8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(M_)),M_}var z8;function Ane(){return z8||(z8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(D_)),D_}var H8;function Sne(){return H8||(H8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ene(),n=Ane(),r=SA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,b)=>{let w=m;for(let A=0;A<b.length&&w!=null;++A)w=w[b[A]];return w},d=(m,b)=>b==null||m==null?b:typeof m=="object"&&"key"in m?Object.hasOwn(b,m.key)?b[m.key]:f(b,m.path):typeof m=="function"?m(b):Array.isArray(m)?f(b,m):typeof b=="object"?b[m]:b,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(b=>d(b,m))})).slice().sort((m,b)=>{for(let w=0;w<p.length;w++){const A=e.compareValues(m.criteria[w],b.criteria[w],l[w]);if(A!==0)return A}return 0}).map(m=>m.original)}t.orderBy=i})(P_)),P_}var k_={},$8;function Tne(){return $8||($8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let f=0;f<l.length;f++){const d=l[f];Array.isArray(d)&&u<a?o(d,u+1):i.push(d)}};return o(n,0),i}t.flatten=e})(k_)),k_}var j_={},q8;function X9(){return q8||(q8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q9(),n=LA(),r=U9(),i=V9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}t.isIterateeCall=a})(j_)),j_}var G8;function Cne(){return G8||(G8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sne(),n=Tne(),r=X9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(R_)),R_}var L_,W8;function Ine(){return W8||(W8=1,L_=Cne().sortBy),L_}var One=Ine();const Nm=wo(One);var Y9=t=>t.legend.settings,Rne=t=>t.legend.size,Pne=t=>t.legend.payload,Nne=ne([Pne,Y9],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Nm(r,n):r});function Dne(){return Ie(Nne)}var K1=1;function Q9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>K1||Math.abs(o.left-e.left)>K1||Math.abs(o.top-e.top)>K1||Math.abs(o.width-e.width)>K1)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mne=typeof Symbol=="function"&&Symbol.observable||"@@observable",K8=Mne,B_=()=>Math.random().toString(36).substring(7).split("").join("."),kne={INIT:`@@redux/INIT${B_()}`,REPLACE:`@@redux/REPLACE${B_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${B_()}`},ov=kne;function FA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Z9(t,e,n){if(typeof t!="function")throw new Error(Ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ar(1));return n(Z9)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((A,S)=>{o.set(S,A)}))}function d(){if(u)throw new Error(Ar(3));return i}function p(A){if(typeof A!="function")throw new Error(Ar(4));if(u)throw new Error(Ar(5));let S=!0;f();const O=l++;return o.set(O,A),function(){if(S){if(u)throw new Error(Ar(6));S=!1,f(),o.delete(O),a=null}}}function v(A){if(!FA(A))throw new Error(Ar(7));if(typeof A.type>"u")throw new Error(Ar(8));if(typeof A.type!="string")throw new Error(Ar(17));if(u)throw new Error(Ar(9));try{u=!0,i=r(i,A)}finally{u=!1}return(a=o).forEach(O=>{O()}),A}function m(A){if(typeof A!="function")throw new Error(Ar(10));r=A,v({type:ov.REPLACE})}function b(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ar(11));function O(){const R=S;R.next&&R.next(d())}return O(),{unsubscribe:A(O)}},[K8](){return this}}}return v({type:ov.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:m,[K8]:b}}function jne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ov.INIT})>"u")throw new Error(Ar(12));if(typeof n(void 0,{type:ov.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ar(13))})}function J9(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{jne(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],v=n[p],m=o[p],b=v(m,l);if(typeof b>"u")throw l&&l.type,new Error(Ar(14));f[p]=b,u=u||b!==m}return u=u||r.length!==Object.keys(o).length,u?f:o}}function sv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Lne(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ar(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=t.map(u=>u(o));return a=sv(...l)(i.dispatch),{...i,dispatch:a}}}function ek(t){return FA(t)&&"type"in t&&typeof t.type=="string"}var tk=Symbol.for("immer-nothing"),X8=Symbol.for("immer-draftable"),ji=Symbol.for("immer-state");function Da(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Of=Object.getPrototypeOf;function Zc(t){return!!t&&!!t[ji]}function us(t){return t?nk(t)||Array.isArray(t)||!!t[X8]||!!t.constructor?.[X8]||Bp(t)||Mm(t):!1}var Bne=Object.prototype.constructor.toString();function nk(t){if(!t||typeof t!="object")return!1;const e=Of(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Bne}function lv(t,e){Dm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Dm(t){const e=t[ji];return e?e.type_:Array.isArray(t)?1:Bp(t)?2:Mm(t)?3:0}function gw(t,e){return Dm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rk(t,e,n){const r=Dm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Une(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bp(t){return t instanceof Map}function Mm(t){return t instanceof Set}function Ic(t){return t.copy_||t.base_}function vw(t,e){if(Bp(t))return new Map(t);if(Mm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=nk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ji];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Of(t),r)}else{const r=Of(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function VA(t,e=!1){return km(t)||Zc(t)||!us(t)||(Dm(t)>1&&Object.defineProperties(t,{set:{value:X1},add:{value:X1},clear:{value:X1},delete:{value:X1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>VA(n,!0))),t}function X1(){Da(2)}function km(t){return Object.isFrozen(t)}var Fne={};function Jc(t){const e=Fne[t];return e||Da(0,t),e}var sp;function ik(){return sp}function Vne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Y8(t,e){e&&(Jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mw(t){yw(t),t.drafts_.forEach(zne),t.drafts_=null}function yw(t){t===sp&&(sp=t.parent_)}function Q8(t){return sp=Vne(sp,t)}function zne(t){const e=t[ji];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ji].modified_&&(mw(e),Da(4)),us(t)&&(t=cv(e,t),e.parent_||uv(e,t)),e.patches_&&Jc("Patches").generateReplacementPatches_(n[ji].base_,t,e.patches_,e.inversePatches_)):t=cv(e,n,[]),mw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==tk?t:void 0}function cv(t,e,n){if(km(e))return e;const r=e[ji];if(!r)return lv(e,(i,a)=>J8(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return uv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),lv(a,(l,u)=>J8(t,r,i,l,u,n,o)),uv(t,i,!1),n&&t.patches_&&Jc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function J8(t,e,n,r,i,a,o){if(Zc(i)){const l=a&&e&&e.type_!==3&&!gw(e.assigned_,r)?a.concat(r):void 0,u=cv(t,i,l);if(rk(n,r,u),Zc(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(us(i)&&!km(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Bp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&uv(t,i)}}function uv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&VA(e,n)}function Hne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ik(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=zA;n&&(i=[r],a=lp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var zA={get(t,e){if(e===ji)return t;const n=Ic(t);if(!gw(n,e))return $ne(t,n,e);const r=n[e];return t.finalized_||!us(r)?r:r===U_(t.base_,e)?(F_(t),t.copy_[e]=_w(r,t)):r},has(t,e){return e in Ic(t)},ownKeys(t){return Reflect.ownKeys(Ic(t))},set(t,e,n){const r=ak(Ic(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=U_(Ic(t),e),a=i?.[ji];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Une(n,i)&&(n!==void 0||gw(t.base_,e)))return!0;F_(t),xw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return U_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,F_(t),xw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ic(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Da(11)},getPrototypeOf(t){return Of(t.base_)},setPrototypeOf(){Da(12)}},lp={};lv(zA,(t,e)=>{lp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lp.deleteProperty=function(t,e){return lp.set.call(this,t,e,void 0)};lp.set=function(t,e,n){return zA.set.call(this,t[0],e,n,t[0])};function U_(t,e){const n=t[ji];return(n?Ic(n):t)[e]}function $ne(t,e,n){const r=ak(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ak(t,e){if(!(e in t))return;let n=Of(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Of(n)}}function xw(t){t.modified_||(t.modified_=!0,t.parent_&&xw(t.parent_))}function F_(t){t.copy_||(t.copy_=vw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(u=a,...f){return o.produce(u,d=>n.call(this,d,...f))}}typeof n!="function"&&Da(6),r!==void 0&&typeof r!="function"&&Da(7);let i;if(us(e)){const a=Q8(this),o=_w(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?mw(a):yw(a)}return Y8(a,r),Z8(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===tk&&(i=void 0),this.autoFreeze_&&VA(i,!0),r){const a=[],o=[];Jc("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Da(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){us(t)||Da(8),Zc(t)&&(t=ns(t));const e=Q8(this),n=_w(t,void 0);return n[ji].isManual_=!0,yw(e),n}finishDraft(t,e){const n=t&&t[ji];(!n||!n.isManual_)&&Da(9);const{scope_:r}=n;return Y8(r,e),Z8(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Jc("Patches").applyPatches_;return Zc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _w(t,e){const n=Bp(t)?Jc("MapSet").proxyMap_(t,e):Mm(t)?Jc("MapSet").proxySet_(t,e):Hne(t,e);return(e?e.scope_:ik()).drafts_.push(n),n}function ns(t){return Zc(t)||Da(10,t),ok(t)}function ok(t){if(!us(t)||km(t))return t;const e=t[ji];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=vw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=vw(t,!0);return lv(n,(r,i)=>{rk(n,r,ok(i))}),e&&(e.finalized_=!1),n}var Gne=new qne,sk=Gne.produce;function lk(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Wne=lk(),Kne=lk,Xne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sv:sv.apply(null,arguments)};function pa(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Mi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ek(r)&&r.type===t,n}var ck=class kh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kh.prototype)}static get[Symbol.species](){return kh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kh(...e[0].concat(this)):new kh(...e.concat(this))}};function eR(t){return us(t)?sk(t,()=>{}):t}function Y1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Yne(t){return typeof t=="boolean"}var Qne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new ck;return n&&(Yne(n)?o.push(Wne):o.push(Kne(n.extraArgument))),o},Zne="RTK_autoBatch",tR=t=>e=>{setTimeout(e,t)},Jne=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tR(10):t.type==="callback"?t.queueNotification:tR(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),v=r.subscribe(p);return l.add(d),()=>{v(),l.delete(d)}},dispatch(d){try{return i=!d?.meta?.[Zne],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(d)}finally{i=!0}}})},ere=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ck(t);return r&&i.push(Jne(typeof r=="object"?r:void 0)),i};function tre(t){const e=Qne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(FA(n))l=J9(n);else throw new Error(Mi(1));let u;typeof r=="function"?u=r(e):u=e();let f=sv;i&&(f=Xne({trace:!1,...typeof i=="object"&&i}));const d=Lne(...u),p=ere(d);let v=typeof o=="function"?o(p):p();const m=f(...v);return Z9(l,a,m)}function uk(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Mi(28));if(l in e)throw new Error(Mi(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function nre(t){return typeof t=="function"}function rre(t,e){let[n,r,i]=uk(e),a;if(nre(t))a=()=>eR(t());else{const l=eR(t);a=()=>l}function o(l=a(),u){let f=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(Zc(d)){const m=p(d,u);return m===void 0?d:m}else{if(us(d))return sk(d,v=>p(v,u));{const v=p(d,u);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},l)}return o.getInitialState=a,o}var ire="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",are=(t=21)=>{let e="",n=t;for(;n--;)e+=ire[Math.random()*64|0];return e},ore=Symbol.for("rtk-slice-createasyncthunk");function sre(t,e){return`${t}/${e}`}function lre({creators:t}={}){const e=t?.asyncThunk?.[ore];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Mi(11));const o=(typeof r.reducers=="function"?r.reducers(ure()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,R){const k=typeof I=="string"?I:I.type;if(!k)throw new Error(Mi(12));if(k in u.sliceCaseReducersByType)throw new Error(Mi(13));return u.sliceCaseReducersByType[k]=R,f},addMatcher(I,R){return u.sliceMatchers.push({matcher:I,reducer:R}),f},exposeAction(I,R){return u.actionCreators[I]=R,f},exposeCaseReducer(I,R){return u.sliceCaseReducersByName[I]=R,f}};l.forEach(I=>{const R=o[I],k={reducerName:I,type:sre(i,I),createNotation:typeof r.reducers=="function"};dre(R)?pre(k,R,f,e):fre(k,R,f)});function d(){const[I={},R=[],k=void 0]=typeof r.extraReducers=="function"?uk(r.extraReducers):[r.extraReducers],L={...I,...u.sliceCaseReducersByType};return rre(r.initialState,P=>{for(let M in L)P.addCase(M,L[M]);for(let M of u.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of R)P.addMatcher(M.matcher,M.reducer);k&&P.addDefaultCase(k)})}const p=I=>I,v=new Map,m=new WeakMap;let b;function w(I,R){return b||(b=d()),b(I,R)}function A(){return b||(b=d()),b.getInitialState()}function S(I,R=!1){function k(P){let M=P[I];return typeof M>"u"&&R&&(M=Y1(m,k,A)),M}function L(P=p){const M=Y1(v,R,()=>new WeakMap);return Y1(M,P,()=>{const j={};for(const[z,U]of Object.entries(r.selectors??{}))j[z]=cre(U,P,()=>Y1(m,P,A),R);return j})}return{reducerPath:I,getSelectors:L,get selectors(){return L(k)},selectSlice:k}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:A,...S(a),injectInto(I,{reducerPath:R,...k}={}){const L=R??a;return I.inject({reducerPath:L,reducer:w},k),{...O,...S(L,!0)}}};return O}}function cre(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Ui=lre();function ure(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fre({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!hre(r))throw new Error(Mi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?pa(t,o):pa(t))}function dre(t){return t._reducerDefinitionType==="asyncThunk"}function hre(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pre({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Mi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:o||Q1,pending:l||Q1,rejected:u||Q1,settled:f||Q1})}function Q1(){}var gre="task",fk="listener",dk="completed",HA="cancelled",vre=`task-${HA}`,mre=`task-${dk}`,bw=`${fk}-${HA}`,yre=`${fk}-${dk}`,jm=class{constructor(t){this.code=t,this.message=`${gre} ${HA} (reason: ${t})`}name="TaskAbortError";message},$A=(t,e)=>{if(typeof t!="function")throw new TypeError(Mi(32))},fv=()=>{},hk=(t,e=fv)=>(t.catch(e),t),pk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Vc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},zc=t=>{if(t.aborted){const{reason:e}=t;throw new jm(e)}};function gk(t,e){let n=fv;return new Promise((r,i)=>{const a=()=>i(new jm(t.reason));if(t.aborted){a();return}n=pk(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=fv})}var xre=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof jm?"cancelled":"rejected",error:n}}finally{e?.()}},dv=t=>e=>hk(gk(t,e).then(n=>(zc(t),n))),vk=t=>{const e=dv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:gf}=Object,nR={},Lm="listenerMiddleware",_re=(t,e)=>{const n=r=>pk(t,()=>Vc(r,t.reason));return(r,i)=>{$A(r);const a=new AbortController;n(a);const o=xre(async()=>{zc(t),zc(a.signal);const l=await r({pause:dv(a.signal),delay:vk(a.signal),signal:a.signal});return zc(a.signal),l},()=>Vc(a,mre));return i?.autoJoin&&e.push(o.catch(fv)),{result:dv(t)(o),cancel(){Vc(a,vre)}}}},bre=(t,e)=>{const n=async(r,i)=>{zc(e);let a=()=>{};const l=[new Promise((u,f)=>{let d=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await gk(e,Promise.race(l));return zc(e),u}finally{a()}};return(r,i)=>hk(n(r,i))},mk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=pa(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Mi(21));return $A(a),{predicate:i,type:e,effect:a}},yk=gf(t=>{const{type:e,predicate:n,effect:r}=mk(t);return{id:are(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mi(22))}}},{withTypes:()=>yk}),rR=(t,e)=>{const{type:n,effect:r,predicate:i}=mk(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ww=t=>{t.pending.forEach(e=>{Vc(e,bw)})},wre=t=>()=>{t.forEach(ww),t.clear()},iR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},xk=gf(pa(`${Lm}/add`),{withTypes:()=>xk}),Ere=pa(`${Lm}/removeAll`),_k=gf(pa(`${Lm}/remove`),{withTypes:()=>_k}),Are=(...t)=>{console.error(`${Lm}/error`,...t)},Up=(t={})=>{const e=new Map,{extra:n,onError:r=Are}=t;$A(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&ww(d)}),a=d=>{const p=rR(e,d)??yk(d);return i(p)};gf(a,{withTypes:()=>a});const o=d=>{const p=rR(e,d);return p&&(p.unsubscribe(),d.cancelActive&&ww(p)),!!p};gf(o,{withTypes:()=>o});const l=async(d,p,v,m)=>{const b=new AbortController,w=bre(a,b.signal),A=[];try{d.pending.add(b),await Promise.resolve(d.effect(p,gf({},v,{getOriginalState:m,condition:(S,O)=>w(S,O).then(Boolean),take:w,delay:vk(b.signal),pause:dv(b.signal),extra:n,signal:b.signal,fork:_re(b.signal,A),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((S,O,I)=>{S!==b&&(Vc(S,bw),I.delete(S))})},cancel:()=>{Vc(b,bw),d.pending.delete(b)},throwIfCancelled:()=>{zc(b.signal)}})))}catch(S){S instanceof jm||iR(r,S,{raisedBy:"effect"})}finally{await Promise.all(A),Vc(b,yre),d.pending.delete(b)}},u=wre(e);return{middleware:d=>p=>v=>{if(!ek(v))return p(v);if(xk.match(v))return a(v.payload);if(Ere.match(v)){u();return}if(_k.match(v))return o(v.payload);let m=d.getState();const b=()=>{if(m===nR)throw new Error(Mi(23));return m};let w;try{if(w=p(v),e.size>0){const A=d.getState(),S=Array.from(e.values());for(const O of S){let I=!1;try{I=O.predicate(v,A,m)}catch(R){I=!1,iR(r,R,{raisedBy:"predicate"})}I&&l(O,v,d,b)}}}finally{m=nR}return w},startListening:a,stopListening:o,clearListeners:u}};function Mi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bk=Ui({name:"chartLayout",initialState:Sre,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Tre,setLayout:Cre,setChartSize:Ire,setScale:Ore}=bk.actions,Rre=bk.reducer;function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hv=Math.PI/180,Mre=t=>t*180/Math.PI,Fn=(t,e,n,r)=>({x:t+Math.cos(-hv*r)*n,y:e+Math.sin(-hv*r)*n}),wk=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},jre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=kre({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Mre(u),angleInRadian:u}},Lre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Bre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Ure=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=jre({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=Lre(e),d=a,p;if(u<=f){for(;d>f;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=f}else{for(;d>u;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=u}return p?oR(oR({},e),{},{radius:i,angle:Bre(d,e)}):null};function Ek(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kt(t,e,n){return sn(t)||sn(e)?n:_o(e)?Qc(t,e,n):typeof e=="function"?e(t):n}var Hre=(t,e,n,r,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,d=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,v=void 0;if(dr(d-f)!==dr(p-d)){var m=[];if(dr(p-d)===dr(i[1]-i[0])){v=p;var b=d+i[1]-i[0];m[0]=Math.min(b,(b+f)/2),m[1]=Math.max(b,(b+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(d,(w+d)/2),m[1]=Math.max(d,(w+d)/2)}var A=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>A[0]&&t<=A[1]||t>=m[0]&&t<=m[1]){({index:o}=n[u]);break}}else{var S=Math.min(f,p),O=Math.max(f,p);if(t>(S+d)/2&&t<=(O+d)/2){({index:o}=n[u]);break}}}else if(e){for(var I=0;I<l;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:o}=e[I]);break}}return o},$re=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Ne(t[a]))return ia(ia({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Ne(t[o]))return ia(ia({},t),{},{[o]:t[o]+(i||0)})}return t},zl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Ak=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},Sk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:d,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var b=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=m==="angleAxis"&&a&&a.length>=2?dr(a[0]-a[1])*2*w:w,p||v){var A=(p||v||[]).map((S,O)=>{var I=r?r.indexOf(S):S;return{coordinate:o(I)+w,value:S,offset:w,index:O}});return A.filter(S=>!ki(S.coordinate))}return u&&f?f.map((S,O)=>({coordinate:o(S)+w,value:S,index:O,offset:w})):o.ticks&&d!=null?o.ticks(d).map((S,O)=>({coordinate:o(S)+w,value:S,offset:w,index:O})):o.domain().map((S,O)=>({coordinate:o(S)+w,value:r?r[S]:S,index:O,offset:w}))},lR=1e-4,qre=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-lR,a=Math.max(r[0],r[1])+lR,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Gre=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Wre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=ki(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},Kre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=ki(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Xre={sign:Wre,expand:Ate,none:If,silhouette:Ste,wiggle:Tte,positive:Kre},Yre=(t,e,n)=>{var r=Xre[n],i=Ete().keys(e).value((a,o)=>+Kt(a,o,0)).order(dw).offset(r);return i(t)};function Qre(t){return t==null?void 0:String(t)}function cR(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!sn(i[e.dataKey])){var l=g9(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Kt(i,sn(o)?e.dataKey:o);return sn(u)?null:e.scale(u)}var uR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Kt(a,e.dataKey,e.scale.domain()[o]);return sn(l)?null:e.scale(l)-i/2+r},Zre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Jre=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},eie=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tie=(t,e,n)=>{if(t!=null)return eie(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((u,f)=>{var d=Ek(f,e,n),p=Jre(d);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},fR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Nm(e,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function hR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ia(ia({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Qf(t,e){if(t)return String(t);if(typeof e=="string")return e}function nie(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Ure({x:t,y:e},r):null}var rie=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return ia(ia(ia({},r),Fn(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return ia(ia(ia({},r),Fn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},iie=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,vs=t=>t.layout.width,ms=t=>t.layout.height,aie=t=>t.layout.scale,Tk=t=>t.layout.margin,Bm=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Um=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ck="data-recharts-item-index",Ik="data-recharts-item-data-key",Fp=60;function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e,n){return(e=sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cie=t=>t.brush.height;function uie(t){var e=Um(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fp;return n+i}return n},0)}function fie(t){var e=Um(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fp;return n+i}return n},0)}function die(t){var e=Bm(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hie(t){var e=Bm(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var er=ne([vs,ms,Tk,cie,uie,fie,die,hie,Y9,Rne],(t,e,n,r,i,a,o,l,u,f)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},v=Z1(Z1({},p),d),m=v.bottom;v.bottom+=r,v=$re(v,u,f);var b=t-v.left-v.right,w=e-v.top-v.bottom;return Z1(Z1({brushBottom:m},v),{},{width:Math.max(b,0),height:Math.max(w,0)})}),pie=ne(er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),qA=ne(vs,ms,(t,e)=>({x:0,y:0,width:t,height:e})),gie=T.createContext(null),vi=()=>T.useContext(gie)!=null,Fm=t=>t.brush,Vm=ne([Fm,er,Tk],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),GA=()=>{var t,e=vi(),n=Ie(pie),r=Ie(Vm),i=(t=Ie(Fm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ok=()=>{var t;return(t=Ie(er))!==null&&t!==void 0?t:vie},WA=()=>Ie(vs),KA=()=>Ie(ms),mie=()=>Ie(t=>t.layout.margin),ht=t=>t.layout.layoutType,zm=()=>Ie(ht),yie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Rk=Ui({name:"legend",initialState:yie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ns(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:gR,setLegendSettings:xie,addLegendPayload:Pk,removeLegendPayload:Nk}=Rk.actions,_ie=Rk.reducer,bie=["contextPayload"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(null,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){XA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XA(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Eie(t,"string");return typeof e=="symbol"?e:e+""}function Eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aie(t,e){if(t==null)return{};var n,r,i=Sie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tie(t){return t.value}function Cie(t){var{contextPayload:e}=t,n=Aie(t,bie),r=G9(e,t.payloadUniqBy,Tie),i=Rf(Rf({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(jA,i)}function Iie(t,e,n,r,i,a){var{layout:o,align:l,verticalAlign:u}=e,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Rf(Rf({},f),d)}function Oie(t){var e=fn();return T.useEffect(()=>{e(xie(t))},[e,t]),null}function Rie(t){var e=fn();return T.useEffect(()=>(e(gR(t)),()=>{e(gR({width:0,height:0}))}),[e,t]),null}function Pie(t){var e=Dne(),n=Wee(),r=mie(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[u,f]=Q9([e]),d=WA(),p=KA();if(d==null||p==null)return null;var v=d-(r.left||0)-(r.right||0),m=Hm.getWidthOrHeight(t.layout,a,i,v),b=l?o:Rf(Rf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},Iie(o,t,r,d,p,u)),o),w=l??n;if(w==null)return null;var A=T.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},T.createElement(Oie,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),T.createElement(Rie,{width:u.width,height:u.height}),T.createElement(Cie,Ew({},t,m,{margin:r,chartWidth:d,chartHeight:p,contextPayload:e})));return x9.createPortal(A,w)}class Hm extends T.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Ne(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return T.createElement(Pie,this.props)}}XA(Hm,"displayName","Legend");XA(Hm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(null,arguments)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kie(t){return Array.isArray(t)&&_o(t[0])&&_o(t[1])?t.join(" ~ "):t}var jie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var k={padding:0,margin:0},L=(l?Nm(a,l):a).map((P,M)=>{if(P.type==="none")return null;var j=P.formatter||o||kie,{value:z,name:U}=P,H=z,F=U;if(j){var pe=j(z,U,P,M,a);if(Array.isArray(pe))[H,F]=pe;else if(pe!=null)H=pe;else return null}var _e=V_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:_e},_o(F)?T.createElement("span",{className:"recharts-tooltip-item-name"},F):null,_o(F)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},H),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},b=V_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=V_({margin:0},i),A=!sn(d),S=A?d:"",O=xt("recharts-default-tooltip",u),I=xt("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(S=p(d,a));var R=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Aw({className:O,style:b},R),T.createElement("p",{className:I,style:w},T.isValidElement(S)?S:"".concat(S)),m())},mh="recharts-tooltip-wrapper",Lie={visibility:"hidden"};function Bie(t){var{coordinate:e,translateX:n,translateY:r}=t;return xt(mh,{["".concat(mh,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(mh,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(mh,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(mh,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function yR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(a&&Ne(a[r]))return a[r];var d=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?d:p;var v=u[r];if(v==null)return 0;if(o[r]){var m=d,b=v;return m<b?Math.max(p,v):Math.max(d,v)}if(f==null)return 0;var w=p+l,A=v+f;return w>A?Math.max(d,v):Math.max(p,v)}function Uie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Fie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,f,d,p;return o.height>0&&o.width>0&&n?(d=yR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=yR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Uie({translateX:d,translateY:p,useTranslate3d:l})):f=Lie,{cssProperties:f,cssClasses:Bie({translateX:d,translateY:p,coordinate:n})}}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e,n){return(e=Vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hie extends T.PureComponent{constructor(){super(...arguments),Sw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:d,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:b,lastBoundingBox:w,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:O,cssProperties:I}=Fie({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),R=S?{}:J1(J1({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=J1(J1({},R),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},b);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:A},a)}}var $ie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hl={devToolsEnabled:!1,isSsr:$ie()},Dk=()=>Ie(t=>t.rootProps.accessibilityLayer);function Li(t){return Number.isFinite(t)}function Pf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR={curveBasisClosed:dte,curveBasisOpen:hte,curveBasis:fte,curveBumpX:Qee,curveBumpY:Zee,curveLinearClosed:pte,curveLinear:Rm,curveMonotoneX:gte,curveMonotoneY:vte,curveNatural:mte,curveStep:yte,curveStepAfter:_te,curveStepBefore:xte},eg=t=>Li(t.x)&&Li(t.y),yh=t=>t.x,xh=t=>t.y,Kie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(jp(t));return(n==="curveMonotone"||n==="curveBump")&&e?wR["".concat(n).concat(e==="vertical"?"Y":"X")]:wR[n]||Rm},Xie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=Kie(e,i),l=a?n.filter(eg):n,u;if(Array.isArray(r)){var f=a?r.filter(p=>eg(p)):r,d=l.map((p,v)=>bR(bR({},p),{},{base:f[v]}));return i==="vertical"?u=G1().y(xh).x1(yh).x0(p=>p.base.x):u=G1().x(yh).y1(xh).y0(p=>p.base.y),u.defined(eg).curve(o),u(d)}return i==="vertical"&&Ne(r)?u=G1().y(xh).x1(yh).x0(r):Ne(r)?u=G1().x(yh).y1(xh).y0(r):u=T9().x(yh).y(xh),u.defined(eg).curve(o),u(l)},YA=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Xie(t):r;return T.createElement("path",Tw({},Co(t),IA(t),{className:xt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Yie=["x","y","top","left","width","height","className"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(null,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return(e=Jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tae(t,e){if(t==null)return{};var n,r,i=nae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rae=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),iae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,u=tae(t,Yie),f=Qie({x:e,y:n,top:r,left:i,width:a,height:o},u);return!Ne(e)||!Ne(n)||!Ne(a)||!Ne(o)||!Ne(r)||!Ne(i)?null:T.createElement("path",Cw({},un(f,!0),{className:xt("recharts-cross",l),d:rae(e,n,a,o,r,i)}))};function aae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pr(t,e){var n=oae({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}function uae(){}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Mk=(t,e,n)=>t.map(r=>"".concat(pae(r)," ").concat(e,"ms ").concat(n)).join(","),gae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),up=(t,e)=>Object.keys(e).reduce((n,r)=>TR(TR({},n),{},{[r]:t(r,e[r])}),{});function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return(e=mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=yae(t,"string");return typeof e=="symbol"?e:e+""}function yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pv=(t,e,n)=>t+(e-t)*n,Iw=t=>{var{from:e,to:n}=t;return e!==n},kk=(t,e,n)=>{var r=up((i,a)=>{if(Iw(a)){var[o,l]=t(a.from,a.to,a.velocity);return Tr(Tr({},a),{},{from:o,velocity:l})}return a},e);return n<1?up((i,a)=>Iw(a)?Tr(Tr({},a),{},{velocity:pv(a.velocity,r[i].velocity,n),from:pv(a.from,r[i].from,n)}):a,e):kk(t,r,n-1)};function xae(t,e,n,r,i,a){var o,l=r.reduce((v,m)=>Tr(Tr({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),u=()=>up((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Iw).length,d=null,p=v=>{o||(o=v);var m=v-o,b=m/n.dt;l=kk(n,l,b),i(Tr(Tr(Tr({},t),e),u())),o=v,f()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function _ae(t,e,n,r,i,a,o){var l=null,u=i.reduce((p,v)=>Tr(Tr({},p),{},{[v]:[t[v],e[v]]}),{}),f,d=p=>{f||(f=p);var v=(p-f)/r,m=up((w,A)=>pv(...A,n(v)),u);if(a(Tr(Tr(Tr({},t),e),m)),v<1)l=o.setTimeout(d);else{var b=up((w,A)=>pv(...A,n(1)),u);a(Tr(Tr(Tr({},t),e),b))}};return()=>(l=o.setTimeout(d),()=>{l()})}const bae=(t,e,n,r,i,a)=>{var o=gae(t,e);return n.isStepper===!0?xae(t,e,n,o,i,a):_ae(t,e,n,r,o,i,a)};var gv=1e-4,jk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Lk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),IR=(t,e)=>n=>{var r=jk(t,e);return Lk(r,n)},wae=(t,e)=>n=>{var r=jk(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return Lk(i,n)},OR=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,r,n,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([e,r,n,i]=o);var f=IR(e,n),d=IR(r,i),p=wae(e,n),v=b=>b>1?1:b<0?0:b,m=b=>{for(var w=b>1?1:b,A=w,S=0;S<8;++S){var O=f(A)-w,I=p(A);if(Math.abs(O-w)<gv||I<gv)return d(A);A=v(A-O/I)}return d(A)};return m.isStepper=!1,m},Eae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,u)=>{var f=-(o-l)*n,d=u*r,p=u+(f-d)*i/1e3,v=u*i/1e3+o;return Math.abs(v-l)<gv&&Math.abs(p)<gv?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Aae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OR(t);case"spring":return Eae();default:if(t.split("(")[0]==="cubic-bezier")return OR(t)}return typeof t=="function"?t:null};function Sae(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Tae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Cae(){return Sae(new Tae)}var Iae=T.createContext(Cae);function Oae(t,e){var n=T.useContext(Iae);return T.useMemo(()=>e??n(t),[t,e,n])}var Rae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},RR={t:0},z_={t:1};function Vp(t){var e=Pr(t,Rae),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=e,d=Oae(e.animationId,e.animationManager),[p,v]=T.useState(n?RR:z_),m=T.useRef(null);return T.useEffect(()=>{n||v(z_)},[n]),T.useEffect(()=>{if(!n||!r)return uae;var b=bae(RR,z_,Aae(a),i,v,d.getTimeoutController()),w=()=>{m.current=b()};return d.start([u,o,w,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,i,a,o,u,l,d]),f(p.t)}function zp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(op(e)),r=T.useRef(t);return r.current!==t&&(n.current=op(e),r.current=t),n.current}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(null,arguments)}var DR=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(e)),f+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+o*d[1])),f+="L ".concat(t+n,",").concat(e+r-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),f+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-o*d[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(e+o*m,`
            L `).concat(t+n,",").concat(e+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(e+r-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Mae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=t=>{var e=Pr(t,Mae),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&i(pe)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:b,isUpdateAnimationActive:w}=e,A=T.useRef(l),S=T.useRef(u),O=T.useRef(a),I=T.useRef(o),R=T.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),k=zp(R,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var L=xt("recharts-rectangle",d);if(!w)return T.createElement("path",vv({},un(e,!0),{className:L,d:DR(a,o,l,u,f)}));var P=A.current,M=S.current,j=O.current,z=I.current,U="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),F=Mk(["strokeDasharray"],v,typeof p=="string"?p:void 0);return T.createElement(Vp,{animationId:k,key:k,canBegin:r>0,duration:v,easing:p,isActive:w,begin:m},pe=>{var _e=pn(P,l,pe),X=pn(M,u,pe),re=pn(j,a,pe),de=pn(z,o,pe);n.current&&(A.current=_e,S.current=X,O.current=re,I.current=de);var we;return b?pe>0?we={transition:F,strokeDasharray:H}:we={strokeDasharray:U}:we={strokeDasharray:H},T.createElement("path",vv({},un(e,!0),{className:L,d:DR(re,de,_e,X,f),ref:n,style:NR(NR({},we),e.style)}))})};function Uk(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Fn(e,n,r,i),l=Fn(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(null,arguments)}var kae=(t,e)=>{var n=dr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},tg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=t,f=l*(o?1:-1)+r,d=Math.asin(l/f)/hv,p=u?i:i+a*d,v=Fn(e,n,f,p),m=Fn(e,n,r,p),b=u?i-a*d:i,w=Fn(e,n,f*Math.cos(d*hv),b);return{center:v,circleTangency:m,lineTangency:w,theta:d}},Fk=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=kae(a,o),u=a+l,f=Fn(e,n,i,a),d=Fn(e,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var v=Fn(e,n,r,a),m=Fn(e,n,r,u);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},jae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=t,d=dr(f-u),{circleTangency:p,lineTangency:v,theta:m}=tg({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:b,lineTangency:w,theta:A}=tg({cx:e,cy:n,radius:i,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(u-f):Math.abs(u-f)-m-A;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Fk({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:R,theta:k}=tg({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:L,lineTangency:P,theta:M}=tg({cx:e,cy:n,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-f):Math.abs(u-f)-k-M;if(j<0&&a===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(e,",").concat(n,"Z");return O},Lae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vk=t=>{var e=Pr(t,Lae),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d,className:p}=e;if(a<i||f===d)return null;var v=xt("recharts-sector",p),m=a-i,b=Fr(o,m,0,!0),w;return b>0&&Math.abs(f-d)<360?w=jae({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):w=Fk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d}),T.createElement("path",Ow({},un(e,!0),{className:v,d:w}))};function Bae(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:d,angle:p}=e,v=Fn(l,u,f,p),m=Fn(l,u,d,p);r=v.x,i=v.y,a=m.x,o=m.y}else return Uk(e);return[{x:r,y:i},{x:a,y:o}]}var H_={},$_={},q_={},MR;function Uae(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K9();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(q_)),q_}var kR;function Fae(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($_)),$_}var jR;function Vae(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X9(),n=Fae();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}t.range=r})(H_)),H_}var G_,LR;function zae(){return LR||(LR=1,G_=Vae().range),G_}var Hae=zae();const zk=wo(Hae);function Al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $ae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QA(t){let e,n,r;t.length!==2?(e=Al,n=(l,u)=>Al(t(l),u),r=(l,u)=>t(l)-u):(e=t===Al||t===$ae?t:qae,n=t,r=t);function i(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<0?f=p+1:d=p}while(f<d)}return f}function a(l,u,f=0,d=l.length){if(f<d){if(e(u,u)!==0)return d;do{const p=f+d>>>1;n(l[p],u)<=0?f=p+1:d=p}while(f<d)}return f}function o(l,u,f=0,d=l.length){const p=i(l,u,f,d-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function qae(){return 0}function Hk(t){return t===null?NaN:+t}function*Gae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Wae=QA(Al),Hp=Wae.right;QA(Hk).center;class BR extends Map{constructor(e,n=Yae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(UR(this,e))}has(e){return super.has(UR(this,e))}set(e,n){return super.set(Kae(this,e),n)}delete(e){return super.delete(Xae(this,e))}}function UR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Kae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qae(t=Al){if(t===Al)return $k;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $k(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zae=Math.sqrt(50),Jae=Math.sqrt(10),eoe=Math.sqrt(2);function mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Zae?10:a>=Jae?5:a>=eoe?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?mv(t,e,n*2):[l,u,f]}function Rw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?mv(e,t,n):mv(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function Pw(t,e,n){return e=+e,t=+t,n=+n,mv(t,e,n)[2]}function Nw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pw(e,t,n):Pw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$k:Qae(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(u-p)/u)*(f-u/2<0?-1:1),m=Math.max(n,Math.floor(e-f*p/u+v)),b=Math.min(r,Math.floor(e+(u-f)*p/u+v));qk(t,e,m,b,i)}const a=t[e];let o=n,l=r;for(_h(t,n,e),i(t[r],a)>0&&_h(t,n,r);o<l;){for(_h(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?_h(t,n,l):(++l,_h(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function _h(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function toe(t,e,n){if(t=Float64Array.from(Gae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VR(t);if(e>=1)return FR(t);var r,i=(r-1)*e,a=Math.floor(i),o=FR(qk(t,a).subarray(0,a+1)),l=VR(t.subarray(a+1));return o+(l-o)*(i-a)}}function noe(t,e,n=Hk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function roe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Dw=Symbol("implicit");function ZA(){var t=new BR,e=[],n=[],r=Dw;function i(a){let o=t.get(a);if(o===void 0){if(r!==Dw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new BR;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZA(e,n).unknown(r)},va.apply(i,arguments),i}function JA(){var t=ZA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,u=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,m=i<r,b=m?i:r,w=m?r:i;a=(w-b)/Math.max(1,v-u+f*2),l&&(a=Math.floor(a)),b+=(w-b-a*(v-u))*d,o=a*(1-u),l&&(b=Math.round(b),o=Math.round(o));var A=roe(v).map(function(S){return b+a*S});return n(m?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),p()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return JA(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(d)},va.apply(p(),arguments)}function Gk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gk(e())},t}function ioe(){return Gk(JA.apply(null,arguments).paddingInner(1))}function eS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $p(){}var fp=.7,yv=1/fp,vf="\\s*([+-]?\\d+)\\s*",dp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aoe=/^#([0-9a-f]{3,8})$/,ooe=new RegExp(`^rgb\\(${vf},${vf},${vf}\\)$`),soe=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),loe=new RegExp(`^rgba\\(${vf},${vf},${vf},${dp}\\)$`),coe=new RegExp(`^rgba\\(${mo},${mo},${mo},${dp}\\)$`),uoe=new RegExp(`^hsl\\(${dp},${mo},${mo}\\)$`),foe=new RegExp(`^hsla\\(${dp},${mo},${mo},${dp}\\)$`),zR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eS($p,hp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HR,formatHex:HR,formatHex8:doe,formatHsl:hoe,formatRgb:$R,toString:$R});function HR(){return this.rgb().formatHex()}function doe(){return this.rgb().formatHex8()}function hoe(){return Kk(this).formatHsl()}function $R(){return this.rgb().formatRgb()}function hp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aoe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qR(e):n===3?new di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ng(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ng(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ooe.exec(t))?new di(e[1],e[2],e[3],1):(e=soe.exec(t))?new di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=loe.exec(t))?ng(e[1],e[2],e[3],e[4]):(e=coe.exec(t))?ng(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uoe.exec(t))?KR(e[1],e[2]/100,e[3]/100,1):(e=foe.exec(t))?KR(e[1],e[2]/100,e[3]/100,e[4]):zR.hasOwnProperty(t)?qR(zR[t]):t==="transparent"?new di(NaN,NaN,NaN,0):null}function qR(t){return new di(t>>16&255,t>>8&255,t&255,1)}function ng(t,e,n,r){return r<=0&&(t=e=n=NaN),new di(t,e,n,r)}function poe(t){return t instanceof $p||(t=hp(t)),t?(t=t.rgb(),new di(t.r,t.g,t.b,t.opacity)):new di}function Mw(t,e,n,r){return arguments.length===1?poe(t):new di(t,e,n,r??1)}function di(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}eS(di,Mw,Wk($p,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new di(Hc(this.r),Hc(this.g),Hc(this.b),xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GR,formatHex:GR,formatHex8:goe,formatRgb:WR,toString:WR}));function GR(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}`}function goe(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}${Mc((isNaN(this.opacity)?1:this.opacity)*255)}`}function WR(){const t=xv(this.opacity);return`${t===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${t===1?")":`, ${t})`}`}function xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mc(t){return t=Hc(t),(t<16?"0":"")+t.toString(16)}function KR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ma(t,e,n,r)}function Kk(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);if(t instanceof $p||(t=hp(t)),!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ma(o,l,u,t.opacity)}function voe(t,e,n,r){return arguments.length===1?Kk(t):new Ma(t,e,n,r??1)}function Ma(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}eS(Ma,voe,Wk($p,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fp:Math.pow(fp,t),new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new di(W_(t>=240?t-240:t+120,i,r),W_(t,i,r),W_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ma(XR(this.h),rg(this.s),rg(this.l),xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xv(this.opacity);return`${t===1?"hsl(":"hsla("}${XR(this.h)}, ${rg(this.s)*100}%, ${rg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XR(t){return t=(t||0)%360,t<0?t+360:t}function rg(t){return Math.max(0,Math.min(1,t||0))}function W_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const tS=t=>()=>t;function moe(t,e){return function(n){return t+n*e}}function yoe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xoe(t){return(t=+t)==1?Xk:function(e,n){return n-e?yoe(e,n,t):tS(isNaN(e)?n:e)}}function Xk(t,e){var n=e-t;return n?moe(t,n):tS(isNaN(t)?e:t)}const YR=(function t(e){var n=xoe(e);function r(i,a){var o=n((i=Mw(i)).r,(a=Mw(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=Xk(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=u(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function _oe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function boe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function woe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Zf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Eoe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _v(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Aoe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var kw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K_=new RegExp(kw.source,"g");function Soe(t){return function(){return t}}function Toe(t){return function(e){return t(e)+""}}function Coe(t,e){var n=kw.lastIndex=K_.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=kw.exec(t))&&(i=K_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:_v(r,i)})),n=K_.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Toe(u[0].x):Soe(e):(e=u.length,function(f){for(var d=0,p;d<e;++d)l[(p=u[d]).i]=p.x(f);return l.join("")})}function Zf(t,e){var n=typeof e,r;return e==null||n==="boolean"?tS(e):(n==="number"?_v:n==="string"?(r=hp(e))?(e=r,YR):Coe:e instanceof hp?YR:e instanceof Date?Eoe:boe(e)?_oe:Array.isArray(e)?woe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Aoe:_v)(t,e)}function nS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ioe(t,e){e===void 0&&(e=t,t=Zf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Ooe(t){return function(){return t}}function bv(t){return+t}var QR=[0,1];function Jr(t){return t}function jw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ooe(isNaN(e)?NaN:.5)}function Roe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Poe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=jw(i,r),a=n(o,a)):(r=jw(r,i),a=n(a,o)),function(l){return a(r(l))}}function Noe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=jw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var u=Hp(t,l,1,r)-1;return a[u](i[u](l))}}function qp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $m(){var t=QR,e=QR,n=Zf,r,i,a,o=Jr,l,u,f;function d(){var v=Math.min(t.length,e.length);return o!==Jr&&(o=Roe(t[0],t[v-1])),l=v>2?Noe:Poe,u=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(u||(u=l(t.map(r),e,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(r),_v)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,bv),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=nS,d()},p.clamp=function(v){return arguments.length?(o=v?!0:Jr,d()):o!==Jr},p.interpolate=function(v){return arguments.length?(n=v,d()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return r=v,i=m,d()}}function rS(){return $m()(Jr,Jr)}function Doe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nf(t){return t=wv(Math.abs(t)),t?t[1]:NaN}function Moe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function koe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var joe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pp(t){if(!(e=joe.exec(t)))throw new Error("invalid format: "+t);var e;return new iS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pp.prototype=iS.prototype;function iS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Loe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yk;function Boe(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Yk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+wv(t,Math.max(0,e+a-1))[0]}function ZR(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Doe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZR(t*100,e),r:ZR,s:Boe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function eP(t){return t}var tP=Array.prototype.map,nP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uoe(t){var e=t.grouping===void 0||t.thousands===void 0?eP:Moe(tP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?eP:koe(tP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=pp(p);var v=p.fill,m=p.align,b=p.sign,w=p.symbol,A=p.zero,S=p.width,O=p.comma,I=p.precision,R=p.trim,k=p.type;k==="n"?(O=!0,k="g"):JR[k]||(I===void 0&&(I=12),R=!0,k="g"),(A||v==="0"&&m==="=")&&(A=!0,v="0",m="=");var L=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=w==="$"?r:/[%p]/.test(k)?o:"",M=JR[k],j=/[defgprs%]/.test(k);I=I===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function z(U){var H=L,F=P,pe,_e,X;if(k==="c")F=M(U)+F,U="";else{U=+U;var re=U<0||1/U<0;if(U=isNaN(U)?u:M(Math.abs(U),I),R&&(U=Loe(U)),re&&+U==0&&b!=="+"&&(re=!1),H=(re?b==="("?b:l:b==="-"||b==="("?"":b)+H,F=(k==="s"?nP[8+Yk/3]:"")+F+(re&&b==="("?")":""),j){for(pe=-1,_e=U.length;++pe<_e;)if(X=U.charCodeAt(pe),48>X||X>57){F=(X===46?i+U.slice(pe+1):U.slice(pe))+F,U=U.slice(0,pe);break}}}O&&!A&&(U=e(U,1/0));var de=H.length+U.length+F.length,we=de<S?new Array(S-de+1).join(v):"";switch(O&&A&&(U=e(we+U,we.length?S-F.length:1/0),we=""),m){case"<":U=H+U+F+we;break;case"=":U=H+we+U+F;break;case"^":U=we.slice(0,de=we.length>>1)+H+U+F+we.slice(de);break;default:U=we+H+U+F;break}return a(U)}return z.toString=function(){return p+""},z}function d(p,v){var m=f((p=pp(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Nf(v)/3)))*3,w=Math.pow(10,-b),A=nP[8+b/3];return function(S){return m(w*S)+A}}return{format:f,formatPrefix:d}}var ig,aS,Qk;Foe({thousands:",",grouping:[3],currency:["$",""]});function Foe(t){return ig=Uoe(t),aS=ig.format,Qk=ig.formatPrefix,ig}function Voe(t){return Math.max(0,-Nf(Math.abs(t)))}function zoe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nf(e)/3)))*3-Nf(Math.abs(t)))}function Hoe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nf(e)-Nf(t))+1}function Zk(t,e,n,r){var i=Nw(t,e,n),a;switch(r=pp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=zoe(i,o))&&(r.precision=a),Qk(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hoe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Voe(i))&&(r.precision=a-(r.type==="%")*2);break}}return aS(r)}function $l(t){var e=t.domain;return t.ticks=function(n){var r=e();return Rw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Zk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],u,f,d=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);d-- >0;){if(f=Pw(o,l,n),f===u)return r[i]=o,r[a]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function Jk(){var t=rS();return t.copy=function(){return qp(t,Jk())},va.apply(t,arguments),$l(t)}function e7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e7(t).unknown(e)},t=arguments.length?Array.from(t,bv):[0,1],$l(n)}function t7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function rP(t){return Math.log(t)}function iP(t){return Math.exp(t)}function $oe(t){return-Math.log(-t)}function qoe(t){return-Math.exp(-t)}function Goe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Woe(t){return t===10?Goe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Koe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function aP(t){return(e,n)=>-t(-e,n)}function oS(t){const e=t(rP,iP),n=e.domain;let r=10,i,a;function o(){return i=Koe(r),a=Woe(r),n()[0]<0?(i=aP(i),a=aP(a),t($oe,qoe)):t(rP,iP),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const u=n();let f=u[0],d=u[u.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),m=i(d),b,w;const A=l==null?10:+l;let S=[];if(!(r%1)&&m-v<A){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(b=1;b<r;++b)if(w=v<0?b/a(-v):b*a(v),!(w<f)){if(w>d)break;S.push(w)}}else for(;v<=m;++v)for(b=r-1;b>=1;--b)if(w=v>0?b/a(-v):b*a(v),!(w<f)){if(w>d)break;S.push(w)}S.length*2<A&&(S=Rw(f,d,A))}else S=Rw(v,m,Math.min(m-v,A)).map(a);return p?S.reverse():S},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=pp(u)).precision==null&&(u.trim=!0),u=aS(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?u(d):""}},e.nice=()=>n(t7(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function n7(){const t=oS($m()).domain([1,10]);return t.copy=()=>qp(t,n7()).base(t.base()),va.apply(t,arguments),t}function oP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sS(t){var e=1,n=t(oP(e),sP(e));return n.constant=function(r){return arguments.length?t(oP(e=+r),sP(e)):e},$l(n)}function r7(){var t=sS($m());return t.copy=function(){return qp(t,r7()).constant(t.constant())},va.apply(t,arguments)}function lP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yoe(t){return t<0?-t*t:t*t}function lS(t){var e=t(Jr,Jr),n=1;function r(){return n===1?t(Jr,Jr):n===.5?t(Xoe,Yoe):t(lP(n),lP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},$l(e)}function cS(){var t=lS($m());return t.copy=function(){return qp(t,cS()).exponent(t.exponent())},va.apply(t,arguments),t}function Qoe(){return cS.apply(null,arguments).exponent(.5)}function cP(t){return Math.sign(t)*t*t}function Zoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i7(){var t=rS(),e=[0,1],n=!1,r;function i(a){var o=Zoe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(cP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,bv)).map(cP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},va.apply(i,arguments),$l(i)}function a7(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=noe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Hp(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Al),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return a7().domain(t).range(e).unknown(r)},va.apply(a,arguments)}function o7(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Hp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return o7().domain([t,e]).range(i).unknown(a)},va.apply($l(o),arguments)}function s7(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return s7().domain(t).range(e).unknown(n)},va.apply(i,arguments)}const X_=new Date,Y_=new Date;function tr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return u},i.filter=a=>tr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(X_.setTime(+a),Y_.setTime(+o),t(X_),t(Y_),Math.floor(n(X_,Y_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ev=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ev.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ev);Ev.range;const Zo=1e3,sa=Zo*60,Jo=sa*60,fs=Jo*24,uS=fs*7,uP=fs*30,Q_=fs*365,kc=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getUTCSeconds());kc.range;const fS=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zo)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getMinutes());fS.range;const dS=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getUTCMinutes());dS.range;const hS=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zo-t.getMinutes()*sa)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getHours());hS.range;const pS=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCHours());pS.range;const Gp=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sa)/fs,t=>t.getDate()-1);Gp.range;const qm=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>t.getUTCDate()-1);qm.range;const l7=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>Math.floor(t/fs));l7.range;function cu(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*sa)/uS)}const Gm=cu(0),Av=cu(1),Joe=cu(2),ese=cu(3),Df=cu(4),tse=cu(5),nse=cu(6);Gm.range;Av.range;Joe.range;ese.range;Df.range;tse.range;nse.range;function uu(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uS)}const Wm=uu(0),Sv=uu(1),rse=uu(2),ise=uu(3),Mf=uu(4),ase=uu(5),ose=uu(6);Wm.range;Sv.range;rse.range;ise.range;Mf.range;ase.range;ose.range;const gS=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gS.range;const vS=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vS.range;const ds=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ds.range;const hs=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});hs.range;function c7(t,e,n,r,i,a){const o=[[kc,1,Zo],[kc,5,5*Zo],[kc,15,15*Zo],[kc,30,30*Zo],[a,1,sa],[a,5,5*sa],[a,15,15*sa],[a,30,30*sa],[i,1,Jo],[i,3,3*Jo],[i,6,6*Jo],[i,12,12*Jo],[r,1,fs],[r,2,2*fs],[n,1,uS],[e,1,uP],[e,3,3*uP],[t,1,Q_]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const m=p&&typeof p.range=="function"?p:u(f,d,p),b=m?m.range(f,+d+1):[];return v?b.reverse():b}function u(f,d,p){const v=Math.abs(d-f)/p,m=QA(([,,A])=>A).right(o,v);if(m===o.length)return t.every(Nw(f/Q_,d/Q_,p));if(m===0)return Ev.every(Math.max(Nw(f,d,p),1));const[b,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return b.every(w)}return[l,u]}const[sse,lse]=c7(hs,vS,Wm,l7,pS,dS),[cse,use]=c7(ds,gS,Gm,Gp,hS,fS);function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,f=wh(i),d=Eh(i),p=wh(a),v=Eh(a),m=wh(o),b=Eh(o),w=wh(l),A=Eh(l),S=wh(u),O=Eh(u),I={a:re,A:de,b:we,B:ke,c:null,d:vP,e:vP,f:Mse,g:$se,G:Gse,H:Pse,I:Nse,j:Dse,L:u7,m:kse,M:jse,p:G,q:ee,Q:xP,s:_P,S:Lse,u:Bse,U:Use,V:Fse,w:Vse,W:zse,x:null,X:null,y:Hse,Y:qse,Z:Wse,"%":yP},R={a:ye,A:be,b:Pe,B:qe,c:null,d:mP,e:mP,f:Qse,g:sle,G:cle,H:Kse,I:Xse,j:Yse,L:d7,m:Zse,M:Jse,p:rt,q:yn,Q:xP,s:_P,S:ele,u:tle,U:nle,V:rle,w:ile,W:ale,x:null,X:null,y:ole,Y:lle,Z:ule,"%":yP},k={a:z,A:U,b:H,B:F,c:pe,d:pP,e:pP,f:Cse,g:hP,G:dP,H:gP,I:gP,j:Ese,L:Tse,m:wse,M:Ase,p:j,q:bse,Q:Ose,s:Rse,S:Sse,u:vse,U:mse,V:yse,w:gse,W:xse,x:_e,X,y:hP,Y:dP,Z:_se,"%":Ise};I.x=L(n,I),I.X=L(r,I),I.c=L(e,I),R.x=L(n,R),R.X=L(r,R),R.c=L(e,R);function L(ge,ze){return function(Xe){var he=[],xn=-1,Ze=0,Hn=ge.length,_n,mi,ws;for(Xe instanceof Date||(Xe=new Date(+Xe));++xn<Hn;)ge.charCodeAt(xn)===37&&(he.push(ge.slice(Ze,xn)),(mi=fP[_n=ge.charAt(++xn)])!=null?_n=ge.charAt(++xn):mi=_n==="e"?" ":"0",(ws=ze[_n])&&(_n=ws(Xe,mi)),he.push(_n),Ze=xn+1);return he.push(ge.slice(Ze,xn)),he.join("")}}function P(ge,ze){return function(Xe){var he=bh(1900,void 0,1),xn=M(he,ge,Xe+="",0),Ze,Hn;if(xn!=Xe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ze&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=J_(bh(he.y,0,1)),Hn=Ze.getUTCDay(),Ze=Hn>4||Hn===0?Sv.ceil(Ze):Sv(Ze),Ze=qm.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=Z_(bh(he.y,0,1)),Hn=Ze.getDay(),Ze=Hn>4||Hn===0?Av.ceil(Ze):Av(Ze),Ze=Gp.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Hn="Z"in he?J_(bh(he.y,0,1)).getUTCDay():Z_(bh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Hn+5)%7:he.w+he.U*7-(Hn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,J_(he)):Z_(he)}}function M(ge,ze,Xe,he){for(var xn=0,Ze=ze.length,Hn=Xe.length,_n,mi;xn<Ze;){if(he>=Hn)return-1;if(_n=ze.charCodeAt(xn++),_n===37){if(_n=ze.charAt(xn++),mi=k[_n in fP?ze.charAt(xn++):_n],!mi||(he=mi(ge,Xe,he))<0)return-1}else if(_n!=Xe.charCodeAt(he++))return-1}return he}function j(ge,ze,Xe){var he=f.exec(ze.slice(Xe));return he?(ge.p=d.get(he[0].toLowerCase()),Xe+he[0].length):-1}function z(ge,ze,Xe){var he=m.exec(ze.slice(Xe));return he?(ge.w=b.get(he[0].toLowerCase()),Xe+he[0].length):-1}function U(ge,ze,Xe){var he=p.exec(ze.slice(Xe));return he?(ge.w=v.get(he[0].toLowerCase()),Xe+he[0].length):-1}function H(ge,ze,Xe){var he=S.exec(ze.slice(Xe));return he?(ge.m=O.get(he[0].toLowerCase()),Xe+he[0].length):-1}function F(ge,ze,Xe){var he=w.exec(ze.slice(Xe));return he?(ge.m=A.get(he[0].toLowerCase()),Xe+he[0].length):-1}function pe(ge,ze,Xe){return M(ge,e,ze,Xe)}function _e(ge,ze,Xe){return M(ge,n,ze,Xe)}function X(ge,ze,Xe){return M(ge,r,ze,Xe)}function re(ge){return o[ge.getDay()]}function de(ge){return a[ge.getDay()]}function we(ge){return u[ge.getMonth()]}function ke(ge){return l[ge.getMonth()]}function G(ge){return i[+(ge.getHours()>=12)]}function ee(ge){return 1+~~(ge.getMonth()/3)}function ye(ge){return o[ge.getUTCDay()]}function be(ge){return a[ge.getUTCDay()]}function Pe(ge){return u[ge.getUTCMonth()]}function qe(ge){return l[ge.getUTCMonth()]}function rt(ge){return i[+(ge.getUTCHours()>=12)]}function yn(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ze=L(ge+="",I);return ze.toString=function(){return ge},ze},parse:function(ge){var ze=P(ge+="",!1);return ze.toString=function(){return ge},ze},utcFormat:function(ge){var ze=L(ge+="",R);return ze.toString=function(){return ge},ze},utcParse:function(ge){var ze=P(ge+="",!0);return ze.toString=function(){return ge},ze}}}var fP={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,dse=/^%/,hse=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function pse(t){return t.replace(hse,"\\$&")}function wh(t){return new RegExp("^(?:"+t.map(pse).join("|")+")","i")}function Eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gse(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vse(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mse(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yse(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xse(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dP(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hP(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _se(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bse(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wse(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pP(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ese(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gP(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ase(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sse(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Tse(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cse(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ise(t,e,n){var r=dse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ose(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rse(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vP(t,e){return _t(t.getDate(),e,2)}function Pse(t,e){return _t(t.getHours(),e,2)}function Nse(t,e){return _t(t.getHours()%12||12,e,2)}function Dse(t,e){return _t(1+Gp.count(ds(t),t),e,3)}function u7(t,e){return _t(t.getMilliseconds(),e,3)}function Mse(t,e){return u7(t,e)+"000"}function kse(t,e){return _t(t.getMonth()+1,e,2)}function jse(t,e){return _t(t.getMinutes(),e,2)}function Lse(t,e){return _t(t.getSeconds(),e,2)}function Bse(t){var e=t.getDay();return e===0?7:e}function Use(t,e){return _t(Gm.count(ds(t)-1,t),e,2)}function f7(t){var e=t.getDay();return e>=4||e===0?Df(t):Df.ceil(t)}function Fse(t,e){return t=f7(t),_t(Df.count(ds(t),t)+(ds(t).getDay()===4),e,2)}function Vse(t){return t.getDay()}function zse(t,e){return _t(Av.count(ds(t)-1,t),e,2)}function Hse(t,e){return _t(t.getFullYear()%100,e,2)}function $se(t,e){return t=f7(t),_t(t.getFullYear()%100,e,2)}function qse(t,e){return _t(t.getFullYear()%1e4,e,4)}function Gse(t,e){var n=t.getDay();return t=n>=4||n===0?Df(t):Df.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Wse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function mP(t,e){return _t(t.getUTCDate(),e,2)}function Kse(t,e){return _t(t.getUTCHours(),e,2)}function Xse(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Yse(t,e){return _t(1+qm.count(hs(t),t),e,3)}function d7(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Qse(t,e){return d7(t,e)+"000"}function Zse(t,e){return _t(t.getUTCMonth()+1,e,2)}function Jse(t,e){return _t(t.getUTCMinutes(),e,2)}function ele(t,e){return _t(t.getUTCSeconds(),e,2)}function tle(t){var e=t.getUTCDay();return e===0?7:e}function nle(t,e){return _t(Wm.count(hs(t)-1,t),e,2)}function h7(t){var e=t.getUTCDay();return e>=4||e===0?Mf(t):Mf.ceil(t)}function rle(t,e){return t=h7(t),_t(Mf.count(hs(t),t)+(hs(t).getUTCDay()===4),e,2)}function ile(t){return t.getUTCDay()}function ale(t,e){return _t(Sv.count(hs(t)-1,t),e,2)}function ole(t,e){return _t(t.getUTCFullYear()%100,e,2)}function sle(t,e){return t=h7(t),_t(t.getUTCFullYear()%100,e,2)}function lle(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function cle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mf(t):Mf.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function ule(){return"+0000"}function yP(){return"%"}function xP(t){return+t}function _P(t){return Math.floor(+t/1e3)}var tf,p7,g7;fle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fle(t){return tf=fse(t),p7=tf.format,tf.parse,g7=tf.utcFormat,tf.utcParse,tf}function dle(t){return new Date(t)}function hle(t){return t instanceof Date?+t:+new Date(+t)}function mS(t,e,n,r,i,a,o,l,u,f){var d=rS(),p=d.invert,v=d.domain,m=f(".%L"),b=f(":%S"),w=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),O=f("%b %d"),I=f("%B"),R=f("%Y");function k(L){return(u(L)<L?m:l(L)<L?b:o(L)<L?w:a(L)<L?A:r(L)<L?i(L)<L?S:O:n(L)<L?I:R)(L)}return d.invert=function(L){return new Date(p(L))},d.domain=function(L){return arguments.length?v(Array.from(L,hle)):v().map(dle)},d.ticks=function(L){var P=v();return t(P[0],P[P.length-1],L??10)},d.tickFormat=function(L,P){return P==null?k:f(P)},d.nice=function(L){var P=v();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?v(t7(P,L)):d},d.copy=function(){return qp(d,mS(t,e,n,r,i,a,o,l,u,f))},d}function ple(){return va.apply(mS(cse,use,ds,gS,Gm,Gp,hS,fS,kc,p7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gle(){return va.apply(mS(sse,lse,hs,vS,Wm,qm,pS,dS,kc,g7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Km(){var t=0,e=1,n,r,i,a,o=Jr,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(v){var m,b;return arguments.length?([m,b]=v,o=p(m,b),f):[o(0),o(1)]}}return f.range=d(Zf),f.rangeRound=d(nS),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v7(){var t=$l(Km()(Jr));return t.copy=function(){return ql(t,v7())},ys.apply(t,arguments)}function m7(){var t=oS(Km()).domain([1,10]);return t.copy=function(){return ql(t,m7()).base(t.base())},ys.apply(t,arguments)}function y7(){var t=sS(Km());return t.copy=function(){return ql(t,y7()).constant(t.constant())},ys.apply(t,arguments)}function yS(){var t=lS(Km());return t.copy=function(){return ql(t,yS()).exponent(t.exponent())},ys.apply(t,arguments)}function vle(){return yS.apply(null,arguments).exponent(.5)}function x7(){var t=[],e=Jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>toe(t,a/r))},n.copy=function(){return x7(e).domain(t)},ys.apply(n,arguments)}function Xm(){var t=0,e=.5,n=1,r=1,i,a,o,l,u,f=Jr,d,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+d(w))-a)*(r*w<r*a?l:u),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=d(t=+t),a=d(e=+e),o=d(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function b(w){return function(A){var S,O,I;return arguments.length?([S,O,I]=A,f=Ioe(w,[S,O,I]),m):[f(0),f(.5),f(1)]}}return m.range=b(Zf),m.rangeRound=b(nS),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return d=w,i=w(t),a=w(e),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function _7(){var t=$l(Xm()(Jr));return t.copy=function(){return ql(t,_7())},ys.apply(t,arguments)}function b7(){var t=oS(Xm()).domain([.1,1,10]);return t.copy=function(){return ql(t,b7()).base(t.base())},ys.apply(t,arguments)}function w7(){var t=sS(Xm());return t.copy=function(){return ql(t,w7()).constant(t.constant())},ys.apply(t,arguments)}function xS(){var t=lS(Xm());return t.copy=function(){return ql(t,xS()).exponent(t.exponent())},ys.apply(t,arguments)}function mle(){return xS.apply(null,arguments).exponent(.5)}const jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:JA,scaleDiverging:_7,scaleDivergingLog:b7,scaleDivergingPow:xS,scaleDivergingSqrt:mle,scaleDivergingSymlog:w7,scaleIdentity:e7,scaleImplicit:Dw,scaleLinear:Jk,scaleLog:n7,scaleOrdinal:ZA,scalePoint:ioe,scalePow:cS,scaleQuantile:a7,scaleQuantize:o7,scaleRadial:i7,scaleSequential:v7,scaleSequentialLog:m7,scaleSequentialPow:yS,scaleSequentialQuantile:x7,scaleSequentialSqrt:vle,scaleSequentialSymlog:y7,scaleSqrt:Qoe,scaleSymlog:r7,scaleThreshold:s7,scaleTime:ple,scaleUtc:gle,tickFormat:Zk},Symbol.toStringTag,{value:"Module"}));var Gl=t=>t.chartData,_S=ne([Gl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ym=(t,e,n,r)=>r?_S(t):Gl(t);function kf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Li(e)&&Li(n))return!0}return!1}function bP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function yle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Li(n))i=n;else if(typeof n=="function")return;if(Li(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(kf(o))return o}}function xle(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(kf(r))return bP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ne(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&fR.test(i)){var u=fR.exec(i);if(u==null||e==null)o=void 0;else{var f=+u[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ne(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&dR.test(a)){var d=dR.exec(a);if(d==null||e==null)l=void 0;else{var p=+d[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(kf(v))return e==null?v:bP(v,e,n)}}}var Jf=1e9,_le={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wS,on=!0,ga="[DecimalError] ",$c=ga+"Invalid argument: ",bS=ga+"Exponent out of range: ",ed=Math.floor,Oc=Math.pow,ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,cr=1e7,Jt=7,E7=9007199254740991,Tv=ed(E7/Jt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return rs(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Ht(rs(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return zn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pi))throw Error(ga+"NaN");if(n.s<1)throw Error(ga+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(on=!1,e=rs(gp(n,a),gp(t,a),a),on=!0,Ht(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T7(e,t):A7(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ga+"NaN");return n.s?(on=!1,e=rs(n,t,0,1).times(t),on=!0,n.minus(e)):Ht(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return S7(this)};Ae.naturalLogarithm=Ae.ln=function(){return gp(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A7(e,t):T7(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($c+t);if(e=zn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ga+"NaN")}for(t=zn(l),on=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=uo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ed((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(rs(l,a,o+2)).times(.5),uo(a.d).slice(0,o)===(e=uo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ht(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return on=!0,Ht(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,o,l,u,f,d=this,p=d.constructor,v=d.d,m=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=v.length,f=m.length,u<f&&(a=v,v=m,m=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+m[r]*v[i-r-1]+e,a[i--]=l%cr|0,e=l/cr|0;a[i]=(a[i]+e)%cr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,on?Ht(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,Jf),e===void 0?e=r.rounding:bo(e,0,8),Ht(n,t+zn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=eu(r,!0):(bo(t,0,Jf),e===void 0?e=i.rounding:bo(e,0,8),r=Ht(new i(r),t+1,e),n=eu(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?eu(i):(bo(t,0,Jf),e===void 0?e=a.rounding:bo(e,0,8),r=Ht(new a(i),t+zn(i)+1,e),n=eu(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Ht(new e(t),zn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,o,l=this,u=l.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(Pi);if(l=new u(l),!l.s){if(t.s<1)throw Error(ga+"Infinity");return l}if(l.eq(Pi))return l;if(r=u.precision,t.eq(Pi))return Ht(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=d<0?-d:d)<=E7){for(i=new u(Pi),e=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(l),EP(i.d,e)),n=ed(n/2),n!==0;)l=l.times(l),EP(l.d,e);return on=!0,t.s<0?new u(Pi).div(i):Ht(i,r)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,on=!1,i=t.times(gp(l,r+f)),on=!0,i=S7(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=zn(i),r=eu(i,n<=a.toExpNeg||n>=a.toExpPos)):(bo(t,1,Jf),e===void 0?e=a.rounding:bo(e,0,8),i=Ht(new a(i),t,e),n=zn(i),r=eu(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,Jf),e===void 0?e=r.rounding:bo(e,0,8)),Ht(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return eu(t,e<=n.toExpNeg||e>=n.toExpPos)};function A7(t,e){var n,r,i,a,o,l,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),on?Ht(e,p):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/cr|0,u[a]%=cr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,on?Ht(e,p):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error($c+t)}function uo(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Jt-r.length,n&&(a+=ll(n)),a+=r;o=t[e],r=o+"",n=Jt-r.length,n&&(a+=ll(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var rs=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%cr|0,o=a/cr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*cr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,f,d,p,v,m,b,w,A,S,O,I,R,k,L,P,M,j=r.constructor,z=r.s==i.s?1:-1,U=r.d,H=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(ga+"Division by zero");for(u=r.e-i.e,P=H.length,k=U.length,m=new j(z),b=m.d=[],f=0;H[f]==(U[f]||0);)++f;if(H[f]>(U[f]||0)&&--u,a==null?O=a=j.precision:o?O=a+(zn(r)-zn(i))+1:O=a,O<0)return new j(0);if(O=O/Jt+2|0,f=0,P==1)for(d=0,H=H[0],O++;(f<k||d)&&O--;f++)I=d*cr+(U[f]||0),b[f]=I/H|0,d=I%H|0;else{for(d=cr/(H[0]+1)|0,d>1&&(H=t(H,d),U=t(U,d),P=H.length,k=U.length),R=P,w=U.slice(0,P),A=w.length;A<P;)w[A++]=0;M=H.slice(),M.unshift(0),L=H[0],H[1]>=cr/2&&++L;do d=0,l=e(H,w,P,A),l<0?(S=w[0],P!=A&&(S=S*cr+(w[1]||0)),d=S/L|0,d>1?(d>=cr&&(d=cr-1),p=t(H,d),v=p.length,A=w.length,l=e(p,w,v,A),l==1&&(d--,n(p,P<v?M:H,v))):(d==0&&(l=d=1),p=H.slice()),v=p.length,v<A&&p.unshift(0),n(w,p,A),l==-1&&(A=w.length,l=e(H,w,P,A),l<1&&(d++,n(w,P<A?M:H,A))),A=w.length):l===0&&(d++,w=[0]),b[f++]=d,l&&w[0]?w[A++]=U[R]||0:(w=[U[R]],A=1);while((R++<k||w[0]!==void 0)&&O--)}return b[0]||b.shift(),m.e=u,Ht(m,o?a+zn(m)+1:a)}})();function S7(t,e){var n,r,i,a,o,l,u=0,f=0,d=t.constructor,p=d.precision;if(zn(t)>16)throw Error(bS+zn(t));if(!t.s)return new d(Pi);for(on=!1,l=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(Oc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Pi),d.precision=l;;){if(i=Ht(i.times(t),l),n=n.times(++u),o=a.plus(rs(i,n,l)),uo(o.d).slice(0,l)===uo(a.d).slice(0,l)){for(;f--;)a=Ht(a.times(a),l);return d.precision=p,e==null?(on=!0,Ht(a,p)):a}a=o}}function zn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function eb(t,e,n){if(e>t.LN10.sd())throw on=!0,n&&(t.precision=n),Error(ga+"LN10 precision limit exceeded");return Ht(new t(t.LN10),e)}function ll(t){for(var e="";t--;)e+="0";return e}function gp(t,e){var n,r,i,a,o,l,u,f,d,p=1,v=10,m=t,b=m.d,w=m.constructor,A=w.precision;if(m.s<1)throw Error(ga+(m.s?"NaN":"-Infinity"));if(m.eq(Pi))return new w(0);if(e==null?(on=!1,f=A):f=e,m.eq(10))return e==null&&(on=!0),eb(w,f);if(f+=v,w.precision=f,n=uo(b),r=n.charAt(0),a=zn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=uo(m.d),r=n.charAt(0),p++;a=zn(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return u=eb(w,f+2,A).times(a+""),m=gp(new w(r+"."+n.slice(1)),f-v).plus(u),w.precision=A,e==null?(on=!0,Ht(m,A)):m;for(l=o=m=rs(m.minus(Pi),m.plus(Pi),f),d=Ht(m.times(m),f),i=3;;){if(o=Ht(o.times(d),f),u=l.plus(rs(o,new w(i),f)),uo(u.d).slice(0,f)===uo(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(eb(w,f+2,A).times(a+""))),l=rs(l,new w(p),f),w.precision=A,e==null?(on=!0,Ht(l,A)):l;l=u,i+=2}}function wP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ed(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jt;r<i;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),on&&(t.e>Tv||t.e<-Tv))throw Error(bS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ht(t,e,n){var r,i,a,o,l,u,f,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Jt,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/Jt),a=p.length,d>=a)return t;for(f=a=p[d],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Oc(10,o-i-1),l=f/a%10|0,u=e<0||p[d+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Oc(10,o-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=zn(t),p.length=1,e=e-a-1,p[0]=Oc(10,(Jt-e%Jt)%Jt),t.e=ed(-e/Jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Oc(10,Jt-r),p[d]=i>0?(f/Oc(10,o-i)%Oc(10,i)|0)*a:0),u)for(;;)if(d==0){(p[0]+=a)==cr&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=cr)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(t.e>Tv||t.e<-Tv))throw Error(bS+zn(t));return t}function T7(t,e){var n,r,i,a,o,l,u,f,d,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),on?Ht(e,m):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),o=f-r,o){for(d=o<0,d?(n=u,o=-o,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(m/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}o=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=cr-1;--u[a],u[i]+=cr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,on?Ht(e,m):e):new v(0)}function eu(t,e,n){var r,i=zn(t),a=uo(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ll(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ll(-i-1)+a,n&&(r=n-o)>0&&(a+=ll(r))):i>=o?(a+=ll(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ll(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ll(r))),t.s<0?"-"+a:a}function EP(t,e){if(t.length>e)return t.length=e,!0}function C7(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($c+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return wP(o,a.toString())}else if(typeof a!="string")throw Error($c+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ble.test(a))wP(o,a);else throw Error($c+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C7,i.config=i.set=wle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function wle(t){if(!t||typeof t!="object")throw Error(ga+"Object expected");var e,n,r,i=["precision",1,Jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ed(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($c+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($c+n+": "+r);return this}var wS=C7(_le);Pi=new wS(1);const Mt=wS;var Ele=t=>t,I7={},O7=t=>t===I7,AP=t=>function e(){return arguments.length===0||arguments.length===1&&O7(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},R7=(t,e)=>t===1?e:AP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==I7).length;return a>=t?e(...r):R7(t-a,AP(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=r.map(d=>O7(d)?l.shift():d);return e(...f,...l)}))}),Qm=t=>R7(t.length,t),Lw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Ale=Qm((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Sle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ele;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},Bw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),P7=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var u;return o===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function N7(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function D7(t,e,n){for(var r=new Mt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Qm((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Qm((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Qm((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var M7=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},k7=(t,e,n)=>{if(t.lte(0))return new Mt(0);var r=N7(t.toNumber()),i=new Mt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Mt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return e?new Mt(u.toNumber()):new Mt(Math.ceil(u.toNumber()))},Tle=(t,e,n)=>{var r=new Mt(1),i=new Mt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Mt(10).pow(N7(t)-1),i=new Mt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):n||(i=new Mt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Sle(Ale(u=>i.add(new Mt(u-o).mul(r)).toNumber()),Lw);return l(0,e)},j7=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var o=k7(new Mt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Mt(0):(l=new Mt(e).add(n).div(2),l=l.sub(new Mt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Mt(n).sub(l).div(o).toNumber()),d=u+f+1;return d>r?j7(e,n,r,i,a+1):(d<r&&(f=n>0?f+(r-d):f,u=n>0?u:u+(r-d)),{step:o,tickMin:l.sub(new Mt(u).mul(o)),tickMax:l.add(new Mt(f).mul(o))})};function Cle(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=M7([e,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Lw(0,r-1).map(()=>1/0)]:[...Lw(0,r-1).map(()=>-1/0),l];return e>n?Bw(u):u}if(o===l)return Tle(o,r,i);var{step:f,tickMin:d,tickMax:p}=j7(o,l,a,i,0),v=D7(d,p.add(new Mt(.1).mul(f)),f);return e>n?Bw(v):v}function Ile(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=M7([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var l=Math.max(e,2),u=k7(new Mt(o).sub(a).div(l-1),i,0),f=[...D7(new Mt(a),new Mt(o),u),o];return i===!1&&(f=f.map(d=>Math.round(d))),n>r?Bw(f):f}var Ole=P7(Cle),Rle=P7(Ile),L7=t=>t.rootProps.maxBarSize,Ple=t=>t.rootProps.barGap,B7=t=>t.rootProps.barCategoryGap,Nle=t=>t.rootProps.barSize,Wp=t=>t.rootProps.stackOffset,ES=t=>t.options.chartName,AS=t=>t.rootProps.syncId,U7=t=>t.rootProps.syncMethod,SS=t=>t.options.eventEmitter,Ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Dle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:Ko.reversed,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:Ko.type,unit:void 0},Mle={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:Oi.type,unit:void 0},kle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jle={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:"category",unit:void 0},TS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?kle:Dle,CS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?jle:Mle,Jm=t=>t.polarOptions,IS=ne([vs,ms,er],wk),F7=ne([Jm,IS],(t,e)=>{if(t!=null)return Fr(t.innerRadius,e,0)}),V7=ne([Jm,IS],(t,e)=>{if(t!=null)return Fr(t.outerRadius,e,e*.8)}),Lle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},z7=ne([Jm],Lle);ne([TS,z7],Zm);var H7=ne([IS,F7,V7],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([CS,H7],Zm);var $7=ne([ht,Jm,F7,V7,vs,ms],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=e;return{cx:Fr(o,i,i/2),cy:Fr(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),ln=(t,e)=>e,Kp=(t,e,n)=>n;function OS(t){return t?.id}var nr=t=>{var e=ht(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},td=t=>t.tooltip.settings.axisId,pr=t=>{var e=nr(t),n=td(t);return Xp(t,e,n)},q7=ne([pr],t=>t?.dataKey);function G7(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var d=OS(l);f.forEach((p,v)=>{var m=a==null||i?v:String(Kt(p,a,null)),b=Kt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[d]:b}),o.set(m,w)})}}),Array.from(o.values())}function ey(t){return t.stackId!=null&&t.dataKey!=null}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uw=[0,"auto"],Ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W7=(t,e)=>t.cartesianAxis.xAxis[e],xs=(t,e)=>{var n=W7(t,e);return n??Ci},Ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fp},K7=(t,e)=>t.cartesianAxis.yAxis[e],_s=(t,e)=>{var n=K7(t,e);return n??Ii},Vle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Vle},Cn=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return _s(t,n);case"zAxis":return RS(t,n);case"angleAxis":return TS(t,n);case"radiusAxis":return CS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zle=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return _s(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xp=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return _s(t,n);case"angleAxis":return TS(t,n);case"radiusAxis":return CS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},X7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ty=t=>t.graphicalItems.cartesianItems,Hle=ne([ln,Kp],PS),NS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Yp=ne([ty,Cn,Hle],NS),Y7=ne([Yp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ey)),Q7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Z7=ne([Yp],Q7),DS=t=>t.map(e=>e.data).filter(Boolean).flat(1),$le=ne([Yp],DS),MS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},kS=ne([$le,Ym],MS),jS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kt(i,r)}))):t.map(r=>({value:r})),ny=ne([kS,Cn,Yp],jS);function J7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function fu(t){return t.filter(e=>_o(e)||e instanceof Date).map(Number).filter(e=>ki(e)===!1)}function qle(t,e,n){return!n||typeof e!="number"||ki(e)?[]:n.length?fu(n.flatMap(r=>{var i=Kt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Li(a)||!Li(o)))return[e-a,e+o]})):[]}var Gle=ne([Y7,Ym,pr],G7),ej=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,u=l.map(OS);return[o,{stackedData:Yre(t,u,n),graphicalItems:l}]}))},Fw=ne([Gle,Y7,Wp],ej),tj=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=tie(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Wle=ne([Fw,Gl,ln],tj),nj=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var l,u,f=(l=r[o.id])===null||l===void 0?void 0:l.filter(p=>J7(i,p)),d=Kt(a,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:d,errorDomain:qle(a,d,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Kt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),ry=t=>t.errorBars,rj=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>J7(n,r));ne([Z7,ry,ln],rj);var Kle=ne([kS,Cn,Z7,ry,ln],nj);function Xle(t){var{value:e}=t;if(_o(e)||e instanceof Date)return e}var TP=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=fu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yle=(t,e,n)=>{var r=t.map(Xle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&p9(r))?zk(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},LS=t=>{var e;if(t==null||!("domain"in t))return Uw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=fu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Uw},Iv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},ij=t=>t.referenceElements.dots,nd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Qle=ne([ij,ln,Kp],nd),aj=t=>t.referenceElements.areas,Zle=ne([aj,ln,Kp],nd),oj=t=>t.referenceElements.lines,Jle=ne([oj,ln,Kp],nd),sj=(t,e)=>{var n=fu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ece=ne(Qle,ln,sj),lj=(t,e)=>{var n=fu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tce=ne([Zle,ln],lj),cj=(t,e)=>{var n=fu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nce=ne(Jle,ln,cj),rce=ne(ece,nce,tce,(t,e,n)=>Iv(t,n,e)),uj=ne([Cn],LS),BS=(t,e,n,r,i,a,o)=>{var l=yle(e,t.allowDataOverflow);if(l!=null)return l;var u=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=u?Iv(n,i,TP(r)):Iv(i,TP(r));return xle(e,f,t.allowDataOverflow)},ice=ne([Cn,uj,Wle,Kle,rce,ht,ln],BS),ace=[0,1],US=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=t,f=zl(e,a);return f&&l==null?zk(0,n.length):u==="category"?Yle(r,t,f):i==="expand"?ace:o}},FS=ne([Cn,ht,kS,ny,Wp,ln,ice],US),fj=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(jp(a));return l in jh?l:"point"}}},rd=ne([Cn,ht,X7,ES,ln],fj);function oce(t){if(t!=null){if(t in jh)return jh[t]();var e="scale".concat(jp(t));if(e in jh)return jh[e]()}}function VS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=oce(e);if(i!=null){var a=i.domain(n).range(r);return qre(a),a}}}var zS=(t,e,n)=>{var r=LS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&kf(t))return Ole(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&kf(t))return Rle(t,e.tickCount,e.allowDecimals)}},HS=ne([FS,Xp,rd],zS),$S=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&kf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},sce=ne([Cn,FS,HS,ln],$S),lce=ne(ny,Cn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(fu(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),dj=ne(lce,ht,B7,er,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Li(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Fr(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),cce=(t,e)=>{var n=xs(t,e);return n==null||typeof n.padding!="string"?0:dj(t,"xAxis",e,n.padding)},uce=(t,e)=>{var n=_s(t,e);return n==null||typeof n.padding!="string"?0:dj(t,"yAxis",e,n.padding)},fce=ne(xs,cce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),dce=ne(_s,uce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),hce=ne([er,fce,Vm,Fm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),pce=ne([er,ht,dce,Vm,Fm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Qp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return hce(t,n,r);case"yAxis":return pce(t,n,r);case"zAxis":return(i=RS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return z7(t);case"radiusAxis":return H7(t,n);default:return}},hj=ne([Cn,Qp],Zm),id=ne([Cn,rd,sce,hj],VS);ne([Yp,ry,ln],rj);function pj(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var iy=(t,e)=>e,ay=(t,e,n)=>n,gce=ne(Bm,iy,ay,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(pj)),vce=ne(Um,iy,ay,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(pj)),gj=(t,e)=>({width:t.width,height:e.height}),mce=(t,e)=>{var n=typeof e.width=="number"?e.width:Fp;return{width:n,height:t.height}},vj=ne(er,xs,gj),yce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},_ce=ne(ms,er,gce,iy,ay,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=gj(e,l);o==null&&(o=yce(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),bce=ne(vs,er,vce,iy,ay,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=mce(e,l);o==null&&(o=xce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),wce=(t,e)=>{var n=xs(t,e);if(n!=null)return _ce(t,n.orientation,n.mirror)},Ece=ne([er,xs,wce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ace=(t,e)=>{var n=_s(t,e);if(n!=null)return bce(t,n.orientation,n.mirror)},Sce=ne([er,_s,Ace,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),mj=ne(er,_s,(t,e)=>{var n=typeof e.width=="number"?e.width:Fp;return{width:n,height:t.height}}),CP=(t,e,n)=>{switch(e){case"xAxis":return vj(t,n).width;case"yAxis":return mj(t,n).height;default:return}},yj=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=zl(t,r),u=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&p9(u))return u}},qS=ne([ht,ny,Cn,ln],yj),xj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=zl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},GS=ne([ht,ny,Xp,ln],xj),IP=ne([ht,zle,rd,id,qS,GS,Qp,HS,ln],(t,e,n,r,i,a,o,l,u)=>{if(e==null)return null;var f=zl(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}),Tce=(t,e,n,r,i,a,o,l,u)=>{if(!(e==null||r==null)){var f=zl(t,u),{type:d,ticks:p,tickCount:v}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/m:0;b=u==="angleAxis"&&a!=null&&a.length>=2?dr(a[0]-a[1])*2*b:b;var w=p||i;if(w){var A=w.map((S,O)=>{var I=o?o.indexOf(S):S;return{index:O,coordinate:r(I)+b,value:S,offset:b}});return A.filter(S=>!ki(S.coordinate))}return f&&l?l.map((S,O)=>({coordinate:r(S)+b,value:S,index:O,offset:b})):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+b,value:S,offset:b})):r.domain().map((S,O)=>({coordinate:r(S)+b,value:o?o[S]:S,index:O,offset:b}))}},_j=ne([ht,Xp,rd,id,HS,Qp,qS,GS,ln],Tce),Cce=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=zl(t,o),{tickCount:u}=e,f=0;return f=o==="angleAxis"&&r?.length>=2?dr(r[0]-r[1])*2*f:f,l&&a?a.map((d,p)=>({coordinate:n(d)+f,value:d,index:p,offset:f})):n.ticks?n.ticks(u).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,p)=>({coordinate:n(d)+f,value:i?i[d]:d,index:p,offset:f}))}},Dl=ne([ht,Xp,id,Qp,qS,GS,ln],Cce),Ml=ne(Cn,id,(t,e)=>{if(!(t==null||e==null))return Cv(Cv({},t),{},{scale:e})}),Ice=ne([Cn,rd,FS,hj],VS);ne((t,e,n)=>RS(t,n),Ice,(t,e)=>{if(!(t==null||e==null))return Cv(Cv({},t),{},{scale:e})});var Oce=ne([ht,Bm,Um],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bj=t=>t.options.defaultTooltipEventType,wj=t=>t.options.validateTooltipEventTypes;function Ej(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function WS(t,e){var n=bj(t),r=wj(t);return Ej(e,n,r)}function Rce(t){return Ie(e=>WS(e,t))}var Aj=(t,e)=>{var n,r=Number(e);if(!(ki(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Pce=t=>t.tooltip.settings,pl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nce={itemInteraction:{click:pl,hover:pl},axisInteraction:{click:pl,hover:pl},keyboardInteraction:pl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Sj=Ui({name:"tooltip",initialState:Nce,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ns(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Dce,removeTooltipEntrySettings:Mce,setTooltipSettingsState:kce,setActiveMouseOverItemIndex:Tj,mouseLeaveItem:jce,mouseLeaveChart:Cj,setActiveClickItemIndex:Lce,setMouseOverAxisIndex:Ij,setMouseClickAxisIndex:Bce,setSyncInteraction:Vw,setKeyboardInteraction:zw}=Sj.actions,Uce=Sj.reducer;function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return(e=Vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $ce(t){return t.index!=null}var Oj=(t,e,n,r)=>{if(e==null)return pl;var i=Hce(t,e,n);if(i==null)return pl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if($ce(i)){if(a)return ag(ag({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ag(ag({},pl),{},{coordinate:i.coordinate})},KS=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Li(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},Rj=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},Pj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Zp=t=>t.options.tooltipPayloadSearcher,ad=t=>t.tooltip;function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Wce(t,"string");return typeof e=="symbol"?e:e+""}function Wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kce(t,e){return t??e}var Nj=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:d}=n,p=[];return t.reduce((v,m)=>{var b,{dataDefinedOnItem:w,settings:A}=m,S=Kce(w,l),O=Array.isArray(S)?Ek(S,f,d):S,I=(b=A?.dataKey)!==null&&b!==void 0?b:r,R=A?.nameKey,k;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?k=g9(O,r,i):k=a(O,e,u,R),Array.isArray(k))k.forEach(P=>{var M=PP(PP({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(hR({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:Kt(P.payload,P.dataKey),name:P.name}))});else{var L;v.push(hR({tooltipEntrySettings:A,dataKey:I,payload:k,value:Kt(k,I),name:(L=Kt(k,R))!==null&&L!==void 0?L:A?.name}))}return v},p)}},XS=ne([pr,ht,X7,ES,nr],fj),Xce=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yce=ne([nr,td],PS),Jp=ne([Xce,pr,Yce],NS),Qce=ne([Jp],t=>t.filter(ey)),Zce=ne([Jp],DS),od=ne([Zce,Gl],MS),Jce=ne([Qce,Gl,pr],G7),YS=ne([od,pr,Jp],jS),eue=ne([pr],LS),tue=ne([Jp],t=>t.filter(ey)),nue=ne([Jce,tue,Wp],ej),rue=ne([nue,Gl,nr],tj),iue=ne([Jp],Q7),aue=ne([od,pr,iue,ry,nr],nj),oue=ne([ij,nr,td],nd),sue=ne([oue,nr],sj),lue=ne([aj,nr,td],nd),cue=ne([lue,nr],lj),uue=ne([oj,nr,td],nd),fue=ne([uue,nr],cj),due=ne([sue,fue,cue],Iv),hue=ne([pr,eue,rue,aue,due,ht,nr],BS),Dj=ne([pr,ht,od,YS,Wp,nr,hue],US),pue=ne([Dj,pr,XS],zS),gue=ne([pr,Dj,pue,nr],$S),Mj=t=>{var e=nr(t),n=td(t),r=!1;return Qp(t,e,n,r)},kj=ne([pr,Mj],Zm),jj=ne([pr,XS,gue,kj],VS),vue=ne([ht,YS,pr,nr],yj),mue=ne([ht,YS,pr,nr],xj),yue=(t,e,n,r,i,a,o,l)=>{if(e){var{type:u}=e,f=zl(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?dr(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:r(v)+p,value:v,index:m,offset:p})):r.domain().map((v,m)=>({coordinate:r(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},bs=ne([ht,pr,XS,jj,Mj,vue,mue,nr],yue),QS=ne([bj,wj,Pce],(t,e,n)=>Ej(n.shared,t,e)),Lj=t=>t.tooltip.settings.trigger,ZS=t=>t.tooltip.settings.defaultIndex,oy=ne([ad,QS,Lj,ZS],Oj),kl=ne([oy,od],KS),Bj=ne([bs,kl],Aj),Uj=ne([oy],t=>{if(t)return t.dataKey}),Fj=ne([ad,QS,Lj,ZS],Pj),xue=ne([vs,ms,ht,er,bs,ZS,Fj,Zp],Rj),_ue=ne([oy,xue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),bue=ne([oy],t=>t.active),wue=ne([Fj,kl,Gl,q7,Bj,Zp,QS],Nj),Eue=ne([wue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e,n){return(e=Sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cue=()=>Ie(pr),Iue=()=>{var t=Cue(),e=Ie(bs),n=Ie(jj);return cp(DP(DP({},t),{},{scale:n}),e)},Oue=()=>Ie(ES),JS=(t,e)=>e,Vj=(t,e,n)=>n,eT=(t,e,n,r)=>r,Rue=ne(bs,t=>Nm(t,e=>e.coordinate)),tT=ne([ad,JS,Vj,eT],Oj),zj=ne([tT,od],KS),Pue=(t,e,n)=>{if(e!=null){var r=ad(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Hj=ne([ad,JS,Vj,eT],Pj),Ov=ne([vs,ms,ht,er,bs,eT,Hj,Zp],Rj),Nue=ne([tT,Ov],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),$j=ne(bs,zj,Aj),Due=ne([Hj,zj,Gl,q7,$j,Zp,JS],Nj),Mue=ne([tT],t=>({isActive:t.active,activeIndex:t.index})),kue=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a)){var u=nie(t.chartX,t.chartY,e,n,l);if(u){var f=iie(u,e),d=Hre(f,o,a,r,i),p=rie(e,a,d,u);return{activeIndex:String(d),activeCoordinate:p}}}};function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Bue(t,"string");return typeof e=="symbol"?e:e+""}function Bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:f}=t,d=e,p=n,v=r;if(!l||!d||f!=="ScatterChart"&&u!=="axis")return null;var m,b;if(f==="ScatterChart")m=d,b=iae;else if(f==="BarChart")m=aae(o,d,i,a),b=Bk;else if(o==="radial"){var{cx:w,cy:A,radius:S,startAngle:O,endAngle:I}=Uk(d);m={cx:w,cy:A,startAngle:O,endAngle:I,innerRadius:S,outerRadius:S},b=Vk}else m={points:Bae(o,d,i)},b=YA;var R=typeof l=="object"&&"className"in l?l.className:void 0,k=og(og(og(og({stroke:"#ccc",pointerEvents:"none"},i),m),un(l,!1)),{},{payload:p,payloadIndex:v,className:xt("recharts-tooltip-cursor",R)});return T.isValidElement(l)?T.cloneElement(l,k):T.createElement(b,k)}function Fue(t){var e=Iue(),n=Ok(),r=zm(),i=Oue();return T.createElement(Uue,Hw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var qj=T.createContext(null),Vue=()=>T.useContext(qj),tb={exports:{}},kP;function zue(){return kP||(kP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function a(u,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||u,v),b=n?n+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],m]:u._events[b].push(m):(u._events[b]=m,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,b=new Array(m);v<m;v++)b[v]=p[v].fn;return b},l.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,m,b){var w=n?n+f:f;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,O,I;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,p),!0;case 4:return A.fn.call(A.context,d,p,v),!0;case 5:return A.fn.call(A.context,d,p,v,m),!0;case 6:return A.fn.call(A.context,d,p,v,m,b),!0}for(I=1,O=new Array(S-1);I<S;I++)O[I-1]=arguments[I];A.fn.apply(A.context,O)}else{var R=A.length,k;for(I=0;I<R;I++)switch(A[I].once&&this.removeListener(f,A[I].fn,void 0,!0),S){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,d);break;case 3:A[I].fn.call(A[I].context,d,p);break;case 4:A[I].fn.call(A[I].context,d,p,v);break;default:if(!O)for(k=1,O=new Array(S-1);k<S;k++)O[k-1]=arguments[k];A[I].fn.apply(A[I].context,O)}}return!0},l.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var m=n?n+f:f;if(!this._events[m])return this;if(!d)return o(this,m),this;var b=this._events[m];if(b.fn)b.fn===d&&(!v||b.once)&&(!p||b.context===p)&&o(this,m);else{for(var w=0,A=[],S=b.length;w<S;w++)(b[w].fn!==d||v&&!b[w].once||p&&b[w].context!==p)&&A.push(b[w]);A.length?this._events[m]=A.length===1?A[0]:A:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(tb)),tb.exports}var Hue=zue();const $ue=wo(Hue);var vp=new $ue,$w="recharts.syncEvent.tooltip",jP="recharts.syncEvent.brush";function nT(t,e){if(e){var n=Number.parseInt(e,10);if(!ki(n))return t?.[n]}}var que={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Gj=Ui({name:"options",initialState:que,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gue=Gj.reducer,{createEventEmitter:Wue}=Gj.actions;function Kue(t){return t.tooltip.syncInteraction}var Xue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Wj=Ui({name:"chartData",initialState:Xue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:LP,setDataStartEndIndexes:Yue,setComputedData:eme}=Wj.actions,Que=Wj.reducer,Zue=["x","y"];function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nfe(t,e){if(t==null)return{};var n,r,i=rfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kj=()=>{};function ife(){var t=Ie(AS),e=Ie(SS),n=fn(),r=Ie(U7),i=Ie(bs),a=zm(),o=GA(),l=Ie(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return Kj;var u=(f,d,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate){var m=d.payload.coordinate,{x:b,y:w}=m,A=nfe(m,Zue),S=Ac(Ac(Ac({},A),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),O=Ac(Ac({},d),{},{payload:Ac(Ac({},d.payload),{},{coordinate:S})});n(O)}else n(d);return}if(i!=null){var I;if(typeof r=="function"){var R={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=r(i,R);I=i[k]}else r==="value"&&(I=i.find(F=>String(F.value)===d.payload.label));var{coordinate:L}=d.payload;if(I==null||d.payload.active===!1||L==null||o==null){n(Vw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:M}=L,j=Math.min(P,o.x+o.width),z=Math.min(M,o.y+o.height),U={x:a==="horizontal"?I.coordinate:j,y:a==="horizontal"?z:I.coordinate},H=Vw({active:d.payload.active,coordinate:U,dataKey:d.payload.dataKey,index:String(I.index),label:d.payload.label});n(H)}}};return vp.on($w,u),()=>{vp.off($w,u)}},[l,n,e,t,r,i,a,o])}function afe(){var t=Ie(AS),e=Ie(SS),n=fn();T.useEffect(()=>{if(t==null)return Kj;var r=(i,a,o)=>{e!==o&&t===i&&n(Yue(a))};return vp.on(jP,r),()=>{vp.off(jP,r)}},[n,e,t])}function ofe(){var t=fn();T.useEffect(()=>{t(Wue())},[t]),ife(),afe()}function sfe(t,e,n,r,i,a){var o=Ie(v=>Pue(v,t,e)),l=Ie(SS),u=Ie(AS),f=Ie(U7),d=Ie(Kue),p=d?.active;T.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=Vw({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});vp.emit($w,u,v,l)}},[p,n,o,i,r,l,u,f,a])}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ffe(t){return t.dataKey}function dfe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(jie,e)}var VP=[],hfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sy(t){var e=Pr(t,hfe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:b,cursor:w,shared:A,trigger:S,defaultIndex:O,portal:I,axisId:R}=e,k=fn(),L=typeof O=="number"?String(O):O;T.useEffect(()=>{k(kce({shared:A,trigger:S,axisId:R,active:n,defaultIndex:L}))},[k,A,S,R,n,L]);var P=GA(),M=Dk(),j=Rce(A),{activeIndex:z,isActive:U}=Ie(Pe=>Mue(Pe,j,S,L)),H=Ie(Pe=>Due(Pe,j,S,L)),F=Ie(Pe=>$j(Pe,j,S,L)),pe=Ie(Pe=>Nue(Pe,j,S,L)),_e=H,X=Vue(),re=n??U,[de,we]=Q9([_e,re]),ke=j==="axis"?F:void 0;sfe(j,S,pe,ke,z,re);var G=I??X;if(G==null)return null;var ee=_e??VP;re||(ee=VP),l&&ee.length&&(ee=G9(_e.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||e.includeHidden)),d,ffe));var ye=ee.length>0,be=T.createElement(Hie,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:u,active:re,coordinate:pe,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:P,wrapperStyle:b,lastBoundingBox:de,innerRef:we,hasPortalFromProps:!!I},dfe(o,FP(FP({},e),{},{payload:ee,label:ke,active:re,coordinate:pe,accessibilityLayer:M})));return T.createElement(T.Fragment,null,x9.createPortal(be,G),re&&T.createElement(Fue,{cursor:w,tooltipEventType:j,coordinate:pe,payload:_e,index:z}))}var nb={},rb={},ib={},zP;function pfe(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&d(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},b=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{b(),o=void 0,l=null},A=()=>{d()},S=function(...O){if(i?.aborted)return;o=this,l=O;const I=v==null;m(),u&&I&&d()};return S.schedule=m,S.cancel=w,S.flush=A,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(ib)),ib}var HP;function gfe(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pfe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let d,p=null;const v=e.debounce(function(...w){d=r.apply(this,w),p=null},i,{edges:f}),m=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,w),d)},b=()=>(v.flush(),d);return m.cancel=v.cancel,m.flush=b,m}t.debounce=n})(rb)),rb}var $P;function vfe(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gfe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(nb)),nb}var ab,qP;function mfe(){return qP||(qP=1,ab=vfe().throttle),ab}var yfe=mfe();const xfe=wo(yfe);var $h=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return(e=bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=wfe(t,"string");return typeof e=="symbol"?e:e+""}function wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ly=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:d=0,id:p,className:v,onResize:m,style:b={}}=t,w=T.useRef(null),A=T.useRef();A.current=m,T.useImperativeHandle(e,()=>w.current);var[S,O]=T.useState({containerWidth:r.width,containerHeight:r.height}),I=T.useCallback((k,L)=>{O(P=>{var M=Math.round(k),j=Math.round(L);return P.containerWidth===M&&P.containerHeight===j?P:{containerWidth:M,containerHeight:j}})},[]);T.useEffect(()=>{var k=j=>{var z,{width:U,height:H}=j[0].contentRect;I(U,H),(z=A.current)===null||z===void 0||z.call(A,U,H)};d>0&&(k=xfe(k,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(k),{width:P,height:M}=w.current.getBoundingClientRect();return I(P,M),L.observe(w.current),()=>{L.disconnect()}},[I,d]);var R=T.useMemo(()=>{var{containerWidth:k,containerHeight:L}=S;if(k<0||L<0)return null;$h(Dc(i)||Dc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),$h(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Dc(i)?k:i,M=Dc(a)?L:a;return n&&n>0&&(P?M=P/n:M&&(P=M*n),u&&M>u&&(M=u)),$h(P>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,i,a,o,l,n),T.Children.map(f,j=>T.cloneElement(j,{width:P,height:M,style:ob({width:P,height:M},j.props.style)}))},[n,f,a,u,l,o,S,i]);return T.createElement("div",{id:p?"".concat(p):void 0,className:xt("recharts-responsive-container",v),style:ob(ob({},b),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},R))}),sd=t=>null;sd.displayName="Cell";function Efe(t,e,n){return(e=Afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tfe{constructor(e){Efe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return(e=Ofe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ofe(t){var e=Rfe(t,"string");return typeof e=="symbol"?e:e+""}function Rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pfe={cacheSize:2e3,enableCache:!0},Xj=Cfe({},Pfe),KP=new Tfe(Xj.cacheSize),Nfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XP="recharts_measurement_span";function Dfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var YP=(t,e)=>{try{var n=document.getElementById(XP);n||(n=document.createElement("span"),n.setAttribute("id",XP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Nfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},qh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hl.isSsr)return{width:0,height:0};if(!Xj.enableCache)return YP(e,n);var r=Dfe(e,n),i=KP.get(r);if(i)return i;var a=YP(e,n);return KP.set(r,a),a},QP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jfe=Object.keys(Yj),cf="NaN";function Lfe(t,e){return t*Yj[e]}class li{static parse(e){var n,[,r,i]=(n=kfe.exec(e))!==null&&n!==void 0?n:[];return new li(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ki(e)&&(this.unit=""),n!==""&&!Mfe.test(n)&&(this.num=NaN,this.unit=""),jfe.includes(n)&&(this.num=Lfe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new li(NaN,""):new li(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new li(NaN,""):new li(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new li(NaN,""):new li(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new li(NaN,""):new li(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}function Qj(t){if(t.includes(cf))return cf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=QP.exec(e))!==null&&n!==void 0?n:[],o=li.parse(r??""),l=li.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return cf;e=e.replace(QP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,p,v]=(f=ZP.exec(e))!==null&&f!==void 0?f:[],m=li.parse(d??""),b=li.parse(v??""),w=p==="+"?m.add(b):m.subtract(b);if(w.isNaN())return cf;e=e.replace(ZP,w.toString())}return e}var JP=/\(([^()]*)\)/;function Bfe(t){for(var e=t,n;(n=JP.exec(e))!=null;){var[,r]=n;e=e.replace(JP,Qj(r))}return e}function Ufe(t){var e=t.replace(/\s+/g,"");return e=Bfe(e),e=Qj(e),e}function Ffe(t){try{return Ufe(t)}catch{return cf}}function sb(t){var e=Ffe(t.slice(5,-1));return e===cf?"":e}var Vfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zfe=["dx","dy","angle","className","breakAll"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function eN(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zj=/[ \f\n\r\t\v\u2028\u2029]+/,Jj=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];sn(e)||(n?i=e.toString().split(""):i=e.toString().split(Zj));var a=i.map(l=>({word:l,width:qh(l,r).width})),o=n?0:qh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},$fe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=t,f=Ne(a),d=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((H,F)=>{var{word:pe,width:_e}=F,X=H[H.length-1];if(X&&(r==null||i||X.width+_e+n<Number(r)))X.words.push(pe),X.width+=_e+n;else{var re={words:[pe],width:_e};H.push(re)}return H},[])},v=p(e),m=z=>z.reduce((U,H)=>U.width>H.width?U:H);if(!f||i)return v;var b=v.length>a||m(v).width>Number(r);if(!b)return v;for(var w="…",A=z=>{var U=d.slice(0,z),H=Jj({breakAll:u,style:l,children:U+w}).wordsWithComputedWidth,F=p(H),pe=F.length>a||m(F).width>Number(r);return[pe,F]},S=0,O=d.length-1,I=0,R;S<=O&&I<=d.length-1;){var k=Math.floor((S+O)/2),L=k-1,[P,M]=A(L),[j]=A(k);if(!P&&!j&&(S=k+1),P&&j&&(O=k-1),!P&&j){R=M;break}I++}return R||v},tN=t=>{var e=sn(t)?[]:t.toString().split(Zj);return[{words:e}]},qfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Hl.isSsr){var l,u,f=Jj({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:p}=f;l=d,u=p}else return tN(r);return $fe({breakAll:a,children:r,maxLines:o,style:i},l,u,e,n)}return tN(r)},nN="#808080",cy=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=nN}=t,d=eN(t,Vfe),p=T.useMemo(()=>qfe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:m,angle:b,className:w,breakAll:A}=d,S=eN(d,zfe);if(!_o(n)||!_o(r)||p.length===0)return null;var O=n+(Ne(v)?v:0),I=r+(Ne(m)?m:0),R;switch(u){case"start":R=sb("calc(".concat(a,")"));break;case"middle":R=sb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:R=sb("calc(".concat(p.length-1," * -").concat(i,")"));break}var k=[];if(o){var L=p[0].width,{width:P}=d;k.push("scale(".concat(Ne(P)?P/L:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(O,", ").concat(I,")")),k.length&&(S.transform=k.join(" ")),T.createElement("text",qw({},un(S,!0),{ref:e,x:O,y:I,className:xt("recharts-text",w),textAnchor:l,fill:f.includes("url")?nN:f}),p.map((M,j)=>{var z=M.words.join(A?"":" ");return T.createElement("tspan",{x:O,dy:j===0?R:i,key:"".concat(z,"-").concat(j)},z)}))});cy.displayName="Text";var Gfe=["labelRef"];function Wfe(t,e){if(t==null)return{};var n,r,i=Kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){Xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xfe(t,e,n){return(e=Yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Qfe(t,"string");return typeof e=="symbol"?e:e+""}function Qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(null,arguments)}var eL=T.createContext(null),Zfe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=T.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return T.createElement(eL.Provider,{value:o},a)},tL=()=>{var t=T.useContext(eL),e=GA();return t||e},Jfe=T.createContext(null),ede=()=>{var t=T.useContext(Jfe),e=Ie($7);return t||e},tde=t=>{var{value:e,formatter:n}=t,r=sn(t.children)?e:t.children;return typeof n=="function"?n(r):r},rT=t=>t!=null&&typeof t=="function",nde=(t,e)=>{var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},rde=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:u,innerRadius:f,outerRadius:d,startAngle:p,endAngle:v,clockWise:m}=i,b=(f+d)/2,w=nde(p,v),A=w>=0?1:-1,S,O;switch(e){case"insideStart":S=p+A*a,O=m;break;case"insideEnd":S=v-A*a,O=!m;break;case"end":S=v+A*a,O=m;break;default:throw new Error("Unsupported position ".concat(e))}O=w<=0?O:!O;var I=Fn(l,u,b,S),R=Fn(l,u,b,S+(O?1:-1)*359),k="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(R.x,",").concat(R.y),L=sn(t.id)?op("recharts-radial-line-"):t.id;return T.createElement("text",Xo({},r,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:L,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(L)},n))},ide=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:d,y:p}=Fn(r,i,o+e,f);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:b}=Fn(r,i,v,f);return{x:m,y:b,textAnchor:"middle",verticalAnchor:"middle"}},nL=t=>"cx"in t&&Ne(t.cx),ade=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!nL(n)&&(a=n);var{x:o,y:l,width:u,height:f}=e,d=f>=0?1:-1,p=d*r,v=d>0?"end":"start",m=d>0?"start":"end",b=u>=0?1:-1,w=b*r,A=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var O={x:o+u/2,y:l-d*r,textAnchor:"middle",verticalAnchor:v};return Sn(Sn({},O),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var I={x:o+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return Sn(Sn({},I),a?{height:Math.max(a.y+a.height-(l+f),0),width:u}:{})}if(i==="left"){var R={x:o-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Sn(Sn({},R),a?{width:Math.max(R.x-a.x,0),height:f}:{})}if(i==="right"){var k={x:o+u+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return Sn(Sn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:f}:{})}var L=a?{width:u,height:f}:{};return i==="insideLeft"?Sn({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},L):i==="insideRight"?Sn({x:o+u-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideTop"?Sn({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:m},L):i==="insideBottom"?Sn({x:o+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},L):i==="insideTopLeft"?Sn({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},L):i==="insideTopRight"?Sn({x:o+u-w,y:l+p,textAnchor:A,verticalAnchor:m},L):i==="insideBottomLeft"?Sn({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},L):i==="insideBottomRight"?Sn({x:o+u-w,y:l+f-p,textAnchor:A,verticalAnchor:v},L):i&&typeof i=="object"&&(Ne(i.x)||Dc(i.x))&&(Ne(i.y)||Dc(i.y))?Sn({x:o+Fr(i.x,u),y:l+Fr(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):Sn({x:o+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},ode={offset:5};function cl(t){var e=Pr(t,ode),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=e,d=ede(),p=tL(),v=r==="center"?p:d??p,m=n||v;if(!m||sn(i)&&sn(a)&&!T.isValidElement(o)&&typeof o!="function")return null;var b=Sn(Sn({},e),{},{viewBox:m});if(T.isValidElement(o)){var{labelRef:w}=b,A=Wfe(b,Gfe);return T.cloneElement(o,A)}var S;if(typeof o=="function"){if(S=T.createElement(o,b),T.isValidElement(S))return S}else S=tde(e);var O=nL(m),I=un(e,!0);if(O&&(r==="insideStart"||r==="insideEnd"||r==="end"))return rde(e,r,S,I,m);var R=O?ide(m,e.offset,e.position):ade(e,m);return T.createElement(cy,Xo({ref:f,className:xt("recharts-label",l)},I,R,{breakAll:u}),S)}cl.displayName="Label";var sde=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(cl,Xo({key:"label-implicit"},r)):_o(t)?T.createElement(cl,Xo({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===cl?T.cloneElement(t,Sn({key:"label-implicit"},r)):T.createElement(cl,Xo({key:"label-implicit",content:t},r)):rT(t)?T.createElement(cl,Xo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(cl,Xo({},t,{key:"label-implicit"},r)):null};function lde(t){var{label:e}=t,n=tL();return sde(e,n)||null}var lb={},cb={},iN;function cde(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(cb)),cb}var ub={},aN;function ude(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ub)),ub}var oN;function fde(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cde(),n=ude(),r=LA();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(lb)),lb}var fb,sN;function dde(){return sN||(sN=1,fb=fde().last),fb}var hde=dde();const pde=wo(hde);var gde=["valueAccessor"],vde=["dataKey","clockWise","id","textBreakAll"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}function lN(t,e){if(t==null)return{};var n,r,i=mde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yde=t=>Array.isArray(t.value)?pde(t.value):t.value,rL=T.createContext(void 0),iL=rL.Provider,aL=T.createContext(void 0),xde=aL.Provider;function _de(){return T.useContext(rL)}function bde(){return T.useContext(aL)}function Sg(t){var{valueAccessor:e=yde}=t,n=lN(t,gde),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,l=lN(n,vde),u=_de(),f=bde(),d=u||f;return!d||!d.length?null:T.createElement(Rr,{className:"recharts-label-list"},d.map((p,v)=>{var m,b=sn(r)?e(p,v):Kt(p&&p.payload,r),w=sn(a)?{}:{id:"".concat(a,"-").concat(v)};return T.createElement(cl,Rv({},un(p,!0),l,w,{fill:(m=n.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}Sg.displayName="LabelList";function iT(t){var{label:e}=t;return e?e===!0?T.createElement(Sg,{key:"labelList-implicit"}):T.isValidElement(e)||rT(e)?T.createElement(Sg,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(Sg,Rv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}var oL=t=>{var{cx:e,cy:n,r,className:i}=t,a=xt("recharts-dot",i);return e===+e&&n===+n&&r===+r?T.createElement("circle",Gw({},Co(t),IA(t),{className:a,cx:e,cy:n,r})):null},sL=t=>t.graphicalItems.polarItems,wde=ne([ln,Kp],PS),aT=ne([sL,Cn,wde],NS),Ede=ne([aT],DS),oT=ne([Ede,_S],MS),Ade=ne([oT,Cn,aT],jS),Sde=ne([oT,Cn,aT],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Kt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Kt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),cN=()=>{},Tde=ne([Cn,uj,cN,Sde,cN,ht,ln],BS),lL=ne([Cn,ht,oT,Ade,Wp,ln,Tde],US),Cde=ne([lL,Cn,rd],zS);ne([Cn,lL,Cde,ln],$S);var Ide={radiusAxis:{},angleAxis:{}},cL=Ui({name:"polarAxis",initialState:Ide,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tme,removeRadiusAxis:nme,addAngleAxis:rme,removeAngleAxis:ime}=cL.actions,Ode=cL.reducer;function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Pde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dde=(t,e)=>e,sT=ne([sL,Dde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Mde=[],lT=(t,e,n)=>n?.length===0?Mde:n,uL=ne([_S,sT,lT],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>fN(fN({},e.presentationProps),a.props))),i!=null)return i}}),kde=ne([uL,sT,lT],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Kt(r,e.nameKey,e.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Qf(o,e.dataKey),color:l,payload:r,type:e.legendType}})}),jde=ne([uL,sT,lT,er],(t,e,n,r)=>{if(!(e==null||t==null))return Dhe({offset:r,pieSettings:e,displayedData:t,cells:n})}),db={},dN;function Lde(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(db)),db}var hb,hN;function Bde(){return hN||(hN=1,hb=Lde().isPlainObject),hb}var Ude=Bde();const Fde=wo(Ude);function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(null,arguments)}var vN=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},$de={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qde=t=>{var e=Pr(t,$de),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:d,isUpdateAnimationActive:p}=e,v=T.useRef(),[m,b]=T.useState(-1),w=T.useRef(i),A=T.useRef(a),S=T.useRef(o),O=T.useRef(n),I=T.useRef(r),R=zp(t,"trapezoid-");if(T.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var pe=v.current.getTotalLength();pe&&b(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=xt("recharts-trapezoid",l);if(!p)return T.createElement("g",null,T.createElement("path",Pv({},un(e,!0),{className:k,d:vN(n,r,i,a,o)})));var L=w.current,P=A.current,M=S.current,j=O.current,z=I.current,U="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),F=Mk(["strokeDasharray"],f,u);return T.createElement(Vp,{animationId:R,key:R,canBegin:m>0,duration:f,easing:u,isActive:p,begin:d},pe=>{var _e=pn(L,i,pe),X=pn(P,a,pe),re=pn(M,o,pe),de=pn(j,n,pe),we=pn(z,r,pe);v.current&&(w.current=_e,A.current=X,S.current=re,O.current=de,I.current=we);var ke=pe>0?{transition:F,strokeDasharray:H}:{strokeDasharray:U};return T.createElement("path",Pv({},un(e,!0),{className:k,d:vN(de,we,_e,X,re),ref:v,style:gN(gN({},ke),e.style)}))})},Gde=["option","shapeType","propTransformer","activeClassName","isActive"];function Wde(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){Xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xde(t,e,n){return(e=Yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zde(t,e){return Nv(Nv({},e),t)}function Jde(t,e){return t==="symbols"}function yN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(Bk,n);case"trapezoid":return T.createElement(qde,n);case"sector":return T.createElement(Vk,n);case"symbols":if(Jde(e))return T.createElement(MA,n);break;default:return null}}function ehe(t){return T.isValidElement(t)?t.props:t}function fL(t){var{option:e,shapeType:n,propTransformer:r=Zde,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Wde(t,Gde),l;if(T.isValidElement(e))l=T.cloneElement(e,Nv(Nv({},o),ehe(e)));else if(typeof e=="function")l=e(o);else if(Fde(e)&&typeof e!="boolean"){var u=r(e,o);l=T.createElement(yN,{shapeType:n,elementProps:u})}else{var f=o;l=T.createElement(yN,{shapeType:n,elementProps:f})}return a?T.createElement(Rr,{className:i},l):l}var cT=(t,e)=>{var n=fn();return(r,i)=>a=>{t?.(r,i,a),n(Tj({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},uT=t=>{var e=fn();return(n,r)=>i=>{t?.(n,r,i),e(jce())}},fT=(t,e)=>{var n=fn();return(r,i)=>a=>{t?.(r,i,a),n(Lce({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function dT(t){var{fn:e,args:n}=t,r=fn(),i=vi();return T.useEffect(()=>{if(!i){var a=e(n);return r(Dce(a)),()=>{r(Mce(a))}}},[e,n,r,i]),null}var dL=()=>{};function hL(t){var{legendPayload:e}=t,n=fn(),r=vi();return T.useEffect(()=>r?dL:(n(Pk(e)),()=>{n(Nk(e))}),[n,r,e]),null}function the(t){var{legendPayload:e}=t,n=fn(),r=Ie(ht);return T.useEffect(()=>r!=="centric"&&r!=="radial"?dL:(n(Pk(e)),()=>{n(Nk(e))}),[n,r,e]),null}var pb,nhe=()=>{var[t]=T.useState(()=>op("uid-"));return t},rhe=(pb=UU.useId)!==null&&pb!==void 0?pb:nhe;function ihe(t,e){var n=rhe();return e||(t?"".concat(t,"-").concat(n):n)}var ahe=T.createContext(void 0),hT=t=>{var{id:e,type:n,children:r}=t,i=ihe("recharts-".concat(n),e);return T.createElement(ahe.Provider,{value:i},r(i))},ohe={cartesianItems:[],polarItems:[]},pL=Ui({name:"graphicalItems",initialState:ohe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ns(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ns(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ns(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:she,replaceCartesianGraphicalItem:lhe,removeCartesianGraphicalItem:che,addPolarGraphicalItem:uhe,removePolarGraphicalItem:fhe}=pL.actions,dhe=pL.reducer;function gL(t){var e=fn(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(she(t)):n.current!==t&&e(lhe({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(che(n.current)),n.current=null)},[e]),null}function hhe(t){var e=fn();return T.useEffect(()=>(e(uhe(t)),()=>{e(fhe(t))}),[e,t]),null}var phe=["onMouseEnter","onClick","onMouseLeave"],ghe=["id"],vhe=["id"];function pT(t,e){if(t==null)return{};var n,r,i=mhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(null,arguments)}function bhe(t){var e=T.useMemo(()=>OA(t.children,sd),[t.children]),n=Ie(r=>kde(r,t.id,e));return n==null?null:T.createElement(the,{legendPayload:n})}function whe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:u,tooltipType:f}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:Qf(l,e),hide:u,type:f,color:o,unit:""}}}var Ehe=(t,e)=>t>e?"start":t<e?"end":"middle",Ahe=(t,e,n)=>Fr(typeof e=="function"?e(t):e,n,n*.8),She=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,l=wk(a,o),u=i+Fr(t.cx,a,a/2),f=r+Fr(t.cy,o,o/2),d=Fr(t.innerRadius,l,0),p=Ahe(n,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:p,maxRadius:v}},The=(t,e)=>{var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Che(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ihe=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var n=xt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return T.createElement(YA,jl({},e,{type:"linear",className:n}))},Ohe=(t,e,n)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),T.isValidElement(r)))return r;var i=xt("recharts-pie-label-text",Che(t));return T.createElement(cy,jl({},e,{alignmentBaseline:"middle",className:i}),r)};function Rhe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var l=Co(n),u=un(i,!1),f=un(a,!1),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var b=(v.startAngle+v.endAngle)/2,w=Fn(v.cx,v.cy,v.outerRadius+d,b),A=rn(rn(rn(rn({},l),v),{},{stroke:"none"},u),{},{index:m,textAnchor:Ehe(w.x,v.cx)},w),S=rn(rn(rn(rn({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[Fn(v.cx,v.cy,v.outerRadius,b),w],key:"line"});return T.createElement(Rr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&Ihe(a,S),Ohe(i,A,Kt(v,o)))});return T.createElement(Rr,{className:"recharts-pie-labels"},p)}function Phe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(iT,{label:i}):T.createElement(Rhe,{sectors:e,props:n,showLabels:r})}function Nhe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ie(kl),{onMouseEnter:o,onClick:l,onMouseLeave:u}=i,f=pT(i,phe),d=cT(o,i.dataKey),p=uT(u),v=fT(l,i.dataKey);return e==null||e.length===0?null:T.createElement(T.Fragment,null,e.map((m,b)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=n&&String(b)===a,A=a?r:null,S=w?n:A,O=rn(rn({},m),{},{stroke:m.stroke,tabIndex:-1,[Ck]:b,[Ik]:i.dataKey});return T.createElement(Rr,jl({tabIndex:-1,className:"recharts-pie-sector"},Lp(f,m,b),{onMouseEnter:d(m,b),onMouseLeave:p(m,b),onClick:v(m,b),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(b)}),T.createElement(fL,jl({option:S,isActive:w,shapeType:"sector"},O)))}))}function Dhe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:d,tooltipType:p}=n,v=Math.abs(n.minAngle),m=The(l,u),b=Math.abs(m),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(L=>Kt(L,f,0)!==0).length,S=(b>=360?A:A-1)*w,O=b-A*v-S,I=r.reduce((L,P)=>{var M=Kt(P,f,0);return L+(Ne(M)?M:0)},0),R;if(I>0){var k;R=r.map((L,P)=>{var M=Kt(L,f,0),j=Kt(L,d,P),z=She(n,a,L),U=(Ne(M)?M:0)/I,H,F=rn(rn({},L),i&&i[P]&&i[P].props);P?H=k.endAngle+dr(m)*w*(M!==0?1:0):H=l;var pe=H+dr(m)*((M!==0?v:0)+U*O),_e=(H+pe)/2,X=(z.innerRadius+z.outerRadius)/2,re=[{name:j,value:M,payload:F,dataKey:f,type:p}],de=Fn(z.cx,z.cy,X,_e);return k=rn(rn(rn(rn({},n.presentationProps),{},{percent:U,cornerRadius:o,name:j,tooltipPayload:re,midAngle:_e,middleRadius:X,tooltipPosition:de},F),z),{},{value:M,startAngle:H,endAngle:pe,payload:F,paddingAngle:dr(m)*w}),k})}return R}function Mhe(t){var{showLabels:e,sectors:n,children:r}=t,i=T.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return T.createElement(xde,{value:e?i:void 0},r)}function khe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:f,onAnimationStart:d,onAnimationEnd:p}=e,v=zp(e,"recharts-pie-"),m=n.current,[b,w]=T.useState(!1),A=T.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=T.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return T.createElement(Mhe,{showLabels:!b,sectors:r},T.createElement(Vp,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:A,key:v},O=>{var I=[],R=r&&r[0],k=R?.startAngle;return r?.forEach((L,P)=>{var M=m&&m[P],j=P>0?Qc(L,"paddingAngle",0):0;if(M){var z=pn(M.endAngle-M.startAngle,L.endAngle-L.startAngle,O),U=rn(rn({},L),{},{startAngle:k+j,endAngle:k+z+j});I.push(U),k=U.endAngle}else{var{endAngle:H,startAngle:F}=L,pe=pn(0,H-F,O),_e=rn(rn({},L),{},{startAngle:k+j,endAngle:k+pe+j});I.push(_e),k=_e.endAngle}}),n.current=I,T.createElement(Rr,null,T.createElement(Nhe,{sectors:I,activeShape:u,inactiveShape:f,allOtherPieProps:e}))}),T.createElement(Phe,{showLabels:!b,sectors:r,props:e}),e.children)}var jhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Hl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Lhe(t){var{id:e}=t,n=pT(t,ghe),{hide:r,className:i,rootTabIndex:a}=t,o=T.useMemo(()=>OA(t.children,sd),[t.children]),l=Ie(d=>jde(d,e,o)),u=T.useRef(null),f=xt("recharts-pie",i);return r||l==null?(u.current=null,T.createElement(Rr,{tabIndex:a,className:f})):T.createElement(T.Fragment,null,T.createElement(dT,{fn:whe,args:rn(rn({},t),{},{sectors:l})}),T.createElement(Rr,{tabIndex:a,className:f},T.createElement(khe,{props:rn(rn({},n),{},{sectors:l}),previousSectorsRef:u})))}function gT(t){var e=Pr(t,jhe),{id:n}=e,r=pT(e,vhe),i=Co(r);return T.createElement(hT,{id:n,type:"pie"},a=>T.createElement(T.Fragment,null,T.createElement(hhe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),T.createElement(bhe,jl({},r,{id:a})),T.createElement(Lhe,jl({},r,{id:a}))))}gT.displayName="Pie";function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vhe={xAxis:{},yAxis:{},zAxis:{}},vL=Ui({name:"cartesianAxis",initialState:Vhe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=bN(bN({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:zhe,removeXAxis:Hhe,addYAxis:$he,removeYAxis:qhe,addZAxis:ame,removeZAxis:ome,updateYAxisWidth:Ghe}=vL.actions,Whe=vL.reducer,Khe=ne([er],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xhe=ne([Khe,vs,ms],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),vT=()=>Ie(Xhe),Yhe=()=>Ie(Eue);function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var epe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=EN(EN({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},un(i,!1)),IA(i)),l;return T.isValidElement(i)?l=T.cloneElement(i,o):typeof i=="function"?l=i(o):l=T.createElement(oL,o),T.createElement(Rr,{className:"recharts-active-dot"},l)};function tpe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ie(kl),o=Yhe();if(e==null||o==null)return null;var l=e.find(u=>o.includes(u.payload));return sn(l)?null:epe({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var npe="Invariant failed";function rpe(t,e){throw new Error(npe)}var ipe=["x","y"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e,n){return(e=ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t,e){if(t==null)return{};var n,r,i=cpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function upe(t,e){var{x:n,y:r}=t,i=lpe(t,ipe),a="".concat(n),o=parseInt(a,10),l="".concat(r),u=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Ah(Ah(Ah(Ah(Ah({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function mT(t){return T.createElement(fL,Ww({shapeType:"rectangle",propTransformer:upe,activeClassName:"recharts-active-bar"},t))}var fpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var a=Ne(r)||sn(r);return a?e(r,i):(a||rpe(),n)}},dpe={},mL=Ui({name:"errorBars",initialState:dpe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sme,replaceErrorBar:lme,removeErrorBar:cme}=mL.actions,hpe=mL.reducer,ppe=["children"];function gpe(t,e){if(t==null)return{};var n,r,i=vpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mpe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ype=T.createContext(mpe);function yL(t){var{children:e}=t,n=gpe(t,ppe);return T.createElement(ype.Provider,{value:n},e)}function yT(t,e){var n,r,i=Ie(f=>xs(f,t)),a=Ie(f=>_s(f,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ci.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ii.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function xL(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=vT(),{needClipX:a,needClipY:o,needClip:l}=yT(e,n);if(!l)return null;var{x:u,y:f,width:d,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?u:u-d/2,y:o?f:f-p/2,width:a?d:d*2,height:o?p:p*2}))}var xpe=["onMouseEnter","onMouseLeave","onClick"],_pe=["value","background","tooltipPosition"],bpe=["id"],wpe=["onMouseEnter","onClick","onMouseLeave"];function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(null,arguments)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return(e=Ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Spe(t,"string");return typeof e=="symbol"?e:e+""}function Spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dv(t,e){if(t==null)return{};var n,r,i=Tpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cpe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Qf(n,e),payload:t}]};function Ipe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Qf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function Ope(t){var e=Ie(kl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,f=Dv(a,xpe),d=cT(o,r),p=uT(l),v=fT(u,r);if(!i||n==null)return null;var m=un(i,!1);return T.createElement(T.Fragment,null,n.map((b,w)=>{var{value:A,background:S,tooltipPosition:O}=b,I=Dv(b,_pe);if(!S)return null;var R=d(b,w),k=p(b,w),L=v(b,w),P=Yr(Yr(Yr(Yr(Yr({option:i,isActive:String(w)===e},I),{},{fill:"#eee"},S),m),Lp(f,b,w)),{},{onMouseEnter:R,onMouseLeave:k,onClick:L,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return T.createElement(mT,Ll({key:"background-bar-".concat(P.index)},P))}))}function Rpe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Yr(Yr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return T.createElement(iL,{value:e?i:void 0},n)}function Ppe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=Ie(kl),u=Ie(Uj),f=n&&String(a)===l&&(u==null||o===u),d=f?n:e;return T.createElement(mT,Ll({},r,i,{isActive:f,option:d,index:a,dataKey:o}))}function Npe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return T.createElement(mT,Ll({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function Dpe(t){var{data:e,props:n}=t,r=Co(n),{id:i}=r,a=Dv(r,bpe),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:f,onClick:d,onMouseLeave:p}=n,v=Dv(n,wpe),m=cT(f,l),b=uT(p),w=fT(d,l);return e?T.createElement(T.Fragment,null,e.map((A,S)=>T.createElement(Rr,Ll({className:"recharts-bar-rectangle"},Lp(v,A,S),{onMouseEnter:m(A,S),onMouseLeave:b(A,S),onClick:w(A,S),key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(S)}),u?T.createElement(Ppe,{shape:o,activeBar:u,baseProps:a,entry:A,index:S,dataKey:l}):T.createElement(Npe,{shape:o,baseProps:a,entry:A,index:S,dataKey:l})))):null}function Mpe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,p=n.current,v=zp(e,"recharts-bar-"),[m,b]=T.useState(!1),w=!m,A=T.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),S=T.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return T.createElement(Rpe,{showLabels:w,rects:r},T.createElement(Vp,{animationId:v,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:A,onAnimationStart:S,key:v},O=>{var I=O===1?r:r?.map((R,k)=>{var L=p&&p[k];if(L)return Yr(Yr({},R),{},{x:pn(L.x,R.x,O),y:pn(L.y,R.y,O),width:pn(L.width,R.width,O),height:pn(L.height,R.height,O)});if(i==="horizontal"){var P=pn(0,R.height,O);return Yr(Yr({},R),{},{y:R.y+R.height-P,height:P})}var M=pn(0,R.width,O);return Yr(Yr({},R),{},{width:M})});return O>0&&(n.current=I??null),I==null?null:T.createElement(Rr,null,T.createElement(Dpe,{props:e,data:I}))}),T.createElement(iT,{label:e.label}),e.children)}function kpe(t){var e=T.useRef(null);return T.createElement(Mpe,{previousRectanglesRef:e,props:t})}var _L=0,jpe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Kt(t,e)}};class Lpe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:f}=this.props;if(e||n==null)return null;var d=xt("recharts-bar",i),p=f;return T.createElement(Rr,{className:d,id:f},l&&T.createElement("defs",null,T.createElement(xL,{clipPathId:p,xAxisId:a,yAxisId:o})),T.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Ope,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),T.createElement(kpe,this.props)))}}var Bpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Hl.isSsr,legendType:"rect",minPointSize:_L,xAxisId:0,yAxisId:0};function Upe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d}=t,{needClip:p}=yT(e,n),v=zm(),m=vi(),b=OA(t.children,sd),w=Ie(O=>h0e(O,e,n,m,t.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=w?.[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,T.createElement(yL,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:jpe,errorBarOffset:A},T.createElement(Lpe,Ll({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:f,isAnimationActive:d})))}function Fpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:f,stackedData:d,displayedData:p,offset:v,cells:m,parentViewBox:b}=t,w=e==="horizontal"?l:o,A=d?w.scale.domain():null,S=Zre({numericAxis:w});return p.map((O,I)=>{var R,k,L,P,M,j;d?R=Gre(d[I],A):(R=Kt(O,n),Array.isArray(R)||(R=[S,R]));var z=fpe(r,_L)(R[1],I);if(e==="horizontal"){var U,[H,F]=[l.scale(R[0]),l.scale(R[1])];k=uR({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:I}),L=(U=F??H)!==null&&U!==void 0?U:void 0,P=i.size;var pe=H-F;if(M=ki(pe)?0:pe,j={x:k,y:v.top,width:P,height:v.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var _e=dr(M||z)*(Math.abs(z)-Math.abs(M));L-=_e,M+=_e}}else{var[X,re]=[o.scale(R[0]),o.scale(R[1])];if(k=X,L=uR({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:O,index:I}),P=re-X,M=i.size,j={x:v.left,y:L,width:v.width,height:M},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var de=dr(P||z)*(Math.abs(z)-Math.abs(P));P+=de}}if(k==null||L==null||P==null||M==null)return null;var we=Yr(Yr({},O),{},{x:k,y:L,width:P,height:M,value:d?R:R[1],payload:O,background:j,tooltipPosition:{x:k+P/2,y:L+M/2},parentViewBox:b},m&&m[I]&&m[I].props);return we}).filter(Boolean)}function Vpe(t){var e=Pr(t,Bpe),n=vi();return T.createElement(hT,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(hL,{legendPayload:Cpe(e)}),T.createElement(dT,{fn:Ipe,args:e}),T.createElement(gL,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Qre(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(Upe,Ll({},e,{id:r}))))}var bL=T.memo(Vpe);bL.displayName="Bar";function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zpe(t,e,n){return(e=Hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hpe(t){var e=$pe(t,"string");return typeof e=="symbol"?e:e+""}function $pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qpe=(t,e)=>e,Gpe=(t,e,n)=>n,Wpe=(t,e,n,r)=>r,Kpe=(t,e,n,r,i)=>i,e0=ne([ty,Kpe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Xpe=ne([e0],t=>t?.maxBarSize),Ype=(t,e,n,r,i,a)=>a,CN=(t,e,n)=>{var r=n??t;if(!sn(r))return Fr(r,e,0)},Qpe=ne([ht,ty,qpe,Gpe,Wpe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Zpe=(t,e,n,r)=>{var i=ht(t);return i==="horizontal"?Fw(t,"yAxis",n,r):Fw(t,"xAxis",e,r)},Jpe=(t,e,n)=>{var r=ht(t);return r==="horizontal"?CP(t,"xAxis",e):CP(t,"yAxis",n)},e0e=(t,e,n)=>{var r={},i=t.filter(ey),a=t.filter(f=>f.stackId==null),o=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),l=Object.entries(o).map(f=>{var[d,p]=f,v=p.map(b=>b.dataKey),m=CN(e,n,p[0].barSize);return{stackId:d,dataKeys:v,barSize:m}}),u=a.map(f=>{var d=[f.dataKey].filter(v=>v!=null),p=CN(e,n,f.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...u]},t0e=ne([Qpe,Nle,Jpe],e0e),n0e=(t,e,n,r,i)=>{var a,o,l=e0(t,e,n,r,i);if(l!=null){var u=ht(t),f=L7(t),{maxBarSize:d}=l,p=sn(d)?f:d,v,m;return u==="horizontal"?(v=Ml(t,"xAxis",e,r),m=Dl(t,"xAxis",e,r)):(v=Ml(t,"yAxis",n,r),m=Dl(t,"yAxis",n,r)),(a=(o=cp(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},wL=(t,e,n,r)=>{var i=ht(t),a,o;return i==="horizontal"?(a=Ml(t,"xAxis",e,r),o=Dl(t,"xAxis",e,r)):(a=Ml(t,"yAxis",n,r),o=Dl(t,"yAxis",n,r)),cp(a,o)};function r0e(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=Fr(t,n,0,!0),l,u=[];if(Li(r[0].barSize)){var f=!1,d=n/a,p=r.reduce((S,O)=>S+(O.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&d>0&&(f=!0,d*=.9,p=a*d);var v=(n-p)/2>>0,m={offset:v-o,size:0};l=r.reduce((S,O)=>{var I,R={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:m.offset+m.size+o,size:f?d:(I=O.barSize)!==null&&I!==void 0?I:0}},k=[...S,R];return m=k[k.length-1].position,k},u)}else{var b=Fr(e,n,0,!0);n-2*b-(a-1)*o<=0&&(o=0);var w=(n-2*b-(a-1)*o)/a;w>1&&(w>>=0);var A=Li(i)?Math.min(w,i):w;l=r.reduce((S,O,I)=>[...S,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b+(w+o)*I+(w-A)/2,size:A}}],u)}return l}}var i0e=(t,e,n,r,i,a,o)=>{var l=sn(o)?e:o,u=r0e(n,r,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(f=>sg(sg({},f),{},{position:sg(sg({},f.position),{},{offset:f.position.offset-i/2})}))),u},a0e=ne([t0e,L7,Ple,B7,n0e,wL,Xpe],i0e),o0e=(t,e,n,r)=>Ml(t,"xAxis",e,r),s0e=(t,e,n,r)=>Ml(t,"yAxis",n,r),l0e=(t,e,n,r)=>Dl(t,"xAxis",e,r),c0e=(t,e,n,r)=>Dl(t,"yAxis",n,r),u0e=ne([a0e,e0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),f0e=(t,e)=>{var n=OS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},d0e=ne([Zpe,e0],f0e),h0e=ne([er,qA,o0e,s0e,l0e,c0e,u0e,ht,Ym,wL,d0e,e0,Ype],(t,e,n,r,i,a,o,l,u,f,d,p,v)=>{var{chartData:m,dataStartIndex:b,dataEndIndex:w}=u;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=m?.slice(b,w+1),S!=null)return Fpe({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:t,cells:v})}}),EL=t=>{var{chartData:e}=t,n=fn(),r=vi();return T.useEffect(()=>r?()=>{}:(n(LP(e)),()=>{n(LP(void 0))}),[e,n,r]),null},IN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},AL=Ui({name:"brush",initialState:IN,reducers:{setBrushSettings(t,e){return e.payload==null?IN:e.payload}}}),{setBrushSettings:ume}=AL.actions,p0e=AL.reducer;function g0e(t,e,n){return(e=v0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=m0e(t,"string");return typeof e=="symbol"?e:e+""}function m0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xT{static create(e){return new xT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}g0e(xT,"EPS",1e-4);function y0e(t){return(t%180+180)%180}var x0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=y0e(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},_0e={dots:[],areas:[],lines:[]},SL=Ui({name:"referenceElements",initialState:_0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ns(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ns(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ns(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:fme,removeDot:dme,addArea:hme,removeArea:pme,addLine:gme,removeLine:vme}=SL.actions,b0e=SL.reducer,w0e=T.createContext(void 0),E0e=t=>{var{children:e}=t,[n]=T.useState("".concat(op("recharts"),"-clip")),r=vT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return T.createElement(w0e.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function jf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function TL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function A0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return x0e(r,n)}function S0e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Mv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function T0e(t,e){return TL(t,e+1)}function C0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,u=0,f=1,d=o,p=function(){var b=r?.[u];if(b===void 0)return{v:TL(r,f)};var w=u,A,S=()=>(A===void 0&&(A=n(b,w)),A),O=b.coordinate,I=u===0||Mv(t,O,S,d,l);I||(u=0,d=o,f+=1),I&&(d=O+t*(S()/2+i),u+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return(e=O0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0e(t){var e=R0e(t,"string");return typeof e=="symbol"?e:e+""}function R0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:u}=e,f=function(v){var m=a[v],b,w=()=>(b===void 0&&(b=n(m,v)),b);if(v===o-1){var A=t*(m.coordinate+t*w()/2-u);a[v]=m=kr(kr({},m),{},{tickCoord:A>0?m.coordinate-A*t:m.coordinate})}else a[v]=m=kr(kr({},m),{},{tickCoord:m.coordinate});var S=Mv(t,m.tickCoord,w,l,u);S&&(u=m.tickCoord-t*(w()/2+i),a[v]=kr(kr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function N0e(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:f}=e;if(a){var d=r[l-1],p=n(d,l-1),v=t*(d.coordinate+t*p/2-f);o[l-1]=d=kr(kr({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var m=Mv(t,d.tickCoord,()=>p,u,f);m&&(f=d.tickCoord-t*(p/2+i),o[l-1]=kr(kr({},d),{},{isShow:!0}))}for(var b=a?l-1:l,w=function(O){var I=o[O],R,k=()=>(R===void 0&&(R=n(I,O)),R);if(O===0){var L=t*(I.coordinate-t*k()/2-u);o[O]=I=kr(kr({},I),{},{tickCoord:L<0?I.coordinate-L*t:I.coordinate})}else o[O]=I=kr(kr({},I),{},{tickCoord:I.coordinate});var P=Mv(t,I.tickCoord,k,u,f);P&&(u=I.tickCoord+t*(k()/2+i),o[O]=kr(kr({},I),{},{isShow:!0}))},A=0;A<b;A++)w(A);return o}function _T(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ne(u)||Hl.isSsr){var v;return(v=T0e(i,Ne(u)?u:0))!==null&&v!==void 0?v:[]}var m=[],b=l==="top"||l==="bottom"?"width":"height",w=d&&b==="width"?qh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(I,R)=>{var k=typeof f=="function"?f(I.value,R):I.value;return b==="width"?A0e(qh(k,{fontSize:e,letterSpacing:n}),w,p):qh(k,{fontSize:e,letterSpacing:n})[b]},S=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,O=S0e(a,S,b);return u==="equidistantPreserveStart"?C0e(S,O,A,i,o):(u==="preserveStart"||u==="preserveStartEnd"?m=N0e(S,O,A,i,o,u==="preserveStartEnd"):m=P0e(S,O,A,i,o),m.filter(I=>I.isShow))}var D0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(n?r:0);return Math.round(f)}return 0},M0e=["axisLine","width","height","className","hide","ticks"],k0e=["viewBox"],j0e=["viewBox"];function Kw(t,e){if(t==null)return{};var n,r,i=L0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(null,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){B0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0e(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=F0e(t,"string");return typeof e=="symbol"?e:e+""}function F0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function V0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=Xn(Xn(Xn({},u),un(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=Xn(Xn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Xn(Xn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",tu({},f,{className:xt("recharts-cartesian-axis-line",Qc(l,"className"))}))}function z0e(t,e,n,r,i,a,o,l,u){var f,d,p,v,m,b,w=l?-1:1,A=t.tickSize||o,S=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,v=n+ +!l*i,p=v-w*A,b=p-w*u,m=S;break;case"left":p=v=t.coordinate,d=e+ +!l*r,f=d-w*A,m=f-w*u,b=S;break;case"right":p=v=t.coordinate,d=e+ +l*r,f=d+w*A,m=f+w*u,b=S;break;default:f=d=t.coordinate,v=n+ +l*i,p=v+w*A,b=p+w*u,m=S;break}return{line:{x1:f,y1:p,x2:d,y2:v},tick:{x:m,y:b}}}function H0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function q0e(t){var{option:e,tickProps:n,value:r}=t,i,a=xt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Xn(Xn({},n),{},{className:a}));else if(typeof e=="function")i=e(Xn(Xn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=xt(o,e?.className)),i=T.createElement(cy,tu({},n,{className:o}),r)}return i}function G0e(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:f,mirror:d,x:p,y:v,width:m,height:b,tickSize:w,tickMargin:A,fontSize:S,letterSpacing:O,getTicksConfig:I,events:R}=t,k=_T(Xn(Xn({},I),{},{ticks:e}),S,O),L=H0e(f,d),P=$0e(f,d),M=Co(I),j=un(n,!1),z=Xn(Xn({},M),{},{fill:"none"},un(r,!1)),U=k.map((H,F)=>{var{line:pe,tick:_e}=z0e(H,p,v,m,b,f,w,d,A),X=Xn(Xn(Xn(Xn({textAnchor:L,verticalAnchor:P},M),{},{stroke:"none",fill:i},j),_e),{},{index:F,payload:H,visibleTicksCount:k.length,tickFormatter:a,padding:l},u);return T.createElement(Rr,tu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Lp(R,H,F)),r&&T.createElement("line",tu({},z,pe,{className:xt("recharts-cartesian-axis-tick-line",Qc(r,"className"))})),n&&T.createElement(q0e,{option:n,tickProps:X,value:"".concat(typeof a=="function"?a(H.value,F):H.value).concat(o||"")}))});return U.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var W0e=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l}=t,u=Kw(t,M0e),[f,d]=T.useState(""),[p,v]=T.useState(""),m=T.useRef([]);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return D0e({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=T.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(A);var S=A[0];if(S){var O=window.getComputedStyle(S),I=O.fontSize,R=O.letterSpacing;(I!==f||R!==p)&&(d(I),v(R))}}},[f,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Rr,{className:xt("recharts-cartesian-axis",a),ref:b},T.createElement(V0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Co(t)}),T.createElement(G0e,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:u}),T.createElement(Zfe,{x:t.x,y:t.y,width:t.width,height:t.height},T.createElement(lde,{label:t.label}),t.children))}),K0e=T.memo(W0e,(t,e)=>{var{viewBox:n}=t,r=Kw(t,k0e),{viewBox:i}=e,a=Kw(e,j0e);return jf(n,i)&&jf(r,a)}),wT=T.forwardRef((t,e)=>{var n=Pr(t,bT);return T.createElement(K0e,tu({},n,{ref:e}))});wT.displayName="CartesianAxis";var X0e=["x1","y1","x2","y2","key"],Y0e=["offset"],Q0e=["xAxisId","yAxisId"],Z0e=["xAxisId","yAxisId"];function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){J0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J0e(t,e,n){return(e=e1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return typeof e=="symbol"?e:e+""}function t1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function kv(t,e){if(t==null)return{};var n,r,i=n1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r1e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function CL(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:l}=e,u=kv(e,X0e),f=Co(u),{offset:d}=f,p=kv(f,Y0e);n=T.createElement("line",jc({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function i1e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=kv(t,Q0e),u=i.map((f,d)=>{var p=Br(Br({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return CL(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function a1e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=kv(t,Z0e),u=i.map((f,d)=>{var p=Br(Br({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return CL(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function o1e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%e.length;return T.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function s1e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var d=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%n.length;return T.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:b,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var l1e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return Ak(_T(Br(Br(Br({},bT),n),{},{ticks:Sk(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},c1e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return Ak(_T(Br(Br(Br({},bT),n),{},{ticks:Sk(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},u1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ET(t){var e=WA(),n=KA(),r=Ok(),i=Br(Br({},Pr(t,u1e)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,b=vi(),w=Ie(j=>IP(j,"xAxis",a,b)),A=Ie(j=>IP(j,"yAxis",o,b));if(!Ne(f)||f<=0||!Ne(d)||d<=0||!Ne(l)||l!==+l||!Ne(u)||u!==+u)return null;var S=i.verticalCoordinatesGenerator||l1e,O=i.horizontalCoordinatesGenerator||c1e,{horizontalPoints:I,verticalPoints:R}=i;if((!I||!I.length)&&typeof O=="function"){var k=v&&v.length,L=O({yAxis:A?Br(Br({},A),{},{ticks:k?v:A.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);$h(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(I=L)}if((!R||!R.length)&&typeof S=="function"){var P=m&&m.length,M=S({xAxis:w?Br(Br({},w),{},{ticks:P?m:w.ticks}):void 0,width:e,height:n,offset:r},P?!0:p);$h(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(R=M)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(r1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(o1e,jc({},i,{horizontalPoints:I})),T.createElement(s1e,jc({},i,{verticalPoints:R})),T.createElement(i1e,jc({},i,{offset:r,horizontalPoints:I,xAxis:w,yAxis:A})),T.createElement(a1e,jc({},i,{offset:r,verticalPoints:R,xAxis:w,yAxis:A})))}ET.displayName="CartesianGrid";var IL=(t,e,n,r)=>Ml(t,"xAxis",e,r),OL=(t,e,n,r)=>Dl(t,"xAxis",e,r),RL=(t,e,n,r)=>Ml(t,"yAxis",n,r),PL=(t,e,n,r)=>Dl(t,"yAxis",n,r),f1e=ne([ht,IL,RL,OL,PL],(t,e,n,r,i)=>zl(t,"xAxis")?cp(e,r,!1):cp(n,i,!1)),d1e=(t,e,n,r,i)=>i;function h1e(t){return t.type==="line"}var p1e=ne([ty,d1e],(t,e)=>t.filter(h1e).find(n=>n.id===e)),g1e=ne([ht,IL,RL,OL,PL,p1e,f1e,Ym],(t,e,n,r,i,a,o,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:d}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=u?.slice(f,d+1),m!=null)return L1e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),v1e=["id"],m1e=["type","layout","connectNulls","needClip"],y1e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){x1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1e(t,e,n){return(e=_1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _1e(t){var e=b1e(t,"string");return typeof e=="symbol"?e:e+""}function b1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AT(t,e){if(t==null)return{};var n,r,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}var E1e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Qf(n,e),payload:t}]};function A1e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Qf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var NL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function S1e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var T1e=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return NL(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>a){l=[...n.slice(0,u),a-f];break}var d=l.length%2===0?[0,o]:[o];return[...S1e(n,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function C1e(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=xt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=T.createElement(oL,nu({},e,{className:r}))}return n}function I1e(t,e){return t==null?!1:e?!0:t.length===1}function O1e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!I1e(n,i))return null;var{id:l}=r,u=AT(r,v1e),f=y9(i),d=Co(u),p=un(i,!0),v=n.map((b,w)=>{var A=Ri(Ri(Ri({key:"dot-".concat(w),r:3},d),p),{},{index:w,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return C1e(i,A)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return T.createElement(Rr,nu({className:"recharts-line-dots",key:"dots"},m),v)}function R1e(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Ri(Ri({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(iL,{value:e?i:null},n)}function DN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:u,needClip:f}=a,d=AT(a,m1e),p=Ri(Ri({},un(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(YA,nu({},p,{pathRef:n})),T.createElement(O1e,{points:r,clipPathId:e,props:a}))}function P1e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function N1e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:d,animationEasing:p,animateNewValues:v,width:m,height:b,onAnimationEnd:w,onAnimationStart:A}=n,S=i.current,O=zp(n,"recharts-line-"),[I,R]=T.useState(!1),k=!I,L=T.useCallback(()=>{typeof w=="function"&&w(),R(!1)},[w]),P=T.useCallback(()=>{typeof A=="function"&&A(),R(!0)},[A]),M=P1e(r.current),j=a.current;return T.createElement(R1e,{points:o,showLabels:k},n.children,T.createElement(Vp,{animationId:O,begin:f,duration:d,isActive:u,easing:p,onAnimationEnd:L,onAnimationStart:P,key:O},z=>{var U=pn(j,M+j,z),H=Math.min(U,M),F;if(u)if(l){var pe="".concat(l).split(/[,\s]+/gim).map(re=>parseFloat(re));F=T1e(H,M,pe)}else F=NL(M,H);else F=l==null?void 0:String(l);if(S){var _e=S.length/o.length,X=z===1?o:o.map((re,de)=>{var we=Math.floor(de*_e);if(S[we]){var ke=S[we];return Ri(Ri({},re),{},{x:pn(ke.x,re.x,z),y:pn(ke.y,re.y,z)})}return v?Ri(Ri({},re),{},{x:pn(m*2,re.x,z),y:pn(b/2,re.y,z)}):Ri(Ri({},re),{},{x:re.x,y:re.y})});return i.current=X,T.createElement(DN,{props:n,points:X,clipPathId:e,pathRef:r,strokeDasharray:F})}return z>0&&M>0&&(i.current=o,a.current=H),T.createElement(DN,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:F})}),T.createElement(iT,{label:n.label}))}function D1e(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(N1e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var M1e=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Kt(t.payload,e)});class k1e extends T.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:l,top:u,left:f,width:d,height:p,id:v,needClip:m}=this.props;if(n)return null;var b=xt("recharts-line",a),w=v,{r:A=3,strokeWidth:S=2}=(e=un(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},O=y9(r),I=A*2+S;return T.createElement(T.Fragment,null,T.createElement(Rr,{className:b},m&&T.createElement("defs",null,T.createElement(xL,{clipPathId:w,xAxisId:o,yAxisId:l}),!O&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:f-I/2,y:u-I/2,width:d+I,height:p+I}))),T.createElement(yL,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:M1e,errorBarOffset:0},T.createElement(D1e,{props:this.props,clipPathId:w}))),T.createElement(tpe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var DL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function j1e(t){var e=Pr(t,DL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:f,isAnimationActive:d,label:p,legendType:v,xAxisId:m,yAxisId:b,id:w}=e,A=AT(e,y1e),{needClip:S}=yT(m,b),O=vT(),I=zm(),R=vi(),k=Ie(z=>g1e(z,m,b,R,w));if(I!=="horizontal"&&I!=="vertical"||k==null||O==null)return null;var{height:L,width:P,x:M,y:j}=O;return T.createElement(k1e,nu({},A,{id:w,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:b,points:k,layout:I,height:L,width:P,left:M,top:j,needClip:S}))}function L1e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=t;return u.map((f,d)=>{var p=Kt(f,o);if(e==="horizontal"){var v=cR({axis:n,ticks:i,bandSize:l,entry:f,index:d}),m=sn(p)?null:r.scale(p);return{x:v,y:m,value:p,payload:f}}var b=sn(p)?null:n.scale(p),w=cR({axis:r,ticks:a,bandSize:l,entry:f,index:d});return b==null||w==null?null:{x:b,y:w,value:p,payload:f}}).filter(Boolean)}function B1e(t){var e=Pr(t,DL),n=vi();return T.createElement(hT,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(hL,{legendPayload:E1e(e)}),T.createElement(dT,{fn:A1e,args:e}),T.createElement(gL,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(j1e,nu({},e,{id:r}))))}var ML=T.memo(B1e);ML.displayName="Line";var U1e=["dangerouslySetInnerHTML","ticks"],F1e=["id"],V1e=["domain"],z1e=["domain"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function jv(t,e){if(t==null)return{};var n,r,i=H1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $1e(t){var e=fn();return T.useEffect(()=>(e(zhe(t)),()=>{e(Hhe(t))}),[t,e]),null}var q1e=t=>{var{xAxisId:e,className:n}=t,r=Ie(qA),i=vi(),a="xAxis",o=Ie(A=>id(A,a,e,i)),l=Ie(A=>_j(A,a,e,i)),u=Ie(A=>vj(A,e)),f=Ie(A=>Ece(A,e)),d=Ie(A=>W7(A,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=jv(t,U1e),{id:b}=d,w=jv(d,F1e);return T.createElement(wT,Xw({},m,w,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:xt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},G1e={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,height:Ci.height,hide:!1,mirror:Ci.mirror,orientation:Ci.orientation,padding:Ci.padding,reversed:Ci.reversed,scale:Ci.scale,tickCount:Ci.tickCount,type:Ci.type,xAxisId:0},W1e=t=>{var e,n,r,i,a,o=Pr(t,G1e);return T.createElement(T.Fragment,null,T.createElement($1e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),T.createElement(q1e,o))},K1e=(t,e)=>{var{domain:n}=t,r=jv(t,V1e),{domain:i}=e,a=jv(e,z1e);return jf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:jf({domain:n},{domain:i}):!1},ST=T.memo(W1e,K1e);ST.displayName="XAxis";var X1e=["dangerouslySetInnerHTML","ticks"],Y1e=["id"],Q1e=["domain"],Z1e=["domain"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function Lv(t,e){if(t==null)return{};var n,r,i=J1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ege(t){var e=fn();return T.useEffect(()=>(e($he(t)),()=>{e(qhe(t))}),[t,e]),null}var tge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),o=T.useRef(null),l=Ie(qA),u=vi(),f=fn(),d="yAxis",p=Ie(k=>id(k,d,e,u)),v=Ie(k=>mj(k,e)),m=Ie(k=>Sce(k,e)),b=Ie(k=>_j(k,d,e,u)),w=Ie(k=>K7(k,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!v||rT(i)||T.isValidElement(i)||w==null)){var k=a.current;if(k){var L=k.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(Ghe({id:e,width:L}))}}},[b,v,f,i,e,r,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=t,O=Lv(t,X1e),{id:I}=w,R=Lv(w,Y1e);return T.createElement(wT,Yw({},O,R,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:xt("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:b}))},nge={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:Ii.allowDecimals,allowDuplicatedCategory:Ii.allowDuplicatedCategory,hide:!1,mirror:Ii.mirror,orientation:Ii.orientation,padding:Ii.padding,reversed:Ii.reversed,scale:Ii.scale,tickCount:Ii.tickCount,type:Ii.type,width:Ii.width,yAxisId:0},rge=t=>{var e,n,r,i,a,o=Pr(t,nge);return T.createElement(T.Fragment,null,T.createElement(ege,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),T.createElement(tge,o))},ige=(t,e)=>{var{domain:n}=t,r=Lv(t,Q1e),{domain:i}=e,a=Lv(e,Z1e);return jf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:jf({domain:n},{domain:i}):!1},TT=T.memo(rge,ige);TT.displayName="YAxis";var gb={exports:{}},vb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function age(){if(MN)return vb;MN=1;var t=Bf();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return vb.useSyncExternalStoreWithSelector=function(u,f,d,p,v){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=o(function(){function A(k){if(!S){if(S=!0,O=k,k=p(k),v!==void 0&&b.hasValue){var L=b.value;if(v(L,k))return I=L}return I=k}if(L=I,n(O,k))return L;var P=p(k);return v!==void 0&&v(L,P)?(O=k,L):(O=k,I=P)}var S=!1,O,I,R=d===void 0?null:d;return[function(){return A(f())},R===null?void 0:function(){return A(R())}]},[f,d,p,v]);var w=r(u,m[0],m[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},vb}var kN;function oge(){return kN||(kN=1,gb.exports=age()),gb.exports}oge();function sge(t){t()}function lge(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sge(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var jN={notify(){},get:()=>[]};function cge(t,e){let n,r=jN,i=0,a=!1;function o(w){d();const A=r.subscribe(w);let S=!1;return()=>{S||(S=!0,A(),p())}}function l(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return a}function d(){i++,n||(n=t.subscribe(u),r=lge())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=jN)}function v(){a||(a=!0,d())}function m(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>r};return b}var uge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fge=uge(),dge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hge=dge(),pge=()=>fge||hge?T.useLayoutEffect:T.useEffect,gge=pge(),vge=Symbol.for("react-redux-context"),mge=typeof globalThis<"u"?globalThis:{};function yge(){if(!T.createContext)return{};const t=mge[vge]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var xge=yge();function _ge(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const u=cge(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);gge(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||xge;return T.createElement(l.Provider,{value:a},e)}var bge=_ge,wge=(t,e)=>e,CT=ne([wge,ht,$7,nr,kj,bs,Rue,er],kue),IT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},kL=pa("mouseClick"),jL=Up();jL.startListening({actionCreator:kL,effect:(t,e)=>{var n=t.payload,r=CT(e.getState(),IT(n));r?.activeIndex!=null&&e.dispatch(Bce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qw=pa("mouseMove"),LL=Up();LL.startListening({actionCreator:Qw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=WS(r,r.tooltip.settings.shared),a=CT(r,IT(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(Ij({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Cj()))}});var LN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BL=Ui({name:"rootProps",initialState:LN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Ege=BL.reducer,{updateOptions:Age}=BL.actions,UL=Ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Sge}=UL.actions,Tge=UL.reducer,FL=pa("keyDown"),VL=pa("focus"),OT=Up();OT.startListening({actionCreator:FL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(KS(i,od(n))),l=bs(n);if(a==="Enter"){var u=Ov(n,"axis","hover",String(i.index));e.dispatch(zw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=Oce(n),d=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*d;if(!(l==null||v>=l.length||v<0)){var m=Ov(n,"axis","hover",String(v));e.dispatch(zw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});OT.startListening({actionCreator:VL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Ov(n,"axis","hover",String(a));e.dispatch(zw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var na=pa("externalEvent"),zL=Up();zL.startListening({actionCreator:na,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:_ue(n),activeDataKey:Uj(n),activeIndex:kl(n),activeLabel:Bj(n),activeTooltipIndex:kl(n),isTooltipActive:bue(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Cge=ne([ad],t=>t.tooltipItemPayloads),Ige=ne([Cge,Zp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),HL=pa("touchMove"),$L=Up();$L.startListening({actionCreator:HL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=WS(r,r.tooltip.settings.shared);if(i==="axis"){var a=CT(r,IT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(Ij({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Ck),d=(o=u.getAttribute(Ik))!==null&&o!==void 0?o:void 0,p=Ige(e.getState(),f,d);e.dispatch(Tj({activeDataKey:d,activeIndex:f,activeCoordinate:p}))}}});var Oge=J9({brush:p0e,cartesianAxis:Whe,chartData:Que,errorBars:hpe,graphicalItems:dhe,layout:Rre,legend:_ie,options:Gue,polarAxis:Ode,polarOptions:Tge,referenceElements:b0e,rootProps:Ege,tooltip:Uce}),Rge=function(e){return tre({reducer:Oge,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([jL.middleware,LL.middleware,OT.middleware,zL.middleware,$L.middleware]),devTools:Hl.devToolsEnabled})};function qL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=vi(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=Rge(e));var o=UA;return T.createElement(bge,{context:o,store:a.current},n)}function GL(t){var{layout:e,width:n,height:r,margin:i}=t,a=fn(),o=vi();return T.useEffect(()=>{o||(a(Cre(e)),a(Ire({width:n,height:r})),a(Tre(i)))},[a,o,e,n,r,i]),null}function WL(t){var e=fn();return T.useEffect(()=>{e(Age(t))},[e,t]),null}var Pge=["children"];function Nge(t,e){if(t==null)return{};var n,r,i=Dge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}var Mge={width:"100%",height:"100%"},kge=T.forwardRef((t,e)=>{var n=WA(),r=KA(),i=Dk();if(!Pf(n)||!Pf(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=t,f,d;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,T.createElement(RA,Bv({},o,{title:l,desc:u,role:d,tabIndex:f,width:n,height:r,style:Mge,ref:e}),a)}),jge=t=>{var{children:e}=t,n=Ie(Vm);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return T.createElement(RA,{width:r,height:i,x:o,y:a},e)},BN=T.forwardRef((t,e)=>{var{children:n}=t,r=Nge(t,Pge),i=vi();return i?T.createElement(jge,null,n):T.createElement(kge,Bv({ref:e},r),n)});function Lge(){var t=fn(),[e,n]=T.useState(null),r=Ie(aie);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Li(a)&&a!==r&&t(Ore(a))}},[e,t,r]),n}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){Uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e,n){return(e=Fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zge=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:b,onTouchStart:w,style:A,width:S}=t,O=fn(),[I,R]=T.useState(null),[k,L]=T.useState(null);ofe();var P=Lge(),M=T.useCallback(ee=>{P(ee),typeof e=="function"&&e(ee),R(ee),L(ee)},[P,e,R,L]),j=T.useCallback(ee=>{O(kL(ee)),O(na({handler:a,reactEvent:ee}))},[O,a]),z=T.useCallback(ee=>{O(Qw(ee)),O(na({handler:f,reactEvent:ee}))},[O,f]),U=T.useCallback(ee=>{O(Cj()),O(na({handler:d,reactEvent:ee}))},[O,d]),H=T.useCallback(ee=>{O(Qw(ee)),O(na({handler:p,reactEvent:ee}))},[O,p]),F=T.useCallback(()=>{O(VL())},[O]),pe=T.useCallback(ee=>{O(FL(ee.key))},[O]),_e=T.useCallback(ee=>{O(na({handler:o,reactEvent:ee}))},[O,o]),X=T.useCallback(ee=>{O(na({handler:l,reactEvent:ee}))},[O,l]),re=T.useCallback(ee=>{O(na({handler:u,reactEvent:ee}))},[O,u]),de=T.useCallback(ee=>{O(na({handler:v,reactEvent:ee}))},[O,v]),we=T.useCallback(ee=>{O(na({handler:w,reactEvent:ee}))},[O,w]),ke=T.useCallback(ee=>{O(HL(ee)),O(na({handler:b,reactEvent:ee}))},[O,b]),G=T.useCallback(ee=>{O(na({handler:m,reactEvent:ee}))},[O,m]);return T.createElement(qj.Provider,{value:I},T.createElement(_9.Provider,{value:k},T.createElement("div",{className:xt("recharts-wrapper",r),style:Bge({position:"relative",cursor:"default",width:S,height:i},A),onClick:j,onContextMenu:_e,onDoubleClick:X,onFocus:F,onKeyDown:pe,onMouseDown:re,onMouseEnter:z,onMouseLeave:U,onMouseMove:H,onMouseUp:de,onTouchEnd:G,onTouchMove:ke,onTouchStart:we,ref:M},n)))}),Hge=["children","className","width","height","style","compact","title","desc"];function $ge(t,e){if(t==null)return{};var n,r,i=qge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KL=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:l,title:u,desc:f}=t,d=$ge(t,Hge),p=Co(d);return l?T.createElement(BN,{otherAttributes:p,title:u,desc:f},n):T.createElement(zge,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(BN,{otherAttributes:p,title:u,desc:f,ref:e},T.createElement(E0e,null,n)))}),Gge=["width","height"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function Wge(t,e){if(t==null)return{};var n,r,i=Kge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xge={top:5,right:5,bottom:5,left:5},Yge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xge,reverseStackOrder:!1,syncMethod:"index"},XL=T.forwardRef(function(e,n){var r,i=Pr(e.categoricalChartProps,Yge),{width:a,height:o}=i,l=Wge(i,Gge);if(!Pf(a)||!Pf(o))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return T.createElement(qL,{preloadedState:{options:m},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:u},T.createElement(EL,{chartData:v.data}),T.createElement(GL,{width:a,height:o,layout:i.layout,margin:i.margin}),T.createElement(WL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(KL,Zw({},l,{width:a,height:o,ref:n})))}),Qge=["axis"],Zge=T.forwardRef((t,e)=>T.createElement(XL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qge,tooltipPayloadSearcher:nT,categoricalChartProps:t,ref:e})),Jge=["axis","item"],eve=T.forwardRef((t,e)=>T.createElement(XL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jge,tooltipPayloadSearcher:nT,categoricalChartProps:t,ref:e}));function tve(t){var e=fn();return T.useEffect(()=>{e(Sge(t))},[e,t]),null}var nve=["width","height","layout"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function rve(t,e){if(t==null)return{};var n,r,i=ive(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ive(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ave={top:5,right:5,bottom:5,left:5},ove={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ave,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},sve=T.forwardRef(function(e,n){var r,i=Pr(e.categoricalChartProps,ove),{width:a,height:o,layout:l}=i,u=rve(i,nve);if(!Pf(a)||!Pf(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return T.createElement(qL,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},T.createElement(EL,{chartData:i.data}),T.createElement(GL,{width:a,height:o,layout:l,margin:i.margin}),T.createElement(WL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(tve,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(KL,Jw({width:a,height:o},u,{ref:n})))}),lve=["item"],cve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},YL=T.forwardRef((t,e)=>{var n=Pr(t,cve);return T.createElement(sve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lve,tooltipPayloadSearcher:nT,categoricalChartProps:n,ref:e})});const uve=()=>{const{intakes:t}=Ao(),e=T.useMemo(()=>{const r=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(r);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(d=>d.date.startsWith(l)).reduce((d,p)=>d+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),n=e.some(r=>r.calories>0);return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"📈 週間カロリー推移"}),n?y.jsx(ly,{width:"100%",height:250,children:y.jsxs(Zge,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[y.jsx(ET,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(ST,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),y.jsx(TT,{tick:{fontSize:12},stroke:"#9ca3af"}),y.jsx(sy,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),y.jsx(ML,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[y.jsx("p",{children:"データがありません"}),y.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},fve=()=>{const{expenses:t}=So(),e=T.useMemo(()=>{const r=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(r.getFullYear(),r.getMonth()-a,1),l=o.getFullYear(),u=o.getMonth()+1,d=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===u}).reduce((p,v)=>p+v.amount,0);i.push({month:`${u}月`,amount:d})}return i},[t]),n=e.some(r=>r.amount>0);return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"💰 月間支出推移"}),n?y.jsx(ly,{width:"100%",height:250,children:y.jsxs(eve,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[y.jsx(ET,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),y.jsx(ST,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),y.jsx(TT,{tick:{fontSize:12},stroke:"#9ca3af"}),y.jsx(sy,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:r=>`¥${r.toLocaleString()}`}),y.jsx(bL,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[y.jsx("p",{children:"データがありません"}),y.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},dve=()=>{const{intakes:t}=Ao(),e=T.useMemo(()=>{const n=new Map;return t.forEach(i=>{const a=n.get(i.name)||0;n.set(i.name,a+1)}),Array.from(n.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[y.jsx("p",{children:"データがありません"}),y.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):y.jsx("div",{style:{marginTop:"16px"},children:e.map(n=>y.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:n.rank<e.length?"1px solid var(--border)":"none"},children:[y.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":n.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":n.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:n.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:n.rank}),y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name}),y.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",n.count,"回"]})]})]},n.rank))})]})},lg=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],hve=()=>{const{intakes:t}=Ao(),e=T.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",u=i.get(l)||0;i.set(l,u+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),n=e.reduce((i,a)=>i+a.value,0),r=n>0;return y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"🏭 メーカー別支出分析"}),r?y.jsxs(y.Fragment,{children:[y.jsx(ly,{width:"100%",height:250,children:y.jsxs(YL,{children:[y.jsx(gT,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>y.jsx(sd,{fill:lg[a%lg.length]},`cell-${a}`))}),y.jsx(sy,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),y.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:lg[a%lg.length],flexShrink:0}}),y.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),y.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),y.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{fontWeight:600},children:"合計"}),y.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",n.toLocaleString()]})]})]}):y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[y.jsx("p",{children:"データがありません"}),y.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},pve=()=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"📊 レポート"}),y.jsx(Cee,{}),y.jsx(uve,{}),y.jsx(fve,{}),y.jsx(dve,{}),y.jsx(hve,{})]}),QL=({selectedYear:t,selectedMonth:e,selectedDate:n,onSelectDate:r,onMonthChange:i,mode:a="month"})=>{const[o,l]=T.useState(t),[u,f]=T.useState(e),d=new Date(o,u,0).getDate(),p=new Date(o,u-1,1).getDay(),v=()=>{let R=u-1,k=o;R<1&&(R=12,k-=1),f(R),l(k),i&&i(k,R)},m=()=>{let R=u+1,k=o;R>12&&(R=1,k+=1),f(R),l(k),i&&i(k,R)},b=R=>{if(a==="date"&&r){const k=new Date(o,u-1,R);r(k)}},w=()=>{a==="month"&&i&&i(o,u)},A=R=>{const k=new Date;return k.getFullYear()===o&&k.getMonth()+1===u&&k.getDate()===R},S=R=>n?n.getFullYear()===o&&n.getMonth()+1===u&&n.getDate()===R:!1,O=[];for(let R=0;R<p;R++)O.push(null);for(let R=1;R<=d;R++)O.push(R);const I=["日","月","火","水","木","金","土"];return y.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[y.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:y.jsx(CF,{size:24})}),y.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&u===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&u===e?"white":"var(--text)"},children:[o,"年 ",u,"月"]}),y.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:y.jsx(eD,{size:24})})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:I.map((R,k)=>y.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:k===0?"#ef4444":k===6?"#3b82f6":"var(--text-secondary)"},children:R},k))}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:O.map((R,k)=>{if(R===null)return y.jsx("div",{},`empty-${k}`);const L=A(R),P=S(R),M=k%7;return y.jsx("button",{onClick:()=>b(R),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:L?"2px solid var(--primary)":"none",borderRadius:"8px",background:P?"var(--primary)":L?"var(--background)":"transparent",color:P?"white":M===0?"#ef4444":M===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:P||L?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:j=>{a==="date"&&!P&&(j.currentTarget.style.background="var(--background)")},onMouseLeave:j=>{a==="date"&&!P&&(j.currentTarget.style.background="transparent")},children:R},R)})}),a==="date"&&y.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:n?`選択: ${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`:"日付を選択してください"})]})},gve=({isOpen:t,selectedDate:e,onClose:n,onConfirm:r})=>{const[i,a]=Ur.useState(e);if(Ur.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{r(i),n()};return y.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:y.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[y.jsx("h3",{style:{margin:0},children:"日付を選択"}),y.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:y.jsx(yf,{size:24})})]}),y.jsx(QL,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),y.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[y.jsx("button",{onClick:n,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),y.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[y.jsx(TF,{size:20}),"決定"]})]})]})})},vve=()=>{const{addExpense:t}=So(),[e,n]=T.useState("food"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(new Date),[p,v]=T.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],b=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!r.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?r.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),u(""),i(""),alert("支出を記録しました！")},w=A=>`${A.getFullYear()}年${A.getMonth()+1}月${A.getDate()}日`;return y.jsxs("div",{className:"card",children:[y.jsx("label",{children:"日付"}),y.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[y.jsx("span",{children:w(f)}),y.jsx(qv,{size:20,color:"var(--primary)"})]}),y.jsx("label",{children:"カテゴリ"}),y.jsx("select",{value:e,onChange:A=>n(A.target.value),children:m.map(A=>y.jsx("option",{value:A.value,children:A.label},A.value))}),e==="other"&&y.jsxs(y.Fragment,{children:[y.jsx("label",{children:"カスタムカテゴリ名"}),y.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),y.jsx("label",{children:"金額(円)"}),y.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:"1000",min:"0"}),y.jsx("label",{children:"メモ（任意）"}),y.jsx("input",{value:l,onChange:A=>u(A.target.value),placeholder:"例: 昼食"}),y.jsxs("button",{className:"submit",onClick:b,children:[y.jsx(Ig,{size:20}),"記録する"]}),y.jsx(gve,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:d})]})},RT=({isOpen:t,selectedYear:e,selectedMonth:n,onClose:r,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),r()};return y.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:y.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[y.jsx("h3",{style:{margin:0},children:"月を選択"}),y.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:y.jsx(yf,{size:24})})]}),y.jsx(QL,{selectedYear:e,selectedMonth:n,onMonthChange:a,mode:"month"}),y.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},mve=()=>{const{getTotalByMonth:t}=So(),{settings:e}=ap(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),u=e.monthlyBudget??3e4,f=t(n,i),d=f/u*100,p=u-f,v=A=>new Intl.NumberFormat("ja-JP").format(A),b=d>=100?{color:"#ef4444",icon:y.jsx(ZN,{size:24}),message:"予算超過"}:d>=80?{color:"#f59e0b",icon:y.jsx(YN,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:y.jsx(Gv,{size:24}),message:"順調"},w=(A,S)=>{r(A),a(S)};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),y.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[y.jsxs("span",{children:[n,"年 ",i,"月"]}),y.jsx(qv,{size:20,color:"var(--primary)"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[y.jsx("div",{style:{color:b.color},children:b.icon}),y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontWeight:"bold",color:b.color},children:b.message}),y.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),y.jsx("div",{style:{textAlign:"right"},children:y.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:b.color},children:[d.toFixed(1),"%"]})})]}),y.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[y.jsx("div",{style:{background:`linear-gradient(90deg, ${b.color}, ${b.color}dd)`,height:"100%",width:`${Math.min(d,100)}%`,transition:"width 0.3s ease"}}),y.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:d>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(u)]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[y.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),y.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),y.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),y.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(u)]})]})]}),y.jsx(RT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},ol=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],FN=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],ZL=t=>{if(!t)return ol[5];let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;const n=Math.abs(e)%FN.length;return FN[n]},JL=t=>({food:ol[0],transport:ol[1],utilities:ol[2],entertainment:ol[3],health:ol[4],other:ol[5]})[t]||ol[5],yve=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=So(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),u=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(n,i),d=T.useMemo(()=>{const b=new Map;return u.forEach(w=>{const A=t(w.value,n,i);A>0&&b.set(w.value,{name:w.label,value:A,color:JL(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const A=`custom_${w.customCategory}`,S=b.get(A);S?S.value+=w.amount:b.set(A,{name:w.customCategory,value:w.amount,color:ZL(w.customCategory)})}}),Array.from(b.values())},[n,i,f,t]),p=d.reduce((b,w)=>b+w.value,0),v=b=>new Intl.NumberFormat("ja-JP").format(b),m=(b,w)=>{r(b),a(w)};return y.jsxs("div",{className:"card",children:[y.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),y.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[y.jsxs("span",{children:[n,"年 ",i,"月"]}),y.jsx(qv,{size:20,color:"var(--primary)"})]}),f.length===0?y.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[y.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),y.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),d.length>0&&y.jsxs(y.Fragment,{children:[y.jsx(ly,{width:"100%",height:250,children:y.jsxs(YL,{children:[y.jsx(gT,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:b=>`${b.name}: ¥${v(b.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((b,w)=>y.jsx(sd,{fill:b.color},`cell-${w}`))}),y.jsx(sy,{formatter:b=>`¥${v(b)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),y.jsx(Hm,{})]})}),y.jsx("div",{style:{marginTop:"20px"},children:d.map((b,w)=>{const A=(b.value/p*100).toFixed(1);return y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<d.length-1?"1px solid var(--border)":"none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:b.color}}),y.jsx("span",{children:b.name})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(b.value)]}),y.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[A,"%"]})]})]},w)})})]})]}),y.jsx(RT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},xve=()=>{const{deleteExpense:t,getExpensesByMonth:e}=So(),[n,r]=T.useState(new Date().getFullYear()),[i,a]=T.useState(new Date().getMonth()+1),[o,l]=T.useState(!1),u=e(n,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},d=A=>A.category==="other"&&A.customCategory?A.customCategory:f[A.category],p=A=>A.category==="other"&&A.customCategory?ZL(A.customCategory):JL(A.category),v=A=>{window.confirm("この支出を削除しますか？")&&t(A)},m=A=>{const S=new Date(A);return`${S.getMonth()+1}/${S.getDate()}`},b=A=>new Intl.NumberFormat("ja-JP").format(A),w=(A,S)=>{r(A),a(S)};return y.jsxs("div",{className:"card",children:[y.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[y.jsxs("span",{children:[n,"年 ",i,"月"]}),y.jsx(qv,{size:20,color:"var(--primary)"})]}),u.length===0?y.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):y.jsx("div",{className:"list",children:u.sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime()).map(A=>y.jsxs("div",{className:"list-item",children:[y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[y.jsx("span",{style:{background:p(A),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:d(A)}),y.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(A.date)})]}),A.memo&&y.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:A.memo})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",b(A.amount)]}),y.jsx("button",{className:"delete",onClick:()=>v(A.id),style:{padding:"8px"},children:y.jsx(Uf,{size:20})})]})]},A.id))}),y.jsx(RT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},_ve=()=>y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"家計簿"}),y.jsx(mve,{}),y.jsx(vve,{}),y.jsx(yve,{}),y.jsx("h3",{children:"支出履歴"}),y.jsx(xve,{})]}),bve={streak:"🔥 連続記録",milestone:"📊 マイルストーン",goal:"🎯 目標達成",feature:"✨ 機能活用"};function wve(){const{badges:t,isUnlocked:e,getUnlockedCount:n,getTotalCount:r}=hA(),i=["streak","milestone","goal","feature"],a=o=>Zg.filter(l=>l.category===o);return y.jsxs("div",{className:"badge-list",children:[y.jsxs("div",{className:"badge-summary",children:[y.jsxs("h3",{children:["バッジコレクション"," ",y.jsxs("span",{className:"badge-count",children:[n()," / ",r()]})]}),y.jsx("div",{className:"progress-bar",children:y.jsx("div",{className:"progress-fill",style:{width:`${n()/r()*100}%`}})})]}),i.map(o=>{const l=a(o);return y.jsxs("div",{className:"badge-category",children:[y.jsx("h4",{className:"category-title",children:bve[o]}),y.jsx("div",{className:"badge-grid",children:l.map(u=>{const f=e(u.id),d=t.find(p=>p.id===u.id);return y.jsxs("div",{className:`badge-item ${f?"unlocked":"locked"}`,children:[y.jsx("div",{className:"badge-icon",children:f?u.icon:"🔒"}),y.jsxs("div",{className:"badge-info",children:[y.jsx("div",{className:"badge-name",children:u.name}),y.jsx("div",{className:"badge-description",children:u.description}),!f&&y.jsx("div",{className:"badge-requirement",children:u.requirement}),f&&d?.unlockedAt&&y.jsx("div",{className:"badge-unlocked-date",children:new Date(d.unlockedAt).toLocaleDateString("ja-JP")})]})]},u.id)})})]},o)})]})}function Eve(){return y.jsxs("section",{className:"screen active",children:[y.jsx("h2",{children:"🏆 アチーブメント"}),y.jsx("div",{className:"card",children:y.jsx(wve,{})})]})}const Ave=t=>{const e=/#[\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF]+/g,n=t.match(e);return n?n.map(r=>r.slice(1)):[]},Uv=t=>t?typeof t=="string"?t:t.toDate().toISOString():new Date().toISOString(),Sve=async(t,e)=>{try{const n=await XM(t);if(!n)throw new Error("プロフィールが見つかりません");const r=[];if(e.images&&e.images.length>0)for(const u of e.images){const f=await iY(t,u);r.push(f)}const i=Ave(e.content),a=dt(yt(Re,"posts")),o=a.id,l={id:o,content:e.content,images:r,authorId:t,authorName:n.displayName,authorAvatar:n.avatarUrl||"",likes:0,commentCount:0,repostCount:0,hashtags:i,visibility:e.visibility,createdAt:Mq()};return await su(a,l),console.log("投稿を作成しました:",o),o}catch(n){throw console.error("投稿の作成に失敗しました:",n),n}},eB=async t=>{try{const e=dt(Re,"posts",t),n=await qf(e);if(!n.exists())return null;const r=n.data();return{id:n.id,content:r.content,images:r.images||[],authorId:r.authorId,authorName:r.authorName,authorAvatar:r.authorAvatar||"",likes:r.likes||0,commentCount:r.commentCount||0,repostCount:r.repostCount||0,hashtags:r.hashtags||[],visibility:r.visibility,createdAt:Uv(r.createdAt),updatedAt:r.updatedAt?Uv(r.updatedAt):void 0}}catch(e){return console.error("投稿の取得に失敗しました:",e),null}},Tve=async(t=20)=>{try{const e=yt(Re,"posts"),n=Vn(e,Cp("visibility","==","public"),fa("createdAt","desc"),Pq(t)),r=await pi(n),i=[];return r.forEach(a=>{const o=a.data();i.push({id:a.id,content:o.content,images:o.images||[],authorId:o.authorId,authorName:o.authorName,authorAvatar:o.authorAvatar||"",likes:o.likes||0,commentCount:o.commentCount||0,repostCount:o.repostCount||0,hashtags:o.hashtags||[],visibility:o.visibility,createdAt:Uv(o.createdAt),updatedAt:o.updatedAt?Uv(o.updatedAt):void 0})}),i}catch(e){return console.error("タイムラインの取得に失敗しました:",e),[]}},Cve=async(t,e)=>{try{const n=await eB(t);if(!n)throw new Error("投稿が見つかりません");if(n.authorId!==e)throw new Error("自分の投稿のみ削除できます");const r=dt(Re,"posts",t);await da(r),console.log("投稿を削除しました:",t)}catch(n){throw console.error("投稿の削除に失敗しました:",n),n}},eE=t=>{const e=new Date,n=new Date(t),r=e.getTime()-n.getTime(),i=Math.floor(r/6e4);return i<1?"たった今":i<60?`${i}分前`:i<1440?`${Math.floor(i/60)}時間前`:i<43200?`${Math.floor(i/1440)}日前`:n.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})},tB=async(t,e,n,r)=>{try{const i=dt(yt(Re,`posts/${t}/likes`)),o={id:i.id,postId:t,userId:e,userName:n,userAvatar:r,createdAt:new Date().toISOString()};await su(i,o);const l=dt(Re,"posts",t);await Bi(l,{likes:Kf(1)}),console.log("いいねを追加しました")}catch(i){throw console.error("いいねの追加に失敗しました:",i),i}},nB=async(t,e)=>{try{const n=yt(Re,`posts/${t}/likes`),r=Vn(n,Cp("userId","==",e)),i=await pi(r);for(const o of i.docs)await da(o.ref);const a=dt(Re,"posts",t);await Bi(a,{likes:Kf(-1)}),console.log("いいねを削除しました")}catch(n){throw console.error("いいねの削除に失敗しました:",n),n}},rB=async(t,e)=>{try{const n=yt(Re,`posts/${t}/likes`),r=Vn(n,Cp("userId","==",e));return!(await pi(r)).empty}catch(n){return console.error("いいね確認に失敗しました:",n),!1}},Ive=async(t,e,n,r,i)=>{try{const a=dt(yt(Re,`posts/${t}/comments`)),l={id:a.id,postId:t,userId:e,userName:n,userAvatar:i,content:r,createdAt:new Date().toISOString()};await su(a,l);const u=dt(Re,"posts",t);await Bi(u,{commentCount:Kf(1)}),console.log("コメントを追加しました")}catch(a){throw console.error("コメントの追加に失敗しました:",a),a}},Ove=async(t,e,n)=>{try{const r=dt(Re,`posts/${t}/comments/${e}`),i=await qf(r);if(!i.exists())throw new Error("コメントが見つかりません");if(i.data().userId!==n)throw new Error("自分のコメントのみ削除できます");await da(r);const a=dt(Re,"posts",t);await Bi(a,{commentCount:Kf(-1)}),console.log("コメントを削除しました")}catch(r){throw console.error("コメントの削除に失敗しました:",r),r}},mb=async t=>{try{const e=yt(Re,`posts/${t}/comments`),n=Vn(e,fa("createdAt","asc")),r=await pi(n),i=[];return r.forEach(a=>{const o=a.data();i.push({id:a.id,postId:t,userId:o.userId,userName:o.userName,userAvatar:o.userAvatar,content:o.content,createdAt:o.createdAt,updatedAt:o.updatedAt})}),i}catch(e){return console.error("コメント一覧の取得に失敗しました:",e),[]}},Rve=async(t,e)=>{try{const n=dt(Re,`users/${e}/bookmarks/${t}`),r={id:t,postId:t,userId:e,createdAt:new Date().toISOString()};await su(n,r),console.log("ブックマークを追加しました")}catch(n){throw console.error("ブックマークの追加に失敗しました:",n),n}},Pve=async(t,e)=>{try{const n=dt(Re,`users/${e}/bookmarks/${t}`);await da(n),console.log("ブックマークを削除しました")}catch(n){throw console.error("ブックマークの削除に失敗しました:",n),n}},Nve=async(t,e)=>{try{const n=dt(Re,`users/${e}/bookmarks/${t}`);return(await qf(n)).exists()}catch(n){return console.error("ブックマーク確認に失敗しました:",n),!1}},Dve=async(t,e,n,r)=>{try{const i=dt(yt(Re,`posts/${t}/reposts`)),o={id:i.id,postId:t,userId:e,userName:n,userAvatar:r,createdAt:new Date().toISOString()};await su(i,o);const l=dt(Re,"posts",t);await Bi(l,{repostCount:Kf(1)}),console.log("リポストを追加しました")}catch(i){throw console.error("リポストの追加に失敗しました:",i),i}},Mve=async(t,e)=>{try{const n=yt(Re,`posts/${t}/reposts`),r=Vn(n,Cp("userId","==",e)),i=await pi(r);for(const o of i.docs)await da(o.ref);const a=dt(Re,"posts",t);await Bi(a,{repostCount:Kf(-1)}),console.log("リポストを削除しました")}catch(n){throw console.error("リポストの削除に失敗しました:",n),n}},kve=async(t,e)=>{try{const n=yt(Re,`posts/${t}/reposts`),r=Vn(n,Cp("userId","==",e));return!(await pi(r)).empty}catch(n){return console.error("リポスト確認に失敗しました:",n),!1}},jve=({post:t,onPostClick:e})=>{const{user:n}=Mp(),[r,i]=T.useState(!1),[a,o]=T.useState(!1),[l,u]=T.useState(!1),[f,d]=T.useState(t.likes),[p,v]=T.useState(t.repostCount),[m,b]=T.useState(!1);T.useEffect(()=>{(async()=>{if(n)try{const k=await rB(t.id,n.uid),L=await Nve(t.id,n.uid),P=await kve(t.id,n.uid);i(k),o(L),u(P)}catch(k){console.error("ステータス確認エラー:",k)}})()},[t.id,n]);const w=async R=>{if(R.stopPropagation(),!(!n||m))try{b(!0),r?(await nB(t.id,n.uid),i(!1),d(Math.max(0,f-1))):(await tB(t.id,n.uid,n.email?.split("@")[0]||"anonymous",void 0),i(!0),d(f+1))}catch(k){console.error("いいね操作エラー:",k),alert("いいね操作に失敗しました")}finally{b(!1)}},A=R=>{R.stopPropagation(),e(t.id)},S=async R=>{if(R.stopPropagation(),!(!n||m))try{b(!0),l?(await Mve(t.id,n.uid),u(!1),v(Math.max(0,p-1))):(await Dve(t.id,n.uid,n.email?.split("@")[0]||"anonymous",void 0),u(!0),v(p+1))}catch(k){console.error("リポスト操作エラー:",k),alert("リポスト操作に失敗しました")}finally{b(!1)}},O=async R=>{if(R.stopPropagation(),!(!n||m))try{b(!0),a?(await Pve(t.id,n.uid),o(!1)):(await Rve(t.id,n.uid),o(!0))}catch(k){console.error("ブックマーク操作エラー:",k),alert("ブックマーク操作に失敗しました")}finally{b(!1)}},I=R=>{R.stopPropagation(),navigator.share?navigator.share({title:"投稿を共有",text:t.content}).catch(k=>console.log("Share cancelled:",k)):alert("この投稿をシェアしました！")};return y.jsxs("div",{className:"post-card",onClick:()=>e(t.id),style:{background:"var(--card)",borderRadius:"12px",padding:"16px",marginBottom:"12px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[y.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.authorAvatar?`url(${t.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.authorName}),y.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px"},children:eE(t.createdAt)})]})]}),y.jsx("div",{style:{color:"var(--text)",fontSize:"15px",lineHeight:"1.5",marginBottom:t.images&&t.images.length>0?"12px":"16px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t.content}),t.images&&t.images.length>0&&y.jsx("div",{style:{display:"grid",gridTemplateColumns:t.images.length===1?"1fr":(t.images.length===2,"repeat(2, 1fr)"),gap:"8px",marginBottom:"16px"},children:t.images.map((R,k)=>y.jsx("div",{style:{width:"100%",paddingBottom:t.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"8px",overflow:"hidden",background:"var(--border)"},children:y.jsx("img",{src:R,alt:`投稿画像 ${k+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},k))}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",paddingTop:"12px",borderTop:"1px solid var(--border)"},children:[y.jsxs("button",{onClick:w,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:r?"#e91e63":"var(--text-secondary)",transition:"background 0.2s, color 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:[r?y.jsx(KN,{size:20}):y.jsx(WN,{size:20}),y.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:f})]}),y.jsxs("button",{onClick:A,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(33, 150, 243, 0.1)",R.currentTarget.style.color="#2196f3"},onMouseLeave:R=>{R.currentTarget.style.background="none",R.currentTarget.style.color="var(--text-secondary)"},children:[y.jsx(JN,{size:20}),y.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:t.commentCount})]}),y.jsxs("button",{onClick:S,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:l?"#4caf50":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:m?.6:1},onMouseEnter:R=>{R.currentTarget.style.background="rgba(76, 175, 80, 0.1)",l||(R.currentTarget.style.color="#4caf50")},onMouseLeave:R=>{R.currentTarget.style.background="none",l||(R.currentTarget.style.color="var(--text-secondary)")},children:[y.jsx(gF,{size:20}),y.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:p})]}),y.jsx("button",{onClick:O,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:a?"#ff9800":"var(--text-secondary)",transition:"background 0.2s, color 0.2s",opacity:m?.6:1},onMouseEnter:R=>{R.currentTarget.style.background="rgba(255, 152, 0, 0.1)",a||(R.currentTarget.style.color="#ff9800")},onMouseLeave:R=>{R.currentTarget.style.background="none",a||(R.currentTarget.style.color="var(--text-secondary)")},children:a?y.jsx(oF,{size:20}):y.jsx(aF,{size:20})}),y.jsx("button",{onClick:I,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"4px 8px",borderRadius:"8px",color:"var(--text-secondary)",transition:"background 0.2s",marginLeft:"auto"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(158, 158, 158, 0.1)"},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:y.jsx(NF,{size:20})})]})]})},al=280,cg=4,Lve=({onClose:t,onPostCreated:e})=>{const{user:n}=Mp(),[r,i]=T.useState(""),[a,o]=T.useState([]),[l,u]=T.useState([]),[f,d]=T.useState("public"),[p,v]=T.useState(!1),[m,b]=T.useState(""),w=I=>{const R=Array.from(I.target.files||[]);if(R.length===0)return;if(a.length+R.length>cg){b(`画像は最大${cg}枚まで添付できます`);return}const k=[];R.forEach(L=>{const P=new FileReader;P.onloadend=()=>{k.push(P.result),k.length===R.length&&u([...l,...k])},P.readAsDataURL(L)}),o([...a,...R]),b("")},A=I=>{o(a.filter((R,k)=>k!==I)),u(l.filter((R,k)=>k!==I))},S=async()=>{if(!n){b("ログインしてください");return}if(!r.trim()){b("投稿内容を入力してください");return}if(r.length>al){b(`投稿は${al}文字以内で入力してください`);return}v(!0),b("");try{const I={content:r.trim(),images:a,visibility:f};await Sve(n.uid,I),alert("投稿しました！"),e(),t()}catch(I){console.error("投稿の作成に失敗しました:",I),b("投稿の作成に失敗しました。もう一度お試しください。")}finally{v(!1)}},O=[{value:"public",label:"全体公開",icon:nD,description:"誰でも見られます"},{value:"followers",label:"フォロワー",icon:tD,description:"フォロワーのみ"},{value:"private",label:"非公開",icon:vl,description:"自分のみ"}];return y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"16px"},onClick:t,children:y.jsxs("div",{style:{background:"var(--card)",borderRadius:"16px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:I=>I.stopPropagation(),children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--border)"},children:[y.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:"投稿を作成"}),y.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="var(--border)"},onMouseLeave:I=>{I.currentTarget.style.background="none"},children:y.jsx(yf,{size:24})})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsx("textarea",{value:r,onChange:I=>i(I.target.value),placeholder:"今何してる？",style:{width:"100%",minHeight:"120px",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"16px",color:"var(--text)",background:"var(--bg)",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"}}),y.jsxs("div",{style:{textAlign:"right",fontSize:"14px",color:r.length>al?"#f44336":"var(--text-secondary)",marginBottom:"16px"},children:[r.length," / ",al]}),l.length>0&&y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:l.map((I,R)=>y.jsxs("div",{style:{position:"relative",paddingBottom:"100%",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:[y.jsx("img",{src:I,alt:`プレビュー ${R+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("button",{onClick:()=>A(R),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0, 0, 0, 0.6)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:y.jsx(yf,{size:18})})]},R))}),a.length<cg&&y.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 16px",background:"var(--bg)",border:"2px solid var(--border)",borderRadius:"12px",cursor:"pointer",color:"var(--primary)",fontSize:"14px",fontWeight:500,marginBottom:"16px",transition:"background 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="var(--border)"},onMouseLeave:I=>{I.currentTarget.style.background="var(--bg)"},children:[y.jsx(AF,{size:20}),"画像を追加 (",a.length,"/",cg,")",y.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,style:{display:"none"}})]}),y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsx("label",{style:{display:"block",fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px",fontWeight:500},children:"公開範囲"}),y.jsx("select",{value:f,onChange:I=>d(I.target.value),style:{width:"100%",padding:"12px",border:"2px solid var(--border)",borderRadius:"12px",fontSize:"15px",color:"var(--text)",background:"var(--bg)",cursor:"pointer"},children:O.map(I=>y.jsxs("option",{value:I.value,children:[I.label," - ",I.description]},I.value))})]}),m&&y.jsx("div",{style:{padding:"12px",background:"#ffebee",color:"#c62828",borderRadius:"8px",fontSize:"14px",marginBottom:"16px"},children:m}),y.jsx("button",{onClick:S,disabled:p||!r.trim()||r.length>al,style:{width:"100%",padding:"14px",background:p||!r.trim()||r.length>al?"var(--border)":"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:600,cursor:p||!r.trim()||r.length>al?"not-allowed":"pointer",transition:"transform 0.2s"},onMouseEnter:I=>{!p&&r.trim()&&r.length<=al&&(I.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)"},children:p?"投稿中...":"投稿する"})]})]})})},Bve=({onPostClick:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,o]=T.useState(!1),l=async()=>{i(!0);try{const f=await Tve(20);n(f)}catch(f){console.error("投稿の取得に失敗しました:",f)}finally{i(!1)}};T.useEffect(()=>{l()},[]);const u=()=>{l()};return y.jsxs("div",{style:{paddingBottom:"80px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[y.jsx("h2",{style:{fontSize:"20px",fontWeight:600,color:"var(--text)",margin:0},children:"タイムライン"}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{onClick:l,disabled:r,style:{background:"none",border:"none",cursor:r?"not-allowed":"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"background 0.2s"},onMouseEnter:f=>{r||(f.currentTarget.style.background="var(--border)")},onMouseLeave:f=>{f.currentTarget.style.background="none"},children:y.jsx(IF,{size:24})}),y.jsx("button",{onClick:()=>o(!0),style:{background:"linear-gradient(135deg, var(--primary), #81c784)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},children:y.jsx(Ig,{size:24})})]})]}),y.jsx("div",{style:{padding:"16px"},children:r?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)"},children:[y.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),y.jsx("div",{children:"投稿を読み込んでいます..."})]}):e.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"var(--text-secondary)"},children:[y.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📝"}),y.jsx("div",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px"},children:"まだ投稿がありません"}),y.jsx("div",{style:{fontSize:"14px",marginBottom:"24px"},children:"最初の投稿をしてみましょう！"}),y.jsxs("button",{onClick:()=>o(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, var(--primary), #81c784)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)"},children:[y.jsx(Ig,{size:20}),"投稿を作成"]})]}):y.jsx("div",{children:e.map(f=>y.jsx(jve,{post:f,onPostClick:t},f.id))})}),a&&y.jsx(Lve,{onClose:()=>o(!1),onPostCreated:u})]})},Uve=({postId:t,onBack:e,onPostDeleted:n})=>{const{user:r}=Mp(),[i,a]=T.useState(null),[o,l]=T.useState([]),[u,f]=T.useState(!0),[d,p]=T.useState(!1),[v,m]=T.useState(0),[b,w]=T.useState(""),[A,S]=T.useState(!1);T.useEffect(()=>{(async()=>{f(!0);try{const M=await eB(t);if(M){if(a(M),m(M.likes),r){const z=await rB(t,r.uid);p(z)}const j=await mb(t);l(j)}else alert("投稿が見つかりません"),e()}catch(M){console.error("投稿の取得に失敗しました:",M),alert("投稿の取得に失敗しました"),e()}finally{f(!1)}})()},[t,e,r]);const O=async()=>{if(r)try{d?(await nB(t,r.uid),p(!1),m(Math.max(0,v-1))):(await tB(t,r.uid,r.email?.split("@")[0]||"anonymous",void 0),p(!0),m(v+1))}catch(P){console.error("いいね操作エラー:",P),alert("いいね操作に失敗しました")}},I=async()=>{if(!(!r||!i||!b.trim()))try{S(!0),await Ive(t,r.uid,r.email?.split("@")[0]||"anonymous",b.trim());const P=await mb(t);l(P),w("")}catch(P){console.error("コメント追加エラー:",P),alert("コメントの追加に失敗しました")}finally{S(!1)}},R=async P=>{if(!(!r||!confirm("このコメントを削除しますか？")))try{await Ove(t,P,r.uid);const M=await mb(t);l(M)}catch(M){console.error("コメント削除エラー:",M),alert("コメントの削除に失敗しました")}},k=async()=>{if(!(!r||!i)&&confirm("この投稿を削除しますか？"))try{await Cve(t,r.uid),alert("投稿を削除しました"),n()}catch(P){console.error("投稿の削除に失敗しました:",P),alert("投稿の削除に失敗しました")}};if(u)return y.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)"},children:[y.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),y.jsx("div",{children:"投稿を読み込んでいます..."})]});if(!i)return null;const L=r&&i.authorId===r.uid;return y.jsxs("div",{style:{paddingBottom:"80px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card)",borderBottom:"1px solid var(--border)",position:"sticky",top:0,zIndex:10},children:[y.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",transition:"background 0.2s"},onMouseEnter:P=>{P.currentTarget.style.background="var(--border)"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:y.jsx(Xv,{size:24})}),y.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--text)",margin:0},children:"投稿"}),L&&y.jsx("button",{onClick:k,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#f44336",transition:"background 0.2s"},onMouseEnter:P=>{P.currentTarget.style.background="#ffebee"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:y.jsx(Uf,{size:24})})]}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[y.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:i.authorAvatar?`url(${i.authorAvatar}) center/cover`:"linear-gradient(135deg, var(--primary), #81c784)",marginRight:"12px",flexShrink:0}}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"16px"},children:i.authorName}),y.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:eE(i.createdAt)})]})]}),y.jsx("div",{style:{color:"var(--text)",fontSize:"16px",lineHeight:"1.6",marginBottom:i.images&&i.images.length>0?"20px":"24px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:i.content}),i.images&&i.images.length>0&&y.jsx("div",{style:{display:"grid",gridTemplateColumns:i.images.length===1?"1fr":(i.images.length===2,"repeat(2, 1fr)"),gap:"12px",marginBottom:"24px"},children:i.images.map((P,M)=>y.jsx("div",{style:{width:"100%",paddingBottom:i.images.length===1?"56.25%":"100%",position:"relative",borderRadius:"12px",overflow:"hidden",background:"var(--border)"},children:y.jsx("img",{src:P,alt:`投稿画像 ${M+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},M))}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",padding:"16px 0",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:[y.jsxs("button",{onClick:O,style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px 12px",borderRadius:"12px",color:d?"#e91e63":"var(--text-secondary)",transition:"background 0.2s",fontSize:"16px"},onMouseEnter:P=>{P.currentTarget.style.background="rgba(233, 30, 99, 0.1)"},onMouseLeave:P=>{P.currentTarget.style.background="none"},children:[d?y.jsx(KN,{size:24}):y.jsx(WN,{size:24}),y.jsx("span",{style:{fontWeight:600},children:v})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-secondary)",fontSize:"16px"},children:[y.jsx(JN,{size:24}),y.jsx("span",{style:{fontWeight:600},children:i.commentCount})]})]}),y.jsxs("div",{style:{marginTop:"24px"},children:[r&&y.jsx("div",{style:{marginBottom:"24px"},children:y.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end",padding:"12px",background:"var(--card)",borderRadius:"12px",border:"1px solid var(--border)"},children:[y.jsx("textarea",{value:b,onChange:P=>w(P.target.value),placeholder:"コメントを入力...",style:{flex:1,padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--bg)",color:"var(--text)",fontFamily:"inherit",fontSize:"14px",resize:"vertical",minHeight:"44px",maxHeight:"120px",outline:"none"},onFocus:P=>{P.currentTarget.style.borderColor="var(--primary)"},onBlur:P=>{P.currentTarget.style.borderColor="var(--border)"}}),y.jsx("button",{onClick:I,disabled:A||!b.trim(),style:{background:b.trim()?"var(--primary)":"var(--border)",border:"none",color:b.trim()?"white":"var(--text-secondary)",padding:"12px 16px",borderRadius:"8px",cursor:b.trim()&&!A?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:y.jsx(xF,{size:20})})]})}),y.jsx("div",{style:{marginTop:"20px"},children:o.length>0?y.jsxs("div",{children:[y.jsxs("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px",color:"var(--text)"},children:["コメント (",o.length,")"]}),o.map(P=>y.jsxs("div",{style:{padding:"12px",background:"var(--bg)",borderRadius:"8px",marginBottom:"12px",borderLeft:"2px solid var(--primary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:600,color:"var(--text)",fontSize:"14px"},children:P.userName}),y.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:eE(P.createdAt)})]}),r&&r.uid===P.userId&&y.jsx("button",{onClick:()=>R(P.id),style:{background:"none",border:"none",color:"#f44336",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",transition:"background 0.2s"},onMouseEnter:M=>{M.currentTarget.style.background="#ffebee"},onMouseLeave:M=>{M.currentTarget.style.background="none"},children:"削除"})]}),y.jsx("div",{style:{color:"var(--text)",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:P.content})]},P.id))]}):y.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-secondary)",background:"var(--bg)",borderRadius:"12px"},children:y.jsx("div",{style:{fontSize:"14px"},children:"コメントはまだありません"})})})]})]})]})},Fve=()=>{const[t]=T.useState("timeline"),[e,n]=T.useState("main"),[r,i]=T.useState(null),a=u=>{i(u),n("post-detail")},o=()=>{n("main"),i(null)},l=()=>{n("main"),i(null)};return e==="post-detail"&&r?y.jsx(Uve,{postId:r,onBack:o,onPostDeleted:l}):y.jsx("div",{children:t==="timeline"&&y.jsx(Bve,{onPostClick:a})})},Vve=()=>{const[t,e]=T.useState("home"),n=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",social:"ソーシャル",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿",badges:"アチーブメント"})[i],r=()=>{switch(t){case"home":return y.jsx(QO,{onNavigate:e});case"meals":return y.jsx(UX,{});case"barcode":return y.jsx(Aee,{onNavigateToStock:()=>e("stock")});case"report":return y.jsx(pve,{});case"social":return y.jsx(Fve,{});case"settings":return y.jsx(oY,{});case"stock":return y.jsx(uY,{});case"shopping":return y.jsx(yY,{});case"recipe":return y.jsx(CY,{});case"expense":return y.jsx(_ve,{});case"badges":return y.jsx(Eve,{});default:return y.jsx(QO,{onNavigate:e})}};return y.jsxs(y.Fragment,{children:[y.jsx(WU,{title:n(t)}),y.jsx("main",{children:r()}),y.jsx(MF,{currentScreen:t,onNavigate:e})]})};function zve(t){return Se({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const Hve="modulepreload",$ve=function(t){return"/life-pwa-react/"+t},VN={},Lf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=f(n.map(d=>{if(d=$ve(d),d in VN)return;VN[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":Hve,p||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),p)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},Fv=()=>Math.floor(1e5+Math.random()*9e5).toString(),Vv=async(t,e)=>{const n=dt(yt(Re,"verificationCodes"),t),r=new Date;r.setMinutes(r.getMinutes()+10),await su(n,{code:e,email:t,expiresAt:r.toISOString(),createdAt:new Date().toISOString()})},iB=async(t,e)=>{try{const n=dt(yt(Re,"verificationCodes"),t),r=await qf(n);if(!r.exists())return{valid:!1,error:"確認コードが見つかりません。再送信してください。"};const i=r.data();return new Date(i.expiresAt)<new Date?(await da(n),{valid:!1,error:"確認コードの有効期限が切れています。再送信してください。"}):i.code!==e?{valid:!1,error:"確認コードが正しくありません。"}:(await da(n),{valid:!0})}catch(n){return console.error("Code verification error:",n),{valid:!1,error:"確認に失敗しました。もう一度お試しください。"}}},zN=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>dA);return{default:u}},void 0),a=n(i),l=await r(a,"sendVerificationEmail")({email:t,code:e});console.log(`✅ Verification email sent to ${t}`,l)}catch(n){throw console.error("Failed to send email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - メール確認コード
====================================

こんにちは！

健康家計アプリへのご登録ありがとうございます。

以下の確認コードを入力して、メールアドレスの確認を完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━
健康家計アプリについて
━━━━━━━━━━━━━━━━━━━━━━━━

AIが健康をサポートする生活管理アプリです。

主な機能：
✓ 食事記録とカロリー管理
✓ AIレシピ生成
✓ 家計簿機能
✓ 在庫管理
✓ バーコードスキャン
✓ レシートOCR（自動読み取り）

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`),new Error("メール送信に失敗しました。コンソールで確認コードを確認してください。")}},HN=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>dA);return{default:u}},void 0),a=n(i),l=await r(a,"sendPasswordResetEmail")({email:t,code:e});console.log(`✅ Password reset email sent to ${t}`,l)}catch(n){console.error("Failed to send password reset email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - パスワードリセット
====================================

こんにちは！

パスワードのリセットをリクエストいただきありがとうございます。

以下の確認コードを入力して、パスワードのリセットを完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`)}},qve=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Lf(async()=>{const{getFunctions:u,httpsCallable:f}=await Promise.resolve().then(()=>rA);return{getFunctions:u,httpsCallable:f}},void 0),{default:i}=await Lf(async()=>{const{default:u}=await Promise.resolve().then(()=>dA);return{default:u}},void 0),a=n(i),l=await r(a,"resetPassword")({email:t,newPassword:e});return console.log(`✅ Password reset successful for ${t}`,l),{success:!0}}catch(n){return console.error("Failed to reset password via Cloud Functions:",n),{success:!1,error:n.message||"パスワードのリセットに失敗しました"}}},Gve=({onBack:t})=>{const[e,n]=T.useState("email"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(""),[p,v]=T.useState(""),[m,b]=T.useState(!1),[w,A]=T.useState(""),S=async k=>{k.preventDefault(),A(""),b(!0);try{const L=Fv();await Vv(r,L),await zN(r,L),console.log("✅ 確認コードを送信しました:",r),n("code")}catch(L){console.error("Email send error:",L),A(L.message||"確認コードの送信に失敗しました")}finally{b(!1)}},O=async k=>{k.preventDefault(),A(""),b(!0);try{const L=await iB(r,a);if(!L.valid){A(L.error||"確認コードが正しくありません"),b(!1);return}console.log("✅ 確認コードが正しいです"),n("profile")}catch(L){A(L.message||"確認に失敗しました")}finally{b(!1)}},I=async k=>{if(k.preventDefault(),A(""),f!==p){A("パスワードが一致しません");return}if(f.length<6){A("パスワードは6文字以上で入力してください");return}if(!l.trim()){A("ユーザー名を入力してください");return}b(!0);try{const P=(await kG(nt,r,f)).user;await pM(P,{displayName:l}),await ZX(P.uid,r,l),console.log("✅ アカウント作成完了:",P.uid),t()}catch(L){console.error("Registration error:",L);let P="アカウント作成に失敗しました";L.code==="auth/email-already-in-use"?P="このメールアドレスは既に使用されています":L.code==="auth/invalid-email"?P="メールアドレスの形式が正しくありません":L.code==="auth/weak-password"&&(P="パスワードが弱すぎます（6文字以上推奨）"),A(P)}finally{b(!1)}},R=async()=>{b(!0),A("");try{const k=Fv();await Vv(r,k),await zN(r,k),alert("確認コードを再送信しました！")}catch{A("再送信に失敗しました")}finally{b(!1)}};return y.jsxs("div",{className:"register-flow",children:[y.jsxs("div",{className:"progress-bar",children:[y.jsx("div",{className:`progress-step ${e==="email"?"active":["code","profile"].includes(e)?"completed":""}`,children:"1"}),y.jsx("div",{className:"progress-line"}),y.jsx("div",{className:`progress-step ${e==="code"?"active":e==="profile"?"completed":""}`,children:"2"}),y.jsx("div",{className:"progress-line"}),y.jsx("div",{className:`progress-step ${e==="profile"?"active":""}`,children:"3"})]}),e==="email"&&y.jsxs("form",{onSubmit:S,className:"step-form",children:[y.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[y.jsx(Xv,{})," 戻る"]}),y.jsxs("h2",{children:[y.jsx(Kv,{})," メールアドレスを入力"]}),y.jsx("p",{className:"step-description",children:"確認コードを送信します"}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"email",value:r,onChange:k=>i(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),w&&y.jsx("div",{className:"error-message",children:w}),y.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"送信中...":"確認コードを送信"})]}),e==="code"&&y.jsxs("form",{onSubmit:O,className:"step-form",children:[y.jsxs("h2",{children:[y.jsx(QN,{})," 確認コードを入力"]}),y.jsxs("p",{className:"step-description",children:[y.jsx("strong",{children:r})," 宛に送信された6桁のコードを入力してください"]}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),w&&y.jsx("div",{className:"error-message",children:w}),y.jsx("button",{type:"submit",className:"submit-button",disabled:m||a.length!==6,children:m?"確認中...":"確認"}),y.jsx("button",{type:"button",onClick:R,className:"link-button",disabled:m,children:"コードを再送信"})]}),e==="profile"&&y.jsxs("form",{onSubmit:I,className:"step-form",children:[y.jsxs("h2",{children:[y.jsx(Wh,{})," アカウント情報を設定"]}),y.jsx("p",{className:"step-description",children:"ユーザー名とパスワードを設定してください"}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(Wh,{})," ユーザー名"]}),y.jsx("input",{type:"text",value:l,onChange:k=>u(k.target.value),placeholder:"山田太郎",required:!0,autoFocus:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(vl,{})," パスワード"]}),y.jsx("input",{type:"password",value:f,onChange:k=>d(k.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(vl,{})," パスワード（確認）"]}),y.jsx("input",{type:"password",value:p,onChange:k=>v(k.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),w&&y.jsx("div",{className:"error-message",children:w}),y.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"アカウント作成中...":"登録完了"})]}),y.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Wve=({onBack:t,onSuccess:e})=>{const[n,r]=T.useState("email"),[i,a]=T.useState(""),[o,l]=T.useState(""),[u,f]=T.useState(""),[d,p]=T.useState(""),[v,m]=T.useState(!1),[b,w]=T.useState(""),A=async R=>{R.preventDefault(),w(""),m(!0);try{const k=Fv();await Vv(i,k),await HN(i,k),console.log("✅ パスワードリセット用の確認コードを送信しました:",i),r("code")}catch(k){console.error("Email send error:",k),w(k.message||"確認コードの送信に失敗しました")}finally{m(!1)}},S=async R=>{R.preventDefault(),w(""),m(!0);try{const k=await iB(i,o);if(!k.valid){w(k.error||"確認コードが正しくありません"),m(!1);return}console.log("✅ 確認コードが正しいです"),r("password")}catch(k){w(k.message||"確認に失敗しました")}finally{m(!1)}},O=async R=>{if(R.preventDefault(),w(""),u!==d){w("パスワードが一致しません");return}if(u.length<6){w("パスワードは6文字以上で入力してください");return}m(!0);try{const k=await qve(i,u);if(!k.success){w(k.error||"パスワードの更新に失敗しました"),m(!1);return}console.log("✅ パスワードのリセットが完了しました"),alert("パスワードのリセットが完了しました！新しいパスワードでログインしてください。"),e()}catch(k){console.error("Password reset error:",k),w(k.message||"パスワードの更新に失敗しました")}finally{m(!1)}},I=async()=>{m(!0),w("");try{const R=Fv();await Vv(i,R),await HN(i,R),alert("確認コードを再送信しました！")}catch{w("再送信に失敗しました")}finally{m(!1)}};return y.jsxs("div",{className:"password-reset-flow",children:[y.jsxs("div",{className:"progress-bar",children:[y.jsx("div",{className:`progress-step ${n==="email"?"active":["code","password"].includes(n)?"completed":""}`,children:"1"}),y.jsx("div",{className:"progress-line"}),y.jsx("div",{className:`progress-step ${n==="code"?"active":n==="password"?"completed":""}`,children:"2"}),y.jsx("div",{className:"progress-line"}),y.jsx("div",{className:`progress-step ${n==="password"?"active":""}`,children:"3"})]}),n==="email"&&y.jsxs("form",{onSubmit:A,className:"step-form",children:[y.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[y.jsx(Xv,{})," 戻る"]}),y.jsxs("h2",{children:[y.jsx(Kv,{})," メールアドレスを入力"]}),y.jsx("p",{className:"step-description",children:"パスワードリセット用の確認コードを送信します"}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"email",value:i,onChange:R=>a(R.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),b&&y.jsx("div",{className:"error-message",children:b}),y.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"送信中...":"確認コードを送信"})]}),n==="code"&&y.jsxs("form",{onSubmit:S,className:"step-form",children:[y.jsxs("h2",{children:[y.jsx(QN,{})," 確認コードを入力"]}),y.jsxs("p",{className:"step-description",children:[y.jsx("strong",{children:i})," 宛に送信された6桁のコードを入力してください"]}),y.jsx("div",{className:"form-group",children:y.jsx("input",{type:"text",value:o,onChange:R=>l(R.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),b&&y.jsx("div",{className:"error-message",children:b}),y.jsx("button",{type:"submit",className:"submit-button",disabled:v||o.length!==6,children:v?"確認中...":"確認"}),y.jsx("button",{type:"button",onClick:I,className:"link-button",disabled:v,children:"コードを再送信"})]}),n==="password"&&y.jsxs("form",{onSubmit:O,className:"step-form",children:[y.jsxs("h2",{children:[y.jsx(vl,{})," 新しいパスワードを設定"]}),y.jsx("p",{className:"step-description",children:"新しいパスワードを入力してください"}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(vl,{})," 新しいパスワード"]}),y.jsx("input",{type:"password",value:u,onChange:R=>f(R.target.value),placeholder:"6文字以上",minLength:6,required:!0,autoFocus:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(vl,{})," パスワード（確認）"]}),y.jsx("input",{type:"password",value:d,onChange:R=>p(R.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),b&&y.jsx("div",{className:"error-message",children:b}),y.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"更新中...":"パスワードを更新"})]}),y.jsx("style",{children:`
        .password-reset-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},Kve=({onLoginSuccess:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(!1),[a,o]=T.useState(""),[l,u]=T.useState(""),[f,d]=T.useState(""),[p,v]=T.useState(!1),m=async w=>{w.preventDefault(),d(""),v(!0);try{const A=await FX(a,l);A.error?d(A.error):t()}catch(A){d(A.message||"認証エラーが発生しました")}finally{v(!1)}},b=async()=>{d(""),v(!0);try{const w=await VX();w.error?d(w.error):t()}catch(w){d(w.message||"認証エラーが発生しました")}finally{v(!1)}};return e?y.jsxs("div",{className:"login-screen",children:[y.jsxs("div",{className:"login-container",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:"🥗💰 健康家計アプリ"}),y.jsx("p",{children:"新規登録"})]}),y.jsx(Gve,{onBack:()=>n(!1)})]}),y.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):r?y.jsxs("div",{className:"login-screen",children:[y.jsxs("div",{className:"login-container",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:"🥗💰 健康家計アプリ"}),y.jsx("p",{children:"パスワードリセット"})]}),y.jsx(Wve,{onBack:()=>i(!1),onSuccess:()=>i(!1)})]}),y.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):y.jsxs("div",{className:"login-screen",children:[y.jsxs("div",{className:"login-container",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:"🥗💰 健康家計アプリ"}),y.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),y.jsxs("form",{onSubmit:m,className:"login-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(Kv,{})," メールアドレス"]}),y.jsx("input",{type:"email",value:a,onChange:w=>o(w.target.value),placeholder:"email@example.com",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(vl,{})," パスワード"]}),y.jsx("input",{type:"password",value:l,onChange:w=>u(w.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),f&&y.jsx("div",{className:"error-message",children:f}),y.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"処理中...":y.jsxs(y.Fragment,{children:[y.jsx(fF,{})," ログイン"]})}),y.jsx("button",{type:"button",onClick:()=>i(!0),className:"forgot-password-button",children:"パスワードをお忘れですか？"}),y.jsx("button",{type:"button",onClick:()=>n(!0),className:"register-link-button",children:"アカウントをお持ちでない方はこちら"})]}),y.jsx("div",{className:"divider",children:y.jsx("span",{children:"または"})}),y.jsxs("button",{onClick:b,className:"google-login-button",disabled:p,children:[y.jsx(zve,{})," Googleでログイン"]}),y.jsx("div",{className:"login-footer",children:y.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",y.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),y.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .forgot-password-button,
        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .forgot-password-button:hover,
        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function Xve(){const{newBadges:t,clearNewBadges:e}=hA(),[n,r]=T.useState(0),[i,a]=T.useState(!1);if(T.useEffect(()=>{t.length>0&&(r(0),a(!0))},[t]),!i||t.length===0)return null;const o=t[n],l=MX(o);if(!l)return null;const u=()=>{n<t.length-1?r(n+1):f()},f=()=>{a(!1),e(),r(0)};return y.jsx("div",{className:"badge-modal-overlay-fullscreen",children:y.jsx("div",{className:"badge-modal-fullscreen",children:y.jsxs("div",{className:"badge-modal-content-fullscreen",children:[y.jsx("div",{className:"badge-glow"}),y.jsx("div",{className:"badge-celebration-large",children:"🎉"}),y.jsx("div",{className:"badge-icon-huge",children:l.icon}),y.jsxs("h2",{className:"badge-title-huge",children:[y.jsx(Gv,{size:48,style:{color:"#10b981",marginRight:"12px"}}),"バッジ獲得！"]}),y.jsx("h3",{className:"badge-name-huge",children:l.name}),y.jsx("p",{className:"badge-description-large",children:l.description}),t.length>1&&y.jsxs("div",{className:"badge-progress-large",children:[n+1," / ",t.length]}),y.jsx("div",{className:"badge-buttons-large",children:n<t.length-1?y.jsx("button",{className:"badge-btn-large badge-btn-next",onClick:u,children:"次へ"}):y.jsx("button",{className:"badge-btn-large badge-btn-ok",onClick:f,children:"OK"})})]})})})}function Yve(t){if(t.length===0)return 0;const e=[...new Set(t.map(i=>i.split("T")[0]))].sort().reverse();let n=0;const r=new Date;r.setHours(0,0,0,0);for(let i=0;i<e.length;i++){const a=new Date(e[i]);a.setHours(0,0,0,0);const o=new Date(r);if(o.setDate(o.getDate()-i),o.setHours(0,0,0,0),a.getTime()===o.getTime())n++;else break}return n}function Qve(){const{settings:t}=ap(),{user:e,loading:n}=Mp(),[r,i]=T.useState(!1),a=Ao(),o=So(),l=To(),u=lu(),f=Dp(),d=ap(),p=hA();return T.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),T.useEffect(()=>{if(!e)return;const{intakes:v}=a,{expenses:m}=o,{stocks:b}=l,{recipeHistory:w}=f,A=0,S=Yve(v.map(U=>U.date)),O=v.reduce((U,H)=>U+H.calories,0),I=new Date,R=I.getDate();let k=I.getMonth(),L=I.getFullYear();k===0?(k=11,L-=1):k-=1;const M=m.filter(U=>{const H=new Date(U.date);return H.getMonth()===k&&H.getFullYear()===L}).reduce((U,H)=>U+H.amount,0),j=R===1&&M<=t.monthlyBudget&&M>0,z={intakesCount:v.length,expensesCount:m.length,stocksCount:b.length,consecutiveDays:S,totalCalories:O,budgetAchieved:j,recipesGenerated:w.length,barcodesScanned:A};p.checkAndUnlockBadges(z)},[a.intakes.length,o.expenses.length,l.stocks.length,f.recipeHistory.length]),T.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),u.syncWithFirestore(),f.syncWithFirestore(),d.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(m){console.error("Failed to sync stores with Firestore:",m)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),n||r?y.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:y.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:n?"ロード中...":"データを同期中..."})}):e?y.jsxs(y.Fragment,{children:[y.jsx(Vve,{}),y.jsx(Xve,{})]}):y.jsx(Kve,{onLoginSuccess:()=>{}})}GU.createRoot(document.getElementById("root")).render(y.jsx(Ur.StrictMode,{children:y.jsx(Qve,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
