function Lj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g2={exports:{}},$d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3;function jj(){if(F3)return $d;F3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return $d.Fragment=e,$d.jsx=r,$d.jsxs=r,$d}var U3;function Bj(){return U3||(U3=1,g2.exports=jj()),g2.exports}var A=Bj(),v2={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3;function Vj(){if(z3)return Ue;z3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=S.prototype;function O(G,ee,ye){this.props=G,this.context=ee,this.refs=E,this.updater=ye||_}var M=O.prototype=new I;M.constructor=O,w(M,S.prototype),M.isPureReactComponent=!0;var L=Array.isArray;function B(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(G,ee,ye){var _e=ye.ref;return{$$typeof:t,type:G,key:ee,ref:_e!==void 0?_e:null,props:ye}}function V(G,ee){return k(G.type,ee,G.props)}function z(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function he(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function be(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Y(G,ee,ye,_e,Oe){var He=typeof G;(He==="undefined"||He==="boolean")&&(G=null);var et=!1;if(G===null)et=!0;else switch(He){case"bigint":case"string":case"number":et=!0;break;case"object":switch(G.$$typeof){case t:case e:et=!0;break;case h:return et=G._init,Y(et(G._payload),ee,ye,_e,Oe)}}if(et)return Oe=Oe(G),et=_e===""?"."+he(G,0):_e,L(Oe)?(ye="",et!=null&&(ye=et.replace(U,"$&/")+"/"),Y(Oe,ee,ye,"",function(Fe){return Fe})):Oe!=null&&(z(Oe)&&(Oe=V(Oe,ye+(Oe.key==null||G&&G.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+et)),ee.push(Oe)),1;et=0;var dr=_e===""?".":_e+":";if(L(G))for(var pe=0;pe<G.length;pe++)_e=G[pe],He=dr+he(_e,pe),et+=Y(_e,ee,ye,He,Oe);else if(pe=m(G),typeof pe=="function")for(G=pe.call(G),pe=0;!(_e=G.next()).done;)_e=_e.value,He=dr+he(_e,pe++),et+=Y(_e,ee,ye,He,Oe);else if(He==="object"){if(typeof G.then=="function")return Y(be(G),ee,ye,_e,Oe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return et}function se(G,ee,ye){if(G==null)return G;var _e=[],Oe=0;return Y(G,_e,"","",function(He){return ee.call(ye,He,Oe++)}),_e}function me(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var Se=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ge={map:se,forEach:function(G,ee,ye){se(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return se(G,function(){ee++}),ee},toArray:function(G){return se(G,function(ee){return ee})||[]},only:function(G){if(!z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ue.Activity=p,Ue.Children=Ge,Ue.Component=S,Ue.Fragment=r,Ue.Profiler=i,Ue.PureComponent=O,Ue.StrictMode=n,Ue.Suspense=c,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Ue.cache=function(G){return function(){return G.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var _e=w({},G.props),Oe=G.key;if(ee!=null)for(He in ee.key!==void 0&&(Oe=""+ee.key),ee)!N.call(ee,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ee.ref===void 0||(_e[He]=ee[He]);var He=arguments.length-2;if(He===1)_e.children=ye;else if(1<He){for(var et=Array(He),dr=0;dr<He;dr++)et[dr]=arguments[dr+2];_e.children=et}return k(G.type,Oe,_e)},Ue.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Ue.createElement=function(G,ee,ye){var _e,Oe={},He=null;if(ee!=null)for(_e in ee.key!==void 0&&(He=""+ee.key),ee)N.call(ee,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Oe[_e]=ee[_e]);var et=arguments.length-2;if(et===1)Oe.children=ye;else if(1<et){for(var dr=Array(et),pe=0;pe<et;pe++)dr[pe]=arguments[pe+2];Oe.children=dr}if(G&&G.defaultProps)for(_e in et=G.defaultProps,et)Oe[_e]===void 0&&(Oe[_e]=et[_e]);return k(G,He,Oe)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(G){return{$$typeof:l,render:G}},Ue.isValidElement=z,Ue.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:me}},Ue.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Ue.startTransition=function(G){var ee=D.T,ye={};D.T=ye;try{var _e=G(),Oe=D.S;Oe!==null&&Oe(ye,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(B,Se)}catch(He){Se(He)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),D.T=ee}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(G){return D.H.use(G)},Ue.useActionState=function(G,ee,ye){return D.H.useActionState(G,ee,ye)},Ue.useCallback=function(G,ee){return D.H.useCallback(G,ee)},Ue.useContext=function(G){return D.H.useContext(G)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(G,ee){return D.H.useDeferredValue(G,ee)},Ue.useEffect=function(G,ee){return D.H.useEffect(G,ee)},Ue.useEffectEvent=function(G){return D.H.useEffectEvent(G)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(G,ee,ye){return D.H.useImperativeHandle(G,ee,ye)},Ue.useInsertionEffect=function(G,ee){return D.H.useInsertionEffect(G,ee)},Ue.useLayoutEffect=function(G,ee){return D.H.useLayoutEffect(G,ee)},Ue.useMemo=function(G,ee){return D.H.useMemo(G,ee)},Ue.useOptimistic=function(G,ee){return D.H.useOptimistic(G,ee)},Ue.useReducer=function(G,ee,ye){return D.H.useReducer(G,ee,ye)},Ue.useRef=function(G){return D.H.useRef(G)},Ue.useState=function(G){return D.H.useState(G)},Ue.useSyncExternalStore=function(G,ee,ye){return D.H.useSyncExternalStore(G,ee,ye)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.2.0",Ue}var H3;function yf(){return H3||(H3=1,v2.exports=Vj()),v2.exports}var C=yf();const kn=co(C),Fj=Lj({__proto__:null,default:kn},[C]);var m2={exports:{}},qd={},y2={exports:{}},x2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function Uj(){return $3||($3=1,(function(t){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var Se=me-1>>>1,Ge=Y[Se];if(0<i(Ge,se))Y[Se]=se,Y[me]=Ge,me=Se;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var Se=0,Ge=Y.length,G=Ge>>>1;Se<G;){var ee=2*(Se+1)-1,ye=Y[ee],_e=ee+1,Oe=Y[_e];if(0>i(ye,me))_e<Ge&&0>i(Oe,ye)?(Y[Se]=Oe,Y[_e]=me,Se=_e):(Y[Se]=ye,Y[ee]=me,Se=ee);else if(_e<Ge&&0>i(Oe,me))Y[Se]=Oe,Y[_e]=me,Se=_e;else break e}}return se}function i(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,v=3,m=!1,_=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=Y)n(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=r(f)}}function L(Y){if(w=!1,M(Y),!_)if(r(c)!==null)_=!0,B||(B=!0,H());else{var se=r(f);se!==null&&be(L,se.startTime-Y)}}var B=!1,D=-1,N=5,k=-1;function V(){return E?!0:!(t.unstable_now()-k<N)}function z(){if(E=!1,B){var Y=t.unstable_now();k=Y;var se=!0;try{e:{_=!1,w&&(w=!1,I(D),D=-1),m=!0;var me=v;try{t:{for(M(Y),p=r(c);p!==null&&!(p.expirationTime>Y&&V());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,v=p.priorityLevel;var Ge=Se(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ge=="function"){p.callback=Ge,M(Y),se=!0;break t}p===r(c)&&n(c),M(Y)}else n(c);p=r(c)}if(p!==null)se=!0;else{var G=r(f);G!==null&&be(L,G.startTime-Y),se=!1}}break e}finally{p=null,v=me,m=!1}se=void 0}}finally{se?H():B=!1}}}var H;if(typeof O=="function")H=function(){O(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=z,H=function(){he.postMessage(null)}}else H=function(){S(z,0)};function be(Y,se){D=S(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var me=v;v=se;try{return Y()}finally{v=me}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=v;v=Y;try{return se()}finally{v=me}},t.unstable_scheduleCallback=function(Y,se,me){var Se=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Se+me:Se):me=Se,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:h++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>Se?(Y.sortIndex=me,e(f,Y),r(c)===null&&Y===r(f)&&(w?(I(D),D=-1):w=!0,be(L,me-Se))):(Y.sortIndex=Ge,e(c,Y),_||m||(_=!0,B||(B=!0,H()))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var se=v;return function(){var me=v;v=se;try{return Y.apply(this,arguments)}finally{v=me}}}})(x2)),x2}var q3;function zj(){return q3||(q3=1,y2.exports=Uj()),y2.exports}var _2={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3;function Hj(){if(G3)return In;G3=1;var t=yf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,In.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},In.flushSync=function(c){var f=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=f,n.p=h,n.d.f()}},In.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},In.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},In.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):h==="script"&&n.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},In.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},In.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);n.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},In.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},In.requestFormReset=function(c){n.d.r(c)},In.unstable_batchedUpdates=function(c,f){return c(f)},In.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},In.useFormStatus=function(){return o.H.useHostTransitionStatus()},In.version="19.2.0",In}var K3;function wP(){if(K3)return _2.exports;K3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_2.exports=Hj(),_2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3;function $j(){if(W3)return qd;W3=1;var t=zj(),e=yf(),r=wP();function n(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(n(188));return u!==s?null:s}for(var d=s,g=u;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return c(x),s;if(b===g)return c(x),u;b=b.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=b;else{for(var R=!1,j=x.child;j;){if(j===d){R=!0,d=x,g=b;break}if(j===g){R=!0,g=x,d=b;break}j=j.sibling}if(!R){for(j=b.child;j;){if(j===d){R=!0,d=b,g=x;break}if(j===g){R=!0,g=b,d=x;break}j=j.sibling}if(!R)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case O:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case M:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return u=s.displayName||null,u!==null?u:he(s.type)||"Memo";case N:u=s._payload,s=s._init;try{return he(s(u))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Se=[],Ge=-1;function G(s){return{current:s}}function ee(s){0>Ge||(s.current=Se[Ge],Se[Ge]=null,Ge--)}function ye(s,u){Ge++,Se[Ge]=s.current,s.current=u}var _e=G(null),Oe=G(null),He=G(null),et=G(null);function dr(s,u){switch(ye(He,u),ye(Oe,s),ye(_e,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?u3(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=u3(u),s=c3(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(_e),ye(_e,s)}function pe(){ee(_e),ee(Oe),ee(He)}function Fe(s){s.memoizedState!==null&&ye(et,s);var u=_e.current,d=c3(u,s.type);u!==d&&(ye(Oe,s),ye(_e,d))}function We(s){Oe.current===s&&(ee(_e),ee(Oe)),et.current===s&&(ee(et),Fd._currentValue=me)}var de,hr;function Qe(s){if(de===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);de=u&&u[1]||"",hr=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+hr}var Br=!1;function pr(s,u){if(!s||Br)return"";Br=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var te=ie}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ie){te=ie}s.call(ce.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),R=b[0],j=b[1];if(R&&j){var q=R.split(`
`),J=j.split(`
`);for(x=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(g===q.length||x===J.length)for(g=q.length-1,x=J.length-1;1<=g&&0<=x&&q[g]!==J[x];)x--;for(;1<=g&&0<=x;g--,x--)if(q[g]!==J[x]){if(g!==1||x!==1)do if(g--,x--,0>x||q[g]!==J[x]){var oe=`
`+q[g].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=g&&0<=x);break}}}finally{Br=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Qe(d):""}function ci(s,u){switch(s.tag){case 26:case 27:case 5:return Qe(s.type);case 16:return Qe("Lazy");case 13:return s.child!==u&&u!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return pr(s.type,!1);case 11:return pr(s.type.render,!1);case 1:return pr(s.type,!0);case 31:return Qe("Activity");default:return""}}function us(s){try{var u="",d=null;do u+=ci(s,d),d=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Er=Object.prototype.hasOwnProperty,Vr=t.unstable_scheduleCallback,cs=t.unstable_cancelCallback,mm=t.unstable_shouldYield,T0=t.unstable_requestPaint,Vn=t.unstable_now,Pl=t.unstable_getCurrentPriorityLevel,Hf=t.unstable_ImmediatePriority,$f=t.unstable_UserBlockingPriority,fs=t.unstable_NormalPriority,ym=t.unstable_LowPriority,C0=t.unstable_IdlePriority,I0=t.log,O0=t.unstable_setDisableYieldValue,sa=null,fn=null;function Ni(s){if(typeof I0=="function"&&O0(s),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(sa,s)}catch{}}var gr=Math.clz32?Math.clz32:P0,R0=Math.log,Xu=Math.LN2;function P0(s){return s>>>=0,s===0?32:31-(R0(s)/Xu|0)|0}var Oa=256,Dl=262144,Ar=4194304;function Ra(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pa(s,u,d){var g=s.pendingLanes;if(g===0)return 0;var x=0,b=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var j=g&134217727;return j!==0?(g=j&~b,g!==0?x=Ra(g):(R&=j,R!==0?x=Ra(R):d||(d=j&~s,d!==0&&(x=Ra(d))))):(j=g&~b,j!==0?x=Ra(j):R!==0?x=Ra(R):d||(d=g&~s,d!==0&&(x=Ra(d)))),x===0?0:u!==0&&u!==x&&(u&b)===0&&(b=x&-x,d=u&-u,b>=d||b===32&&(d&4194048)!==0)?u:x}function la(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function xm(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D0(){var s=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),s}function Da(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function Nl(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _m(s,u,d,g,x,b){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var j=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(d=R&~d;0<d;){var oe=31-gr(d),ce=1<<oe;j[oe]=0,q[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var ie=te[oe];ie!==null&&(ie.lane&=-536870913)}d&=~ce}g!==0&&Ml(s,g,0),b!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=b&~(R&~u))}function Ml(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-gr(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function qf(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-gr(d),x=1<<g;x&u|s[g]&u&&(s[g]|=u),d&=~x}}function Gf(s,u){var d=u&-u;return d=(d&42)!==0?1:kl(d),(d&(s.suspendedLanes|u))!==0?0:d}function kl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function po(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function N0(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:N3(s.type))}function ua(s,u){var d=se.p;try{return se.p=s,u()}finally{se.p=d}}var ca=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ca,Zr="__reactProps$"+ca,Na="__reactContainer$"+ca,Yu="__reactEvents$"+ca,bm="__reactListeners$"+ca,M0="__reactHandles$"+ca,k0="__reactResources$"+ca,Ma="__reactMarker$"+ca;function Qu(s){delete s[Sr],delete s[Zr],delete s[Yu],delete s[bm],delete s[M0]}function ka(s){var u=s[Sr];if(u)return u;for(var d=s.parentNode;d;){if(u=d[Na]||d[Sr]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=m3(s);s!==null;){if(d=s[Sr])return d;s=m3(s)}return u}s=d,d=s.parentNode}return null}function Mi(s){if(s=s[Sr]||s[Na]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function fi(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(n(33))}function La(s){var u=s[k0];return u||(u=s[k0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Tr(s){s[Ma]=!0}var Kf=new Set,Wf={};function ja(s,u){Ba(s,u),Ba(s+"Capture",u)}function Ba(s,u){for(Wf[s]=u,s=0;s<u.length;s++)Kf.add(u[s])}var Xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Qf={};function L0(s){return Er.call(Qf,s)?!0:Er.call(Yf,s)?!1:Xf.test(s)?Qf[s]=!0:(Yf[s]=!0,!1)}function Zu(s,u,d){if(L0(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function di(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function Cr(s,u,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+g)}}function Jr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ds(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Zf(s,u,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,b=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return x.call(this)},set:function(R){d=""+R,b.call(this,R)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Tt(s){if(!s._valueTracker){var u=ds(s)?"checked":"value";s._valueTracker=Zf(s,u,""+s[u])}}function Ll(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=ds(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function Va(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jl=/[\n"\\]/g;function Kn(s){return s.replace(jl,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ju(s,u,d,g,x,b,R,j){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),u!=null?R==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+Jr(u)):s.value!==""+Jr(u)&&(s.value=""+Jr(u)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),u!=null?Jf(s,R,Jr(u)):d!=null?Jf(s,R,Jr(d)):g!=null&&s.removeAttribute("value"),x==null&&b!=null&&(s.defaultChecked=!!b),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Jr(j):s.removeAttribute("name")}function j0(s,u,d,g,x,b,R,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),u!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||u!=null)){Tt(s);return}d=d!=null?""+Jr(d):"",u=u!=null?""+Jr(u):d,j||u===s.value||(s.value=u),s.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=j?s.checked:!!g,s.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Tt(s)}function Jf(s,u,d){u==="number"&&Va(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function hs(s,u,d,g){if(s=s.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=u.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Jr(d),u=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}u!==null||s[x].disabled||(u=s[x])}u!==null&&(u.selected=!0)}}function B0(s,u,d){if(u!=null&&(u=""+Jr(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+Jr(d):""}function ps(s,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(n(92));if(be(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=Jr(u),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Tt(s)}function Wn(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var V0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(s,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,d):typeof d!="number"||d===0||V0.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function td(s,u,d){if(u!=null&&typeof u!="object")throw Error(n(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&d[x]!==g&&ed(s,x,g)}else for(var b in u)u.hasOwnProperty(b)&&ed(s,b,u[b])}function ec(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tc(s){return gs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fa(){}var rd=null;function ki(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vs=null,Fa=null;function Bl(s){var u=Mi(s);if(u&&(s=u.stateNode)){var d=s[Zr]||null;e:switch(s=u.stateNode,u.type){case"input":if(Ju(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Kn(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var x=g[Zr]||null;if(!x)throw Error(n(90));Ju(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===s.form&&Ll(g)}break e;case"textarea":B0(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&hs(s,!!d.multiple,u,!1)}}}var rc=!1;function ms(s,u,d){if(rc)return s(u,d);rc=!0;try{var g=s(u);return g}finally{if(rc=!1,(vs!==null||Fa!==null)&&(Np(),vs&&(u=vs,s=Fa,Fa=vs=null,Bl(u),s)))for(u=0;u<s.length;u++)Bl(s[u])}}function da(s,u){var d=s.stateNode;if(d===null)return null;var g=d[Zr]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(Li)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Vl=!1}var Ua=null,nd=null,Fl=null;function id(){if(Fl)return Fl;var s,u=nd,d=u.length,g,x="value"in Ua?Ua.value:Ua.textContent,b=x.length;for(s=0;s<d&&u[s]===x[s];s++);var R=d-s;for(g=1;g<=R&&u[d-g]===x[b-g];g++);return Fl=x.slice(s,1<g?1-g:void 0)}function Ul(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function go(){return!0}function ha(){return!1}function dn(s){function u(d,g,x,b,R){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(d=s[j],this[j]=d?d(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?go:ha,this.isPropagationStopped=ha,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),u}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=dn(vo),ys=p({},vo,{view:0,detail:0}),ad=dn(ys),xs,nc,Ha,ic=p({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ha&&(Ha&&s.type==="mousemove"?(xs=s.screenX-Ha.screenX,nc=s.screenY-Ha.screenY):nc=xs=0,Ha=s),xs)},movementY:function(s){return"movementY"in s?s.movementY:nc}}),od=dn(ic),zl=p({},ic,{dataTransfer:0}),U0=dn(zl),z0=p({},ys,{relatedTarget:0}),Hl=dn(z0),sd=p({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=dn(sd),ac=p({},vo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$0=dn(ac),q0=p({},vo,{data:0}),$a=dn(q0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=W0[s])?!!u[s]:!1}function _s(){return X0}var Fn=p({},ys,{key:function(s){if(s.key){var u=G0[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Ul(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(s){return s.type==="keypress"?Ul(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ul(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Y0=dn(Fn),Q0=p({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=dn(Q0),y=p({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),T=dn(y),P=p({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=dn(P),X=p({},ic,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=dn(X),ge=p({},vo,{newState:0,oldState:0}),$e=dn(ge),vr=[9,13,27,32],yt=Li&&"CompositionEvent"in window,Zt=null;Li&&"documentMode"in document&&(Zt=document.documentMode);var ji=Li&&"TextEvent"in window&&!Zt,qa=Li&&(!yt||Zt&&8<Zt&&11>=Zt),pa=" ",ga=!1;function $l(s,u){switch(s){case"keyup":return vr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sc=!1;function oL(s,u){switch(s){case"compositionend":return oc(u);case"keypress":return u.which!==32?null:(ga=!0,pa);case"textInput":return s=u.data,s===pa&&ga?null:s;default:return null}}function sL(s,u){if(sc)return s==="compositionend"||!yt&&$l(s,u)?(s=id(),Fl=nd=Ua=null,sc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return qa&&u.locale!=="ko"?null:u.data;default:return null}}var lL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _S(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!lL[s.type]:u==="textarea"}function bS(s,u,d,g){vs?Fa?Fa.push(g):Fa=[g]:vs=g,u=Fp(u,"onChange"),0<u.length&&(d=new za("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var ld=null,ud=null;function uL(s){n3(s,0)}function Z0(s){var u=fi(s);if(Ll(u))return s}function wS(s,u){if(s==="change")return u}var ES=!1;if(Li){var wm;if(Li){var Em="oninput"in document;if(!Em){var AS=document.createElement("div");AS.setAttribute("oninput","return;"),Em=typeof AS.oninput=="function"}wm=Em}else wm=!1;ES=wm&&(!document.documentMode||9<document.documentMode)}function SS(){ld&&(ld.detachEvent("onpropertychange",TS),ud=ld=null)}function TS(s){if(s.propertyName==="value"&&Z0(ud)){var u=[];bS(u,ud,s,ki(s)),ms(uL,u)}}function cL(s,u,d){s==="focusin"?(SS(),ld=u,ud=d,ld.attachEvent("onpropertychange",TS)):s==="focusout"&&SS()}function fL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Z0(ud)}function dL(s,u){if(s==="click")return Z0(u)}function hL(s,u){if(s==="input"||s==="change")return Z0(u)}function pL(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var hi=typeof Object.is=="function"?Object.is:pL;function cd(s,u){if(hi(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!Er.call(u,x)||!hi(s[x],u[x]))return!1}return!0}function CS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function IS(s,u){var d=CS(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=CS(d)}}function OS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?OS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function RS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Va(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Va(s.document)}return u}function Am(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var gL=Li&&"documentMode"in document&&11>=document.documentMode,lc=null,Sm=null,fd=null,Tm=!1;function PS(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Tm||lc==null||lc!==Va(g)||(g=lc,"selectionStart"in g&&Am(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fd&&cd(fd,g)||(fd=g,g=Fp(Sm,"onSelect"),0<g.length&&(u=new za("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=lc)))}function ql(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var uc={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},Cm={},DS={};Li&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function Gl(s){if(Cm[s])return Cm[s];if(!uc[s])return s;var u=uc[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in DS)return Cm[s]=u[d];return s}var NS=Gl("animationend"),MS=Gl("animationiteration"),kS=Gl("animationstart"),vL=Gl("transitionrun"),mL=Gl("transitionstart"),yL=Gl("transitioncancel"),LS=Gl("transitionend"),jS=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function va(s,u){jS.set(s,u),ja(u,[s])}var J0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Bi=[],cc=0,Om=0;function ep(){for(var s=cc,u=Om=cc=0;u<s;){var d=Bi[u];Bi[u++]=null;var g=Bi[u];Bi[u++]=null;var x=Bi[u];Bi[u++]=null;var b=Bi[u];if(Bi[u++]=null,g!==null&&x!==null){var R=g.pending;R===null?x.next=x:(x.next=R.next,R.next=x),g.pending=x}b!==0&&BS(d,x,b)}}function tp(s,u,d,g){Bi[cc++]=s,Bi[cc++]=u,Bi[cc++]=d,Bi[cc++]=g,Om|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Rm(s,u,d,g){return tp(s,u,d,g),rp(s)}function Kl(s,u){return tp(s,null,null,u),rp(s)}function BS(s,u,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var x=!1,b=s.return;b!==null;)b.childLanes|=d,g=b.alternate,g!==null&&(g.childLanes|=d),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(x=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,x&&u!==null&&(x=31-gr(d),s=b.hiddenUpdates,g=s[x],g===null?s[x]=[u]:g.push(u),u.lane=d|536870912),b):null}function rp(s){if(50<Nd)throw Nd=0,Vy=null,Error(n(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var fc={};function xL(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(s,u,d,g){return new xL(s,u,d,g)}function Pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yo(s,u){var d=s.alternate;return d===null?(d=pi(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function VS(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function np(s,u,d,g,x,b){var R=0;if(g=s,typeof s=="function")Pm(s)&&(R=1);else if(typeof s=="string")R=Aj(s,d,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=pi(31,d,u,x),s.elementType=k,s.lanes=b,s;case w:return Wl(d.children,x,b,u);case E:R=8,x|=24;break;case S:return s=pi(12,d,u,x|2),s.elementType=S,s.lanes=b,s;case L:return s=pi(13,d,u,x),s.elementType=L,s.lanes=b,s;case B:return s=pi(19,d,u,x),s.elementType=B,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:R=10;break e;case I:R=9;break e;case M:R=11;break e;case D:R=14;break e;case N:R=16,g=null;break e}R=29,d=Error(n(130,s===null?"null":typeof s,"")),g=null}return u=pi(R,d,u,x),u.elementType=s,u.type=g,u.lanes=b,u}function Wl(s,u,d,g){return s=pi(7,s,g,u),s.lanes=d,s}function Dm(s,u,d){return s=pi(6,s,null,u),s.lanes=d,s}function FS(s){var u=pi(18,null,null,0);return u.stateNode=s,u}function Nm(s,u,d){return u=pi(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var US=new WeakMap;function Vi(s,u){if(typeof s=="object"&&s!==null){var d=US.get(s);return d!==void 0?d:(u={value:s,source:u,stack:us(u)},US.set(s,u),u)}return{value:s,source:u,stack:us(u)}}var dc=[],hc=0,ip=null,dd=0,Fi=[],Ui=0,bs=null,Ga=1,Ka="";function xo(s,u){dc[hc++]=dd,dc[hc++]=ip,ip=s,dd=u}function zS(s,u,d){Fi[Ui++]=Ga,Fi[Ui++]=Ka,Fi[Ui++]=bs,bs=s;var g=Ga;s=Ka;var x=32-gr(g)-1;g&=~(1<<x),d+=1;var b=32-gr(u)+x;if(30<b){var R=x-x%5;b=(g&(1<<R)-1).toString(32),g>>=R,x-=R,Ga=1<<32-gr(u)+x|d<<x|g,Ka=b+s}else Ga=1<<b|d<<x|g,Ka=s}function Mm(s){s.return!==null&&(xo(s,1),zS(s,1,0))}function km(s){for(;s===ip;)ip=dc[--hc],dc[hc]=null,dd=dc[--hc],dc[hc]=null;for(;s===bs;)bs=Fi[--Ui],Fi[Ui]=null,Ka=Fi[--Ui],Fi[Ui]=null,Ga=Fi[--Ui],Fi[Ui]=null}function HS(s,u){Fi[Ui++]=Ga,Fi[Ui++]=Ka,Fi[Ui++]=bs,Ga=u.id,Ka=u.overflow,bs=s}var hn=null,Gt=null,ot=!1,ws=null,zi=!1,Lm=Error(n(519));function Es(s){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hd(Vi(u,s)),Lm}function $S(s){var u=s.stateNode,d=s.type,g=s.memoizedProps;switch(u[Sr]=s,u[Zr]=g,d){case"dialog":Je("cancel",u),Je("close",u);break;case"iframe":case"object":case"embed":Je("load",u);break;case"video":case"audio":for(d=0;d<kd.length;d++)Je(kd[d],u);break;case"source":Je("error",u);break;case"img":case"image":case"link":Je("error",u),Je("load",u);break;case"details":Je("toggle",u);break;case"input":Je("invalid",u),j0(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Je("invalid",u);break;case"textarea":Je("invalid",u),ps(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||s3(u.textContent,d)?(g.popover!=null&&(Je("beforetoggle",u),Je("toggle",u)),g.onScroll!=null&&Je("scroll",u),g.onScrollEnd!=null&&Je("scrollend",u),g.onClick!=null&&(u.onclick=fa),u=!0):u=!1,u||Es(s,!0)}function qS(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 31:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:hn=hn.return}}function pc(s){if(s!==hn)return!1;if(!ot)return qS(s),ot=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||e2(s.type,s.memoizedProps)),d=!d),d&&Gt&&Es(s),qS(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=v3(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=v3(s)}else u===27?(u=Gt,js(s.type)?(s=a2,a2=null,Gt=s):Gt=u):Gt=hn?$i(s.stateNode.nextSibling):null;return!0}function Xl(){Gt=hn=null,ot=!1}function jm(){var s=ws;return s!==null&&(Zn===null?Zn=s:Zn.push.apply(Zn,s),ws=null),s}function hd(s){ws===null?ws=[s]:ws.push(s)}var Bm=G(null),Yl=null,_o=null;function As(s,u,d){ye(Bm,u._currentValue),u._currentValue=d}function bo(s){s._currentValue=Bm.current,ee(Bm)}function Vm(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function Fm(s,u,d,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var b=x.dependencies;if(b!==null){var R=x.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=x;for(var q=0;q<u.length;q++)if(j.context===u[q]){b.lanes|=d,j=b.alternate,j!==null&&(j.lanes|=d),Vm(b.return,d,s),g||(R=null);break e}b=j.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(n(341));R.lanes|=d,b=R.alternate,b!==null&&(b.lanes|=d),Vm(R,d,s),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===s){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function gc(s,u,d,g){s=null;for(var x=u,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(n(387));if(R=R.memoizedProps,R!==null){var j=x.type;hi(x.pendingProps.value,R.value)||(s!==null?s.push(j):s=[j])}}else if(x===et.current){if(R=x.alternate,R===null)throw Error(n(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(Fd):s=[Fd])}x=x.return}s!==null&&Fm(u,s,d,g),u.flags|=262144}function ap(s){for(s=s.firstContext;s!==null;){if(!hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ql(s){Yl=s,_o=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pn(s){return GS(Yl,s)}function op(s,u){return Yl===null&&Ql(s),GS(s,u)}function GS(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},_o===null){if(s===null)throw Error(n(308));_o=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else _o=_o.next=u;return d}var _L=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},bL=t.unstable_scheduleCallback,wL=t.unstable_NormalPriority,Ir={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new _L,data:new Map,refCount:0}}function pd(s){s.refCount--,s.refCount===0&&bL(wL,function(){s.controller.abort()})}var gd=null,zm=0,vc=0,mc=null;function EL(s,u){if(gd===null){var d=gd=[];zm=0,vc=qy(),mc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return zm++,u.then(KS,KS),u}function KS(){if(--zm===0&&gd!==null){mc!==null&&(mc.status="fulfilled");var s=gd;gd=null,vc=0,mc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function AL(s,u){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var WS=Y.S;Y.S=function(s,u){PC=Vn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&EL(s,u),WS!==null&&WS(s,u)};var Zl=G(null);function Hm(){var s=Zl.current;return s!==null?s:Ft.pooledCache}function sp(s,u){u===null?ye(Zl,Zl.current):ye(Zl,u.pool)}function XS(){var s=Hm();return s===null?null:{parent:Ir._currentValue,pool:s}}var yc=Error(n(460)),$m=Error(n(474)),lp=Error(n(542)),up={then:function(){}};function YS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function QS(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(fa,fa),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,JS(s),s;default:if(typeof u.status=="string")u.then(fa,fa);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,JS(s),s}throw eu=u,yc}}function Jl(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(eu=d,yc):d}}var eu=null;function ZS(){if(eu===null)throw Error(n(459));var s=eu;return eu=null,s}function JS(s){if(s===yc||s===lp)throw Error(n(483))}var xc=null,vd=0;function cp(s){var u=vd;return vd+=1,xc===null&&(xc=[]),QS(xc,s,u)}function md(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function fp(s,u){throw u.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function eT(s){function u(W,K){if(s){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function d(W,K){if(!s)return null;for(;K!==null;)u(W,K),K=K.sibling;return null}function g(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(W,K){return W=yo(W,K),W.index=0,W.sibling=null,W}function b(W,K,Z){return W.index=Z,s?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function R(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function j(W,K,Z,le){return K===null||K.tag!==6?(K=Dm(Z,W.mode,le),K.return=W,K):(K=x(K,Z),K.return=W,K)}function q(W,K,Z,le){var Pe=Z.type;return Pe===w?oe(W,K,Z.props.children,le,Z.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&Jl(Pe)===K.type)?(K=x(K,Z.props),md(K,Z),K.return=W,K):(K=np(Z.type,Z.key,Z.props,null,W.mode,le),md(K,Z),K.return=W,K)}function J(W,K,Z,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Nm(Z,W.mode,le),K.return=W,K):(K=x(K,Z.children||[]),K.return=W,K)}function oe(W,K,Z,le,Pe){return K===null||K.tag!==7?(K=Wl(Z,W.mode,le,Pe),K.return=W,K):(K=x(K,Z),K.return=W,K)}function ce(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Dm(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return Z=np(K.type,K.key,K.props,null,W.mode,Z),md(Z,K),Z.return=W,Z;case _:return K=Nm(K,W.mode,Z),K.return=W,K;case N:return K=Jl(K),ce(W,K,Z)}if(be(K)||H(K))return K=Wl(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return ce(W,cp(K),Z);if(K.$$typeof===O)return ce(W,op(W,K),Z);fp(W,K)}return null}function te(W,K,Z,le){var Pe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:j(W,K,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Pe?q(W,K,Z,le):null;case _:return Z.key===Pe?J(W,K,Z,le):null;case N:return Z=Jl(Z),te(W,K,Z,le)}if(be(Z)||H(Z))return Pe!==null?null:oe(W,K,Z,le,null);if(typeof Z.then=="function")return te(W,K,cp(Z),le);if(Z.$$typeof===O)return te(W,K,op(W,Z),le);fp(W,Z)}return null}function ie(W,K,Z,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(Z)||null,j(K,W,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return W=W.get(le.key===null?Z:le.key)||null,q(K,W,le,Pe);case _:return W=W.get(le.key===null?Z:le.key)||null,J(K,W,le,Pe);case N:return le=Jl(le),ie(W,K,Z,le,Pe)}if(be(le)||H(le))return W=W.get(Z)||null,oe(K,W,le,Pe,null);if(typeof le.then=="function")return ie(W,K,Z,cp(le),Pe);if(le.$$typeof===O)return ie(W,K,Z,op(K,le),Pe);fp(K,le)}return null}function Ae(W,K,Z,le){for(var Pe=null,dt=null,Ie=K,Ke=K=0,rt=null;Ie!==null&&Ke<Z.length;Ke++){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var ht=te(W,Ie,Z[Ke],le);if(ht===null){Ie===null&&(Ie=rt);break}s&&Ie&&ht.alternate===null&&u(W,Ie),K=b(ht,K,Ke),dt===null?Pe=ht:dt.sibling=ht,dt=ht,Ie=rt}if(Ke===Z.length)return d(W,Ie),ot&&xo(W,Ke),Pe;if(Ie===null){for(;Ke<Z.length;Ke++)Ie=ce(W,Z[Ke],le),Ie!==null&&(K=b(Ie,K,Ke),dt===null?Pe=Ie:dt.sibling=Ie,dt=Ie);return ot&&xo(W,Ke),Pe}for(Ie=g(Ie);Ke<Z.length;Ke++)rt=ie(Ie,W,Ke,Z[Ke],le),rt!==null&&(s&&rt.alternate!==null&&Ie.delete(rt.key===null?Ke:rt.key),K=b(rt,K,Ke),dt===null?Pe=rt:dt.sibling=rt,dt=rt);return s&&Ie.forEach(function(zs){return u(W,zs)}),ot&&xo(W,Ke),Pe}function ke(W,K,Z,le){if(Z==null)throw Error(n(151));for(var Pe=null,dt=null,Ie=K,Ke=K=0,rt=null,ht=Z.next();Ie!==null&&!ht.done;Ke++,ht=Z.next()){Ie.index>Ke?(rt=Ie,Ie=null):rt=Ie.sibling;var zs=te(W,Ie,ht.value,le);if(zs===null){Ie===null&&(Ie=rt);break}s&&Ie&&zs.alternate===null&&u(W,Ie),K=b(zs,K,Ke),dt===null?Pe=zs:dt.sibling=zs,dt=zs,Ie=rt}if(ht.done)return d(W,Ie),ot&&xo(W,Ke),Pe;if(Ie===null){for(;!ht.done;Ke++,ht=Z.next())ht=ce(W,ht.value,le),ht!==null&&(K=b(ht,K,Ke),dt===null?Pe=ht:dt.sibling=ht,dt=ht);return ot&&xo(W,Ke),Pe}for(Ie=g(Ie);!ht.done;Ke++,ht=Z.next())ht=ie(Ie,W,Ke,ht.value,le),ht!==null&&(s&&ht.alternate!==null&&Ie.delete(ht.key===null?Ke:ht.key),K=b(ht,K,Ke),dt===null?Pe=ht:dt.sibling=ht,dt=ht);return s&&Ie.forEach(function(kj){return u(W,kj)}),ot&&xo(W,Ke),Pe}function Lt(W,K,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Pe=Z.key;K!==null;){if(K.key===Pe){if(Pe=Z.type,Pe===w){if(K.tag===7){d(W,K.sibling),le=x(K,Z.props.children),le.return=W,W=le;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===N&&Jl(Pe)===K.type){d(W,K.sibling),le=x(K,Z.props),md(le,Z),le.return=W,W=le;break e}d(W,K);break}else u(W,K);K=K.sibling}Z.type===w?(le=Wl(Z.props.children,W.mode,le,Z.key),le.return=W,W=le):(le=np(Z.type,Z.key,Z.props,null,W.mode,le),md(le,Z),le.return=W,W=le)}return R(W);case _:e:{for(Pe=Z.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){d(W,K.sibling),le=x(K,Z.children||[]),le.return=W,W=le;break e}else{d(W,K);break}else u(W,K);K=K.sibling}le=Nm(Z,W.mode,le),le.return=W,W=le}return R(W);case N:return Z=Jl(Z),Lt(W,K,Z,le)}if(be(Z))return Ae(W,K,Z,le);if(H(Z)){if(Pe=H(Z),typeof Pe!="function")throw Error(n(150));return Z=Pe.call(Z),ke(W,K,Z,le)}if(typeof Z.then=="function")return Lt(W,K,cp(Z),le);if(Z.$$typeof===O)return Lt(W,K,op(W,Z),le);fp(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(d(W,K.sibling),le=x(K,Z),le.return=W,W=le):(d(W,K),le=Dm(Z,W.mode,le),le.return=W,W=le),R(W)):d(W,K)}return function(W,K,Z,le){try{vd=0;var Pe=Lt(W,K,Z,le);return xc=null,Pe}catch(Ie){if(Ie===yc||Ie===lp)throw Ie;var dt=pi(29,Ie,null,W.mode);return dt.lanes=le,dt.return=W,dt}finally{}}}var tu=eT(!0),tT=eT(!1),Ss=!1;function qm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gm(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ts(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Cs(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(xt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=rp(s),BS(s,null,d),u}return tp(s,g,u,d),rp(s)}function yd(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,qf(s,d)}}function Km(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?x=b=R:b=b.next=R,d=d.next}while(d!==null);b===null?x=b=u:b=b.next=u}else x=b=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var Wm=!1;function xd(){if(Wm){var s=mc;if(s!==null)throw s}}function _d(s,u,d,g){Wm=!1;var x=s.updateQueue;Ss=!1;var b=x.firstBaseUpdate,R=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var q=j,J=q.next;q.next=null,R===null?b=J:R.next=J,R=q;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==R&&(j===null?oe.firstBaseUpdate=J:j.next=J,oe.lastBaseUpdate=q))}if(b!==null){var ce=x.baseState;R=0,oe=J=q=null,j=b;do{var te=j.lane&-536870913,ie=te!==j.lane;if(ie?(tt&te)===te:(g&te)===te){te!==0&&te===vc&&(Wm=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=s,ke=j;te=u;var Lt=d;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){ce=Ae.call(Lt,ce,te);break e}ce=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,te=typeof Ae=="function"?Ae.call(Lt,ce,te):Ae,te==null)break e;ce=p({},ce,te);break e;case 2:Ss=!0}}te=j.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(J=oe=ie,q=ce):oe=oe.next=ie,R|=te;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);oe===null&&(q=ce),x.baseState=q,x.firstBaseUpdate=J,x.lastBaseUpdate=oe,b===null&&(x.shared.lanes=0),Ds|=R,s.lanes=R,s.memoizedState=ce}}function rT(s,u){if(typeof s!="function")throw Error(n(191,s));s.call(u)}function nT(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)rT(d[s],u)}var _c=G(null),dp=G(0);function iT(s,u){s=Ro,ye(dp,s),ye(_c,u),Ro=s|u.baseLanes}function Xm(){ye(dp,Ro),ye(_c,_c.current)}function Ym(){Ro=dp.current,ee(_c),ee(dp)}var gi=G(null),Hi=null;function Is(s){var u=s.alternate;ye(mr,mr.current&1),ye(gi,s),Hi===null&&(u===null||_c.current!==null||u.memoizedState!==null)&&(Hi=s)}function Qm(s){ye(mr,mr.current),ye(gi,s),Hi===null&&(Hi=s)}function aT(s){s.tag===22?(ye(mr,mr.current),ye(gi,s),Hi===null&&(Hi=s)):Os()}function Os(){ye(mr,mr.current),ye(gi,gi.current)}function vi(s){ee(gi),Hi===s&&(Hi=null),ee(mr)}var mr=G(0);function hp(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||n2(d)||i2(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var wo=0,qe=null,Mt=null,Or=null,pp=!1,bc=!1,ru=!1,gp=0,bd=0,wc=null,SL=0;function lr(){throw Error(n(321))}function Zm(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!hi(s[d],u[d]))return!1;return!0}function Jm(s,u,d,g,x,b){return wo=b,qe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=s===null||s.memoizedState===null?zT:py,ru=!1,b=d(g,x),ru=!1,bc&&(b=sT(u,d,g,x)),oT(s),b}function oT(s){Y.H=Ad;var u=Mt!==null&&Mt.next!==null;if(wo=0,Or=Mt=qe=null,pp=!1,bd=0,wc=null,u)throw Error(n(300));s===null||Rr||(s=s.dependencies,s!==null&&ap(s)&&(Rr=!0))}function sT(s,u,d,g){qe=s;var x=0;do{if(bc&&(wc=null),bd=0,bc=!1,25<=x)throw Error(n(301));if(x+=1,Or=Mt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=HT,b=u(d,g)}while(bc);return b}function TL(){var s=Y.H,u=s.useState()[0];return u=typeof u.then=="function"?wd(u):u,s=s.useState()[0],(Mt!==null?Mt.memoizedState:null)!==s&&(qe.flags|=1024),u}function ey(){var s=gp!==0;return gp=0,s}function ty(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function ry(s){if(pp){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}pp=!1}wo=0,Or=Mt=qe=null,bc=!1,bd=gp=0,wc=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?qe.memoizedState=Or=s:Or=Or.next=s,Or}function yr(){if(Mt===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var u=Or===null?qe.memoizedState:Or.next;if(u!==null)Or=u,Mt=s;else{if(s===null)throw qe.alternate===null?Error(n(467)):Error(n(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Or===null?qe.memoizedState=Or=s:Or=Or.next=s}return Or}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wd(s){var u=bd;return bd+=1,wc===null&&(wc=[]),s=QS(wc,s,u),u=qe,(Or===null?u.memoizedState:Or.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?zT:py),s}function mp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wd(s);if(s.$$typeof===O)return pn(s)}throw Error(n(438,String(s)))}function ny(s){var u=null,d=qe.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=vp(),qe.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),g=0;g<s;g++)d[g]=V;return u.index++,d}function Eo(s,u){return typeof u=="function"?u(s):u}function yp(s){var u=yr();return iy(u,Mt,s)}function iy(s,u,d){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var x=s.baseQueue,b=g.pending;if(b!==null){if(x!==null){var R=x.next;x.next=b.next,b.next=R}u.baseQueue=x=b,g.pending=null}if(b=s.baseState,x===null)s.memoizedState=b;else{u=x.next;var j=R=null,q=null,J=u,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(tt&ce)===ce:(wo&ce)===ce){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===vc&&(oe=!0);else if((wo&te)===te){J=J.next,te===vc&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=ce,R=b):q=q.next=ce,qe.lanes|=te,Ds|=te;ce=J.action,ru&&d(b,ce),b=J.hasEagerState?J.eagerState:d(b,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(j=q=te,R=b):q=q.next=te,qe.lanes|=ce,Ds|=ce;J=J.next}while(J!==null&&J!==u);if(q===null?R=b:q.next=j,!hi(b,s.memoizedState)&&(Rr=!0,oe&&(d=mc,d!==null)))throw d;s.memoizedState=b,s.baseState=R,s.baseQueue=q,g.lastRenderedState=b}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function ay(s){var u=yr(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,b=u.memoizedState;if(x!==null){d.pending=null;var R=x=x.next;do b=s(b,R.action),R=R.next;while(R!==x);hi(b,u.memoizedState)||(Rr=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),d.lastRenderedState=b}return[b,g]}function lT(s,u,d){var g=qe,x=yr(),b=ot;if(b){if(d===void 0)throw Error(n(407));d=d()}else d=u();var R=!hi((Mt||x).memoizedState,d);if(R&&(x.memoizedState=d,Rr=!0),x=x.queue,ly(fT.bind(null,g,x,s),[s]),x.getSnapshot!==u||R||Or!==null&&Or.memoizedState.tag&1){if(g.flags|=2048,Ec(9,{destroy:void 0},cT.bind(null,g,x,d,u),null),Ft===null)throw Error(n(349));b||(wo&127)!==0||uT(g,u,d)}return d}function uT(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=qe.updateQueue,u===null?(u=vp(),qe.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function cT(s,u,d,g){u.value=d,u.getSnapshot=g,dT(u)&&hT(s)}function fT(s,u,d){return d(function(){dT(u)&&hT(s)})}function dT(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!hi(s,d)}catch{return!0}}function hT(s){var u=Kl(s,2);u!==null&&Jn(u,s,2)}function oy(s){var u=Un();if(typeof s=="function"){var d=s;if(s=d(),ru){Ni(!0);try{d()}finally{Ni(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:s},u}function pT(s,u,d,g){return s.baseState=d,iy(s,Mt,typeof g=="function"?g:Eo)}function CL(s,u,d,g,x){if(bp(s))throw Error(n(485));if(s=u.action,s!==null){var b={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};Y.T!==null?d(!0):b.isTransition=!1,g(b),d=u.pending,d===null?(b.next=u.pending=b,gT(u,b)):(b.next=d.next,u.pending=d.next=b)}}function gT(s,u){var d=u.action,g=u.payload,x=s.state;if(u.isTransition){var b=Y.T,R={};Y.T=R;try{var j=d(x,g),q=Y.S;q!==null&&q(R,j),vT(s,u,j)}catch(J){sy(s,u,J)}finally{b!==null&&R.types!==null&&(b.types=R.types),Y.T=b}}else try{b=d(x,g),vT(s,u,b)}catch(J){sy(s,u,J)}}function vT(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){mT(s,u,g)},function(g){return sy(s,u,g)}):mT(s,u,d)}function mT(s,u,d){u.status="fulfilled",u.value=d,yT(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,gT(s,d)))}function sy(s,u,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,yT(u),u=u.next;while(u!==g)}s.action=null}function yT(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function xT(s,u){return u}function _T(s,u){if(ot){var d=Ft.formState;if(d!==null){e:{var g=qe;if(ot){if(Gt){t:{for(var x=Gt,b=zi;x.nodeType!==8;){if(!b){x=null;break t}if(x=$i(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Gt=$i(x.nextSibling),g=x.data==="F!";break e}}Es(g)}g=!1}g&&(u=d[0])}}return d=Un(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xT,lastRenderedState:u},d.queue=g,d=VT.bind(null,qe,g),g.dispatch=d,g=oy(!1),b=hy.bind(null,qe,!1,g.queue),g=Un(),x={state:u,dispatch:null,action:s,pending:null},g.queue=x,d=CL.bind(null,qe,x,b,d),x.dispatch=d,g.memoizedState=s,[u,d,!1]}function bT(s){var u=yr();return wT(u,Mt,s)}function wT(s,u,d){if(u=iy(s,u,xT)[0],s=yp(Eo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=wd(u)}catch(R){throw R===yc?lp:R}else g=u;u=yr();var x=u.queue,b=x.dispatch;return d!==u.memoizedState&&(qe.flags|=2048,Ec(9,{destroy:void 0},IL.bind(null,x,d),null)),[g,b,s]}function IL(s,u){s.action=u}function ET(s){var u=yr(),d=Mt;if(d!==null)return wT(u,d,s);yr(),u=u.memoizedState,d=yr();var g=d.queue.dispatch;return d.memoizedState=s,[u,g,!1]}function Ec(s,u,d,g){return s={tag:s,create:d,deps:g,inst:u,next:null},u=qe.updateQueue,u===null&&(u=vp(),qe.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s),s}function AT(){return yr().memoizedState}function xp(s,u,d,g){var x=Un();qe.flags|=s,x.memoizedState=Ec(1|u,{destroy:void 0},d,g===void 0?null:g)}function _p(s,u,d,g){var x=yr();g=g===void 0?null:g;var b=x.memoizedState.inst;Mt!==null&&g!==null&&Zm(g,Mt.memoizedState.deps)?x.memoizedState=Ec(u,b,d,g):(qe.flags|=s,x.memoizedState=Ec(1|u,b,d,g))}function ST(s,u){xp(8390656,8,s,u)}function ly(s,u){_p(2048,8,s,u)}function OL(s){qe.flags|=4;var u=qe.updateQueue;if(u===null)u=vp(),qe.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function TT(s){var u=yr().memoizedState;return OL({ref:u,nextImpl:s}),function(){if((xt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function CT(s,u){return _p(4,2,s,u)}function IT(s,u){return _p(4,4,s,u)}function OT(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function RT(s,u,d){d=d!=null?d.concat([s]):null,_p(4,4,OT.bind(null,u,s),d)}function uy(){}function PT(s,u){var d=yr();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Zm(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function DT(s,u){var d=yr();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Zm(u,g[1]))return g[0];if(g=s(),ru){Ni(!0);try{s()}finally{Ni(!1)}}return d.memoizedState=[g,u],g}function cy(s,u,d){return d===void 0||(wo&1073741824)!==0&&(tt&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=NC(),qe.lanes|=s,Ds|=s,d)}function NT(s,u,d,g){return hi(d,u)?d:_c.current!==null?(s=cy(s,d,g),hi(s,u)||(Rr=!0),s):(wo&42)===0||(wo&1073741824)!==0&&(tt&261930)===0?(Rr=!0,s.memoizedState=d):(s=NC(),qe.lanes|=s,Ds|=s,u)}function MT(s,u,d,g,x){var b=se.p;se.p=b!==0&&8>b?b:8;var R=Y.T,j={};Y.T=j,hy(s,!1,u,d);try{var q=x(),J=Y.S;if(J!==null&&J(j,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=AL(q,g);Ed(s,u,oe,xi(s))}else Ed(s,u,g,xi(s))}catch(ce){Ed(s,u,{then:function(){},status:"rejected",reason:ce},xi())}finally{se.p=b,R!==null&&j.types!==null&&(R.types=j.types),Y.T=R}}function RL(){}function fy(s,u,d,g){if(s.tag!==5)throw Error(n(476));var x=kT(s).queue;MT(s,x,u,me,d===null?RL:function(){return LT(s),d(g)})}function kT(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:me},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function LT(s){var u=kT(s);u.next===null&&(u=s.alternate.memoizedState),Ed(s,u.next.queue,{},xi())}function dy(){return pn(Fd)}function jT(){return yr().memoizedState}function BT(){return yr().memoizedState}function PL(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=xi();s=Ts(d);var g=Cs(u,s,d);g!==null&&(Jn(g,u,d),yd(g,u,d)),u={cache:Um()},s.payload=u;return}u=u.return}}function DL(s,u,d){var g=xi();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bp(s)?FT(u,d):(d=Rm(s,u,d,g),d!==null&&(Jn(d,s,g),UT(d,u,g)))}function VT(s,u,d){var g=xi();Ed(s,u,d,g)}function Ed(s,u,d,g){var x={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(bp(s))FT(u,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var R=u.lastRenderedState,j=b(R,d);if(x.hasEagerState=!0,x.eagerState=j,hi(j,R))return tp(s,u,x,0),Ft===null&&ep(),!1}catch{}finally{}if(d=Rm(s,u,x,g),d!==null)return Jn(d,s,g),UT(d,u,g),!0}return!1}function hy(s,u,d,g){if(g={lane:2,revertLane:qy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},bp(s)){if(u)throw Error(n(479))}else u=Rm(s,d,g,2),u!==null&&Jn(u,s,2)}function bp(s){var u=s.alternate;return s===qe||u!==null&&u===qe}function FT(s,u){bc=pp=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function UT(s,u,d){if((d&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,qf(s,d)}}var Ad={readContext:pn,use:mp,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};Ad.useEffectEvent=lr;var zT={readContext:pn,use:mp,useCallback:function(s,u){return Un().memoizedState=[s,u===void 0?null:u],s},useContext:pn,useEffect:ST,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,xp(4194308,4,OT.bind(null,u,s),d)},useLayoutEffect:function(s,u){return xp(4194308,4,s,u)},useInsertionEffect:function(s,u){xp(4,2,s,u)},useMemo:function(s,u){var d=Un();u=u===void 0?null:u;var g=s();if(ru){Ni(!0);try{s()}finally{Ni(!1)}}return d.memoizedState=[g,u],g},useReducer:function(s,u,d){var g=Un();if(d!==void 0){var x=d(u);if(ru){Ni(!0);try{d(u)}finally{Ni(!1)}}}else x=u;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=DL.bind(null,qe,s),[g.memoizedState,s]},useRef:function(s){var u=Un();return s={current:s},u.memoizedState=s},useState:function(s){s=oy(s);var u=s.queue,d=VT.bind(null,qe,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:uy,useDeferredValue:function(s,u){var d=Un();return cy(d,s,u)},useTransition:function(){var s=oy(!1);return s=MT.bind(null,qe,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var g=qe,x=Un();if(ot){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),Ft===null)throw Error(n(349));(tt&127)!==0||uT(g,u,d)}x.memoizedState=d;var b={value:d,getSnapshot:u};return x.queue=b,ST(fT.bind(null,g,b,s),[s]),g.flags|=2048,Ec(9,{destroy:void 0},cT.bind(null,g,b,d,u),null),d},useId:function(){var s=Un(),u=Ft.identifierPrefix;if(ot){var d=Ka,g=Ga;d=(g&~(1<<32-gr(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=gp++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=SL++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:dy,useFormState:_T,useActionState:_T,useOptimistic:function(s){var u=Un();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=hy.bind(null,qe,!0,d),d.dispatch=u,[s,u]},useMemoCache:ny,useCacheRefresh:function(){return Un().memoizedState=PL.bind(null,qe)},useEffectEvent:function(s){var u=Un(),d={impl:s};return u.memoizedState=d,function(){if((xt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},py={readContext:pn,use:mp,useCallback:PT,useContext:pn,useEffect:ly,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:IT,useMemo:DT,useReducer:yp,useRef:AT,useState:function(){return yp(Eo)},useDebugValue:uy,useDeferredValue:function(s,u){var d=yr();return NT(d,Mt.memoizedState,s,u)},useTransition:function(){var s=yp(Eo)[0],u=yr().memoizedState;return[typeof s=="boolean"?s:wd(s),u]},useSyncExternalStore:lT,useId:jT,useHostTransitionStatus:dy,useFormState:bT,useActionState:bT,useOptimistic:function(s,u){var d=yr();return pT(d,Mt,s,u)},useMemoCache:ny,useCacheRefresh:BT};py.useEffectEvent=TT;var HT={readContext:pn,use:mp,useCallback:PT,useContext:pn,useEffect:ly,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:IT,useMemo:DT,useReducer:ay,useRef:AT,useState:function(){return ay(Eo)},useDebugValue:uy,useDeferredValue:function(s,u){var d=yr();return Mt===null?cy(d,s,u):NT(d,Mt.memoizedState,s,u)},useTransition:function(){var s=ay(Eo)[0],u=yr().memoizedState;return[typeof s=="boolean"?s:wd(s),u]},useSyncExternalStore:lT,useId:jT,useHostTransitionStatus:dy,useFormState:ET,useActionState:ET,useOptimistic:function(s,u){var d=yr();return Mt!==null?pT(d,Mt,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:ny,useCacheRefresh:BT};HT.useEffectEvent=TT;function gy(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var vy={enqueueSetState:function(s,u,d){s=s._reactInternals;var g=xi(),x=Ts(g);x.payload=u,d!=null&&(x.callback=d),u=Cs(s,x,g),u!==null&&(Jn(u,s,g),yd(u,s,g))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=xi(),x=Ts(g);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=Cs(s,x,g),u!==null&&(Jn(u,s,g),yd(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=xi(),g=Ts(d);g.tag=2,u!=null&&(g.callback=u),u=Cs(s,g,d),u!==null&&(Jn(u,s,d),yd(u,s,d))}};function $T(s,u,d,g,x,b,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,b,R):u.prototype&&u.prototype.isPureReactComponent?!cd(d,g)||!cd(x,b):!0}function qT(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&vy.enqueueReplaceState(u,u.state,null)}function nu(s,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var x in s)d[x]===void 0&&(d[x]=s[x])}return d}function GT(s){J0(s)}function KT(s){console.error(s)}function WT(s){J0(s)}function wp(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function XT(s,u,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function my(s,u,d){return d=Ts(d),d.tag=3,d.payload={element:null},d.callback=function(){wp(s,u)},d}function YT(s){return s=Ts(s),s.tag=3,s}function QT(s,u,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var b=g.value;s.payload=function(){return x(b)},s.callback=function(){XT(u,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){XT(u,d,g),typeof x!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function NL(s,u,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&gc(u,d,x,!0),d=gi.current,d!==null){switch(d.tag){case 31:case 13:return Hi===null?Mp():d.alternate===null&&ur===0&&(ur=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===up?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),zy(s,g,x)),!1;case 22:return d.flags|=65536,g===up?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),zy(s,g,x)),!1}throw Error(n(435,d.tag))}return zy(s,g,x),Mp(),!1}if(ot)return u=gi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==Lm&&(s=Error(n(422),{cause:g}),hd(Vi(s,d)))):(g!==Lm&&(u=Error(n(423),{cause:g}),hd(Vi(u,d))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=Vi(g,d),x=my(s.stateNode,g,x),Km(s,x),ur!==4&&(ur=2)),!1;var b=Error(n(520),{cause:g});if(b=Vi(b,d),Dd===null?Dd=[b]:Dd.push(b),ur!==4&&(ur=2),u===null)return!0;g=Vi(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=x&-x,d.lanes|=s,s=my(d.stateNode,g,s),Km(d,s),!1;case 1:if(u=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ns===null||!Ns.has(b))))return d.flags|=65536,x&=-x,d.lanes|=x,x=YT(x),QT(x,s,d,g),Km(d,x),!1}d=d.return}while(d!==null);return!1}var yy=Error(n(461)),Rr=!1;function gn(s,u,d,g){u.child=s===null?tT(u,null,d,g):tu(u,s.child,d,g)}function ZT(s,u,d,g,x){d=d.render;var b=u.ref;if("ref"in g){var R={};for(var j in g)j!=="ref"&&(R[j]=g[j])}else R=g;return Ql(u),g=Jm(s,u,d,R,b,x),j=ey(),s!==null&&!Rr?(ty(s,u,x),Ao(s,u,x)):(ot&&j&&Mm(u),u.flags|=1,gn(s,u,g,x),u.child)}function JT(s,u,d,g,x){if(s===null){var b=d.type;return typeof b=="function"&&!Pm(b)&&b.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=b,eC(s,u,b,g,x)):(s=np(d.type,null,g,u,u.mode,x),s.ref=u.ref,s.return=u,u.child=s)}if(b=s.child,!Ty(s,x)){var R=b.memoizedProps;if(d=d.compare,d=d!==null?d:cd,d(R,g)&&s.ref===u.ref)return Ao(s,u,x)}return u.flags|=1,s=yo(b,g),s.ref=u.ref,s.return=u,u.child=s}function eC(s,u,d,g,x){if(s!==null){var b=s.memoizedProps;if(cd(b,g)&&s.ref===u.ref)if(Rr=!1,u.pendingProps=g=b,Ty(s,x))(s.flags&131072)!==0&&(Rr=!0);else return u.lanes=s.lanes,Ao(s,u,x)}return xy(s,u,d,g,x)}function tC(s,u,d,g){var x=g.children,b=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,s!==null){for(g=u.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~b}else g=0,u.child=null;return rC(s,u,b,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&sp(u,b!==null?b.cachePool:null),b!==null?iT(u,b):Xm(),aT(u);else return g=u.lanes=536870912,rC(s,u,b!==null?b.baseLanes|d:d,d,g)}else b!==null?(sp(u,b.cachePool),iT(u,b),Os(),u.memoizedState=null):(s!==null&&sp(u,null),Xm(),Os());return gn(s,u,x,d),u.child}function Sd(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function rC(s,u,d,g,x){var b=Hm();return b=b===null?null:{parent:Ir._currentValue,pool:b},u.memoizedState={baseLanes:d,cachePool:b},s!==null&&sp(u,null),Xm(),aT(u),s!==null&&gc(s,u,g,!0),u.childLanes=x,null}function Ep(s,u){return u=Sp({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function nC(s,u,d){return tu(u,s.child,null,d),s=Ep(u,u.pendingProps),s.flags|=2,vi(u),u.memoizedState=null,s}function ML(s,u,d){var g=u.pendingProps,x=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(ot){if(g.mode==="hidden")return s=Ep(u,g),u.lanes=536870912,Sd(null,s);if(Qm(u),(s=Gt)?(s=g3(s,zi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:bs!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},d=FS(s),d.return=u,u.child=d,hn=u,Gt=null)):s=null,s===null)throw Es(u);return u.lanes=536870912,null}return Ep(u,g)}var b=s.memoizedState;if(b!==null){var R=b.dehydrated;if(Qm(u),x)if(u.flags&256)u.flags&=-257,u=nC(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(n(558));else if(Rr||gc(s,u,d,!1),x=(d&s.childLanes)!==0,Rr||x){if(g=Ft,g!==null&&(R=Gf(g,d),R!==0&&R!==b.retryLane))throw b.retryLane=R,Kl(s,R),Jn(g,s,R),yy;Mp(),u=nC(s,u,d)}else s=b.treeContext,Gt=$i(R.nextSibling),hn=u,ot=!0,ws=null,zi=!1,s!==null&&HS(u,s),u=Ep(u,g),u.flags|=4096;return u}return s=yo(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function Ap(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function xy(s,u,d,g,x){return Ql(u),d=Jm(s,u,d,g,void 0,x),g=ey(),s!==null&&!Rr?(ty(s,u,x),Ao(s,u,x)):(ot&&g&&Mm(u),u.flags|=1,gn(s,u,d,x),u.child)}function iC(s,u,d,g,x,b){return Ql(u),u.updateQueue=null,d=sT(u,g,d,x),oT(s),g=ey(),s!==null&&!Rr?(ty(s,u,b),Ao(s,u,b)):(ot&&g&&Mm(u),u.flags|=1,gn(s,u,d,b),u.child)}function aC(s,u,d,g,x){if(Ql(u),u.stateNode===null){var b=fc,R=d.contextType;typeof R=="object"&&R!==null&&(b=pn(R)),b=new d(g,b),u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=vy,u.stateNode=b,b._reactInternals=u,b=u.stateNode,b.props=g,b.state=u.memoizedState,b.refs={},qm(u),R=d.contextType,b.context=typeof R=="object"&&R!==null?pn(R):fc,b.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(gy(u,d,R,g),b.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&vy.enqueueReplaceState(b,b.state,null),_d(u,g,b,x),xd(),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){b=u.stateNode;var j=u.memoizedProps,q=nu(d,j);b.props=q;var J=b.context,oe=d.contextType;R=fc,typeof oe=="object"&&oe!==null&&(R=pn(oe));var ce=d.getDerivedStateFromProps;oe=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=u.pendingProps!==j,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||J!==R)&&qT(u,b,g,R),Ss=!1;var te=u.memoizedState;b.state=te,_d(u,g,b,x),xd(),J=u.memoizedState,j||te!==J||Ss?(typeof ce=="function"&&(gy(u,d,ce,g),J=u.memoizedState),(q=Ss||$T(u,d,q,g,te,J,R))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(u.flags|=4194308)):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=J),b.props=g,b.state=J,b.context=R,g=q):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{b=u.stateNode,Gm(s,u),R=u.memoizedProps,oe=nu(d,R),b.props=oe,ce=u.pendingProps,te=b.context,J=d.contextType,q=fc,typeof J=="object"&&J!==null&&(q=pn(J)),j=d.getDerivedStateFromProps,(J=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ce||te!==q)&&qT(u,b,g,q),Ss=!1,te=u.memoizedState,b.state=te,_d(u,g,b,x),xd();var ie=u.memoizedState;R!==ce||te!==ie||Ss||s!==null&&s.dependencies!==null&&ap(s.dependencies)?(typeof j=="function"&&(gy(u,d,j,g),ie=u.memoizedState),(oe=Ss||$T(u,d,oe,g,te,ie,q)||s!==null&&s.dependencies!==null&&ap(s.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,ie,q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,ie,q)),typeof b.componentDidUpdate=="function"&&(u.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),b.props=g,b.state=ie,b.context=q,g=oe):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),g=!1)}return b=g,Ap(s,u),g=(u.flags&128)!==0,b||g?(b=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:b.render(),u.flags|=1,s!==null&&g?(u.child=tu(u,s.child,null,x),u.child=tu(u,null,d,x)):gn(s,u,d,x),u.memoizedState=b.state,s=u.child):s=Ao(s,u,x),s}function oC(s,u,d,g){return Xl(),u.flags|=256,gn(s,u,d,g),u.child}var _y={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function by(s){return{baseLanes:s,cachePool:XS()}}function wy(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=yi),s}function sC(s,u,d){var g=u.pendingProps,x=!1,b=(u.flags&128)!==0,R;if((R=b)||(R=s!==null&&s.memoizedState===null?!1:(mr.current&2)!==0),R&&(x=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,s===null){if(ot){if(x?Is(u):Os(),(s=Gt)?(s=g3(s,zi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:bs!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},d=FS(s),d.return=u,u.child=d,hn=u,Gt=null)):s=null,s===null)throw Es(u);return i2(s)?u.lanes=32:u.lanes=536870912,null}var j=g.children;return g=g.fallback,x?(Os(),x=u.mode,j=Sp({mode:"hidden",children:j},x),g=Wl(g,x,d,null),j.return=u,g.return=u,j.sibling=g,u.child=j,g=u.child,g.memoizedState=by(d),g.childLanes=wy(s,R,d),u.memoizedState=_y,Sd(null,g)):(Is(u),Ey(u,j))}var q=s.memoizedState;if(q!==null&&(j=q.dehydrated,j!==null)){if(b)u.flags&256?(Is(u),u.flags&=-257,u=Ay(s,u,d)):u.memoizedState!==null?(Os(),u.child=s.child,u.flags|=128,u=null):(Os(),j=g.fallback,x=u.mode,g=Sp({mode:"visible",children:g.children},x),j=Wl(j,x,d,null),j.flags|=2,g.return=u,j.return=u,g.sibling=j,u.child=g,tu(u,s.child,null,d),g=u.child,g.memoizedState=by(d),g.childLanes=wy(s,R,d),u.memoizedState=_y,u=Sd(null,g));else if(Is(u),i2(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var J=R.dgst;R=J,g=Error(n(419)),g.stack="",g.digest=R,hd({value:g,source:null,stack:null}),u=Ay(s,u,d)}else if(Rr||gc(s,u,d,!1),R=(d&s.childLanes)!==0,Rr||R){if(R=Ft,R!==null&&(g=Gf(R,d),g!==0&&g!==q.retryLane))throw q.retryLane=g,Kl(s,g),Jn(R,s,g),yy;n2(j)||Mp(),u=Ay(s,u,d)}else n2(j)?(u.flags|=192,u.child=s.child,u=null):(s=q.treeContext,Gt=$i(j.nextSibling),hn=u,ot=!0,ws=null,zi=!1,s!==null&&HS(u,s),u=Ey(u,g.children),u.flags|=4096);return u}return x?(Os(),j=g.fallback,x=u.mode,q=s.child,J=q.sibling,g=yo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?j=yo(J,j):(j=Wl(j,x,d,null),j.flags|=2),j.return=u,g.return=u,g.sibling=j,u.child=g,Sd(null,g),g=u.child,j=s.child.memoizedState,j===null?j=by(d):(x=j.cachePool,x!==null?(q=Ir._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=XS(),j={baseLanes:j.baseLanes|d,cachePool:x}),g.memoizedState=j,g.childLanes=wy(s,R,d),u.memoizedState=_y,Sd(s.child,g)):(Is(u),d=s.child,s=d.sibling,d=yo(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,s!==null&&(R=u.deletions,R===null?(u.deletions=[s],u.flags|=16):R.push(s)),u.child=d,u.memoizedState=null,d)}function Ey(s,u){return u=Sp({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Sp(s,u){return s=pi(22,s,null,u),s.lanes=0,s}function Ay(s,u,d){return tu(u,s.child,null,d),s=Ey(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function lC(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Vm(s.return,u,d)}function Sy(s,u,d,g,x,b){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x,treeForkCount:b}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=x,R.treeForkCount=b)}function uC(s,u,d){var g=u.pendingProps,x=g.revealOrder,b=g.tail;g=g.children;var R=mr.current,j=(R&2)!==0;if(j?(R=R&1|2,u.flags|=128):R&=1,ye(mr,R),gn(s,u,g,d),g=ot?dd:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lC(s,d,u);else if(s.tag===19)lC(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(d=u.child,x=null;d!==null;)s=d.alternate,s!==null&&hp(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),Sy(u,!1,x,d,b,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(s=x.alternate,s!==null&&hp(s)===null){u.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}Sy(u,!0,d,null,b,g);break;case"together":Sy(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Ao(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Ds|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(gc(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,d=yo(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=yo(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function Ty(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&ap(s)))}function kL(s,u,d){switch(u.tag){case 3:dr(u,u.stateNode.containerInfo),As(u,Ir,s.memoizedState.cache),Xl();break;case 27:case 5:Fe(u);break;case 4:dr(u,u.stateNode.containerInfo);break;case 10:As(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Qm(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Is(u),u.flags|=128,null):(d&u.child.childLanes)!==0?sC(s,u,d):(Is(u),s=Ao(s,u,d),s!==null?s.sibling:null);Is(u);break;case 19:var x=(s.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(gc(s,u,d,!1),g=(d&u.childLanes)!==0),x){if(g)return uC(s,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ye(mr,mr.current),g)break;return null;case 22:return u.lanes=0,tC(s,u,d,u.pendingProps);case 24:As(u,Ir,s.memoizedState.cache)}return Ao(s,u,d)}function cC(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)Rr=!0;else{if(!Ty(s,d)&&(u.flags&128)===0)return Rr=!1,kL(s,u,d);Rr=(s.flags&131072)!==0}else Rr=!1,ot&&(u.flags&1048576)!==0&&zS(u,dd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=Jl(u.elementType),u.type=s,typeof s=="function")Pm(s)?(g=nu(s,g),u.tag=1,u=aC(null,u,s,g,d)):(u.tag=0,u=xy(null,u,s,g,d));else{if(s!=null){var x=s.$$typeof;if(x===M){u.tag=11,u=ZT(null,u,s,g,d);break e}else if(x===D){u.tag=14,u=JT(null,u,s,g,d);break e}}throw u=he(s)||s,Error(n(306,u,""))}}return u;case 0:return xy(s,u,u.type,u.pendingProps,d);case 1:return g=u.type,x=nu(g,u.pendingProps),aC(s,u,g,x,d);case 3:e:{if(dr(u,u.stateNode.containerInfo),s===null)throw Error(n(387));g=u.pendingProps;var b=u.memoizedState;x=b.element,Gm(s,u),_d(u,g,null,d);var R=u.memoizedState;if(g=R.cache,As(u,Ir,g),g!==b.cache&&Fm(u,[Ir],d,!0),xd(),g=R.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=oC(s,u,g,d);break e}else if(g!==x){x=Vi(Error(n(424)),u),hd(x),u=oC(s,u,g,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Gt=$i(s.firstChild),hn=u,ot=!0,ws=null,zi=!0,d=tT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Xl(),g===x){u=Ao(s,u,d);break e}gn(s,u,g,d)}u=u.child}return u;case 26:return Ap(s,u),s===null?(d=b3(u.type,null,u.pendingProps,null))?u.memoizedState=d:ot||(d=u.type,s=u.pendingProps,g=Up(He.current).createElement(d),g[Sr]=u,g[Zr]=s,vn(g,d,s),Tr(g),u.stateNode=g):u.memoizedState=b3(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Fe(u),s===null&&ot&&(g=u.stateNode=y3(u.type,u.pendingProps,He.current),hn=u,zi=!0,x=Gt,js(u.type)?(a2=x,Gt=$i(g.firstChild)):Gt=x),gn(s,u,u.pendingProps.children,d),Ap(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&ot&&((x=g=Gt)&&(g=fj(g,u.type,u.pendingProps,zi),g!==null?(u.stateNode=g,hn=u,Gt=$i(g.firstChild),zi=!1,x=!0):x=!1),x||Es(u)),Fe(u),x=u.type,b=u.pendingProps,R=s!==null?s.memoizedProps:null,g=b.children,e2(x,b)?g=null:R!==null&&e2(x,R)&&(u.flags|=32),u.memoizedState!==null&&(x=Jm(s,u,TL,null,null,d),Fd._currentValue=x),Ap(s,u),gn(s,u,g,d),u.child;case 6:return s===null&&ot&&((s=d=Gt)&&(d=dj(d,u.pendingProps,zi),d!==null?(u.stateNode=d,hn=u,Gt=null,s=!0):s=!1),s||Es(u)),null;case 13:return sC(s,u,d);case 4:return dr(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=tu(u,null,g,d):gn(s,u,g,d),u.child;case 11:return ZT(s,u,u.type,u.pendingProps,d);case 7:return gn(s,u,u.pendingProps,d),u.child;case 8:return gn(s,u,u.pendingProps.children,d),u.child;case 12:return gn(s,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,As(u,u.type,g.value),gn(s,u,g.children,d),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,Ql(u),x=pn(x),g=g(x),u.flags|=1,gn(s,u,g,d),u.child;case 14:return JT(s,u,u.type,u.pendingProps,d);case 15:return eC(s,u,u.type,u.pendingProps,d);case 19:return uC(s,u,d);case 31:return ML(s,u,d);case 22:return tC(s,u,d,u.pendingProps);case 24:return Ql(u),g=pn(Ir),s===null?(x=Hm(),x===null&&(x=Ft,b=Um(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=d),x=b),u.memoizedState={parent:g,cache:x},qm(u),As(u,Ir,x)):((s.lanes&d)!==0&&(Gm(s,u),_d(u,null,null,d),xd()),x=s.memoizedState,b=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),As(u,Ir,g)):(g=b.cache,As(u,Ir,g),g!==x.cache&&Fm(u,[Ir],d,!0))),gn(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function So(s){s.flags|=4}function Cy(s,u,d,g,x){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(jC())s.flags|=8192;else throw eu=up,$m}else s.flags&=-16777217}function fC(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!T3(u))if(jC())s.flags|=8192;else throw eu=up,$m}function Tp(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?D0():536870912,s.lanes|=u,Cc|=u)}function Td(s,u){if(!ot)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Kt(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function LL(s,u,d){var g=u.pendingProps;switch(km(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(u),null;case 1:return Kt(u),null;case 3:return d=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),bo(Ir),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(pc(u)?So(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,jm())),Kt(u),null;case 26:var x=u.type,b=u.memoizedState;return s===null?(So(u),b!==null?(Kt(u),fC(u,b)):(Kt(u),Cy(u,x,null,g,d))):b?b!==s.memoizedState?(So(u),Kt(u),fC(u,b)):(Kt(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&So(u),Kt(u),Cy(u,x,s,g,d)),null;case 27:if(We(u),d=He.current,x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&So(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Kt(u),null}s=_e.current,pc(u)?$S(u):(s=y3(x,g,d),u.stateNode=s,So(u))}return Kt(u),null;case 5:if(We(u),x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&So(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return Kt(u),null}if(b=_e.current,pc(u))$S(u);else{var R=Up(He.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?b.multiple=!0:g.size&&(b.size=g.size);break;default:b=typeof g.is=="string"?R.createElement(x,{is:g.is}):R.createElement(x)}}b[Sr]=u,b[Zr]=g;e:for(R=u.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===u)break e;for(;R.sibling===null;){if(R.return===null||R.return===u)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}u.stateNode=b;e:switch(vn(b,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&So(u)}}return Kt(u),Cy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&So(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(s=He.current,pc(u)){if(s=u.stateNode,d=u.memoizedProps,g=null,x=hn,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[Sr]=u,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||s3(s.nodeValue,d)),s||Es(u,!0)}else s=Up(s).createTextNode(g),s[Sr]=u,u.stateNode=s}return Kt(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(g=pc(u),d!==null){if(s===null){if(!g)throw Error(n(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Sr]=u}else Xl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),s=!1}else d=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(vi(u),u):(vi(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Kt(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=pc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Sr]=u}else Xl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),x=!1}else x=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(vi(u),u):(vi(u),null)}return vi(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),b=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==x&&(g.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),Tp(u,u.updateQueue),Kt(u),null);case 4:return pe(),s===null&&Xy(u.stateNode.containerInfo),Kt(u),null;case 10:return bo(u.type),Kt(u),null;case 19:if(ee(mr),g=u.memoizedState,g===null)return Kt(u),null;if(x=(u.flags&128)!==0,b=g.rendering,b===null)if(x)Td(g,!1);else{if(ur!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(b=hp(s),b!==null){for(u.flags|=128,Td(g,!1),s=b.updateQueue,u.updateQueue=s,Tp(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)VS(d,s),d=d.sibling;return ye(mr,mr.current&1|2),ot&&xo(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Vn()>Pp&&(u.flags|=128,x=!0,Td(g,!1),u.lanes=4194304)}else{if(!x)if(s=hp(b),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,Tp(u,s),Td(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ot)return Kt(u),null}else 2*Vn()-g.renderingStartTime>Pp&&d!==536870912&&(u.flags|=128,x=!0,Td(g,!1),u.lanes=4194304);g.isBackwards?(b.sibling=u.child,u.child=b):(s=g.last,s!==null?s.sibling=b:u.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Vn(),s.sibling=null,d=mr.current,ye(mr,x?d&1|2:d&1),ot&&xo(u,g.treeForkCount),s):(Kt(u),null);case 22:case 23:return vi(u),Ym(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(Kt(u),u.subtreeFlags&6&&(u.flags|=8192)):Kt(u),d=u.updateQueue,d!==null&&Tp(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),s!==null&&ee(Zl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),bo(Ir),Kt(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function jL(s,u){switch(km(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return bo(Ir),pe(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 31:if(u.memoizedState!==null){if(vi(u),u.alternate===null)throw Error(n(340));Xl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(vi(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Xl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ee(mr),null;case 4:return pe(),null;case 10:return bo(u.type),null;case 22:case 23:return vi(u),Ym(),s!==null&&ee(Zl),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return bo(Ir),null;case 25:return null;default:return null}}function dC(s,u){switch(km(u),u.tag){case 3:bo(Ir),pe();break;case 26:case 27:case 5:We(u);break;case 4:pe();break;case 31:u.memoizedState!==null&&vi(u);break;case 13:vi(u);break;case 19:ee(mr);break;case 10:bo(u.type);break;case 22:case 23:vi(u),Ym(),s!==null&&ee(Zl);break;case 24:bo(Ir)}}function Cd(s,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&s)===s){g=void 0;var b=d.create,R=d.inst;g=b(),R.destroy=g}d=d.next}while(d!==x)}}catch(j){It(u,u.return,j)}}function Rs(s,u,d){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var b=x.next;g=b;do{if((g.tag&s)===s){var R=g.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,x=u;var q=d,J=j;try{J()}catch(oe){It(x,q,oe)}}}g=g.next}while(g!==b)}}catch(oe){It(u,u.return,oe)}}function hC(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{nT(u,d)}catch(g){It(s,s.return,g)}}}function pC(s,u,d){d.props=nu(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){It(s,u,g)}}function Id(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(x){It(s,u,x)}}function Wa(s,u){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){It(s,u,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){It(s,u,x)}else d.current=null}function gC(s){var u=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){It(s,s.return,x)}}function Iy(s,u,d){try{var g=s.stateNode;aj(g,s.type,d,u),g[Zr]=u}catch(x){It(s,s.return,x)}}function vC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&js(s.type)||s.tag===4}function Oy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||vC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&js(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ry(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=fa));else if(g!==4&&(g===27&&js(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(Ry(s,u,d),s=s.sibling;s!==null;)Ry(s,u,d),s=s.sibling}function Cp(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(g===27&&js(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Cp(s,u,d),s=s.sibling;s!==null;)Cp(s,u,d),s=s.sibling}function mC(s){var u=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);vn(u,g,d),u[Sr]=s,u[Zr]=d}catch(b){It(s,s.return,b)}}var To=!1,Pr=!1,Py=!1,yC=typeof WeakSet=="function"?WeakSet:Set,en=null;function BL(s,u){if(s=s.containerInfo,Zy=Wp,s=RS(s),Am(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var R=0,j=-1,q=-1,J=0,oe=0,ce=s,te=null;t:for(;;){for(var ie;ce!==d||x!==0&&ce.nodeType!==3||(j=R+x),ce!==b||g!==0&&ce.nodeType!==3||(q=R+g),ce.nodeType===3&&(R+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)te=ce,ce=ie;for(;;){if(ce===s)break t;if(te===d&&++J===x&&(j=R),te===b&&++oe===g&&(q=R),(ie=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ie}d=j===-1||q===-1?null:{start:j,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jy={focusedElem:s,selectionRange:d},Wp=!1,en=u;en!==null;)if(u=en,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,en=s;else for(;en!==null;){switch(u=en,b=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)x=s[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,d=u,x=b.memoizedProps,b=b.memoizedState,g=d.stateNode;try{var Ae=nu(d.type,x);s=g.getSnapshotBeforeUpdate(Ae,b),g.__reactInternalSnapshotBeforeUpdate=s}catch(ke){It(d,d.return,ke)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)r2(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":r2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=u.sibling,s!==null){s.return=u.return,en=s;break}en=u.return}}function xC(s,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Io(s,d),g&4&&Cd(5,d);break;case 1:if(Io(s,d),g&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(R){It(d,d.return,R)}else{var x=nu(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(x,u,s.__reactInternalSnapshotBeforeUpdate)}catch(R){It(d,d.return,R)}}g&64&&hC(d),g&512&&Id(d,d.return);break;case 3:if(Io(s,d),g&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{nT(s,u)}catch(R){It(d,d.return,R)}}break;case 27:u===null&&g&4&&mC(d);case 26:case 5:Io(s,d),u===null&&g&4&&gC(d),g&512&&Id(d,d.return);break;case 12:Io(s,d);break;case 31:Io(s,d),g&4&&wC(s,d);break;case 13:Io(s,d),g&4&&EC(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=KL.bind(null,d),hj(s,d))));break;case 22:if(g=d.memoizedState!==null||To,!g){u=u!==null&&u.memoizedState!==null||Pr,x=To;var b=Pr;To=g,(Pr=u)&&!b?Oo(s,d,(d.subtreeFlags&8772)!==0):Io(s,d),To=x,Pr=b}break;case 30:break;default:Io(s,d)}}function _C(s){var u=s.alternate;u!==null&&(s.alternate=null,_C(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&Qu(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,Xn=!1;function Co(s,u,d){for(d=d.child;d!==null;)bC(s,u,d),d=d.sibling}function bC(s,u,d){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(sa,d)}catch{}switch(d.tag){case 26:Pr||Wa(d,u),Co(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pr||Wa(d,u);var g=Jt,x=Xn;js(d.type)&&(Jt=d.stateNode,Xn=!1),Co(s,u,d),jd(d.stateNode),Jt=g,Xn=x;break;case 5:Pr||Wa(d,u);case 6:if(g=Jt,x=Xn,Jt=null,Co(s,u,d),Jt=g,Xn=x,Jt!==null)if(Xn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(d.stateNode)}catch(b){It(d,u,b)}else try{Jt.removeChild(d.stateNode)}catch(b){It(d,u,b)}break;case 18:Jt!==null&&(Xn?(s=Jt,h3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),kc(s)):h3(Jt,d.stateNode));break;case 4:g=Jt,x=Xn,Jt=d.stateNode.containerInfo,Xn=!0,Co(s,u,d),Jt=g,Xn=x;break;case 0:case 11:case 14:case 15:Rs(2,d,u),Pr||Rs(4,d,u),Co(s,u,d);break;case 1:Pr||(Wa(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&pC(d,u,g)),Co(s,u,d);break;case 21:Co(s,u,d);break;case 22:Pr=(g=Pr)||d.memoizedState!==null,Co(s,u,d),Pr=g;break;default:Co(s,u,d)}}function wC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{kc(s)}catch(d){It(u,u.return,d)}}}function EC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kc(s)}catch(d){It(u,u.return,d)}}function VL(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new yC),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new yC),u;default:throw Error(n(435,s.tag))}}function Ip(s,u){var d=VL(s);u.forEach(function(g){if(!d.has(g)){d.add(g);var x=WL.bind(null,s,g);g.then(x,x)}})}function Yn(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],b=s,R=u,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(js(j.type)){Jt=j.stateNode,Xn=!1;break e}break;case 5:Jt=j.stateNode,Xn=!1;break e;case 3:case 4:Jt=j.stateNode.containerInfo,Xn=!0;break e}j=j.return}if(Jt===null)throw Error(n(160));bC(b,R,x),Jt=null,Xn=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)AC(u,s),u=u.sibling}var ma=null;function AC(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yn(u,s),Qn(s),g&4&&(Rs(3,s,s.return),Cd(3,s),Rs(5,s,s.return));break;case 1:Yn(u,s),Qn(s),g&512&&(Pr||d===null||Wa(d,d.return)),g&64&&To&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=ma;if(Yn(u,s),Qn(s),g&512&&(Pr||d===null||Wa(d,d.return)),g&4){var b=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Ma]||b[Sr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(g),x.head.insertBefore(b,x.querySelector("head > title"))),vn(b,g,d),b[Sr]=s,Tr(b),g=b;break e;case"link":var R=A3("link","href",x).get(g+(d.href||""));if(R){for(var j=0;j<R.length;j++)if(b=R[j],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(j,1);break t}}b=x.createElement(g),vn(b,g,d),x.head.appendChild(b);break;case"meta":if(R=A3("meta","content",x).get(g+(d.content||""))){for(j=0;j<R.length;j++)if(b=R[j],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(j,1);break t}}b=x.createElement(g),vn(b,g,d),x.head.appendChild(b);break;default:throw Error(n(468,g))}b[Sr]=s,Tr(b),g=b}s.stateNode=g}else S3(x,s.type,s.stateNode);else s.stateNode=E3(x,g,s.memoizedProps);else b!==g?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,g===null?S3(x,s.type,s.stateNode):E3(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Iy(s,s.memoizedProps,d.memoizedProps)}break;case 27:Yn(u,s),Qn(s),g&512&&(Pr||d===null||Wa(d,d.return)),d!==null&&g&4&&Iy(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Yn(u,s),Qn(s),g&512&&(Pr||d===null||Wa(d,d.return)),s.flags&32){x=s.stateNode;try{Wn(x,"")}catch(Ae){It(s,s.return,Ae)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,Iy(s,x,d!==null?d.memoizedProps:x)),g&1024&&(Py=!0);break;case 6:if(Yn(u,s),Qn(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Ae){It(s,s.return,Ae)}}break;case 3:if($p=null,x=ma,ma=zp(u.containerInfo),Yn(u,s),ma=x,Qn(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{kc(u.containerInfo)}catch(Ae){It(s,s.return,Ae)}Py&&(Py=!1,SC(s));break;case 4:g=ma,ma=zp(s.stateNode.containerInfo),Yn(u,s),Qn(s),ma=g;break;case 12:Yn(u,s),Qn(s);break;case 31:Yn(u,s),Qn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ip(s,g)));break;case 13:Yn(u,s),Qn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Rp=Vn()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ip(s,g)));break;case 22:x=s.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,J=To,oe=Pr;if(To=J||x,Pr=oe||q,Yn(u,s),Pr=oe,To=J,Qn(s),g&8192)e:for(u=s.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(d===null||q||To||Pr||iu(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){q=d=u;try{if(b=q.stateNode,x)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=q.stateNode;var ce=q.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ae){It(q,q.return,Ae)}}}else if(u.tag===6){if(d===null){q=u;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(Ae){It(q,q.return,Ae)}}}else if(u.tag===18){if(d===null){q=u;try{var ie=q.stateNode;x?p3(ie,!0):p3(q.stateNode,!1)}catch(Ae){It(q,q.return,Ae)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Ip(s,d))));break;case 19:Yn(u,s),Qn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ip(s,g)));break;case 30:break;case 21:break;default:Yn(u,s),Qn(s)}}function Qn(s){var u=s.flags;if(u&2){try{for(var d,g=s.return;g!==null;){if(vC(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var x=d.stateNode,b=Oy(s);Cp(s,b,x);break;case 5:var R=d.stateNode;d.flags&32&&(Wn(R,""),d.flags&=-33);var j=Oy(s);Cp(s,j,R);break;case 3:case 4:var q=d.stateNode.containerInfo,J=Oy(s);Ry(s,J,q);break;default:throw Error(n(161))}}catch(oe){It(s,s.return,oe)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function SC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;SC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Io(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)xC(s,u.alternate,u),u=u.sibling}function iu(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Rs(4,u,u.return),iu(u);break;case 1:Wa(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&pC(u,u.return,d),iu(u);break;case 27:jd(u.stateNode);case 26:case 5:Wa(u,u.return),iu(u);break;case 22:u.memoizedState===null&&iu(u);break;case 30:iu(u);break;default:iu(u)}s=s.sibling}}function Oo(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=s,b=u,R=b.flags;switch(b.tag){case 0:case 11:case 15:Oo(x,b,d),Cd(4,b);break;case 1:if(Oo(x,b,d),g=b,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){It(g,g.return,J)}if(g=b,x=g.updateQueue,x!==null){var j=g.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)rT(q[x],j)}catch(J){It(g,g.return,J)}}d&&R&64&&hC(b),Id(b,b.return);break;case 27:mC(b);case 26:case 5:Oo(x,b,d),d&&g===null&&R&4&&gC(b),Id(b,b.return);break;case 12:Oo(x,b,d);break;case 31:Oo(x,b,d),d&&R&4&&wC(x,b);break;case 13:Oo(x,b,d),d&&R&4&&EC(x,b);break;case 22:b.memoizedState===null&&Oo(x,b,d),Id(b,b.return);break;case 30:break;default:Oo(x,b,d)}u=u.sibling}}function Dy(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&pd(d))}function Ny(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&pd(s))}function ya(s,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)TC(s,u,d,g),u=u.sibling}function TC(s,u,d,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:ya(s,u,d,g),x&2048&&Cd(9,u);break;case 1:ya(s,u,d,g);break;case 3:ya(s,u,d,g),x&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&pd(s)));break;case 12:if(x&2048){ya(s,u,d,g),s=u.stateNode;try{var b=u.memoizedProps,R=b.id,j=b.onPostCommit;typeof j=="function"&&j(R,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){It(u,u.return,q)}}else ya(s,u,d,g);break;case 31:ya(s,u,d,g);break;case 13:ya(s,u,d,g);break;case 23:break;case 22:b=u.stateNode,R=u.alternate,u.memoizedState!==null?b._visibility&2?ya(s,u,d,g):Od(s,u):b._visibility&2?ya(s,u,d,g):(b._visibility|=2,Ac(s,u,d,g,(u.subtreeFlags&10256)!==0||!1)),x&2048&&Dy(R,u);break;case 24:ya(s,u,d,g),x&2048&&Ny(u.alternate,u);break;default:ya(s,u,d,g)}}function Ac(s,u,d,g,x){for(x=x&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var b=s,R=u,j=d,q=g,J=R.flags;switch(R.tag){case 0:case 11:case 15:Ac(b,R,j,q,x),Cd(8,R);break;case 23:break;case 22:var oe=R.stateNode;R.memoizedState!==null?oe._visibility&2?Ac(b,R,j,q,x):Od(b,R):(oe._visibility|=2,Ac(b,R,j,q,x)),x&&J&2048&&Dy(R.alternate,R);break;case 24:Ac(b,R,j,q,x),x&&J&2048&&Ny(R.alternate,R);break;default:Ac(b,R,j,q,x)}u=u.sibling}}function Od(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,g=u,x=g.flags;switch(g.tag){case 22:Od(d,g),x&2048&&Dy(g.alternate,g);break;case 24:Od(d,g),x&2048&&Ny(g.alternate,g);break;default:Od(d,g)}u=u.sibling}}var Rd=8192;function Sc(s,u,d){if(s.subtreeFlags&Rd)for(s=s.child;s!==null;)CC(s,u,d),s=s.sibling}function CC(s,u,d){switch(s.tag){case 26:Sc(s,u,d),s.flags&Rd&&s.memoizedState!==null&&Sj(d,ma,s.memoizedState,s.memoizedProps);break;case 5:Sc(s,u,d);break;case 3:case 4:var g=ma;ma=zp(s.stateNode.containerInfo),Sc(s,u,d),ma=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Rd,Rd=16777216,Sc(s,u,d),Rd=g):Sc(s,u,d));break;default:Sc(s,u,d)}}function IC(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Pd(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];en=g,RC(g,s)}IC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)OC(s),s=s.sibling}function OC(s){switch(s.tag){case 0:case 11:case 15:Pd(s),s.flags&2048&&Rs(9,s,s.return);break;case 3:Pd(s);break;case 12:Pd(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Op(s)):Pd(s);break;default:Pd(s)}}function Op(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];en=g,RC(g,s)}IC(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Rs(8,u,u.return),Op(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,Op(u));break;default:Op(u)}s=s.sibling}}function RC(s,u){for(;en!==null;){var d=en;switch(d.tag){case 0:case 11:case 15:Rs(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:pd(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,en=g;else e:for(d=s;en!==null;){g=en;var x=g.sibling,b=g.return;if(_C(g),g===d){en=null;break e}if(x!==null){x.return=b,en=x;break e}en=b}}}var FL={getCacheForType:function(s){var u=pn(Ir),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return pn(Ir).controller.signal}},UL=typeof WeakMap=="function"?WeakMap:Map,xt=0,Ft=null,Ze=null,tt=0,Ct=0,mi=null,Ps=!1,Tc=!1,My=!1,Ro=0,ur=0,Ds=0,au=0,ky=0,yi=0,Cc=0,Dd=null,Zn=null,Ly=!1,Rp=0,PC=0,Pp=1/0,Dp=null,Ns=null,Fr=0,Ms=null,Ic=null,Po=0,jy=0,By=null,DC=null,Nd=0,Vy=null;function xi(){return(xt&2)!==0&&tt!==0?tt&-tt:Y.T!==null?qy():N0()}function NC(){if(yi===0)if((tt&536870912)===0||ot){var s=Dl;Dl<<=1,(Dl&3932160)===0&&(Dl=262144),yi=s}else yi=536870912;return s=gi.current,s!==null&&(s.flags|=32),yi}function Jn(s,u,d){(s===Ft&&(Ct===2||Ct===9)||s.cancelPendingCommit!==null)&&(Oc(s,0),ks(s,tt,yi,!1)),Nl(s,d),((xt&2)===0||s!==Ft)&&(s===Ft&&((xt&2)===0&&(au|=d),ur===4&&ks(s,tt,yi,!1)),Xa(s))}function MC(s,u,d){if((xt&6)!==0)throw Error(n(327));var g=!d&&(u&127)===0&&(u&s.expiredLanes)===0||la(s,u),x=g?$L(s,u):Uy(s,u,!0),b=g;do{if(x===0){Tc&&!g&&ks(s,u,0,!1);break}else{if(d=s.current.alternate,b&&!zL(d)){x=Uy(s,u,!1),b=!1;continue}if(x===2){if(b=u,s.errorRecoveryDisabledLanes&b)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var j=s;x=Dd;var q=j.current.memoizedState.isDehydrated;if(q&&(Oc(j,R).flags|=256),R=Uy(j,R,!1),R!==2){if(My&&!q){j.errorRecoveryDisabledLanes|=b,au|=b,x=4;break e}b=Zn,Zn=x,b!==null&&(Zn===null?Zn=b:Zn.push.apply(Zn,b))}x=R}if(b=!1,x!==2)continue}}if(x===1){Oc(s,0),ks(s,u,0,!0);break}e:{switch(g=s,b=x,b){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:ks(g,u,yi,!Ps);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(x=Rp+300-Vn(),10<x)){if(ks(g,u,yi,!Ps),Pa(g,0,!0)!==0)break e;Po=u,g.timeoutHandle=f3(kC.bind(null,g,d,Zn,Dp,Ly,u,yi,au,Cc,Ps,b,"Throttled",-0,0),x);break e}kC(g,d,Zn,Dp,Ly,u,yi,au,Cc,Ps,b,null,-0,0)}}break}while(!0);Xa(s)}function kC(s,u,d,g,x,b,R,j,q,J,oe,ce,te,ie){if(s.timeoutHandle=-1,ce=u.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},CC(u,b,ce);var Ae=(b&62914560)===b?Rp-Vn():(b&4194048)===b?PC-Vn():0;if(Ae=Tj(ce,Ae),Ae!==null){Po=b,s.cancelPendingCommit=Ae(HC.bind(null,s,u,b,d,g,x,R,j,q,oe,ce,null,te,ie)),ks(s,b,R,!J);return}}HC(s,u,b,d,g,x,R,j,q)}function zL(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],b=x.getSnapshot;x=x.value;try{if(!hi(b(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ks(s,u,d,g){u&=~ky,u&=~au,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var x=u;0<x;){var b=31-gr(x),R=1<<b;g[b]=-1,x&=~R}d!==0&&Ml(s,d,u)}function Np(){return(xt&6)===0?(Md(0),!1):!0}function Fy(){if(Ze!==null){if(Ct===0)var s=Ze.return;else s=Ze,_o=Yl=null,ry(s),xc=null,vd=0,s=Ze;for(;s!==null;)dC(s.alternate,s),s=s.return;Ze=null}}function Oc(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,lj(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Po=0,Fy(),Ft=s,Ze=d=yo(s.current,null),tt=u,Ct=0,mi=null,Ps=!1,Tc=la(s,u),My=!1,Cc=yi=ky=au=Ds=ur=0,Zn=Dd=null,Ly=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var x=31-gr(g),b=1<<x;u|=s[x],g&=~b}return Ro=u,ep(),d}function LC(s,u){qe=null,Y.H=Ad,u===yc||u===lp?(u=ZS(),Ct=3):u===$m?(u=ZS(),Ct=4):Ct=u===yy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,mi=u,Ze===null&&(ur=1,wp(s,Vi(u,s.current)))}function jC(){var s=gi.current;return s===null?!0:(tt&4194048)===tt?Hi===null:(tt&62914560)===tt||(tt&536870912)!==0?s===Hi:!1}function BC(){var s=Y.H;return Y.H=Ad,s===null?Ad:s}function VC(){var s=Y.A;return Y.A=FL,s}function Mp(){ur=4,Ps||(tt&4194048)!==tt&&gi.current!==null||(Tc=!0),(Ds&134217727)===0&&(au&134217727)===0||Ft===null||ks(Ft,tt,yi,!1)}function Uy(s,u,d){var g=xt;xt|=2;var x=BC(),b=VC();(Ft!==s||tt!==u)&&(Dp=null,Oc(s,u)),u=!1;var R=ur;e:do try{if(Ct!==0&&Ze!==null){var j=Ze,q=mi;switch(Ct){case 8:Fy(),R=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(u=!0);var J=Ct;if(Ct=0,mi=null,Rc(s,j,q,J),d&&Tc){R=0;break e}break;default:J=Ct,Ct=0,mi=null,Rc(s,j,q,J)}}HL(),R=ur;break}catch(oe){LC(s,oe)}while(!0);return u&&s.shellSuspendCounter++,_o=Yl=null,xt=g,Y.H=x,Y.A=b,Ze===null&&(Ft=null,tt=0,ep()),R}function HL(){for(;Ze!==null;)FC(Ze)}function $L(s,u){var d=xt;xt|=2;var g=BC(),x=VC();Ft!==s||tt!==u?(Dp=null,Pp=Vn()+500,Oc(s,u)):Tc=la(s,u);e:do try{if(Ct!==0&&Ze!==null){u=Ze;var b=mi;t:switch(Ct){case 1:Ct=0,mi=null,Rc(s,u,b,1);break;case 2:case 9:if(YS(b)){Ct=0,mi=null,UC(u);break}u=function(){Ct!==2&&Ct!==9||Ft!==s||(Ct=7),Xa(s)},b.then(u,u);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:YS(b)?(Ct=0,mi=null,UC(u)):(Ct=0,mi=null,Rc(s,u,b,7));break;case 5:var R=null;switch(Ze.tag){case 26:R=Ze.memoizedState;case 5:case 27:var j=Ze;if(R?T3(R):j.stateNode.complete){Ct=0,mi=null;var q=j.sibling;if(q!==null)Ze=q;else{var J=j.return;J!==null?(Ze=J,kp(J)):Ze=null}break t}}Ct=0,mi=null,Rc(s,u,b,5);break;case 6:Ct=0,mi=null,Rc(s,u,b,6);break;case 8:Fy(),ur=6;break e;default:throw Error(n(462))}}qL();break}catch(oe){LC(s,oe)}while(!0);return _o=Yl=null,Y.H=g,Y.A=x,xt=d,Ze!==null?0:(Ft=null,tt=0,ep(),ur)}function qL(){for(;Ze!==null&&!mm();)FC(Ze)}function FC(s){var u=cC(s.alternate,s,Ro);s.memoizedProps=s.pendingProps,u===null?kp(s):Ze=u}function UC(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=iC(d,u,u.pendingProps,u.type,void 0,tt);break;case 11:u=iC(d,u,u.pendingProps,u.type.render,u.ref,tt);break;case 5:ry(u);default:dC(d,u),u=Ze=VS(u,Ro),u=cC(d,u,Ro)}s.memoizedProps=s.pendingProps,u===null?kp(s):Ze=u}function Rc(s,u,d,g){_o=Yl=null,ry(u),xc=null,vd=0;var x=u.return;try{if(NL(s,x,u,d,tt)){ur=1,wp(s,Vi(d,s.current)),Ze=null;return}}catch(b){if(x!==null)throw Ze=x,b;ur=1,wp(s,Vi(d,s.current)),Ze=null;return}u.flags&32768?(ot||g===1?s=!0:Tc||(tt&536870912)!==0?s=!1:(Ps=s=!0,(g===2||g===9||g===3||g===6)&&(g=gi.current,g!==null&&g.tag===13&&(g.flags|=16384))),zC(u,s)):kp(u)}function kp(s){var u=s;do{if((u.flags&32768)!==0){zC(u,Ps);return}s=u.return;var d=LL(u.alternate,u,Ro);if(d!==null){Ze=d;return}if(u=u.sibling,u!==null){Ze=u;return}Ze=u=s}while(u!==null);ur===0&&(ur=5)}function zC(s,u){do{var d=jL(s.alternate,s);if(d!==null){d.flags&=32767,Ze=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=d}while(s!==null);ur=6,Ze=null}function HC(s,u,d,g,x,b,R,j,q){s.cancelPendingCommit=null;do Lp();while(Fr!==0);if((xt&6)!==0)throw Error(n(327));if(u!==null){if(u===s.current)throw Error(n(177));if(b=u.lanes|u.childLanes,b|=Om,_m(s,d,b,R,j,q),s===Ft&&(Ze=Ft=null,tt=0),Ic=u,Ms=s,Po=d,jy=b,By=x,DC=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,XL(fs,function(){return WC(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,x=se.p,se.p=2,R=xt,xt|=4;try{BL(s,u,d)}finally{xt=R,se.p=x,Y.T=g}}Fr=1,$C(),qC(),GC()}}function $C(){if(Fr===1){Fr=0;var s=Ms,u=Ic,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{AC(u,s);var b=Jy,R=RS(s.containerInfo),j=b.focusedElem,q=b.selectionRange;if(R!==j&&j&&j.ownerDocument&&OS(j.ownerDocument.documentElement,j)){if(q!==null&&Am(j)){var J=q.start,oe=q.end;if(oe===void 0&&(oe=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(oe,j.value.length);else{var ce=j.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ae=j.textContent.length,ke=Math.min(q.start,Ae),Lt=q.end===void 0?ke:Math.min(q.end,Ae);!ie.extend&&ke>Lt&&(R=Lt,Lt=ke,ke=R);var W=IS(j,ke),K=IS(j,Lt);if(W&&K&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=ce.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),ke>Lt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(ce=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var le=ce[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Wp=!!Zy,Jy=Zy=null}finally{xt=x,se.p=g,Y.T=d}}s.current=u,Fr=2}}function qC(){if(Fr===2){Fr=0;var s=Ms,u=Ic,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var g=se.p;se.p=2;var x=xt;xt|=4;try{xC(s,u.alternate,u)}finally{xt=x,se.p=g,Y.T=d}}Fr=3}}function GC(){if(Fr===4||Fr===3){Fr=0,T0();var s=Ms,u=Ic,d=Po,g=DC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fr=5:(Fr=0,Ic=Ms=null,KC(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Ns=null),po(d),u=u.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(sa,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Y.T,x=se.p,se.p=2,Y.T=null;try{for(var b=s.onRecoverableError,R=0;R<g.length;R++){var j=g[R];b(j.value,{componentStack:j.stack})}}finally{Y.T=u,se.p=x}}(Po&3)!==0&&Lp(),Xa(s),x=s.pendingLanes,(d&261930)!==0&&(x&42)!==0?s===Vy?Nd++:(Nd=0,Vy=s):Nd=0,Md(0)}}function KC(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,pd(u)))}function Lp(){return $C(),qC(),GC(),WC()}function WC(){if(Fr!==5)return!1;var s=Ms,u=jy;jy=0;var d=po(Po),g=Y.T,x=se.p;try{se.p=32>d?32:d,Y.T=null,d=By,By=null;var b=Ms,R=Po;if(Fr=0,Ic=Ms=null,Po=0,(xt&6)!==0)throw Error(n(331));var j=xt;if(xt|=4,OC(b.current),TC(b,b.current,R,d),xt=j,Md(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(sa,b)}catch{}return!0}finally{se.p=x,Y.T=g,KC(s,u)}}function XC(s,u,d){u=Vi(d,u),u=my(s.stateNode,u,2),s=Cs(s,u,2),s!==null&&(Nl(s,2),Xa(s))}function It(s,u,d){if(s.tag===3)XC(s,s,d);else for(;u!==null;){if(u.tag===3){XC(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ns===null||!Ns.has(g))){s=Vi(d,s),d=YT(2),g=Cs(u,d,2),g!==null&&(QT(d,g,u,s),Nl(g,2),Xa(g));break}}u=u.return}}function zy(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new UL;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(My=!0,x.add(d),s=GL.bind(null,s,u,d),u.then(s,s))}function GL(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ft===s&&(tt&d)===d&&(ur===4||ur===3&&(tt&62914560)===tt&&300>Vn()-Rp?(xt&2)===0&&Oc(s,0):ky|=d,Cc===tt&&(Cc=0)),Xa(s)}function YC(s,u){u===0&&(u=D0()),s=Kl(s,u),s!==null&&(Nl(s,u),Xa(s))}function KL(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),YC(s,d)}function WL(s,u){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(u),YC(s,d)}function XL(s,u){return Vr(s,u)}var jp=null,Pc=null,Hy=!1,Bp=!1,$y=!1,Ls=0;function Xa(s){s!==Pc&&s.next===null&&(Pc===null?jp=Pc=s:Pc=Pc.next=s),Bp=!0,Hy||(Hy=!0,QL())}function Md(s,u){if(!$y&&Bp){$y=!0;do for(var d=!1,g=jp;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var b=0;else{var R=g.suspendedLanes,j=g.pingedLanes;b=(1<<31-gr(42|s)+1)-1,b&=x&~(R&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,e3(g,b))}else b=tt,b=Pa(g,g===Ft?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||la(g,b)||(d=!0,e3(g,b));g=g.next}while(d);$y=!1}}function YL(){QC()}function QC(){Bp=Hy=!1;var s=0;Ls!==0&&sj()&&(s=Ls);for(var u=Vn(),d=null,g=jp;g!==null;){var x=g.next,b=ZC(g,u);b===0?(g.next=null,d===null?jp=x:d.next=x,x===null&&(Pc=d)):(d=g,(s!==0||(b&3)!==0)&&(Bp=!0)),g=x}Fr!==0&&Fr!==5||Md(s),Ls!==0&&(Ls=0)}function ZC(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var R=31-gr(b),j=1<<R,q=x[R];q===-1?((j&d)===0||(j&g)!==0)&&(x[R]=xm(j,u)):q<=u&&(s.expiredLanes|=j),b&=~j}if(u=Ft,d=tt,d=Pa(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===u&&(Ct===2||Ct===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&cs(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||la(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(g!==null&&cs(g),po(d)){case 2:case 8:d=$f;break;case 32:d=fs;break;case 268435456:d=C0;break;default:d=fs}return g=JC.bind(null,s),d=Vr(d,g),s.callbackPriority=u,s.callbackNode=d,u}return g!==null&&g!==null&&cs(g),s.callbackPriority=2,s.callbackNode=null,2}function JC(s,u){if(Fr!==0&&Fr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Lp()&&s.callbackNode!==d)return null;var g=tt;return g=Pa(s,s===Ft?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(MC(s,g,u),ZC(s,Vn()),s.callbackNode!=null&&s.callbackNode===d?JC.bind(null,s):null)}function e3(s,u){if(Lp())return null;MC(s,u,!0)}function QL(){uj(function(){(xt&6)!==0?Vr(Hf,YL):QC()})}function qy(){if(Ls===0){var s=vc;s===0&&(s=Oa,Oa<<=1,(Oa&261888)===0&&(Oa=256)),Ls=s}return Ls}function t3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:tc(""+s)}function r3(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function ZL(s,u,d,g,x){if(u==="submit"&&d&&d.stateNode===x){var b=t3((x[Zr]||null).action),R=g.submitter;R&&(u=(u=R[Zr]||null)?t3(u.formAction):R.getAttribute("formAction"),u!==null&&(b=u,R=null));var j=new za("action","action",null,g,x);s.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ls!==0){var q=R?r3(x,R):new FormData(x);fy(d,{pending:!0,data:q,method:x.method,action:b},null,q)}}else typeof b=="function"&&(j.preventDefault(),q=R?r3(x,R):new FormData(x),fy(d,{pending:!0,data:q,method:x.method,action:b},b,q))},currentTarget:x}]})}}for(var Gy=0;Gy<Im.length;Gy++){var Ky=Im[Gy],JL=Ky.toLowerCase(),ej=Ky[0].toUpperCase()+Ky.slice(1);va(JL,"on"+ej)}va(NS,"onAnimationEnd"),va(MS,"onAnimationIteration"),va(kS,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(vL,"onTransitionRun"),va(mL,"onTransitionStart"),va(yL,"onTransitionCancel"),va(LS,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function n3(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var b=void 0;if(u)for(var R=g.length-1;0<=R;R--){var j=g[R],q=j.instance,J=j.currentTarget;if(j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){J0(oe)}x.currentTarget=null,b=q}else for(R=0;R<g.length;R++){if(j=g[R],q=j.instance,J=j.currentTarget,j=j.listener,q!==b&&x.isPropagationStopped())break e;b=j,x.currentTarget=J;try{b(x)}catch(oe){J0(oe)}x.currentTarget=null,b=q}}}}function Je(s,u){var d=u[Yu];d===void 0&&(d=u[Yu]=new Set);var g=s+"__bubble";d.has(g)||(i3(u,s,2,!1),d.add(g))}function Wy(s,u,d){var g=0;u&&(g|=4),i3(d,s,g,u)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function Xy(s){if(!s[Vp]){s[Vp]=!0,Kf.forEach(function(d){d!=="selectionchange"&&(tj.has(d)||Wy(d,!1,s),Wy(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Vp]||(u[Vp]=!0,Wy("selectionchange",!1,u))}}function i3(s,u,d,g){switch(N3(u)){case 2:var x=Oj;break;case 8:x=Rj;break;default:x=c2}d=x.bind(null,u,d,s),x=void 0,!Vl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(u,d,{capture:!0,passive:x}):s.addEventListener(u,d,!0):x!==void 0?s.addEventListener(u,d,{passive:x}):s.addEventListener(u,d,!1)}function Yy(s,u,d,g,x){var b=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var j=g.stateNode.containerInfo;if(j===x)break;if(R===4)for(R=g.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;j!==null;){if(R=ka(j),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){g=b=R;continue e}j=j.parentNode}}g=g.return}ms(function(){var J=b,oe=ki(d),ce=[];e:{var te=jS.get(s);if(te!==void 0){var ie=za,Ae=s;switch(s){case"keypress":if(Ul(d)===0)break e;case"keydown":case"keyup":ie=Y0;break;case"focusin":Ae="focus",ie=Hl;break;case"focusout":Ae="blur",ie=Hl;break;case"beforeblur":case"afterblur":ie=Hl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T;break;case NS:case MS:case kS:ie=H0;break;case LS:ie=F;break;case"scroll":case"scrollend":ie=ad;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=$0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=mo;break;case"toggle":case"beforetoggle":ie=$e}var ke=(u&4)!==0,Lt=!ke&&(s==="scroll"||s==="scrollend"),W=ke?te!==null?te+"Capture":null:te;ke=[];for(var K=J,Z;K!==null;){var le=K;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||W===null||(le=da(K,W),le!=null&&ke.push(Ld(K,le,Z))),Lt)break;K=K.return}0<ke.length&&(te=new ie(te,Ae,null,d,oe),ce.push({event:te,listeners:ke}))}}if((u&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&d!==rd&&(Ae=d.relatedTarget||d.fromElement)&&(ka(Ae)||Ae[Na]))break e;if((ie||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ae=d.relatedTarget||d.toElement,ie=J,Ae=Ae?ka(Ae):null,Ae!==null&&(Lt=a(Ae),ke=Ae.tag,Ae!==Lt||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ie=null,Ae=J),ie!==Ae)){if(ke=od,le="onMouseLeave",W="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(ke=mo,le="onPointerLeave",W="onPointerEnter",K="pointer"),Lt=ie==null?te:fi(ie),Z=Ae==null?te:fi(Ae),te=new ke(le,K+"leave",ie,d,oe),te.target=Lt,te.relatedTarget=Z,le=null,ka(oe)===J&&(ke=new ke(W,K+"enter",Ae,d,oe),ke.target=Z,ke.relatedTarget=Lt,le=ke),Lt=le,ie&&Ae)t:{for(ke=rj,W=ie,K=Ae,Z=0,le=W;le;le=ke(le))Z++;le=0;for(var Pe=K;Pe;Pe=ke(Pe))le++;for(;0<Z-le;)W=ke(W),Z--;for(;0<le-Z;)K=ke(K),le--;for(;Z--;){if(W===K||K!==null&&W===K.alternate){ke=W;break t}W=ke(W),K=ke(K)}ke=null}else ke=null;ie!==null&&a3(ce,te,ie,ke,!1),Ae!==null&&Lt!==null&&a3(ce,Lt,Ae,ke,!0)}}e:{if(te=J?fi(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var dt=wS;else if(_S(te))if(ES)dt=hL;else{dt=fL;var Ie=cL}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&ec(J.elementType)&&(dt=wS):dt=dL;if(dt&&(dt=dt(s,J))){bS(ce,dt,d,oe);break e}Ie&&Ie(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Jf(te,"number",te.value)}switch(Ie=J?fi(J):window,s){case"focusin":(_S(Ie)||Ie.contentEditable==="true")&&(lc=Ie,Sm=J,fd=null);break;case"focusout":fd=Sm=lc=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,PS(ce,d,oe);break;case"selectionchange":if(gL)break;case"keydown":case"keyup":PS(ce,d,oe)}var Ke;if(yt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else sc?$l(s,d)&&(rt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(qa&&d.locale!=="ko"&&(sc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&sc&&(Ke=id()):(Ua=oe,nd="value"in Ua?Ua.value:Ua.textContent,sc=!0)),Ie=Fp(J,rt),0<Ie.length&&(rt=new $a(rt,s,null,d,oe),ce.push({event:rt,listeners:Ie}),Ke?rt.data=Ke:(Ke=oc(d),Ke!==null&&(rt.data=Ke)))),(Ke=ji?oL(s,d):sL(s,d))&&(rt=Fp(J,"onBeforeInput"),0<rt.length&&(Ie=new $a("onBeforeInput","beforeinput",null,d,oe),ce.push({event:Ie,listeners:rt}),Ie.data=Ke)),ZL(ce,s,J,d,oe)}n3(ce,u)})}function Ld(s,u,d){return{instance:s,listener:u,currentTarget:d}}function Fp(s,u){for(var d=u+"Capture",g=[];s!==null;){var x=s,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=da(s,d),x!=null&&g.unshift(Ld(s,x,b)),x=da(s,u),x!=null&&g.push(Ld(s,x,b))),s.tag===3)return g;s=s.return}return[]}function rj(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function a3(s,u,d,g,x){for(var b=u._reactName,R=[];d!==null&&d!==g;){var j=d,q=j.alternate,J=j.stateNode;if(j=j.tag,q!==null&&q===g)break;j!==5&&j!==26&&j!==27||J===null||(q=J,x?(J=da(d,b),J!=null&&R.unshift(Ld(d,J,q))):x||(J=da(d,b),J!=null&&R.push(Ld(d,J,q)))),d=d.return}R.length!==0&&s.push({event:u,listeners:R})}var nj=/\r\n?/g,ij=/\u0000|\uFFFD/g;function o3(s){return(typeof s=="string"?s:""+s).replace(nj,`
`).replace(ij,"")}function s3(s,u){return u=o3(u),o3(s)===u}function kt(s,u,d,g,x,b){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Wn(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Wn(s,""+g);break;case"className":di(s,"class",g);break;case"tabIndex":di(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":di(s,d,g);break;case"style":td(s,g,b);break;case"data":if(u!=="object"){di(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=tc(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(u!=="input"&&kt(s,u,"name",x.name,x,null),kt(s,u,"formEncType",x.formEncType,x,null),kt(s,u,"formMethod",x.formMethod,x,null),kt(s,u,"formTarget",x.formTarget,x,null)):(kt(s,u,"encType",x.encType,x,null),kt(s,u,"method",x.method,x,null),kt(s,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=tc(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=fa);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=tc(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Zu(s,"popover",g);break;case"xlinkActuate":Cr(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Cr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Cr(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Cr(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Cr(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Cr(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Zu(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=F0.get(d)||d,Zu(s,d,g))}}function Qy(s,u,d,g,x,b){switch(d){case"style":td(s,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Wn(s,g):(typeof g=="number"||typeof g=="bigint")&&Wn(s,""+g);break;case"onScroll":g!=null&&Je("scroll",s);break;case"onScrollEnd":g!=null&&Je("scrollend",s);break;case"onClick":g!=null&&(s.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),b=s[Zr]||null,b=b!=null?b[d]:null,typeof b=="function"&&s.removeEventListener(u,b,x),typeof g=="function")){typeof b!="function"&&b!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,g,x);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):Zu(s,d,g)}}}function vn(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var g=!1,x=!1,b;for(b in d)if(d.hasOwnProperty(b)){var R=d[b];if(R!=null)switch(b){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kt(s,u,b,R,d,null)}}x&&kt(s,u,"srcSet",d.srcSet,d,null),g&&kt(s,u,"src",d.src,d,null);return;case"input":Je("invalid",s);var j=b=R=x=null,q=null,J=null;for(g in d)if(d.hasOwnProperty(g)){var oe=d[g];if(oe!=null)switch(g){case"name":x=oe;break;case"type":R=oe;break;case"checked":q=oe;break;case"defaultChecked":J=oe;break;case"value":b=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,u));break;default:kt(s,u,g,oe,d,null)}}j0(s,b,j,q,J,R,x,!1);return;case"select":Je("invalid",s),g=R=b=null;for(x in d)if(d.hasOwnProperty(x)&&(j=d[x],j!=null))switch(x){case"value":b=j;break;case"defaultValue":R=j;break;case"multiple":g=j;default:kt(s,u,x,j,d,null)}u=b,d=R,s.multiple=!!g,u!=null?hs(s,!!g,u,!1):d!=null&&hs(s,!!g,d,!0);return;case"textarea":Je("invalid",s),b=x=g=null;for(R in d)if(d.hasOwnProperty(R)&&(j=d[R],j!=null))switch(R){case"value":g=j;break;case"defaultValue":x=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:kt(s,u,R,j,d,null)}ps(s,g,x,b);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(g=d[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:kt(s,u,q,g,d,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(g=0;g<kd.length;g++)Je(kd[g],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:kt(s,u,J,g,d,null)}return;default:if(ec(u)){for(oe in d)d.hasOwnProperty(oe)&&(g=d[oe],g!==void 0&&Qy(s,u,oe,g,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(g=d[j],g!=null&&kt(s,u,j,g,d,null))}function aj(s,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,R=null,j=null,q=null,J=null,oe=null;for(ie in d){var ce=d[ie];if(d.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":q=ce;default:g.hasOwnProperty(ie)||kt(s,u,ie,null,g,ce)}}for(var te in g){var ie=g[te];if(ce=d[te],g.hasOwnProperty(te)&&(ie!=null||ce!=null))switch(te){case"type":b=ie;break;case"name":x=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":R=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,u));break;default:ie!==ce&&kt(s,u,te,ie,g,ce)}}Ju(s,R,j,q,J,oe,b,x);return;case"select":ie=R=j=te=null;for(b in d)if(q=d[b],d.hasOwnProperty(b)&&q!=null)switch(b){case"value":break;case"multiple":ie=q;default:g.hasOwnProperty(b)||kt(s,u,b,null,g,q)}for(x in g)if(b=g[x],q=d[x],g.hasOwnProperty(x)&&(b!=null||q!=null))switch(x){case"value":te=b;break;case"defaultValue":j=b;break;case"multiple":R=b;default:b!==q&&kt(s,u,x,b,g,q)}u=j,d=R,g=ie,te!=null?hs(s,!!d,te,!1):!!g!=!!d&&(u!=null?hs(s,!!d,u,!0):hs(s,!!d,d?[]:"",!1));return;case"textarea":ie=te=null;for(j in d)if(x=d[j],d.hasOwnProperty(j)&&x!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:kt(s,u,j,null,g,x)}for(R in g)if(x=g[R],b=d[R],g.hasOwnProperty(R)&&(x!=null||b!=null))switch(R){case"value":te=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==b&&kt(s,u,R,x,g,b)}B0(s,te,ie);return;case"option":for(var Ae in d)if(te=d[Ae],d.hasOwnProperty(Ae)&&te!=null&&!g.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:kt(s,u,Ae,null,g,te)}for(q in g)if(te=g[q],ie=d[q],g.hasOwnProperty(q)&&te!==ie&&(te!=null||ie!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(s,u,q,te,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in d)te=d[ke],d.hasOwnProperty(ke)&&te!=null&&!g.hasOwnProperty(ke)&&kt(s,u,ke,null,g,te);for(J in g)if(te=g[J],ie=d[J],g.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,u));break;default:kt(s,u,J,te,g,ie)}return;default:if(ec(u)){for(var Lt in d)te=d[Lt],d.hasOwnProperty(Lt)&&te!==void 0&&!g.hasOwnProperty(Lt)&&Qy(s,u,Lt,void 0,g,te);for(oe in g)te=g[oe],ie=d[oe],!g.hasOwnProperty(oe)||te===ie||te===void 0&&ie===void 0||Qy(s,u,oe,te,g,ie);return}}for(var W in d)te=d[W],d.hasOwnProperty(W)&&te!=null&&!g.hasOwnProperty(W)&&kt(s,u,W,null,g,te);for(ce in g)te=g[ce],ie=d[ce],!g.hasOwnProperty(ce)||te===ie||te==null&&ie==null||kt(s,u,ce,te,g,ie)}function l3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oj(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var x=d[g],b=x.transferSize,R=x.initiatorType,j=x.duration;if(b&&j&&l3(R)){for(R=0,j=x.responseEnd,g+=1;g<d.length;g++){var q=d[g],J=q.startTime;if(J>j)break;var oe=q.transferSize,ce=q.initiatorType;oe&&l3(ce)&&(q=q.responseEnd,R+=oe*(q<j?1:(j-J)/(q-J)))}if(--g,u+=8*(b+R)/(x.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Zy=null,Jy=null;function Up(s){return s.nodeType===9?s:s.ownerDocument}function u3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c3(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function e2(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var t2=null;function sj(){var s=window.event;return s&&s.type==="popstate"?s===t2?!1:(t2=s,!0):(t2=null,!1)}var f3=typeof setTimeout=="function"?setTimeout:void 0,lj=typeof clearTimeout=="function"?clearTimeout:void 0,d3=typeof Promise=="function"?Promise:void 0,uj=typeof queueMicrotask=="function"?queueMicrotask:typeof d3<"u"?function(s){return d3.resolve(null).then(s).catch(cj)}:f3;function cj(s){setTimeout(function(){throw s})}function js(s){return s==="head"}function h3(s,u){var d=u,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(x),kc(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")jd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,jd(d);for(var b=d.firstChild;b;){var R=b.nextSibling,j=b.nodeName;b[Ma]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=R}}else d==="body"&&jd(s.ownerDocument.body);d=x}while(d);kc(u)}function p3(s,u){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function r2(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":r2(d),Qu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function fj(s,u,d,g){for(;s.nodeType===1;){var x=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Ma])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=$i(s.nextSibling),s===null)break}return null}function dj(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=$i(s.nextSibling),s===null))return null;return s}function g3(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=$i(s.nextSibling),s===null))return null;return s}function n2(s){return s.data==="$?"||s.data==="$~"}function i2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function hj(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function $i(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var a2=null;function v3(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return $i(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function m3(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function y3(s,u,d){switch(u=Up(d),s){case"html":if(s=u.documentElement,!s)throw Error(n(452));return s;case"head":if(s=u.head,!s)throw Error(n(453));return s;case"body":if(s=u.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function jd(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Qu(s)}var qi=new Map,x3=new Set;function zp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Do=se.d;se.d={f:pj,r:gj,D:vj,C:mj,L:yj,m:xj,X:bj,S:_j,M:wj};function pj(){var s=Do.f(),u=Np();return s||u}function gj(s){var u=Mi(s);u!==null&&u.tag===5&&u.type==="form"?LT(u):Do.r(s)}var Dc=typeof document>"u"?null:document;function _3(s,u,d){var g=Dc;if(g&&typeof u=="string"&&u){var x=Kn(u);x='link[rel="'+s+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),x3.has(x)||(x3.add(x),s={rel:s,crossOrigin:d,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),vn(u,"link",s),Tr(u),g.head.appendChild(u)))}}function vj(s){Do.D(s),_3("dns-prefetch",s,null)}function mj(s,u){Do.C(s,u),_3("preconnect",s,u)}function yj(s,u,d){Do.L(s,u,d);var g=Dc;if(g&&s&&u){var x='link[rel="preload"][as="'+Kn(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Kn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Kn(d.imageSizes)+'"]')):x+='[href="'+Kn(s)+'"]';var b=x;switch(u){case"style":b=Nc(s);break;case"script":b=Mc(s)}qi.has(b)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),qi.set(b,s),g.querySelector(x)!==null||u==="style"&&g.querySelector(Bd(b))||u==="script"&&g.querySelector(Vd(b))||(u=g.createElement("link"),vn(u,"link",s),Tr(u),g.head.appendChild(u)))}}function xj(s,u){Do.m(s,u);var d=Dc;if(d&&s){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Kn(g)+'"][href="'+Kn(s)+'"]',b=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Mc(s)}if(!qi.has(b)&&(s=p({rel:"modulepreload",href:s},u),qi.set(b,s),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Vd(b)))return}g=d.createElement("link"),vn(g,"link",s),Tr(g),d.head.appendChild(g)}}}function _j(s,u,d){Do.S(s,u,d);var g=Dc;if(g&&s){var x=La(g).hoistableStyles,b=Nc(s);u=u||"default";var R=x.get(b);if(!R){var j={loading:0,preload:null};if(R=g.querySelector(Bd(b)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=qi.get(b))&&o2(s,d);var q=R=g.createElement("link");Tr(q),vn(q,"link",s),q._p=new Promise(function(J,oe){q.onload=J,q.onerror=oe}),q.addEventListener("load",function(){j.loading|=1}),q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Hp(R,u,g)}R={type:"stylesheet",instance:R,count:1,state:j},x.set(b,R)}}}function bj(s,u){Do.X(s,u);var d=Dc;if(d&&s){var g=La(d).hoistableScripts,x=Mc(s),b=g.get(x);b||(b=d.querySelector(Vd(x)),b||(s=p({src:s,async:!0},u),(u=qi.get(x))&&s2(s,u),b=d.createElement("script"),Tr(b),vn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function wj(s,u){Do.M(s,u);var d=Dc;if(d&&s){var g=La(d).hoistableScripts,x=Mc(s),b=g.get(x);b||(b=d.querySelector(Vd(x)),b||(s=p({src:s,async:!0,type:"module"},u),(u=qi.get(x))&&s2(s,u),b=d.createElement("script"),Tr(b),vn(b,"link",s),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(x,b))}}function b3(s,u,d,g){var x=(x=He.current)?zp(x):null;if(!x)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Nc(d.href),d=La(x).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Nc(d.href);var b=La(x).hoistableStyles,R=b.get(s);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,R),(b=x.querySelector(Bd(s)))&&!b._p&&(R.instance=b,R.state.loading=5),qi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},qi.set(s,d),b||Ej(x,s,d,R.state))),u&&g===null)throw Error(n(528,""));return R}if(u&&g!==null)throw Error(n(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Mc(d),d=La(x).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Nc(s){return'href="'+Kn(s)+'"'}function Bd(s){return'link[rel="stylesheet"]['+s+"]"}function w3(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function Ej(s,u,d,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),vn(u,"link",d),Tr(u),s.head.appendChild(u))}function Mc(s){return'[src="'+Kn(s)+'"]'}function Vd(s){return"script[async]"+s}function E3(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Kn(d.href)+'"]');if(g)return u.instance=g,Tr(g),g;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Tr(g),vn(g,"style",x),Hp(g,d.precedence,s),u.instance=g;case"stylesheet":x=Nc(d.href);var b=s.querySelector(Bd(x));if(b)return u.state.loading|=4,u.instance=b,Tr(b),b;g=w3(d),(x=qi.get(x))&&o2(g,x),b=(s.ownerDocument||s).createElement("link"),Tr(b);var R=b;return R._p=new Promise(function(j,q){R.onload=j,R.onerror=q}),vn(b,"link",g),u.state.loading|=4,Hp(b,d.precedence,s),u.instance=b;case"script":return b=Mc(d.src),(x=s.querySelector(Vd(b)))?(u.instance=x,Tr(x),x):(g=d,(x=qi.get(b))&&(g=p({},d),s2(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),Tr(x),vn(x,"link",g),s.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Hp(g,d.precedence,s));return u.instance}function Hp(s,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,b=x,R=0;R<g.length;R++){var j=g[R];if(j.dataset.precedence===u)b=j;else if(b!==x)break}b?b.parentNode.insertBefore(s,b.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function o2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function s2(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var $p=null;function A3(s,u,d){if($p===null){var g=new Map,x=$p=new Map;x.set(d,g)}else x=$p,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),x=0;x<d.length;x++){var b=d[x];if(!(b[Ma]||b[Sr]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(u)||"";R=s+R;var j=g.get(R);j?j.push(b):g.set(R,[b])}}return g}function S3(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function Aj(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function T3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Sj(s,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Nc(g.href),b=u.querySelector(Bd(x));if(b){u=b._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=qp.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=b,Tr(b);return}b=u.ownerDocument||u,g=w3(g),(x=qi.get(x))&&o2(g,x),b=b.createElement("link"),Tr(b);var R=b;R._p=new Promise(function(j,q){R.onload=j,R.onerror=q}),vn(b,"link",g),d.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=qp.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var l2=0;function Tj(s,u){return s.stylesheets&&s.count===0&&Kp(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Kp(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+u);0<s.imgBytes&&l2===0&&(l2=62500*oj());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kp(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>l2?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gp=null;function Kp(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gp=new Map,u.forEach(Cj,s),Gp=null,qp.call(s))}function Cj(s,u){if(!(u.state.loading&4)){var d=Gp.get(s);if(d)var g=d.get(null);else{d=new Map,Gp.set(s,d);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var R=x[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}x=u.instance,R=x.getAttribute("data-precedence"),b=d.get(R)||g,b===g&&d.set(null,x),d.set(R,x),this.count++,g=qp.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),b?b.parentNode.insertBefore(x,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),u.state.loading|=4}}var Fd={$$typeof:O,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ij(s,u,d,g,x,b,R,j,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function C3(s,u,d,g,x,b,R,j,q,J,oe,ce){return s=new Ij(s,u,d,R,q,J,oe,ce,j),u=1,b===!0&&(u|=24),b=pi(3,null,null,u),s.current=b,b.stateNode=s,u=Um(),u.refCount++,s.pooledCache=u,u.refCount++,b.memoizedState={element:g,isDehydrated:d,cache:u},qm(b),s}function I3(s){return s?(s=fc,s):fc}function O3(s,u,d,g,x,b){x=I3(x),g.context===null?g.context=x:g.pendingContext=x,g=Ts(u),g.payload={element:d},b=b===void 0?null:b,b!==null&&(g.callback=b),d=Cs(s,g,u),d!==null&&(Jn(d,s,u),yd(d,s,u))}function R3(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function u2(s,u){R3(s,u),(s=s.alternate)&&R3(s,u)}function P3(s){if(s.tag===13||s.tag===31){var u=Kl(s,67108864);u!==null&&Jn(u,s,67108864),u2(s,67108864)}}function D3(s){if(s.tag===13||s.tag===31){var u=xi();u=kl(u);var d=Kl(s,u);d!==null&&Jn(d,s,u),u2(s,u)}}var Wp=!0;function Oj(s,u,d,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=2,c2(s,u,d,g)}finally{se.p=b,Y.T=x}}function Rj(s,u,d,g){var x=Y.T;Y.T=null;var b=se.p;try{se.p=8,c2(s,u,d,g)}finally{se.p=b,Y.T=x}}function c2(s,u,d,g){if(Wp){var x=f2(g);if(x===null)Yy(s,u,g,Xp,d),M3(s,g);else if(Dj(x,s,u,d,g))g.stopPropagation();else if(M3(s,g),u&4&&-1<Pj.indexOf(s)){for(;x!==null;){var b=Mi(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=Ra(b.pendingLanes);if(R!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var q=1<<31-gr(R);j.entanglements[1]|=q,R&=~q}Xa(b),(xt&6)===0&&(Pp=Vn()+500,Md(0))}}break;case 31:case 13:j=Kl(b,2),j!==null&&Jn(j,b,2),Np(),u2(b,2)}if(b=f2(g),b===null&&Yy(s,u,g,Xp,d),b===x)break;x=b}x!==null&&g.stopPropagation()}else Yy(s,u,g,null,d)}}function f2(s){return s=ki(s),d2(s)}var Xp=null;function d2(s){if(Xp=null,s=ka(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Xp=s,null}function N3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pl()){case Hf:return 2;case $f:return 8;case fs:case ym:return 32;case C0:return 268435456;default:return 32}default:return 32}}var h2=!1,Bs=null,Vs=null,Fs=null,Ud=new Map,zd=new Map,Us=[],Pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M3(s,u){switch(s){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Ud.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(u.pointerId)}}function Hd(s,u,d,g,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:b,targetContainers:[x]},u!==null&&(u=Mi(u),u!==null&&P3(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),s)}function Dj(s,u,d,g,x){switch(u){case"focusin":return Bs=Hd(Bs,s,u,d,g,x),!0;case"dragenter":return Vs=Hd(Vs,s,u,d,g,x),!0;case"mouseover":return Fs=Hd(Fs,s,u,d,g,x),!0;case"pointerover":var b=x.pointerId;return Ud.set(b,Hd(Ud.get(b)||null,s,u,d,g,x)),!0;case"gotpointercapture":return b=x.pointerId,zd.set(b,Hd(zd.get(b)||null,s,u,d,g,x)),!0}return!1}function k3(s){var u=ka(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,ua(s.priority,function(){D3(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,ua(s.priority,function(){D3(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yp(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=f2(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);rd=g,d.target.dispatchEvent(g),rd=null}else return u=Mi(d),u!==null&&P3(u),s.blockedOn=d,!1;u.shift()}return!0}function L3(s,u,d){Yp(s)&&d.delete(u)}function Nj(){h2=!1,Bs!==null&&Yp(Bs)&&(Bs=null),Vs!==null&&Yp(Vs)&&(Vs=null),Fs!==null&&Yp(Fs)&&(Fs=null),Ud.forEach(L3),zd.forEach(L3)}function Qp(s,u){s.blockedOn===u&&(s.blockedOn=null,h2||(h2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nj)))}var Zp=null;function j3(s){Zp!==s&&(Zp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zp===s&&(Zp=null);for(var u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],x=s[u+2];if(typeof g!="function"){if(d2(g||d)===null)continue;break}var b=Mi(d);b!==null&&(s.splice(u,3),u-=3,fy(b,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function kc(s){function u(q){return Qp(q,s)}Bs!==null&&Qp(Bs,s),Vs!==null&&Qp(Vs,s),Fs!==null&&Qp(Fs,s),Ud.forEach(u),zd.forEach(u);for(var d=0;d<Us.length;d++){var g=Us[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Us.length&&(d=Us[0],d.blockedOn===null);)k3(d),d.blockedOn===null&&Us.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],b=d[g+1],R=x[Zr]||null;if(typeof b=="function")R||j3(d);else if(R){var j=null;if(b&&b.hasAttribute("formAction")){if(x=b,R=b[Zr]||null)j=R.formAction;else if(d2(x)!==null)continue}else j=R.action;typeof j=="function"?d[g+1]=j:(d.splice(g,3),g-=3),j3(d)}}}function B3(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return x=R})},focusReset:"manual",scroll:"manual"})}function u(){x!==null&&(x(),x=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),x!==null&&(x(),x=null)}}}function p2(s){this._internalRoot=s}Jp.prototype.render=p2.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));var d=u.current,g=xi();O3(d,g,s,u,null,null)},Jp.prototype.unmount=p2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;O3(s.current,2,null,s,null,null),Np(),u[Na]=null}};function Jp(s){this._internalRoot=s}Jp.prototype.unstable_scheduleHydration=function(s){if(s){var u=N0();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Us.length&&u!==0&&u<Us[d].priority;d++);Us.splice(d,0,s),d===0&&k3(s)}};var V3=e.version;if(V3!=="19.2.0")throw Error(n(527,V3,"19.2.0"));se.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Mj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{sa=e1.inject(Mj),fn=e1}catch{}}return qd.createRoot=function(s,u){if(!i(s))throw Error(n(299));var d=!1,g="",x=GT,b=KT,R=WT;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),u=C3(s,1,!1,null,null,d,g,null,x,b,R,B3),s[Na]=u.current,Xy(s),new p2(u)},qd.hydrateRoot=function(s,u,d){if(!i(s))throw Error(n(299));var g=!1,x="",b=GT,R=KT,j=WT,q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),u=C3(s,1,!0,u,d??null,g,x,q,b,R,j,B3),u.context=I3(null),d=u.current,g=xi(),g=kl(g),x=Ts(g),x.callback=null,Cs(d,x,g),d=g,u.current.lanes=d,Nl(u,d),Xa(u),s[Na]=u.current,Xy(s),new Jp(u)},qd.version="19.2.0",qd}var X3;function qj(){if(X3)return m2.exports;X3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m2.exports=$j(),m2.exports}var Gj=qj();const Kj=co(Gj),Wj=({title:t})=>A.jsx("header",{children:t});var EP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y3=kn.createContext&&kn.createContext(EP),Xj=["attr","size","title"];function Yj(t,e){if(t==null)return{};var r=Qj(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qj(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K1.apply(this,arguments)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){Zj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zj(t,e,r){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jj(t){var e=eB(t,"string");return typeof e=="symbol"?e:e+""}function eB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t){return t&&t.map((e,r)=>kn.createElement(e.tag,W1({key:r},e.attr),AP(e.child)))}function Le(t){return e=>kn.createElement(tB,K1({attr:W1({},t.attr)},e),AP(t.child))}function tB(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=Yj(t,Xj),l=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),kn.createElement("svg",K1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:W1(W1({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&kn.createElement("title",null,a),t.children)};return Y3!==void 0?kn.createElement(Y3.Consumer,null,r=>e(r)):e(EP)}function rB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function nB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function nv(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function iB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function aB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function iv(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function av(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function ov(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function iw(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function oB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function Gh(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function sB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function lB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function uB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function cB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function b_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function fB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function dB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function SP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function hB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function sv(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function pB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function gB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function TP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function vB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function CP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function mB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function IP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function Zc(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function OP(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function yB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function xB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function _B(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function bB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"},child:[]}]})(t)}function w_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function aw(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function wB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function EB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function X1(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function ow(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function AB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function SB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function TB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function CB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function lv(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function IB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function Z3(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function OB(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function E_(t){return Le({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const RB=({currentScreen:t,onNavigate:e})=>{const r=[{screen:"home",icon:A.jsx(iB,{size:24}),label:"ホーム"},{screen:"meals",icon:A.jsx(ow,{size:24}),label:"食事"},{screen:"barcode",icon:A.jsx(nB,{size:24}),label:"スキャン"},{screen:"report",icon:A.jsx(rB,{size:24}),label:"レポート"},{screen:"settings",icon:A.jsx(aB,{size:24}),label:"設定"}];return A.jsx("nav",{id:"bottomNav",children:r.map(n=>A.jsxs("button",{className:`nav-item ${t===n.screen?"active":""}`,onClick:()=>e(n.screen),children:[A.jsx("span",{children:n.icon}),A.jsx("span",{children:n.label})]},n.screen))})},J3=t=>{let e;const r=new Set,n=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(m=>m(e,v))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f))},c=e=t(n,i,l);return l},PB=(t=>t?J3(t):J3),DB=t=>t;function NB(t,e=DB){const r=kn.useSyncExternalStore(t.subscribe,kn.useCallback(()=>e(t.getState()),[t,e]),kn.useCallback(()=>e(t.getInitialState()),[t,e]));return kn.useDebugValue(r),r}const e4=t=>{const e=PB(t),r=n=>NB(e,n);return Object.assign(r,e),r},xf=(t=>t?e4(t):e4);function Iu(t,e){try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`localStorage取得エラー (${t}):`,r),e}}function Vt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`localStorage保存エラー (${t}):`,r)}}const st={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings"},mn=[];for(let t=0;t<256;++t)mn.push((t+256).toString(16).slice(1));function MB(t,e=0){return(mn[t[e+0]]+mn[t[e+1]]+mn[t[e+2]]+mn[t[e+3]]+"-"+mn[t[e+4]]+mn[t[e+5]]+"-"+mn[t[e+6]]+mn[t[e+7]]+"-"+mn[t[e+8]]+mn[t[e+9]]+"-"+mn[t[e+10]]+mn[t[e+11]]+mn[t[e+12]]+mn[t[e+13]]+mn[t[e+14]]+mn[t[e+15]]).toLowerCase()}let b2;const kB=new Uint8Array(16);function LB(){if(!b2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b2=crypto.getRandomValues.bind(crypto)}return b2(kB)}const jB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t4={randomUUID:jB};function BB(t,e,r){t=t||{};const n=t.random??t.rng?.()??LB();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,MB(n)}function VB(t,e,r){return t4.randomUUID&&!t?t4.randomUUID():BB(t)}function tl(){return VB()}const FB=()=>{};var r4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},UB=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},PP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(v=64)),n.push(r[h],r[p],r[v],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new zB;const v=a<<2|l>>4;if(n.push(v),f!==64){const m=l<<4&240|f>>2;if(n.push(m),p!==64){const _=f<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HB=function(t){const e=RP(t);return PP.encodeByteArray(e,!0)},Y1=function(t){return HB(t).replace(/\./g,"")},DP=function(t){try{return PP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=()=>$B().__FIREBASE_DEFAULTS__,GB=()=>{if(typeof process>"u"||typeof r4>"u")return;const t=r4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DP(t[1]);return e&&JSON.parse(e)},uv=()=>{try{return FB()||qB()||GB()||KB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NP=t=>uv()?.emulatorHosts?.[t],WB=t=>{const e=NP(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},MP=()=>uv()?.config,kP=t=>uv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Y1(JSON.stringify(r)),Y1(JSON.stringify(o)),""].join(".")}const mh={};function QB(){const t={prod:[],emulator:[]};for(const e of Object.keys(mh))mh[e]?t.emulator.push(e):t.prod.push(e);return t}function ZB(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let n4=!1;function jP(t,e){if(typeof window>"u"||typeof document>"u"||!_f(window.location.host)||mh[t]===e||mh[t]||n4)return;mh[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=QB().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{n4=!0,o()},v}function h(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=ZB(n),m=r("text"),_=document.getElementById(m)||document.createElement("span"),w=r("learnmore"),E=document.getElementById(w)||document.createElement("a"),S=r("preprendIcon"),I=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),h(E,w);const M=f();c(I,S),O.append(I,_,E,M),document.body.appendChild(O)}a?(_.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function eV(){const t=uv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iV(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aV(){return!eV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oV(){try{return typeof indexedDB=="object"}catch{return!1}}function sV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="FirebaseError";class Jo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lV,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kh.prototype.create)}}class Kh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?uV(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Jo(i,l,n)}}function uV(t,e){return t.replace(cV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const cV=/\{\$([^}]+)}/g;function fV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ou(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(i4(a)&&i4(o)){if(!Ou(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function i4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ah(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function oh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dV(t,e){const r=new hV(t,e);return r.subscribe.bind(r)}class hV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=w2),i.error===void 0&&(i.error=w2),i.complete===void 0&&(i.complete=w2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function w2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class Ru{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gV=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new XB;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:uu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uu){return this.instances.has(e)}getOptions(e=uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=uu){return this.component?this.component.multipleInstances?e:uu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vV(t){return t===uu?void 0:t}function mV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new gV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const xV={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},_V=nt.INFO,bV={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},wV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=bV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sw{constructor(e){this.name=e,this._logLevel=_V,this._logHandler=wV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const EV=(t,e)=>e.some(r=>t instanceof r);let a4,o4;function AV(){return a4||(a4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return o4||(o4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BP=new WeakMap,A_=new WeakMap,VP=new WeakMap,E2=new WeakMap,lw=new WeakMap;function TV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(rl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&BP.set(r,t)}).catch(()=>{}),lw.set(e,t),e}function CV(t){if(A_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});A_.set(t,e)}let S_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return A_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return rl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IV(t){S_=t(S_)}function OV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(A2(this),e,...r);return VP.set(n,e.sort?e.sort():[e]),rl(n)}:SV().includes(t)?function(...e){return t.apply(A2(this),e),rl(BP.get(this))}:function(...e){return rl(t.apply(A2(this),e))}}function RV(t){return typeof t=="function"?OV(t):(t instanceof IDBTransaction&&CV(t),EV(t,AV())?new Proxy(t,S_):t)}function rl(t){if(t instanceof IDBRequest)return TV(t);if(E2.has(t))return E2.get(t);const e=RV(t);return e!==t&&(E2.set(t,e),lw.set(e,t)),e}const A2=t=>lw.get(t);function PV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=rl(o);return n&&o.addEventListener("upgradeneeded",c=>{n(rl(o.result),c.oldVersion,c.newVersion,rl(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const DV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],S2=new Map;function s4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S2.get(e))return S2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=NV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||DV.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return S2.set(e,a),a}IV(t=>({...t,get:(e,r,n)=>s4(e,r)||t.get(e,r,n),has:(e,r)=>!!s4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function kV(t){return t.getComponent()?.type==="VERSION"}const T_="@firebase/app",l4="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new sw("@firebase/app"),LV="@firebase/app-compat",jV="@firebase/analytics-compat",BV="@firebase/analytics",VV="@firebase/app-check-compat",FV="@firebase/app-check",UV="@firebase/auth",zV="@firebase/auth-compat",HV="@firebase/database",$V="@firebase/data-connect",qV="@firebase/database-compat",GV="@firebase/functions",KV="@firebase/functions-compat",WV="@firebase/installations",XV="@firebase/installations-compat",YV="@firebase/messaging",QV="@firebase/messaging-compat",ZV="@firebase/performance",JV="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",rF="@firebase/storage",nF="@firebase/storage-compat",iF="@firebase/firestore",aF="@firebase/ai",oF="@firebase/firestore-compat",sF="firebase",lF="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="[DEFAULT]",uF={[T_]:"fire-core",[LV]:"fire-core-compat",[BV]:"fire-analytics",[jV]:"fire-analytics-compat",[FV]:"fire-app-check",[VV]:"fire-app-check-compat",[UV]:"fire-auth",[zV]:"fire-auth-compat",[HV]:"fire-rtdb",[$V]:"fire-data-connect",[qV]:"fire-rtdb-compat",[GV]:"fire-fn",[KV]:"fire-fn-compat",[WV]:"fire-iid",[XV]:"fire-iid-compat",[YV]:"fire-fcm",[QV]:"fire-fcm-compat",[ZV]:"fire-perf",[JV]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[rF]:"fire-gcs",[nF]:"fire-gcs-compat",[iF]:"fire-fst",[oF]:"fire-fst-compat",[aF]:"fire-vertex","fire-js":"fire-js",[sF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map,cF=new Map,I_=new Map;function u4(t,e){try{t.container.addComponent(e)}catch(r){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Jc(t){const e=t.name;if(I_.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;I_.set(e,t);for(const r of Q1.values())u4(r,t);for(const r of cF.values())u4(r,t);return!0}function uw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new Kh("app","Firebase",fF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=lF;function FP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:C_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(r||(r=MP()),!r)throw nl.create("no-options");const a=Q1.get(i);if(a){if(Ou(r,a.options)&&Ou(n,a.config))return a;throw nl.create("duplicate-app",{appName:i})}const o=new yV(i);for(const c of I_.values())o.addComponent(c);const l=new dF(r,n,o);return Q1.set(i,l),l}function UP(t=C_){const e=Q1.get(t);if(!e&&t===C_&&MP())return FP();if(!e)throw nl.create("no-app",{appName:t});return e}function il(t,e,r){let n=uF[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(o.join(" "));return}Jc(new Ru(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="firebase-heartbeat-database",pF=1,Th="firebase-heartbeat-store";let T2=null;function zP(){return T2||(T2=PV(hF,pF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Th)}catch(r){console.warn(r)}}}}).catch(t=>{throw nl.create("idb-open",{originalErrorMessage:t.message})})),T2}async function gF(t){try{const r=(await zP()).transaction(Th),n=await r.objectStore(Th).get(HP(t));return await r.done,n}catch(e){if(e instanceof Jo)$o.warn(e.message);else{const r=nl.create("idb-get",{originalErrorMessage:e?.message});$o.warn(r.message)}}}async function c4(t,e){try{const n=(await zP()).transaction(Th,"readwrite");await n.objectStore(Th).put(e,HP(t)),await n.done}catch(r){if(r instanceof Jo)$o.warn(r.message);else{const n=nl.create("idb-set",{originalErrorMessage:r?.message});$o.warn(n.message)}}}function HP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1024,mF=30;class yF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _F(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=f4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>mF){const i=bF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$o.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f4(),{heartbeatsToSend:r,unsentEntries:n}=xF(this._heartbeatsCache.heartbeats),i=Y1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return $o.warn(e),""}}}function f4(){return new Date().toISOString().substring(0,10)}function xF(t,e=vF){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),d4(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),d4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class _F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oV()?sV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return c4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return c4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function d4(t){return Y1(JSON.stringify({version:2,heartbeats:t})).length}function bF(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){Jc(new Ru("platform-logger",e=>new MV(e),"PRIVATE")),Jc(new Ru("heartbeat",e=>new yF(e),"PRIVATE")),il(T_,l4,t),il(T_,l4,"esm2020"),il("fire-js","")}wF("");var h4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var al,$P;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function k(){}k.prototype=N.prototype,D.F=N.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(V,z,H){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return N.prototype[z].apply(V,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,k){k||(k=0);const V=Array(16);if(typeof N=="string")for(var z=0;z<16;++z)V[z]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(z=0;z<16;++z)V[z]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=D.g[0],k=D.g[1],z=D.g[2];let H=D.g[3],U;U=N+(H^k&(z^H))+V[0]+3614090360&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[1]+3905402710&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[2]+606105819&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[3]+3250441966&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[5]+1200080426&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[6]+2821735955&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[7]+4249261313&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[9]+2336552879&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[10]+4294925233&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[11]+2304563134&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(H^k&(z^H))+V[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=H+(z^N&(k^z))+V[13]+4254626195&4294967295,H=N+(U<<12&4294967295|U>>>20),U=z+(k^H&(N^k))+V[14]+2792965006&4294967295,z=H+(U<<17&4294967295|U>>>15),U=k+(N^z&(H^N))+V[15]+1236535329&4294967295,k=z+(U<<22&4294967295|U>>>10),U=N+(z^H&(k^z))+V[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[6]+3225465664&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[11]+643717713&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[0]+3921069994&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[10]+38016083&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[15]+3634488961&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[4]+3889429448&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[14]+3275163606&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[3]+4107603335&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[8]+1163531501&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(z^H&(k^z))+V[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=H+(k^z&(N^k))+V[2]+4243563512&4294967295,H=N+(U<<9&4294967295|U>>>23),U=z+(N^k&(H^N))+V[7]+1735328473&4294967295,z=H+(U<<14&4294967295|U>>>18),U=k+(H^N&(z^H))+V[12]+2368359562&4294967295,k=z+(U<<20&4294967295|U>>>12),U=N+(k^z^H)+V[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[8]+2272392833&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[11]+1839030562&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[14]+4259657740&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[4]+1272893353&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[7]+4139469664&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[10]+3200236656&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[0]+3936430074&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[3]+3572445317&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[6]+76029189&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(k^z^H)+V[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=H+(N^k^z)+V[12]+3873151461&4294967295,H=N+(U<<11&4294967295|U>>>21),U=z+(H^N^k)+V[15]+530742520&4294967295,z=H+(U<<16&4294967295|U>>>16),U=k+(z^H^N)+V[2]+3299628645&4294967295,k=z+(U<<23&4294967295|U>>>9),U=N+(z^(k|~H))+V[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[7]+1126891415&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[14]+2878612391&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[5]+4237533241&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[3]+2399980690&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[10]+4293915773&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[1]+2240044497&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[15]+4264355552&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[6]+2734768916&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[13]+1309151649&4294967295,k=z+(U<<21&4294967295|U>>>11),U=N+(z^(k|~H))+V[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=H+(k^(N|~z))+V[11]+3174756917&4294967295,H=N+(U<<10&4294967295|U>>>22),U=z+(N^(H|~k))+V[2]+718787259&4294967295,z=H+(U<<15&4294967295|U>>>17),U=k+(H^(z|~N))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+H&4294967295}n.prototype.v=function(D,N){N===void 0&&(N=D.length);const k=N-this.blockSize,V=this.C;let z=this.h,H=0;for(;H<N;){if(z==0)for(;H<=k;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<N;)if(V[z++]=D.charCodeAt(H++),z==this.blockSize){i(this,V),z=0;break}}else for(;H<N;)if(V[z++]=D[H++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=N},n.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)D[N++]=this.g[k]>>>V&255;return D};function a(D,N){var k=l;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=N(D)}function o(D,N){this.h=N;const k=[];let V=!0;for(let z=D.length-1;z>=0;z--){const H=D[z]|0;V&&H==N||(k[z]=H,V=!1)}this.g=k}var l={};function c(D){return-128<=D&&D<128?a(D,function(N){return new o([N|0],N<0?-1:0)}):new o([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return E(f(-D));const N=[];let k=1;for(let V=0;D>=k;V++)N[V]=D/k|0,k*=4294967296;return new o(N,0)}function h(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return E(h(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(N,8));let V=p;for(let H=0;H<D.length;H+=8){var z=Math.min(8,D.length-H);const U=parseInt(D.substring(H,H+z),N);z<8?(z=f(Math.pow(N,z)),V=V.j(z).add(f(U))):(V=V.j(k),V=V.add(f(U)))}return V}var p=c(0),v=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();let D=0,N=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);D+=(V>=0?V:4294967296+V)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(w(this))return"-"+E(this).toString(D);const N=f(Math.pow(D,6));var k=this;let V="";for(;;){const z=M(k,N).g;k=S(k,z.j(N));let H=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=z,_(k))return H+V;for(;H.length<6;)H="0"+H;V=H+V}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=S(this,D),w(D)?-1:_(D)?0:1};function E(D){const N=D.g.length,k=[];for(let V=0;V<N;V++)k[V]=~D.g[V];return new o(k,~D.h).add(v)}t.abs=function(){return w(this)?E(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),k=[];let V=0;for(let z=0;z<=N;z++){let H=V+(this.i(z)&65535)+(D.i(z)&65535),U=(H>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);V=U>>>16,H&=65535,U&=65535,k[z]=U<<16|H}return new o(k,k[k.length-1]&-2147483648?-1:0)};function S(D,N){return D.add(E(N))}t.j=function(D){if(_(this)||_(D))return p;if(w(this))return w(D)?E(this).j(E(D)):E(E(this).j(D));if(w(D))return E(this.j(E(D)));if(this.l(m)<0&&D.l(m)<0)return f(this.m()*D.m());const N=this.g.length+D.g.length,k=[];for(var V=0;V<2*N;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let z=0;z<D.g.length;z++){const H=this.i(V)>>>16,U=this.i(V)&65535,he=D.i(z)>>>16,be=D.i(z)&65535;k[2*V+2*z]+=U*be,I(k,2*V+2*z),k[2*V+2*z+1]+=H*be,I(k,2*V+2*z+1),k[2*V+2*z+1]+=U*he,I(k,2*V+2*z+1),k[2*V+2*z+2]+=H*he,I(k,2*V+2*z+2)}for(D=0;D<N;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=N;D<2*N;D++)k[D]=0;return new o(k,0)};function I(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function O(D,N){this.g=D,this.h=N}function M(D,N){if(_(N))throw Error("division by zero");if(_(D))return new O(p,p);if(w(D))return N=M(E(D),N),new O(E(N.g),E(N.h));if(w(N))return N=M(D,E(N)),new O(E(N.g),N.h);if(D.g.length>30){if(w(D)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var k=v,V=N;V.l(D)<=0;)k=L(k),V=L(V);var z=B(k,1),H=B(V,1);for(V=B(V,2),k=B(k,2);!_(V);){var U=H.add(V);U.l(D)<=0&&(z=z.add(k),H=U),V=B(V,1),k=B(k,1)}return N=S(D,z.j(N)),new O(z,N)}for(z=p;D.l(N)>=0;){for(k=Math.max(1,Math.floor(D.m()/N.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),H=f(k),U=H.j(N);w(U)||U.l(D)>0;)k-=V,H=f(k),U=H.j(N);_(H)&&(H=v),z=z.add(H),D=S(D,U)}return new O(z,D)}t.B=function(D){return M(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)&D.i(V);return new o(k,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)|D.i(V);return new o(k,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),k=[];for(let V=0;V<N;V++)k[V]=this.i(V)^D.i(V);return new o(k,this.h^D.h)};function L(D){const N=D.g.length+1,k=[];for(let V=0;V<N;V++)k[V]=D.i(V)<<1|D.i(V-1)>>>31;return new o(k,D.h)}function B(D,N){const k=N>>5;N%=32;const V=D.g.length-k,z=[];for(let H=0;H<V;H++)z[H]=N>0?D.i(H+k)>>>N|D.i(H+k+1)<<32-N:D.i(H+k);return new o(z,D.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,$P=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,al=o}).apply(typeof h4<"u"?h4:typeof self<"u"?self:typeof window<"u"?window:{});var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qP,sh,GP,D1,O_,KP,WP,XP;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof t1=="object"&&t1];for(var T=0;T<y.length;++T){var P=y[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(y,T){if(T)e:{var P=n;y=y.split(".");for(var F=0;F<y.length-1;F++){var X=y[F];if(!(X in P))break e;P=P[X]}y=y[y.length-1],F=P[y],T=T(F),T!=F&&T!=null&&e(P,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var P=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&P.push([F,T[F]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function c(y,T,P){return y.call.apply(y.bind,arguments)}function f(y,T,P){return f=c,f.apply(null,arguments)}function h(y,T){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function p(y,T){function P(){}P.prototype=T.prototype,y.Z=T.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(F,X,ne){for(var ge=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ge[$e-2]=arguments[$e];return T.prototype[X].apply(F,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const T=y.length;if(T>0){const P=Array(T);for(let F=0;F<T;F++)P[F]=y[F];return P}return[]}function _(y,T){for(let F=1;F<arguments.length;F++){const X=arguments[F];var P=typeof X;if(P=P!="object"?P:X?Array.isArray(X)?"array":P:"null",P=="array"||P=="object"&&typeof X.length=="number"){P=y.length||0;const ne=X.length||0;y.length=P+ne;for(let ge=0;ge<ne;ge++)y[P+ge]=X[ge]}else y.push(X)}}class w{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(y){o.setTimeout(()=>{throw y},0)}function S(){var y=D;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,P){const F=O.get();F.set(T,P),this.h?this.h.next=F:this.g=F,this.h=F}}var O=new w(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let L,B=!1,D=new I,N=()=>{const y=Promise.resolve(void 0);L=()=>{y.then(k)}};function k(){for(var y;y=S();){try{y.h.call(y.g)}catch(P){E(P)}var T=O;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}B=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};o.addEventListener("test",P,T),o.removeEventListener("test",P,T)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function he(y,T){z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(he,z),he.prototype.init=function(y,T){const P=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(P=="mouseover"?T=y.fromElement:P=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(y,T,P,F,X){this.listener=y,this.proxy=null,this.src=T,this.type=P,this.capture=!!F,this.ha=X,this.key=++Y,this.da=this.fa=!1}function me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Se(y,T,P){for(const F in y)T.call(P,y[F],F,y)}function Ge(y,T){for(const P in y)T.call(void 0,y[P],P,y)}function G(y){const T={};for(const P in y)T[P]=y[P];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,T){let P,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(P in F)y[P]=F[P];for(let ne=0;ne<ee.length;ne++)P=ee[ne],Object.prototype.hasOwnProperty.call(F,P)&&(y[P]=F[P])}}function _e(y){this.src=y,this.g={},this.h=0}_e.prototype.add=function(y,T,P,F,X){const ne=y.toString();y=this.g[ne],y||(y=this.g[ne]=[],this.h++);const ge=He(y,T,F,X);return ge>-1?(T=y[ge],P||(T.fa=!1)):(T=new se(T,this.src,ne,!!F,X),T.fa=P,y.push(T)),T};function Oe(y,T){const P=T.type;if(P in y.g){var F=y.g[P],X=Array.prototype.indexOf.call(F,T,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(F,X,1),ne&&(me(T),y.g[P].length==0&&(delete y.g[P],y.h--))}}function He(y,T,P,F){for(let X=0;X<y.length;++X){const ne=y[X];if(!ne.da&&ne.listener==T&&ne.capture==!!P&&ne.ha==F)return X}return-1}var et="closure_lm_"+(Math.random()*1e6|0),dr={};function pe(y,T,P,F,X){if(Array.isArray(T)){for(let ne=0;ne<T.length;ne++)pe(y,T[ne],P,F,X);return null}return P=us(P),y&&y[be]?y.J(T,P,l(F)?!!F.capture:!1,X):Fe(y,T,P,!1,F,X)}function Fe(y,T,P,F,X,ne){if(!T)throw Error("Invalid event type");const ge=l(X)?!!X.capture:!!X;let $e=pr(y);if($e||(y[et]=$e=new _e(y)),P=$e.add(T,P,F,ge,ne),P.proxy)return P;if(F=We(),P.proxy=F,F.src=y,F.listener=P,y.addEventListener)H||(X=ge),X===void 0&&(X=!1),y.addEventListener(T.toString(),F,X);else if(y.attachEvent)y.attachEvent(Qe(T.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function We(){function y(P){return T.call(y.src,y.listener,P)}const T=Br;return y}function de(y,T,P,F,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)de(y,T[ne],P,F,X);else F=l(F)?!!F.capture:!!F,P=us(P),y&&y[be]?(y=y.i,ne=String(T).toString(),ne in y.g&&(T=y.g[ne],P=He(T,P,F,X),P>-1&&(me(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete y.g[ne],y.h--)))):y&&(y=pr(y))&&(T=y.g[T.toString()],y=-1,T&&(y=He(T,P,F,X)),(P=y>-1?T[y]:null)&&hr(P))}function hr(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[be])Oe(T.i,y);else{var P=y.type,F=y.proxy;T.removeEventListener?T.removeEventListener(P,F,y.capture):T.detachEvent?T.detachEvent(Qe(P),F):T.addListener&&T.removeListener&&T.removeListener(F),(P=pr(T))?(Oe(P,y),P.h==0&&(P.src=null,T[et]=null)):me(y)}}}function Qe(y){return y in dr?dr[y]:dr[y]="on"+y}function Br(y,T){if(y.da)y=!0;else{T=new he(T,this);const P=y.listener,F=y.ha||y.src;y.fa&&hr(y),y=P.call(F,T)}return y}function pr(y){return y=y[et],y instanceof _e?y:null}var ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function us(y){return typeof y=="function"?y:(y[ci]||(y[ci]=function(T){return y.handleEvent(T)}),y[ci])}function Er(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}p(Er,V),Er.prototype[be]=!0,Er.prototype.removeEventListener=function(y,T,P,F){de(this,y,T,P,F)};function Vr(y,T){var P,F=y.G;if(F)for(P=[];F;F=F.G)P.push(F);if(y=y.M,F=T.type||T,typeof T=="string")T=new z(T,y);else if(T instanceof z)T.target=T.target||y;else{var X=T;T=new z(F,y),ye(T,X)}X=!0;let ne,ge;if(P)for(ge=P.length-1;ge>=0;ge--)ne=T.g=P[ge],X=cs(ne,F,!0,T)&&X;if(ne=T.g=y,X=cs(ne,F,!0,T)&&X,X=cs(ne,F,!1,T)&&X,P)for(ge=0;ge<P.length;ge++)ne=T.g=P[ge],X=cs(ne,F,!1,T)&&X}Er.prototype.N=function(){if(Er.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const P=y.g[T];for(let F=0;F<P.length;F++)me(P[F]);delete y.g[T],y.h--}}this.G=null},Er.prototype.J=function(y,T,P,F){return this.i.add(String(y),T,!1,P,F)},Er.prototype.K=function(y,T,P,F){return this.i.add(String(y),T,!0,P,F)};function cs(y,T,P,F){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let X=!0;for(let ne=0;ne<T.length;++ne){const ge=T[ne];if(ge&&!ge.da&&ge.capture==P){const $e=ge.listener,vr=ge.ha||ge.src;ge.fa&&Oe(y.i,ge),X=$e.call(vr,F)!==!1&&X}}return X&&!F.defaultPrevented}function mm(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(y,T||0)}function T0(y){y.g=mm(()=>{y.g=null,y.i&&(y.i=!1,T0(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Vn extends V{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:T0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(y){V.call(this),this.h=y,this.g={}}p(Pl,V);var Hf=[];function $f(y){Se(y.g,function(T,P){this.g.hasOwnProperty(P)&&hr(T)},y),y.g={}}Pl.prototype.N=function(){Pl.Z.N.call(this),$f(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=o.JSON.stringify,ym=o.JSON.parse,C0=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function I0(){}function O0(){}var sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){z.call(this,"d")}p(fn,z);function Ni(){z.call(this,"c")}p(Ni,z);var gr={},R0=null;function Xu(){return R0=R0||new Er}gr.Ia="serverreachability";function P0(y){z.call(this,gr.Ia,y)}p(P0,z);function Oa(y){const T=Xu();Vr(T,new P0(T))}gr.STAT_EVENT="statevent";function Dl(y,T){z.call(this,gr.STAT_EVENT,y),this.stat=T}p(Dl,z);function Ar(y){const T=Xu();Vr(T,new Dl(T,y))}gr.Ja="timingevent";function Ra(y,T){z.call(this,gr.Ja,y),this.size=T}p(Ra,z);function Pa(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},T)}function la(){this.g=!0}la.prototype.ua=function(){this.g=!1};function xm(y,T,P,F,X,ne){y.info(function(){if(y.g)if(ne){var ge="",$e=ne.split("&");for(let yt=0;yt<$e.length;yt++){var vr=$e[yt].split("=");if(vr.length>1){const Zt=vr[0];vr=vr[1];const ji=Zt.split("_");ge=ji.length>=2&&ji[1]=="type"?ge+(Zt+"="+vr+"&"):ge+(Zt+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+T+`
`+P+`
`+ge})}function D0(y,T,P,F,X,ne,ge){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+T+`
`+P+`
`+ne+" "+ge})}function Da(y,T,P,F){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+_m(y,P)+(F?" "+F:"")})}function Nl(y,T){y.info(function(){return"TIMEOUT: "+T})}la.prototype.info=function(){};function _m(y,T){if(!y.g)return T;if(!T)return null;try{const ne=JSON.parse(T);if(ne){for(y=0;y<ne.length;y++)if(Array.isArray(ne[y])){var P=ne[y];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<F.length;ge++)F[ge]=""}}}}return fs(ne)}catch{return T}}var Ml={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gf;function kl(){}p(kl,I0),kl.prototype.g=function(){return new XMLHttpRequest},Gf=new kl;function po(y){return encodeURIComponent(String(y))}function N0(y){var T=1;y=y.split(":");const P=[];for(;T>0&&y.length;)P.push(y.shift()),T--;return y.length&&P.push(y.join(":")),P}function ua(y,T,P,F){this.j=y,this.i=T,this.l=P,this.S=F||1,this.V=new Pl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}var Sr={},Zr={};function Na(y,T,P){y.M=1,y.A=Ll(Cr(T)),y.u=P,y.R=!0,Yu(y,null)}function Yu(y,T){y.F=Date.now(),Ma(y),y.B=Cr(y.A);var P=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),ec(P.i,"t",F),y.C=0,P=y.j.L,y.h=new ca,y.g=W0(y.j,P?T:null,!y.u),y.P>0&&(y.O=new Vn(f(y.Y,y,y.g),y.P)),T=y.V,P=y.g,F=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(Hf[0]=X.toString()),X=Hf);for(let ne=0;ne<X.length;ne++){const ge=pe(P,X[ne],F||T.handleEvent,!1,T.h||T);if(!ge)break;T.g[ge.key]=ge}T=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Oa(),xm(y.i,y.v,y.B,y.l,y.S,y.u)}ua.prototype.ba=function(y){y=y.target;const T=this.O;T&&ha(y)==3?T.j():this.Y(y)},ua.prototype.Y=function(y){try{if(y==this.g)e:{const $e=ha(this.g),vr=this.g.ya(),yt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||$e!=4||vr==7||(vr==8||yt<=0?Oa(3):Oa(2)),ka(this);var T=this.g.ca();this.X=T;var P=bm(this);if(this.o=T==200,D0(this.i,this.v,this.B,this.l,this.S,$e,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(F)){var ne=F;break t}}ne=null}if(y=ne)Da(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,La(this,y);else{this.o=!1,this.m=3,Ar(12),fi(this),Mi(this);break e}}if(this.R){y=!0;let Zt;for(;!this.K&&this.C<P.length;)if(Zt=k0(this,P),Zt==Zr){$e==4&&(this.m=4,Ar(14),y=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Sr){this.m=4,Ar(15),Da(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Da(this.i,this.l,Zt,null),La(this,Zt);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.m=1,Ar(16),y=!1),this.o=this.o&&y,!y)Da(this.i,this.l,P,"[Invalid Chunked Response]"),fi(this),Mi(this);else if(P.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),sd(ge),ge.P=!0,Ar(11))}}else Da(this.i,this.l,P,null),La(this,P);$e==4&&fi(this),this.o&&!this.K&&($e==4?$0(this.j,this):(this.o=!1,Ma(this)))}else vo(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Ar(12)):(this.m=0,Ar(13)),fi(this),Mi(this)}}}catch{}finally{}};function bm(y){if(!M0(y))return y.g.la();const T=dn(y.g);if(T==="")return"";let P="";const F=T.length,X=ha(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return fi(y),Mi(y),"";y.h.i=new o.TextDecoder}for(let ne=0;ne<F;ne++)y.h.h=!0,P+=y.h.i.decode(T[ne],{stream:!(X&&ne==F-1)});return T.length=0,y.h.g+=P,y.C=0,y.h.g}function M0(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function k0(y,T){var P=y.C,F=T.indexOf(`
`,P);return F==-1?Zr:(P=Number(T.substring(P,F)),isNaN(P)?Sr:(F+=1,F+P>T.length?Zr:(T=T.slice(F,F+P),y.C=F+P,T)))}ua.prototype.cancel=function(){this.K=!0,fi(this)};function Ma(y){y.T=Date.now()+y.H,Qu(y,y.H)}function Qu(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Pa(f(y.aa,y),T)}function ka(y){y.D&&(o.clearTimeout(y.D),y.D=null)}ua.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Nl(this.i,this.B),this.M!=2&&(Oa(),Ar(17)),fi(this),this.m=2,Mi(this)):Qu(this,this.T-y)};function Mi(y){y.j.I==0||y.K||$0(y.j,y)}function fi(y){ka(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,$f(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function La(y,T){try{var P=y.j;if(P.I!=0&&(P.g==y||Ba(P.h,y))){if(!y.L&&Ba(P.h,y)&&P.I==3){try{var F=P.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)ac(P),xs(P);else break e;Hl(P),Ar(18)}}else P.xa=X[1],0<P.xa-P.K&&X[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Pa(f(P.Va,P),6e3));ja(P.h)<=1&&P.ta&&(P.ta=void 0)}else $a(P,11)}else if((y.L||P.g==y)&&ac(P),!U(T))for(X=P.Ba.g.parse(T),T=0;T<X.length;T++){let yt=X[T];const Zt=yt[0];if(!(Zt<=P.K))if(P.K=Zt,yt=yt[1],P.I==2)if(yt[0]=="c"){P.M=yt[1],P.ba=yt[2];const ji=yt[3];ji!=null&&(P.ka=ji,P.j.info("VER="+P.ka));const qa=yt[4];qa!=null&&(P.za=qa,P.j.info("SVER="+P.za));const pa=yt[5];pa!=null&&typeof pa=="number"&&pa>0&&(F=1.5*pa,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const ga=y.g;if(ga){const $l=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var ne=F.h;ne.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Xf(ne,ne.h),ne.h=null))}if(F.G){const oc=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;oc&&(F.wa=oc,Tt(F.J,F.G,oc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var ge=y;if(F.na=K0(F,F.L?F.ba:null,F.W),ge.L){Yf(F.h,ge);var $e=ge,vr=F.O;vr&&($e.H=vr),$e.D&&(ka($e),Ma($e)),F.g=ge}else z0(F);P.i.length>0&&Ha(P)}else yt[0]!="stop"&&yt[0]!="close"||$a(P,7);else P.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?$a(P,7):ad(P):yt[0]!="noop"&&P.l&&P.l.qa(yt),P.A=0)}}Oa(4)}catch{}}var Tr=class{constructor(y,T){this.g=y,this.map=T}};function Kf(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ja(y){return y.h?1:y.g?y.g.size:0}function Ba(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Xf(y,T){y.g?y.g.add(T):y.h=T}function Yf(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}Kf.prototype.cancel=function(){if(this.i=Qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Qf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const P of y.g.values())T=T.concat(P.G);return T}return m(y.i)}var L0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(y,T){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const F=y[P].indexOf("=");let X,ne=null;F>=0?(X=y[P].substring(0,F),ne=y[P].substring(F+1)):X=y[P],T(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function di(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof di?(this.l=y.l,Jr(this,y.j),this.o=y.o,this.g=y.g,ds(this,y.u),this.h=y.h,Zf(this,F0(y.i)),this.m=y.m):y&&(T=String(y).match(L0))?(this.l=!1,Jr(this,T[1]||"",!0),this.o=Va(T[2]||""),this.g=Va(T[3]||"",!0),ds(this,T[4]),this.h=Va(T[5]||"",!0),Zf(this,T[6]||"",!0),this.m=Va(T[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}di.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(jl(T,Ju,!0),":");var P=this.g;return(P||T=="file")&&(y.push("//"),(T=this.o)&&y.push(jl(T,Ju,!0),"@"),y.push(po(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(jl(P,P.charAt(0)=="/"?Jf:j0,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",jl(P,B0)),y.join("")},di.prototype.resolve=function(y){const T=Cr(this);let P=!!y.j;P?Jr(T,y.j):P=!!y.o,P?T.o=y.o:P=!!y.g,P?T.g=y.g:P=y.u!=null;var F=y.h;if(P)ds(T,y.u);else if(P=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var X=T.h.lastIndexOf("/");X!=-1&&(F=T.h.slice(0,X+1)+F)}if(X=F,X==".."||X==".")F="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){F=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ge=0;ge<X.length;){const $e=X[ge++];$e=="."?F&&ge==X.length&&ne.push(""):$e==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),F&&ge==X.length&&ne.push("")):(ne.push($e),F=!0)}F=ne.join("/")}else F=X}return P?T.h=F:P=y.i.toString()!=="",P?Zf(T,F0(y.i)):P=!!y.m,P&&(T.m=y.m),T};function Cr(y){return new di(y)}function Jr(y,T,P){y.j=P?Va(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function ds(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function Zf(y,T,P){T instanceof ps?(y.i=T,tc(y.i,y.l)):(P||(T=jl(T,hs)),y.i=new ps(T,y.l))}function Tt(y,T,P){y.i.set(T,P)}function Ll(y){return Tt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Va(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function jl(y,T,P){return typeof y=="string"?(y=encodeURI(y).replace(T,Kn),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Kn(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ju=/[#\/\?@]/g,j0=/[#\?:]/g,Jf=/[#\?]/g,hs=/[#\?@]/g,B0=/#/g;function ps(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function Wn(y){y.g||(y.g=new Map,y.h=0,y.i&&Zu(y.i,function(T,P){y.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=ps.prototype,t.add=function(y,T){Wn(this),this.i=null,y=gs(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(T),this.h+=1,this};function V0(y,T){Wn(y),T=gs(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function ed(y,T){return Wn(y),T=gs(y,T),y.g.has(T)}t.forEach=function(y,T){Wn(this),this.g.forEach(function(P,F){P.forEach(function(X){y.call(T,X,F,this)},this)},this)};function td(y,T){Wn(y);let P=[];if(typeof T=="string")ed(y,T)&&(P=P.concat(y.g.get(gs(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)P=P.concat(y[T]);return P}t.set=function(y,T){return Wn(this),this.i=null,y=gs(this,y),ed(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=td(this,y),y.length>0?String(y[0]):T):T};function ec(y,T,P){V0(y,T),P.length>0&&(y.i=null,y.g.set(gs(y,T),m(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var P=T[F];const X=po(P);P=td(this,P);for(let ne=0;ne<P.length;ne++){let ge=X;P[ne]!==""&&(ge+="="+po(P[ne])),y.push(ge)}}return this.i=y.join("&")};function F0(y){const T=new ps;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function gs(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function tc(y,T){T&&!y.j&&(Wn(y),y.i=null,y.g.forEach(function(P,F){const X=F.toLowerCase();F!=X&&(V0(this,F),ec(this,X,P))},y)),y.j=T}function fa(y,T){const P=new la;if(o.Image){const F=new Image;F.onload=h(ki,P,"TestLoadImage: loaded",!0,T,F),F.onerror=h(ki,P,"TestLoadImage: error",!1,T,F),F.onabort=h(ki,P,"TestLoadImage: abort",!1,T,F),F.ontimeout=h(ki,P,"TestLoadImage: timeout",!1,T,F),o.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else T(!1)}function rd(y,T){const P=new la,F=new AbortController,X=setTimeout(()=>{F.abort(),ki(P,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?ki(P,"TestPingServer: ok",!0,T):ki(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),ki(P,"TestPingServer: error",!1,T)})}function ki(y,T,P,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(P)}catch{}}function vs(){this.g=new C0}function Fa(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Fa,I0),Fa.prototype.g=function(){return new Bl(this.i,this.h)};function Bl(y,T){Er.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Bl,Er),t=Bl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,da(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?ms(this):da(this),this.readyState==3&&rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ms(this))},t.Na=function(y){this.g&&(this.response=y,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(y){y.readyState=4,y.l=null,y.j=null,y.B=null,da(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=T.next();return y.join(`\r
`)};function da(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Li(y){let T="";return Se(y,function(P,F){T+=F,T+=":",T+=P,T+=`\r
`}),T}function Vl(y,T,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=Li(P),typeof y=="string"?P!=null&&po(P):Tt(y,T,P))}function Nt(y){Er.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Nt,Er);var Ua=/^https?$/i,nd=["POST","PUT"];t=Nt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gf.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ne){Fl(this,ne);return}if(y=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)P.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())P.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(nd,T,void 0)>=0)||F||X||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of P)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ne){Fl(this,ne)}};function Fl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,id(y),go(y)}function id(y){y.A||(y.A=!0,Vr(y,"complete"),Vr(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Vr(this,"complete"),Vr(this,"abort"),go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ul(this):this.Xa())},t.Xa=function(){Ul(this)};function Ul(y){if(y.h&&typeof a<"u"){if(y.v&&ha(y)==4)setTimeout(y.Ca.bind(y),0);else if(Vr(y,"readystatechange"),ha(y)==4){y.h=!1;try{const ne=y.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var F;if(F=ne===0){let ge=String(y.D).match(L0)[1]||null;!ge&&o.self&&o.self.location&&(ge=o.self.location.protocol.slice(0,-1)),F=!Ua.test(ge?ge.toLowerCase():"")}P=F}if(P)Vr(y,"complete"),Vr(y,"success");else{y.o=6;try{var X=ha(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",id(y)}}finally{go(y)}}}}function go(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,T||Vr(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ha(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ha(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),ym(T)}};function dn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(y){const T={};y=(y.g&&ha(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(U(y[F]))continue;var P=N0(y[F]);const X=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ne=T[X]||[];T[X]=ne,ne.push(P)}Ge(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(y,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||T}function ys(y){this.za=0,this.i=[],this.j=new la,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=za("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=za("baseRetryDelayMs",5e3,y),this.Za=za("retryDelaySeedMs",1e4,y),this.Ta=za("forwardChannelMaxRetries",2,y),this.va=za("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Kf(y&&y.concurrentRequestLimit),this.Ba=new vs,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ys.prototype,t.ka=8,t.I=1,t.connect=function(y,T,P,F){Ar(0),this.W=y,this.H=T||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=K0(this,null,this.W),Ha(this)};function ad(y){if(nc(y),y.I==3){var T=y.V++,P=Cr(y.J);if(Tt(P,"SID",y.M),Tt(P,"RID",T),Tt(P,"TYPE","terminate"),zl(y,P),T=new ua(y,y.j,T),T.M=2,T.A=Ll(Cr(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=T.A,P=!0),P||(T.g=W0(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Ma(T)}G0(y)}function xs(y){y.g&&(sd(y),y.g.cancel(),y.g=null)}function nc(y){xs(y),y.v&&(o.clearTimeout(y.v),y.v=null),ac(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Ha(y){if(!Wf(y.h)&&!y.m){y.m=!0;var T=y.Ea;L||N(),B||(L(),B=!0),D.add(T,y),y.D=0}}function ic(y,T){return ja(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Pa(f(y.Ea,y,T),q0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new ua(this,this.j,y);let ne=this.o;if(this.U&&(ne?(ne=G(ne),ye(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=U0(this,X,T),P=Cr(this.J),Tt(P,"RID",y),Tt(P,"CVER",22),this.G&&Tt(P,"X-HTTP-Session-Id",this.G),zl(this,P),ne&&(this.R?T="headers="+po(Li(ne))+"&"+T:this.u&&Vl(P,this.u,ne)),Xf(this.h,X),this.Ra&&Tt(P,"TYPE","init"),this.S?(Tt(P,"$req",T),Tt(P,"SID","null"),X.U=!0,Na(X,P,null)):Na(X,P,T),this.I=2}}else this.I==3&&(y?od(this,y):this.i.length==0||Wf(this.h)||od(this))};function od(y,T){var P;T?P=T.l:P=y.V++;const F=Cr(y.J);Tt(F,"SID",y.M),Tt(F,"RID",P),Tt(F,"AID",y.K),zl(y,F),y.u&&y.o&&Vl(F,y.u,y.o),P=new ua(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),T&&(y.i=T.G.concat(y.i)),T=U0(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Xf(y.h,P),Na(P,F,T)}function zl(y,T){y.H&&Se(y.H,function(P,F){Tt(T,F,P)}),y.l&&Se({},function(P,F){Tt(T,F,P)})}function U0(y,T,P){P=Math.min(y.i.length,P);const F=y.l?f(y.l.Ka,y.l,y):null;e:{var X=y.i;let $e=-1;for(;;){const vr=["count="+P];$e==-1?P>0?($e=X[0].g,vr.push("ofs="+$e)):$e=0:vr.push("ofs="+$e);let yt=!0;for(let Zt=0;Zt<P;Zt++){var ne=X[Zt].g;const ji=X[Zt].map;if(ne-=$e,ne<0)$e=Math.max(0,X[Zt].g-100),yt=!1;else try{ne="req"+ne+"_"||"";try{var ge=ji instanceof Map?ji:Object.entries(ji);for(const[qa,pa]of ge){let ga=pa;l(pa)&&(ga=fs(pa)),vr.push(ne+qa+"="+encodeURIComponent(ga))}}catch(qa){throw vr.push(ne+"type="+encodeURIComponent("_badmap")),qa}}catch{F&&F(ji)}}if(yt){ge=vr.join("&");break e}}ge=void 0}return y=y.i.splice(0,P),T.G=y,ge}function z0(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;L||N(),B||(L(),B=!0),D.add(T,y),y.A=0}}function Hl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Pa(f(y.Da,y),q0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,H0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Pa(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ar(10),xs(this),H0(this))};function sd(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function H0(y){y.g=new ua(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=Cr(y.na);Tt(T,"RID","rpc"),Tt(T,"SID",y.M),Tt(T,"AID",y.K),Tt(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Tt(T,"TO",y.ia),Tt(T,"TYPE","xmlhttp"),zl(y,T),y.u&&y.o&&Vl(T,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=Ll(Cr(T)),P.u=null,P.R=!0,Yu(P,y)}t.Va=function(){this.C!=null&&(this.C=null,xs(this),Hl(this),Ar(19))};function ac(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function $0(y,T){var P=null;if(y.g==T){ac(y),sd(y),y.g=null;var F=2}else if(Ba(y.h,T))P=T.G,Yf(y.h,T),F=1;else return;if(y.I!=0){if(T.o)if(F==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var X=y.D;F=Xu(),Vr(F,new Ra(F,P)),Ha(y)}else z0(y);else if(X=T.m,X==3||X==0&&T.X>0||!(F==1&&ic(y,T)||F==2&&Hl(y)))switch(P&&P.length>0&&(T=y.h,T.i=T.i.concat(P)),X){case 1:$a(y,5);break;case 4:$a(y,10);break;case 3:$a(y,6);break;default:$a(y,2)}}}function q0(y,T){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*T}function $a(y,T){if(y.j.info("Error code "+T),T==2){var P=f(y.bb,y),F=y.Ua;const X=!F;F=new di(F||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Jr(F,"https"),Ll(F),X?fa(F.toString(),P):rd(F.toString(),P)}else Ar(2);y.I=0,y.l&&y.l.pa(T),G0(y),nc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function G0(y){if(y.I=0,y.ja=[],y.l){const T=Qf(y.h);(T.length!=0||y.i.length!=0)&&(_(y.ja,T),_(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function K0(y,T,P){var F=P instanceof di?Cr(P):new di(P);if(F.g!="")T&&(F.g=T+"."+F.g),ds(F,F.u);else{var X=o.location;F=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;const ne=new di(null);F&&Jr(ne,F),T&&(ne.g=T),X&&ds(ne,X),P&&(ne.h=P),F=ne}return P=y.G,T=y.wa,P&&T&&Tt(F,P,T),Tt(F,"VER",y.ka),zl(y,F),F}function W0(y,T,P){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Nt(new Fa({ab:P})):new Nt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function X0(){}t=X0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _s(){}_s.prototype.g=function(y,T){return new Fn(y,T)};function Fn(y,T){Er.call(this),this.g=new ys(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!U(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new mo(this)}p(Fn,Er),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){ad(this.g)},Fn.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=fs(y),y=P);T.i.push(new Tr(T.Ya++,y)),T.I==3&&Ha(T)},Fn.prototype.N=function(){this.g.l=null,delete this.j,ad(this.g),delete this.g,Fn.Z.N.call(this)};function Y0(y){fn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const P in T){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(Y0,fn);function Q0(){Ni.call(this),this.status=1}p(Q0,Ni);function mo(y){this.g=y}p(mo,X0),mo.prototype.ra=function(){Vr(this.g,"a")},mo.prototype.qa=function(y){Vr(this.g,new Y0(y))},mo.prototype.pa=function(y){Vr(this.g,new Q0)},mo.prototype.oa=function(){Vr(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,XP=function(){return new _s},WP=function(){return Xu()},KP=gr,O_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ml.NO_ERROR=0,Ml.TIMEOUT=8,Ml.HTTP_ERROR=6,D1=Ml,qf.COMPLETE="complete",GP=qf,O0.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",Er.prototype.listen=Er.prototype.J,sh=O0,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,qP=Nt}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});const p4="@firebase/firestore",g4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new sw("@firebase/firestore");function Vc(){return Pu.logLevel}function we(t,...e){if(Pu.logLevel<=nt.DEBUG){const r=e.map(cw);Pu.debug(`Firestore (${wf}): ${t}`,...r)}}function qo(t,...e){if(Pu.logLevel<=nt.ERROR){const r=e.map(cw);Pu.error(`Firestore (${wf}): ${t}`,...r)}}function ef(t,...e){if(Pu.logLevel<=nt.WARN){const r=e.map(cw);Pu.warn(`Firestore (${wf}): ${t}`,...r)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,YP(t,n,r)}function YP(t,e,r){let n=`FIRESTORE (${wf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw qo(n),new Error(n)}function St(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||YP(e,i,n)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Jo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Dn.UNAUTHENTICATED)))}shutdown(){}}class AF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class SF{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){St(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fo)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(St(typeof n.accessToken=="string",31837,{l:n}),new QP(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class TF{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CF{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new TF(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IF{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){St(this.o===void 0,3512);const n=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(St(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new v4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=OF(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function R_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return C2(i)===C2(a)?it(i,a):C2(i)?1:-1}return it(t.length,e.length)}const RF=55296,PF=57343;function C2(t){const e=t.charCodeAt(0);return e>=RF&&e<=PF}function tf(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="__name__";class Ya{constructor(e,r,n){r===void 0?r=0:r>e.length&&Be(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Be(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Ya.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return it(e.length,r.length)}static compareSegments(e,r){const n=Ya.isNumericId(e),i=Ya.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ya.extractNumericId(e).compare(Ya.extractNumericId(r)):R_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return al.fromString(e.substring(4,e.length-2))}}class Ht extends Ya{construct(e,r,n){return new Ht(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Ht(r)}static emptyPath(){return new Ht([])}}const DF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Ya{construct(e,r,n){return new En(e,r,n)}static isValidIdentifier(e){return DF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m4}static keyField(){return new En([m4])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(r)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ht.fromString(e))}static fromName(e){return new De(Ht.fromString(e).popFirst(5))}static empty(){return new De(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ht.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t,e,r){if(!r)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NF(t,e,r,n){if(e===!0&&n===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function y4(t){if(!De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x4(t){if(De.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cv(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Xh(t,e){if(!JP(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new xe(ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=-62135596800,b4=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*b4);return new Qt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<_4)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b4}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xh(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:Mr("string",Qt._jsonSchemaVersion),seconds:Mr("number"),nanoseconds:Mr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Qt(0,0))}static max(){return new Ve(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function MF(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(n===1e9?new Qt(r+1,0):new Qt(r,n));return new cl(i,De.empty(),e)}function kF(t){return new cl(t.readTime,t.key,Ch)}class cl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new cl(Ve.min(),De.empty(),Ch)}static max(){return new cl(Ve.max(),De.empty(),Ch)}}function LF(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=De.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==jF)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):fe.reject(r)}static resolve(e){return new fe(((r,n)=>{r(e)}))}static reject(e){return new fe(((r,n)=>{n(e)}))}static waitFor(e){return new fe(((r,n)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&r()}),(c=>n(c)))})),o=!0,a===i&&r()}))}static or(e){let r=fe.resolve(!1);for(const n of e)r=r.next((i=>i?fe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new fe(((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next((h=>{o[f]=h,++l,l===a&&n(o)}),(h=>i(h)))}}))}static doWhile(e,r){return new fe(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function VF(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-1;function dv(t){return t==null}function Z1(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!Z1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="";function UF(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=w4(e)),e=zF(t.get(r),e);return w4(e)}function zF(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case eD:r+="";break;default:r+=a}}return r}function w4(t){return t+eD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function bl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function tD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,r){this.comparator=e,this.root=r||bn.EMPTY}insert(e,r){return new ar(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new r1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new r1(this.root,e,this.comparator,!1)}getReverseIterator(){return new r1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new r1(this.root,e,this.comparator,!0)}}class r1{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new bn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new bn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new A4(this.data.getIterator())}getIteratorFrom(e){return new A4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Wr(this.comparator);return r.data=e,r}}class A4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Ti([])}unionWith(e){let r=new Wr(En.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ti(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rD("Invalid base64 string: "+a):a}})(e);return new Sn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const HF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(St(!!t,39018),typeof t=="string"){let e=0;const r=HF.exec(t);if(St(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="server_timestamp",iD="__type__",aD="__previous_value__",oD="__local_write_time__";function hw(t){return(t?.mapValue?.fields||{})[iD]?.stringValue===nD}function hv(t){const e=t.mapValue.fields[aD];return hw(e)?hv(e):e}function Ih(t){const e=fl(t.mapValue.fields[oD].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,r,n,i,a,o,l,c,f,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const J1="(default)";class Oh{constructor(e,r){this.projectId=e,this.database=r||J1}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===J1}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="__type__",qF="__max__",n1={mapValue:{}},lD="__vector__",eg="value";function hl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:KF(t)?9007199254740991:GF(t)?10:11:Be(28295,{value:t})}function ao(t,e){if(t===e)return!0;const r=hl(t);if(r!==hl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=fl(i.timestampValue),l=fl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return dl(i.bytesValue).isEqual(dl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return _r(i.geoPointValue.latitude)===_r(a.geoPointValue.latitude)&&_r(i.geoPointValue.longitude)===_r(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return _r(i.integerValue)===_r(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=_r(i.doubleValue),l=_r(a.doubleValue);return o===l?Z1(o)===Z1(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return tf(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(E4(o)!==E4(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ao(o[c],l[c])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Rh(t,e){return(t.values||[]).find((r=>ao(r,e)))!==void 0}function rf(t,e){if(t===e)return 0;const r=hl(t),n=hl(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=_r(a.integerValue||a.doubleValue),c=_r(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return S4(t.timestampValue,e.timestampValue);case 4:return S4(Ih(t),Ih(e));case 5:return R_(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=dl(a),c=dl(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=it(l[f],c[f]);if(h!==0)return h}return it(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=it(_r(a.latitude),_r(o.latitude));return l!==0?l:it(_r(a.longitude),_r(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return T4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},c=o.fields||{},f=l[eg]?.arrayValue,h=c[eg]?.arrayValue,p=it(f?.values?.length||0,h?.values?.length||0);return p!==0?p:T4(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===n1.mapValue&&o===n1.mapValue)return 0;if(a===n1.mapValue)return 1;if(o===n1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=R_(c[p],h[p]);if(v!==0)return v;const m=rf(l[c[p]],f[h[p]]);if(m!==0)return m}return it(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:r})}}function S4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=fl(t),n=fl(e),i=it(r.seconds,n.seconds);return i!==0?i:it(r.nanos,n.nanos)}function T4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=rf(r[i],n[i]);if(a)return a}return it(r.length,n.length)}function nf(t){return P_(t)}function P_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=fl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return dl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return De.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=P_(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${P_(r.fields[o])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function N1(t){switch(hl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hv(t);return e?16+N1(e):16;case 5:return 2*t.stringValue.length;case 6:return dl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+N1(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return bl(n.fields,((a,o)=>{i+=a.length+N1(o)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function C4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D_(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function I4(t){return!!t&&"nullValue"in t}function O4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M1(t){return!!t&&"mapValue"in t}function GF(t){return(t?.mapValue?.fields||{})[sD]?.stringValue===lD}function yh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=yh(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yh(t.arrayValue.values[r]);return e}return{...t}}function KF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!M1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(r)}setAll(e){let r=En.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=yh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());M1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];M1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){bl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ni(yh(this.value))}}function uD(t){const e=[];return bl(t.fields,((r,n)=>{const i=new En([r]);if(M1(n)){const a=uD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,Ve.min(),Ve.min(),Ve.min(),ni.empty(),0)}static newFoundDocument(e,r,n,i){return new Nn(e,1,r,Ve.min(),n,i,0)}static newNoDocument(e,r){return new Nn(e,2,r,Ve.min(),Ve.min(),ni.empty(),0)}static newUnknownDocument(e,r){return new Nn(e,3,r,Ve.min(),Ve.min(),ni.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,r){this.position=e,this.inclusive=r}}function R4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=De.comparator(De.fromName(o.referenceValue),r.key):n=rf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function P4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ao(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,r="asc"){this.field=e,this.dir=r}}function WF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class Nr extends cD{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new YF(e,r,n):r==="array-contains"?new JF(e,n):r==="in"?new eU(e,n):r==="not-in"?new tU(e,n):r==="array-contains-any"?new rU(e,n):new Nr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new QF(e,n):new ZF(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(rf(r,this.value)):r!==null&&hl(this.value)===hl(r)&&this.matchesComparison(rf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends cD{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ca(e,r)}matches(e){return fD(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fD(t){return t.op==="and"}function dD(t){return XF(t)&&fD(t)}function XF(t){for(const e of t.filters)if(e instanceof Ca)return!1;return!0}function N_(t){if(t instanceof Nr)return t.field.canonicalString()+t.op.toString()+nf(t.value);if(dD(t))return t.filters.map((e=>N_(e))).join(",");{const e=t.filters.map((r=>N_(r))).join(",");return`${t.op}(${e})`}}function hD(t,e){return t instanceof Nr?(function(n,i){return i instanceof Nr&&n.op===i.op&&n.field.isEqual(i.field)&&ao(n.value,i.value)})(t,e):t instanceof Ca?(function(n,i){return i instanceof Ca&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,l)=>a&&hD(o,i.filters[l])),!0):!1})(t,e):void Be(19439)}function pD(t){return t instanceof Nr?(function(r){return`${r.field.canonicalString()} ${r.op} ${nf(r.value)}`})(t):t instanceof Ca?(function(r){return r.op.toString()+" {"+r.getFilters().map(pD).join(" ,")+"}"})(t):"Filter"}class YF extends Nr{constructor(e,r,n){super(e,r,n),this.key=De.fromName(n.referenceValue)}matches(e){const r=De.comparator(e.key,this.key);return this.matchesComparison(r)}}class QF extends Nr{constructor(e,r){super(e,"in",r),this.keys=gD("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class ZF extends Nr{constructor(e,r){super(e,"not-in",r),this.keys=gD("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function gD(t,e){return(e.arrayValue?.values||[]).map((r=>De.fromName(r.referenceValue)))}class JF extends Nr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return pw(r)&&Rh(r.arrayValue,this.value)}}class eU extends Nr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Rh(this.value.arrayValue,r)}}class tU extends Nr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Rh(this.value.arrayValue,r)}}class rU extends Nr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!pw(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Rh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function D4(t,e=null,r=[],n=[],i=null,a=null,o=null){return new nU(t,e,r,n,i,a,o)}function gw(t){const e=ze(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>N_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),dv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>nf(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>nf(n))).join(",")),e.Te=r}return e.Te}function vw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!WF(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!hD(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P4(t.startAt,e.startAt)&&P4(t.endAt,e.endAt)}function M_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iU(t,e,r,n,i,a,o,l){return new Sf(t,e,r,n,i,a,o,l)}function pv(t){return new Sf(t)}function N4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vD(t){return t.collectionGroup!==null}function xh(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Wr(En.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ph(a,n))})),r.has(En.keyField().canonicalString())||e.Ie.push(new Ph(En.keyField(),n))}return e.Ie}function Ja(t){const e=ze(t);return e.Ee||(e.Ee=aU(e,xh(t))),e.Ee}function aU(t,e){if(t.limitType==="F")return D4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ph(i.field,a)}));const r=t.endAt?new tg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new tg(t.startAt.position,t.startAt.inclusive):null;return D4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function k_(t,e){const r=t.filters.concat([e]);return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function L_(t,e,r){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function gv(t,e){return vw(Ja(t),Ja(e))&&t.limitType===e.limitType}function mD(t){return`${gw(Ja(t))}|lt:${t.limitType}`}function Fc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>pD(i))).join(", ")}]`),dv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>nf(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>nf(i))).join(",")),`Target(${n})`})(Ja(t))}; limitType=${t.limitType})`}function vv(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):De.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of xh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const f=R4(o,l,c);return o.inclusive?f<=0:f<0})(n.startAt,xh(n),i)||n.endAt&&!(function(o,l,c){const f=R4(o,l,c);return o.inclusive?f>=0:f>0})(n.endAt,xh(n),i))})(t,e)}function oU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yD(t){return(e,r)=>{let n=!1;for(const i of xh(t)){const a=sU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function sU(t,e,r){const n=t.field.isKeyField()?De.comparator(e.key,r.key):(function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?rf(c,f):Be(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return tD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new ar(De.comparator);function Go(){return lU}const xD=new ar(De.comparator);function lh(...t){let e=xD;for(const r of t)e=e.insert(r.key,r);return e}function _D(t){let e=xD;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function pu(){return _h()}function bD(){return _h()}function _h(){return new Hu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uU=new ar(De.comparator),cU=new Wr(De.comparator);function at(...t){let e=cU;for(const r of t)e=e.add(r);return e}const fU=new Wr(it);function dU(){return fU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z1(e)?"-0":e}}function wD(t){return{integerValue:""+t}}function hU(t,e){return FF(e)?wD(e):mw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this._=void 0}}function pU(t,e,r){return t instanceof rg?(function(i,a){const o={fields:{[iD]:{stringValue:nD},[oD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hw(a)&&(a=hv(a)),a&&(o.fields[aD]=a),{mapValue:o}})(r,e):t instanceof Dh?AD(t,e):t instanceof Nh?SD(t,e):(function(i,a){const o=ED(i,a),l=M4(o)+M4(i.Ae);return D_(o)&&D_(i.Ae)?wD(l):mw(i.serializer,l)})(t,e)}function gU(t,e,r){return t instanceof Dh?AD(t,e):t instanceof Nh?SD(t,e):r}function ED(t,e){return t instanceof ng?(function(n){return D_(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class rg extends mv{}class Dh extends mv{constructor(e){super(),this.elements=e}}function AD(t,e){const r=TD(e);for(const n of t.elements)r.some((i=>ao(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Nh extends mv{constructor(e){super(),this.elements=e}}function SD(t,e){let r=TD(e);for(const n of t.elements)r=r.filter((i=>!ao(i,n)));return{arrayValue:{values:r}}}class ng extends mv{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function M4(t){return _r(t.integerValue||t.doubleValue)}function TD(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vU(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Dh&&i instanceof Dh||n instanceof Nh&&i instanceof Nh?tf(n.elements,i.elements,ao):n instanceof ng&&i instanceof ng?ao(n.Ae,i.Ae):n instanceof rg&&i instanceof rg})(t.transform,e.transform)}class mU{constructor(e,r){this.version=e,this.transformResults=r}}class ta{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ta}static exists(e){return new ta(void 0,e)}static updateTime(e){return new ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function k1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yv{}function CD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yw(t.key,ta.none()):new Yh(t.key,t.data,ta.none());{const r=t.data,n=ni.empty();let i=new Wr(En.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new wl(t.key,n,new Ti(i.toArray()),ta.none())}}function yU(t,e,r){t instanceof Yh?(function(i,a,o){const l=i.value.clone(),c=L4(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof wl?(function(i,a,o){if(!k1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=L4(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(ID(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function bh(t,e,r,n){return t instanceof Yh?(function(a,o,l,c){if(!k1(a.precondition,o))return l;const f=a.value.clone(),h=j4(a.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,r,n):t instanceof wl?(function(a,o,l,c){if(!k1(a.precondition,o))return l;const f=j4(a.fieldTransforms,c,o),h=o.data;return h.setAll(ID(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,o,l){return k1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function xU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=ED(n.transform,i||null);a!=null&&(r===null&&(r=ni.empty()),r.set(n.field,a))}return r||null}function k4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&tf(n,i,((a,o)=>vU(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yh extends yv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends yv{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ID(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function L4(t,e,r){const n=new Map;St(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,gU(o,l,r[i]))}return n}function j4(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,pU(a,o,e))}return n}class yw extends yv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _U extends yv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=bh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=bh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=bD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=CD(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),at())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,((r,n)=>k4(r,n)))&&tf(this.baseMutations,e.baseMutations,((r,n)=>k4(r,n)))}}class xw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){St(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return uU})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new xw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,lt;function AU(t){switch(t){case ue.OK:return Be(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function OD(t){if(t===void 0)return qo("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Dr.OK:return ue.OK;case Dr.CANCELLED:return ue.CANCELLED;case Dr.UNKNOWN:return ue.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return ue.INTERNAL;case Dr.UNAVAILABLE:return ue.UNAVAILABLE;case Dr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Dr.NOT_FOUND:return ue.NOT_FOUND;case Dr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Dr.ABORTED:return ue.ABORTED;case Dr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Dr.DATA_LOSS:return ue.DATA_LOSS;default:return Be(39323,{code:t})}}(lt=Dr||(Dr={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new al([4294967295,4294967295],0);function B4(t){const e=SU().encode(t),r=new $P;return r.update(e),new Uint8Array(r.digest())}function V4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new al([r,n],0),new al([i,a],0)]}class _w{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new uh(`Invalid padding: ${r}`);if(n<0)throw new uh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new uh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new uh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=al.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(al.fromNumber(n)));return i.compare(TU)===1&&(i=new al([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=B4(e),[n,i]=V4(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new _w(a,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const r=B4(e),[n,i]=V4(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new xv(Ve.min(),i,new ar(it),Go(),at())}}class Qh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Qh(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class RD{constructor(e,r){this.targetId=e,this.Ce=r}}class PD{constructor(e,r,n=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class F4{constructor(){this.ve=0,this.Fe=U4(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),r=at(),n=at();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Be(38017,{changeType:a})}})),new Qh(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=U4()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Go(),this.Je=i1(),this.He=i1(),this.Ye=new ar(it)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(M_(a))if(n===0){const o=new De(a.path);this.et(r,o,Nn.newNoDocument(o,Ve.min()))}else St(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,f)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=dl(n).toUint8Array()}catch(c){if(c instanceof rD)return ef("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new _w(o,i,a)}catch(c){return ef(c instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&M_(l.target)){const c=new De(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Nn.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=at();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new xv(e,r,this.Ye,this.je,n);return this.je=Go(),this.Je=i1(),this.He=i1(),this.Ye=new ar(it),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new F4,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Wr(it),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Wr(it),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F4),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function i1(){return new ar(De.comparator)}function U4(){return new ar(De.comparator)}const IU={asc:"ASCENDING",desc:"DESCENDING"},OU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RU={and:"AND",or:"OR"};class PU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function j_(t,e){return t.useProto3Json||dv(e)?e:{value:e}}function ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DU(t,e){return ig(t,e.toTimestamp())}function eo(t){return St(!!t,49232),Ve.fromTimestamp((function(r){const n=fl(r);return new Qt(n.seconds,n.nanos)})(t))}function bw(t,e){return B_(t,e).canonicalString()}function B_(t,e){const r=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function ND(t){const e=Ht.fromString(t);return St(BD(e),10190,{key:e.toString()}),e}function V_(t,e){return bw(t.databaseId,e.path)}function I2(t,e){const r=ND(e);if(r.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new De(kD(r))}function MD(t,e){return bw(t.databaseId,e)}function NU(t){const e=ND(t);return e.length===4?Ht.emptyPath():kD(e)}function F_(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kD(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function z4(t,e,r){return{name:V_(t,e),fields:r.value.mapValue.fields}}function MU(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(St(h===void 0||typeof h=="string",58123),Sn.fromBase64String(h||"")):(St(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Sn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const h=f.code===void 0?ue.UNKNOWN:OD(f.code);return new xe(h,f.message||"")})(o);r=new PD(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=I2(t,n.document.name),a=eo(n.document.updateTime),o=n.document.createTime?eo(n.document.createTime):Ve.min(),l=new ni({mapValue:{fields:n.document.fields}}),c=Nn.newFoundDocument(i,a,o,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new L1(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=I2(t,n.document),a=n.readTime?eo(n.readTime):Ve.min(),o=Nn.newNoDocument(i,a),l=n.removedTargetIds||[];r=new L1([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=I2(t,n.document),a=n.removedTargetIds||[];r=new L1([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new EU(i,a),l=n.targetId;r=new RD(l,o)}}return r}function kU(t,e){let r;if(e instanceof Yh)r={update:z4(t,e.key,e.value)};else if(e instanceof yw)r={delete:V_(t,e.key)};else if(e instanceof wl)r={update:z4(t,e.key,e.data),updateMask:$U(e.fieldMask)};else{if(!(e instanceof _U))return Be(16599,{Vt:e.type});r={verify:V_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const l=o.transform;if(l instanceof rg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Dh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ng)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Be(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:DU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),r}function LU(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?eo(i.updateTime):eo(a);return o.isEqual(Ve.min())&&(o=eo(a)),new mU(o,i.transformResults||[])})(r,e)))):[]}function jU(t,e){return{documents:[MD(t,e.path)]}}function BU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=MD(t,i);const a=(function(f){if(f.length!==0)return jD(Ca.create(f,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:Uc(v.field),direction:UU(v.dir)}})(h)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=j_(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:r,parent:i}}function VU(t){let e=NU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){St(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=(function(p){const v=LD(p);return v instanceof Ca&&dD(v)?v.getFilters():[v]})(r.where));let o=[];r.orderBy&&(o=(function(p){return p.map((v=>(function(_){return new Ph(zc(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(r.orderBy));let l=null;r.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,dv(v)?null:v})(r.limit));let c=null;r.startAt&&(c=(function(p){const v=!!p.before,m=p.values||[];return new tg(m,v)})(r.startAt));let f=null;return r.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new tg(m,v)})(r.endAt)),iU(e,i,o,a,l,"F",c,f)}function FU(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function LD(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zc(r.unaryFilter.field);return Nr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=zc(r.unaryFilter.field);return Nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zc(r.unaryFilter.field);return Nr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zc(r.unaryFilter.field);return Nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Nr.create(zc(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ca.create(r.compositeFilter.filters.map((n=>LD(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(r.compositeFilter.op))})(t):Be(30097,{filter:t})}function UU(t){return IU[t]}function zU(t){return OU[t]}function HU(t){return RU[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function zc(t){return En.fromServerFormat(t.fieldPath)}function jD(t){return t instanceof Nr?(function(r){if(r.op==="=="){if(O4(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NAN"}};if(I4(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(O4(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NAN"}};if(I4(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(r.field),op:zU(r.op),value:r.value}}})(t):t instanceof Ca?(function(r){const n=r.getFilters().map((i=>jD(i)));return n.length===1?n[0]:{compositeFilter:{op:HU(r.op),filters:n}}})(t):Be(54877,{filter:t})}function $U(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function BD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,r,n,i,a=Ve.min(),o=Ve.min(),l=Sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.yt=e}}function GU(t){const e=VU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.Cn=new WU}addToCollectionParentIndex(e,r){return this.Cn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(cl.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(cl.min())}updateCollectionGroup(e,r,n){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class WU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wr(Ht.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wr(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VD=41943040;class ri{static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(VD,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new af(0)}static cr(){return new af(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="LruGarbageCollector",XU=1048576;function q4([t,e],[r,n]){const i=it(t,r);return i===0?it(e,n):i}class YU{constructor(e){this.Ir=e,this.buffer=new Wr(q4),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();q4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class QU{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we($4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Af(r)?we($4,"Ignoring IndexedDB error during garbage collection: ",r):await Ef(r)}await this.Vr(3e5)}))}}class ZU{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(fv.ce);const n=new YU(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(H4)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H4):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,l=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(f=Date.now(),Vc()<=nt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function JU(t,e){return new ZU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.changes=new Hu((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?fe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&bh(n.mutation,i,Ti.empty(),Qt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,at()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=at()){const i=pu();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=lh();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=pu();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,at())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let a=Go();const o=_h(),l=(function(){return _h()})();return r.forEach(((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof wl)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),bh(h.mutation,f,h.mutation.getFieldMask(),Qt.now())):o.set(f.key,Ti.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>o.set(f,h))),r.forEach(((f,h)=>l.set(f,new tz(h,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=_h();let i=new ar(((o,l)=>o-l)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Ti.empty();h=l.applyToLocalView(f,h),n.set(c,h);const p=(i.get(l.batchId)||at()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=bD();h.forEach((v=>{if(!a.has(v)){const m=CD(r.get(v),n.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):fe.resolve(pu());let l=Ch,c=a;return o.next((f=>fe.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,at()))).next((h=>({batchId:l,changes:_D(h)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new De(r)).next((n=>{let i=lh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=lh();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(c=>{const f=(function(p,v){return new Sf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next((h=>{h.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,Nn.newInvalidDocument(h)))}));let l=lh();return o.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&bh(h.mutation,f,Ti.empty(),Qt.now()),vv(r,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:eo(i.createTime)}})(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:GU(i.bundledQuery),readTime:eo(i.readTime)}})(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.overlays=new ar(De.comparator),this.qr=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=pu();return fe.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),fe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),fe.resolve()}getOverlaysForCollection(e,r,n){const i=pu(),a=r.length+1,o=new De(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ar(((f,h)=>f-h));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=pu(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=pu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return fe.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new wU(r,n));let a=this.qr.get(r);a===void 0&&(a=at(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.Qr=new Wr(nn.$r),this.Ur=new Wr(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new nn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new nn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new De(new Ht([])),n=new nn(r,e),i=new nn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new De(new Ht([])),n=new nn(r,e),i=new nn(r,e+1);let a=at();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new nn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class nn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return De.comparator(e.key,r.key)||it(e.Yr,r.Yr)}static Kr(e,r){return it(e.Yr,r.Yr)||De.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Wr(nn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new nn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,r){return fe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?dw:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new nn(r,0),i=new nn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wr(it);return r.forEach((i=>{const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{n=n.add(l.Yr)}))})),fe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;De.isDocumentKey(a)||(a=a.child(""));const o=new nn(new De(a),0);let l=new Wr(it);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){St(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return fe.forEach(r.mutations,(i=>{const a=new nn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new nn(r,0),i=this.Zr.firstAfterOrEqual(n);return fe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.ri=e,this.docs=(function(){return new ar(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return fe.resolve(n?n.document.mutableCopy():Nn.newInvalidDocument(r))}getEntries(e,r){let n=Go();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))})),fe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Go();const o=r.path,l=new De(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||LF(kF(h),n)<=0||(i.has(h.key)||vv(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Be(9500)}ii(e,r){return fe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new lz(this)}getSize(e){return fe.resolve(this.size)}}class lz extends ez{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),fe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.persistence=e,this.si=new Hu((r=>gw(r)),vw),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new ww,this.targetCount=0,this.ai=af.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),fe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new af(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.Pr(r),fe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return fe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),fe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return fe.resolve(n)}containsKey(e,r){return fe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,r){this.ui={},this.overlays={},this.ci=new fv(0),this.li=!1,this.li=!0,this.hi=new az,this.referenceDelegate=e(this),this.Pi=new uz(this),this.indexManager=new KU,this.remoteDocumentCache=(function(i){return new sz(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new qU(r),this.Ii=new nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new iz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new oz(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const i=new cz(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return fe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class cz extends BF{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Ri=new ww,this.Vi=null}static mi(e){return new Ew(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),fe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(n=>{const i=De.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return fe.or([()=>fe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class ag{constructor(e,r){this.persistence=e,this.pi=new Hu((n=>UF(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=JU(this,r)}static mi(e,r){return new ag(e,r)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return fe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?fe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((l=>{l||(n++,a.removeEntry(o,Ve.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=N1(e.data.value)),r}br(e,r,n){return fe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return fe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Aw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aV()?8:VF(jn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new fz;return this.Ss(e,r,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Vc()<=nt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Fc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Vc()<=nt.DEBUG&&we("QueryEngine","Query:",Fc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Vc()<=nt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Fc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ja(r))):fe.resolve())}ys(e,r){if(N4(r))return fe.resolve(null);let n=Ja(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=L_(r,null,"F"),n=Ja(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=at(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const f=this.Ds(r,l);return this.Cs(r,f,o,c.readTime)?this.ys(e,L_(r,null,"F")):this.vs(e,f,r,c)}))))})))))}ws(e,r,n,i){return N4(r)||i.isEqual(Ve.min())?fe.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?fe.resolve(null):(Vc()<=nt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(r)),this.vs(e,o,r,MF(i,Ch)).next((l=>l)))}))}Ds(e,r){let n=new Wr(yD(e));return r.forEach(((i,a)=>{vv(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Vc()<=nt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Fc(r)),this.ps.getDocumentsMatchingQuery(e,r,cl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="LocalStore",hz=3e8;class pz{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ar(it),this.xs=new Hu((a=>gw(a)),vw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function gz(t,e,r,n){return new pz(t,e,r,n)}async function UD(t,e){const r=ze(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],l=[];let c=at();for(const f of i){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function vz(t,e){const r=ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((_=>{m=m.next((()=>h.getEntry(c,_))).next((w=>{const E=f.docVersions.get(_);St(E!==null,48541),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=at();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function zD(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function mz(t,e){const r=ze(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;l.push(r.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,h.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(p,m),(function(w,E,S){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=hz?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,h)&&l.push(r.Pi.updateTargetData(a,m))}));let c=Go(),f=at();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(yz(a,o,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!n.isEqual(Ve.min())){const h=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(h)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(r.Ms=i,a)))}function yz(t,e,r){let n=at(),i=at();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Go();return r.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(Sw,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function xz(t,e){const r=ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=dw),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function _z(t,e){const r=ze(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,fe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new el(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function U_(t,e,r){const n=ze(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Af(o))throw o;we(Sw,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function G4(t,e,r){const n=ze(t);let i=Ve.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,h){const p=ze(c),v=p.xs.get(h);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,h)})(n,o,Ja(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Ve.min(),r?a:at()))).next((l=>(bz(n,oU(e),l),{documents:l,Qs:a})))))}function bz(t,e,r){let n=t.Os.get(e)||Ve.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class K4{constructor(){this.activeTargetIds=dU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wz{constructor(){this.Mo=new K4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="ConnectivityMonitor";class X4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(W4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(W4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=null;function z_(){return a1===null?a1=(function(){return 268435456+Math.round(2147483648*Math.random())})():a1++,"0x"+a1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="RestConnection",Az={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===J1?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=z_(),l=this.zo(e,r.toUriEncodedString());we(O2,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),h=_f(f);return this.Jo(e,l,c,n,h).then((p=>(we(O2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw ef(O2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=Az[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Cz extends Sz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=z_();return new Promise(((l,c)=>{const f=new qP;f.setWithCredentials(!0),f.listenOnce(GP.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case D1.NO_ERROR:const p=f.getResponseJson();we(On,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case D1.TIMEOUT:we(On,`RPC '${e}' ${o} timed out`),c(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case D1.HTTP_ERROR:const v=f.getStatus();if(we(On,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const w=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN})(_.status);c(new xe(w,_.message))}else c(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{we(On,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);we(On,`RPC '${e}' ${o} sending request:`,i),f.send(r,"POST",h,n,15)}))}T_(e,r,n){const i=z_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XP(),l=WP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");we(On,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);this.I_(p);let v=!1,m=!1;const _=new Tz({Yo:E=>{m?we(On,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(we(On,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),we(On,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),w=(E,S,I)=>{E.listen(S,(O=>{try{I(O)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(p,sh.EventType.OPEN,(()=>{m||(we(On,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(p,sh.EventType.CLOSE,(()=>{m||(m=!0,we(On,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),w(p,sh.EventType.ERROR,(E=>{m||(m=!0,ef(On,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),w(p,sh.EventType.MESSAGE,(E=>{if(!m){const S=E.data[0];St(!!S,16349);const I=S,O=I?.error||I[0]?.error;if(O){we(On,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let L=(function(N){const k=Dr[N];if(k!==void 0)return OD(k)})(M),B=O.message;L===void 0&&(L=ue.INTERNAL,B="Unknown error status: "+M+" with message "+O.message),m=!0,_.a_(new xe(L,B)),p.close()}else we(On,`RPC '${e}' stream ${i} received:`,S),_.u_(S)}})),w(l,KP.STAT_EVENT,(E=>{E.stat===O_.PROXY?we(On,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===O_.NOPROXY&&we(On,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function R2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return new PU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="PersistentStream";class $D{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HD(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(qo(r.toString()),qo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(Y4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(we(Y4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Iz extends $D{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=MU(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?eo(o.readTime):Ve.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=F_(this.serializer),r.addTarget=(function(a,o){let l;const c=o.target;if(l=M_(c)?{documents:jU(a,c)}:{query:BU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=DD(a,o.resumeToken);const f=j_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=ig(a,o.snapshotVersion.toTimestamp());const f=j_(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const n=FU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=F_(this.serializer),r.removeTarget=e,this.q_(r)}}class Oz extends $D{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=LU(e.writeResults,e.commitTime),n=eo(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=F_(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>kU(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{}class Pz extends Rz{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,B_(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ue.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,B_(r,n),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Dz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qo(r),this.aa=!1):we("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="RemoteStore";class Nz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{$u(this)&&(we(Du,"Restarting streams for network reachability change."),await(async function(c){const f=ze(c);f.Ea.add(4),await Zh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await bv(f)})(this))}))})),this.Ra=new Dz(n,i)}}async function bv(t){if($u(t))for(const e of t.da)await e(!0)}async function Zh(t){for(const e of t.da)await e(!1)}function qD(t,e){const r=ze(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Ow(r)?Iw(r):Tf(r).O_()&&Cw(r,e))}function Tw(t,e){const r=ze(t),n=Tf(r);r.Ia.delete(e),n.O_()&&GD(r,e),r.Ia.size===0&&(n.O_()?n.L_():$u(r)&&r.Ra.set("Unknown"))}function Cw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Tf(t).Y_(e)}function GD(t,e){t.Va.Ue(e),Tf(t).Z_(e)}function Iw(t){t.Va=new CU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tf(t).start(),t.Ra.ua()}function Ow(t){return $u(t)&&!Tf(t).x_()&&t.Ia.size>0}function $u(t){return ze(t).Ea.size===0}function KD(t){t.Va=void 0}async function Mz(t){t.Ra.set("Online")}async function kz(t){t.Ia.forEach(((e,r)=>{Cw(t,e)}))}async function Lz(t,e){KD(t),Ow(t)?(t.Ra.ha(e),Iw(t)):t.Ra.set("Unknown")}async function jz(t,e,r){if(t.Ra.set("Online"),e instanceof PD&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){we(Du,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await og(t,n)}else if(e instanceof L1?t.Va.Ze(e):e instanceof RD?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ve.min()))try{const n=await zD(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Sn.EMPTY_BYTE_STRING,h.snapshotVersion)),GD(a,c);const p=new el(h.target,c,f,h.sequenceNumber);Cw(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){we(Du,"Failed to raise snapshot:",n),await og(t,n)}}async function og(t,e,r){if(!Af(e))throw e;t.Ea.add(1),await Zh(t),t.Ra.set("Offline"),r||(r=()=>zD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Du,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await bv(t)}))}function WD(t,e){return e().catch((r=>og(t,r,e)))}async function wv(t){const e=ze(t),r=pl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dw;for(;Bz(e);)try{const i=await xz(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Vz(e,i)}catch(i){await og(e,i)}XD(e)&&YD(e)}function Bz(t){return $u(t)&&t.Ta.length<10}function Vz(t,e){t.Ta.push(e);const r=pl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function XD(t){return $u(t)&&!pl(t).x_()&&t.Ta.length>0}function YD(t){pl(t).start()}async function Fz(t){pl(t).ra()}async function Uz(t){const e=pl(t);for(const r of t.Ta)e.ea(r.mutations)}async function zz(t,e,r){const n=t.Ta.shift(),i=xw.from(n,e,r);await WD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wv(t)}async function Hz(t,e){e&&pl(t).X_&&await(async function(n,i){if((function(o){return AU(o)&&o!==ue.ABORTED})(i.code)){const a=n.Ta.shift();pl(n).B_(),await WD(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await wv(n)}})(t,e),XD(t)&&YD(t)}async function Q4(t,e){const r=ze(t);r.asyncQueue.verifyOperationInProgress(),we(Du,"RemoteStore received new credentials");const n=$u(r);r.Ea.add(3),await Zh(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await bv(r)}async function $z(t,e){const r=ze(t);e?(r.Ea.delete(2),await bv(r)):e||(r.Ea.add(2),await Zh(r),r.Ra.set("Unknown"))}function Tf(t){return t.ma||(t.ma=(function(r,n,i){const a=ze(r);return a.sa(),new Iz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Mz.bind(null,t),t_:kz.bind(null,t),r_:Lz.bind(null,t),H_:jz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ow(t)?Iw(t):t.Ra.set("Unknown")):(await t.ma.stop(),KD(t))}))),t.ma}function pl(t){return t.fa||(t.fa=(function(r,n,i){const a=ze(r);return a.sa(),new Oz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fz.bind(null,t),r_:Hz.bind(null,t),ta:Uz.bind(null,t),na:zz.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Du,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Rw(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(qo("AsyncQueue",`${e}: ${t}`),Af(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||De.comparator(r.key,n.key):(r,n)=>De.comparator(r.key,n.key),this.keyedMap=lh(),this.sortedSet=new ar(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Gc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.ga=new ar(De.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class of{constructor(e,r,n,i,a,o,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new of(e,r,Gc.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Gz{constructor(){this.queries=J4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ze(r),a=i.queries;i.queries=J4(),a.forEach(((o,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function J4(){return new Hu((t=>mD(t)),gv)}async function Dw(t,e){const r=ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new qz,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=Pw(o,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Mw(r)}async function Nw(t,e){const r=ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Kz(t,e){const r=ze(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&Mw(r)}function Wz(t,e,r){const n=ze(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Mw(t){t.Ca.forEach((e=>{e.next()}))}var H_,eI;(eI=H_||(H_={})).Ma="default",eI.Cache="cache";class kw{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new of(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==H_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.key=e}}class ZD{constructor(e){this.key=e}}class Xz{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=yD(e),this.tu=new Gc(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new Z4,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),m=vv(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;v&&m?v.data.isEqual(m.data)?_!==w&&(n.track({type:3,doc:m}),E=!0):this.su(v,m)||(n.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(n.track({type:0,doc:m}),E=!0):v&&!m&&(n.track({type:1,doc:v}),E=!0,(c||f)&&(l=!0)),E&&(m?(o=o.add(m),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(m,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:E})}};return w(m)-w(_)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new of(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new ZD(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new QD(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=at();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return of.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lw="SyncEngine";class Yz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Qz{constructor(e){this.key=e,this.hu=!1}}class Zz{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hu((l=>mD(l)),gv),this.Iu=new Map,this.Eu=new Set,this.du=new ar(De.comparator),this.Au=new Map,this.Ru=new ww,this.Vu={},this.mu=new Map,this.fu=af.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jz(t,e,r=!0){const n=i5(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await JD(n,e,r,!0),i}async function eH(t,e){const r=i5(t);await JD(r,e,!0,!1)}async function JD(t,e,r,n){const i=await _z(t.localStore,Ja(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await tH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&qD(t.remoteStore,i),l}async function tH(t,e,r,n,i){t.pu=(p,v,m)=>(async function(w,E,S,I){let O=E.view.ru(S);O.Cs&&(O=await G4(w.localStore,E.query,!1).then((({documents:D})=>E.view.ru(D,O))));const M=I&&I.targetChanges.get(E.targetId),L=I&&I.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(O,w.isPrimaryClient,M,L);return rI(w,E.targetId,B.au),B.snapshot})(t,p,v,m);const a=await G4(t.localStore,e,!0),o=new Xz(e,a.Qs),l=o.ru(a.documents),c=Qh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);rI(t,r,f.au);const h=new Yz(e,r,o);return t.Tu.set(e,h),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),f.snapshot}async function rH(t,e,r){const n=ze(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!gv(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await U_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Tw(n.remoteStore,i.targetId),$_(n,i.targetId)})).catch(Ef)):($_(n,i.targetId),await U_(n.localStore,i.targetId,!0))}async function nH(t,e){const r=ze(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Tw(r.remoteStore,n.targetId))}async function iH(t,e,r){const n=fH(t);try{const i=await(function(o,l){const c=ze(o),f=Qt.now(),h=l.reduce(((m,_)=>m.add(_.key)),at());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let _=Go(),w=at();return c.Ns.getEntries(m,h).next((E=>{_=E,_.forEach(((S,I)=>{I.isValidDocument()||(w=w.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,_))).next((E=>{p=E;const S=[];for(const I of l){const O=xU(I,p.get(I.key).overlayedDocument);O!=null&&S.push(new wl(I.key,O,uD(O.value.mapValue),ta.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,S,l)})).next((E=>{v=E;const S=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,E.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:_D(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new ar(it)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f})(n,i.batchId,r),await Jh(n,i.changes),await wv(n.remoteStore)}catch(i){const a=Pw(i,"Failed to persist write");r.reject(a)}}async function e5(t,e){const r=ze(t);try{const n=await mz(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?St(o.hu,14607):i.removedDocuments.size>0&&(St(o.hu,42227),o.hu=!1))})),await Jh(r,n,e)}catch(n){await Ef(n)}}function tI(t,e,r){const n=ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=ze(o);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&Mw(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function aH(t,e,r){const n=ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new ar(De.comparator);o=o.insert(a,Nn.newNoDocument(a,Ve.min()));const l=at().add(a),c=new xv(Ve.min(),new Map,new ar(it),o,l);await e5(n,c),n.du=n.du.remove(a),n.Au.delete(e),jw(n)}else await U_(n.localStore,e,!1).then((()=>$_(n,e,r))).catch(Ef)}async function oH(t,e){const r=ze(t),n=e.batch.batchId;try{const i=await vz(r.localStore,e);r5(r,n,null),t5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Jh(r,i)}catch(i){await Ef(i)}}async function sH(t,e,r){const n=ze(t);try{const i=await(function(o,l){const c=ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(St(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(n.localStore,e);r5(n,e,r),t5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Jh(n,i)}catch(i){await Ef(i)}}function t5(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function r5(t,e,r){const n=ze(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function $_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||n5(t,n)}))}function n5(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Tw(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),jw(t))}function rI(t,e,r){for(const n of r)n instanceof QD?(t.Ru.addReference(n.key,e),lH(t,n)):n instanceof ZD?(we(Lw,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||n5(t,n.key)):Be(19791,{wu:n})}function lH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(we(Lw,"New document in limbo: "+r),t.Eu.add(n),jw(t))}function jw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new De(Ht.fromString(e)),n=t.fu.next();t.Au.set(n,new Qz(r)),t.du=t.du.insert(r,n),qD(t.remoteStore,new el(Ja(pv(r.path)),n,"TargetPurposeLimboResolution",fv.ce))}}async function Jh(t,e,r){const n=ze(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{o.push(n.pu(c,e,r).then((f=>{if((f||r)&&n.isPrimaryClient){const h=f?!f.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){i.push(f);const h=Aw.As(c.targetId,f);a.push(h)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,f){const h=ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>h.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>h.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!Af(p))throw p;we(Sw,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=h.Ms.get(v),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(v,w)}}})(n.localStore,a))}async function uH(t,e){const r=ze(t);if(!r.currentUser.isEqual(e)){we(Lw,"User change. New user:",e.toKey());const n=await UD(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new xe(ue.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Jh(r,n.Ls)}}function cH(t,e){const r=ze(t),n=r.Au.get(e);if(n&&n.hu)return at().add(n.key);{let i=at();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function i5(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aH.bind(null,e),e.Pu.H_=Kz.bind(null,e.eventManager),e.Pu.yu=Wz.bind(null,e.eventManager),e}function fH(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}class sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return gz(this.persistence,new dz,e.initialUser,this.serializer)}Cu(e){return new FD(Ew.mi,this.serializer)}Du(e){return new wz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sg.provider={build:()=>new sg};class dH extends sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){St(this.persistence.referenceDelegate instanceof ag,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new QU(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new FD((n=>ag.mi(n,r)),this.serializer)}}class q_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),await $z(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Gz})()}createDatastore(e){const r=_v(e.databaseInfo.databaseId),n=(function(a){return new Cz(a)})(e.databaseInfo);return(function(a,o,l,c){return new Pz(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,l){return new Nz(n,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>tI(this.syncEngine,r,0)),(function(){return X4.v()?new X4:new Ez})())}createSyncEngine(e,r){return(function(i,a,o,l,c,f,h){const p=new Zz(i,a,o,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=ze(r);we(Du,"RemoteStore shutting down."),n.Ea.add(5),await Zh(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}q_.provider={build:()=>new q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="FirestoreClient";class hH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{we(gl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(we(gl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Pw(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function P2(t,e){t.asyncQueue.verifyOperationInProgress(),we(gl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await UD(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nI(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pH(t);we(gl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Q4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>Q4(e.remoteStore,i))),t._onlineComponents=e}async function pH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(gl,"Using user provided OfflineComponentProvider");try{await P2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;ef("Error using user provided cache. Falling back to memory cache: "+r),await P2(t,new sg)}}else we(gl,"Using default OfflineComponentProvider"),await P2(t,new dH(void 0));return t._offlineComponents}async function a5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(gl,"Using user provided OnlineComponentProvider"),await nI(t,t._uninitializedComponentsProvider._online)):(we(gl,"Using default OnlineComponentProvider"),await nI(t,new q_))),t._onlineComponents}function gH(t){return a5(t).then((e=>e.syncEngine))}async function lg(t){const e=await a5(t),r=e.eventManager;return r.onListen=Jz.bind(null,e.syncEngine),r.onUnlisten=rH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=eH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),r}function vH(t,e,r={}){const n=new Fo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new Bw({next:v=>{h.Nu(),o.enqueueAndForget((()=>Nw(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new kw(pv(l.path),h,{includeMetadataChanges:!0,qa:!0});return Dw(a,p)})(await lg(t),t.asyncQueue,e,r,n))),n.promise}function mH(t,e,r={}){const n=new Fo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new Bw({next:v=>{h.Nu(),o.enqueueAndForget((()=>Nw(a,p))),v.fromCache&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new kw(l,h,{includeMetadataChanges:!0,qa:!0});return Dw(a,p)})(await lg(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firestore.googleapis.com",aI=!0;class oI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s5,this.ssl=aI}else this.host=e.host,this.ssl=e.ssl??aI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XU)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o5(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ev{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new EF;switch(n.type){case"firstParty":return new CF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=iI.get(r);n&&(we("ComponentProvider","Removing Datastore"),iI.delete(r),n.terminate())})(this),Promise.resolve()}}function yH(t,e,r,n={}){t=oi(t,Ev);const i=_f(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(LP(`https://${l}`),jP("Firestore",!0)),a.host!==s5&&a.host!==l&&ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Ou(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=Dn.MOCK_USER;else{f=YB(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dn(p)}t._authCredentials=new AF(new QP(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class fr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Xh(r,fr._jsonSchema))return new fr(e,n||null,new De(Ht.fromString(r.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:Mr("string",fr._jsonSchemaVersion),referencePath:Mr("string")};class ol extends El{constructor(e,r,n){super(e,r,pv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new De(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function br(t,e,...r){if(t=jr(t),ZP("collection","path",e),t instanceof Ev){const n=Ht.fromString(e,...r);return x4(n),new ol(t,null,n)}{if(!(t instanceof fr||t instanceof ol))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return x4(n),new ol(t.firestore,null,n)}}function si(t,e,...r){if(t=jr(t),arguments.length===1&&(e=fw.newId()),ZP("doc","path",e),t instanceof Ev){const n=Ht.fromString(e,...r);return y4(n),new fr(t,null,new De(n))}{if(!(t instanceof fr||t instanceof ol))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ht.fromString(e,...r));return y4(n),new fr(t.firestore,t instanceof ol?t.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="AsyncQueue";class lI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HD(this,"async_queue_retry"),this._c=()=>{const n=R2();n&&we(sI,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=R2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=R2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Af(e))throw e;we(sI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,qo("INTERNAL UNHANDLED ERROR: ",uI(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Rw.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:uI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function uI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ko extends Ev{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new lI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lI(e),this._firestoreClient=void 0,await e}}}function xH(t,e){const r=typeof t=="object"?t:UP(),n=typeof t=="string"?t:J1,i=uw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=WB("firestore");a&&yH(i,...a)}return i}function Av(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_H(t),t._firestoreClient}function _H(t){const e=t._freezeSettings(),r=(function(i,a,o,l){return new $F(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,o5(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hH(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(Sn.fromBase64String(e))}catch(r){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Zi(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xh(e,Zi._jsonSchema))return Zi.fromBase64String(e.bytes)}}Zi._jsonSchemaVersion="firestore/bytes/1.0",Zi._jsonSchema={type:Mr("string",Zi._jsonSchemaVersion),bytes:Mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:to._jsonSchemaVersion}}static fromJSON(e){if(Xh(e,to._jsonSchema))return new to(e.latitude,e.longitude)}}to._jsonSchemaVersion="firestore/geoPoint/1.0",to._jsonSchema={type:Mr("string",to._jsonSchemaVersion),latitude:Mr("number"),longitude:Mr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ro._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xh(e,ro._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ro(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ro._jsonSchemaVersion="firestore/vectorValue/1.0",ro._jsonSchema={type:Mr("string",ro._jsonSchemaVersion),vectorValues:Mr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/^__.*__$/;class wH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Yh(e,this.data,r,this.fieldTransforms)}}class l5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new wl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function u5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class Fw{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ug(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u5(this.Ac)&&bH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||_v(e)}Cc(e,r,n,i=!1){return new Fw({Ac:e,methodName:r,Dc:n,path:En.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(t){const e=t._freezeSettings(),r=_v(t._databaseId);return new EH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function c5(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Uw("Data must be an object, but it was:",o,n);const l=f5(n,o);let c,f;if(a.merge)c=new Ti(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const v=G_(e,p,r);if(!o.contains(v))throw new xe(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);h5(h,v)||h.push(v)}c=new Ti(h),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new wH(new ni(l),c,f)}class Cv extends Vw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cv}}function AH(t,e,r,n){const i=t.Cc(1,e,r);Uw("Data must be an object, but it was:",i,n);const a=[],o=ni.empty();bl(n,((c,f)=>{const h=zw(e,c,r);f=jr(f);const p=i.yc(h);if(f instanceof Cv)a.push(h);else{const v=e0(f,p);v!=null&&(a.push(h),o.set(h,v))}}));const l=new Ti(a);return new l5(o,l,i.fieldTransforms)}function SH(t,e,r,n,i,a){const o=t.Cc(1,e,r),l=[G_(e,n,r)],c=[i];if(a.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(G_(e,a[v])),c.push(a[v+1]);const f=[],h=ni.empty();for(let v=l.length-1;v>=0;--v)if(!h5(f,l[v])){const m=l[v];let _=c[v];_=jr(_);const w=o.yc(m);if(_ instanceof Cv)f.push(m);else{const E=e0(_,w);E!=null&&(f.push(m),h.set(m,E))}}const p=new Ti(f);return new l5(h,p,o.fieldTransforms)}function TH(t,e,r,n=!1){return e0(r,t.Cc(n?4:3,e))}function e0(t,e){if(d5(t=jr(t)))return Uw("Unsupported field value:",e,t),f5(t,e);if(t instanceof Vw)return(function(n,i){if(!u5(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const l of n){let c=e0(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Qt.fromDate(n);return{timestampValue:ig(i.serializer,a)}}if(n instanceof Qt){const a=new Qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ig(i.serializer,a)}}if(n instanceof to)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zi)return{bytesValue:DD(i.serializer,n._byteString)};if(n instanceof fr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ro)return(function(o,l){return{mapValue:{fields:{[sD]:{stringValue:lD},[eg]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return mw(l.serializer,f)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${cv(n)}`)})(t,e)}function f5(t,e){const r={};return tD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,((n,i)=>{const a=e0(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function d5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof to||t instanceof Zi||t instanceof fr||t instanceof Vw||t instanceof ro)}function Uw(t,e,r){if(!d5(r)||!JP(r)){const n=cv(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function G_(t,e,r){if((e=jr(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return zw(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,r)}const CH=new RegExp("[~\\*/\\[\\]]");function zw(t,e,r){if(e.search(CH)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Sv(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ug(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new xe(ue.INVALID_ARGUMENT,l+t+c)}function h5(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class IH extends p5{data(){return super.data()}}function Hw(t,e){return typeof e=="string"?zw(t,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class v5 extends $w{}function Ci(t,e,...r){let n=[];e instanceof $w&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((c=>c instanceof Gw)).length,l=a.filter((c=>c instanceof qw)).length;if(o>1||o>0&&l>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class qw extends v5{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new qw(e,r,n)}_apply(e){const r=this._parse(e);return m5(e._query,r),new El(e.firestore,e.converter,k_(e._query,r))}_parse(e){const r=Tv(e.firestore);return(function(a,o,l,c,f,h,p){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){dI(p,h);const _=[];for(const w of p)_.push(fI(c,a,w));v={arrayValue:{values:_}}}else v=fI(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dI(p,h),v=TH(l,o,p,h==="in"||h==="not-in");return Nr.create(f,h,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Gw extends $w{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gw(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ca.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)m5(o,c),o=k_(o,c)})(e._query,r),new El(e.firestore,e.converter,k_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kw extends v5{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Kw(e,r)}_apply(e){const r=(function(i,a,o){if(i.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(a,o)})(e._query,this._field,this._direction);return new El(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Sf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function oo(t,e="asc"){const r=e,n=Hw("orderBy",t);return Kw._create(n,r)}function fI(t,e,r){if(typeof(r=jr(r))=="string"){if(r==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vD(e)&&r.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ht.fromString(r));if(!De.isDocumentKey(n))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return C4(t,new De(n))}if(r instanceof fr)return C4(t,r._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cv(r)}.`)}function dI(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m5(t,e){const r=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class OH{convertValue(e,r="none"){switch(hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return bl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[eg].arrayValue?.values?.map((n=>_r(n.doubleValue)));return new ro(r)}convertGeoPoint(e){return new to(_r(e.latitude),_r(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=hv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const r=fl(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ht.fromString(e);St(BD(n),9688,{name:e});const i=new Oh(n.get(1),n.get(3)),a=new De(n.popFirst(5));return i.isEqual(r)||qo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class ch{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends p5{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new j1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Hw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=bu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}bu._jsonSchemaVersion="firestore/documentSnapshot/1.0",bu._jsonSchema={type:Mr("string",bu._jsonSchemaVersion),bundleSource:Mr("string","DocumentSnapshot"),bundleName:Mr("string"),bundle:Mr("string")};class j1 extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ch(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new j1(this._firestore,this._userDataWriter,n.key,n,new ch(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new j1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new j1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:RH(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){t=oi(t,fr);const e=oi(t.firestore,Ko);return vH(Av(e),t._key).then((r=>x5(e,t,r)))}wu._jsonSchemaVersion="firestore/querySnapshot/1.0",wu._jsonSchema={type:Mr("string",wu._jsonSchemaVersion),bundleSource:Mr("string","QuerySnapshot"),bundleName:Mr("string"),bundle:Mr("string")};class Ww extends OH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,r)}}function Nu(t){t=oi(t,El);const e=oi(t.firestore,Ko),r=Av(e),n=new Ww(e);return g5(t._query),mH(r,t._query).then((i=>new wu(e,n,t,i)))}function DH(t,e,r){t=oi(t,fr);const n=oi(t.firestore,Ko),i=y5(t.converter,e);return Iv(n,[c5(Tv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ta.none())])}function Cf(t,e,r,...n){t=oi(t,fr);const i=oi(t.firestore,Ko),a=Tv(i);let o;return o=typeof(e=jr(e))=="string"||e instanceof Sv?SH(a,"updateDoc",t._key,e,r,n):AH(a,"updateDoc",t._key,e),Iv(i,[o.toMutation(t._key,ta.exists(!0))])}function Mu(t){return Iv(oi(t.firestore,Ko),[new yw(t._key,ta.none())])}function If(t,e){const r=oi(t.firestore,Ko),n=si(t),i=y5(t.converter,e);return Iv(r,[c5(Tv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ta.exists(!1))]).then((()=>n))}function Of(t,...e){t=jr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||cI(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(cI(e[n])){const c=e[n];e[n]=c.next?.bind(c),e[n+1]=c.error?.bind(c),e[n+2]=c.complete?.bind(c)}let a,o,l;if(t instanceof fr)o=oi(t.firestore,Ko),l=pv(t._key.path),a={next:c=>{e[n]&&e[n](x5(o,t,c))},error:e[n+1],complete:e[n+2]};else{const c=oi(t,El);o=oi(c.firestore,Ko),l=c._query;const f=new Ww(o);a={next:h=>{e[n]&&e[n](new wu(o,f,c,h))},error:e[n+1],complete:e[n+2]},g5(t._query)}return(function(f,h,p,v){const m=new Bw(v),_=new kw(h,m,p);return f.asyncQueue.enqueueAndForget((async()=>Dw(await lg(f),_))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>Nw(await lg(f),_)))}})(Av(o),l,i,a)}function Iv(t,e){return(function(n,i){const a=new Fo;return n.asyncQueue.enqueueAndForget((async()=>iH(await gH(n),i,a))),a.promise})(Av(t),e)}function x5(t,e,r){const n=r.docs.get(e._key),i=new Ww(t);return new bu(t,i,e._key,n,new ch(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){wf=i})(bf),Jc(new Ru("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Ko(new SF(n.getProvider("auth-internal")),new IF(o,n.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(f.options.projectId,h)})(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),il(p4,g4,e),il(p4,g4,"esm2020")})();var NH="firebase",MH="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */il(NH,MH,"app");function _5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kH=_5,b5=new Kh("auth","Firebase",_5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new sw("@firebase/auth");function LH(t,...e){cg.logLevel<=nt.WARN&&cg.warn(`Auth (${bf}): ${t}`,...e)}function B1(t,...e){cg.logLevel<=nt.ERROR&&cg.error(`Auth (${bf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw Yw(t,...e)}function Ta(t,...e){return Yw(t,...e)}function Xw(t,e,r){const n={...kH(),[e]:r};return new Kh("auth","Firebase",n).create(e,{appName:t.name})}function Uo(t){return Xw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jH(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&na(t,"argument-error"),Xw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return b5.create(t,...e)}function je(t,e,...r){if(!t)throw Yw(e,...r)}function Lo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw B1(e),new Error(e)}function Wo(t,e){t||Lo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return typeof self<"u"&&self.location?.href||""}function BH(){return hI()==="http:"||hI()==="https:"}function hI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BH()||rV()||"connection"in navigator)?navigator.onLine:!0}function FH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Wo(r>e,"Short delay should be less than long delay!"),this.isMobile=JB()||nV()}get(){return VH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){Wo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HH=new t0(3e4,6e4);function Al(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function es(t,e,r,n,i={}){return E5(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=Wh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return tV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&_f(t.emulatorConfig.host)&&(f.credentials="include"),w5.fetch()(await A5(t,t.config.apiHost,r,l),f)})}async function E5(t,e,r){t._canInitEmulator=!1;const n={...UH,...e};try{const i=new qH(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw o1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw o1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw o1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw o1(t,"user-disabled",o);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Xw(t,h,f);na(t,h)}}catch(i){if(i instanceof Jo)throw i;na(t,"network-request-failed",{message:String(i)})}}async function r0(t,e,r,n,i={}){const a=await es(t,e,r,n,i);return"mfaPendingCredential"in a&&na(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function A5(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?Qw(t.config,i):`${t.config.apiScheme}://${i}`;return zH.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function $H(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ta(this.auth,"network-request-failed")),HH.get())})}}function o1(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ta(t,e,n);return i.customData._tokenResponse=r,i}function pI(t){return t!==void 0&&t.enterprise!==void 0}class GH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return $H(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KH(t,e){return es(t,"GET","/v2/recaptchaConfig",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function fg(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XH(t,e=!1){const r=jr(t),n=await r.getIdToken(e),i=Zw(n);je(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:wh(D2(i.auth_time)),issuedAtTime:wh(D2(i.iat)),expirationTime:wh(D2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function D2(t){return Number(t)*1e3}function Zw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return B1("JWT malformed, contained fewer than 3 sections"),null;try{const i=DP(r);return i?JSON.parse(i):(B1("Failed to decode base64 JWT payload"),null)}catch(i){return B1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gI(t){const e=Zw(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Jo&&YH(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function YH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(t){const e=t.auth,r=await t.getIdToken(),n=await sf(t,fg(e,{idToken:r}));je(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?S5(i.providerUserInfo):[],o=JH(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new W_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function ZH(t){const e=jr(t);await dg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JH(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function S5(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e){const r=await E5(t,{},async()=>{const n=Wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await A5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&_f(t.emulatorConfig.host)&&(c.credentials="include"),w5.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function t$(t,e){return es(t,"POST","/v2/accounts:revokeToken",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){je(e.length!==0,"internal-error");const r=gI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await e$(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Kc;return n&&(je(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(je(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kc,this.toJSON())}_performRefresh(){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sa{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new QH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new W_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await sf(this,this.stsTokenManager.getToken(this.auth,e));return je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return XH(this,e)}reload(){return ZH(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Sa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await dg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await sf(this,WH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,f=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:_,stsTokenManager:w}=r;je(p&&w,e,"internal-error");const E=Kc.fromJSON(this.name,w);je(typeof p=="string",e,"internal-error"),Hs(n,e.name),Hs(i,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof m=="boolean",e,"internal-error"),Hs(a,e.name),Hs(o,e.name),Hs(l,e.name),Hs(c,e.name),Hs(f,e.name),Hs(h,e.name);const S=new Sa({uid:p,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:h});return _&&Array.isArray(_)&&(S.providerData=_.map(I=>({...I}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Kc;i.updateFromServerResponse(r);const a=new Sa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await dg(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?S5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new Kc;l.updateFromIdToken(n);const c=new Sa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new W_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;function jo(t){Wo(t instanceof Function,"Expected a class definition");let e=vI.get(t);return e?(Wo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}T5.type="NONE";const mI=T5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,r){return`firebase:${t}:${e}:${r}`}class Wc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=V1(this.userKey,i.apiKey,a),this.fullPersistenceKey=V1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await fg(this.auth,{idToken:e}).catch(()=>{});return r?Sa._fromGetAccountInfoResponse(this.auth,r,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wc(jo(mI),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||jo(mI);const o=V1(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const v=await fg(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Sa._fromGetAccountInfoResponse(e,v,h)}else p=Sa._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Wc(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Wc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D5(e))return"Blackberry";if(N5(e))return"Webos";if(I5(e))return"Safari";if((e.includes("chrome/")||O5(e))&&!e.includes("edge/"))return"Chrome";if(P5(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function C5(t=jn()){return/firefox\//i.test(t)}function I5(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O5(t=jn()){return/crios\//i.test(t)}function R5(t=jn()){return/iemobile/i.test(t)}function P5(t=jn()){return/android/i.test(t)}function D5(t=jn()){return/blackberry/i.test(t)}function N5(t=jn()){return/webos/i.test(t)}function Jw(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r$(t=jn()){return Jw(t)&&!!window.navigator?.standalone}function n$(){return iV()&&document.documentMode===10}function M5(t=jn()){return Jw(t)||P5(t)||N5(t)||D5(t)||/windows phone/i.test(t)||R5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e=[]){let r;switch(t){case"Browser":r=yI(jn());break;case"Worker":r=`${yI(jn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${bf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a$(t,e={}){return es(t,"GET","/v2/passwordPolicy",Al(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=6;class s${constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??o$,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xI(this),this.idTokenSubscription=new xI(this),this.beforeStateQueue=new i$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=jo(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await fg(this,{idToken:e}),n=await Sa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ai(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await dg(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(Uo(this));const r=e?jr(e):null;return r&&je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a$(this),r=new s$(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await t$(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&jo(e)||this._popupRedirectResolver;je(r,this,"argument-error"),this.redirectPersistenceManager=await Wc.create(this,[jo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LH(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sl(t){return jr(t)}class xI{constructor(e){this.auth=e,this.observer=null,this.addObserver=dV(r=>this.observer=r)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ov={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u$(t){Ov=t}function L5(t){return Ov.loadJS(t)}function c$(){return Ov.recaptchaEnterpriseScript}function f$(){return Ov.gapiScript}function d$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h${constructor(){this.enterprise=new p$}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class p${ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const g$="recaptcha-enterprise",j5="NO_RECAPTCHA";class v${constructor(e){this.type=g$,this.auth=Sl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{KH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new GH(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;pI(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(j5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h$().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&pI(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=c$();c.length!==0&&(c+=l),L5(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function _I(t,e,r,n=!1,i=!1){const a=new v$(t);let o;if(i)o=j5;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function X_(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _I(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _I(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e){const r=uw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ou(a,e??{}))return i;na(i,"already-initialized")}return r.initialize({options:e})}function y$(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(jo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function x$(t,e,r){const n=Sl(t);je(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=B5(e),{host:o,port:l}=_$(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){je(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),je(Ou(f,n.config.emulator)&&Ou(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,_f(o)?(LP(`${a}//${o}${c}`),jP("Auth",!0)):b$()}function B5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _$(t){const e=B5(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:bI(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:bI(o)}}}function bI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b$(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Lo("not implemented")}_getIdTokenResponse(e){return Lo("not implemented")}_linkToIdToken(e,r){return Lo("not implemented")}_getReauthenticationResolver(e){return Lo("not implemented")}}async function w$(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e){return r0(t,"POST","/v1/accounts:signInWithPassword",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e){return r0(t,"POST","/v1/accounts:signInWithEmailLink",Al(t,e))}async function S$(t,e){return r0(t,"POST","/v1/accounts:signInWithEmailLink",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends eE{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Mh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Mh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,r,"signInWithPassword",E$);case"emailLink":return A$(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,n,"signUpPassword",w$);case"emailLink":return S$(e,{idToken:r,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t,e){return r0(t,"POST","/v1/accounts:signInWithIdp",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="http://localhost";class ku extends eE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):na("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new ku(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Xc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Xc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xc(e,r)}buildRequest(){const e={requestUri:T$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Wh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I$(t){const e=ah(oh(t)).link,r=e?ah(oh(e)).deep_link_id:null,n=ah(oh(t)).deep_link_id;return(n?ah(oh(n)).link:null)||n||r||e||t}class tE{constructor(e){const r=ah(oh(e)),n=r.apiKey??null,i=r.oobCode??null,a=C$(r.mode??null);je(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=I$(e);try{return new tE(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.providerId=Rf.PROVIDER_ID}static credential(e,r){return Mh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=tE.parseLink(r);return je(n,"argument-error"),Mh._fromEmailAndCode(e,n.code,n.tenantId)}}Rf.PROVIDER_ID="password";Rf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends n0{constructor(){super("facebook.com")}static credential(e){return ku._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends n0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ku._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return No.credential(r,n)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends n0{constructor(){super("github.com")}static credential(e){return ku._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends n0{constructor(){super("twitter.com")}static credential(e,r){return ku._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Zs.credential(r,n)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return r0(t,"POST","/v1/accounts:signUp",Al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Sa._fromIdTokenResponse(e,n,i),o=wI(n);return new Lu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=wI(n);return new Lu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function wI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends Jo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,hg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new hg(e,r,n,i)}}function V5(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(t,a,e,n):a})}async function R$(t,e,r=!1){const n=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Lu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e,r=!1){const{auth:n}=t;if(Ai(n.app))return Promise.reject(Uo(n));const i="reauthenticate";try{const a=await sf(t,V5(n,i,e,t),r);je(a.idToken,n,"internal-error");const o=Zw(a.idToken);je(o,n,"internal-error");const{sub:l}=o;return je(t.uid===l,n,"user-mismatch"),Lu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&na(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e,r=!1){if(Ai(t.app))return Promise.reject(Uo(t));const n="signIn",i=await V5(t,n,e),a=await Lu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function D$(t,e){return F5(Sl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t){const e=Sl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N$(t,e,r){if(Ai(t.app))return Promise.reject(Uo(t));const n=Sl(t),o=await X_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O$).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&U5(t),c}),l=await Lu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function M$(t,e,r){return Ai(t.app)?Promise.reject(Uo(t)):D$(jr(t),Rf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&U5(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return es(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=jr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await sf(n,k$(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function j$(t,e,r,n){return jr(t).onIdTokenChanged(e,r,n)}function B$(t,e,r){return jr(t).beforeAuthStateChanged(e,r)}function V$(t,e,r,n){return jr(t).onAuthStateChanged(e,r,n)}function F$(t){return jr(t).signOut()}const pg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=1e3,z$=10;class H5 extends z5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);n$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z$):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},U$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}H5.type="LOCAL";const H$=H5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends z5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}$5.type="SESSION";const q5=$5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Rv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async f=>f(r.origin,a)),c=await $$(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=nE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function G$(t){no().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function K$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W$(){return navigator?.serviceWorker?.controller||null}function X$(){return G5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="firebaseLocalStorageDb",Y$=1,gg="firebaseLocalStorage",W5="fbase_key";class i0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Pv(t,e){return t.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function Q$(){const t=indexedDB.deleteDatabase(K5);return new i0(t).toPromise()}function Y_(){const t=indexedDB.open(K5,Y$);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(gg,{keyPath:W5})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(gg)?e(n):(n.close(),await Q$(),e(await Y_()))})})}async function EI(t,e,r){const n=Pv(t,!0).put({[W5]:e,value:r});return new i0(n).toPromise()}async function Z$(t,e){const r=Pv(t,!1).get(e),n=await new i0(r).toPromise();return n===void 0?null:n.value}function AI(t,e){const r=Pv(t,!0).delete(e);return new i0(r).toPromise()}const J$=800,eq=3;class X5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>eq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(X$()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K$(),!this.activeServiceWorker)return;this.sender=new q$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y_();return await EI(e,pg,"1"),await AI(e,pg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>EI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Z$(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>AI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Pv(i,!1).getAll();return new i0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X5.type="LOCAL";const tq=X5;new t0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e){return e?jo(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends eE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function rq(t){return F5(t.auth,new iE(t),t.bypassAuthState)}function nq(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),P$(r,new iE(t),t.bypassAuthState)}async function iq(t){const{auth:e,user:r}=t;return je(r,e,"internal-error"),R$(r,new iE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rq;case"linkViaPopup":case"linkViaRedirect":return iq;case"reauthViaPopup":case"reauthViaRedirect":return nq;default:na(this.auth,"internal-error")}}resolve(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new t0(2e3,1e4);async function oq(t,e,r){if(Ai(t.app))return Promise.reject(Ta(t,"operation-not-supported-in-this-environment"));const n=Sl(t);jH(t,e,rE);const i=Y5(n,r);return new gu(n,"signInViaPopup",e,i).executeNotNull()}class gu extends Q5{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Wo(this.filter.length===1,"Popup operations only handle one event");const e=nE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aq.get())};e()}}gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="pendingRedirect",F1=new Map;class lq extends Q5{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=F1.get(this.auth._key());if(!e){try{const n=await uq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}F1.set(this.auth._key(),e)}return this.bypassAuthState||F1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uq(t,e){const r=dq(e),n=fq(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function cq(t,e){F1.set(t._key(),e)}function fq(t){return jo(t._redirectPersistence)}function dq(t){return V1(sq,t.config.apiKey,t.name)}async function hq(t,e,r=!1){if(Ai(t.app))return Promise.reject(Uo(t));const n=Sl(t),i=Y5(n,e),o=await new lq(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=600*1e3;class gq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Z5(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Ta(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pq&&this.cachedEventUids.clear(),this.cachedEventUids.has(SI(e))}saveEventToCache(e){this.cachedEventUids.add(SI(e)),this.lastProcessedEventTime=Date.now()}}function SI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mq(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xq=/^https?/;async function _q(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mq(t);for(const r of e)try{if(bq(r))return}catch{}na(t,"unauthorized-domain")}function bq(t){const e=K_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!xq.test(r))return!1;if(yq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new t0(3e4,6e4);function TI(){const t=no().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Eq(t){return new Promise((e,r)=>{function n(){TI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TI(),r(Ta(t,"network-request-failed"))},timeout:wq.get()})}if(no().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(no().gapi?.load)n();else{const i=d$("iframefcb");return no()[i]=()=>{gapi.load?n():r(Ta(t,"network-request-failed"))},L5(`${f$()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw U1=null,e})}let U1=null;function Aq(t){return U1=U1||Eq(t),U1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=new t0(5e3,15e3),Tq="__/auth/iframe",Cq="emulator/auth/iframe",Iq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rq(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Qw(e,Cq):`https://${t.config.authDomain}/${Tq}`,n={apiKey:e.apiKey,appName:t.name,v:bf},i=Oq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Wh(n).slice(1)}`}async function Pq(t){const e=await Aq(t),r=no().gapi;return je(r,t,"internal-error"),e.open({where:document.body,url:Rq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iq,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ta(t,"network-request-failed"),l=no().setTimeout(()=>{a(o)},Sq.get());function c(){no().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nq=500,Mq=600,kq="_blank",Lq="http://localhost";class CI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jq(t,e,r,n=Nq,i=Mq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Dq,width:n.toString(),height:i.toString(),top:a,left:o},f=jn().toLowerCase();r&&(l=O5(f)?kq:r),C5(f)&&(e=e||Lq,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[m,_])=>`${v}${m}=${_},`,"");if(r$(f)&&l!=="_self")return Bq(e||"",l),new CI(null);const p=window.open(e||"",l,h);je(p,t,"popup-blocked");try{p.focus()}catch{}return new CI(p)}function Bq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="__/auth/handler",Fq="emulator/auth/handler",Uq=encodeURIComponent("fac");async function II(t,e,r,n,i,a){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:bf,eventId:i};if(e instanceof rE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof n0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${Uq}=${encodeURIComponent(c)}`:"";return`${zq(t)}?${Wh(l).slice(1)}${f}`}function zq({config:t}){return t.emulator?Qw(t,Fq):`https://${t.authDomain}/${Vq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="webStorageSupport";class Hq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q5,this._completeRedirectFn=hq,this._overrideRedirectResult=cq}async _openPopup(e,r,n,i){Wo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await II(e,r,n,K_(),i);return jq(e,a,nE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await II(e,r,n,K_(),i);return G$(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Wo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Pq(e),n=new gq(e);return r.register("authEvent",i=>(je(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(N2,{type:N2},i=>{const a=i?.[0]?.[N2];a!==void 0&&r(!!a),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=_q(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return M5()||I5()||Jw()}}const $q=Hq;var OI="@firebase/auth",RI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kq(t){Jc(new Ru("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k5(t)},f=new l$(n,i,a,c);return y$(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Jc(new Ru("auth-internal",e=>{const r=Sl(e.getProvider("auth").getImmediate());return(n=>new qq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),il(OI,RI,Gq(t)),il(OI,RI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=300,Xq=kP("authIdTokenMaxAge")||Wq;let PI=null;const Yq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Xq)return;const i=r?.token;PI!==i&&(PI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qq(t=UP()){const e=uw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=m$(t,{popupRedirectResolver:$q,persistence:[tq,H$,q5]}),n=kP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Yq(a.toString());B$(r,o,()=>o(r.currentUser)),j$(r,l=>o(l))}}const i=NP("auth");return i&&x$(r,`http://${i}`),r}function Zq(){return document.getElementsByTagName("head")?.[0]??document}u$({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ta("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Zq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kq("Browser");const Jq={apiKey:"AIzaSyDD5WN0iA3VjU0z8QDPYA_2008D0IHYv3E",authDomain:"osikko-paradice.firebaseapp.com",projectId:"osikko-paradice",storageBucket:"osikko-paradice.firebasestorage.app",messagingSenderId:"721996967143",appId:"1:721996967143:web:2add41591fe236c7c28642"},J5=FP(Jq),Dt=Qq(J5),gt=xH(J5),Et={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},At=(t,e)=>`users/${t}/${e}`,Gd={getAll:async t=>{const e=Ci(br(gt,At(t,Et.INTAKES)),oo("createdAt","desc"));return(await Nu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await If(br(gt,At(t,Et.INTAKES)),e)).id,update:async(t,e,r)=>{const n=si(gt,At(t,Et.INTAKES),e);await Cf(n,r)},delete:async(t,e)=>{const r=si(gt,At(t,Et.INTAKES),e);await Mu(r)},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.INTAKES)),oo("createdAt","desc"));return Of(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},M2={getAll:async t=>{const e=Ci(br(gt,At(t,Et.EXPENSES)),oo("createdAt","desc"));return(await Nu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await If(br(gt,At(t,Et.EXPENSES)),e)).id,update:async(t,e,r)=>{const n=si(gt,At(t,Et.EXPENSES),e);await Cf(n,r)},delete:async(t,e)=>{const r=si(gt,At(t,Et.EXPENSES),e);await Mu(r)},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.EXPENSES)),oo("createdAt","desc"));return Of(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},s1={getAll:async t=>{const e=Ci(br(gt,At(t,Et.STOCKS)),oo("createdAt","desc"));return(await Nu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await If(br(gt,At(t,Et.STOCKS)),e)).id,update:async(t,e,r)=>{const n=si(gt,At(t,Et.STOCKS),e);await Cf(n,r)},delete:async(t,e)=>{const r=si(gt,At(t,Et.STOCKS),e);await Mu(r)},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.STOCKS)),oo("createdAt","desc"));return Of(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},Kd={getAll:async t=>{const e=Ci(br(gt,At(t,Et.SHOPPING)),oo("createdAt","desc"));return(await Nu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await If(br(gt,At(t,Et.SHOPPING)),e)).id,update:async(t,e,r)=>{const n=si(gt,At(t,Et.SHOPPING),e);await Cf(n,r)},delete:async(t,e)=>{const r=si(gt,At(t,Et.SHOPPING),e);await Mu(r)},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.SHOPPING)),oo("createdAt","desc"));return Of(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},l1={getAll:async t=>{const e=Ci(br(gt,At(t,Et.RECIPES)),oo("createdAt","desc"));return(await Nu(e)).docs.map(n=>({id:n.id,...n.data()}))},add:async(t,e)=>(await If(br(gt,At(t,Et.RECIPES)),e)).id,update:async(t,e,r)=>{const n=si(gt,At(t,Et.RECIPES),e);await Cf(n,r)},delete:async(t,e)=>{const r=si(gt,At(t,Et.RECIPES),e);await Mu(r)},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.RECIPES)),oo("createdAt","desc"));return Of(r,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},u1={get:async t=>{const e=Ci(br(gt,At(t,Et.SETTINGS))),r=await Nu(e);return r.empty?null:r.docs[0].data()},set:async(t,e)=>{const r=Ci(br(gt,At(t,Et.SETTINGS))),n=await Nu(r);if(n.empty)return(await If(br(gt,At(t,Et.SETTINGS)),e)).id;{const i=si(gt,At(t,Et.SETTINGS),n.docs[0].id);return await Cf(i,e),n.docs[0].id}},subscribe:(t,e)=>{const r=Ci(br(gt,At(t,Et.SETTINGS)));return Of(r,n=>{if(n.empty)e(null);else{const i=n.docs[0].data();e(i)}})}},ts=xf((t,e)=>({intakes:Iu(st.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:r=>t({intakes:r}),setLoading:r=>t({loading:r}),setInitialized:r=>t({initialized:r}),addIntake:async r=>{const n=Dt.currentUser,i={id:tl(),...r,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Vt(st.INTAKES,o),{intakes:o}}),n)try{await Gd.add(n.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(r,n)=>{const i=Dt.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(c=>c.id===r?{...c,...a}:c);return Vt(st.INTAKES,l),{intakes:l}}),i)try{await Gd.update(i.uid,r,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==r);return Vt(st.INTAKES,a),{intakes:a}}),n)try{await Gd.delete(n.uid,r)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:r=>e().intakes.filter(i=>i.date.startsWith(r)),getTotalCaloriesByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:r=>e().getIntakesByDate(r).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${r.uid}`);const n=await Gd.getAll(r.uid);console.log(`[IntakeStore] Loaded ${n.length} intakes from Firestore`),t({intakes:n,loading:!1,initialized:!0}),Vt(st.INTAKES,n)}catch(n){console.error("Failed to sync intakes with Firestore:",n),t({loading:!1})}},subscribeToFirestore:()=>{const r=Dt.currentUser;if(!r)return;const n=e().unsubscribe;n&&n(),console.log(`[IntakeStore] Starting realtime sync for user: ${r.uid}`);const i=Gd.subscribe(r.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),Vt(st.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const r=e().unsubscribe;r&&(console.log("[IntakeStore] Stopping realtime sync"),r(),t({unsubscribe:null}))}})),rs=xf((t,e)=>({expenses:Iu(st.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:r=>t({expenses:r}),addExpense:async r=>{const n=Dt.currentUser,i={id:tl(),...r,date:r.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Vt(st.EXPENSES,o),{expenses:o}}),n)try{await M2.add(n.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==r);return Vt(st.EXPENSES,a),{expenses:a}}),n)try{await M2.delete(n.uid,r)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(r,n)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===r&&o.getMonth()+1===n}),getTotalByMonth:(r,n)=>e().getExpensesByMonth(r,n).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(r,n,i)=>e().getExpensesByMonth(n,i).filter(o=>o.category===r).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0});const n=await M2.getAll(r.uid);t({expenses:n,loading:!1,initialized:!0}),Vt(st.EXPENSES,n)}catch(n){console.error("Failed to sync expenses with Firestore:",n),t({loading:!1})}}})),fo=xf((t,e)=>({stocks:Iu(st.STOCKS,[]),loading:!1,initialized:!1,setStocks:r=>t({stocks:r}),addStock:async r=>{const n=Dt.currentUser,i={id:tl(),...r,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Vt(st.STOCKS,o),{stocks:o}}),n)try{await s1.add(n.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(r,n)=>{const i=Dt.currentUser,a={...n,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(c=>c.id===r?{...c,...a}:c);return Vt(st.STOCKS,l),{stocks:l}}),i)try{await s1.update(i.uid,r,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==r);return Vt(st.STOCKS,a),{stocks:a}}),n)try{await s1.delete(n.uid,r)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:r=>e().stocks.filter(i=>i.daysRemaining<=r),getStockIngredients:()=>e().stocks.map(n=>n.name),syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0});const n=await s1.getAll(r.uid);t({stocks:n,loading:!1,initialized:!0}),Vt(st.STOCKS,n)}catch(n){console.error("Failed to sync stocks with Firestore:",n),t({loading:!1})}}})),eG=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],qu=xf((t,e)=>({items:Iu(st.SHOPPING,[]),loading:!1,initialized:!1,setItems:r=>t({items:r}),addItem:async r=>{const n=Dt.currentUser;if(e().items.find(o=>o.name===r.name&&!o.checked))return;const a={id:tl(),...r,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return Vt(st.SHOPPING,l),{items:l}}),n)try{await Kd.add(n.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===r?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Vt(st.SHOPPING,a),{items:a}}),n)try{const i=e().items.find(a=>a.id===r);i&&await Kd.update(n.uid,r,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==r);return Vt(st.SHOPPING,a),{items:a}}),n)try{await Kd.delete(n.uid,r)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const r=Dt.currentUser,n=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Vt(st.SHOPPING,a),{items:a}}),r)try{await Promise.all(n.map(i=>Kd.delete(r.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(r=>{const n=r.items,i=[...n];return eG.forEach(a=>{n.find(l=>l.name===a.name&&!l.checked)||i.push({id:tl(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Vt(st.SHOPPING,i),{items:i}})},addLowStockItems:r=>{t(n=>{const i=n.items,a=[...i];return r.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:tl(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Vt(st.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0});const n=await Kd.getAll(r.uid);t({items:n,loading:!1,initialized:!0}),Vt(st.SHOPPING,n)}catch(n){console.error("Failed to sync shopping items with Firestore:",n),t({loading:!1})}}})),tG=10,a0=xf((t,e)=>({recipeHistory:Iu(st.RECIPE_HISTORY,[]),favoriteRecipes:Iu(st.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(r,n)=>t({recipeHistory:r,favoriteRecipes:n}),addToHistory:async r=>{const n=Dt.currentUser,i={id:tl(),recipe:r,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,tG);return Vt(st.RECIPE_HISTORY,o),{recipeHistory:o}}),n)try{await l1.add(n.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async r=>{const n=Dt.currentUser;if(e().favoriteRecipes.find(o=>o.id===r.id))return;const a={...r,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return Vt(st.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),n)try{await l1.add(n.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async r=>{const n=Dt.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==r);return Vt(st.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),n)try{await l1.delete(n.uid,r)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:r=>e().favoriteRecipes.some(i=>i.id===r),syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${r.uid}`);const i=await l1.getAll(r.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),Vt(st.RECIPE_HISTORY,a),Vt(st.FAVORITE_RECIPES,i)}catch(n){console.error("Failed to sync recipes with Firestore:",n),t({loading:!1})}}})),DI={monthlyBudget:3e4,darkMode:!1,notifications:!0,firstTime:!0},vg=xf((t,e)=>({settings:{...DI,...Iu(st.SETTINGS,DI)},loading:!1,initialized:!1,updateSettings:async r=>{const n=Dt.currentUser;if(t(i=>{const a={...i.settings,...r};return Vt(st.SETTINGS,a),"darkMode"in r&&document.body.classList.toggle("dark-mode",r.darkMode),{settings:a}}),n)try{const i=e().settings;await u1.set(n.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const r=Dt.currentUser,n=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:n};return Vt(st.SETTINGS,a),document.body.classList.toggle("dark-mode",n),{settings:a}}),r)try{const i=e().settings;await u1.set(r.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:r=>t(n=>{const i={...n.settings,firstTime:r};return Vt(st.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const r=Dt.currentUser;if(r)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${r.uid}`);const n=await u1.get(r.uid);if(n)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:n,loading:!1,initialized:!0}),Vt(st.SETTINGS,n),document.body.classList.toggle("dark-mode",n.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await u1.set(r.uid,i),t({loading:!1,initialized:!0})}}catch(n){console.error("Failed to sync settings with Firestore:",n),t({loading:!1})}}})),rG=()=>{const{getTotalCaloriesByDate:t}=ts(),{getTotalByMonth:e}=rs(),r=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),n=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return A.jsxs("div",{className:"summary-box",children:[A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:"今日のカロリー"}),A.jsxs("span",{className:"summary-value",children:[r," kcal"]})]}),A.jsxs("div",{className:"summary-row",children:[A.jsx("span",{className:"summary-label",children:"今月の支出"}),A.jsxs("span",{className:"summary-value positive",children:["¥",n.toLocaleString()]})]})]})},nG=({onNavigate:t})=>{const e=[{screen:"meals",icon:A.jsx(ow,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:A.jsx(aw,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:A.jsx(xB,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:A.jsx(Zc,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:A.jsx(X1,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:A.jsx(sv,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:A.jsx(_B,{size:32}),label:"レポート",color:"#6366f1"},{screen:"settings",icon:A.jsx(hB,{size:32}),label:"設定",color:"#64748b"},{icon:A.jsx(lB,{size:32}),label:"ヘルプ",color:"#ec4899",onClick:()=>window.open("https://github.com/Haradakouta/life-pwa","_blank")}],r=n=>{n.onClick?n.onClick():n.screen&&t(n.screen)};return A.jsx("div",{className:"function-grid",children:e.map((n,i)=>A.jsxs("button",{className:"function-card",style:{"--card-color":n.color},onClick:()=>r(n),children:[A.jsx("div",{className:"function-icon",style:{color:n.color},children:n.icon}),A.jsx("div",{className:"function-label",children:n.label})]},i))})},NI=({onNavigate:t})=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"ホーム"}),A.jsx(rG,{}),A.jsx(nG,{onNavigate:t})]}),iG=()=>{const{addIntake:t}=ts(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState(""),l=()=>{if(!e||!n||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(n),price:Number(a)}),r(""),i(""),o(""),alert("食事を記録しました！")};return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:"食品名"}),A.jsx("input",{value:e,onChange:c=>r(c.target.value),placeholder:"例: 牛乳"}),A.jsx("label",{children:"カロリー(kcal)"}),A.jsx("input",{type:"number",value:n,onChange:c=>i(c.target.value),placeholder:"200"}),A.jsx("label",{children:"金額(円)"}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),A.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},aG=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:r,getTotalPriceByDate:n}=ts(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(h=>h.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=r(a),l=n(a),c=f=>{confirm("この記録を削除しますか？")&&e(f)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"今日の記録"}),i.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),A.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Gh,{size:20})})]},f.id))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[A.jsxs("span",{children:[A.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),A.jsxs("span",{children:[A.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},oG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"食事記録"}),A.jsx(iG,{}),A.jsx(aG,{})]}),sG=async(t,e)=>{try{return{user:(await M$(Dt,t,e)).user,error:null}}catch(r){return{user:null,error:r.message}}},lG=async()=>{const t=new No;try{return{user:(await oq(Dt,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},uG=async()=>{try{return await F$(Dt),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},cG=t=>V$(Dt,t),eN=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!0);return C.useEffect(()=>{const i=cG(a=>{e(a),n(!1)});return()=>i()},[]),{user:t,loading:r}},fG=()=>{const{settings:t,updateSettings:e,toggleDarkMode:r}=vg(),{intakes:n}=ts(),{expenses:i}=rs(),{stocks:a}=fo(),{user:o}=eN(),[l,c]=C.useState((t.monthlyBudget??3e4).toString()),f=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},h=()=>{const m=["種類,名前,カロリー,金額,日付",...n.map(E=>`食事記録,${E.name},${E.calories},${E.price},${E.date}`)].join(`
`),_=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,w.click()},p=()=>{const m={intakes:n,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},_=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,w.click()},v=async()=>{if(window.confirm("ログアウトしますか？")){const m=await uG();m.error&&alert("ログアウトに失敗しました: "+m.error)}};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"設定"}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"月間予算"}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"30000"}),A.jsxs("button",{className:"submit",onClick:f,children:[A.jsx(OP,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"外観"}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(yB,{size:24})}),A.jsx("span",{className:"setting-label",children:"ダークモード"})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:r}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"通知設定"}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-item-left",children:[A.jsx("div",{className:"setting-icon",children:A.jsx(IB,{size:24})}),A.jsx("span",{className:"setting-label",children:"在庫アラート通知"})]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:t.notifications,onChange:m=>e({notifications:m.target.checked})}),A.jsx("span",{className:"toggle-slider"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"データエクスポート"}),A.jsxs("div",{style:{display:"flex",gap:"8px"},children:[A.jsxs("button",{className:"submit",onClick:h,style:{flex:1},children:[A.jsx(sB,{size:18,style:{marginRight:"8px"}}),"CSV"]}),A.jsxs("button",{className:"submit",onClick:p,style:{flex:1},children:[A.jsx(oB,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"データ統計"}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[A.jsxs("p",{children:["食事記録: ",n.length,"件"]}),A.jsxs("p",{children:["支出記録: ",i.length,"件"]}),A.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"アカウント"}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:A.jsxs("p",{children:["ログイン: ",o?.email]})}),A.jsxs("button",{className:"submit",onClick:v,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[A.jsx(dB,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},dG=()=>{const{addStock:t}=fo(),[e,r]=C.useState(""),[n,i]=C.useState(""),[a,o]=C.useState("1"),l=()=>{if(!e||!n){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(n),quantity:Number(a)}),r(""),i(""),o("1"),alert("在庫を追加しました！")};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"手動で追加"}),A.jsx("label",{children:"品目"}),A.jsx("input",{value:e,onChange:c=>r(c.target.value),placeholder:"例: 牛乳"}),A.jsx("label",{children:"残り日数"}),A.jsx("input",{type:"number",value:n,onChange:c=>i(c.target.value),placeholder:"例: 3"}),A.jsx("label",{children:"数量"}),A.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},hG=()=>{const{stocks:t,deleteStock:e}=fo(),{addItem:r}=qu(),n=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,c)=>{r({name:l,quantity:c}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"在庫一覧"}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),A.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:A.jsx(sv,{size:20})}),A.jsx("button",{onClick:()=>n(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:A.jsx(Gh,{size:20})})]})]},l.id))})]})},pG=()=>{const{getExpiringStocks:t}=fo(),{addItem:e}=qu(),r=C.useMemo(()=>t(0),[t]),n=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...r,...n];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return r.length===0&&n.length===0?null:A.jsxs(A.Fragment,{children:[r.length>0&&A.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>A.jsx("li",{children:a.name},a.id))})]}),n.length>0&&A.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[A.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),A.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>A.jsx("li",{children:a.name},a.id))})]}),A.jsx("div",{className:"card",style:{padding:"12px"},children:A.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[A.jsx(sv,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},gG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"在庫管理"}),A.jsx(pG,{}),A.jsx(dG,{}),A.jsx(hG,{})]}),vG=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=qu(),{getExpiringStocks:r}=fo(),n=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=r(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🔰 初心者向けサポート"}),A.jsx("button",{className:"submit",onClick:n,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),A.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},mG=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function yG(t){const e=t.toLowerCase();for(const r of mG)for(const n of r.keywords)if(e.includes(n.toLowerCase()))return{type:"warning",category:r.category,reason:r.reason,alternatives:r.alternatives};return null}async function xG(t,e){try{const r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!r.ok)throw new Error("AI分析に失敗しました");const i=(await r.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(r){return console.error("AI健康分析エラー:",r),null}}const _G=({productName:t,warning:e,onClose:r,onAddAlternative:n,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(!1),p=async()=>{h(!0);const _=await xG(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(_),o(!0),h(!1)},v=a&&l?l:e;return A.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:A.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[A.jsx("button",{onClick:r,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:A.jsx(lv,{size:24})}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[A.jsx(TP,{size:32,color:"#f59e0b"}),A.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),A.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",A.jsx("strong",{children:t}),"」について"]})]}),A.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[A.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),A.jsxs("div",{style:{marginBottom:"20px"},children:[A.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(cB,{size:20,color:"#10b981"}),"より健康的な代替案"]}),A.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,_)=>A.jsxs("button",{onClick:()=>n(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},_))})]}),!a&&A.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[A.jsx(w_,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),A.jsxs("div",{style:{display:"grid",gap:"8px"},children:[A.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),A.jsx("button",{onClick:r,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},bG=()=>{const{addItem:t}=qu(),[e,r]=C.useState(""),[n,i]=C.useState("1"),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const _=yG(e);if(_){o(_),c({name:e,quantity:Number(n)});return}h(e,Number(n))},h=(_,w)=>{t({name:_,quantity:w}),r(""),i("1")},p=()=>{o(null),c(null)},v=_=>{l&&h(_,l.quantity),p()},m=()=>{l&&h(l.name,l.quantity),p()};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"手動で追加"}),A.jsx("label",{children:"商品名"}),A.jsx("input",{value:e,onChange:_=>r(_.target.value),placeholder:"例: 牛乳",onKeyDown:_=>_.key==="Enter"&&f()}),A.jsx("label",{children:"数量"}),A.jsx("input",{type:"number",value:n,onChange:_=>i(_.target.value),placeholder:"1"}),A.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&A.jsx(_G,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},wG=()=>{const{items:t,toggleItem:e,deleteItem:r,clearCompleted:n}=qu(),{addStock:i}=fo(),[a,o]=C.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&n()},c=()=>{const f=t.filter(h=>h.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(h=>{i({name:h.name,quantity:h.quantity,daysRemaining:7})}),n(),o(!0),setTimeout(()=>{o(!1)},3e3))};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"買い物リスト"}),t.length===0?A.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[A.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[A.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),A.jsx("div",{style:{flex:1},children:A.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&A.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),A.jsx("button",{onClick:()=>r(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:A.jsx(Gh,{size:20})})]},f.id))}),t.some(f=>f.checked)&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[A.jsx(Zc,{size:20}),A.jsx("span",{children:"買い物完了後はこちら！"})]}),A.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",A.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),A.jsxs("button",{className:"submit",onClick:c,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsx(Zc,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),A.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&A.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[A.jsx(iw,{size:28}),A.jsx("span",{children:"在庫に追加しました！"})]})]})]})},EG=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"買い物リスト"}),A.jsx(vG,{}),A.jsx(bG,{}),A.jsx(wG,{})]}),Eh="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",tN=Eh!=="YOUR_GEMINI_API_KEY_HERE";let Lc=[];function rN(t){const e=Date.now();Lc.push({type:t,timestamp:e}),Lc=Lc.filter(a=>e-a.timestamp<6e4);const r=Lc.filter(a=>a.type==="recipe").length,n=Lc.filter(a=>a.type==="receipt").length,i=Lc.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${r}回`),console.log(`  - レシートOCR: ${n}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function AG(t,e="none",r="none",n=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:r,customRequest:n,API_ENABLED:tN,apiKeyPrefix:Eh.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";r==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:r==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:r==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:r==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=n?`

**追加のリクエスト**: ${n}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Eh}`;rN("recipe"),console.log("[Gemini] APIリクエスト送信",{url:c.replace(Eh,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const h=await f.json();if(console.log("[Gemini] レスポンスデータ",h),h.candidates&&h.candidates.length>0){const p=h.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",h),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),TG(t,e,r)}}const SG=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result.split(",")[1];e(a)},n.onerror=r,n.readAsDataURL(t)});let MI=0;const kI=5e3;async function LI(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:tN});const e=Date.now(),r=e-MI;if(r<kI){const n=Math.ceil((kI-r)/1e3);throw new Error(`レート制限: ${n}秒後に再試行してください`)}try{MI=e;const n=await SG(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${Eh}`;rN("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:n}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] APIエラー",c),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const c=l.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let h=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)h=p[1];else if(f.includes("```")){const _=f.match(/```\s*([\s\S]*?)\s*```/);_&&(h=_[1])}const v=JSON.parse(h),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(n){throw console.error("[Gemini Receipt] エラー:",n),n}}function TG(t,e,r="none"){const n=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=r==="super_easy"?"（超簡単）":r==="under_5min"?"（5分）":r==="under_10min"?"（10分）":r==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${n}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function Dv(t){return Le({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const CG=({onRecipeGenerated:t,isLoading:e,setIsLoading:r})=>{const{stocks:n}=fo(),{addToHistory:i}=a0(),[a,o]=C.useState(""),[l,c]=C.useState("none"),[f,h]=C.useState("none"),[p,v]=C.useState(""),m=[{value:"none",label:"指定なし",icon:A.jsx(w_,{size:16})},{value:"super_easy",label:"超簡単",icon:A.jsx(iv,{size:16})},{value:"under_5min",label:"5分以内",icon:A.jsx(av,{size:16})},{value:"under_10min",label:"10分以内",icon:A.jsx(nv,{size:16})},{value:"no_fire",label:"火を使わない",icon:A.jsx(Dv,{size:16})}],_=[{value:"none",label:"指定なし",icon:A.jsx(X1,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:A.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:A.jsx("span",{children:"🌱"})}],w=()=>{const S=n.filter(I=>I.quantity>0).map(I=>I.name).slice(0,10).join(", ");o(S)},E=async()=>{if(!a.trim()){alert("材料を入力してください");return}r(!0);try{const S=a.split(/[,、]/).map(M=>M.trim()).filter(M=>M.length>0),I=await AG(S,f,l,p),O={id:tl(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:I,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(O),t(O)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{r(!1)}};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(X1,{size:20}),"レシピを生成"]}),A.jsx("label",{children:"材料（カンマ区切り）"}),A.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),A.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[A.jsx(Zc,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),A.jsx("label",{children:"難易度"}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>A.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:"食事制限"}),A.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:_.map(S=>A.jsx("button",{onClick:()=>h(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:A.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),A.jsx("label",{children:"カスタムリクエスト（任意）"}),A.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),A.jsxs("button",{className:"submit",onClick:E,disabled:e,children:[A.jsx(w_,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},IG=({recipe:t})=>{const{addToHistory:e,addToFavorites:r,removeFromFavorites:n,favoriteRecipes:i}=a0(),{addStock:a}=fo(),{addItem:o}=qu(),l=i.some(p=>p.id===t.id),c=()=>{l?n(t.id):(r(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},h=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[A.jsx("h3",{children:t.title}),A.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?A.jsx(E_,{size:28}):A.jsx(OB,{size:28})})]}),A.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(iv,{size:14})," 超簡単"]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(av,{size:14})," 5分以内"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(nv,{size:14})," 10分以内"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(Dv,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),A.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(Zc,{size:18})," 在庫に追加"]}),A.jsxs("button",{onClick:h,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[A.jsx(sv,{size:18})," 買い物リストへ"]})]})]})},OG=({onRecipeSelect:t})=>{const{recipeHistory:e}=a0();if(e.length===0)return null;const r=n=>{const i=new Date(n),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:c<24?`${c}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(uB,{size:20}),"レシピ履歴"]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(n=>A.jsxs("div",{onClick:()=>t(n.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[A.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:n.recipe.title}),A.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:r(n.generatedAt)})]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[n.recipe.ingredients&&n.recipe.ingredients.slice(0,3).map((i,a)=>A.jsxs("span",{children:[i,a<Math.min((n.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),n.recipe.ingredients&&n.recipe.ingredients.length>3&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",n.recipe.ingredients.length-3,"個"]})]}),(n.recipe.difficulty!=="none"||n.recipe.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[n.recipe.difficulty&&n.recipe.difficulty!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:A.jsx(iv,{size:12}),under_5min:A.jsx(av,{size:12}),under_10min:A.jsx(nv,{size:12}),no_fire:A.jsx(Dv,{size:12}),none:""}[n.recipe.difficulty]}),n.recipe.dietaryRestriction&&n.recipe.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[n.recipe.dietaryRestriction]})]})]},n.id))})]})},RG=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:r}=a0();if(e.length===0)return null;const n=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&r(a)};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(E_,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>A.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),A.jsx("button",{onClick:a=>n(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:A.jsx(E_,{size:24})})]}),A.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[A.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>A.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&A.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&A.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:A.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:A.jsxs(A.Fragment,{children:[A.jsx(iv,{size:14})," 超簡単"]}),under_5min:A.jsxs(A.Fragment,{children:[A.jsx(av,{size:14})," 5分以内"]}),under_10min:A.jsxs(A.Fragment,{children:[A.jsx(nv,{size:14})," 10分以内"]}),no_fire:A.jsxs(A.Fragment,{children:[A.jsx(Dv,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&A.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&A.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[A.jsx(vB,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},PG=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!1);return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"AIレシピ生成"}),A.jsx(CG,{onRecipeGenerated:e,isLoading:r,setIsLoading:n}),r&&A.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[A.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:A.jsx(X1,{size:48})}),A.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),A.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!r&&A.jsx(IG,{recipe:t}),A.jsx(OG,{onRecipeSelect:e}),A.jsx(RG,{onRecipeSelect:e})]})};function DG(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function NG(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var MG=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kG=(function(t){MG(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),DG(a,i.prototype),NG(a),a}return e})(Error),LG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),li=(function(t){LG(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(kG),jG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_a=(function(t){jG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(li),BG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Me=(function(t){BG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(li),VG=(function(){function t(e){if(this.binarizer=e,e===null)throw new Me("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),FG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),on=(function(t){FG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(li),UG=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),$t=(function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),zG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aE=(function(t){zG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(li),HG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jI=(function(t){HG(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(aE),$G=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Me("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new jI(r);if(n>e)throw new jI(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=$G(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return $t.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),Ye=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),sn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);$t.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Me;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,c=o<i?31:r&31,f=(2<<c)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Me;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:r&31,h=(2<<f)-(1<<c)&4294967295;if((o[l]&h)!==(n?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Me("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Me("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,a=1;a<n;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Gr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),Q_;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Q_||(Q_={}));const tr=Q_;var qG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ve=(function(t){qG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(li),GG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ot;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Ot||(Ot={}));var qr=(function(){function t(e,r,n){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,f=0,h=c.length;f!==h;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=GG(o),m=v.next();!m.done;m=v.next()){var _=m.value;t.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ve("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ve("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Ot.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Ot.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Ot.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Ot.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Ot.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Ot.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Ot.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Ot.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Ot.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Ot.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Ot.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Ot.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Ot.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Ot.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Ot.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Ot.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Ot.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Ot.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Ot.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Ot.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Ot.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Ot.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Ot.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Ot.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Ot.Big5,28,"Big5"),t.GB18030=new t(Ot.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Ot.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),KG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),z1=(function(t){KG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(li),ra=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof qr?e:qr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(qr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new z1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(qr.UTF8)||e.equals(qr.ISO8859_1)||e.equals(qr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t})(),ut=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ra.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(tr.CHARACTER_SET)!==void 0)return r.get(tr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,l=0,c=0,f=0,h=0,p=0,v=0,m=0,_=0,w=0,E=0,S=0,I=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<n&&(i||a||o);O++){var M=e[O]&255;o&&(l>0?(M&128)===0?o=!1:l--:(M&128)!==0&&((M&64)===0?o=!1:(l++,(M&32)===0?c++:(l++,(M&16)===0?f++:(l++,(M&8)===0?h++:o=!1))))),i&&(M>127&&M<160?i=!1:M>159&&(M<192||M===215||M===247)&&S++),a&&(p>0?M<64||M===127||M>252?a=!1:p--:M===128||M===160||M>239?a=!1:M>160&&M<224?(v++,_=0,m++,m>w&&(w=m)):M>127?(p++,m=0,_++,_>E&&(E=_)):(m=0,_=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(I||c+f+h>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||E>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(l,c,f,h,p,v){if(l==="%%")return"%";if(r[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=r[i];break;case"c":_=r[i][0];break;case"f":_=parseFloat(r[i]).toFixed(l);break;case"p":_=parseFloat(r[i]).toPrecision(l);break;case"e":_=parseFloat(r[i]).toExponential(l);break;case"x":_=parseInt(r[i]).toString(m||16);break;case"d":_=parseFloat(parseInt(r[i],m||10).toPrecision(l)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(m);for(var w=parseInt(f),E=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=c!==void 0?_+E:E+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ra.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=qr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=qr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=qr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Xe=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ut.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),so=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Me("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],l=0;l<n;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Me("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new Me("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new Me("row lengths do not match");c++}for(var h=new t(l,c),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%l),Math.floor(p/l));return h},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Me("input matrix dimensions do not match");for(var r=new sn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*n,c=e.getRow(a,r).getBitArray(),f=0;f<n;f++)i[l+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Me("Left and top must be nonnegative");if(i<1||n<1)throw new Me("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Me("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=r;f<o;f++)for(var h=f*l,p=e;p<a;p++)c[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new sn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){$t.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new sn(e),i=new sn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,l=-1,c=-1,f=0;f<r;f++)for(var h=0;h<n;h++){var p=i[f*n+h];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),h*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;h*32+v<a&&(a=h*32+v)}if(h*32+31>l){for(var v=31;!(p>>>v);)v--;h*32+v>l&&(l=h*32+v)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Gr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Xe,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),WG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ae=(function(t){WG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(li),XG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YG=(function(t){XG(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new sn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&n.set(c);else for(var h=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-h-v)/2<f&&n.set(c),h=p,p=v}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new so(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=r.getRow(c,this.luminances),h=Math.floor(n*4/5),p=Math.floor(n/5);p<h;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),_=r.getMatrix(),l=0;l<i;l++)for(var w=l*n,p=0;p<n;p++){var v=_[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,l=0;l<n;l++)r[l]>o&&(a=l,o=r[l]),r[l]>i&&(i=r[l]);for(var c=0,f=0,l=0;l<n;l++){var h=l-a,p=r[l]*h*h;p>f&&(c=l,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=n/16)throw new ae;for(var m=c-1,_=-1,l=c-1;l>a;l--){var w=l-a,p=w*w*(c-l)*(i-r[l]);p>_&&(m=l,_=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(UG),QG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ZG=(function(t){QG(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,n,i),f=new so(n,i);e.calculateThresholdForBlock(a,o,l,n,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,l,c){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),_=0;_<n;_++){var w=_<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var E=e.cap(_,2,n-3),S=0,I=-2;I<=2;I++){var O=l[m+I];S+=O[E-2]+O[E-1]+O[E]+O[E+1]+O[E+2]}var M=S/25;e.thresholdBlock(r,w,v,M,a,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,l){for(var c=0,f=i*o+n;c<e.BLOCK_SIZE;c++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(r[f+h]&255)<=a&&l.set(n+h,i+c)},e.calculateBlackPoints=function(r,n,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(n);var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<n;v++){var m=v<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=0,w=255,E=0,S=0,I=p*a+m;S<e.BLOCK_SIZE;S++,I+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var M=r[I+O]&255;_+=M,M<w&&(w=M),M>E&&(E=M)}if(E-w>e.MIN_DYNAMIC_RANGE)for(S++,I+=a;S<e.BLOCK_SIZE;S++,I+=a)for(var O=0;O<e.BLOCK_SIZE;O++)_+=r[I+O]&255}var L=_>>e.BLOCK_SIZE_POWER*2;if(E-w<=e.MIN_DYNAMIC_RANGE&&(L=w/2,h>0&&v>0)){var B=(f[h-1][v]+2*f[h][v-1]+f[h-1][v-1])/4;w<B&&(L=B)}f[h][v]=L}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(YG),Nv=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new z1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new z1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new z1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Xe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t})(),JG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oE=(function(t){JG(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Nv),eK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tK=(function(t){eK(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=r.length;l<f;l+=4,c++){var h=void 0,p=r[l+3];if(p===0)h=255;else{var v=r[l],m=r[l+1],_=r[l+2];h=306*v+601*m+117*_+512>>10}o[c]=h}else for(var l=0,c=0,w=r.length;l<w;l+=4,c++){var h=void 0,p=r[l+3];if(p===0)h=255;else{var v=r[l],m=r[l+1],_=r[l+2];h=306*v+601*m+117*_+512>>10}o[c]=255-h}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return n.width=c,n.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new oE(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Nv),rK=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),zn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,c)}f((n=n.apply(t,e||[])).next())})},Hn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return c([f,h])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(h){f=[6,h],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},nK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pf=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return zn(this,void 0,void 0,function(){var e,r,n,i,a,o,l,c,f,h,p,v;return Hn(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),r=[];try{for(n=nK(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(r.length+1),f=a.groupId,h={deviceId:l,label:c,kind:o,groupId:f},r.push(h))}catch(_){p={error:_}}finally{try{i&&!i.done&&(v=n.return)&&v.call(n)}finally{if(p)throw p.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return zn(this,void 0,void 0,function(){var e;return Hn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new rK(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return zn(this,void 0,void 0,function(){var r;return Hn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return zn(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return zn(this,void 0,void 0,function(){var n,i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return zn(this,void 0,void 0,function(){var n;return Hn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return zn(this,void 0,void 0,function(){var n,i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return zn(this,void 0,void 0,function(){return Hn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return zn(this,void 0,void 0,function(){var i,a;return Hn(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return zn(this,void 0,void 0,function(){var i;return Hn(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return zn(this,void 0,void 0,function(){var i;return Hn(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return zn(this,void 0,void 0,function(){var n;return Hn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return zn(this,void 0,void 0,function(){return Hn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new _a("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new _a("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new _a("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new _a("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new _a("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new _a("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new _a("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new _a("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new _a("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new _a("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return zn(this,void 0,void 0,function(){return Hn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return zn(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new ae("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=r&&v instanceof ae,h=v instanceof on||v instanceof ve,p=h&&n;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof on||c instanceof ve,l=c instanceof ae;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new tK(n,r),a=new ZG(i);return new VG(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Bn=(function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=$t.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=$t.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);$t.arraycopy(r,0,n,0,r.length),$t.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Z_;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Z_||(Z_={}));const Ne=Z_;var J_;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(J_||(J_={}));const An=J_;var Mv=(function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),fh=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),sl=(function(){function t(e,r){if(r.length===0)throw new Me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),$t.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=fh.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=fh.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;$t.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=fh.addOrSubtract(r[l-o],n[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=this.field,c=0;c<n;c++)for(var f=r[c],h=0;h<a;h++)o[c+h]=fh.addOrSubtract(o[c+h],l.multiply(f,i[h]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Me;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(n[l],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Me("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Me("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,c),h=r.buildMonomial(l,c);n=n.addOrSubtract(h),i=i.addOrSubtract(f)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),iK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),nN=(function(t){iK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(li),aK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ii=(function(t){aK(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);a.expTable=o;for(var f=new Int32Array(n),c=0;c<n-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new sl(a,Int32Array.from([0])),a.one=new sl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new sl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new nN;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(fh),oK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),c1=(function(t){oK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(li),sK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),o0=(function(t){sK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(li),kv=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new sl(n,e),a=new Int32Array(r),o=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var f=new sl(n,a),h=this.runEuclideanAlgorithm(n.buildMonomial(r,1),f,r),p=h[0],v=h[1],m=this.findErrorLocations(p),_=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-n.log(m[l]);if(w<0)throw new c1("Bad error location");e[w]=ii.addOrSubtract(e[w],_[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,l=r,c=a.getZero(),f=a.getOne();l.getDegree()>=(n/2|0);){var h=o,p=c;if(o=l,c=f,o.isZero())throw new c1("r_{i-1} was zero");l=h;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),_=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),E=a.multiply(l.getCoefficient(l.getDegree()),_);v=v.addOrSubtract(a.buildMonomial(w,E)),l=l.addOrSubtract(o.multiplyByMonomial(w,E))}if(f=v.multiply(c).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new o0("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new c1("sigmaTilde(0) was zero");var I=a.inverse(S),O=f.multiplyScalar(I),M=l.multiplyScalar(I);return[O,M]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new c1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var l=a.inverse(r[o]),c=1,f=0;f<n;f++)if(o!==f){var h=a.multiply(r[f],l),p=(h&1)===0?h|1:h&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),yn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(yn||(yn={}));var BI=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new Mv(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=yn.UPPER,i=yn.UPPER,a="",o=0;o<r;)if(i===yn.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var f=t.readCode(e,o,8);a+=ut.castAsNonUtf8Char(f),o+=8}i=n}else{var h=i===yn.DIGIT?4:5;if(r-o<h)break;var f=t.readCode(e,o,h);o+=h;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(n=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=i)):(a+=p,i=n)}return a},t.getTable=function(e){switch(e){case"L":return yn.LOWER;case"P":return yn.PUNCT;case"M":return yn.MIXED;case"D":return yn.DIGIT;case"B":return yn.BINARY;case"U":default:return yn.UPPER}},t.getCharacter=function(e,r){switch(e){case yn.UPPER:return t.UPPER_TABLE[r];case yn.LOWER:return t.LOWER_TABLE[r];case yn.MIXED:return t.MIXED_TABLE[r];case yn.PUNCT:return t.PUNCT_TABLE[r];case yn.DIGIT:return t.DIGIT_TABLE[r];default:throw new o0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=ii.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=ii.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=ii.AZTEC_DATA_10):(n=12,r=ii.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new ve;for(var o=e.length%n,l=new Int32Array(a),c=0;c<a;c++,o+=n)l[c]=t.readCode(e,o,n);try{var f=new kv(r);f.decode(l,a-i)}catch(E){throw new ve(E)}for(var h=(1<<n)-1,p=0,c=0;c<i;c++){var v=l[c];if(v===0||v===h)throw new ve;(v===1||v===h-1)&&p++}for(var m=new Array(i*n-p),_=0,c=0;c<i;c++){var v=l[c];if(v===1||v===h-1)m.fill(v>1,_,_+n-1),_+=n-1;else for(var w=n-1;w>=0;--w)m[_++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),f=i/2,h=Ye.truncDivision(c,2),l=0;l<f;l++){var p=l+Ye.truncDivision(l,15);a[f-l-1]=h-p-1,a[f+l]=h+p+1}for(var l=0,v=0;l<n;l++){for(var m=(n-l)*4+(r?9:12),_=l*2,w=i-1-_,E=0;E<m;E++)for(var S=E*2,I=0;I<2;I++)o[v+S+I]=e.get(a[_+I],a[_+E]),o[v+2*m+S+I]=e.get(a[_+E],a[w-I]),o[v+4*m+S+I]=e.get(a[w-I],a[w-E]),o[v+6*m+S+I]=e.get(a[w-E],a[_+I]);v+=m*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),pt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t})(),eb=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Te=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*eb.floatToIntBits(this.x)+eb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(n>=r&&n>=i?(o=e[0],a=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,r){return pt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t})(),sE=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),lK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),uK=(function(t){lK(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(sE),tb=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,f=!1,h=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var _=!0;(_||!c)&&r<v;)_=this.containsBlackPoint(n,i,r,!1),_?(r++,o=!0,c=!0):c||r++;if(r>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,r,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var E=!0;(E||!h)&&e>=0;)E=this.containsBlackPoint(n,i,e,!1),E?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&n>=0;)S=this.containsBlackPoint(e,r,n,!0),S?(n--,o=!0,p=!0):p||n--;if(n<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var I=r-e,O=null,M=1;O===null&&M<I;M++)O=this.getBlackPointOnSegment(e,i-M,e+M,i);if(O==null)throw new ae;for(var L=null,M=1;L===null&&M<I;M++)L=this.getBlackPointOnSegment(e,n+M,e+M,n);if(L==null)throw new ae;for(var B=null,M=1;B===null&&M<I;M++)B=this.getBlackPointOnSegment(r,n+M,r-M,n);if(B==null)throw new ae;for(var D=null,M=1;D===null&&M<I;M++)D=this.getBlackPointOnSegment(r,i-M,r-M,i);if(D==null)throw new ae;return this.centerEdges(D,O,B,L)}else throw new ae},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=pt.round(pt.distance(e,r,n,i)),o=(n-e)/a,l=(i-r)/a,c=this.image,f=0;f<a;f++){var h=pt.round(e+f*o),p=pt.round(r+f*l);if(c.get(h,p))return new Te(h,p)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),f=n.getX(),h=n.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Te(p-m,v+m),new Te(l+m,c+m),new Te(f-m,h-m),new Te(a+m,o-m)]:[new Te(p+m,v+m),new Te(l+m,c-m),new Te(f-m,h+m),new Te(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var l=e;l<=r;l++)if(a.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),VI=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new ae;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new ae;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}},t})(),iN=(function(){function t(e,r,n,i,a,o,l,c,f){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,l,c,f,h,p,v,m,_,w,E){var S=t.quadrilateralToSquare(e,r,n,i,a,o,l,c),I=t.squareToQuadrilateral(f,h,p,v,m,_,w,E);return I.times(S)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=0;v<r;v+=2){var m=e[v],_=e[v+1],w=a*m+c*_+p;e[v]=(n*m+o*_+f)/w,e[v+1]=(i*m+l*_+h)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var _=e[m],w=r[m],E=a*_+c*w+p;e[m]=(n*_+o*w+f)/E,r[m]=(i*_+l*w+h)/E}},t.squareToQuadrilateral=function(e,r,n,i,a,o,l,c){var f=e-n+a-l,h=r-i+o-c;if(f===0&&h===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var p=n-a,v=l-a,m=i-o,_=c-o,w=p*_-v*m,E=(f*_-v*h)/w,S=(p*h-f*m)/w;return new t(n-e+E*n,l-e+S*l,e,i-r+E*i,c-r+S*c,r,E,S,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,l,c){return t.squareToQuadrilateral(e,r,n,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),cK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fK=(function(t){cK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,l,c,f,h,p,v,m,_,w,E,S,I,O,M){var L=iN.quadrilateralToQuadrilateral(a,o,l,c,f,h,p,v,m,_,w,E,S,I,O,M);return this.sampleGridWithTransform(r,n,i,L)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new ae;for(var o=new so(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var f=l.length,h=c+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=h;a.transformPoints(l),VI.checkAndNudgePoints(r,l);try{for(var p=0;p<f;p+=2)r.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,c)}catch{throw new ae}}return o},e})(VI),lE=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new fK,t})(),ei=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),dK=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new uK(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ae;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,l){var c=(a>>r-2<<1)+(a&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Ye.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ae},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new kv(ii.AZTEC_PARAM);c.decode(o,a)}catch{throw new ae}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,c,f,h))break}r=l,n=c,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;var v=new Te(r.getX()+.5,r.getY()-.5),m=new Te(n.getX()+.5,n.getY()+.5),_=new Te(i.getX()-.5,i.getY()+.5),w=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new tb(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new ei(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ei(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ei(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ei(o-7,l-7),!1,-1,-1).toResultPoint()}var c=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new tb(this.image,15,c,f).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ei(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ei(c+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ei(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ei(c-7,f-7),!1,-1,-1).toResultPoint()}return c=pt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=pt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new ei(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=lE.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,l=e.getX(),c=e.getY(),f=o*(r.getX()-e.getX())/a,h=o*(r.getY()-e.getY())/a,p=0;p<n;p++)this.image.get(pt.round(l+p*f),pt.round(c+p*h))&&(i|=1<<n-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new ei(e.getX()-a,e.getY()+a),r=new ei(r.getX()-a,r.getY()-a),n=new ei(n.getX()+a,n.getY()-a),i=new ei(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(n),p=0;p<h;p++)l+=i,c+=a,this.image.get(pt.round(l),pt.round(c))!==f&&o++;var v=o/n;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new ei(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Te(l+i*a,c+i*o),h=new Te(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Te(l+i*a,c+i*o),v=new Te(l-i*a,c-i*o),m=[f,p,h,v];return m},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=pt.round(e.getX()),n=pt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return pt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},t})(),rb=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new dK(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new BI().decode(l)}catch(p){n=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new BI().decode(l)}catch(p){throw n??p}var c=new Bn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Ne.AZTEC,$t.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(An.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&c.putMetadata(An.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(tr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),hK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){hK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new rb,r)||this}return e})(Pf);var Kr=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(tr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),l=270;o!==null&&o.get(An.ORIENTATION)===!0&&(l=l+o.get(An.ORIENTATION)%360),a.putMetadata(An.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),h=0;h<c.length;h++)c[h]=new Te(f-c[h].getY()-1,c[h].getX());return a}else throw new ae}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new sn(n),o=r&&r.get(tr.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),h=0;h<c;h++){var p=Math.trunc((h+1)/2),v=(h&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var _=function(I){if(I===1&&(a.reverse(),r&&r.get(tr.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;r.forEach(function(B,D){return O.set(D,B)}),O.delete(tr.NEED_RESULT_POINT_CALLBACK),r=O}try{var M=w.decodeRow(m,a,r);if(I===1){M.putMetadata(An.ORIENTATION,180);var L=M.getResultPoints();L!==null&&(L[0]=new Te(n-L[0].getX()-1,L[0].getY()),L[1]=new Te(n-L[1].getX()-1,L[1].getY()))}return{value:M}}catch{}},w=this,E=0;E<2;E++){var S=_(E);if(typeof S=="object")return S.value}}throw new ae},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new ae;for(var l=!e.get(r),c=0,f=r;f<o;){if(e.get(f)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===o))throw new ae},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new ae;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;n*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=r[h]*c,m=p>v?p-v:v-p;if(m>n)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),pK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),FI=(function(t){pK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,h=i;h<n;h++)if(r.get(h)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var _=Kr.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,v=m)}if(v>=0&&r.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new ae},e.decodeCode=function(r,n,i){Kr.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new ae},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(tr.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],c=0,f=new Uint8Array(20);f[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new ve}for(var p=!1,v=!1,m="",_=o[0],w=o[1],E=Int32Array.from([0,0,0,0,0,0]),S=0,I=0,O=l,M=0,L=!0,B=!1,D=!1;!p;){var N=v;switch(v=!1,S=I,I=e.decodeCode(n,E,w),f[c++]=I,I!==e.CODE_STOP&&(L=!0),I!==e.CODE_STOP&&(M++,O+=M*I),_=w,w+=E.reduce(function(se,me){return se+me},0),I){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(h){case e.CODE_CODE_A:if(I<64)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else if(I<96)D===B?m+=String.fromCharCode(I-64):m+=String.fromCharCode(I+64),D=!1;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(I<96)D===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),D=!1;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&D?(B=!0,D=!1):B&&D?(B=!1,D=!1):D=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(I<100)I<10&&(m+="0"),m+=I;else switch(I!==e.CODE_STOP&&(L=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}N&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=w-_;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-_)/2),!1))throw new ae;if(O-=M*S,O%103!==S)throw new on;var V=m.length;if(V===0)throw new ae;V>0&&L&&(h===e.CODE_CODE_C?m=m.substring(0,V-2):m=m.substring(0,V-1));for(var z=(o[1]+o[0])/2,H=_+k/2,U=f.length,he=new Uint8Array(U),be=0;be<U;be++)he[be]=f[be];var Y=[new Te(z,r),new Te(H,r)];return new Bn(m,he,0,Y,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Kr),gK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),k2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UI=(function(t){gK(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(n,f),p=n.getNextSet(h[1]),v=n.getSize(),m,_;do{e.recordPattern(n,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new ae;m=e.patternToChar(w),this.decodeRowResult+=m,_=p;try{for(var E=(a=void 0,k2(f)),S=E.next();!S.done;S=E.next()){var I=S.value;p+=I}}catch(U){a={error:U}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}p=n.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var M=k2(f),L=M.next();!L.done;L=M.next()){var I=L.value;O+=I}}catch(U){l={error:U}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}var B=p-_-O;if(p!==v&&B*2<O)throw new ae;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,N=0,k=0;k<D;k++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(N%43))throw new on;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new ae;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var z=(h[1]+h[0])/2,H=_+O/2;return new Bn(V,null,0,[new Te(z,r),new Te(H,r)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,l=a,c=!1,f=n.length,h=a;h<i;h++)if(r.get(h)!==c)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new ae},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,l;do{var c=2147483647;try{for(var f=(n=void 0,k2(r)),h=f.next();!h.done;h=f.next()){var p=h.value;p<c&&p>o&&(c=p)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=c,l=0;for(var v=0,m=0,_=0;_<a;_++){var p=r[_];p>o&&(m|=1<<a-1-_,l++,v+=p)}if(l===3){for(var _=0;_<a&&l>0;_++){var p=r[_];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ae},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ve;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Kr),vK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),L2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zI=(function(t){vK(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.findAsteriskPattern(n),h=n.getNextSet(f[1]),p=n.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,_;do{e.recordPattern(n,h,v);var w=this.toPattern(v);if(w<0)throw new ae;m=this.patternToChar(w),this.decodeRowResult+=m,_=h;try{for(var E=(a=void 0,L2(v)),S=E.next();!S.done;S=E.next()){var I=S.value;h+=I}}catch(k){a={error:k}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}h=n.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var M=L2(v),L=M.next();!L.done;L=M.next()){var I=L.value;O+=I}}catch(k){l={error:k}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(l)throw l.error}}if(h===p||!n.get(h))throw new ae;if(this.decodeRowResult.length<2)throw new ae;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),D=(f[1]+f[0])/2,N=_+O/2;return new Bn(B,null,0,[new Te(D,r),new Te(N,r)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,c=a.length,f=0,h=i;h<n;h++)if(r.get(h)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new ae},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=L2(r),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(_){n={error:_}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var f=0,h=r.length,p=0;p<h;p++){var v=Math.round(r[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ae},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new ve;var l=r.charAt(a+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ve;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ve;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ve;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,l=n-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(l)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new on},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Kr),mK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HI=(function(t){mK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,l=this.decodeStart(n),c=this.decodeEnd(n),f=new Xe;e.decodeMiddle(n,l[1],c[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(tr.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=h.length,m=!1,_=0;try{for(var w=yK(p),E=w.next();!E.done;E=w.next()){var S=E.value;if(v===S){m=!0;break}S>_&&(_=S)}}catch(M){a={error:M}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>_&&(m=!0),!m)throw new ve;var I=[new Te(l[1],r),new Te(c[0],r)],O=new Bn(h,null,0,I,Ne.ITF,new Date().getTime());return O},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<i;){Kr.recordPattern(r,n,o);for(var f=0;f<5;f++){var h=2*f;l[f]=o[h],c[f]=o[h+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){n+=v})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new ae},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ae;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ae&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),l=r.getSize(),c=!1,f=0,h=n;o.fill(0);for(var p=n;p<l;p++)if(r.get(p)!==c)o[f]++;else{if(f===a-1){if(Kr.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],$t.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new ae},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Kr.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new ae},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Kr),xK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lf=(function(t){xK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,f=n,h=a.length,p=i,v=n;v<l;v++)if(r.get(v)!==p)o[c]++;else{if(c===h-1){if(Kr.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),_=0;_<c-1;_++)o[_]=m[_];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new ae},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var h=a[f],p=Kr.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new ae},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Kr),_K=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bK=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((n[0]+n[1])/2,e),new Te(a,e)],f=new Bn(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],f=0,h=0;h<5&&c<l;h++){var p=lf.decodeDigit(e,o,c,lf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,_K(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new ae;var w=this.determineCheckDigit(f);if(t.extensionChecksum(n.toString())!==w)throw new ae;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ae},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[An.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t})(),wK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EK=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((n[0]+n[1])/2,e),new Te(a,e)],f=new Bn(o,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],f=0,h=0;h<2&&c<l;h++){var p=lf.decodeDigit(e,o,c,lf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,wK(o)),m=v.next();!m.done;m=v.next()){var _=m.value;c+=_}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new ae;if(parseInt(n.toString())%4!==f)throw new ae;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[An.ISSUE_NUMBER,parseInt(e)]])},t})(),AK=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=lf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new bK;return a.decodeRow(e,r,i)}catch{var o=new EK;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),SK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hr=(function(t){SK(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(tr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Te((a[0]+a[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(o!=null){var p=new Te(f,r);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(n,f);if(o!=null){var m=new Te((v[0]+v[1])/2,r);o.foundPossibleResultPoint(m)}var _=v[1],w=_+(_-v[0]);if(w>=n.getSize()||!n.isRange(_,w,!1))throw new ae;var E=h.toString();if(E.length<8)throw new ve;if(!e.checkChecksum(E))throw new on;var S=(a[1]+a[0])/2,I=(v[1]+v[0])/2,O=this.getBarcodeFormat(),M=[new Te(S,r),new Te(I,r)],L=new Bn(E,null,0,M,O,new Date().getTime()),B=0;try{var D=AK.decodeRow(r,n,v[1]);L.putMetadata(An.UPC_EAN_EXTENSION,D.getText()),L.putAllMetadata(D.getResultMetadata()),L.addResultPoints(D.getResultPoints()),B=D.getText().length}catch{}var N=i==null?null:i.get(tr.ALLOWED_EAN_EXTENSIONS);if(N!=null){var k=!1;for(var V in N)if(B.toString()===V){k=!0;break}if(!k)throw new ae}return O===Ne.EAN_13||Ne.UPC_A,L},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new ve;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(lf),TK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$I=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nb=(function(t){TK(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=r.getSize(),p=n[1],v=0,m=0;m<6&&p<h;m++){var _=Hr.decodeDigit(r,f,p,Hr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var w=(a=void 0,$I(f)),E=w.next();!E.done;E=w.next()){var S=E.value;p+=S}}catch(L){a={error:L}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var I=Hr.findGuardPattern(r,p,!0,Hr.MIDDLE_PATTERN,new Int32Array(Hr.MIDDLE_PATTERN.length).fill(0));p=I[1];for(var m=0;m<6&&p<h;m++){var _=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var O=(l=void 0,$I(f)),M=O.next();!M.done;M=O.next()){var S=M.value;p+=S}}catch(D){l={error:D}}finally{try{M&&!M.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ae},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Hr),CK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GI=(function(t){CK(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=r.getSize(),p=n[1],v=0;v<4&&p<h;v++){var m=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var _=(a=void 0,qI(f)),w=_.next();!w.done;w=_.next()){var E=w.value;p+=E}}catch(M){a={error:M}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var S=Hr.findGuardPattern(r,p,!0,Hr.MIDDLE_PATTERN,new Int32Array(Hr.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<h;v++){var m=Hr.decodeDigit(r,f,p,Hr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(l=void 0,qI(f)),O=I.next();!O.done;O=I.next()){var E=O.value;p+=E}}catch(B){l={error:B}}finally{try{O&&!O.done&&(c=I.return)&&c.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e})(Hr),IK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KI=(function(t){IK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new nb,r}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Bn(n.substring(1),null,null,r.getResultPoints(),Ne.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ae},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Hr),OK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),RK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WI=(function(t){OK(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l=this.decodeMiddleCounters.map(function(E){return E});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],h=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(r,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,RK(l)),_=m.next();!_.done;_=m.next()){var w=_.value;f+=w}}catch(E){a={error:E}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Xe(i),h),f},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Hr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw ae.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Xe;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Hr),PK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j2=(function(t){PK(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(tr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ne.EAN_13)>-1&&a.push(new nb),i.indexOf(Ne.UPC_A)>-1&&a.push(new KI),i.indexOf(Ne.EAN_8)>-1&&a.push(new GI),i.indexOf(Ne.UPC_E)>-1&&a.push(new WI)),a.length===0&&(a.push(new nb),a.push(new KI),a.push(new GI),a.push(new WI)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var l=XI(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var h=f.decodeRow(r,n,i),p=h.getBarcodeFormat()===Ne.EAN_13&&h.getText().charAt(0)==="0",v=i==null?null:i.get(tr.POSSIBLE_FORMATS),m=v==null||v.includes(Ne.UPC_A);if(p&&m){var _=h.getRawBytes(),w=new Bn(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),Ne.UPC_A);return w.putAllMetadata(h.getResultMetadata()),w}return h}catch{}}}catch(E){a={error:E}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new ae},e.prototype.reset=function(){var r,n;try{for(var i=XI(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(Kr),DK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),NK=(function(t){DK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new ae;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ae;return new Bn(o,null,0,[new Te(a.left,r),new Te(a.right,r)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],l=n[0],c=1,f=1;f<n.length;f++)n[f]===l?c++:(l=n[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,f){return(c+f)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(Kr),MK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cu=(function(t){MK(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Kr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ae},e.count=function(r){return pt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=kK(r),p=h.next();!p.done;p=h.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Kr),mg=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),aN=(function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Te(n,a)),this.resultPoints.push(new Te(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),LK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hc=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var l=LK(e),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(I){i={error:I}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var h=0,p=0,v=e.length,m=0;m<v-1;m++){var _=void 0;for(_=1,p|=1<<m;_<e[m];_++,p&=~(1<<m)){var w=t.combins(o-_-1,v-m-2);if(n&&p===0&&o-_-(v-m-1)>=v-m-1&&(w-=t.combins(o-_-(v-m),v-m-2)),v-m-1>1){for(var E=0,S=o-_-(v-m-2);S>r;S--)E+=t.combins(o-_-S-1,v-m-3);w-=E*(v-1-m)}else o-_>r&&w--;h+=w}o-=_}return h},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,l=e;l>n;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),jK=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new sn(n),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),ou=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),uE=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),BK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xa=(function(t){BK(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(uE),VK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),su=(function(t){VK(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(uE),FK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jc=(function(t){FK(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new ve;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(uE),f1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UK=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,l,c,f;if(!e)return null;if(e.length<2)throw new ae;var h=e.substring(0,2);try{for(var p=f1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===h)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(B){r={error:B}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(e.length<3)throw new ae;var _=e.substring(0,3);try{for(var w=f1(t.THREE_DIGIT_DATA_LENGTH),E=w.next();!E.done;E=w.next()){var m=E.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(B){i={error:B}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=f1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var m=I.value;if(m[0]===_)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new ae;var O=e.substring(0,4);try{for(var M=f1(t.FOUR_DIGIT_DATA_LENGTH),L=M.next();!L.done;L=M.next()){var m=L.value;if(m[0]===O)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){c={error:B}}finally{try{L&&!L.done&&(f=M.return)&&f.call(M)}finally{if(c)throw c.error}}throw new ae},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ae;var i=n.substring(0,e);if(n.length<e+r)throw new ae;var a=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),l=n.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),H1=(function(){function t(e){this.buffer=new Xe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=UK.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new jc(this.information.getSize(),jc.FNC1,jc.FNC1):new jc(this.information.getSize(),r-1,jc.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new jc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new su(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new su(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new su(this.current.getPosition(),this.buffer.toString()):r=new su(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ou(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new su(this.current.getPosition(),this.buffer.toString());return new ou(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ou(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new su(this.current.getPosition(),this.buffer.toString());return new ou(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ou(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new su(this.current.getPosition(),this.buffer.toString());return new ou(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ou(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new xa(e+5,xa.FNC1);if(r>=5&&r<15)return new xa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new xa(e+7,""+(n+1));if(n>=90&&n<116)return new xa(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new xa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new xa(e+5,xa.FNC1);if(r>=5&&r<15)return new xa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new xa(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new o0("Decoding invalid alphanumeric value: "+n)}return new xa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),oN=(function(){function t(e){this.information=e,this.generalDecoder=new H1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),zK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ba=(function(t){zK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(oN),HK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$K=(function(t){HK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Xe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(ba),qK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GK=(function(t){qK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Xe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(oN),KK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$1=(function(t){KK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e})(ba),WK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sN=(function(t){WK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+$1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ae;var r=new Xe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+$1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})($1),XK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YK=(function(t){XK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(sN),QK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ZK=(function(t){QK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(sN),JK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eW=(function(t){JK(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ba.GTIN_SIZE)throw new ae;var r=new Xe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ba.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ba.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(ba),tW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),rW=(function(t){tW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ba.GTIN_SIZE)throw new ae;var r=new Xe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ba.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ba.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ba.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(ba),nW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$s=(function(t){nW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ae;var r=new Xe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})($1);function iW(t){try{if(t.get(1))return new $K(t);if(!t.get(2))return new GK(t);var e=H1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new YK(t);case 5:return new ZK(t)}var r=H1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new eW(t);case 13:return new rW(t)}var n=H1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new $s(t,"310","11");case 57:return new $s(t,"320","11");case 58:return new $s(t,"310","13");case 59:return new $s(t,"320","13");case 60:return new $s(t,"310","15");case 61:return new $s(t,"320","15");case 62:return new $s(t,"310","17");case 63:return new $s(t,"320","17")}}catch(i){throw console.log(i),new o0("unknown decoder: "+t)}}var YI=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),aW=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),oW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sW=(function(t){oW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof ae){if(!this.pairs.length)throw new ae;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ae},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,qs(r)),f=c.next();!f.done;f=c.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(r);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new ae},e.isValidSequence=function(r){var n,i;try{for(var a=qs(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(h){n={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new aW(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,l,c,f;try{for(var h=qs(n),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.getPairs().length!==r.length){var m=!0;try{for(var _=(o=void 0,qs(v.getPairs())),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,qs(r)),O=I.next();!O.done;O=I.next()){var M=O.value;if(YI.equals(E,M)){S=!0;break}}}catch(L){c={error:L}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}S||(m=!1)}}catch(L){o={error:L}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,l,c,f;try{for(var h=qs(n),p=h.next();!p.done;p=h.next()){var v=p.value,m=!0;try{for(var _=(o=void 0,qs(r)),w=_.next();!w.done;w=_.next()){var E=w.value,S=!1;try{for(var I=(c=void 0,qs(v.getPairs())),O=I.next();!O.done;O=I.next()){var M=O.value;if(E.equals(M)){S=!0;break}}}catch(L){c={error:L}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(L){o={error:L}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}if(m)return!0}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=jK.buildBitArray(r),i=iW(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Bn(a,null,null,c,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,a),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ae;var h;try{h=this.decodeDataCharacter(r,o,a,!1)}catch(p){h=null,console.log(p)}return new YI(f,h,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=n.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;l<o&&(h=!r.get(l),!!h);)l++;for(var p=0,v=l,m=l;m<o;m++)if(r.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new ae},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();$t.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new aN(h,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}var p=17,v=pt.sum(new Int32Array(o))/p,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new ae;for(var _=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=1*o[c]/v,O=I+.5;if(O<1){if(I<.3)throw new ae;O=1}else if(O>8){if(I>8.7)throw new ae;O=8}var M=c/2;(c&1)===0?(_[M]=O,E[M]=I-O):(w[M]=O,S[M]=I-O)}this.adjustOddEvenCounts(p);for(var L=4*n.getValue()+(i?0:2)+(a?0:1)-1,B=0,D=0,c=_.length-1;c>=0;c--){if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[L][2*c];D+=_[c]*N}B+=_[c]}for(var k=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[L][2*c+1];k+=w[c]*N}var V=D+k;if((B&1)!==0||B>13||B<4)throw new ae;var z=(13-B)/2,H=e.SYMBOL_WIDEST[z],U=9-H,he=Hc.getRSSvalue(_,H,!0),be=Hc.getRSSvalue(w,U,!1),Y=e.EVEN_TOTAL_SUBSET[z],se=e.GSUM[z],me=he*Y+be+se;return new mg(me,V)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=pt.sum(new Int32Array(this.getOddCounts())),i=pt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=n+i-r,h=(n&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new ae;o=!0}else{if(!p)throw new ae;c=!0}else if(f===-1)if(h){if(p)throw new ae;a=!0}else{if(!p)throw new ae;l=!0}else if(f===0){if(h){if(!p)throw new ae;n<i?(a=!0,c=!0):(o=!0,l=!0)}else if(p)throw new ae}else throw new ae;if(a){if(o)throw new ae;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ae;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(cu),lW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),uW=(function(t){lW(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(mg),cW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),B2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QI=(function(t){cW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,f=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var h=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,h),n.reverse();try{for(var p=B2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var _=(l=void 0,B2(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var E=w.value;if(E.getCount()>1&&e.checkChecksum(m,E))return e.constructResult(m,E)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new ae},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var l=B2(r),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Xe,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var h=r.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new Bn(o.toString(),null,0,[h[0],h[1],p[0],p[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),c=a==null?null:a.get(tr.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;n&&(f=r.getSize()-1-f),c.foundPossibleResultPoint(new Te(f,i))}var h=this.decodeDataCharacter(r,l,!0),p=this.decodeDataCharacter(r,l,!1);return new uW(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Kr.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Kr.recordPattern(r,n.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var h=i?16:15,p=pt.sum(new Int32Array(a))/h,v=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var E=a[l]/p,S=Math.floor(E+.5);S<1?S=1:S>8&&(S=8);var I=Math.floor(l/2);(l&1)===0?(v[I]=S,_[I]=E-S):(m[I]=S,w[I]=E-S)}this.adjustOddEvenCounts(i,h);for(var O=0,M=0,l=v.length-1;l>=0;l--)M*=9,M+=v[l],O+=v[l];for(var L=0,B=0,l=m.length-1;l>=0;l--)L*=9,L+=m[l],B+=m[l];var D=M+3*L;if(i){if((O&1)!==0||O>12||O<4)throw new ae;var N=(12-O)/2,k=e.OUTSIDE_ODD_WIDEST[N],V=9-k,z=Hc.getRSSvalue(v,k,!1),H=Hc.getRSSvalue(m,V,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],he=e.OUTSIDE_GSUM[N];return new mg(z*U+H+he,D)}else{if((B&1)!==0||B>10||B<4)throw new ae;var N=(10-B)/2,k=e.INSIDE_ODD_WIDEST[N],V=9-k,z=Hc.getRSSvalue(v,k,!0),H=Hc.getRSSvalue(m,V,!1),be=e.INSIDE_ODD_TOTAL_SUBSET[N],he=e.INSIDE_GSUM[N];return new mg(H*be+z+he,D)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,l=0;l<a&&(o=!r.get(l),n!==o);)l++;for(var c=0,f=l,h=l;h<a;h++)if(r.get(h)!==o)i[c]++;else{if(c===3){if(cu.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new ae},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),l=a[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);$t.arraycopy(f,0,h,1,f.length-1),h[0]=c;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=r.getSize()-1-v,m=r.getSize()-1-m),new aN(p,[l,a[1]],v,m,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=pt.sum(new Int32Array(this.getOddCounts())),a=pt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,f=!1;r?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var h=i+a-n,p=(i&1)===(r?1:0),v=(a&1)===1;if(h===1)if(p){if(v)throw new ae;l=!0}else{if(!v)throw new ae;f=!0}else if(h===-1)if(p){if(v)throw new ae;o=!0}else{if(!v)throw new ae;c=!0}else if(h===0){if(p){if(!v)throw new ae;i<a?(o=!0,f=!0):(l=!0,c=!0)}else if(v)throw new ae}else throw new ae;if(o){if(l)throw new ae;cu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&cu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new ae;cu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&cu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(cu),fW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),dh=(function(t){fW(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(tr.POSSIBLE_FORMATS):null,a=r&&r.get(tr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(tr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ne.EAN_13)||i.includes(Ne.UPC_A)||i.includes(Ne.EAN_8)||i.includes(Ne.UPC_E))&&n.readers.push(new j2(r)),i.includes(Ne.CODE_39)&&n.readers.push(new UI(a,o)),i.includes(Ne.CODE_93)&&n.readers.push(new zI),i.includes(Ne.CODE_128)&&n.readers.push(new FI),i.includes(Ne.ITF)&&n.readers.push(new HI),i.includes(Ne.CODABAR)&&n.readers.push(new NK),i.includes(Ne.RSS_14)&&n.readers.push(new QI),i.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new sW))),n.readers.length===0&&(n.readers.push(new j2(r)),n.readers.push(new UI),n.readers.push(new zI),n.readers.push(new j2(r)),n.readers.push(new FI),n.readers.push(new HI),n.readers.push(new QI)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new ae},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(Kr),dW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){dW(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new dh(n),r,n)||this}return e})(Pf);var ZI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),_t=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),hW=(function(){function t(e,r,n,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var v=ZI(p),m=v.next();!m.done;m=v.next()){var _=m.value;f+=_.getCount()*(_.getDataCodewords()+h)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new ve;try{for(var a=ZI(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new ve},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new wt(5,new _t(1,3))),new t(2,12,12,10,10,new wt(7,new _t(1,5))),new t(3,14,14,12,12,new wt(10,new _t(1,8))),new t(4,16,16,14,14,new wt(12,new _t(1,12))),new t(5,18,18,16,16,new wt(14,new _t(1,18))),new t(6,20,20,18,18,new wt(18,new _t(1,22))),new t(7,22,22,20,20,new wt(20,new _t(1,30))),new t(8,24,24,22,22,new wt(24,new _t(1,36))),new t(9,26,26,24,24,new wt(28,new _t(1,44))),new t(10,32,32,14,14,new wt(36,new _t(1,62))),new t(11,36,36,16,16,new wt(42,new _t(1,86))),new t(12,40,40,18,18,new wt(48,new _t(1,114))),new t(13,44,44,20,20,new wt(56,new _t(1,144))),new t(14,48,48,22,22,new wt(68,new _t(1,174))),new t(15,52,52,24,24,new wt(42,new _t(2,102))),new t(16,64,64,14,14,new wt(56,new _t(2,140))),new t(17,72,72,16,16,new wt(36,new _t(4,92))),new t(18,80,80,18,18,new wt(48,new _t(4,114))),new t(19,88,88,20,20,new wt(56,new _t(4,144))),new t(20,96,96,22,22,new wt(68,new _t(4,174))),new t(21,104,104,24,24,new wt(56,new _t(6,136))),new t(22,120,120,18,18,new wt(68,new _t(6,175))),new t(23,132,132,20,20,new wt(62,new _t(8,163))),new t(24,144,144,22,22,new wt(62,new _t(8,156),new _t(2,155))),new t(25,8,18,6,16,new wt(7,new _t(1,5))),new t(26,8,32,6,14,new wt(11,new _t(1,10))),new t(27,12,26,10,24,new wt(14,new _t(1,16))),new t(28,12,36,10,16,new wt(18,new _t(1,22))),new t(29,16,36,14,16,new wt(24,new _t(1,32))),new t(30,16,48,14,22,new wt(28,new _t(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),pW=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new ve;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new so(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return hW.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,h=!1;do if(n===a&&i===0&&!l)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!c)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,c=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!h)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,h=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new ve;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Me("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/a|0,c=o*i,f=l*a,h=new so(f,c),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var _=m*a,w=0;w<i;++w)for(var E=p*(i+2)+1+w,S=v+w,I=0;I<a;++I){var O=m*(a+2)+1+I;if(e.get(O,E)){var M=_+I;h.set(M,S)}}return h},t})(),JI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gW=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,l=r.getECBlocks(),c=0,f=l.getECBlocks();try{for(var h=JI(f),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getCount()}}catch(he){n={error:he}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Array(c),_=0;try{for(var w=JI(f),E=w.next();!E.done;E=w.next())for(var v=E.value,S=0;S<v.getCount();S++){var I=v.getDataCodewords(),O=l.getECCodewords()+I;m[_++]=new t(I,new Uint8Array(O))}}catch(he){a={error:he}}finally{try{E&&!E.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var M=m[0].codewords.length,L=M-l.getECCodewords(),B=L-1,D=0,S=0;S<B;S++)for(var N=0;N<_;N++)m[N].codewords[S]=e[D++];for(var k=r.getVersionNumber()===24,V=k?8:_,N=0;N<V;N++)m[N].codewords[L-1]=e[D++];for(var z=m[0].codewords.length,S=L;S<z;S++)for(var N=0;N<_;N++){var H=k?(N+8)%_:N,U=k&&H>7?S-1:S;m[H].codewords[U]=e[D++]}if(D!==e.length)throw new Me;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),lN=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Me(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,c=o-l,f=255>>8-l<<c;r=(a[i]&f)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;r=r<<e|(a[i]&f)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),Ur;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ur||(Ur={}));var vW=(function(){function t(){}return t.decode=function(e){var r=new lN(e),n=new Xe,i=new Xe,a=new Array,o=Ur.ASCII_ENCODE;do if(o===Ur.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Ur.C40_ENCODE:this.decodeC40Segment(r,n);break;case Ur.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Ur.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Ur.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Ur.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new ve}o=Ur.ASCII_ENCODE}while(o!==Ur.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Mv(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Ur.ASCII_ENCODE;if(a===129)return Ur.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Ur.C40_ENCODE;case 231:return Ur.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Ur.ANSIX12_ENCODE;case 239:return Ur.TEXT_ENCODE;case 240:return Ur.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return Ur.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new ve;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ve}a=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new ve;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new ve;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ve;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new ve;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(ra.decode(l,ut.ISO88591))}catch(f){throw new o0("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),mW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yW=(function(){function t(){this.rsDecoder=new kv(ii.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new pW(e),a=i.getVersion(),o=i.readCodewords(),l=gW.getDataBlocks(o,a),c=0;try{for(var f=mW(l),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getNumDataCodewords()}}catch(O){r={error:O}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}for(var v=new Uint8Array(c),m=l.length,_=0;_<m;_++){var w=l[_],E=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(E,S);for(var I=0;I<S;I++)v[I*m+_]=E[I]}return vW.decode(v)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new on}for(var i=0;i<r;i++)e[i]=n[i]},t})(),xW=(function(){function t(e){this.image=e,this.rectangleDetector=new tb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ae;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=t.sampleGrid(this.image,n,i,a,o,l,c);return new sE(f,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Te(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Te(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,r),h=o,p=[a,r,n,i];return h>l&&(h=l,p[0]=r,p[1]=n,p[2]=i,p[3]=a),h>c&&(h=c,p[0]=n,p[1]=i,p[2]=a,p[3]=r),h>f&&(p[0]=i,p[1]=a,p[2]=r,p[3]=n),p},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(l,r),h=this.transitionsBetween(c,a);return f<h?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=this.transitionsBetween(n,a),c=t.shiftPoint(r,n,(l+1)*4),f=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var h=new Te(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),p=new Te(a.getX()+(r.getX()-n.getX())/(l+1),a.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var v=this.transitionsBetween(c,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>m?h:p},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(r,n,l*4),f=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var h=(r.getX()+n.getX()+i.getX()+a.getX())/4,p=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,h,p),n=t.moveAway(n,h,p),i=t.moveAway(i,h,p),a=t.moveAway(a,h,p);var v,m;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(n,r,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,n,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,r,o*4),[c,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,l){var c=lE.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(a-n);if(l){var c=n;n=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-n),h=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=n<a?1:-1,_=0,w=this.image.get(l?i:n,l?n:i),E=n,S=i;E!==a;E+=m){var I=this.image.get(l?S:E,l?E:S);if(I!==w&&(_++,w=I),p+=h,p>0){if(S===o)break;S+=v,p-=f}}return _},t})(),ib=(function(){function t(){this.decoder=new yW}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(tr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new xW(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),c=new Bn(n.getText(),l,8*l.length,i,Ne.DATA_MATRIX,$t.currentTimeMillis()),f=n.getByteSegments();f!=null&&c.putMetadata(An.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!=null&&c.putMetadata(An.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ae;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0],f=(c-l+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new ae;var p=i/2;a+=p,l+=p;for(var v=new so(f,h),m=0;m<h;m++)for(var _=a+m*i,w=0;w<f;w++)e.get(l+w*i,_)&&v.set(w,m);return v},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new ae;var o=i-e[0];if(o===0)throw new ae;return o},t.NO_POINTS=[],t})(),_W=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){_W(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ib,r)||this}return e})(Pf);var $c;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})($c||($c={}));var bW=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new _a(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Me;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t($c.L,"L",1),t.M=new t($c.M,"M",0),t.Q=new t($c.Q,"Q",3),t.H=new t($c.H,"H",2),t})(),wW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uN=(function(){function t(e){this.errorCorrectionLevel=bW.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Ye.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=wW(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,h=f[0];if(h===e||h===r)return new t(f[1]);var p=t.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==r&&(p=t.numBitsDiffering(r,h),p<a&&(o=f[1],a=p))}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),EW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=EW(i),o=a.next();!o.done;o=a.next()){var l=o.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),AW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=(function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=AW(f),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Me;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=uN.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new so(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),tn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(tn||(tn={}));var eO=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[tn.DATA_MASK_000,new t(tn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[tn.DATA_MASK_001,new t(tn.DATA_MASK_001,function(e,r){return(e&1)===0})],[tn.DATA_MASK_010,new t(tn.DATA_MASK_010,function(e,r){return r%3===0})],[tn.DATA_MASK_011,new t(tn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[tn.DATA_MASK_100,new t(tn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[tn.DATA_MASK_101,new t(tn.DATA_MASK_101,function(e,r){return e*r%6===0})],[tn.DATA_MASK_110,new t(tn.DATA_MASK_110,function(e,r){return e*r%6<3})],[tn.DATA_MASK_111,new t(tn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),SW=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ve;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=uN.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Eu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var l=Eu.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(l=Eu.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new ve},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=eO.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,_=0;_<2;_++)a.get(p-_,m)||(h++,f<<=1,this.bitMatrix.get(p-_,m)&&(f|=1),h===8&&(l[c++]=f,h=0,f=0));o=!o}if(c!==r.getTotalCodewords())throw new ve;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=eO.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),tO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TW=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,l;if(e.length!==r.getTotalCodewords())throw new Me;var c=r.getECBlocksForLevel(n),f=0,h=c.getECBlocks();try{for(var p=tO(h),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(U){i={error:U}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var E=tO(h),S=E.next();!S.done;S=E.next())for(var m=S.value,I=0;I<m.getCount();I++){var O=m.getDataCodewords(),M=c.getECCodewordsPerBlock()+O;_[w++]=new t(O,new Uint8Array(M))}}catch(U){o={error:U}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}for(var L=_[0].codewords.length,B=_.length-1;B>=0;){var D=_[B].codewords.length;if(D===L)break;B--}B++;for(var N=L-c.getECCodewordsPerBlock(),k=0,I=0;I<N;I++)for(var V=0;V<w;V++)_[V].codewords[I]=e[k++];for(var V=B;V<w;V++)_[V].codewords[N]=e[k++];for(var z=_[0].codewords.length,I=N;I<z;I++)for(var V=0;V<w;V++){var H=V<B?I:I+1;_[V].codewords[H]=e[k++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Yi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Yi||(Yi={}));var Xt=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Me;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Yi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Yi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Yi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Yi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Yi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Yi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Yi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Yi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Yi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Yi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),CW=(function(){function t(){}return t.decode=function(e,r,n,i){var a=new lN(e),o=new Xe,l=new Array,c=-1,f=-1;try{var h=null,p=!1,v=void 0;do{if(a.available()<4)v=Xt.TERMINATOR;else{var m=a.readBits(4);v=Xt.forBits(m)}switch(v){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:p=!0;break;case Xt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),f=a.readBits(8);break;case Xt.ECI:var _=t.parseECIValue(a);if(h=qr.getCharacterSetECIByValue(_),h===null)throw new ve;break;case Xt.HANZI:var w=a.readBits(4),E=a.readBits(v.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,E);break;default:var S=a.readBits(v.getCharacterCountBits(r));switch(v){case Xt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Xt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Xt.BYTE:t.decodeByteSegment(a,o,S,h,l,i);break;case Xt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new ve}break}}while(v!==Xt.TERMINATOR)}catch{throw new ve}return new Mv(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,f)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ve;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,n--}try{r.append(ra.decode(i,ut.GB2312))}catch(c){throw new ve(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ve;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,n--}try{r.append(ra.decode(i,ut.SHIFT_JIS))}catch(c){throw new ve(c)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new ve;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var f;i===null?f=ut.guessEncoding(l,o):f=i.getName();try{r.append(ra.decode(l,f))}catch(h){throw new ve(h)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ve;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new ve;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new ve;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new ve;var o=e.readBits(4);if(o>=10)throw new ve;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new ve},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),cN=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),rO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IW=(function(){function t(){this.rsDecoder=new kv(ii.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(so.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new SW(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new cN(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=TW.getDataBlocks(f,l,c),p=0;try{for(var v=rO(h),m=v.next();!m.done;m=v.next()){var _=m.value;p+=_.getNumDataCodewords()}}catch(B){n={error:B}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var w=new Uint8Array(p),E=0;try{for(var S=rO(h),I=S.next();!I.done;I=S.next()){var _=I.value,O=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors(O,M);for(var L=0;L<M;L++)w[E++]=O[L]}}catch(B){a={error:B}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return CW.decode(w,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new on}for(var i=0;i<r;i++)e[i]=n[i]},t})(),OW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),RW=(function(t){OW(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Te),PW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DW=(function(){function t(e,r,n,i,a,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!l.get(h,f);)h++;for(var p=0;h<i;){if(l.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,h);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!a.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=PW(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.aboutEquals(f,c,l))return v.combineEstimate(c,l,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new RW(l,c,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),NW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),MW=(function(t){NW(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,l=(this.count*this.getY()+r)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Te),kW=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Wd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LW=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e!=null&&e.get(tr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),h=l-1;h<a&&!c;h+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,v,n);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(h+=_-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,n);m===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Te.orderBestPatterns(w),new kW(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var c=l.getHeight(),f=l.getWidth();for(o=1;e+o<c&&r+o<f&&l.get(r+o,e+o);)a[2]++,o++;if(e+o>=c||r+o>=f)return!1;for(;e+o<c&&r+o<f&&!l.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=c||r+o>=f||a[3]>=n)return!1;for(;e+o<c&&r+o<f&&l.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,h=this.possibleCenters,p=0,v=h.length;p<v;p++){var m=h[p];if(m.aboutEquals(c,l,o)){h[p]=m.combineEstimate(l,o,c),f=!0;break}}if(!f){var _=new MW(o,l,c);h.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Wd(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=Wd(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value;h.getCount()>=t.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=Wd(this.possibleCenters),_=m.next();!_.done;_=m.next()){var h=_.value;v+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(w){n={error:w}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new ae;var o=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var h=Wd(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value,m=v.getEstimatedModuleSize();c+=m,f+=m*m}}catch(L){e={error:L}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}l=c/a;var _=Math.sqrt(f/a-l*l);o.sort(function(L,B){var D=Math.abs(B.getEstimatedModuleSize()-l),N=Math.abs(L.getEstimatedModuleSize()-l);return D<N?-1:D>N?1:0});for(var w=Math.max(.2*l,_),E=0;E<o.length&&o.length>3;E++){var S=o[E];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(E,1),E--)}}if(o.length>3){var c=0;try{for(var I=Wd(o),O=I.next();!O.done;O=I.next()){var M=O.value;c+=M.getEstimatedModuleSize()}}catch(B){n={error:B}}finally{try{O&&!O.done&&(i=I.return)&&i.call(I)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(B,D){if(D.getCount()===B.getCount()){var N=Math.abs(D.getEstimatedModuleSize()-l),k=Math.abs(B.getEstimatedModuleSize()-l);return N<k?1:N>k?-1:0}else return D.getCount()-B.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),jW=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(tr.NEED_RESULT_POINT_CALLBACK);var r=new LW(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new ae("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),l=Eu.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var h=n.getX()-r.getX()+i.getX(),p=n.getY()-r.getY()+i.getY(),v=1-3/c,m=Math.floor(r.getX()+v*(h-r.getX())),_=Math.floor(r.getY()+v*(p-r.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,_,w);break}catch(O){if(!(O instanceof ae))throw O}var E=t.createTransform(r,n,i,f,o),S=t.sampleGrid(this.image,E,o),I;return f===null?I=[i,r,n]:I=[i,r,n,f],new sE(S,I)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,l,c,f,h;return i!==null?(l=i.getX(),c=i.getY(),f=o-3,h=f):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),f=o,h=o),iN.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=lE.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=pt.round(Te.distance(e,r)/i),o=pt.round(Te.distance(e,n)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new ae("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),c=Math.abs(i-r),f=-l/2,h=e<n?1:-1,p=r<i?1:-1,v=0,m=n+h,_=e,w=r;_!==m;_+=h){var E=a?w:_,S=a?_:w;if(v===1===this.image.get(E,S)){if(v===2)return pt.distance(_,w,e,r);v++}if(f+=c,f>0){if(w===i)break;w+=p,f-=l}}return v===2?pt.distance(n+h,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),l=Math.min(this.image.getWidth()-1,r+a);if(l-o<e*3)throw new ae("Alignment top exceeds estimated module size.");var c=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-c<e*3)throw new ae("Alignment bottom exceeds estimated module size.");var h=new DW(this.image,o,c,l-o,f-c,e,this.resultPointCallback);return h.find()},t})(),ab=(function(){function t(){this.decoder=new IW}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(tr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new jW(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof cN&&n.getOther().applyMirroredCorrection(i);var l=new Bn(n.getText(),n.getRawBytes(),void 0,i,Ne.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(An.BYTE_SEGMENTS,c);var f=n.getECLevel();return f!==null&&l.putMetadata(An.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(l.putMetadata(An.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(An.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ae;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||a>=o)throw new ae;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new ae;var f=Math.round((c-l+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new ae;if(h!==f)throw new ae;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new ae;l-=v}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new ae;a-=m}for(var _=new so(f,h),w=0;w<h;w++)for(var E=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),E)&&_.set(S,w);return _},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<n;){if(l!==r.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===n)throw new ae;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),BW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ft=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return pt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=BW(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Gr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),VW=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),FW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UW=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new VW(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,l=0,c=!1;o<r.getHeight();){var f=t.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(n=void 0,FW(a)),p=h.next();!p.done;p=h.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var l=new Array(4),c=!1,f=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var h=t.findGuardPattern(e,a,i,n,!1,o,f);if(h!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,n,!1,o,f);if(p!=null)h=p;else{i++;break}}l[0]=new Te(h[0],i),l[1]=new Te(h[1],i),c=!0;break}}var v=i+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<r;v++){var h=t.findGuardPattern(e,p[0],v,n,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<t.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Te(p[0],v),l[3]=new Te(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Gr.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,a,o,l){Gr.fillWithin(l,0,l.length,0);for(var c=r,f=0;e.get(c,n)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,p=0,v=o.length,m=a;h<i;h++){var _=e.get(h,n);if(_!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],$t.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return 1/0;var c=a/o;n*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=r[h]*c,m=p>v?p-v:v-p;if(m>n)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),zW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vu=(function(){function t(e,r){if(r.length===0)throw new Me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),$t.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=zW(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){r={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;$t.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=this.field.add(r[l-o],n[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Me("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=0;l<n;l++)for(var c=r[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Me;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Xe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),HW=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Me;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new nN;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),$W=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qW=(function(t){$W(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new vu(i,new Int32Array([0])),i.one=new vu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new vu(this,i)},e.PDF417_GF=new e(ft.NUMBER_OF_CODEWORDS,3),e})(HW),GW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KW=(function(){function t(){this.field=qW.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new vu(this.field,e),l=new Int32Array(r),c=!1,f=r;f>0;f--){var h=o.evaluateAt(this.field.exp(f));l[r-f]=h,h!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(n!=null)try{for(var v=GW(n),m=v.next();!m.done;m=v.next()){var _=m.value,w=this.field.exp(e.length-1-_),E=new vu(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(E)}}catch(N){i={error:N}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new vu(this.field,l),I=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),S,r),O=I[0],M=I[1],L=this.findErrorLocations(O),B=this.findErrorMagnitudes(M,O,L),f=0;f<L.length;f++){var D=e.length-1-this.field.log(L[f]);if(D<0)throw on.getChecksumInstance();e[D]=this.field.subtract(e[D],B[f])}return L.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,h=l;if(a=o,l=c,a.isZero())throw on.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}c=p.multiply(l).subtract(h).negative()}var E=c.getCoefficient(0);if(E===0)throw on.getChecksumInstance();var S=this.field.inverse(E),I=c.multiply(S),O=o.multiply(S);return[I,O]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw on.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new vu(this.field,a),c=n.length,f=new Int32Array(c),o=0;o<c;o++){var h=this.field.inverse(n[o]),p=this.field.subtract(0,e.evaluateAt(h)),v=this.field.inverse(l.evaluateAt(h));f[o]=this.field.multiply(p,v)}return f},t})(),ob=(function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,l=i==null||a==null;if(o&&l)throw new ae;o?(r=new Te(0,i.getY()),n=new Te(0,a.getY())):l&&(i=new Te(e.getWidth()-1,r.getY()),a=new Te(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var h=new Te(c.getX(),f);n?i=h:o=h}if(r>0){var p=n?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Te(p.getX(),v);n?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),WW=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),cE=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,c,f,h,p){if(o==="%%")return"%";if(r[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=r[n];break;case"c":m=r[n][0];break;case"f":m=parseFloat(r[n]).toFixed(o);break;case"p":m=parseFloat(r[n]).toPrecision(o);break;case"e":m=parseFloat(r[n]).toExponential(o);break;case"x":m=parseInt(r[n]).toString(v||16);break;case"d":m=parseFloat(parseInt(r[n],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var _=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<_;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),XW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fN=(function(){function t(e){this.boundingBox=new ob(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new cE,i=0;try{for(var a=XW(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),YW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QW=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},hh=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>n?(n=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===n&&i.push(m.getKey())};try{for(var o=YW(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=QW(l.value,2),f=c[0],h=c[1];a(f,h)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return ft.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),ZW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),V2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nO=(function(t){ZW(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=V2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,v=l;v<c;v++)if(n[v]!=null){var m=n[v],_=m.getRowNumber()-f;if(_===0)p++;else if(_===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(_<0||m.getRowNumber()>=r.getRowCount()||_>v)n[v]=null;else{var w=void 0;h>2?w=(h-2)*_:w=_;for(var E=w>=v,S=1;S<=w&&!E;S++)E=n[v-S]!=null;E?n[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=V2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,h=o;h<l;h++)if(c[h]!=null){var p=c[h];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=r.getRowCount()?c[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new hh,o=new hh,l=new hh,c=new hh;try{for(var f=V2(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){r={error:w}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<ft.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>ft.MAX_ROWS_IN_BARCODE)return null;var _=new WW(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(fN),JW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eX=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ft.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[r],f[3]=c[r],r>0&&(f[0]=n[r-1],f[4]=l[r-1],f[5]=c[r-1]),r>1&&(f[8]=n[r-2],f[10]=l[r-2],f[11]=c[r-2]),r<n.length-1&&(f[1]=n[r+1],f[6]=l[r+1],f[7]=c[r+1]),r<n.length-2&&(f[9]=n[r+2],f[12]=l[r+2],f[13]=c[r+2]);try{for(var h=JW(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new cE,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t})(),tX=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),rX=(function(){function t(){}return t.initialize=function(){for(var e=0;e<ft.SYMBOL_TABLE.length;e++)for(var r=ft.SYMBOL_TABLE[e],n=r&1,i=0;i<ft.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ft.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ft.BARS_IN_MODULE-i-1]=Math.fround(a/ft.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=pt.sum(e),n=new Int32Array(ft.BARS_IN_MODULE),i=0,a=0,o=0;o<ft.MODULES_IN_CODEWORD;o++){var l=r/(2*ft.MODULES_IN_CODEWORD)+o*r/ft.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return ft.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=pt.sum(e),n=new Array(ft.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=eb.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,f=t.RATIOS_TABLE[l],h=0;h<ft.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-n[h]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=ft.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ft.SYMBOL_TABLE.length).map(function(e){return new Array(ft.BARS_IN_MODULE)}),t})(),nX=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),iO=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),iX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aX=(function(t){iX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(li),oX=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new aX;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new aE;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),sX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lX=(function(t){sX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(li),uX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cX=(function(t){uX(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Me("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new lX;i=Ye.MAX_VALUE}this.buf=Gr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new aE;this.ensureCapacity(this.count+i),$t.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Gr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(oX),Bt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Bt||(Bt={}));function dN(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var d1;function Ks(t){if(typeof d1>"u"&&(d1=dN()),d1===null)throw new Error("BigInt is not supported!");return d1(t)}function fX(){var t=[];t[0]=Ks(1);var e=Ks(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var dX=(function(){function t(){}return t.decode=function(e,r){var n=new Xe(""),i=qr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],l=new nX;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:qr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ve.getFormatInstance()}if(n.length()===0)throw ve.getFormatInstance();var c=new Mv(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Ye.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Xe;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Xe;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Xe;r=t.textCompaction(e,r+1,f),n.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Xe;r=t.textCompaction(e,r+1,h),n.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Xe;r=t.numericCompaction(e,r+1,p),n.setSegmentCount(Ye.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Xe;r=t.numericCompaction(e,r+1,v),n.setTimestamp(iO.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Xe;r=t.numericCompaction(e,r+1,m),n.setChecksum(Ye.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Xe;r=t.numericCompaction(e,r+1,_),n.setFileSize(iO.parseLong(_.toString()));break;default:throw ve.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(l!==-1){var w=r-l;n.isLastSegment()&&w--,n.setOptionalData(Gr.copyOfRange(e,l,l+w))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Bt.ALPHA,o=Bt.ALPHA,l=0;l<n;){var c=e[l],f="";switch(a){case Bt.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=Bt.LOWER;break;case t.ML:a=Bt.MIXED;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=Bt.ALPHA_SHIFT;break;case t.ML:a=Bt.MIXED;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Bt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Bt.LOWER;break;case t.AL:a=Bt.ALPHA;break;case t.PS:o=a,a=Bt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Bt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break;case Bt.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Bt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Bt.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,r,n,i,a){var o=new cX,l=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=r[i++];i<r[0]&&!f;)switch(h[l++]=p,c=900*c+p,p=r[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Ks(c)>>Ks(8*(5-v))));c=0,l=0}break}i===r[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=p);for(var m=0;m<l;m++)o.write(h[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!f;){var _=r[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(Ks(c)>>Ks(8*(5-v))));c=0,l=0}}break}return a.append(ra.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var l=e[r++];if(r===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ks(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ks(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=dN()?fX():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Xd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hX=(function(){function t(){}return t.decode=function(e,r,n,i,a,o,l){for(var c=new ob(e,r,n,i,a),f=null,h=null,p,v=!0;;v=!1){if(r!=null&&(f=t.getRowIndicatorColumn(e,c,r,!0,o,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,o,l)),p=t.merge(f,h),p==null)throw ae.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,h);for(var w=f!=null,E=1;E<=_;E++){var S=w?E:_-E;if(p.getDetectionResultColumn(S)===void 0){var I=void 0;S===0||S===_?I=new nO(c,S===0):I=new fN(c),p.setDetectionResultColumn(S,I);for(var O=-1,M=O,L=c.getMinY();L<=c.getMaxY();L++){if(O=t.getStartColumn(p,S,L,w),O<0||O>c.getMaxX()){if(M===-1)continue;O=M}var B=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,O,L,o,l);B!=null&&(I.setCodeword(L,B),M=O,o=Math.min(o,B.getWidth()),l=Math.max(l,B.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=ob.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new eX(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=Xd(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;v>0&&h[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Xd(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var l=new nO(r,i),c=0;c<2;c++)for(var f=c===0?1:-1,h=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=r.getMaxY()&&p>=r.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);v!=null&&(l.setCodeword(p,v),i?h=v.getStartX():h=v.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ft.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=r[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;f.length===0?n.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ft.toIntArray(n),ft.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=a[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(h){var f=h instanceof on;if(!f)throw h}if(o.length===0)throw on.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw on.getChecksumInstance()}throw on.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new hh;var f=0;try{for(var h=Xd(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,Xd(v.getCodewords())),_=m.next();!_.done;_=m.next()){var w=_.value;if(w!=null){var E=w.getRowNumber();if(E>=0){if(E>=o.length)continue;o[E][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){r={error:S}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var h=(a=void 0,Xd(e.getDetectionResultColumn(r).getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var f=t.getModuleBitCount(e,r,n,i,a,o);if(f==null)return null;var h,p=pt.sum(f);if(i)h=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}h=a,a=h-p}if(!t.checkCodewordSkew(p,l,c))return null;var _=rX.getDecodedValue(f),w=ft.getCodeword(_);return w===-1?null:new tX(a,h,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var l=a,c=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?l<n:l>=r)&&f<c.length;)e.get(l,o)===p?(c[f]++,l+=h):(f++,p=!p);return f===c.length||l===(i?n:r)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ve.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=dX.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw on.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ve.getFormatInstance();var n=e[0];if(n>e.length)throw ve.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ve.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new cE,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new KW,t})(),pX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sb=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ae.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ve||n instanceof on?ae.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,l=UW.detectMultiple(e,r,n);try{for(var c=pX(l.getPoints()),f=c.next();!f.done;f=c.next()){var h=f.value,p=hX.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),v=new Bn(p.getText(),p.getRawBytes(),void 0,h,Ne.PDF_417);v.putMetadata(An.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(An.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),gX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aO=(function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(li),oO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vX=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(tr.TRY_HARDER)!==void 0,n=e==null?null:e.get(tr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Ne.UPC_A||o===Ne.UPC_E||o===Ne.EAN_13||o===Ne.EAN_8||o===Ne.CODABAR||o===Ne.CODE_39||o===Ne.CODE_93||o===Ne.CODE_128||o===Ne.ITF||o===Ne.RSS_14||o===Ne.RSS_EXPANDED});a&&!r&&i.push(new dh(e)),n.includes(Ne.QR_CODE)&&i.push(new ab),n.includes(Ne.DATA_MATRIX)&&i.push(new ib),n.includes(Ne.AZTEC)&&i.push(new rb),n.includes(Ne.PDF_417)&&i.push(new sb),a&&r&&i.push(new dh(e))}i.length===0&&(r||i.push(new dh(e)),i.push(new ab),i.push(new ib),i.push(new rb),i.push(new sb),r&&i.push(new dh(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=oO(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new aO("No readers where selected, nothing can be read.");try{for(var i=oO(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof aO)continue}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ae("No MultiFormat Readers were able to detect the code.")},t})(),mX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yX=(function(t){mX(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new vX;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Pf),xX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){xX(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sb,r)||this}return e})(Pf);var _X=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){_X(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ab,r)||this}return e})(Pf);var lb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(lb||(lb={}));const h1=lb;var hN=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new sl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new sl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Me("No error correction bytes");var n=e.length-r;if(n<=0)throw new Me("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);$t.arraycopy(e,0,a,0,n);var o=new sl(this.field,a);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),f=r-c.length,h=0;h<f;h++)e[n+h]=0;$t.arraycopy(c,0,e,n+f,c.length)},t})(),ph=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=n[o],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===n[o+1][c]&&f===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=n[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<a&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=n[o],c=0;c<i;c++)l[c]===1&&r++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(r*2-f)*10/f);return h*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Me("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,h=0;h<a;h++){var p=r?o[l][h]:o[h][l];p===f?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,f=p)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),bX=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wX=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=bX(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Gr.fill(o,e)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Xe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),ub=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),EX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Wt=(function(t){EX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(li),sO=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new sn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],h=c[1];if(n.setBoolean(f,h,l),a<8){var p=n.getWidth()-a-1,v=8;n.setBoolean(p,v,l)}else{var p=8,v=n.getHeight()-7+(a-8);n.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new sn;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(n.get(f,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,r!==255&&ph.getDataMaskBit(r,f,l)&&(h=!h),n.setBoolean(f,l,h)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Wt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Me("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!ub.isValidMaskPattern(r))throw new Wt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new sn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Wt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Wt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Wt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Wt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(r.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),AX=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),lO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ph.applyMaskPenaltyRule1(e)+ph.applyMaskPenaltyRule2(e)+ph.applyMaskPenaltyRule3(e)+ph.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(h1.CHARACTER_SET)!==void 0;a&&(i=n.get(h1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new sn;if(o===Xt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=qr.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var f=new sn;this.appendBytes(e,o,f,i);var h;if(n!==null&&n.get(h1.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(h1.QR_VERSION).toString(),10);h=Eu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,h);if(!this.willFit(v,h,r))throw new Wt("Data too big for requested version")}else h=this.recommendVersion(r,o,l,f);var m=new sn;m.appendBitArray(l);var _=o===Xt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,h,o,m),m.appendBitArray(f);var w=h.getECBlocksForLevel(r),E=h.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(E,m);var S=this.interleaveWithECBytes(m,h.getTotalCodewords(),E,w.getNumBlocks()),I=new ub;I.setECLevel(r),I.setMode(o),I.setVersion(h);var O=h.getDimensionForVersion(),M=new wX(O,O),L=this.chooseMaskPattern(S,r,h,M);return I.setMaskPattern(L),sO.buildMatrix(S,r,h,L,M),I.setMatrix(M),I},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Eu.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),qr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xt.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Xt.BYTE}return i?Xt.ALPHANUMERIC:n?Xt.NUMERIC:Xt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ra.encode(e,qr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<ub.NUM_MASK_PATTERNS;l++){sO.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Eu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Wt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Wt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Wt("Block ID too large");var l=e%n,c=n-l,f=Math.floor(e/n),h=f+1,p=Math.floor(r/n),v=p+1,m=f-p,_=h-v;if(m!==_)throw new Wt("EC bytes mismatch");if(n!==c+l)throw new Wt("RS blocks mismatch");if(e!==(p+m)*c+(v+_)*l)throw new Wt("Total bytes mismatch");i<c?(a[0]=p,o[0]=m):(a[0]=v,o[0]=_)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,l,c;if(e.getSizeInBytes()!==n)throw new Wt("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,v=new Array,m=0;m<i;++m){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,m,_,w);var E=_[0],S=new Uint8Array(E);e.toBytes(8*f,S,0,E);var I=t.generateECBytes(S,w[0]);v.push(new AX(S,I)),h=Math.max(h,E),p=Math.max(p,I.length),f+=_[0]}if(n!==f)throw new Wt("Data bytes does not match offset");for(var O=new sn,m=0;m<h;++m)try{for(var M=(a=void 0,lO(v)),L=M.next();!L.done;L=M.next()){var B=L.value,S=B.getDataBytes();m<S.length&&O.appendBits(S[m],8)}}catch(V){a={error:V}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var D=(l=void 0,lO(v)),N=D.next();!N.done;N=D.next()){var B=N.value,I=B.getErrorCorrectionBytes();m<I.length&&O.appendBits(I[m],8)}}catch(V){l={error:V}}finally{try{N&&!N.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}if(r!==O.getSizeInBytes())throw new Wt("Interleaving error: "+r+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new hN(ii.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Wt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Xt.NUMERIC:t.appendNumericBytes(e,n);break;case Xt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Xt.BYTE:t.append8BitBytes(e,n,i);break;case Xt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Wt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Wt;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Wt;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ra.encode(e,n)}catch(c){throw new Wt(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ra.encode(e,qr.SJIS)}catch(p){throw new Wt(p)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,l=n[a+1]&255,c=o<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new Wt("Invalid byte sequence");var h=(f>>8)*192+(f&255);r.appendBits(h,13)}},t.appendECI=function(e,r){r.appendBits(Xt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=qr.UTF8.getName(),t})();var SX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){SX(e,t);function e(r,n,i,a,o,l,c,f){var h=t.call(this,l,c)||this;if(h.yuvData=r,h.dataWidth=n,h.dataHeight=i,h.left=a,h.top=o,a+l>n||o+c>i)throw new Me("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return $t.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;$t.arraycopy(this.yuvData,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,f=0;f<r;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var l=o+r/2,c=o,f=o+r-1;c<l;c++,f--){var h=i[c];i[c]=i[f],i[f]=h}},e.prototype.invert=function(){return new oE(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Nv);var TX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){TX(e,t);function e(r,n,i,a,o,l,c){var f=t.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=c,r.BYTES_PER_ELEMENT===4){for(var h=n*i,p=new Uint8ClampedArray(h),v=0;v<h;v++){var m=r[v],_=m>>16&255,w=m>>7&510,E=m&255;p[v]=(_+w+E)/4&255}f.luminances=p}else f.luminances=r;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new Me("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return $t.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return $t.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;$t.arraycopy(this.luminances,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new oE(this)},e})(Nv);var CX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),IX=(function(t){CX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(qr),OX=(function(){function t(){}return t.ISO_8859_1=qr.ISO8859_1,t})(),cb,RX=301,PX=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=RX);return{LOG:t,ALOG:e}};cb=PX([],[]),cb.LOG;cb.ALOG;var uO;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(uO||(uO={}));var cO=129,pN=230,DX=231,NX=235,MX=236,kX=237,LX=238,jX=239,BX=240,F2=254,VX=254,fO="[)>05",dO="[)>06",hO="",Rt=0,xn=1,$n=2,zr=3,rn=4,Rn=5,FX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Rt},t.prototype.encode=function(e){var r=wa.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=wa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Rn:e.writeCodeword(DX),e.signalEncoderChange(Rn);return;case xn:e.writeCodeword(pN),e.signalEncoderChange(xn);return;case zr:e.writeCodeword(LX),e.signalEncoderChange(zr);break;case $n:e.writeCodeword(jX),e.signalEncoderChange($n);break;case rn:e.writeCodeword(BX),e.signalEncoderChange(rn);break;default:throw new Error("Illegal mode: "+i)}else wa.isExtendedASCII(n)?(e.writeCodeword(NX),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(wa.isDigit(e)&&wa.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),UX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Rn},t.prototype.encode=function(e){var r=new Xe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=wa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Rt);break}}var a=r.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)r.setCharAt(0,ut.getCharAt(a));else if(a<=1555)r.setCharAt(0,ut.getCharAt(Math.floor(a/250)+249)),r.insert(1,ut.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,n=r.length();f<n;f++)e.writeCodeword(this.randomize255State(r.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),fE=(function(){function t(){}return t.prototype.getEncodingMode=function(){return xn},t.prototype.encodeMaximal=function(e){for(var r=new Xe,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(r.length()%3);(h===2&&f!==2||h===1&&(n>3||f!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(pN),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Xe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Xe;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var f=r.length();if(f%3===0){var h=wa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Rt);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(F2)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(F2),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(F2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Rt)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Xe;return a.append(n),a.append(i),a.toString()},t})(),zX=(function(){function t(){}return t.prototype.getEncodingMode=function(){return rn},t.prototype.encode=function(e){for(var r=new Xe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=wa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Rt);break}}}r.append(ut.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Rt)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ut.getCharAt(e-64)):wa.illegalCharacter(ut.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(a<<6)+o,c=l>>16&255,f=l>>8&255,h=l&255,p=new Xe;return p.append(c),r>=2&&p.append(f),r>=3&&p.append(h),p.toString()},t})(),HX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$X=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=(function(){function t(e,r,n,i,a,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,n,i,a){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=$X(GX),f=c.next();!f.done;f=c.next()){var h=f.value;if(!(r===1&&h.rectangular)&&!(r===2&&!h.rectangular)&&!(n!=null&&(h.getSymbolWidth()<n.getWidth()||h.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),qX=(function(t){HX(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(bt),GX=[new bt(!1,3,5,8,8,1),new bt(!1,5,7,10,10,1),new bt(!0,5,7,16,6,1),new bt(!1,8,10,12,12,1),new bt(!0,10,11,14,6,2),new bt(!1,12,12,14,14,1),new bt(!0,16,14,24,10,1),new bt(!1,18,14,16,16,1),new bt(!1,22,18,18,18,1),new bt(!0,22,18,16,10,2),new bt(!1,30,20,20,20,1),new bt(!0,32,24,16,14,2),new bt(!1,36,24,22,22,1),new bt(!1,44,28,24,24,1),new bt(!0,49,28,22,14,2),new bt(!1,62,36,14,14,4),new bt(!1,86,42,16,16,4),new bt(!1,114,48,18,18,4),new bt(!1,144,56,20,20,4),new bt(!1,174,68,22,22,4),new bt(!1,204,84,24,24,4,102,42),new bt(!1,280,112,14,14,16,140,56),new bt(!1,368,144,16,16,16,92,36),new bt(!1,456,192,18,18,16,114,48),new bt(!1,576,224,20,20,16,144,56),new bt(!1,696,272,22,22,16,174,68),new bt(!1,816,336,24,24,16,136,56),new bt(!1,1050,408,18,18,36,175,68),new bt(!1,1304,496,20,20,36,163,62),new qX],KX=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new Xe,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Xe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=bt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),WX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XX=(function(t){WX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return zr},e.prototype.encode=function(r){for(var n=new Xe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=wa.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Rt);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):wa.illegalCharacter(ut.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(VX),r.getNewEncoding()<0&&r.signalEncoderChange(Rt)},e})(fE),YX=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),QX=(function(t){YX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $n},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(fE),wa=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=cO+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new fE,l=[new FX,o,new QX,new XX,new zX,new UX],c=new KX(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(fO)&&e.endsWith(hO)?(c.writeCodeword(MX),c.setSkipAtEnd(2),c.pos+=fO.length):e.startsWith(dO)&&e.endsWith(hO)&&(c.writeCodeword(kX),c.setSkipAtEnd(2),c.pos+=dO.length);var f=Rt;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();h<p&&f!==Rt&&f!==Rn&&f!==rn&&c.writeCodeword("þ");var v=c.getCodewords();for(v.length()<p&&v.append(cO);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===zr&&i===zr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Rt}else if(n===rn&&i===rn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Rt}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Rt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(r+a===e.length){Gr.fill(o,0),Gr.fill(l,0);var c=this.findMinimums(i,l,Ye.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Rt]===c)return Rt;if(f===1){if(o[Rn]>0)return Rn;if(o[rn]>0)return rn;if(o[$n]>0)return $n;if(o[zr]>0)return zr}return xn}var h=e.charCodeAt(r+a);if(a++,this.isDigit(h)?i[Rt]+=.5:this.isExtendedASCII(h)?(i[Rt]=Math.ceil(i[Rt]),i[Rt]+=2):(i[Rt]=Math.ceil(i[Rt]),i[Rt]++),this.isNativeC40(h)?i[xn]+=2/3:this.isExtendedASCII(h)?i[xn]+=8/3:i[xn]+=4/3,this.isNativeText(h)?i[$n]+=2/3:this.isExtendedASCII(h)?i[$n]+=8/3:i[$n]+=4/3,this.isNativeX12(h)?i[zr]+=2/3:this.isExtendedASCII(h)?i[zr]+=13/3:i[zr]+=10/3,this.isNativeEDIFACT(h)?i[rn]+=3/4:this.isExtendedASCII(h)?i[rn]+=17/4:i[rn]+=13/4,this.isSpecialB256(h)?i[Rn]+=4:i[Rn]++,a>=4){if(Gr.fill(o,0),Gr.fill(l,0),this.findMinimums(i,l,Ye.MAX_VALUE,o),l[Rt]<this.min(l[Rn],l[xn],l[$n],l[zr],l[rn]))return Rt;if(l[Rn]<l[Rt]||l[Rn]+1<this.min(l[xn],l[$n],l[zr],l[rn]))return Rn;if(l[rn]+1<this.min(l[Rn],l[xn],l[$n],l[zr],l[Rt]))return rn;if(l[$n]+1<this.min(l[Rn],l[xn],l[rn],l[zr],l[Rt]))return $n;if(l[zr]+1<this.min(l[Rn],l[xn],l[rn],l[$n],l[Rt]))return zr;if(l[xn]+1<this.min(l[Rt],l[Rn],l[rn],l[$n])){if(l[xn]<l[zr])return xn;if(l[xn]===l[zr]){for(var p=r+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return zr;if(!this.isNativeX12(v))break;p++}return xn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Gr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Ye.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),U2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pO=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ra.encode(e,this.charset)!=null}catch{return!1}},t})(),ZX=(function(){function t(e,r,n){var i,a,o,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(k){return new pO(IX.forName(k))}),this.encoders=[];var h=[];h.push(new pO(OX.ISO_8859_1));for(var p=r!=null&&r.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var _=(i=void 0,U2(h)),w=_.next();!w.done;w=_.next()){var E=w.value,S=e.charAt(v),I=S.charCodeAt(0);if(I===n||E.canEncode(S)){m=!0;break}}}catch(k){i={error:k}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!m)try{for(var O=(o=void 0,U2(this.ENCODERS)),M=O.next();!M.done;M=O.next()){var E=M.value;if(E.canEncode(e.charAt(v))){h.push(E),m=!0;break}}}catch(k){o={error:k}}finally{try{M&&!M.done&&(l=O.return)&&l.call(O)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var L=0;try{for(var B=U2(h),D=B.next();!D.done;D=B.next()){var E=D.value;this.encoders[L++]=E}}catch(k){c={error:k}}finally{try{D&&!D.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}}var N=-1;if(r!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&r.name===this.encoders[v].name){N=v;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ra.encode(ut.getCharAt(e),this.encoders[r].name)},t})(),JX=3,eY=(function(){function t(e,r,n){this.fnc1=n;var i=new ZX(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Xe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var l=e.charAt(i).charCodeAt(0),c=0,f=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),f=c+1);for(var h=c;h<f;h++)(l===o||r.canEncode(l,h))&&this.addEdge(n,i+1,new gO(l,r,h,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new gO[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var l=0;l<r.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][l],n);for(var l=0;l<r.length();l++)a[o-1][l]=null}for(var c=-1,f=Ye.MAX_VALUE,l=0;l<r.length();l++)if(a[i][l]!=null){var h=a[i][l];h.cachedTotalSize<f&&(f=h.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=r.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var _=v.previous===null?0:v.previous.encoderIndex;_!==v.encoderIndex&&p.unshift(256+r.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),gO=(function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(o+=JX),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),tY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var vO;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(vO||(vO={}));(function(t){tY(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(eY);var rY=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),mO=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),nY=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),iY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),dE=(function(t){iY(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Ye.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(nY),aY=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oY=(function(t){aY(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(dE);function sY(t,e,r){return new oY(t,e,r)}function Yd(t,e,r){return new dE(t,e,r)}var lY=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ll=0,yg=1,Ji=2,gN=3,Qa=4,uY=new dE(null,0,0),z2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],cY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function fY(t){var e,r;try{for(var n=cY(t),i=n.next();!i.done;i=n.next()){var a=i.value;Gr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[ll][Qa]=0,t[yg][Qa]=0,t[yg][ll]=28,t[gN][Qa]=0,t[Ji][Qa]=0,t[Ji][ll]=15,t}var vN=fY(Gr.createInt32Array(6,6)),dY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hY=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=z2[this.mode][e];i=Yd(i,a&65535,a>>16),n+=a>>16}var o=e===Ji?4:5;return i=Yd(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Ji?4:5;return n=Yd(n,vN[this.mode][e],i),n=Yd(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Qa||this.mode===Ji){var a=z2[n][ll];r=Yd(r,a&65535,a>>16),i+=a>>16,n=ll}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=sY(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(z2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new sn;try{for(var l=dY(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(o,e)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ut.format("%s bits=%d bytes=%d",lY[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(uY,ll,0,0),t})();function pY(t){var e=ut.getCharCode(" "),r=ut.getCharCode("."),n=ut.getCharCode(",");t[ll][e]=1;for(var i=ut.getCharCode("Z"),a=ut.getCharCode("A"),o=a;o<=i;o++)t[ll][o]=o-a+2;t[yg][e]=1;for(var l=ut.getCharCode("z"),c=ut.getCharCode("a"),o=c;o<=l;o++)t[yg][o]=o-c+2;t[Ji][e]=1;for(var f=ut.getCharCode("9"),h=ut.getCharCode("0"),o=h;o<=f;o++)t[Ji][o]=o-h+2;t[Ji][n]=12,t[Ji][r]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[gN][ut.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ut.getCharCode(m[v])>0&&(t[Qa][ut.getCharCode(m[v])]=v);return t}var H2=pY(Gr.createInt32Array(5,256)),p1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gY=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ut.getCharCode(" "),r=ut.getCharCode(`
`),n=mO.singletonList(hY.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ut.getCharCode("\r"):a=o===r?2:0;break;case ut.getCharCode("."):a=o===e?3:0;break;case ut.getCharCode(","):a=o===e?4:0;break;case ut.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var l=mO.min(n,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=p1(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,a)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=H2[e.getMode()][i]>0,o=null,l=0;l<=Qa;l++){var c=H2[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!a||l===e.getMode()||l===Ji){var f=o.latchAndAppend(l,c);n.push(f)}if(!a&&vN[e.getMode()][l]>=0){var h=o.shiftAndAppend(l,c);n.push(h)}}}if(e.getBinaryShiftByteCount()>0||H2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(r);n.push(p)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var l=p1(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,r,n,o)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Qa,n)),e.getMode()!==Qa&&i.push(a.shiftAndAppend(Qa,n)),n===3||n===4){var o=a.latchAndAppend(Ji,16-n).latchAndAppend(Ji,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var l=p1(e),c=l.next();!c.done;c=l.next()){var f=c.value,h=!0,p=function(E){if(E.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(E)&&(o=o.filter(function(S){return S!==E}))};try{for(var v=(i=void 0,p1(o)),m=v.next();!m.done;m=v.next()){var _=m.value,w=p(_);if(w==="break")break}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(E){r={error:E}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t})(),vY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new gY(e).encode(),a=Ye.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,l,c,f,h,p;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Me(ut.format("Illegal value %s for layers",n));f=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var v=f-f%h;if(p=t.stuffBits(i,h),p.getSize()+a>v)throw new Me("Data to large for user specified layer");if(l&&p.getSize()>h*64)throw new Me("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new Me("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,f=t.totalBitsInLayer(c,l),!(o>f)){(p==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],p=t.stuffBits(i,h));var v=f-f%h;if(!(l&&p.getSize()>h*64)&&p.getSize()+a<=v)break}}}var _=t.generateCheckWords(p,f,h),w=p.getSize()/h,E=t.generateModeMessage(l,c,w),S=(l?11:14)+c*4,I=new Int32Array(S),O;if(l){O=S;for(var m=0;m<I.length;m++)I[m]=m}else{O=S+1+2*Ye.truncDivision(Ye.truncDivision(S,2)-1,15);for(var M=Ye.truncDivision(S,2),L=Ye.truncDivision(O,2),m=0;m<M;m++){var B=m+Ye.truncDivision(m,15);I[M-m-1]=L-B-1,I[M+m]=L+B+1}}for(var D=new so(O),m=0,N=0;m<c;m++){for(var k=(c-m)*4+(l?9:12),V=0;V<k;V++)for(var z=V*2,H=0;H<2;H++)_.get(N+z+H)&&D.set(I[m*2+H],I[m*2+V]),_.get(N+k*2+z+H)&&D.set(I[m*2+V],I[S-1-m*2-H]),_.get(N+k*4+z+H)&&D.set(I[S-1-m*2-H],I[S-1-m*2-V]),_.get(N+k*6+z+H)&&D.set(I[S-1-m*2-V],I[m*2+H]);N+=k*8}if(t.drawModeMessage(D,l,O,E),l)t.drawBullsEye(D,Ye.truncDivision(O,2),5);else{t.drawBullsEye(D,Ye.truncDivision(O,2),7);for(var m=0,V=0;m<Ye.truncDivision(S,2)-1;m+=15,V+=16)for(var H=Ye.truncDivision(O,2)&1;H<O;H+=2)D.set(Ye.truncDivision(O,2)-V,H),D.set(Ye.truncDivision(O,2)+V,H),D.set(H,Ye.truncDivision(O,2)-V),D.set(H,Ye.truncDivision(O,2)+V)}var U=new rY;return U.setCompact(l),U.setSize(O),U.setLayers(c),U.setCodeWords(w),U.setMatrix(D),U},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new sn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Ye.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Ye.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,l=new hN(t.getGF(n)),c=Ye.truncDivision(r,n),f=t.bitsToWords(e,n,c);l.encode(f,c-o);var h=r%n,p=new sn;p.appendBits(0,h);try{for(var v=vY(Array.from(f)),m=v.next();!m.done;m=v.next()){var _=m.value;p.appendBits(_,n)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var l=0,c=0;c<r;c++)l|=e.get(a*r+c)?1<<r-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return ii.AZTEC_PARAM;case 6:return ii.AZTEC_DATA_6;case 8:return ii.AZTEC_DATA_8;case 10:return ii.AZTEC_DATA_10;case 12:return ii.AZTEC_DATA_12;default:throw new Me("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new sn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(l|=1<<r-1-c);(l&a)===a?(n.appendBits(l&a,r),o--):(l&a)===0?(n.appendBits(l|1,r),o--):n.appendBits(l,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const mN="YOUR_RAKUTEN_APP_ID_HERE",mY="b72c14dc75bcde18fb7d3628bf7e92b7";async function yY(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await xY(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await _Y(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await bY(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await wY(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),EY(t)}async function xY(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",mN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Items||n.Items.length===0)return null;const i=n.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function _Y(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",mN),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.Products||n.Products.length===0)return null;const i=n.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function bY(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",mY),e.searchParams.set("query",t),e.searchParams.set("type","code");const r=await fetch(e.toString());if(!r.ok)return null;const n=await r.json();if(!n.product||n.product.length===0)return null;const i=n.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function wY(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,r=await fetch(e);if(!r.ok)return null;const n=await r.json();if(n.status!==1||!n.product)return null;const i=n.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function EY(t){const r={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return r?{barcode:t,...r,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const AY=({onProductFound:t,onClose:e})=>{const r=C.useRef(null),[n,i]=C.useState(null),[a,o]=C.useState(null),[l,c]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(h(),()=>{p()}),[]);const h=async()=>{try{i(null);const m=new yX;f.current=m;const _=await m.listVideoInputDevices();if(_.length===0)throw new Error("カメラが見つかりません");const w=_.find(S=>{const I=S.label.toLowerCase();return I.includes("back")||I.includes("rear")||I.includes("environment")||I.includes("camera")&&I.includes("0")}),E=w?w.deviceId:_[_.length-1].deviceId;console.log("使用するカメラ:",w?w.label:_[_.length-1].label),m.decodeFromVideoDevice(E,r.current,async(S,I)=>{if(S&&!l){const O=S.getText();if(O===a)return;o(O),c(!0);try{const M=await yY(O);M?(t(M),p()):(i(`商品情報が見つかりませんでした: ${O}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(M){console.error("商品情報取得エラー:",M),i("商品情報の取得に失敗しました"),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}I&&!(I instanceof ae)&&console.error("スキャンエラー:",I)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),A.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),A.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[A.jsx("video",{ref:r,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),n&&A.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:n})]}),A.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},SY=({product:t,onAdded:e,onNavigateToStock:r})=>{const{addIntake:n}=ts(),{addStock:i}=fo(),[a,o]=C.useState(""),[l,c]=C.useState(t.price?.toString()||""),[f,h]=C.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}n({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),r?(e(),setTimeout(()=>{r()},100)):(alert("在庫管理に追加しました！"),e())};return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(iw,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),A.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),A.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),A.jsxs("div",{style:{marginBottom:"12px"},children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),A.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&A.jsxs("div",{children:[A.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),A.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),A.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),A.jsxs("div",{style:{marginBottom:"24px"},children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(ow,{size:18}),"食事記録に追加"]}),A.jsx("label",{children:"カロリー (kcal)"}),A.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),A.jsx("label",{children:"金額 (円)"}),A.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"例: 150"}),A.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),A.jsxs("div",{children:[A.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[A.jsx(Zc,{size:18}),"在庫管理に追加"]}),A.jsx("label",{children:"賞味期限までの日数"}),A.jsx("input",{type:"number",value:f,onChange:m=>h(m.target.value),placeholder:"例: 7"}),A.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:r?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),A.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},TY=({onReceiptScanned:t,onClose:e})=>{const r=C.useRef(null),n=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});r.current&&(r.current.srcObject=w,h(w))}catch(w){console.error("カメラアクセスエラー:",w),c("カメラにアクセスできません。ファイル選択をお試しください。")}};kn.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!r.current||!n.current)){o(!0),c(null);try{const w=r.current,E=n.current,S=E.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");E.width=w.videoWidth,E.height=w.videoHeight,S.drawImage(w,0,0);const I=await new Promise((L,B)=>{E.toBlob(D=>{D?L(D):B(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),O=new File([I],"receipt.jpg",{type:"image/jpeg"}),M=await LI(O);f&&f.getTracks().forEach(L=>L.stop()),t(M)}catch(w){console.error("OCRエラー:",w),c(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const E=w.target.files?.[0];if(E){o(!0),c(null);try{const S=await LI(E);f&&f.getTracks().forEach(I=>I.stop()),t(S)}catch(S){console.error("OCRエラー:",S),c(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},_=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return A.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),A.jsx("button",{onClick:_,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:A.jsx(lv,{size:24})})]}),A.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[A.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),A.jsx("canvas",{ref:n,style:{display:"none"}}),A.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:A.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&A.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),A.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[A.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),A.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[A.jsx(EB,{size:20}),"ファイル選択"]}),A.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":A.jsx(aw,{size:32})})]})]})},CY=({result:t,onClose:e})=>{const{addExpense:r}=rs(),[n,i]=C.useState(t.items),[a,o]=C.useState(null),[l,c]=C.useState(""),[f,h]=C.useState(""),p=n.reduce((O,M)=>O+M.price*(M.quantity||1),0),v=O=>{const M=n[O];o(O),c(M.name),h(M.price.toString())},m=()=>{if(a===null)return;const O=parseInt(f,10);if(isNaN(O)||O<=0){alert("正しい金額を入力してください");return}const M=[...n];M[a]={...M[a],name:l.trim(),price:O},i(M),o(null),c(""),h("")},_=()=>{o(null),c(""),h("")},w=O=>{if(window.confirm("この商品を削除しますか？")){const M=n.filter((L,B)=>B!==O);i(M)}},E=()=>{const O=window.prompt("商品名を入力してください");if(!O||!O.trim())return;const M=window.prompt("金額を入力してください");if(!M)return;const L=parseInt(M,10);if(isNaN(L)||L<=0){alert("正しい金額を入力してください");return}i([...n,{name:O.trim(),price:L,quantity:1}])},S=()=>{if(n.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${n.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const O=new Date().toISOString();n.forEach(M=>{const L=M.quantity||1;for(let B=0;B<L;B++)r({category:"food",amount:M.price,memo:M.name,date:t.date||O})}),alert("家計簿に登録しました！"),e()},I=O=>new Intl.NumberFormat("ja-JP").format(O);return A.jsxs("div",{className:"card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[A.jsx(SP,{size:20}),"レシート内容"]}),A.jsxs("button",{onClick:E,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[A.jsx(IP,{size:18}),"追加"]})]}),A.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&A.jsxs("div",{style:{marginBottom:"4px"},children:[A.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&A.jsxs("div",{children:[A.jsx("strong",{children:"日付:"})," ",t.date]})]}),n.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):A.jsx("div",{style:{marginBottom:"16px"},children:n.map((O,M)=>A.jsx("div",{style:{padding:"12px",borderBottom:M<n.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===M?A.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[A.jsx("input",{value:l,onChange:L=>c(L.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("input",{value:f,onChange:L=>h(L.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),A.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:A.jsx(OP,{size:16})}),A.jsx("button",{onClick:_,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:O.name}),O.quantity&&O.quantity>1&&A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",O.quantity,"個"]})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[A.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(O.price*(O.quantity||1))]}),A.jsx("button",{onClick:()=>v(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:A.jsx(wB,{size:18})}),A.jsx("button",{onClick:()=>w(M),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:A.jsx(Gh,{size:18})})]})]})},M))}),A.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),A.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(p)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[A.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),A.jsx("button",{onClick:S,className:"submit",disabled:n.length===0,style:{opacity:n.length===0?.5:1},children:"家計簿に登録"})]}),A.jsxs("details",{style:{marginTop:"16px"},children:[A.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),A.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},IY=({onNavigateToStock:t})=>{const[e,r]=C.useState("select"),[n,i]=C.useState(!1),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{r("barcode"),i(!0),o(null)},h=()=>{r("receipt"),i(!0),c(null)},p=E=>{o(E),i(!1)},v=E=>{c(E),i(!1)},m=()=>{o(null),r("select")},_=()=>{c(null),r("select")},w=()=>{r("select"),i(!1),o(null),c(null)};return A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"スキャン"}),e==="select"&&!n&&!a&&!l&&A.jsx(A.Fragment,{children:A.jsxs("div",{className:"card",children:[A.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(aw,{size:20}),"スキャンモードを選択"]}),A.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[A.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(mB,{size:48}),A.jsx("span",{children:"バーコード"}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),A.jsxs("button",{onClick:h,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[A.jsx(SP,{size:48}),A.jsx("span",{children:"レシート"}),A.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&n&&A.jsx(AY,{onProductFound:p,onClose:w}),e==="barcode"&&a&&A.jsx(SY,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&n&&A.jsx(TY,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&A.jsx(CY,{result:l,onClose:_})]})};function yN(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=yN(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=yN(t))&&(n&&(n+=" "),n+=e);return n}var $2={},q2={},yO;function OY(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(q2)),q2}var G2={},xO;function xN(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(G2)),G2}var K2={},_O;function hE(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(K2)),K2}var W2={},X2={},bO;function RY(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(X2)),X2}var wO;function pE(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RY(),r=hE();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,c+=i[l]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=n})(W2)),W2}var EO;function gE(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OY(),r=xN(),n=hE(),i=pE();function a(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?r.isDeepKey(c)?a(l,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const h=l[c];return h===void 0?f:h}default:{if(Array.isArray(c))return o(l,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?f:h}}}function o(l,c,f){if(c.length===0)return f;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})($2)),$2}var Y2,AO;function PY(){return AO||(AO=1,Y2=gE().get),Y2}var DY=PY();const ju=co(DY);var Q2={exports:{}},jt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function NY(){if(SO)return jt;SO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case t:switch(w=w.type,w){case r:case i:case n:case c:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case h:return w;case a:return w;default:return E}}case e:return E}}}return jt.ContextConsumer=a,jt.ContextProvider=o,jt.Element=t,jt.ForwardRef=l,jt.Fragment=r,jt.Lazy=p,jt.Memo=h,jt.Portal=e,jt.Profiler=i,jt.StrictMode=n,jt.Suspense=c,jt.SuspenseList=f,jt.isContextConsumer=function(w){return _(w)===a},jt.isContextProvider=function(w){return _(w)===o},jt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},jt.isForwardRef=function(w){return _(w)===l},jt.isFragment=function(w){return _(w)===r},jt.isLazy=function(w){return _(w)===p},jt.isMemo=function(w){return _(w)===h},jt.isPortal=function(w){return _(w)===e},jt.isProfiler=function(w){return _(w)===i},jt.isStrictMode=function(w){return _(w)===n},jt.isSuspense=function(w){return _(w)===c},jt.isSuspenseList=function(w){return _(w)===f},jt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},jt.typeOf=_,jt}var TO;function MY(){return TO||(TO=1,Q2.exports=NY()),Q2.exports}var kY=MY(),ln=t=>t===0?0:t>0?1:-1,Oi=t=>typeof t=="number"&&t!=+t,mu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Oi(t),lo=t=>Re(t)||typeof t=="string",LY=0,kh=t=>{var e=++LY;return"".concat(t||"").concat(e)},Ln=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return n;var a;if(mu(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Oi(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},_N=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function cr(t,e,r){return Re(t)&&Re(e)?t+r*(e-t):e}function bN(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ju(n,e))===r)}var nr=t=>t===null||typeof t>"u",s0=t=>nr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),jY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vE(t){if(typeof t!="string")return!1;var e=jY;return e.includes(t)}var BY=["viewBox","children"],CO=["points","pathLength"],Z2={svg:BY,polygon:CO,polyline:CO},mE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{vE(i)&&(n[i]=(a=>r[i](r,a)))}),n},VY=(t,e,r)=>n=>(t(e,r,n),null),l0=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];vE(i)&&typeof a=="function"&&(n||(n={}),n[i]=VY(a,e,r))}),n},FY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function wN(t){if(typeof t!="string")return!1;var e=FY;return e.includes(t)}function ho(t){var e=Object.entries(t).filter(r=>{var[n]=r;return wN(n)});return Object.fromEntries(e)}var IO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",OO=null,J2=null,EN=t=>{if(t===OO&&Array.isArray(J2))return J2;var e=[];return C.Children.forEach(t,r=>{nr(r)||(kY.isFragment(r)?e=e.concat(EN(r.props.children)):e.push(r))}),J2=e,OO=t,e};function yE(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>IO(i)):n=[IO(e)],EN(t).forEach(i=>{var a=ju(i,"type.displayName")||ju(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var AN=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,UY=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&Z2?.[n])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!n&&a.includes(e)||wN(e)),c=!!r&&vE(e);return o||l||c},or=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;UY((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},zY=["children","width","height","viewBox","className","style","title","desc"];function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(null,arguments)}function HY(t,e){if(t==null)return{};var r,n,i=$Y(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $Y(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xE=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:c,desc:f}=t,h=HY(t,zY),p=a||{width:n,height:i,x:0,y:0},v=vt("recharts-surface",o);return C.createElement("svg",fb({},or(h,!0,"svg"),{className:v,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),r)}),qY=["children","className"];function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(null,arguments)}function GY(t,e){if(t==null)return{};var r,n,i=KY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tn=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=GY(t,qY),a=vt("recharts-layer",n);return C.createElement("g",db({className:a},or(i,!0),{ref:e}),r)}),SN=wP(),TN=C.createContext(null),WY=()=>C.useContext(TN);function zt(t){return function(){return t}}const CN=Math.cos,xg=Math.sin,Ia=Math.sqrt,_g=Math.PI,Lv=2*_g,hb=Math.PI,pb=2*hb,fu=1e-6,XY=pb-fu;function IN(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function YY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return IN;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class QY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IN:YY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,f=i-r,h=o-e,p=l-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>fu)if(!(Math.abs(p*c-f*h)>fu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,_=i-l,w=c*c+f*f,E=m*m+_*_,S=Math.sqrt(w),I=Math.sqrt(v),O=a*Math.tan((hb-Math.acos((w+v-E)/(2*S*I)))/2),M=O/I,L=O/S;Math.abs(M-1)>fu&&this._append`L${e+M*h},${r+M*p}`,this._append`A${a},${a},0,0,${+(p*m>h*_)},${this._x1=e+L*c},${this._y1=r+L*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,h=r+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>fu||Math.abs(this._y1-h)>fu)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%pb+pb),v>XY?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:v>fu&&this._append`A${n},${n},0,${+(v>=hb)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _E(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new QY(e)}function bE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ON(t){this._context=t}ON.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jv(t){return new ON(t)}function RN(t){return t[0]}function PN(t){return t[1]}function DN(t,e){var r=zt(!0),n=null,i=jv,a=null,o=_E(l);t=typeof t=="function"?t:t===void 0?RN:zt(t),e=typeof e=="function"?e:e===void 0?PN:zt(e);function l(c){var f,h=(c=bE(c)).length,p,v=!1,m;for(n==null&&(a=i(m=o())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function g1(t,e,r){var n=null,i=zt(!0),a=null,o=jv,l=null,c=_E(f);t=typeof t=="function"?t:t===void 0?RN:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?PN:zt(+r);function f(p){var v,m,_,w=(p=bE(p)).length,E,S=!1,I,O=new Array(w),M=new Array(w);for(a==null&&(l=o(I=c())),v=0;v<=w;++v){if(!(v<w&&i(E=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=m;--_)l.point(O[_],M[_]);l.lineEnd(),l.areaEnd()}S&&(O[v]=+t(E,v,p),M[v]=+e(E,v,p),l.point(n?+n(E,v,p):O[v],r?+r(E,v,p):M[v]))}if(I)return l=null,I+""||null}function h(){return DN().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class NN{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ZY(t){return new NN(t,!0)}function JY(t){return new NN(t,!1)}const wE={draw(t,e){const r=Ia(e/_g);t.moveTo(r,0),t.arc(0,0,r,0,Lv)}},eQ={draw(t,e){const r=Ia(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},MN=Ia(1/3),tQ=MN*2,rQ={draw(t,e){const r=Ia(e/tQ),n=r*MN;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},nQ={draw(t,e){const r=Ia(e),n=-r/2;t.rect(n,n,r,r)}},iQ=.8908130915292852,kN=xg(_g/10)/xg(7*_g/10),aQ=xg(Lv/10)*kN,oQ=-CN(Lv/10)*kN,sQ={draw(t,e){const r=Ia(e*iQ),n=aQ*r,i=oQ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Lv*a/5,l=CN(o),c=xg(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},ex=Ia(3),lQ={draw(t,e){const r=-Ia(e/(ex*3));t.moveTo(0,r*2),t.lineTo(-ex*r,-r),t.lineTo(ex*r,-r),t.closePath()}},Gi=-.5,Ki=Ia(3)/2,gb=1/Ia(12),uQ=(gb/2+1)*3,cQ={draw(t,e){const r=Ia(e/uQ),n=r/2,i=r*gb,a=n,o=r*gb+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Gi*n-Ki*i,Ki*n+Gi*i),t.lineTo(Gi*a-Ki*o,Ki*a+Gi*o),t.lineTo(Gi*l-Ki*c,Ki*l+Gi*c),t.lineTo(Gi*n+Ki*i,Gi*i-Ki*n),t.lineTo(Gi*a+Ki*o,Gi*o-Ki*a),t.lineTo(Gi*l+Ki*c,Gi*c-Ki*l),t.closePath()}};function fQ(t,e){let r=null,n=_E(i);t=typeof t=="function"?t:zt(t||wE),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function bg(){}function wg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function LN(t){this._context=t}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dQ(t){return new LN(t)}function jN(t){this._context=t}jN.prototype={areaStart:bg,areaEnd:bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hQ(t){return new jN(t)}function BN(t){this._context=t}BN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pQ(t){return new BN(t)}function VN(t){this._context=t}VN.prototype={areaStart:bg,areaEnd:bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gQ(t){return new VN(t)}function RO(t){return t<0?-1:1}function PO(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(RO(a)+RO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function DO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function tx(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Eg(t){this._context=t}Eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tx(this,this._t0,DO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tx(this,DO(this,r=PO(this,t,e)),r);break;default:tx(this,this._t0,r=PO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function FN(t){this._context=new UN(t)}(FN.prototype=Object.create(Eg.prototype)).point=function(t,e){Eg.prototype.point.call(this,e,t)};function UN(t){this._context=t}UN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function vQ(t){return new Eg(t)}function mQ(t){return new FN(t)}function zN(t){this._context=t}zN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=NO(t),i=NO(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NO(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function yQ(t){return new zN(t)}function Bv(t,e){this._context=t,this._t=e}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function xQ(t){return new Bv(t,.5)}function _Q(t){return new Bv(t,0)}function bQ(t){return new Bv(t,1)}function uf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function wQ(t,e){return t[e]}function EQ(t){const e=[];return e.key=t,e}function AQ(){var t=zt([]),e=vb,r=uf,n=wQ;function i(a){var o=Array.from(t.apply(this,arguments),EQ),l,c=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+n(p,o[l].key,f,a)]).data=p;for(l=0,h=bE(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?vb:typeof a=="function"?a:zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??uf,i):r},i}function SQ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}uf(t,e)}}function TQ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}uf(t,e)}}function CQ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,f=0;l<o;++l){for(var h=t[e[l]],p=h[n][1]||0,v=h[n-1][1]||0,m=(p-v)/2,_=0;_<l;++_){var w=t[e[_]],E=w[n][1]||0,S=w[n-1][1]||0;m+=E-S}c+=p,f+=m*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,uf(t,e)}}var IQ=["type","size","sizeType"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(null,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){OQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQ(t,e,r){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){if(t==null)return{};var r,n,i=NQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function NQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HN={symbolCircle:wE,symbolCross:eQ,symbolDiamond:rQ,symbolSquare:nQ,symbolStar:sQ,symbolTriangle:lQ,symbolWye:cQ},MQ=Math.PI/180,kQ=t=>{var e="symbol".concat(s0(t));return HN[e]||wE},LQ=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*MQ;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jQ=(t,e)=>{HN["symbol".concat(s0(t))]=e},EE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=DQ(t,IQ),a=kO(kO({},i),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=kQ(o),m=fQ().type(v).size(LQ(r,n,o));return m()},{className:c,cx:f,cy:h}=a,p=or(a,!0);return f===+f&&h===+h&&r===+r?C.createElement("path",mb({},p,{className:vt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};EE.registerSymbol=jQ;function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(null,arguments)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){AE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AE(t,e,r){return(e=VQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VQ(t){var e=FQ(t,"string");return typeof e=="symbol"?e:e+""}function FQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wi=32;class SE extends C.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=Wi/2,a=Wi/6,o=Wi/3,l=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Wi,y2:i,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Wi,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wi/8,"h").concat(Wi,"v").concat(Wi*3/4,"h").concat(-Wi,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=BQ({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(EE,{fill:l,cx:i,cy:i,size:Wi,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Wi,height:Wi},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var v=h.formatter||i,m=vt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?a:h.color,w=v?v(h.value,h,p):h.value;return C.createElement("li",yb({className:m,style:c,key:"legend-item-".concat(p)},l0(this.props,h,p)),C.createElement(xE,{width:r,height:r,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}AE(SE,"displayName","Legend");AE(SE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var rx={},nx={},jO;function UQ(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(nx)),nx}var ix={},BO;function $N(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(ix)),ix}var ax={},ox={},sx={},VO;function zQ(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(sx)),sx}var FO;function TE(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zQ();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(ox)),ox}var lx={},UO;function HQ(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(lx)),lx}var zO;function $Q(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=HQ();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(ax)),ax}var ux={},cx={},HO;function qQ(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gE();function r(n){return function(i){return e.get(i,n)}}t.property=r})(cx)),cx}var fx={},dx={},hx={},px={},$O;function qN(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(px)),px}var gx={},qO;function GN(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(gx)),gx}var vx={},GO;function KN(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(vx)),vx}var KO;function GQ(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CE(),r=qN(),n=GN(),i=KN();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function _(w,E,S,I,O,M){const L=m(w,E,S,I,O,M);return L!==void 0?!!L:o(w,E,_,M)},new Map)}function o(p,v,m,_){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,_);case"function":return Object.keys(v).length>0?o(p,{...v},m,_):i.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,_){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,_);if(v instanceof Map)return c(p,v,m,_);if(v instanceof Set)return h(p,v,m,_);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(_&&_.has(v))return _.get(v)===p;_&&_.set(v,p);try{for(let E=0;E<w.length;E++){const S=w[E];if(!n.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,_))return!1}return!0}finally{_&&_.delete(v)}}function c(p,v,m,_){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,E]of v.entries()){const S=p.get(w);if(m(S,E,w,p,v,_)===!1)return!1}return!0}function f(p,v,m,_){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let E=0;E<v.length;E++){const S=v[E];let I=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const M=p[O];let L=!1;if(m(M,S,E,p,v,_)&&(L=!0),L){w.add(O),I=!0;break}}if(!I)return!1}return!0}function h(p,v,m,_){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,_):!1}t.isMatchWith=a,t.isSetMatch=h})(hx)),hx}var WO;function CE(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GQ();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(dx)),dx}var mx={},yx={},xx={},XO;function KQ(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(xx)),xx}var _x={},YO;function WN(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(_x)),_x}var bx={},QO;function XN(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",_="[object Error]",w="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",L="[object Int8Array]",B="[object Int16Array]",D="[object Int32Array]",N="[object BigInt64Array]",k="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=_,t.float32ArrayTag=k,t.float64ArrayTag=V,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=D,t.int8ArrayTag=L,t.mapTag=c,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=O,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=S})(bx)),bx}var wx={},ZO;function WQ(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(wx)),wx}var JO;function YN(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KQ(),r=WN(),n=XN(),i=GN(),a=WQ();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,v,m=new Map,_=void 0){const w=_?.(h,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(m.has(h))return m.get(h);if(Array.isArray(h)){const E=new Array(h.length);m.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,v,m,_);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;m.set(h,E);for(const[S,I]of h)E.set(S,l(I,S,v,m,_));return E}if(h instanceof Set){const E=new Set;m.set(h,E);for(const S of h)E.add(l(S,void 0,v,m,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);m.set(h,E);for(let S=0;S<h.length;S++)E[S]=l(h[S],S,v,m,_);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return m.set(h,E),c(E,h,v,m,_),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return m.set(h,E),c(E,h,v,m,_),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof Error){const E=new h.constructor;return m.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,v,m,_),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof Number){const E=new Number(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(h instanceof String){const E=new String(h.valueOf());return m.set(h,E),c(E,h,v,m,_),E}if(typeof h=="object"&&f(h)){const E=Object.create(Object.getPrototypeOf(h));return m.set(h,E),c(E,h,v,m,_),E}return h}function c(h,p,v=h,m,_){const w=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<w.length;E++){const S=w[E],I=Object.getOwnPropertyDescriptor(h,S);(I==null||I.writable)&&(h[S]=l(p[S],S,v,m,_))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(yx)),yx}var e6;function XQ(){return e6||(e6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YN();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(mx)),mx}var t6;function YQ(){return t6||(t6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CE(),r=XQ();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(fx)),fx}var Ex={},Ax={},Sx={},r6;function QQ(){return r6||(r6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YN(),r=XN();function n(i,a){return e.cloneDeepWith(i,(o,l,c,f)=>{const h=a?.(o,l,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(Sx)),Sx}var n6;function ZQ(){return n6||(n6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QQ();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(Ax)),Ax}var Tx={},Cx={},i6;function QN(){return i6||(i6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Cx)),Cx}var Ix={},a6;function JQ(){return a6||(a6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WN();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Ix)),Ix}var o6;function eZ(){return o6||(o6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xN(),r=QN(),n=JQ(),i=pE();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=o;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(Tx)),Tx}var s6;function tZ(){return s6||(s6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CE(),r=hE(),n=ZQ(),i=gE(),a=eZ();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=o})(Ex)),Ex}var l6;function rZ(){return l6||(l6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$N(),r=qQ(),n=YQ(),i=tZ();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(ux)),ux}var u6;function nZ(){return u6||(u6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UQ(),r=$N(),n=$Q(),i=rZ();function a(o,l=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(rx)),rx}var Ox,c6;function iZ(){return c6||(c6=1,Ox=nZ().uniqBy),Ox}var aZ=iZ();const f6=co(aZ);function ZN(t,e,r){return e===!0?f6(t,r):typeof e=="function"?f6(t,e):t}var Rx={exports:{}},Px={},Dx={exports:{}},Nx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d6;function oZ(){if(d6)return Nx;d6=1;var t=yf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),_=n({inst:{value:m,getSnapshot:v}}),w=_[0].inst,E=_[1];return a(function(){w.value=m,w.getSnapshot=v,c(w)&&E({inst:w})},[p,m,v]),i(function(){return c(w)&&E({inst:w}),p(function(){c(w)&&E({inst:w})})},[p]),o(m),m}function c(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!r(p,m)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Nx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Nx}var h6;function sZ(){return h6||(h6=1,Dx.exports=oZ()),Dx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p6;function lZ(){if(p6)return Px;p6=1;var t=yf(),e=sZ();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Px.useSyncExternalStoreWithSelector=function(f,h,p,v,m){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(B){if(!I){if(I=!0,O=B,B=v(B),m!==void 0&&w.hasValue){var D=w.value;if(m(D,B))return M=D}return M=B}if(D=M,n(O,B))return D;var N=v(B);return m!==void 0&&m(D,N)?(O=B,D):(O=B,M=N)}var I=!1,O,M,L=p===void 0?null:p;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,p,v,m]);var E=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},Px}var g6;function uZ(){return g6||(g6=1,Rx.exports=lZ()),Rx.exports}var cZ=uZ(),IE=C.createContext(null),fZ=t=>t,sr=()=>{var t=C.useContext(IE);return t?t.store.dispatch:fZ},q1=()=>{},dZ=()=>q1,hZ=(t,e)=>t===e;function Ce(t){var e=C.useContext(IE);return cZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:dZ,e?e.store.getState:q1,e?e.store.getState:q1,e?t:q1,hZ)}function pZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var v6=t=>Array.isArray(t)?t:[t];function mZ(t){const e=Array.isArray(t[0])?t[0]:t;return vZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yZ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var xZ=class{constructor(t){this.value=t}deref(){return this.value}},_Z=typeof WeakRef<"u"?WeakRef:xZ,bZ=0,m6=1;function v1(){return{s:bZ,v:void 0,o:null,p:null}}function JN(t,e={}){let r=v1();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let l=r;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const w=_.get(m);w===void 0?(l=v1(),_.set(m,l)):l=w}else{let _=l.p;_===null&&(l.p=_=new Map);const w=_.get(m);w===void 0?(l=v1(),_.set(m,l)):l=w}}const f=l;let h;if(l.s===m6)h=l.v;else if(h=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new _Z(h):h}return f.s=m6,f.v=h,h}return o.clearCache=()=>{r=v1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function wZ(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),pZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:m=JN,argsMemoizeOptions:_=[]}=h,w=v6(v),E=v6(_),S=mZ(i),I=p(function(){return a++,f.apply(null,arguments)},...w),O=m(function(){o++;const L=yZ(S,arguments);return l=I.apply(null,L),l},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var re=wZ(JN),EZ=Object.assign((t,e=re)=>{gZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>EZ}),Mx={},kx={},Lx={},y6;function AZ(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),l=e(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=r})(Lx)),Lx}var jx={},Bx={},x6;function eM(){return x6||(x6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Bx)),Bx}var _6;function SZ(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(jx)),jx}var b6;function TZ(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AZ(),r=SZ(),n=pE();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,_)=>{let w=m;for(let E=0;E<_.length&&w!=null;++E)w=w[_[E]];return w},h=(m,_)=>_==null||m==null?_:typeof m=="object"&&"key"in m?Object.hasOwn(_,m.key)?_[m.key]:f(_,m.path):typeof m=="function"?m(_):Array.isArray(m)?f(_,m):typeof _=="object"?_[m]:_,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(_=>h(_,m))})).slice().sort((m,_)=>{for(let w=0;w<p.length;w++){const E=e.compareValues(m.criteria[w],_.criteria[w],l[w]);if(E!==0)return E}return 0}).map(m=>m.original)}t.orderBy=i})(kx)),kx}var Vx={},w6;function CZ(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(l,c)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&c<a?o(h,c+1):i.push(h)}};return o(r,0),i}t.flatten=e})(Vx)),Vx}var Fx={},E6;function tM(){return E6||(E6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QN(),r=TE(),n=qN(),i=KN();function a(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=a})(Fx)),Fx}var A6;function IZ(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TZ(),r=CZ(),n=tM();function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(Mx)),Mx}var Ux,S6;function OZ(){return S6||(S6=1,Ux=IZ().sortBy),Ux}var RZ=OZ();const Vv=co(RZ);var rM=t=>t.legend.settings,PZ=t=>t.legend.size,DZ=t=>t.legend.payload,NZ=re([DZ,rM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Vv(n,r):n});function MZ(){return Ce(NZ)}var m1=1;function nM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>m1||Math.abs(o.left-e.left)>m1||Math.abs(o.top-e.top)>m1||Math.abs(o.width-e.width)>m1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function _n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",T6=kZ,zx=()=>Math.random().toString(36).substring(7).split("").join("."),LZ={INIT:`@@redux/INIT${zx()}`,REPLACE:`@@redux/REPLACE${zx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zx()}`},Ag=LZ;function OE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function iM(t,e,r){if(typeof t!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_n(1));return r(iM)(t,e)}let n=t,i=e,a=new Map,o=a,l=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((E,S)=>{o.set(S,E)}))}function h(){if(c)throw new Error(_n(3));return i}function p(E){if(typeof E!="function")throw new Error(_n(4));if(c)throw new Error(_n(5));let S=!0;f();const I=l++;return o.set(I,E),function(){if(S){if(c)throw new Error(_n(6));S=!1,f(),o.delete(I),a=null}}}function v(E){if(!OE(E))throw new Error(_n(7));if(typeof E.type>"u")throw new Error(_n(8));if(typeof E.type!="string")throw new Error(_n(17));if(c)throw new Error(_n(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=o).forEach(I=>{I()}),E}function m(E){if(typeof E!="function")throw new Error(_n(10));n=E,v({type:Ag.REPLACE})}function _(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_n(11));function I(){const M=S;M.next&&M.next(h())}return I(),{unsubscribe:E(I)}},[T6](){return this}}}return v({type:Ag.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:m,[T6]:_}}function jZ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ag.INIT})>"u")throw new Error(_n(12));if(typeof r(void 0,{type:Ag.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function aM(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{jZ(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const f={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],m=o[p],_=v(m,l);if(typeof _>"u")throw l&&l.type,new Error(_n(14));f[p]=_,c=c||_!==m}return c=c||n.length!==Object.keys(o).length,c?f:o}}function Sg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function BZ(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(_n(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},l=t.map(c=>c(o));return a=Sg(...l)(i.dispatch),{...i,dispatch:a}}}function oM(t){return OE(t)&&"type"in t&&typeof t.type=="string"}var sM=Symbol.for("immer-nothing"),C6=Symbol.for("immer-draftable"),Ri=Symbol.for("immer-state");function Ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cf=Object.getPrototypeOf;function Bu(t){return!!t&&!!t[Ri]}function Xo(t){return t?lM(t)||Array.isArray(t)||!!t[C6]||!!t.constructor?.[C6]||u0(t)||Uv(t):!1}var VZ=Object.prototype.constructor.toString();function lM(t){if(!t||typeof t!="object")return!1;const e=cf(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===VZ}function Tg(t,e){Fv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Fv(t){const e=t[Ri];return e?e.type_:Array.isArray(t)?1:u0(t)?2:Uv(t)?3:0}function xb(t,e){return Fv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function uM(t,e,r){const n=Fv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function FZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function u0(t){return t instanceof Map}function Uv(t){return t instanceof Set}function du(t){return t.copy_||t.base_}function _b(t,e){if(u0(t))return new Map(t);if(Uv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=lM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ri];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(cf(t),n)}else{const n=cf(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function RE(t,e=!1){return zv(t)||Bu(t)||!Xo(t)||(Fv(t)>1&&Object.defineProperties(t,{set:{value:y1},add:{value:y1},clear:{value:y1},delete:{value:y1}}),Object.freeze(t),e&&Object.values(t).forEach(r=>RE(r,!0))),t}function y1(){Ea(2)}function zv(t){return Object.isFrozen(t)}var UZ={};function Vu(t){const e=UZ[t];return e||Ea(0,t),e}var Lh;function cM(){return Lh}function zZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I6(t,e){e&&(Vu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bb(t){wb(t),t.drafts_.forEach(HZ),t.drafts_=null}function wb(t){t===Lh&&(Lh=t.parent_)}function O6(t){return Lh=zZ(Lh,t)}function HZ(t){const e=t[Ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function R6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ri].modified_&&(bb(e),Ea(4)),Xo(t)&&(t=Cg(e,t),e.parent_||Ig(e,t)),e.patches_&&Vu("Patches").generateReplacementPatches_(r[Ri].base_,t,e.patches_,e.inversePatches_)):t=Cg(e,r,[]),bb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sM?t:void 0}function Cg(t,e,r){if(zv(e))return e;const n=e[Ri];if(!n)return Tg(e,(i,a)=>P6(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ig(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Tg(a,(l,c)=>P6(t,n,i,l,c,r,o)),Ig(t,i,!1),r&&t.patches_&&Vu("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function P6(t,e,r,n,i,a,o){if(Bu(i)){const l=a&&e&&e.type_!==3&&!xb(e.assigned_,n)?a.concat(n):void 0,c=Cg(t,i,l);if(uM(r,n,c),Bu(c))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Xo(i)&&!zv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Cg(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(u0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ig(t,i)}}function Ig(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&RE(e,r)}function $Z(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:cM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=PE;r&&(i=[n],a=jh);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var PE={get(t,e){if(e===Ri)return t;const r=du(t);if(!xb(r,e))return qZ(t,r,e);const n=r[e];return t.finalized_||!Xo(n)?n:n===Hx(t.base_,e)?($x(t),t.copy_[e]=Ab(n,t)):n},has(t,e){return e in du(t)},ownKeys(t){return Reflect.ownKeys(du(t))},set(t,e,r){const n=fM(du(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Hx(du(t),e),a=i?.[Ri];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(FZ(r,i)&&(r!==void 0||xb(t.base_,e)))return!0;$x(t),Eb(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,$x(t),Eb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=du(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ea(11)},getPrototypeOf(t){return cf(t.base_)},setPrototypeOf(){Ea(12)}},jh={};Tg(PE,(t,e)=>{jh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jh.deleteProperty=function(t,e){return jh.set.call(this,t,e,void 0)};jh.set=function(t,e,r){return PE.set.call(this,t[0],e,r,t[0])};function Hx(t,e){const r=t[Ri];return(r?du(r):t)[e]}function qZ(t,e,r){const n=fM(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function fM(t,e){if(!(e in t))return;let r=cf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=cf(r)}}function Eb(t){t.modified_||(t.modified_=!0,t.parent_&&Eb(t.parent_))}function $x(t){t.copy_||(t.copy_=_b(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(c=a,...f){return o.produce(c,h=>r.call(this,h,...f))}}typeof r!="function"&&Ea(6),n!==void 0&&typeof n!="function"&&Ea(7);let i;if(Xo(e)){const a=O6(this),o=Ab(e,void 0);let l=!0;try{i=r(o),l=!1}finally{l?bb(a):wb(a)}return I6(a,n),R6(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===sM&&(i=void 0),this.autoFreeze_&&RE(i,!0),n){const a=[],o=[];Vu("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Ea(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let n,i;return[this.produce(e,r,(o,l)=>{n=o,i=l}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Xo(t)||Ea(8),Bu(t)&&(t=zo(t));const e=O6(this),r=Ab(t,void 0);return r[Ri].isManual_=!0,wb(e),r}finishDraft(t,e){const r=t&&t[Ri];(!r||!r.isManual_)&&Ea(9);const{scope_:n}=r;return I6(n,e),R6(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Vu("Patches").applyPatches_;return Bu(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Ab(t,e){const r=u0(t)?Vu("MapSet").proxyMap_(t,e):Uv(t)?Vu("MapSet").proxySet_(t,e):$Z(t,e);return(e?e.scope_:cM()).drafts_.push(r),r}function zo(t){return Bu(t)||Ea(10,t),dM(t)}function dM(t){if(!Xo(t)||zv(t))return t;const e=t[Ri];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=_b(t,e.scope_.immer_.useStrictShallowCopy_)}else r=_b(t,!0);return Tg(r,(n,i)=>{uM(r,n,dM(i))}),e&&(e.finalized_=!1),r}var KZ=new GZ,hM=KZ.produce;function pM(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var WZ=pM(),XZ=pM,YZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sg:Sg.apply(null,arguments)};function ia(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Ii(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>oM(n)&&n.type===t,r}var gM=class gh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gh.prototype)}static get[Symbol.species](){return gh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gh(...e[0].concat(this)):new gh(...e.concat(this))}};function D6(t){return Xo(t)?hM(t,()=>{}):t}function x1(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function QZ(t){return typeof t=="boolean"}var ZZ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new gM;return r&&(QZ(r)?o.push(WZ):o.push(XZ(r.extraArgument))),o},JZ="RTK_autoBatch",N6=t=>e=>{setTimeout(e,t)},eJ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N6(10):t.type==="callback"?t.queueNotification:N6(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),v=n.subscribe(p);return l.add(h),()=>{v(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[JZ],a=!i,a&&(o||(o=!0,c(f))),n.dispatch(h)}finally{i=!0}}})},tJ=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new gM(t);return n&&i.push(eJ(typeof n=="object"?n:void 0)),i};function rJ(t){const e=ZZ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(OE(r))l=aM(r);else throw new Error(Ii(1));let c;typeof n=="function"?c=n(e):c=e();let f=Sg;i&&(f=YZ({trace:!1,...typeof i=="object"&&i}));const h=BZ(...c),p=tJ(h);let v=typeof o=="function"?o(p):p();const m=f(...v);return iM(l,a,m)}function vM(t){const e={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Ii(28));if(l in e)throw new Error(Ii(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function nJ(t){return typeof t=="function"}function iJ(t,e){let[r,n,i]=vM(e),a;if(nJ(t))a=()=>D6(t());else{const l=D6(t);a=()=>l}function o(l=a(),c){let f=[r[c.type],...n.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Bu(h)){const m=p(h,c);return m===void 0?h:m}else{if(Xo(h))return hM(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},l)}return o.getInitialState=a,o}var aJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oJ=(t=21)=>{let e="",r=t;for(;r--;)e+=aJ[Math.random()*64|0];return e},sJ=Symbol.for("rtk-slice-createasyncthunk");function lJ(t,e){return`${t}/${e}`}function uJ({creators:t}={}){const e=t?.asyncThunk?.[sJ];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Ii(11));const o=(typeof n.reducers=="function"?n.reducers(fJ()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const L=typeof O=="string"?O:O.type;if(!L)throw new Error(Ii(12));if(L in c.sliceCaseReducersByType)throw new Error(Ii(13));return c.sliceCaseReducersByType[L]=M,f},addMatcher(O,M){return c.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return c.actionCreators[O]=M,f},exposeCaseReducer(O,M){return c.sliceCaseReducersByName[O]=M,f}};l.forEach(O=>{const M=o[O],L={reducerName:O,type:lJ(i,O),createNotation:typeof n.reducers=="function"};hJ(M)?gJ(L,M,f,e):dJ(L,M,f)});function h(){const[O={},M=[],L=void 0]=typeof n.extraReducers=="function"?vM(n.extraReducers):[n.extraReducers],B={...O,...c.sliceCaseReducersByType};return iJ(n.initialState,D=>{for(let N in B)D.addCase(N,B[N]);for(let N of c.sliceMatchers)D.addMatcher(N.matcher,N.reducer);for(let N of M)D.addMatcher(N.matcher,N.reducer);L&&D.addDefaultCase(L)})}const p=O=>O,v=new Map,m=new WeakMap;let _;function w(O,M){return _||(_=h()),_(O,M)}function E(){return _||(_=h()),_.getInitialState()}function S(O,M=!1){function L(D){let N=D[O];return typeof N>"u"&&M&&(N=x1(m,L,E)),N}function B(D=p){const N=x1(v,M,()=>new WeakMap);return x1(N,D,()=>{const k={};for(const[V,z]of Object.entries(n.selectors??{}))k[V]=cJ(z,D,()=>x1(m,D,E),M);return k})}return{reducerPath:O,getSelectors:B,get selectors(){return B(L)},selectSlice:L}}const I={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(O,{reducerPath:M,...L}={}){const B=M??a;return O.inject({reducerPath:B,reducer:w},L),{...I,...S(B,!0)}}};return I}}function cJ(t,e,r,n){function i(a,...o){let l=e(a);return typeof l>"u"&&n&&(l=r()),t(l,...o)}return i.unwrapped=t,i}var Di=uJ();function fJ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function dJ({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!pJ(n))throw new Error(Ii(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ia(t,o):ia(t))}function hJ(t){return t._reducerDefinitionType==="asyncThunk"}function pJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function gJ({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Ii(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:f,options:h}=r,p=i(t,a,h);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),c&&n.addCase(p.rejected,c),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(e,{fulfilled:o||_1,pending:l||_1,rejected:c||_1,settled:f||_1})}function _1(){}var vJ="task",mM="listener",yM="completed",DE="cancelled",mJ=`task-${DE}`,yJ=`task-${yM}`,Sb=`${mM}-${DE}`,xJ=`${mM}-${yM}`,Hv=class{constructor(t){this.code=t,this.message=`${vJ} ${DE} (reason: ${t})`}name="TaskAbortError";message},NE=(t,e)=>{if(typeof t!="function")throw new TypeError(Ii(32))},Og=()=>{},xM=(t,e=Og)=>(t.catch(e),t),_M=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Au=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Su=t=>{if(t.aborted){const{reason:e}=t;throw new Hv(e)}};function bM(t,e){let r=Og;return new Promise((n,i)=>{const a=()=>i(new Hv(t.reason));if(t.aborted){a();return}r=_M(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Og})}var _J=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Hv?"cancelled":"rejected",error:r}}finally{e?.()}},Rg=t=>e=>xM(bM(t,e).then(r=>(Su(t),r))),wM=t=>{const e=Rg(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Yc}=Object,M6={},$v="listenerMiddleware",bJ=(t,e)=>{const r=n=>_M(t,()=>Au(n,t.reason));return(n,i)=>{NE(n);const a=new AbortController;r(a);const o=_J(async()=>{Su(t),Su(a.signal);const l=await n({pause:Rg(a.signal),delay:wM(a.signal),signal:a.signal});return Su(a.signal),l},()=>Au(a,yJ));return i?.autoJoin&&e.push(o.catch(Og)),{result:Rg(t)(o),cancel(){Au(a,mJ)}}}},wJ=(t,e)=>{const r=async(n,i)=>{Su(e);let a=()=>{};const l=[new Promise((c,f)=>{let h=t({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await bM(e,Promise.race(l));return Su(e),c}finally{a()}};return(n,i)=>xM(r(n,i))},EM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=ia(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ii(21));return NE(a),{predicate:i,type:e,effect:a}},AM=Yc(t=>{const{type:e,predicate:r,effect:n}=EM(t);return{id:oJ(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ii(22))}}},{withTypes:()=>AM}),k6=(t,e)=>{const{type:r,effect:n,predicate:i}=EM(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Tb=t=>{t.pending.forEach(e=>{Au(e,Sb)})},EJ=t=>()=>{t.forEach(Tb),t.clear()},L6=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},SM=Yc(ia(`${$v}/add`),{withTypes:()=>SM}),AJ=ia(`${$v}/removeAll`),TM=Yc(ia(`${$v}/remove`),{withTypes:()=>TM}),SJ=(...t)=>{console.error(`${$v}/error`,...t)},c0=(t={})=>{const e=new Map,{extra:r,onError:n=SJ}=t;NE(n);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Tb(h)}),a=h=>{const p=k6(e,h)??AM(h);return i(p)};Yc(a,{withTypes:()=>a});const o=h=>{const p=k6(e,h);return p&&(p.unsubscribe(),h.cancelActive&&Tb(p)),!!p};Yc(o,{withTypes:()=>o});const l=async(h,p,v,m)=>{const _=new AbortController,w=wJ(a,_.signal),E=[];try{h.pending.add(_),await Promise.resolve(h.effect(p,Yc({},v,{getOriginalState:m,condition:(S,I)=>w(S,I).then(Boolean),take:w,delay:wM(_.signal),pause:Rg(_.signal),extra:r,signal:_.signal,fork:bJ(_.signal,E),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,I,O)=>{S!==_&&(Au(S,Sb),O.delete(S))})},cancel:()=>{Au(_,Sb),h.pending.delete(_)},throwIfCancelled:()=>{Su(_.signal)}})))}catch(S){S instanceof Hv||L6(n,S,{raisedBy:"effect"})}finally{await Promise.all(E),Au(_,xJ),h.pending.delete(_)}},c=EJ(e);return{middleware:h=>p=>v=>{if(!oM(v))return p(v);if(SM.match(v))return a(v.payload);if(AJ.match(v)){c();return}if(TM.match(v))return o(v.payload);let m=h.getState();const _=()=>{if(m===M6)throw new Error(Ii(23));return m};let w;try{if(w=p(v),e.size>0){const E=h.getState(),S=Array.from(e.values());for(const I of S){let O=!1;try{O=I.predicate(v,E,m)}catch(M){O=!1,L6(n,M,{raisedBy:"predicate"})}O&&l(I,v,h,_)}}}finally{m=M6}return w},startListening:a,stopListening:o,clearListeners:c}};function Ii(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CM=Di({name:"chartLayout",initialState:TJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:CJ,setLayout:IJ,setChartSize:OJ,setScale:RJ}=CM.actions,PJ=CM.reducer;function j6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(r),!0).forEach(function(n){DJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DJ(t,e,r){return(e=NJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pg=Math.PI/180,kJ=t=>t*180/Math.PI,kr=(t,e,r,n)=>({x:t+Math.cos(-Pg*n)*r,y:e+Math.sin(-Pg*n)*r}),IM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LJ=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},jJ=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=LJ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:o,angle:kJ(c),angleInRadian:c}},BJ=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},VJ=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},FJ=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=jJ({x:r,y:n},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:f}=BJ(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?B6(B6({},e),{},{radius:i,angle:VJ(h,e)}):null};function OM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){UJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UJ(t,e,r){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:e+""}function HJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qt(t,e,r){return nr(t)||nr(e)?r:lo(e)?ju(t,e,r):typeof e=="function"?e(t):r}var $J=(t,e,r,n,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f=c>0?r[c-1].coordinate:r[l-1].coordinate,h=r[c].coordinate,p=c>=l-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(ln(h-f)!==ln(p-h)){var m=[];if(ln(p-h)===ln(i[1]-i[0])){v=p;var _=h+i[1]-i[0];m[0]=Math.min(_,(_+f)/2),m[1]=Math.max(_,(_+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(h,(w+h)/2),m[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>E[0]&&t<=E[1]||t>=m[0]&&t<=m[1]){({index:o}=r[c]);break}}else{var S=Math.min(f,p),I=Math.max(f,p);if(t>(S+h)/2&&t<=(I+h)/2){({index:o}=r[c]);break}}}else if(e){for(var O=0;O<l;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:o}=e[O]);break}}return o},qJ=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Re(t[a]))return Qi(Qi({},t),{},{[a]:t[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Re(t[o]))return Qi(Qi({},t),{},{[o]:t[o]+(i||0)})}return t},Tl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",RM=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(r),o},PM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var _=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=m==="angleAxis"&&a&&a.length>=2?ln(a[0]-a[1])*2*w:w,p||v){var E=(p||v||[]).map((S,I)=>{var O=n?n.indexOf(S):S;return{coordinate:o(O)+w,value:S,offset:w,index:I}});return E.filter(S=>!Oi(S.coordinate))}return c&&f?f.map((S,I)=>({coordinate:o(S)+w,value:S,index:I,offset:w})):o.ticks&&h!=null?o.ticks(h).map((S,I)=>({coordinate:o(S)+w,value:S,offset:w,index:I})):o.domain().map((S,I)=>({coordinate:o(S)+w,value:n?n[S]:S,index:I,offset:w}))},F6=1e-4,GJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-F6,a=Math.max(n[0],n[1])+F6,o=t(e[0]),l=t(e[r-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[r-1]])}},KJ=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<r)&&(i[0]=r),(!Re(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},WJ=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var l=Oi(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1])}},XJ=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=Oi(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},YJ={sign:WJ,expand:SQ,none:uf,silhouette:TQ,wiggle:CQ,positive:XJ},QJ=(t,e,r)=>{var n=YJ[r],i=AQ().keys(e).value((a,o)=>+qt(a,o,0)).order(vb).offset(n);return i(t)};function ZJ(t){return t==null?void 0:String(t)}function U6(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nr(i[e.dataKey])){var l=bN(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=qt(i,nr(o)?e.dataKey:o);return nr(c)?null:e.scale(c)}var z6=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var l=qt(a,e.dataKey,e.scale.domain()[o]);return nr(l)?null:e.scale(l)-i/2+n},JJ=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},eee=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},tee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ree=(t,e,r)=>{if(t!=null)return tee(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((c,f)=>{var h=OM(f,e,r),p=eee(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},H6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bh=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Vv(e,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function q6(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Qi(Qi({},e),{},{dataKey:r,payload:n,value:i,name:a})}function Df(t,e){if(t)return String(t);if(typeof e=="string")return e}function nee(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?FJ({x:t,y:e},n):null}var iee=(t,e,r,n)=>{var i=e.find(f=>f&&f.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return Qi(Qi(Qi({},n),kr(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=n;return Qi(Qi(Qi({},n),kr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},aee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ns=t=>t.layout.width,is=t=>t.layout.height,oee=t=>t.layout.scale,DM=t=>t.layout.margin,qv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Gv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),NM="data-recharts-item-index",MM="data-recharts-item-data-key",f0=60;function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){see(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function see(t,e,r){return(e=lee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lee(t){var e=uee(t,"string");return typeof e=="symbol"?e:e+""}function uee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cee=t=>t.brush.height;function fee(t){var e=Gv(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:f0;return r+i}return r},0)}function dee(t){var e=Gv(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:f0;return r+i}return r},0)}function hee(t){var e=qv(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function pee(t){var e=qv(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Xr=re([ns,is,DM,cee,fee,dee,hee,pee,rM,PZ],(t,e,r,n,i,a,o,l,c,f)=>{var h={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+l},v=b1(b1({},p),h),m=v.bottom;v.bottom+=n,v=qJ(v,c,f);var _=t-v.left-v.right,w=e-v.top-v.bottom;return b1(b1({brushBottom:m},v),{},{width:Math.max(_,0),height:Math.max(w,0)})}),gee=re(Xr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ME=re(ns,is,(t,e)=>({x:0,y:0,width:t,height:e})),vee=C.createContext(null),ui=()=>C.useContext(vee)!=null,Kv=t=>t.brush,Wv=re([Kv,Xr,DM],(t,e,r)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Re(t.width)?t.width:e.width})),kE=()=>{var t,e=ui(),r=Ce(gee),n=Ce(Wv),i=(t=Ce(Kv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},mee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kM=()=>{var t;return(t=Ce(Xr))!==null&&t!==void 0?t:mee},LE=()=>Ce(ns),jE=()=>Ce(is),yee=()=>Ce(t=>t.layout.margin),ct=t=>t.layout.layoutType,Xv=()=>Ce(ct),xee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LM=Di({name:"legend",initialState:xee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=zo(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:K6,setLegendSettings:_ee,addLegendPayload:jM,removeLegendPayload:BM}=LM.actions,bee=LM.reducer,wee=["contextPayload"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(null,arguments)}function W6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ff(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(r),!0).forEach(function(n){BE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BE(t,e,r){return(e=Eee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function See(t,e){if(t==null)return{};var r,n,i=Tee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cee(t){return t.value}function Iee(t){var{contextPayload:e}=t,r=See(t,wee),n=ZN(e,t.payloadUniqBy,Cee),i=ff(ff({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(SE,i)}function Oee(t,e,r,n,i,a){var{layout:o,align:l,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((n||0)-a.width)/2}:f=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ff(ff({},f),h)}function Ree(t){var e=sr();return C.useEffect(()=>{e(_ee(t))},[e,t]),null}function Pee(t){var e=sr();return C.useEffect(()=>(e(K6(t)),()=>{e(K6({width:0,height:0}))}),[e,t]),null}function Dee(t){var e=MZ(),r=WY(),n=yee(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[c,f]=nM([e]),h=LE(),p=jE();if(h==null||p==null)return null;var v=h-(n.left||0)-(n.right||0),m=Yv.getWidthOrHeight(t.layout,a,i,v),_=l?o:ff(ff({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},Oee(o,t,n,h,p,c)),o),w=l??r;if(w==null)return null;var E=C.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},C.createElement(Ree,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(Pee,{width:c.width,height:c.height}),C.createElement(Iee,Cb({},t,m,{margin:n,chartWidth:h,chartHeight:p,contextPayload:e})));return SN.createPortal(E,w)}class Yv extends C.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&Re(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return C.createElement(Dee,this.props)}}BE(Yv,"displayName","Legend");BE(Yv,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ib.apply(null,arguments)}function X6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(r),!0).forEach(function(n){Nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nee(t,e,r){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mee(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lee(t){return Array.isArray(t)&&lo(t[0])&&lo(t[1])?t.join(" ~ "):t}var jee=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var L={padding:0,margin:0},B=(l?Vv(a,l):a).map((D,N)=>{if(D.type==="none")return null;var k=D.formatter||o||Lee,{value:V,name:z}=D,H=V,U=z;if(k){var he=k(V,z,D,N,a);if(Array.isArray(he))[H,U]=he;else if(he!=null)H=he;else return null}var be=qx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:be},lo(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,lo(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:L},B)}return null},_=qx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=qx({margin:0},i),E=!nr(h),S=E?h:"",I=vt("recharts-default-tooltip",c),O=vt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(S=p(h,a));var M=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Ib({className:I,style:_},M),C.createElement("p",{className:O,style:w},C.isValidElement(S)?S:"".concat(S)),m())},Qd="recharts-tooltip-wrapper",Bee={visibility:"hidden"};function Vee(t){var{coordinate:e,translateX:r,translateY:n}=t;return vt(Qd,{["".concat(Qd,"-right")]:Re(r)&&e&&Re(e.x)&&r>=e.x,["".concat(Qd,"-left")]:Re(r)&&e&&Re(e.x)&&r<e.x,["".concat(Qd,"-bottom")]:Re(n)&&e&&Re(e.y)&&n>=e.y,["".concat(Qd,"-top")]:Re(n)&&e&&Re(e.y)&&n<e.y})}function Y6(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[n]))return a[n];var h=r[n]-l-(i>0?i:0),p=r[n]+i;if(e[n])return o[n]?h:p;var v=c[n];if(v==null)return 0;if(o[n]){var m=h,_=v;return m<_?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var w=p+l,E=v+f;return w>E?Math.max(h,v):Math.max(p,v)}function Fee(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Uee(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,f,h,p;return o.height>0&&o.width>0&&r?(h=Y6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=Y6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=Fee({translateX:h,translateY:p,useTranslate3d:l})):f=Bee,{cssProperties:f,cssClasses:Vee({translateX:h,translateY:p,coordinate:r})}}function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){Ob(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ob(t,e,r){return(e=zee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $ee extends C.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:_,lastBoundingBox:w,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:O}=Uee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),M=S?{}:w1(w1({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=w1(w1({},M),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},_);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:L,ref:E},a)}}var qee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cl={devToolsEnabled:!1,isSsr:qee()},VM=()=>Ce(t=>t.rootProps.accessibilityLayer);function Pi(t){return Number.isFinite(t)}function df(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rb.apply(null,arguments)}function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){Gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gee(t,e,r){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e8={curveBasisClosed:hQ,curveBasisOpen:pQ,curveBasis:dQ,curveBumpX:ZY,curveBumpY:JY,curveLinearClosed:gQ,curveLinear:jv,curveMonotoneX:vQ,curveMonotoneY:mQ,curveNatural:yQ,curveStep:xQ,curveStepAfter:bQ,curveStepBefore:_Q},E1=t=>Pi(t.x)&&Pi(t.y),Zd=t=>t.x,Jd=t=>t.y,Xee=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(s0(t));return(r==="curveMonotone"||r==="curveBump")&&e?e8["".concat(r).concat(e==="vertical"?"Y":"X")]:e8[r]||jv},Yee=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=Xee(e,i),l=a?r.filter(E1):r,c;if(Array.isArray(n)){var f=a?n.filter(p=>E1(p)):n,h=l.map((p,v)=>J6(J6({},p),{},{base:f[v]}));return i==="vertical"?c=g1().y(Jd).x1(Zd).x0(p=>p.base.x):c=g1().x(Zd).y1(Jd).y0(p=>p.base.y),c.defined(E1).curve(o),c(h)}return i==="vertical"&&Re(n)?c=g1().y(Jd).x1(Zd).x0(n):Re(n)?c=g1().x(Zd).y1(Jd).y0(n):c=DN().x(Zd).y(Jd),c.defined(E1).curve(o),c(l)},VE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Yee(t):n;return C.createElement("path",Rb({},ho(t),mE(t),{className:vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Qee=["x","y","top","left","width","height","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(null,arguments)}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){Jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jee(t,e,r){return(e=ete(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ete(t){var e=tte(t,"string");return typeof e=="symbol"?e:e+""}function tte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t,e){if(t==null)return{};var r,n,i=nte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ite=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),ate=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=t,c=rte(t,Qee),f=Zee({x:e,y:r,top:n,left:i,width:a,height:o},c);return!Re(e)||!Re(r)||!Re(a)||!Re(o)||!Re(n)||!Re(i)?null:C.createElement("path",Pb({},or(f,!0),{className:vt("recharts-cross",l),d:ite(e,r,a,o,n,i)}))};function ote(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function r8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ste(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(r),!0).forEach(function(n){lte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lte(t,e,r){return(e=ute(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=cte(t,"string");return typeof e=="symbol"?e:e+""}function cte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e){var r=ste({},t),n=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}function fte(){}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){dte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dte(t,e,r){return(e=hte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),FM=(t,e,r)=>t.map(n=>"".concat(gte(n)," ").concat(e,"ms ").concat(r)).join(","),vte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Vh=(t,e)=>Object.keys(e).reduce((r,n)=>i8(i8({},r),{},{[n]:t(n,e[n])}),{});function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mte(t,e,r){return(e=yte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yte(t){var e=xte(t,"string");return typeof e=="symbol"?e:e+""}function xte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dg=(t,e,r)=>t+(e-t)*r,Db=t=>{var{from:e,to:r}=t;return e!==r},UM=(t,e,r)=>{var n=Vh((i,a)=>{if(Db(a)){var[o,l]=t(a.from,a.to,a.velocity);return wn(wn({},a),{},{from:o,velocity:l})}return a},e);return r<1?Vh((i,a)=>Db(a)?wn(wn({},a),{},{velocity:Dg(a.velocity,n[i].velocity,r),from:Dg(a.from,n[i].from,r)}):a,e):UM(t,n,r-1)};function _te(t,e,r,n,i,a){var o,l=n.reduce((v,m)=>wn(wn({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>Vh((v,m)=>m.from,l),f=()=>!Object.values(l).filter(Db).length,h=null,p=v=>{o||(o=v);var m=v-o,_=m/r.dt;l=UM(r,l,_),i(wn(wn(wn({},t),e),c())),o=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function bte(t,e,r,n,i,a,o){var l=null,c=i.reduce((p,v)=>wn(wn({},p),{},{[v]:[t[v],e[v]]}),{}),f,h=p=>{f||(f=p);var v=(p-f)/n,m=Vh((w,E)=>Dg(...E,r(v)),c);if(a(wn(wn(wn({},t),e),m)),v<1)l=o.setTimeout(h);else{var _=Vh((w,E)=>Dg(...E,r(1)),c);a(wn(wn(wn({},t),e),_))}};return()=>(l=o.setTimeout(h),()=>{l()})}const wte=(t,e,r,n,i,a)=>{var o=vte(t,e);return r.isStepper===!0?_te(t,e,r,o,i,a):bte(t,e,r,n,o,i,a)};var Ng=1e-4,zM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],HM=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),o8=(t,e)=>r=>{var n=zM(t,e);return HM(n,r)},Ete=(t,e)=>r=>{var n=zM(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return HM(i,r)},s8=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,r,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,n,r,i]=o);var f=o8(e,r),h=o8(n,i),p=Ete(e,r),v=_=>_>1?1:_<0?0:_,m=_=>{for(var w=_>1?1:_,E=w,S=0;S<8;++S){var I=f(E)-w,O=p(E);if(Math.abs(I-w)<Ng||O<Ng)return h(E);E=v(E-I/O)}return h(E)};return m.isStepper=!1,m},Ate=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,l,c)=>{var f=-(o-l)*r,h=c*n,p=c+(f-h)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<Ng&&Math.abs(p)<Ng?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Ste=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return s8(t);case"spring":return Ate();default:if(t.split("(")[0]==="cubic-bezier")return s8(t)}return typeof t=="function"?t:null};function Tte(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class Cte{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Ite(){return Tte(new Cte)}var Ote=C.createContext(Ite);function Rte(t,e){var r=C.useContext(Ote);return C.useMemo(()=>e??r(t),[t,e,r])}var Pte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},l8={t:0},Gx={t:1};function d0(t){var e=Cn(t,Pte),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:f}=e,h=Rte(e.animationId,e.animationManager),[p,v]=C.useState(r?l8:Gx),m=C.useRef(null);return C.useEffect(()=>{r||v(Gx)},[r]),C.useEffect(()=>{if(!r||!n)return fte;var _=wte(l8,Gx,Ste(a),i,v,h.getTimeoutController()),w=()=>{m.current=_()};return h.start([c,o,w,i,l]),()=>{h.stop(),m.current&&m.current(),l()}},[r,n,i,a,o,c,l,h]),f(p.t)}function h0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(kh(e)),n=C.useRef(t);return n.current!==t&&(r.current=kh(e),n.current=t),r.current}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){Dte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dte(t,e,r){return(e=Nte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(null,arguments)}var f8=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),f+="L ".concat(t+r-l*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+o*h[1])),f+="L ".concat(t+r,",").concat(e+n-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+r-l*h[2],",").concat(e+n)),f+="L ".concat(t+l*h[3],",").concat(e+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+o*m,`
            L `).concat(t+r,",").concat(e+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+n-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},kte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$M=t=>{var e=Cn(t,kte),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var he=r.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:_,isUpdateAnimationActive:w}=e,E=C.useRef(l),S=C.useRef(c),I=C.useRef(a),O=C.useRef(o),M=C.useMemo(()=>({x:a,y:o,width:l,height:c,radius:f}),[a,o,l,c,f]),L=h0(M,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var B=vt("recharts-rectangle",h);if(!w)return C.createElement("path",Mg({},or(e,!0),{className:B,d:f8(a,o,l,c,f)}));var D=E.current,N=S.current,k=I.current,V=O.current,z="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),U=FM(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(d0,{animationId:L,key:L,canBegin:n>0,duration:v,easing:p,isActive:w,begin:m},he=>{var be=cr(D,l,he),Y=cr(N,c,he),se=cr(k,a,he),me=cr(V,o,he);r.current&&(E.current=be,S.current=Y,I.current=se,O.current=me);var Se;return _?he>0?Se={transition:U,strokeDasharray:H}:Se={strokeDasharray:z}:Se={strokeDasharray:H},C.createElement("path",Mg({},or(e,!0),{className:B,d:f8(se,me,be,Y,f),ref:r,style:c8(c8({},Se),e.style)}))})};function qM(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=kr(e,r,n,i),l=kr(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(null,arguments)}var Lte=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},A1=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,f=l*(o?1:-1)+n,h=Math.asin(l/f)/Pg,p=c?i:i+a*h,v=kr(e,r,f,p),m=kr(e,r,n,p),_=c?i-a*h:i,w=kr(e,r,f*Math.cos(h*Pg),_);return{center:v,circleTangency:m,lineTangency:w,theta:h}},GM=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,l=Lte(a,o),c=a+l,f=kr(e,r,i,a),h=kr(e,r,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=kr(e,r,n,a),m=kr(e,r,n,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},jte=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}=t,h=ln(f-c),{circleTangency:p,lineTangency:v,theta:m}=A1({cx:e,cy:r,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:_,lineTangency:w,theta:E}=A1({cx:e,cy:r,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-f):Math.abs(c-f)-m-E;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):GM({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:f});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:M,theta:L}=A1({cx:e,cy:r,radius:n,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:B,lineTangency:D,theta:N}=A1({cx:e,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=l?Math.abs(c-f):Math.abs(c-f)-L-N;if(k<0&&a===0)return"".concat(I,"L").concat(e,",").concat(r,"Z");I+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else I+="L".concat(e,",").concat(r,"Z");return I},Bte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KM=t=>{var e=Cn(t,Bte),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var v=vt("recharts-sector",p),m=a-i,_=Ln(o,m,0,!0),w;return _>0&&Math.abs(f-h)<360?w=jte({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):w=GM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),C.createElement("path",Nb({},or(e,!0),{className:v,d:w}))};function Vte(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:f,outerRadius:h,angle:p}=e,v=kr(l,c,f,p),m=kr(l,c,h,p);n=v.x,i=v.y,a=m.x,o=m.y}else return qM(e);return[{x:n,y:i},{x:a,y:o}]}var Kx={},Wx={},Xx={},d8;function Fte(){return d8||(d8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eM();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Xx)),Xx}var h8;function Ute(){return h8||(h8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fte();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Wx)),Wx}var p8;function zte(){return p8||(p8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM(),r=Ute();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=o;return c}t.range=n})(Kx)),Kx}var Yx,g8;function Hte(){return g8||(g8=1,Yx=zte().range),Yx}var $te=Hte();const WM=co($te);function ul(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FE(t){let e,r,n;t.length!==2?(e=ul,r=(l,c)=>ul(t(l),c),n=(l,c)=>t(l)-c):(e=t===ul||t===qte?t:Gte,r=t,n=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function Gte(){return 0}function XM(t){return t===null?NaN:+t}function*Kte(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Wte=FE(ul),p0=Wte.right;FE(XM).center;class v8 extends Map{constructor(e,r=Qte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(m8(this,e))}has(e){return super.has(m8(this,e))}set(e,r){return super.set(Xte(this,e),r)}delete(e){return super.delete(Yte(this,e))}}function m8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Xte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Yte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Qte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zte(t=ul){if(t===ul)return YM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function YM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jte=Math.sqrt(50),ere=Math.sqrt(10),tre=Math.sqrt(2);function kg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Jte?10:a>=ere?5:a>=tre?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?kg(t,e,r*2):[l,c,f]}function Mb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?kg(e,t,r):kg(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function kb(t,e,r){return e=+e,t=+t,r=+r,kg(t,e,r)[2]}function Lb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?kb(e,t,r):kb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function y8(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function x8(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QM(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?YM:Zte(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),m=Math.max(r,Math.floor(e-f*p/c+v)),_=Math.min(n,Math.floor(e+(c-f)*p/c+v));QM(t,e,m,_,i)}const a=t[e];let o=r,l=n;for(eh(t,r,e),i(t[n],a)>0&&eh(t,r,n);o<l;){for(eh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?eh(t,r,l):(++l,eh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function eh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function rre(t,e,r){if(t=Float64Array.from(Kte(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return x8(t);if(e>=1)return y8(t);var n,i=(n-1)*e,a=Math.floor(i),o=y8(QM(t,a).subarray(0,a+1)),l=x8(t.subarray(a+1));return o+(l-o)*(i-a)}}function nre(t,e,r=XM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function ire(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function as(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jb=Symbol("implicit");function UE(){var t=new v8,e=[],r=[],n=jb;function i(a){let o=t.get(a);if(o===void 0){if(n!==jb)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new v8;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return UE(e,r).unknown(n)},oa.apply(i,arguments),i}function zE(){var t=UE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,m=i<n,_=m?i:n,w=m?n:i;a=(w-_)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),_+=(w-_-a*(v-c))*h,o=a*(1-c),l&&(_=Math.round(_),o=Math.round(o));var E=ire(v).map(function(S){return _+a*S});return r(m?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return zE(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},oa.apply(p(),arguments)}function ZM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZM(e())},t}function are(){return ZM(zE.apply(null,arguments).paddingInner(1))}function HE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function JM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function g0(){}var Fh=.7,Lg=1/Fh,Qc="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ore=/^#([0-9a-f]{3,8})$/,sre=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),lre=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),ure=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${Uh}\\)$`),cre=new RegExp(`^rgba\\(${io},${io},${io},${Uh}\\)$`),fre=new RegExp(`^hsl\\(${Uh},${io},${io}\\)$`),dre=new RegExp(`^hsla\\(${Uh},${io},${io},${Uh}\\)$`),_8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HE(g0,zh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:b8,formatHex:b8,formatHex8:hre,formatHsl:pre,formatRgb:w8,toString:w8});function b8(){return this.rgb().formatHex()}function hre(){return this.rgb().formatHex8()}function pre(){return e9(this).formatHsl()}function w8(){return this.rgb().formatRgb()}function zh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ore.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?E8(e):r===3?new ai(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?S1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?S1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sre.exec(t))?new ai(e[1],e[2],e[3],1):(e=lre.exec(t))?new ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ure.exec(t))?S1(e[1],e[2],e[3],e[4]):(e=cre.exec(t))?S1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fre.exec(t))?T8(e[1],e[2]/100,e[3]/100,1):(e=dre.exec(t))?T8(e[1],e[2]/100,e[3]/100,e[4]):_8.hasOwnProperty(t)?E8(_8[t]):t==="transparent"?new ai(NaN,NaN,NaN,0):null}function E8(t){return new ai(t>>16&255,t>>8&255,t&255,1)}function S1(t,e,r,n){return n<=0&&(t=e=r=NaN),new ai(t,e,r,n)}function gre(t){return t instanceof g0||(t=zh(t)),t?(t=t.rgb(),new ai(t.r,t.g,t.b,t.opacity)):new ai}function Bb(t,e,r,n){return arguments.length===1?gre(t):new ai(t,e,r,n??1)}function ai(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}HE(ai,Bb,JM(g0,{brighter(t){return t=t==null?Lg:Math.pow(Lg,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ai(Tu(this.r),Tu(this.g),Tu(this.b),jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A8,formatHex:A8,formatHex8:vre,formatRgb:S8,toString:S8}));function A8(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}`}function vre(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}${yu((isNaN(this.opacity)?1:this.opacity)*255)}`}function S8(){const t=jg(this.opacity);return`${t===1?"rgb(":"rgba("}${Tu(this.r)}, ${Tu(this.g)}, ${Tu(this.b)}${t===1?")":`, ${t})`}`}function jg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yu(t){return t=Tu(t),(t<16?"0":"")+t.toString(16)}function T8(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Aa(t,e,r,n)}function e9(t){if(t instanceof Aa)return new Aa(t.h,t.s,t.l,t.opacity);if(t instanceof g0||(t=zh(t)),!t)return new Aa;if(t instanceof Aa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Aa(o,l,c,t.opacity)}function mre(t,e,r,n){return arguments.length===1?e9(t):new Aa(t,e,r,n??1)}function Aa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}HE(Aa,mre,JM(g0,{brighter(t){return t=t==null?Lg:Math.pow(Lg,t),new Aa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new Aa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ai(Qx(t>=240?t-240:t+120,i,n),Qx(t,i,n),Qx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Aa(C8(this.h),T1(this.s),T1(this.l),jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jg(this.opacity);return`${t===1?"hsl(":"hsla("}${C8(this.h)}, ${T1(this.s)*100}%, ${T1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function C8(t){return t=(t||0)%360,t<0?t+360:t}function T1(t){return Math.max(0,Math.min(1,t||0))}function Qx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const $E=t=>()=>t;function yre(t,e){return function(r){return t+r*e}}function xre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function _re(t){return(t=+t)==1?t9:function(e,r){return r-e?xre(e,r,t):$E(isNaN(e)?r:e)}}function t9(t,e){var r=e-t;return r?yre(t,r):$E(isNaN(t)?e:t)}const I8=(function t(e){var r=_re(e);function n(i,a){var o=r((i=Bb(i)).r,(a=Bb(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),f=t9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n})(1);function bre(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function wre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ere(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Nf(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Are(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Bg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Sre(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Nf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Vb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zx=new RegExp(Vb.source,"g");function Tre(t){return function(){return t}}function Cre(t){return function(e){return t(e)+""}}function Ire(t,e){var r=Vb.lastIndex=Zx.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Vb.exec(t))&&(i=Zx.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Bg(n,i)})),r=Zx.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Cre(c[0].x):Tre(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function Nf(t,e){var r=typeof e,n;return e==null||r==="boolean"?$E(e):(r==="number"?Bg:r==="string"?(n=zh(e))?(e=n,I8):Ire:e instanceof zh?I8:e instanceof Date?Are:wre(e)?bre:Array.isArray(e)?Ere:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Sre:Bg)(t,e)}function qE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ore(t,e){e===void 0&&(e=t,t=Nf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Rre(t){return function(){return t}}function Vg(t){return+t}var O8=[0,1];function Gn(t){return t}function Fb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Rre(isNaN(e)?NaN:.5)}function Pre(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Dre(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Fb(i,n),a=r(o,a)):(n=Fb(n,i),a=r(a,o)),function(l){return a(n(l))}}function Nre(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Fb(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=p0(t,l,1,n)-1;return a[c](i[c](l))}}function v0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qv(){var t=O8,e=O8,r=Nf,n,i,a,o=Gn,l,c,f;function h(){var v=Math.min(t.length,e.length);return o!==Gn&&(o=Pre(t[0],t[v-1])),l=v>2?Nre:Dre,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(n),e,r)))(n(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(n),Bg)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Vg),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=qE,h()},p.clamp=function(v){return arguments.length?(o=v?!0:Gn,h()):o!==Gn},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return n=v,i=m,h()}}function GE(){return Qv()(Gn,Gn)}function Mre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hf(t){return t=Fg(Math.abs(t)),t?t[1]:NaN}function kre(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Lre(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var jre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hh(t){if(!(e=jre.exec(t)))throw new Error("invalid format: "+t);var e;return new KE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hh.prototype=KE.prototype;function KE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bre(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var r9;function Vre(t,e){var r=Fg(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(r9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Fg(t,Math.max(0,e+a-1))[0]}function R8(t,e){var r=Fg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const P8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>R8(t*100,e),r:R8,s:Vre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function D8(t){return t}var N8=Array.prototype.map,M8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fre(t){var e=t.grouping===void 0||t.thousands===void 0?D8:kre(N8.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?D8:Lre(N8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Hh(p);var v=p.fill,m=p.align,_=p.sign,w=p.symbol,E=p.zero,S=p.width,I=p.comma,O=p.precision,M=p.trim,L=p.type;L==="n"?(I=!0,L="g"):P8[L]||(O===void 0&&(O=12),M=!0,L="g"),(E||v==="0"&&m==="=")&&(E=!0,v="0",m="=");var B=w==="$"?r:w==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",D=w==="$"?n:/[%p]/.test(L)?o:"",N=P8[L],k=/[defgprs%]/.test(L);O=O===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(z){var H=B,U=D,he,be,Y;if(L==="c")U=N(z)+U,z="";else{z=+z;var se=z<0||1/z<0;if(z=isNaN(z)?c:N(Math.abs(z),O),M&&(z=Bre(z)),se&&+z==0&&_!=="+"&&(se=!1),H=(se?_==="("?_:l:_==="-"||_==="("?"":_)+H,U=(L==="s"?M8[8+r9/3]:"")+U+(se&&_==="("?")":""),k){for(he=-1,be=z.length;++he<be;)if(Y=z.charCodeAt(he),48>Y||Y>57){U=(Y===46?i+z.slice(he+1):z.slice(he))+U,z=z.slice(0,he);break}}}I&&!E&&(z=e(z,1/0));var me=H.length+z.length+U.length,Se=me<S?new Array(S-me+1).join(v):"";switch(I&&E&&(z=e(Se+z,Se.length?S-U.length:1/0),Se=""),m){case"<":z=H+z+U+Se;break;case"=":z=H+Se+z+U;break;case"^":z=Se.slice(0,me=Se.length>>1)+H+z+U+Se.slice(me);break;default:z=Se+H+z+U;break}return a(z)}return V.toString=function(){return p+""},V}function h(p,v){var m=f((p=Hh(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(hf(v)/3)))*3,w=Math.pow(10,-_),E=M8[8+_/3];return function(S){return m(w*S)+E}}return{format:f,formatPrefix:h}}var C1,WE,n9;Ure({thousands:",",grouping:[3],currency:["$",""]});function Ure(t){return C1=Fre(t),WE=C1.format,n9=C1.formatPrefix,C1}function zre(t){return Math.max(0,-hf(Math.abs(t)))}function Hre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hf(e)/3)))*3-hf(Math.abs(t)))}function $re(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hf(e)-hf(t))+1}function i9(t,e,r,n){var i=Lb(t,e,r),a;switch(n=Hh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Hre(i,o))&&(n.precision=a),n9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$re(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=zre(i))&&(n.precision=a-(n.type==="%")*2);break}}return WE(n)}function Il(t){var e=t.domain;return t.ticks=function(r){var n=e();return Mb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return i9(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=kb(o,l,r),f===c)return n[i]=o,n[a]=l,e(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function a9(){var t=GE();return t.copy=function(){return v0(t,a9())},oa.apply(t,arguments),Il(t)}function o9(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return o9(t).unknown(e)},t=arguments.length?Array.from(t,Vg):[0,1],Il(r)}function s9(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function k8(t){return Math.log(t)}function L8(t){return Math.exp(t)}function qre(t){return-Math.log(-t)}function Gre(t){return-Math.exp(-t)}function Kre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wre(t){return t===10?Kre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function j8(t){return(e,r)=>-t(-e,r)}function XE(t){const e=t(k8,L8),r=e.domain;let n=10,i,a;function o(){return i=Xre(n),a=Wre(n),r()[0]<0?(i=j8(i),a=j8(a),t(qre,Gre)):t(k8,L8),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),m=i(h),_,w;const E=l==null?10:+l;let S=[];if(!(n%1)&&m-v<E){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(_=1;_<n;++_)if(w=v<0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}}else for(;v<=m;++v)for(_=n-1;_>=1;--_)if(w=v>0?_/a(-v):_*a(v),!(w<f)){if(w>h)break;S.push(w)}S.length*2<E&&(S=Mb(f,h,E))}else S=Mb(v,m,Math.min(m-v,E)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Hh(c)).precision==null&&(c.trim=!0),c=WE(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(s9(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function l9(){const t=XE(Qv()).domain([1,10]);return t.copy=()=>v0(t,l9()).base(t.base()),oa.apply(t,arguments),t}function B8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function V8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YE(t){var e=1,r=t(B8(e),V8(e));return r.constant=function(n){return arguments.length?t(B8(e=+n),V8(e)):e},Il(r)}function u9(){var t=YE(Qv());return t.copy=function(){return v0(t,u9()).constant(t.constant())},oa.apply(t,arguments)}function F8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qre(t){return t<0?-t*t:t*t}function QE(t){var e=t(Gn,Gn),r=1;function n(){return r===1?t(Gn,Gn):r===.5?t(Yre,Qre):t(F8(r),F8(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Il(e)}function ZE(){var t=QE(Qv());return t.copy=function(){return v0(t,ZE()).exponent(t.exponent())},oa.apply(t,arguments),t}function Zre(){return ZE.apply(null,arguments).exponent(.5)}function U8(t){return Math.sign(t)*t*t}function Jre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function c9(){var t=GE(),e=[0,1],r=!1,n;function i(a){var o=Jre(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(U8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vg)).map(U8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return c9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},oa.apply(i,arguments),Il(i)}function f9(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=nre(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[p0(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ul),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return f9().domain(t).range(e).unknown(n)},oa.apply(a,arguments)}function d9(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[p0(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return d9().domain([t,e]).range(i).unknown(a)},oa.apply(Il(o),arguments)}function h9(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[p0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return h9().domain(t).range(e).unknown(r)},oa.apply(i,arguments)}const Jx=new Date,e_=new Date;function Yr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>Yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Jx.setTime(+a),e_.setTime(+o),t(Jx),t(e_),Math.floor(r(Jx,e_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ug=Yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ug.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ug);Ug.range;const Bo=1e3,ea=Bo*60,Vo=ea*60,Yo=Vo*24,JE=Yo*7,z8=Yo*30,t_=Yo*365,xu=Yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());xu.range;const eA=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getMinutes());eA.range;const tA=Yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCMinutes());tA.range;const rA=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*ea)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getHours());rA.range;const nA=Yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCHours());nA.range;const m0=Yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ea)/Yo,t=>t.getDate()-1);m0.range;const Zv=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>t.getUTCDate()-1);Zv.range;const p9=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yo,t=>Math.floor(t/Yo));p9.range;function Gu(t){return Yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ea)/JE)}const Jv=Gu(0),zg=Gu(1),ene=Gu(2),tne=Gu(3),pf=Gu(4),rne=Gu(5),nne=Gu(6);Jv.range;zg.range;ene.range;tne.range;pf.range;rne.range;nne.range;function Ku(t){return Yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/JE)}const em=Ku(0),Hg=Ku(1),ine=Ku(2),ane=Ku(3),gf=Ku(4),one=Ku(5),sne=Ku(6);em.range;Hg.range;ine.range;ane.range;gf.range;one.range;sne.range;const iA=Yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iA.range;const aA=Yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aA.range;const Qo=Yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qo.range;const Zo=Yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Zo.range;function g9(t,e,r,n,i,a){const o=[[xu,1,Bo],[xu,5,5*Bo],[xu,15,15*Bo],[xu,30,30*Bo],[a,1,ea],[a,5,5*ea],[a,15,15*ea],[a,30,30*ea],[i,1,Vo],[i,3,3*Vo],[i,6,6*Vo],[i,12,12*Vo],[n,1,Yo],[n,2,2*Yo],[r,1,JE],[e,1,z8],[e,3,3*z8],[t,1,t_]];function l(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const m=p&&typeof p.range=="function"?p:c(f,h,p),_=m?m.range(f,+h+1):[];return v?_.reverse():_}function c(f,h,p){const v=Math.abs(h-f)/p,m=FE(([,,E])=>E).right(o,v);if(m===o.length)return t.every(Lb(f/t_,h/t_,p));if(m===0)return Ug.every(Math.max(Lb(f,h,p),1));const[_,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return _.every(w)}return[l,c]}const[lne,une]=g9(Zo,aA,em,p9,nA,tA),[cne,fne]=g9(Qo,iA,Jv,m0,rA,eA);function r_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function th(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function dne(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=rh(i),h=nh(i),p=rh(a),v=nh(a),m=rh(o),_=nh(o),w=rh(l),E=nh(l),S=rh(c),I=nh(c),O={a:se,A:me,b:Se,B:Ge,c:null,d:W8,e:W8,f:kne,g:qne,G:Kne,H:Dne,I:Nne,j:Mne,L:v9,m:Lne,M:jne,p:G,q:ee,Q:Q8,s:Z8,S:Bne,u:Vne,U:Fne,V:Une,w:zne,W:Hne,x:null,X:null,y:$ne,Y:Gne,Z:Wne,"%":Y8},M={a:ye,A:_e,b:Oe,B:He,c:null,d:X8,e:X8,f:Zne,g:lie,G:cie,H:Xne,I:Yne,j:Qne,L:y9,m:Jne,M:eie,p:et,q:dr,Q:Q8,s:Z8,S:tie,u:rie,U:nie,V:iie,w:aie,W:oie,x:null,X:null,y:sie,Y:uie,Z:fie,"%":Y8},L={a:V,A:z,b:H,B:U,c:he,d:G8,e:G8,f:Ine,g:q8,G:$8,H:K8,I:K8,j:Ane,L:Cne,m:Ene,M:Sne,p:k,q:wne,Q:Rne,s:Pne,S:Tne,u:mne,U:yne,V:xne,w:vne,W:_ne,x:be,X:Y,y:q8,Y:$8,Z:bne,"%":One};O.x=B(r,O),O.X=B(n,O),O.c=B(e,O),M.x=B(r,M),M.X=B(n,M),M.c=B(e,M);function B(pe,Fe){return function(We){var de=[],hr=-1,Qe=0,Br=pe.length,pr,ci,us;for(We instanceof Date||(We=new Date(+We));++hr<Br;)pe.charCodeAt(hr)===37&&(de.push(pe.slice(Qe,hr)),(ci=H8[pr=pe.charAt(++hr)])!=null?pr=pe.charAt(++hr):ci=pr==="e"?" ":"0",(us=Fe[pr])&&(pr=us(We,ci)),de.push(pr),Qe=hr+1);return de.push(pe.slice(Qe,hr)),de.join("")}}function D(pe,Fe){return function(We){var de=th(1900,void 0,1),hr=N(de,pe,We+="",0),Qe,Br;if(hr!=We.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Qe=n_(th(de.y,0,1)),Br=Qe.getUTCDay(),Qe=Br>4||Br===0?Hg.ceil(Qe):Hg(Qe),Qe=Zv.offset(Qe,(de.V-1)*7),de.y=Qe.getUTCFullYear(),de.m=Qe.getUTCMonth(),de.d=Qe.getUTCDate()+(de.w+6)%7):(Qe=r_(th(de.y,0,1)),Br=Qe.getDay(),Qe=Br>4||Br===0?zg.ceil(Qe):zg(Qe),Qe=m0.offset(Qe,(de.V-1)*7),de.y=Qe.getFullYear(),de.m=Qe.getMonth(),de.d=Qe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Br="Z"in de?n_(th(de.y,0,1)).getUTCDay():r_(th(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Br+5)%7:de.w+de.U*7-(Br+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,n_(de)):r_(de)}}function N(pe,Fe,We,de){for(var hr=0,Qe=Fe.length,Br=We.length,pr,ci;hr<Qe;){if(de>=Br)return-1;if(pr=Fe.charCodeAt(hr++),pr===37){if(pr=Fe.charAt(hr++),ci=L[pr in H8?Fe.charAt(hr++):pr],!ci||(de=ci(pe,We,de))<0)return-1}else if(pr!=We.charCodeAt(de++))return-1}return de}function k(pe,Fe,We){var de=f.exec(Fe.slice(We));return de?(pe.p=h.get(de[0].toLowerCase()),We+de[0].length):-1}function V(pe,Fe,We){var de=m.exec(Fe.slice(We));return de?(pe.w=_.get(de[0].toLowerCase()),We+de[0].length):-1}function z(pe,Fe,We){var de=p.exec(Fe.slice(We));return de?(pe.w=v.get(de[0].toLowerCase()),We+de[0].length):-1}function H(pe,Fe,We){var de=S.exec(Fe.slice(We));return de?(pe.m=I.get(de[0].toLowerCase()),We+de[0].length):-1}function U(pe,Fe,We){var de=w.exec(Fe.slice(We));return de?(pe.m=E.get(de[0].toLowerCase()),We+de[0].length):-1}function he(pe,Fe,We){return N(pe,e,Fe,We)}function be(pe,Fe,We){return N(pe,r,Fe,We)}function Y(pe,Fe,We){return N(pe,n,Fe,We)}function se(pe){return o[pe.getDay()]}function me(pe){return a[pe.getDay()]}function Se(pe){return c[pe.getMonth()]}function Ge(pe){return l[pe.getMonth()]}function G(pe){return i[+(pe.getHours()>=12)]}function ee(pe){return 1+~~(pe.getMonth()/3)}function ye(pe){return o[pe.getUTCDay()]}function _e(pe){return a[pe.getUTCDay()]}function Oe(pe){return c[pe.getUTCMonth()]}function He(pe){return l[pe.getUTCMonth()]}function et(pe){return i[+(pe.getUTCHours()>=12)]}function dr(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Fe=B(pe+="",O);return Fe.toString=function(){return pe},Fe},parse:function(pe){var Fe=D(pe+="",!1);return Fe.toString=function(){return pe},Fe},utcFormat:function(pe){var Fe=B(pe+="",M);return Fe.toString=function(){return pe},Fe},utcParse:function(pe){var Fe=D(pe+="",!0);return Fe.toString=function(){return pe},Fe}}}var H8={"-":"",_:" ",0:"0"},un=/^\s*\d+/,hne=/^%/,pne=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function gne(t){return t.replace(pne,"\\$&")}function rh(t){return new RegExp("^(?:"+t.map(gne).join("|")+")","i")}function nh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function vne(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function mne(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function yne(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xne(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function _ne(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $8(t,e,r){var n=un.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function q8(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bne(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wne(t,e,r){var n=un.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Ene(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function G8(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Ane(t,e,r){var n=un.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function K8(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Sne(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Tne(t,e,r){var n=un.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Cne(t,e,r){var n=un.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Ine(t,e,r){var n=un.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function One(t,e,r){var n=hne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Rne(t,e,r){var n=un.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Pne(t,e,r){var n=un.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function W8(t,e){return mt(t.getDate(),e,2)}function Dne(t,e){return mt(t.getHours(),e,2)}function Nne(t,e){return mt(t.getHours()%12||12,e,2)}function Mne(t,e){return mt(1+m0.count(Qo(t),t),e,3)}function v9(t,e){return mt(t.getMilliseconds(),e,3)}function kne(t,e){return v9(t,e)+"000"}function Lne(t,e){return mt(t.getMonth()+1,e,2)}function jne(t,e){return mt(t.getMinutes(),e,2)}function Bne(t,e){return mt(t.getSeconds(),e,2)}function Vne(t){var e=t.getDay();return e===0?7:e}function Fne(t,e){return mt(Jv.count(Qo(t)-1,t),e,2)}function m9(t){var e=t.getDay();return e>=4||e===0?pf(t):pf.ceil(t)}function Une(t,e){return t=m9(t),mt(pf.count(Qo(t),t)+(Qo(t).getDay()===4),e,2)}function zne(t){return t.getDay()}function Hne(t,e){return mt(zg.count(Qo(t)-1,t),e,2)}function $ne(t,e){return mt(t.getFullYear()%100,e,2)}function qne(t,e){return t=m9(t),mt(t.getFullYear()%100,e,2)}function Gne(t,e){return mt(t.getFullYear()%1e4,e,4)}function Kne(t,e){var r=t.getDay();return t=r>=4||r===0?pf(t):pf.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Wne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function X8(t,e){return mt(t.getUTCDate(),e,2)}function Xne(t,e){return mt(t.getUTCHours(),e,2)}function Yne(t,e){return mt(t.getUTCHours()%12||12,e,2)}function Qne(t,e){return mt(1+Zv.count(Zo(t),t),e,3)}function y9(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Zne(t,e){return y9(t,e)+"000"}function Jne(t,e){return mt(t.getUTCMonth()+1,e,2)}function eie(t,e){return mt(t.getUTCMinutes(),e,2)}function tie(t,e){return mt(t.getUTCSeconds(),e,2)}function rie(t){var e=t.getUTCDay();return e===0?7:e}function nie(t,e){return mt(em.count(Zo(t)-1,t),e,2)}function x9(t){var e=t.getUTCDay();return e>=4||e===0?gf(t):gf.ceil(t)}function iie(t,e){return t=x9(t),mt(gf.count(Zo(t),t)+(Zo(t).getUTCDay()===4),e,2)}function aie(t){return t.getUTCDay()}function oie(t,e){return mt(Hg.count(Zo(t)-1,t),e,2)}function sie(t,e){return mt(t.getUTCFullYear()%100,e,2)}function lie(t,e){return t=x9(t),mt(t.getUTCFullYear()%100,e,2)}function uie(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function cie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?gf(t):gf.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function fie(){return"+0000"}function Y8(){return"%"}function Q8(t){return+t}function Z8(t){return Math.floor(+t/1e3)}var Bc,_9,b9;die({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function die(t){return Bc=dne(t),_9=Bc.format,Bc.parse,b9=Bc.utcFormat,Bc.utcParse,Bc}function hie(t){return new Date(t)}function pie(t){return t instanceof Date?+t:+new Date(+t)}function oA(t,e,r,n,i,a,o,l,c,f){var h=GE(),p=h.invert,v=h.domain,m=f(".%L"),_=f(":%S"),w=f("%I:%M"),E=f("%I %p"),S=f("%a %d"),I=f("%b %d"),O=f("%B"),M=f("%Y");function L(B){return(c(B)<B?m:l(B)<B?_:o(B)<B?w:a(B)<B?E:n(B)<B?i(B)<B?S:I:r(B)<B?O:M)(B)}return h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?v(Array.from(B,pie)):v().map(hie)},h.ticks=function(B){var D=v();return t(D[0],D[D.length-1],B??10)},h.tickFormat=function(B,D){return D==null?L:f(D)},h.nice=function(B){var D=v();return(!B||typeof B.range!="function")&&(B=e(D[0],D[D.length-1],B??10)),B?v(s9(D,B)):h},h.copy=function(){return v0(h,oA(t,e,r,n,i,a,o,l,c,f))},h}function gie(){return oa.apply(oA(cne,fne,Qo,iA,Jv,m0,rA,eA,xu,_9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vie(){return oa.apply(oA(lne,une,Zo,aA,em,Zv,nA,tA,xu,b9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tm(){var t=0,e=1,r,n,i,a,o=Gn,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(v){var m,_;return arguments.length?([m,_]=v,o=p(m,_),f):[o(0),o(1)]}}return f.range=h(Nf),f.rangeRound=h(qE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Ol(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function w9(){var t=Il(tm()(Gn));return t.copy=function(){return Ol(t,w9())},as.apply(t,arguments)}function E9(){var t=XE(tm()).domain([1,10]);return t.copy=function(){return Ol(t,E9()).base(t.base())},as.apply(t,arguments)}function A9(){var t=YE(tm());return t.copy=function(){return Ol(t,A9()).constant(t.constant())},as.apply(t,arguments)}function sA(){var t=QE(tm());return t.copy=function(){return Ol(t,sA()).exponent(t.exponent())},as.apply(t,arguments)}function mie(){return sA.apply(null,arguments).exponent(.5)}function S9(){var t=[],e=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return e((p0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ul),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>rre(t,a/n))},r.copy=function(){return S9(e).domain(t)},as.apply(r,arguments)}function rm(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,f=Gn,h,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(n*w<n*a?l:c),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),o=h(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function _(w){return function(E){var S,I,O;return arguments.length?([S,I,O]=E,f=Ore(w,[S,I,O]),m):[f(0),f(.5),f(1)]}}return m.range=_(Nf),m.rangeRound=_(qE),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return h=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function T9(){var t=Il(rm()(Gn));return t.copy=function(){return Ol(t,T9())},as.apply(t,arguments)}function C9(){var t=XE(rm()).domain([.1,1,10]);return t.copy=function(){return Ol(t,C9()).base(t.base())},as.apply(t,arguments)}function I9(){var t=YE(rm());return t.copy=function(){return Ol(t,I9()).constant(t.constant())},as.apply(t,arguments)}function lA(){var t=QE(rm());return t.copy=function(){return Ol(t,lA()).exponent(t.exponent())},as.apply(t,arguments)}function yie(){return lA.apply(null,arguments).exponent(.5)}const vh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zE,scaleDiverging:T9,scaleDivergingLog:C9,scaleDivergingPow:lA,scaleDivergingSqrt:yie,scaleDivergingSymlog:I9,scaleIdentity:o9,scaleImplicit:jb,scaleLinear:a9,scaleLog:l9,scaleOrdinal:UE,scalePoint:are,scalePow:ZE,scaleQuantile:f9,scaleQuantize:d9,scaleRadial:c9,scaleSequential:w9,scaleSequentialLog:E9,scaleSequentialPow:sA,scaleSequentialQuantile:S9,scaleSequentialSqrt:mie,scaleSequentialSymlog:A9,scaleSqrt:Zre,scaleSymlog:u9,scaleThreshold:h9,scaleTime:gie,scaleUtc:vie,tickFormat:i9},Symbol.toStringTag,{value:"Module"}));var Rl=t=>t.chartData,uA=re([Rl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nm=(t,e,r,n)=>n?uA(t):Rl(t);function vf(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Pi(e)&&Pi(r))return!0}return!1}function J8(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function xie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(Pi(r))i=r;else if(typeof r=="function")return;if(Pi(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(vf(o))return o}}function _ie(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(vf(n))return J8(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Re(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&H6.test(i)){var c=H6.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Re(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&$6.test(a)){var h=$6.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(vf(v))return e==null?v:J8(v,e,r)}}}var Mf=1e9,bie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fA,rr=!0,aa="[DecimalError] ",Cu=aa+"Invalid argument: ",cA=aa+"Exponent out of range: ",kf=Math.floor,hu=Math.pow,wie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,an=1e7,Yt=7,O9=9007199254740991,$g=kf(O9/Yt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(t){return Ho(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,r=e.constructor;return Ut(Ho(e,new r(t),0,1),r.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return Lr(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Si))throw Error(aa+"NaN");if(r.s<1)throw Error(aa+(r.s?"NaN":"-Infinity"));return r.eq(Si)?new n(0):(rr=!1,e=Ho($h(r,a),$h(t,a),a),rr=!0,Ut(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D9(e,t):R9(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(aa+"NaN");return r.s?(rr=!1,e=Ho(r,t,0,1).times(t),rr=!0,r.minus(e)):Ut(new n(r),i)};Ee.naturalExponential=Ee.exp=function(){return P9(this)};Ee.naturalLogarithm=Ee.ln=function(){return $h(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R9(e,t):D9(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cu+t);if(e=Lr(i)+1,n=i.d.length-1,r=n*Yt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ee.squareRoot=Ee.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(aa+"NaN")}for(t=Lr(l),rr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Za(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Ho(l,a,o+2)).times(.5),Za(a.d).slice(0,o)===(e=Za(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ut(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return rr=!0,Ut(n,r)};Ee.times=Ee.mul=function(t){var e,r,n,i,a,o,l,c,f,h=this,p=h.constructor,v=h.d,m=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=m.length,c<f&&(a=v,v=m,m=a,o=c,c=f,f=o),a=[],o=c+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+m[n]*v[i-n-1]+e,a[i--]=l%an|0,e=l/an|0;a[i]=(a[i]+e)%an|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,rr?Ut(t,p.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(uo(t,0,Mf),e===void 0?e=n.rounding:uo(e,0,8),Ut(r,t+Lr(r)+1,e))};Ee.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Fu(n,!0):(uo(t,0,Mf),e===void 0?e=i.rounding:uo(e,0,8),n=Ut(new i(n),t+1,e),r=Fu(n,!0,t+1)),r};Ee.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Fu(i):(uo(t,0,Mf),e===void 0?e=a.rounding:uo(e,0,8),n=Ut(new a(i),t+Lr(i)+1,e),r=Fu(n.abs(),!1,t+Lr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Lr(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Si);if(l=new c(l),!l.s){if(t.s<1)throw Error(aa+"Infinity");return l}if(l.eq(Si))return l;if(n=c.precision,t.eq(Si))return Ut(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=h<0?-h:h)<=O9){for(i=new c(Si),e=Math.ceil(n/Yt+4),rr=!1;r%2&&(i=i.times(l),tR(i.d,e)),r=kf(r/2),r!==0;)l=l.times(l),tR(l.d,e);return rr=!0,t.s<0?new c(Si).div(i):Ut(i,n)}}else if(a<0)throw Error(aa+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,rr=!1,i=t.times($h(l,n+f)),rr=!0,i=P9(i),i.s=a,i};Ee.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Lr(i),n=Fu(i,r<=a.toExpNeg||r>=a.toExpPos)):(uo(t,1,Mf),e===void 0?e=a.rounding:uo(e,0,8),i=Ut(new a(i),t,e),r=Lr(i),n=Fu(i,t<=r||r<=a.toExpNeg,t)),n};Ee.toSignificantDigits=Ee.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(uo(t,1,Mf),e===void 0?e=n.rounding:uo(e,0,8)),Ut(new n(r),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lr(t),r=t.constructor;return Fu(t,e<=r.toExpNeg||e>=r.toExpPos)};function R9(t,e){var r,n,i,a,o,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),rr?Ut(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=f.length):(n=f,i=o,l=c.length),o=Math.ceil(p/Yt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/an|0,c[a]%=an;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,rr?Ut(e,p):e}function uo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Cu+t)}function Za(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Yt-n.length,r&&(a+=Ws(r)),a+=n;o=t[e],n=o+"",r=Yt-n.length,r&&(a+=Ws(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ho=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%an|0,o=a/an|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*an+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,f,h,p,v,m,_,w,E,S,I,O,M,L,B,D,N,k=n.constructor,V=n.s==i.s?1:-1,z=n.d,H=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(aa+"Division by zero");for(c=n.e-i.e,D=H.length,L=z.length,m=new k(V),_=m.d=[],f=0;H[f]==(z[f]||0);)++f;if(H[f]>(z[f]||0)&&--c,a==null?I=a=k.precision:o?I=a+(Lr(n)-Lr(i))+1:I=a,I<0)return new k(0);if(I=I/Yt+2|0,f=0,D==1)for(h=0,H=H[0],I++;(f<L||h)&&I--;f++)O=h*an+(z[f]||0),_[f]=O/H|0,h=O%H|0;else{for(h=an/(H[0]+1)|0,h>1&&(H=t(H,h),z=t(z,h),D=H.length,L=z.length),M=D,w=z.slice(0,D),E=w.length;E<D;)w[E++]=0;N=H.slice(),N.unshift(0),B=H[0],H[1]>=an/2&&++B;do h=0,l=e(H,w,D,E),l<0?(S=w[0],D!=E&&(S=S*an+(w[1]||0)),h=S/B|0,h>1?(h>=an&&(h=an-1),p=t(H,h),v=p.length,E=w.length,l=e(p,w,v,E),l==1&&(h--,r(p,D<v?N:H,v))):(h==0&&(l=h=1),p=H.slice()),v=p.length,v<E&&p.unshift(0),r(w,p,E),l==-1&&(E=w.length,l=e(H,w,D,E),l<1&&(h++,r(w,D<E?N:H,E))),E=w.length):l===0&&(h++,w=[0]),_[f++]=h,l&&w[0]?w[E++]=z[M]||0:(w=[z[M]],E=1);while((M++<L||w[0]!==void 0)&&I--)}return _[0]||_.shift(),m.e=c,Ut(m,o?a+Lr(m)+1:a)}})();function P9(t,e){var r,n,i,a,o,l,c=0,f=0,h=t.constructor,p=h.precision;if(Lr(t)>16)throw Error(cA+Lr(t));if(!t.s)return new h(Si);for(rr=!1,l=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(hu(2,f))/Math.LN10*2+5|0,l+=n,r=i=a=new h(Si),h.precision=l;;){if(i=Ut(i.times(t),l),r=r.times(++c),o=a.plus(Ho(i,r,l)),Za(o.d).slice(0,l)===Za(a.d).slice(0,l)){for(;f--;)a=Ut(a.times(a),l);return h.precision=p,e==null?(rr=!0,Ut(a,p)):a}a=o}}function Lr(t){for(var e=t.e*Yt,r=t.d[0];r>=10;r/=10)e++;return e}function i_(t,e,r){if(e>t.LN10.sd())throw rr=!0,r&&(t.precision=r),Error(aa+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Ws(t){for(var e="";t--;)e+="0";return e}function $h(t,e){var r,n,i,a,o,l,c,f,h,p=1,v=10,m=t,_=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(aa+(m.s?"NaN":"-Infinity"));if(m.eq(Si))return new w(0);if(e==null?(rr=!1,f=E):f=e,m.eq(10))return e==null&&(rr=!0),i_(w,f);if(f+=v,w.precision=f,r=Za(_),n=r.charAt(0),a=Lr(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Za(m.d),n=r.charAt(0),p++;a=Lr(m),n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1))}else return c=i_(w,f+2,E).times(a+""),m=$h(new w(n+"."+r.slice(1)),f-v).plus(c),w.precision=E,e==null?(rr=!0,Ut(m,E)):m;for(l=o=m=Ho(m.minus(Si),m.plus(Si),f),h=Ut(m.times(m),f),i=3;;){if(o=Ut(o.times(h),f),c=l.plus(Ho(o,new w(i),f)),Za(c.d).slice(0,f)===Za(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(i_(w,f+2,E).times(a+""))),l=Ho(l,new w(p),f),w.precision=E,e==null?(rr=!0,Ut(l,E)):l;l=c,i+=2}}function eR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=kf(r/Yt),t.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Yt;n<i;)t.d.push(+e.slice(n,n+=Yt));e=e.slice(n),n=Yt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),rr&&(t.e>$g||t.e<-$g))throw Error(cA+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,r){var n,i,a,o,l,c,f,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Yt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Yt),a=p.length,h>=a)return t;for(f=a=p[h],o=1;a>=10;a/=10)o++;n%=Yt,i=n-Yt+o}if(r!==void 0&&(a=hu(10,o-i-1),l=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/hu(10,o-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=Lr(t),p.length=1,e=e-a-1,p[0]=hu(10,(Yt-e%Yt)%Yt),t.e=kf(-e/Yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=hu(10,Yt-n),p[h]=i>0?(f/hu(10,o-i)%hu(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==an&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=an)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(rr&&(t.e>$g||t.e<-$g))throw Error(cA+Lr(t));return t}function D9(t,e){var r,n,i,a,o,l,c,f,h,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),rr?Ut(e,m):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),o=f-n,o){for(h=o<0,h?(r=c,o=-o,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(m/Yt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=an-1;--c[a],c[i]+=an}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,rr?Ut(e,m):e):new v(0)}function Fu(t,e,r){var n,i=Lr(t),a=Za(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ws(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ws(-i-1)+a,r&&(n=r-o)>0&&(a+=Ws(n))):i>=o?(a+=Ws(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ws(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ws(n))),t.s<0?"-"+a:a}function tR(t,e){if(t.length>e)return t.length=e,!0}function N9(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return eR(o,a.toString())}else if(typeof a!="string")throw Error(Cu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wie.test(a))eR(o,a);else throw Error(Cu+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N9,i.config=i.set=Eie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Eie(t){if(!t||typeof t!="object")throw Error(aa+"Object expected");var e,r,n,i=["precision",1,Mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(kf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Cu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cu+r+": "+n);return this}var fA=N9(bie);Si=new fA(1);const Pt=fA;var Aie=t=>t,M9={},k9=t=>t===M9,rR=t=>function e(){return arguments.length===0||arguments.length===1&&k9(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},L9=(t,e)=>t===1?e:rR(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==M9).length;return a>=t?e(...n):L9(t-a,rR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=n.map(h=>k9(h)?l.shift():h);return e(...f,...l)}))}),im=t=>L9(t.length,t),Ub=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Sie=im((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Tie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Aie;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},zb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),j9=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,r=t(...i)),r}};function B9(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function V9(t,e,r){for(var n=new Pt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}im((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});im((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});im((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var F9=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},U9=(t,e,r)=>{if(t.lte(0))return new Pt(0);var n=B9(t.toNumber()),i=new Pt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Pt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?new Pt(c.toNumber()):new Pt(Math.ceil(c.toNumber()))},Cie=(t,e,r)=>{var n=new Pt(1),i=new Pt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Pt(10).pow(B9(t)-1),i=new Pt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):r||(i=new Pt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Tie(Sie(c=>i.add(new Pt(c-o).mul(n)).toNumber()),Ub);return l(0,e)},z9=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var o=U9(new Pt(r).sub(e).div(n-1),i,a),l;e<=0&&r>=0?l=new Pt(0):(l=new Pt(e).add(r).div(2),l=l.sub(new Pt(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Pt(r).sub(l).div(o).toNumber()),h=c+f+1;return h>n?z9(e,r,n,i,a+1):(h<n&&(f=r>0?f+(n-h):f,c=r>0?c:c+(n-h)),{step:o,tickMin:l.sub(new Pt(c).mul(o)),tickMax:l.add(new Pt(f).mul(o))})};function Iie(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,l]=F9([e,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Ub(0,n-1).map(()=>1/0)]:[...Ub(0,n-1).map(()=>-1/0),l];return e>r?zb(c):c}if(o===l)return Cie(o,n,i);var{step:f,tickMin:h,tickMax:p}=z9(o,l,a,i,0),v=V9(h,p.add(new Pt(.1).mul(f)),f);return e>r?zb(v):v}function Oie(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=F9([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var l=Math.max(e,2),c=U9(new Pt(o).sub(a).div(l-1),i,0),f=[...V9(new Pt(a),new Pt(o),c),o];return i===!1&&(f=f.map(h=>Math.round(h))),r>n?zb(f):f}var Rie=j9(Iie),Pie=j9(Oie),H9=t=>t.rootProps.maxBarSize,Die=t=>t.rootProps.barGap,$9=t=>t.rootProps.barCategoryGap,Nie=t=>t.rootProps.barSize,y0=t=>t.rootProps.stackOffset,dA=t=>t.options.chartName,hA=t=>t.rootProps.syncId,q9=t=>t.rootProps.syncMethod,pA=t=>t.options.eventEmitter,Mo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},wi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},am=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Mie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mo.angleAxisId,includeHidden:!1,name:void 0,reversed:Mo.reversed,scale:Mo.scale,tick:Mo.tick,tickCount:void 0,ticks:void 0,type:Mo.type,unit:void 0},kie={allowDataOverflow:wi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wi.scale,tick:wi.tick,tickCount:wi.tickCount,ticks:void 0,type:wi.type,unit:void 0},Lie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mo.scale,tick:Mo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jie={allowDataOverflow:wi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wi.scale,tick:wi.tick,tickCount:wi.tickCount,ticks:void 0,type:"category",unit:void 0},gA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Lie:Mie,vA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?jie:kie,om=t=>t.polarOptions,mA=re([ns,is,Xr],IM),G9=re([om,mA],(t,e)=>{if(t!=null)return Ln(t.innerRadius,e,0)}),K9=re([om,mA],(t,e)=>{if(t!=null)return Ln(t.outerRadius,e,e*.8)}),Bie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},W9=re([om],Bie);re([gA,W9],am);var X9=re([mA,G9,K9],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});re([vA,X9],am);var Y9=re([ct,om,G9,K9,ns,is],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:f}=e;return{cx:Ln(o,i,i/2),cy:Ln(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:f,clockWise:!1}}}),ir=(t,e)=>e,x0=(t,e,r)=>r;function yA(t){return t?.id}var Qr=t=>{var e=ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Lf=t=>t.tooltip.settings.axisId,cn=t=>{var e=Qr(t),r=Lf(t);return _0(t,e,r)},Q9=re([cn],t=>t?.dataKey);function Z9(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:n;if(!(f==null||f.length===0)){var h=yA(l);f.forEach((p,v)=>{var m=a==null||i?v:String(qt(p,a,null)),_=qt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[h]:_}),o.set(m,w)})}}),Array.from(o.values())}function sm(t){return t.stackId!=null&&t.dataKey!=null}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){Vie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vie(t,e,r){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hb=[0,"auto"],_i={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J9=(t,e)=>t.cartesianAxis.xAxis[e],os=(t,e)=>{var r=J9(t,e);return r??_i},bi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:f0},e7=(t,e)=>t.cartesianAxis.yAxis[e],ss=(t,e)=>{var r=e7(t,e);return r??bi},zie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xA=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??zie},wr=(t,e,r)=>{switch(e){case"xAxis":return os(t,r);case"yAxis":return ss(t,r);case"zAxis":return xA(t,r);case"angleAxis":return gA(t,r);case"radiusAxis":return vA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Hie=(t,e,r)=>{switch(e){case"xAxis":return os(t,r);case"yAxis":return ss(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},_0=(t,e,r)=>{switch(e){case"xAxis":return os(t,r);case"yAxis":return ss(t,r);case"angleAxis":return gA(t,r);case"radiusAxis":return vA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},t7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _A(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var lm=t=>t.graphicalItems.cartesianItems,$ie=re([ir,x0],_A),bA=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),b0=re([lm,wr,$ie],bA),r7=re([b0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(sm)),n7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),i7=re([b0],n7),wA=t=>t.map(e=>e.data).filter(Boolean).flat(1),qie=re([b0],wA),EA=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},AA=re([qie,nm],EA),SA=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:qt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:qt(i,n)}))):t.map(n=>({value:n})),um=re([AA,wr,b0],SA);function a7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Wu(t){return t.filter(e=>lo(e)||e instanceof Date).map(Number).filter(e=>Oi(e)===!1)}function Gie(t,e,r){return!r||typeof e!="number"||Oi(e)?[]:r.length?Wu(r.flatMap(n=>{var i=qt(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Pi(a)||!Pi(o)))return[e-a,e+o]})):[]}var Kie=re([r7,nm,cn],Z9),o7=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(yA);return[o,{stackedData:QJ(t,c,r),graphicalItems:l}]}))},$b=re([Kie,r7,y0],o7),s7=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=ree(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Wie=re([$b,Rl,ir],s7),l7=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var l,c,f=(l=n[o.id])===null||l===void 0?void 0:l.filter(p=>a7(i,p)),h=qt(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:h,errorDomain:Gie(a,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:qt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),cm=t=>t.errorBars,u7=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>a7(r,n));re([i7,cm,ir],u7);var Xie=re([AA,wr,i7,cm,ir],l7);function Yie(t){var{value:e}=t;if(lo(e)||e instanceof Date)return e}var iR=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Wu(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qie=(t,e,r)=>{var n=t.map(Yie).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&_N(n))?WM(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},TA=t=>{var e;if(t==null||!("domain"in t))return Hb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Wu(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Hb},Gg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},c7=t=>t.referenceElements.dots,jf=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Zie=re([c7,ir,x0],jf),f7=t=>t.referenceElements.areas,Jie=re([f7,ir,x0],jf),d7=t=>t.referenceElements.lines,eae=re([d7,ir,x0],jf),h7=(t,e)=>{var r=Wu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tae=re(Zie,ir,h7),p7=(t,e)=>{var r=Wu(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rae=re([Jie,ir],p7),g7=(t,e)=>{var r=Wu(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nae=re(eae,ir,g7),iae=re(tae,nae,rae,(t,e,r)=>Gg(t,r,e)),v7=re([wr],TA),CA=(t,e,r,n,i,a,o)=>{var l=xie(e,t.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?Gg(r,i,iR(n)):Gg(i,iR(n));return _ie(e,f,t.allowDataOverflow)},aae=re([wr,v7,Wie,Xie,iae,ct,ir],CA),oae=[0,1],IA=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,f=Tl(e,a);return f&&l==null?WM(0,r.length):c==="category"?Qie(n,t,f):i==="expand"?oae:o}},OA=re([wr,ct,AA,um,y0,ir,aae],IA),m7=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(s0(a));return l in vh?l:"point"}}},Bf=re([wr,ct,t7,dA,ir],m7);function sae(t){if(t!=null){if(t in vh)return vh[t]();var e="scale".concat(s0(t));if(e in vh)return vh[e]()}}function RA(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=sae(e);if(i!=null){var a=i.domain(r).range(n);return GJ(a),a}}}var PA=(t,e,r)=>{var n=TA(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vf(t))return Rie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&vf(t))return Pie(t,e.tickCount,e.allowDecimals)}},DA=re([OA,_0,Bf],PA),NA=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&vf(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],l=r[r.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},lae=re([wr,OA,DA,ir],NA),uae=re(um,wr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Wu(t.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),y7=re(uae,ct,$9,Xr,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Pi(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Ln(r,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),cae=(t,e)=>{var r=os(t,e);return r==null||typeof r.padding!="string"?0:y7(t,"xAxis",e,r.padding)},fae=(t,e)=>{var r=ss(t,e);return r==null||typeof r.padding!="string"?0:y7(t,"yAxis",e,r.padding)},dae=re(os,cae,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),hae=re(ss,fae,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),pae=re([Xr,dae,Wv,Kv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),gae=re([Xr,ct,hae,Wv,Kv,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),w0=(t,e,r,n)=>{var i;switch(e){case"xAxis":return pae(t,r,n);case"yAxis":return gae(t,r,n);case"zAxis":return(i=xA(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return W9(t);case"radiusAxis":return X9(t,r);default:return}},x7=re([wr,w0],am),Vf=re([wr,Bf,lae,x7],RA);re([b0,cm,ir],u7);function _7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fm=(t,e)=>e,dm=(t,e,r)=>r,vae=re(qv,fm,dm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(_7)),mae=re(Gv,fm,dm,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(_7)),b7=(t,e)=>({width:t.width,height:e.height}),yae=(t,e)=>{var r=typeof e.width=="number"?e.width:f0;return{width:r,height:t.height}},w7=re(Xr,os,b7),xae=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},_ae=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},bae=re(is,Xr,vae,fm,dm,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=b7(e,l);o==null&&(o=xae(e,n,t));var f=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),wae=re(ns,Xr,mae,fm,dm,(t,e,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=yae(e,l);o==null&&(o=_ae(e,n,t));var f=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),Eae=(t,e)=>{var r=os(t,e);if(r!=null)return bae(t,r.orientation,r.mirror)},Aae=re([Xr,os,Eae,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Sae=(t,e)=>{var r=ss(t,e);if(r!=null)return wae(t,r.orientation,r.mirror)},Tae=re([Xr,ss,Sae,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),E7=re(Xr,ss,(t,e)=>{var r=typeof e.width=="number"?e.width:f0;return{width:r,height:t.height}}),aR=(t,e,r)=>{switch(e){case"xAxis":return w7(t,r).width;case"yAxis":return E7(t,r).height;default:return}},A7=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=Tl(t,n),c=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&_N(c))return c}},MA=re([ct,um,wr,ir],A7),S7=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Tl(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},kA=re([ct,um,_0,ir],S7),oR=re([ct,Hie,Bf,Vf,MA,kA,w0,DA,ir],(t,e,r,n,i,a,o,l,c)=>{if(e==null)return null;var f=Tl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:r,scale:n}}),Cae=(t,e,r,n,i,a,o,l,c)=>{if(!(e==null||n==null)){var f=Tl(t,c),{type:h,ticks:p,tickCount:v}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=h==="category"&&n.bandwidth?n.bandwidth()/m:0;_=c==="angleAxis"&&a!=null&&a.length>=2?ln(a[0]-a[1])*2*_:_;var w=p||i;if(w){var E=w.map((S,I)=>{var O=o?o.indexOf(S):S;return{index:I,coordinate:n(O)+_,value:S,offset:_}});return E.filter(S=>!Oi(S.coordinate))}return f&&l?l.map((S,I)=>({coordinate:n(S)+_,value:S,index:I,offset:_})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+_,value:S,offset:_})):n.domain().map((S,I)=>({coordinate:n(S)+_,value:o?o[S]:S,index:I,offset:_}))}},T7=re([ct,_0,Bf,Vf,DA,w0,MA,kA,ir],Cae),Iae=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=Tl(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&n?.length>=2?ln(n[0]-n[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.ticks?r.ticks(c).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:i?i[h]:h,index:p,offset:f}))}},vl=re([ct,_0,Vf,w0,MA,kA,ir],Iae),ml=re(wr,Vf,(t,e)=>{if(!(t==null||e==null))return qg(qg({},t),{},{scale:e})}),Oae=re([wr,Bf,OA,x7],RA);re((t,e,r)=>xA(t,r),Oae,(t,e)=>{if(!(t==null||e==null))return qg(qg({},t),{},{scale:e})});var Rae=re([ct,qv,Gv],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),C7=t=>t.options.defaultTooltipEventType,I7=t=>t.options.validateTooltipEventTypes;function O7(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function LA(t,e){var r=C7(t),n=I7(t);return O7(e,r,n)}function Pae(t){return Ce(e=>LA(e,t))}var R7=(t,e)=>{var r,n=Number(e);if(!(Oi(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Dae=t=>t.tooltip.settings,Js={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nae={itemInteraction:{click:Js,hover:Js},axisInteraction:{click:Js,hover:Js},keyboardInteraction:Js,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P7=Di({name:"tooltip",initialState:Nae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=zo(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Mae,removeTooltipEntrySettings:kae,setTooltipSettingsState:Lae,setActiveMouseOverItemIndex:D7,mouseLeaveItem:jae,mouseLeaveChart:N7,setActiveClickItemIndex:Bae,setMouseOverAxisIndex:M7,setMouseClickAxisIndex:Vae,setSyncInteraction:qb,setKeyboardInteraction:Gb}=P7.actions,Fae=P7.reducer;function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){Uae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uae(t,e,r){return(e=zae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function qae(t){return t.index!=null}var k7=(t,e,r,n)=>{if(e==null)return Js;var i=$ae(t,e,r);if(i==null)return Js;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(qae(i)){if(a)return I1(I1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return I1(I1({},Js),{},{coordinate:i.coordinate})},jA=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!Pi(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},L7=(t,e,r,n,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],f=c==null?void 0:l(c.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:h.coordinate}}}},j7=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},E0=t=>t.options.tooltipPayloadSearcher,Ff=t=>t.tooltip;function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){Gae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gae(t,e,r){return(e=Kae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xae(t,e){return t??e}var B7=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:h}=r,p=[];return t.reduce((v,m)=>{var _,{dataDefinedOnItem:w,settings:E}=m,S=Xae(w,l),I=Array.isArray(S)?OM(S,f,h):S,O=(_=E?.dataKey)!==null&&_!==void 0?_:n,M=E?.nameKey,L;if(n&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?L=bN(I,n,i):L=a(I,e,c,M),Array.isArray(L))L.forEach(D=>{var N=uR(uR({},E),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(q6({tooltipEntrySettings:N,dataKey:D.dataKey,payload:D.payload,value:qt(D.payload,D.dataKey),name:D.name}))});else{var B;v.push(q6({tooltipEntrySettings:E,dataKey:O,payload:L,value:qt(L,O),name:(B=qt(L,M))!==null&&B!==void 0?B:E?.name}))}return v},p)}},BA=re([cn,ct,t7,dA,Qr],m7),Yae=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Qae=re([Qr,Lf],_A),A0=re([Yae,cn,Qae],bA),Zae=re([A0],t=>t.filter(sm)),Jae=re([A0],wA),Uf=re([Jae,Rl],EA),eoe=re([Zae,Rl,cn],Z9),VA=re([Uf,cn,A0],SA),toe=re([cn],TA),roe=re([A0],t=>t.filter(sm)),noe=re([eoe,roe,y0],o7),ioe=re([noe,Rl,Qr],s7),aoe=re([A0],n7),ooe=re([Uf,cn,aoe,cm,Qr],l7),soe=re([c7,Qr,Lf],jf),loe=re([soe,Qr],h7),uoe=re([f7,Qr,Lf],jf),coe=re([uoe,Qr],p7),foe=re([d7,Qr,Lf],jf),doe=re([foe,Qr],g7),hoe=re([loe,doe,coe],Gg),poe=re([cn,toe,ioe,ooe,hoe,ct,Qr],CA),V7=re([cn,ct,Uf,VA,y0,Qr,poe],IA),goe=re([V7,cn,BA],PA),voe=re([cn,V7,goe,Qr],NA),F7=t=>{var e=Qr(t),r=Lf(t),n=!1;return w0(t,e,r,n)},U7=re([cn,F7],am),z7=re([cn,BA,voe,U7],RA),moe=re([ct,VA,cn,Qr],A7),yoe=re([ct,VA,cn,Qr],S7),xoe=(t,e,r,n,i,a,o,l)=>{if(e){var{type:c}=e,f=Tl(t,l);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ln(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:n(v)+p,value:v,index:m,offset:p})):n.domain().map((v,m)=>({coordinate:n(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},ls=re([ct,cn,BA,z7,F7,moe,yoe,Qr],xoe),FA=re([C7,I7,Dae],(t,e,r)=>O7(r.shared,t,e)),H7=t=>t.tooltip.settings.trigger,UA=t=>t.tooltip.settings.defaultIndex,hm=re([Ff,FA,H7,UA],k7),yl=re([hm,Uf],jA),$7=re([ls,yl],R7),q7=re([hm],t=>{if(t)return t.dataKey}),G7=re([Ff,FA,H7,UA],j7),_oe=re([ns,is,ct,Xr,ls,UA,G7,E0],L7),boe=re([hm,_oe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),woe=re([hm],t=>t.active),Eoe=re([G7,yl,Rl,Q9,$7,E0,FA],B7),Aoe=re([Eoe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){Soe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Soe(t,e,r){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Toe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ioe=()=>Ce(cn),Ooe=()=>{var t=Ioe(),e=Ce(ls),r=Ce(z7);return Bh(fR(fR({},t),{},{scale:r}),e)},Roe=()=>Ce(dA),zA=(t,e)=>e,K7=(t,e,r)=>r,HA=(t,e,r,n)=>n,Poe=re(ls,t=>Vv(t,e=>e.coordinate)),$A=re([Ff,zA,K7,HA],k7),W7=re([$A,Uf],jA),Doe=(t,e,r)=>{if(e!=null){var n=Ff(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},X7=re([Ff,zA,K7,HA],j7),Kg=re([ns,is,ct,Xr,ls,HA,X7,E0],L7),Noe=re([$A,Kg],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Y7=re(ls,W7,R7),Moe=re([X7,W7,Rl,Q9,Y7,E0,zA],B7),koe=re([$A],t=>({isActive:t.active,activeIndex:t.index})),Loe=(t,e,r,n,i,a,o,l)=>{if(!(!t||!e||!n||!i||!a)){var c=nee(t.chartX,t.chartY,e,r,l);if(c){var f=aee(c,e),h=$J(f,o,a,n,i),p=iee(e,a,h,c);return{activeIndex:String(h),activeCoordinate:p}}}};function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kb.apply(null,arguments)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){joe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function joe(t,e,r){return(e=Boe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Voe(t,"string");return typeof e=="symbol"?e:e+""}function Voe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=t,h=e,p=r,v=n;if(!l||!h||f!=="ScatterChart"&&c!=="axis")return null;var m,_;if(f==="ScatterChart")m=h,_=ate;else if(f==="BarChart")m=ote(o,h,i,a),_=$M;else if(o==="radial"){var{cx:w,cy:E,radius:S,startAngle:I,endAngle:O}=qM(h);m={cx:w,cy:E,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},_=KM}else m={points:Vte(o,h,i)},_=VE;var M=typeof l=="object"&&"className"in l?l.className:void 0,L=O1(O1(O1(O1({stroke:"#ccc",pointerEvents:"none"},i),m),or(l,!1)),{},{payload:p,payloadIndex:v,className:vt("recharts-tooltip-cursor",M)});return C.isValidElement(l)?C.cloneElement(l,L):C.createElement(_,L)}function Uoe(t){var e=Ooe(),r=kM(),n=Xv(),i=Roe();return C.createElement(Foe,Kb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var Q7=C.createContext(null),zoe=()=>C.useContext(Q7),a_={exports:{}},hR;function Hoe(){return hR||(hR=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,p||c,v),_=r?r+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,_=new Array(m);v<m;v++)_[v]=p[v].fn;return _},l.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,v,m,_){var w=r?r+f:f;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,I,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,v),!0;case 5:return E.fn.call(E.context,h,p,v,m),!0;case 6:return E.fn.call(E.context,h,p,v,m,_),!0}for(O=1,I=new Array(S-1);O<S;O++)I[O-1]=arguments[O];E.fn.apply(E.context,I)}else{var M=E.length,L;for(O=0;O<M;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),S){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,h);break;case 3:E[O].fn.call(E[O].context,h,p);break;case 4:E[O].fn.call(E[O].context,h,p,v);break;default:if(!I)for(L=1,I=new Array(S-1);L<S;L++)I[L-1]=arguments[L];E[O].fn.apply(E[O].context,I)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,v){var m=r?r+f:f;if(!this._events[m])return this;if(!h)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===h&&(!v||_.once)&&(!p||_.context===p)&&o(this,m);else{for(var w=0,E=[],S=_.length;w<S;w++)(_[w].fn!==h||v&&!_[w].once||p&&_[w].context!==p)&&E.push(_[w]);E.length?this._events[m]=E.length===1?E[0]:E:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(a_)),a_.exports}var $oe=Hoe();const qoe=co($oe);var qh=new qoe,Wb="recharts.syncEvent.tooltip",pR="recharts.syncEvent.brush";function qA(t,e){if(e){var r=Number.parseInt(e,10);if(!Oi(r))return t?.[r]}}var Goe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Z7=Di({name:"options",initialState:Goe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Koe=Z7.reducer,{createEventEmitter:Woe}=Z7.actions;function Xoe(t){return t.tooltip.syncInteraction}var Yoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},J7=Di({name:"chartData",initialState:Yoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:gR,setDataStartEndIndexes:Qoe,setComputedData:R0e}=J7.actions,Zoe=J7.reducer,Joe=["x","y"];function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){ese(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ese(t,e,r){return(e=tse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nse(t,e){if(t==null)return{};var r,n,i=ise(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ise(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ek=()=>{};function ase(){var t=Ce(hA),e=Ce(pA),r=sr(),n=Ce(q9),i=Ce(ls),a=Xv(),o=kE(),l=Ce(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return ek;var c=(f,h,p)=>{if(e!==p&&t===f){if(n==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var m=h.payload.coordinate,{x:_,y:w}=m,E=nse(m,Joe),S=lu(lu(lu({},E),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),I=lu(lu({},h),{},{payload:lu(lu({},h.payload),{},{coordinate:S})});r(I)}else r(h);return}if(i!=null){var O;if(typeof n=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=n(i,M);O=i[L]}else n==="value"&&(O=i.find(U=>String(U.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||o==null){r(qb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:D,y:N}=B,k=Math.min(D,o.x+o.width),V=Math.min(N,o.y+o.height),z={x:a==="horizontal"?O.coordinate:k,y:a==="horizontal"?V:O.coordinate},H=qb({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});r(H)}}};return qh.on(Wb,c),()=>{qh.off(Wb,c)}},[l,r,e,t,n,i,a,o])}function ose(){var t=Ce(hA),e=Ce(pA),r=sr();C.useEffect(()=>{if(t==null)return ek;var n=(i,a,o)=>{e!==o&&t===i&&r(Qoe(a))};return qh.on(pR,n),()=>{qh.off(pR,n)}},[r,e,t])}function sse(){var t=sr();C.useEffect(()=>{t(Woe())},[t]),ase(),ose()}function lse(t,e,r,n,i,a){var o=Ce(v=>Doe(v,t,e)),l=Ce(pA),c=Ce(hA),f=Ce(q9),h=Ce(Xoe),p=h?.active;C.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=qb({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});qh.emit(Wb,c,v,l)}},[p,r,o,i,n,l,c,f,a])}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){use(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function use(t,e,r){return(e=cse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cse(t){var e=fse(t,"string");return typeof e=="symbol"?e:e+""}function fse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t){return t.dataKey}function hse(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(jee,e)}var xR=[],pse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Cl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pm(t){var e=Cn(t,pse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:_,cursor:w,shared:E,trigger:S,defaultIndex:I,portal:O,axisId:M}=e,L=sr(),B=typeof I=="number"?String(I):I;C.useEffect(()=>{L(Lae({shared:E,trigger:S,axisId:M,active:r,defaultIndex:B}))},[L,E,S,M,r,B]);var D=kE(),N=VM(),k=Pae(E),{activeIndex:V,isActive:z}=Ce(Oe=>koe(Oe,k,S,B)),H=Ce(Oe=>Moe(Oe,k,S,B)),U=Ce(Oe=>Y7(Oe,k,S,B)),he=Ce(Oe=>Noe(Oe,k,S,B)),be=H,Y=zoe(),se=r??z,[me,Se]=nM([be,se]),Ge=k==="axis"?U:void 0;lse(k,S,he,Ge,V,se);var G=O??Y;if(G==null)return null;var ee=be??xR;se||(ee=xR),l&&ee.length&&(ee=ZN(be.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),h,dse));var ye=ee.length>0,_e=C.createElement($ee,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:se,coordinate:he,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:D,wrapperStyle:_,lastBoundingBox:me,innerRef:Se,hasPortalFromProps:!!O},hse(o,yR(yR({},e),{},{payload:ee,label:Ge,active:se,coordinate:he,accessibilityLayer:N})));return C.createElement(C.Fragment,null,SN.createPortal(_e,G),se&&C.createElement(Uoe,{cursor:w,tooltipEventType:k,coordinate:he,payload:be,index:V}))}var o_={},s_={},l_={},_R;function gse(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{_(),o=void 0,l=null},E=()=>{h()},S=function(...I){if(i?.aborted)return;o=this,l=I;const O=v==null;m(),c&&O&&h()};return S.schedule=m,S.cancel=w,S.flush=E,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(l_)),l_}var bR;function vse(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gse();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const v=e.debounce(function(...w){h=n.apply(this,w),p=null},i,{edges:f}),m=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=n.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},_=()=>(v.flush(),h);return m.cancel=v.cancel,m.flush=_,m}t.debounce=r})(s_)),s_}var wR;function mse(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vse();function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:l})}t.throttle=r})(o_)),o_}var u_,ER;function yse(){return ER||(ER=1,u_=mse().throttle),u_}var xse=yse();const _se=co(xse);var Ah=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bse(t,e,r){return(e=wse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wse(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gm=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:f,debounce:h=0,id:p,className:v,onResize:m,style:_={}}=t,w=C.useRef(null),E=C.useRef();E.current=m,C.useImperativeHandle(e,()=>w.current);var[S,I]=C.useState({containerWidth:n.width,containerHeight:n.height}),O=C.useCallback((L,B)=>{I(D=>{var N=Math.round(L),k=Math.round(B);return D.containerWidth===N&&D.containerHeight===k?D:{containerWidth:N,containerHeight:k}})},[]);C.useEffect(()=>{var L=k=>{var V,{width:z,height:H}=k[0].contentRect;O(z,H),(V=E.current)===null||V===void 0||V.call(E,z,H)};h>0&&(L=_se(L,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),{width:D,height:N}=w.current.getBoundingClientRect();return O(D,N),B.observe(w.current),()=>{B.disconnect()}},[O,h]);var M=C.useMemo(()=>{var{containerWidth:L,containerHeight:B}=S;if(L<0||B<0)return null;Ah(mu(i)||mu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Ah(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=mu(i)?L:i,N=mu(a)?B:a;return r&&r>0&&(D?N=D/r:N&&(D=N*r),c&&N>c&&(N=c)),Ah(D>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,i,a,o,l,r),C.Children.map(f,k=>C.cloneElement(k,{width:D,height:N,style:c_({width:D,height:N},k.props.style)}))},[r,f,a,c,l,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:vt("recharts-responsive-container",v),style:c_(c_({},_),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),zf=t=>null;zf.displayName="Cell";function Ase(t,e,r){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sse(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cse{constructor(e){Ase(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ise(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){Ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ose(t,e,r){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dse={cacheSize:2e3,enableCache:!0},tk=Ise({},Dse),TR=new Cse(tk.cacheSize),Nse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CR="recharts_measurement_span";function Mse(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var IR=(t,e)=>{try{var r=document.getElementById(CR);r||(r=document.createElement("span"),r.setAttribute("id",CR),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Nse,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cl.isSsr)return{width:0,height:0};if(!tk.enableCache)return IR(e,r);var n=Mse(e,r),i=TR.get(n);if(i)return i;var a=IR(e,r);return TR.set(n,a),a},OR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jse=Object.keys(rk),qc="NaN";function Bse(t,e){return t*rk[e]}class ti{static parse(e){var r,[,n,i]=(r=Lse.exec(e))!==null&&r!==void 0?r:[];return new ti(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Oi(e)&&(this.unit=""),r!==""&&!kse.test(r)&&(this.num=NaN,this.unit=""),jse.includes(r)&&(this.num=Bse(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ti(NaN,""):new ti(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ti(NaN,""):new ti(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ti(NaN,""):new ti(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ti(NaN,""):new ti(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Oi(this.num)}}function nk(t){if(t.includes(qc))return qc;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=OR.exec(e))!==null&&r!==void 0?r:[],o=ti.parse(n??""),l=ti.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return qc;e=e.replace(OR,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,v]=(f=RR.exec(e))!==null&&f!==void 0?f:[],m=ti.parse(h??""),_=ti.parse(v??""),w=p==="+"?m.add(_):m.subtract(_);if(w.isNaN())return qc;e=e.replace(RR,w.toString())}return e}var PR=/\(([^()]*)\)/;function Vse(t){for(var e=t,r;(r=PR.exec(e))!=null;){var[,n]=r;e=e.replace(PR,nk(n))}return e}function Fse(t){var e=t.replace(/\s+/g,"");return e=Vse(e),e=nk(e),e}function Use(t){try{return Fse(t)}catch{return qc}}function f_(t){var e=Use(t.slice(5,-1));return e===qc?"":e}var zse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hse=["dx","dy","angle","className","breakAll"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xb.apply(null,arguments)}function DR(t,e){if(t==null)return{};var r,n,i=$se(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $se(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ik=/[ \f\n\r\t\v\u2028\u2029]+/,ak=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];nr(e)||(r?i=e.toString().split(""):i=e.toString().split(ik));var a=i.map(l=>({word:l,width:Sh(l,n).width})),o=r?0:Sh(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},qse=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=t,f=Re(a),h=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((H,U)=>{var{word:he,width:be}=U,Y=H[H.length-1];if(Y&&(n==null||i||Y.width+be+r<Number(n)))Y.words.push(he),Y.width+=be+r;else{var se={words:[he],width:be};H.push(se)}return H},[])},v=p(e),m=V=>V.reduce((z,H)=>z.width>H.width?z:H);if(!f||i)return v;var _=v.length>a||m(v).width>Number(n);if(!_)return v;for(var w="…",E=V=>{var z=h.slice(0,V),H=ak({breakAll:c,style:l,children:z+w}).wordsWithComputedWidth,U=p(H),he=U.length>a||m(U).width>Number(n);return[he,U]},S=0,I=h.length-1,O=0,M;S<=I&&O<=h.length-1;){var L=Math.floor((S+I)/2),B=L-1,[D,N]=E(B),[k]=E(L);if(!D&&!k&&(S=L+1),D&&k&&(I=L-1),!D&&k){M=N;break}O++}return M||v},NR=t=>{var e=nr(t)?[]:t.toString().split(ik);return[{words:e}]},Gse=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!Cl.isSsr){var l,c,f=ak({breakAll:a,children:n,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,c=p}else return NR(n);return qse({breakAll:a,children:n,maxLines:o,style:i},l,c,e,r)}return NR(n)},MR="#808080",vm=C.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:f=MR}=t,h=DR(t,zse),p=C.useMemo(()=>Gse({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:m,angle:_,className:w,breakAll:E}=h,S=DR(h,Hse);if(!lo(r)||!lo(n)||p.length===0)return null;var I=r+(Re(v)?v:0),O=n+(Re(m)?m:0),M;switch(c){case"start":M=f_("calc(".concat(a,")"));break;case"middle":M=f_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:M=f_("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(o){var B=p[0].width,{width:D}=h;L.push("scale(".concat(Re(D)?D/B:1,")"))}return _&&L.push("rotate(".concat(_,", ").concat(I,", ").concat(O,")")),L.length&&(S.transform=L.join(" ")),C.createElement("text",Xb({},or(S,!0),{ref:e,x:I,y:O,className:vt("recharts-text",w),textAnchor:l,fill:f.includes("url")?MR:f}),p.map((N,k)=>{var V=N.words.join(E?"":" ");return C.createElement("tspan",{x:I,dy:k===0?M:i,key:"".concat(V,"-").concat(k)},V)}))});vm.displayName="Text";var Kse=["labelRef"];function Wse(t,e){if(t==null)return{};var r,n,i=Xse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){Yse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yse(t,e,r){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ko.apply(null,arguments)}var ok=C.createContext(null),Jse=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return C.createElement(ok.Provider,{value:o},a)},sk=()=>{var t=C.useContext(ok),e=kE();return t||e},ele=C.createContext(null),tle=()=>{var t=C.useContext(ele),e=Ce(Y9);return t||e},rle=t=>{var{value:e,formatter:r}=t,n=nr(t.children)?e:t.children;return typeof r=="function"?r(n):n},GA=t=>t!=null&&typeof t=="function",nle=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n},ile=(t,e,r,n,i)=>{var{offset:a,className:o}=t,{cx:l,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:m}=i,_=(f+h)/2,w=nle(p,v),E=w>=0?1:-1,S,I;switch(e){case"insideStart":S=p+E*a,I=m;break;case"insideEnd":S=v-E*a,I=!m;break;case"end":S=v+E*a,I=m;break;default:throw new Error("Unsupported position ".concat(e))}I=w<=0?I:!I;var O=kr(l,c,_,S),M=kr(l,c,_,S+(I?1:-1)*359),L="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(M.x,",").concat(M.y),B=nr(t.id)?kh("recharts-radial-line-"):t.id;return C.createElement("text",ko({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:B,d:L})),C.createElement("textPath",{xlinkHref:"#".concat(B)},r))},ale=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(r==="outside"){var{x:h,y:p}=kr(n,i,o+e,f);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:_}=kr(n,i,v,f);return{x:m,y:_,textAnchor:"middle",verticalAnchor:"middle"}},lk=t=>"cx"in t&&Re(t.cx),ole=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!lk(r)&&(a=r);var{x:o,y:l,width:c,height:f}=e,h=f>=0?1:-1,p=h*n,v=h>0?"end":"start",m=h>0?"start":"end",_=c>=0?1:-1,w=_*n,E=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var I={x:o+c/2,y:l-h*n,textAnchor:"middle",verticalAnchor:v};return xr(xr({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return xr(xr({},O),a?{height:Math.max(a.y+a.height-(l+f),0),width:c}:{})}if(i==="left"){var M={x:o-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return xr(xr({},M),a?{width:Math.max(M.x-a.x,0),height:f}:{})}if(i==="right"){var L={x:o+c+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return xr(xr({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:f}:{})}var B=a?{width:c,height:f}:{};return i==="insideLeft"?xr({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideRight"?xr({x:o+c-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},B):i==="insideTop"?xr({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},B):i==="insideBottom"?xr({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?xr({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},B):i==="insideTopRight"?xr({x:o+c-w,y:l+p,textAnchor:E,verticalAnchor:m},B):i==="insideBottomLeft"?xr({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},B):i==="insideBottomRight"?xr({x:o+c-w,y:l+f-p,textAnchor:E,verticalAnchor:v},B):i&&typeof i=="object"&&(Re(i.x)||mu(i.x))&&(Re(i.y)||mu(i.y))?xr({x:o+Ln(i.x,c),y:l+Ln(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):xr({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},sle={offset:5};function Xs(t){var e=Cn(t,sle),{viewBox:r,position:n,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,h=tle(),p=sk(),v=n==="center"?p:h??p,m=r||v;if(!m||nr(i)&&nr(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var _=xr(xr({},e),{},{viewBox:m});if(C.isValidElement(o)){var{labelRef:w}=_,E=Wse(_,Kse);return C.cloneElement(o,E)}var S;if(typeof o=="function"){if(S=C.createElement(o,_),C.isValidElement(S))return S}else S=rle(e);var I=lk(m),O=or(e,!0);if(I&&(n==="insideStart"||n==="insideEnd"||n==="end"))return ile(e,n,S,O,m);var M=I?ale(m,e.offset,e.position):ole(e,m);return C.createElement(vm,ko({ref:f,className:vt("recharts-label",l)},O,M,{breakAll:c}),S)}Xs.displayName="Label";var lle=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(Xs,ko({key:"label-implicit"},n)):lo(t)?C.createElement(Xs,ko({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===Xs?C.cloneElement(t,xr({key:"label-implicit"},n)):C.createElement(Xs,ko({key:"label-implicit",content:t},n)):GA(t)?C.createElement(Xs,ko({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(Xs,ko({},t,{key:"label-implicit"},n)):null};function ule(t){var{label:e}=t,r=sk();return lle(e,r)||null}var d_={},h_={},LR;function cle(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(h_)),h_}var p_={},jR;function fle(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(p_)),p_}var BR;function dle(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cle(),r=fle(),n=TE();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(d_)),d_}var g_,VR;function hle(){return VR||(VR=1,g_=dle().last),g_}var ple=hle();const gle=co(ple);var vle=["valueAccessor"],mle=["dataKey","clockWise","id","textBreakAll"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(null,arguments)}function FR(t,e){if(t==null)return{};var r,n,i=yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xle=t=>Array.isArray(t.value)?gle(t.value):t.value,uk=C.createContext(void 0),ck=uk.Provider,fk=C.createContext(void 0),_le=fk.Provider;function ble(){return C.useContext(uk)}function wle(){return C.useContext(fk)}function G1(t){var{valueAccessor:e=xle}=t,r=FR(t,vle),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,l=FR(r,mle),c=ble(),f=wle(),h=c||f;return!h||!h.length?null:C.createElement(Tn,{className:"recharts-label-list"},h.map((p,v)=>{var m,_=nr(n)?e(p,v):qt(p&&p.payload,n),w=nr(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement(Xs,Wg({},or(p,!0),l,w,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}G1.displayName="LabelList";function KA(t){var{label:e}=t;return e?e===!0?C.createElement(G1,{key:"labelList-implicit"}):C.isValidElement(e)||GA(e)?C.createElement(G1,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(G1,Wg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(null,arguments)}var dk=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=vt("recharts-dot",i);return e===+e&&r===+r&&n===+n?C.createElement("circle",Yb({},ho(t),mE(t),{className:a,cx:e,cy:r,r:n})):null},hk=t=>t.graphicalItems.polarItems,Ele=re([ir,x0],_A),WA=re([hk,wr,Ele],bA),Ale=re([WA],wA),XA=re([Ale,uA],EA),Sle=re([XA,wr,WA],SA),Tle=re([XA,wr,WA],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=qt(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:qt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),UR=()=>{},Cle=re([wr,v7,UR,Tle,UR,ct,ir],CA),pk=re([wr,ct,XA,Sle,y0,ir,Cle],IA),Ile=re([pk,wr,Bf],PA);re([wr,pk,Ile,ir],NA);var Ole={radiusAxis:{},angleAxis:{}},gk=Di({name:"polarAxis",initialState:Ole,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:P0e,removeRadiusAxis:D0e,addAngleAxis:N0e,removeAngleAxis:M0e}=gk.actions,Rle=gk.reducer;function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){Ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ple(t,e,r){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dle(t){var e=Nle(t,"string");return typeof e=="symbol"?e:e+""}function Nle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mle=(t,e)=>e,YA=re([hk,Mle],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),kle=[],QA=(t,e,r)=>r?.length===0?kle:r,vk=re([uA,YA,QA],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>HR(HR({},e.presentationProps),a.props))),i!=null)return i}}),Lle=re([vk,YA,QA],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=qt(n,e.nameKey,e.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:Df(o,e.dataKey),color:l,payload:n,type:e.legendType}})}),jle=re([vk,YA,QA,Xr],(t,e,r,n)=>{if(!(e==null||t==null))return Mue({offset:n,pieSettings:e,displayedData:t,cells:r})}),v_={},$R;function Ble(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(v_)),v_}var m_,qR;function Vle(){return qR||(qR=1,m_=Ble().isPlainObject),m_}var Fle=Vle();const Ule=co(Fle);function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){zle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zle(t,e,r){return(e=Hle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hle(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xg.apply(null,arguments)}var WR=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},qle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gle=t=>{var e=Cn(t,qle),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,v=C.useRef(),[m,_]=C.useState(-1),w=C.useRef(i),E=C.useRef(a),S=C.useRef(o),I=C.useRef(r),O=C.useRef(n),M=h0(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var he=v.current.getTotalLength();he&&_(he)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var L=vt("recharts-trapezoid",l);if(!p)return C.createElement("g",null,C.createElement("path",Xg({},or(e,!0),{className:L,d:WR(r,n,i,a,o)})));var B=w.current,D=E.current,N=S.current,k=I.current,V=O.current,z="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),U=FM(["strokeDasharray"],f,c);return C.createElement(d0,{animationId:M,key:M,canBegin:m>0,duration:f,easing:c,isActive:p,begin:h},he=>{var be=cr(B,i,he),Y=cr(D,a,he),se=cr(N,o,he),me=cr(k,r,he),Se=cr(V,n,he);v.current&&(w.current=be,E.current=Y,S.current=se,I.current=me,O.current=Se);var Ge=he>0?{transition:U,strokeDasharray:H}:{strokeDasharray:z};return C.createElement("path",Xg({},or(e,!0),{className:L,d:WR(me,Se,be,Y,se),ref:v,style:KR(KR({},Ge),e.style)}))})},Kle=["option","shapeType","propTransformer","activeClassName","isActive"];function Wle(t,e){if(t==null)return{};var r,n,i=Xle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){Yle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yle(t,e,r){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jle(t,e){return Yg(Yg({},e),t)}function eue(t,e){return t==="symbols"}function YR(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement($M,r);case"trapezoid":return C.createElement(Gle,r);case"sector":return C.createElement(KM,r);case"symbols":if(eue(e))return C.createElement(EE,r);break;default:return null}}function tue(t){return C.isValidElement(t)?t.props:t}function mk(t){var{option:e,shapeType:r,propTransformer:n=Jle,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Wle(t,Kle),l;if(C.isValidElement(e))l=C.cloneElement(e,Yg(Yg({},o),tue(e)));else if(typeof e=="function")l=e(o);else if(Ule(e)&&typeof e!="boolean"){var c=n(e,o);l=C.createElement(YR,{shapeType:r,elementProps:c})}else{var f=o;l=C.createElement(YR,{shapeType:r,elementProps:f})}return a?C.createElement(Tn,{className:i},l):l}var ZA=(t,e)=>{var r=sr();return(n,i)=>a=>{t?.(n,i,a),r(D7({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},JA=t=>{var e=sr();return(r,n)=>i=>{t?.(r,n,i),e(jae())}},eS=(t,e)=>{var r=sr();return(n,i)=>a=>{t?.(n,i,a),r(Bae({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function tS(t){var{fn:e,args:r}=t,n=sr(),i=ui();return C.useEffect(()=>{if(!i){var a=e(r);return n(Mae(a)),()=>{n(kae(a))}}},[e,r,n,i]),null}var yk=()=>{};function xk(t){var{legendPayload:e}=t,r=sr(),n=ui();return C.useEffect(()=>n?yk:(r(jM(e)),()=>{r(BM(e))}),[r,n,e]),null}function rue(t){var{legendPayload:e}=t,r=sr(),n=Ce(ct);return C.useEffect(()=>n!=="centric"&&n!=="radial"?yk:(r(jM(e)),()=>{r(BM(e))}),[r,n,e]),null}var y_,nue=()=>{var[t]=C.useState(()=>kh("uid-"));return t},iue=(y_=Fj.useId)!==null&&y_!==void 0?y_:nue;function aue(t,e){var r=iue();return e||(t?"".concat(t,"-").concat(r):r)}var oue=C.createContext(void 0),rS=t=>{var{id:e,type:r,children:n}=t,i=aue("recharts-".concat(r),e);return C.createElement(oue.Provider,{value:i},n(i))},sue={cartesianItems:[],polarItems:[]},_k=Di({name:"graphicalItems",initialState:sue,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=zo(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=zo(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=zo(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:lue,replaceCartesianGraphicalItem:uue,removeCartesianGraphicalItem:cue,addPolarGraphicalItem:fue,removePolarGraphicalItem:due}=_k.actions,hue=_k.reducer;function bk(t){var e=sr(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?e(lue(t)):r.current!==t&&e(uue({prev:r.current,next:t})),r.current=t},[e,t]),C.useEffect(()=>()=>{r.current&&(e(cue(r.current)),r.current=null)},[e]),null}function pue(t){var e=sr();return C.useEffect(()=>(e(fue(t)),()=>{e(due(t))}),[e,t]),null}var gue=["onMouseEnter","onClick","onMouseLeave"],vue=["id"],mue=["id"];function nS(t,e){if(t==null)return{};var r,n,i=yue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){xue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xue(t,e,r){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ue(t){var e=bue(t,"string");return typeof e=="symbol"?e:e+""}function bue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xl.apply(null,arguments)}function wue(t){var e=C.useMemo(()=>yE(t.children,zf),[t.children]),r=Ce(n=>Lle(n,t.id,e));return r==null?null:C.createElement(rue,{legendPayload:r})}function Eue(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:Df(l,e),hide:c,type:f,color:o,unit:""}}}var Aue=(t,e)=>t>e?"start":t<e?"end":"middle",Sue=(t,e,r)=>Ln(typeof e=="function"?e(t):e,r,r*.8),Tue=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,l=IM(a,o),c=i+Ln(t.cx,a,a/2),f=n+Ln(t.cy,o,o/2),h=Ln(t.innerRadius,l,0),p=Sue(r,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:v}},Cue=(t,e)=>{var r=ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function Iue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Oue=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=vt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(VE,xl({},e,{type:"linear",className:r}))},Rue=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=vt("recharts-pie-label-text",Iue(t));return C.createElement(vm,xl({},e,{alignmentBaseline:"middle",className:i}),n)};function Pue(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var l=ho(r),c=or(i,!1),f=or(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var _=(v.startAngle+v.endAngle)/2,w=kr(v.cx,v.cy,v.outerRadius+h,_),E=er(er(er(er({},l),v),{},{stroke:"none"},c),{},{index:m,textAnchor:Aue(w.x,v.cx)},w),S=er(er(er(er({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[kr(v.cx,v.cy,v.outerRadius,_),w],key:"line"});return C.createElement(Tn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&Oue(a,S),Rue(i,E,qt(v,o)))});return C.createElement(Tn,{className:"recharts-pie-labels"},p)}function Due(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(KA,{label:i}):C.createElement(Pue,{sectors:e,props:r,showLabels:n})}function Nue(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=Ce(yl),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,f=nS(i,gue),h=ZA(o,i.dataKey),p=JA(c),v=eS(l,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((m,_)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=r&&String(_)===a,E=a?n:null,S=w?r:E,I=er(er({},m),{},{stroke:m.stroke,tabIndex:-1,[NM]:_,[MM]:i.dataKey});return C.createElement(Tn,xl({tabIndex:-1,className:"recharts-pie-sector"},l0(f,m,_),{onMouseEnter:h(m,_),onMouseLeave:p(m,_),onClick:v(m,_),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(_)}),C.createElement(mk,xl({option:S,isActive:w,shapeType:"sector"},I)))}))}function Mue(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=r,v=Math.abs(r.minAngle),m=Cue(l,c),_=Math.abs(m),w=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,E=n.filter(B=>qt(B,f,0)!==0).length,S=(_>=360?E:E-1)*w,I=_-E*v-S,O=n.reduce((B,D)=>{var N=qt(D,f,0);return B+(Re(N)?N:0)},0),M;if(O>0){var L;M=n.map((B,D)=>{var N=qt(B,f,0),k=qt(B,h,D),V=Tue(r,a,B),z=(Re(N)?N:0)/O,H,U=er(er({},B),i&&i[D]&&i[D].props);D?H=L.endAngle+ln(m)*w*(N!==0?1:0):H=l;var he=H+ln(m)*((N!==0?v:0)+z*I),be=(H+he)/2,Y=(V.innerRadius+V.outerRadius)/2,se=[{name:k,value:N,payload:U,dataKey:f,type:p}],me=kr(V.cx,V.cy,Y,be);return L=er(er(er(er({},r.presentationProps),{},{percent:z,cornerRadius:o,name:k,tooltipPayload:se,midAngle:be,middleRadius:Y,tooltipPosition:me},U),V),{},{value:N,startAngle:H,endAngle:he,payload:U,paddingAngle:ln(m)*w}),L})}return M}function kue(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return C.createElement(_le,{value:e?i:void 0},n)}function Lue(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=e,v=h0(e,"recharts-pie-"),m=r.current,[_,w]=C.useState(!1),E=C.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=C.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return C.createElement(kue,{showLabels:!_,sectors:n},C.createElement(d0,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:E,key:v},I=>{var O=[],M=n&&n[0],L=M?.startAngle;return n?.forEach((B,D)=>{var N=m&&m[D],k=D>0?ju(B,"paddingAngle",0):0;if(N){var V=cr(N.endAngle-N.startAngle,B.endAngle-B.startAngle,I),z=er(er({},B),{},{startAngle:L+k,endAngle:L+V+k});O.push(z),L=z.endAngle}else{var{endAngle:H,startAngle:U}=B,he=cr(0,H-U,I),be=er(er({},B),{},{startAngle:L+k,endAngle:L+he+k});O.push(be),L=be.endAngle}}),r.current=O,C.createElement(Tn,null,C.createElement(Nue,{sectors:O,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(Due,{showLabels:!_,sectors:n,props:e}),e.children)}var jue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Cl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Bue(t){var{id:e}=t,r=nS(t,vue),{hide:n,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>yE(t.children,zf),[t.children]),l=Ce(h=>jle(h,e,o)),c=C.useRef(null),f=vt("recharts-pie",i);return n||l==null?(c.current=null,C.createElement(Tn,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(tS,{fn:Eue,args:er(er({},t),{},{sectors:l})}),C.createElement(Tn,{tabIndex:a,className:f},C.createElement(Lue,{props:er(er({},r),{},{sectors:l}),previousSectorsRef:c})))}function iS(t){var e=Cn(t,jue),{id:r}=e,n=nS(e,mue),i=ho(n);return C.createElement(rS,{id:r,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(pue,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(wue,xl({},n,{id:a})),C.createElement(Bue,xl({},n,{id:a}))))}iS.displayName="Pie";function ZR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(r),!0).forEach(function(n){Vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vue(t,e,r){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zue={xAxis:{},yAxis:{},zAxis:{}},wk=Di({name:"cartesianAxis",initialState:zue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=JR(JR({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Hue,removeXAxis:$ue,addYAxis:que,removeYAxis:Gue,addZAxis:k0e,removeZAxis:L0e,updateYAxisWidth:Kue}=wk.actions,Wue=wk.reducer,Xue=re([Xr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Yue=re([Xue,ns,is],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),aS=()=>Ce(Yue),Que=()=>Ce(Aoe);function eP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(r),!0).forEach(function(n){Zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e,r){return(e=Jue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jue(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tce=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=tP(tP({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},or(i,!1)),mE(i)),l;return C.isValidElement(i)?l=C.cloneElement(i,o):typeof i=="function"?l=i(o):l=C.createElement(dk,o),C.createElement(Tn,{className:"recharts-active-dot"},l)};function rce(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=Ce(yl),o=Que();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return nr(l)?null:tce({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var nce="Invariant failed";function ice(t,e){throw new Error(nce)}var ace=["x","y"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qb.apply(null,arguments)}function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ih(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){oce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oce(t,e,r){return(e=sce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e){if(t==null)return{};var r,n,i=cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function fce(t,e){var{x:r,y:n}=t,i=uce(t,ace),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return ih(ih(ih(ih(ih({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function oS(t){return C.createElement(mk,Qb({shapeType:"rectangle",propTransformer:fce,activeClassName:"recharts-active-bar"},t))}var dce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Re(e))return e;var a=Re(n)||nr(n);return a?e(n,i):(a||ice(),r)}},hce={},Ek=Di({name:"errorBars",initialState:hce,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:j0e,replaceErrorBar:B0e,removeErrorBar:V0e}=Ek.actions,pce=Ek.reducer,gce=["children"];function vce(t,e){if(t==null)return{};var r,n,i=mce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xce=C.createContext(yce);function Ak(t){var{children:e}=t,r=vce(t,gce);return C.createElement(xce.Provider,{value:r},e)}function sS(t,e){var r,n,i=Ce(f=>os(f,t)),a=Ce(f=>ss(f,e)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:_i.allowDataOverflow,l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:bi.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Sk(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=aS(),{needClipX:a,needClipY:o,needClip:l}=sS(e,r);if(!l)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:a?c:c-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var _ce=["onMouseEnter","onMouseLeave","onClick"],bce=["value","background","tooltipPosition"],wce=["id"],Ece=["onMouseEnter","onClick","onMouseLeave"];function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_l.apply(null,arguments)}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qg(t,e){if(t==null)return{};var r,n,i=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ice=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Df(r,e),payload:t}]};function Oce(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Df(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function Rce(t){var e=Ce(yl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,f=Qg(a,_ce),h=ZA(o,n),p=JA(l),v=eS(c,n);if(!i||r==null)return null;var m=or(i,!1);return C.createElement(C.Fragment,null,r.map((_,w)=>{var{value:E,background:S,tooltipPosition:I}=_,O=Qg(_,bce);if(!S)return null;var M=h(_,w),L=p(_,w),B=v(_,w),D=qn(qn(qn(qn(qn({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},S),m),l0(f,_,w)),{},{onMouseEnter:M,onMouseLeave:L,onClick:B,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(oS,_l({key:"background-bar-".concat(D.index)},D))}))}function Pce(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return qn(qn({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(ck,{value:e?i:void 0},r)}function Dce(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=t,l=Ce(yl),c=Ce(q7),f=r&&String(a)===l&&(c==null||o===c),h=f?r:e;return C.createElement(oS,_l({},n,i,{isActive:f,option:h,index:a,dataKey:o}))}function Nce(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return C.createElement(oS,_l({},r,n,{isActive:!1,option:e,index:i,dataKey:a}))}function Mce(t){var{data:e,props:r}=t,n=ho(r),{id:i}=n,a=Qg(n,wce),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:f,onClick:h,onMouseLeave:p}=r,v=Qg(r,Ece),m=ZA(f,l),_=JA(p),w=eS(h,l);return e?C.createElement(C.Fragment,null,e.map((E,S)=>C.createElement(Tn,_l({className:"recharts-bar-rectangle"},l0(v,E,S),{onMouseEnter:m(E,S),onMouseLeave:_(E,S),onClick:w(E,S),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(S)}),c?C.createElement(Dce,{shape:o,activeBar:c,baseProps:a,entry:E,index:S,dataKey:l}):C.createElement(Nce,{shape:o,baseProps:a,entry:E,index:S,dataKey:l})))):null}function kce(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=r.current,v=h0(e,"recharts-bar-"),[m,_]=C.useState(!1),w=!m,E=C.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),S=C.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return C.createElement(Pce,{showLabels:w,rects:n},C.createElement(d0,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:v},I=>{var O=I===1?n:n?.map((M,L)=>{var B=p&&p[L];if(B)return qn(qn({},M),{},{x:cr(B.x,M.x,I),y:cr(B.y,M.y,I),width:cr(B.width,M.width,I),height:cr(B.height,M.height,I)});if(i==="horizontal"){var D=cr(0,M.height,I);return qn(qn({},M),{},{y:M.y+M.height-D,height:D})}var N=cr(0,M.width,I);return qn(qn({},M),{},{width:N})});return I>0&&(r.current=O??null),O==null?null:C.createElement(Tn,null,C.createElement(Mce,{props:e,data:O}))}),C.createElement(KA,{label:e.label}),e.children)}function Lce(t){var e=C.useRef(null);return C.createElement(kce,{previousRectanglesRef:e,props:t})}var Tk=0,jce=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:qt(t,e)}};class Bce extends C.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:f}=this.props;if(e||r==null)return null;var h=vt("recharts-bar",i),p=f;return C.createElement(Tn,{className:h,id:f},l&&C.createElement("defs",null,C.createElement(Sk,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},C.createElement(Rce,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),C.createElement(Lce,this.props)))}}var Vce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Cl.isSsr,legendType:"rect",minPointSize:Tk,xAxisId:0,yAxisId:0};function Fce(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=sS(e,r),v=Xv(),m=ui(),_=yE(t.children,zf),w=Ce(I=>pfe(I,e,r,m,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,S=w?.[0];return S==null||S.height==null||S.width==null?E=0:E=v==="vertical"?S.height/2:S.width/2,C.createElement(Ak,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:jce,errorBarOffset:E},C.createElement(Bce,_l({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function Uce(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:v,cells:m,parentViewBox:_}=t,w=e==="horizontal"?l:o,E=h?w.scale.domain():null,S=JJ({numericAxis:w});return p.map((I,O)=>{var M,L,B,D,N,k;h?M=KJ(h[O],E):(M=qt(I,r),Array.isArray(M)||(M=[S,M]));var V=dce(n,Tk)(M[1],O);if(e==="horizontal"){var z,[H,U]=[l.scale(M[0]),l.scale(M[1])];L=z6({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:O}),B=(z=U??H)!==null&&z!==void 0?z:void 0,D=i.size;var he=H-U;if(N=Oi(he)?0:he,k={x:L,y:v.top,width:D,height:v.height},Math.abs(V)>0&&Math.abs(N)<Math.abs(V)){var be=ln(N||V)*(Math.abs(V)-Math.abs(N));B-=be,N+=be}}else{var[Y,se]=[o.scale(M[0]),o.scale(M[1])];if(L=Y,B=z6({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:O}),D=se-Y,N=i.size,k={x:v.left,y:B,width:v.width,height:N},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var me=ln(D||V)*(Math.abs(V)-Math.abs(D));D+=me}}if(L==null||B==null||D==null||N==null)return null;var Se=qn(qn({},I),{},{x:L,y:B,width:D,height:N,value:h?M:M[1],payload:I,background:k,tooltipPosition:{x:L+D/2,y:B+N/2},parentViewBox:_},m&&m[O]&&m[O].props);return Se}).filter(Boolean)}function zce(t){var e=Cn(t,Vce),r=ui();return C.createElement(rS,{id:e.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(xk,{legendPayload:Ice(e)}),C.createElement(tS,{fn:Oce,args:e}),C.createElement(bk,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ZJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Fce,_l({},e,{id:n}))))}var Ck=C.memo(zce);Ck.displayName="Bar";function iP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(r),!0).forEach(function(n){Hce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hce(t,e,r){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gce=(t,e)=>e,Kce=(t,e,r)=>r,Wce=(t,e,r,n)=>n,Xce=(t,e,r,n,i)=>i,S0=re([lm,Xce],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Yce=re([S0],t=>t?.maxBarSize),Qce=(t,e,r,n,i,a)=>a,aP=(t,e,r)=>{var n=r??t;if(!nr(n))return Ln(n,e,0)},Zce=re([ct,lm,Gce,Kce,Wce],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Jce=(t,e,r,n)=>{var i=ct(t);return i==="horizontal"?$b(t,"yAxis",r,n):$b(t,"xAxis",e,n)},efe=(t,e,r)=>{var n=ct(t);return n==="horizontal"?aR(t,"xAxis",e):aR(t,"yAxis",r)},tfe=(t,e,r)=>{var n={},i=t.filter(sm),a=t.filter(f=>f.stackId==null),o=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),l=Object.entries(o).map(f=>{var[h,p]=f,v=p.map(_=>_.dataKey),m=aP(e,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:m}}),c=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),p=aP(e,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...c]},rfe=re([Zce,Nie,efe],tfe),nfe=(t,e,r,n,i)=>{var a,o,l=S0(t,e,r,n,i);if(l!=null){var c=ct(t),f=H9(t),{maxBarSize:h}=l,p=nr(h)?f:h,v,m;return c==="horizontal"?(v=ml(t,"xAxis",e,n),m=vl(t,"xAxis",e,n)):(v=ml(t,"yAxis",r,n),m=vl(t,"yAxis",r,n)),(a=(o=Bh(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},Ik=(t,e,r,n)=>{var i=ct(t),a,o;return i==="horizontal"?(a=ml(t,"xAxis",e,n),o=vl(t,"xAxis",e,n)):(a=ml(t,"yAxis",r,n),o=vl(t,"yAxis",r,n)),Bh(a,o)};function ife(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=Ln(t,r,0,!0),l,c=[];if(Pi(n[0].barSize)){var f=!1,h=r/a,p=n.reduce((S,I)=>S+(I.barSize||0),0);p+=(a-1)*o,p>=r&&(p-=(a-1)*o,o=0),p>=r&&h>0&&(f=!0,h*=.9,p=a*h);var v=(r-p)/2>>0,m={offset:v-o,size:0};l=n.reduce((S,I)=>{var O,M={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:m.offset+m.size+o,size:f?h:(O=I.barSize)!==null&&O!==void 0?O:0}},L=[...S,M];return m=L[L.length-1].position,L},c)}else{var _=Ln(e,r,0,!0);r-2*_-(a-1)*o<=0&&(o=0);var w=(r-2*_-(a-1)*o)/a;w>1&&(w>>=0);var E=Pi(i)?Math.min(w,i):w;l=n.reduce((S,I,O)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_+(w+o)*O+(w-E)/2,size:E}}],c)}return l}}var afe=(t,e,r,n,i,a,o)=>{var l=nr(o)?e:o,c=ife(r,n,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(f=>R1(R1({},f),{},{position:R1(R1({},f.position),{},{offset:f.position.offset-i/2})}))),c},ofe=re([rfe,H9,Die,$9,nfe,Ik,Yce],afe),sfe=(t,e,r,n)=>ml(t,"xAxis",e,n),lfe=(t,e,r,n)=>ml(t,"yAxis",r,n),ufe=(t,e,r,n)=>vl(t,"xAxis",e,n),cfe=(t,e,r,n)=>vl(t,"yAxis",r,n),ffe=re([ofe,S0],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),dfe=(t,e)=>{var r=yA(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},hfe=re([Jce,S0],dfe),pfe=re([Xr,ME,sfe,lfe,ufe,cfe,ffe,ct,nm,Ik,hfe,S0,Qce],(t,e,r,n,i,a,o,l,c,f,h,p,v)=>{var{chartData:m,dataStartIndex:_,dataEndIndex:w}=c;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||f==null)){var{data:E}=p,S;if(E!=null&&E.length>0?S=E:S=m?.slice(_,w+1),S!=null)return Uce({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:S,offset:t,cells:v})}}),Ok=t=>{var{chartData:e}=t,r=sr(),n=ui();return C.useEffect(()=>n?()=>{}:(r(gR(e)),()=>{r(gR(void 0))}),[e,r,n]),null},oP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Rk=Di({name:"brush",initialState:oP,reducers:{setBrushSettings(t,e){return e.payload==null?oP:e.payload}}}),{setBrushSettings:F0e}=Rk.actions,gfe=Rk.reducer;function vfe(t,e,r){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mfe(t){var e=yfe(t,"string");return typeof e=="symbol"?e:e+""}function yfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lS{static create(e){return new lS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}vfe(lS,"EPS",1e-4);function xfe(t){return(t%180+180)%180}var _fe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xfe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},bfe={dots:[],areas:[],lines:[]},Pk=Di({name:"referenceElements",initialState:bfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=zo(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=zo(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=zo(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:U0e,removeDot:z0e,addArea:H0e,removeArea:$0e,addLine:q0e,removeLine:G0e}=Pk.actions,wfe=Pk.reducer,Efe=C.createContext(void 0),Afe=t=>{var{children:e}=t,[r]=C.useState("".concat(kh("recharts"),"-clip")),n=aS();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return C.createElement(Efe.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function mf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Dk(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Sfe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return _fe(n,r)}function Tfe(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Zg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Cfe(t,e){return Dk(t,e+1)}function Ife(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=e,c=0,f=1,h=o,p=function(){var _=n?.[c];if(_===void 0)return{v:Dk(n,f)};var w=c,E,S=()=>(E===void 0&&(E=r(_,w)),E),I=_.coordinate,O=c===0||Zg(t,I,S,h,l);O||(c=0,h=o,f+=1),O&&(h=I+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){Ofe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ofe(t,e,r){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dfe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=e,{end:c}=e,f=function(v){var m=a[v],_,w=()=>(_===void 0&&(_=r(m,v)),_);if(v===o-1){var E=t*(m.coordinate+t*w()/2-c);a[v]=m=Pn(Pn({},m),{},{tickCoord:E>0?m.coordinate-E*t:m.coordinate})}else a[v]=m=Pn(Pn({},m),{},{tickCoord:m.coordinate});var S=Zg(t,m.tickCoord,w,l,c);S&&(c=m.tickCoord-t*(w()/2+i),a[v]=Pn(Pn({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return a}function Nfe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:c,end:f}=e;if(a){var h=n[l-1],p=r(h,l-1),v=t*(h.coordinate+t*p/2-f);o[l-1]=h=Pn(Pn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var m=Zg(t,h.tickCoord,()=>p,c,f);m&&(f=h.tickCoord-t*(p/2+i),o[l-1]=Pn(Pn({},h),{},{isShow:!0}))}for(var _=a?l-1:l,w=function(I){var O=o[I],M,L=()=>(M===void 0&&(M=r(O,I)),M);if(I===0){var B=t*(O.coordinate-t*L()/2-c);o[I]=O=Pn(Pn({},O),{},{tickCoord:B<0?O.coordinate-B*t:O.coordinate})}else o[I]=O=Pn(Pn({},O),{},{tickCoord:O.coordinate});var D=Zg(t,O.tickCoord,L,c,f);D&&(c=O.tickCoord+t*(L()/2+i),o[I]=Pn(Pn({},O),{},{isShow:!0}))},E=0;E<_;E++)w(E);return o}function uS(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!n)return[];if(Re(c)||Cl.isSsr){var v;return(v=Cfe(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var m=[],_=l==="top"||l==="bottom"?"width":"height",w=h&&_==="width"?Sh(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=(O,M)=>{var L=typeof f=="function"?f(O.value,M):O.value;return _==="width"?Sfe(Sh(L,{fontSize:e,letterSpacing:r}),w,p):Sh(L,{fontSize:e,letterSpacing:r})[_]},S=i.length>=2?ln(i[1].coordinate-i[0].coordinate):1,I=Tfe(a,S,_);return c==="equidistantPreserveStart"?Ife(S,I,E,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Nfe(S,I,E,i,o,c==="preserveStartEnd"):m=Dfe(S,I,E,i,o),m.filter(O=>O.isShow))}var Mfe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,f=o+c+l+(r?n:0);return Math.round(f)}return 0},kfe=["axisLine","width","height","className","hide","ticks"],Lfe=["viewBox"],jfe=["viewBox"];function Zb(t,e){if(t==null)return{};var r,n,i=Bfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(null,arguments)}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){Vfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vfe(t,e,r){return(e=Ffe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ffe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function zfe(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var f=$r($r($r({},c),or(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=$r($r({},f),{},{x1:e,y1:r+h*i,x2:e+n,y2:r+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=$r($r({},f),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return C.createElement("line",Uu({},f,{className:vt("recharts-cartesian-axis-line",ju(l,"className"))}))}function Hfe(t,e,r,n,i,a,o,l,c){var f,h,p,v,m,_,w=l?-1:1,E=t.tickSize||o,S=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=r+ +!l*i,p=v-w*E,_=p-w*c,m=S;break;case"left":p=v=t.coordinate,h=e+ +!l*n,f=h-w*E,m=f-w*c,_=S;break;case"right":p=v=t.coordinate,h=e+ +l*n,f=h+w*E,m=f+w*c,_=S;break;default:f=h=t.coordinate,v=r+ +l*i,p=v+w*E,_=p+w*c,m=S;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:m,y:_}}}function $fe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function qfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gfe(t){var{option:e,tickProps:r,value:n}=t,i,a=vt(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,$r($r({},r),{},{className:a}));else if(typeof e=="function")i=e($r($r({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=vt(o,e?.className)),i=C.createElement(vm,Uu({},r,{className:o}),n)}return i}function Kfe(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:h,x:p,y:v,width:m,height:_,tickSize:w,tickMargin:E,fontSize:S,letterSpacing:I,getTicksConfig:O,events:M}=t,L=uS($r($r({},O),{},{ticks:e}),S,I),B=$fe(f,h),D=qfe(f,h),N=ho(O),k=or(r,!1),V=$r($r({},N),{},{fill:"none"},or(n,!1)),z=L.map((H,U)=>{var{line:he,tick:be}=Hfe(H,p,v,m,_,f,w,h,E),Y=$r($r($r($r({textAnchor:B,verticalAnchor:D},N),{},{stroke:"none",fill:i},k),be),{},{index:U,payload:H,visibleTicksCount:L.length,tickFormatter:a,padding:l},c);return C.createElement(Tn,Uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},l0(M,H,U)),n&&C.createElement("line",Uu({},V,he,{className:vt("recharts-cartesian-axis-tick-line",ju(n,"className"))})),r&&C.createElement(Gfe,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(H.value,U):H.value).concat(o||"")}))});return z.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var Wfe=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l}=t,c=Zb(t,kfe),[f,h]=C.useState(""),[p,v]=C.useState(""),m=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Mfe({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=C.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(E);var S=E[0];if(S){var I=window.getComputedStyle(S),O=I.fontSize,M=I.letterSpacing;(O!==f||M!==p)&&(h(O),v(M))}}},[f,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Tn,{className:vt("recharts-cartesian-axis",a),ref:_},C.createElement(zfe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:ho(t)}),C.createElement(Kfe,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),C.createElement(Jse,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(ule,{label:t.label}),t.children))}),Xfe=C.memo(Wfe,(t,e)=>{var{viewBox:r}=t,n=Zb(t,Lfe),{viewBox:i}=e,a=Zb(e,jfe);return mf(r,i)&&mf(n,a)}),fS=C.forwardRef((t,e)=>{var r=Cn(t,cS);return C.createElement(Xfe,Uu({},r,{ref:e}))});fS.displayName="CartesianAxis";var Yfe=["x1","y1","x2","y2","key"],Qfe=["offset"],Zfe=["xAxisId","yAxisId"],Jfe=["xAxisId","yAxisId"];function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ede(t,e,r){return(e=tde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(null,arguments)}function Jg(t,e){if(t==null)return{};var r,n,i=nde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ide=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=t;return C.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Nk(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:l}=e,c=Jg(e,Yfe),f=ho(c),{offset:h}=f,p=Jg(f,Qfe);r=C.createElement("line",_u({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function ade(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Jg(t,Zfe),c=i.map((f,h)=>{var p=Mn(Mn({},l),{},{x1:e,y1:f,x2:e+r,y2:f,key:"line-".concat(h),index:h});return Nk(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ode(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Jg(t,Jfe),c=i.map((f,h)=>{var p=Mn(Mn({},l),{},{x1:f,y1:e,x2:f,y2:e+r,key:"line-".concat(h),index:h});return Nk(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function sde(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:_,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lde(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],_=m?i+o-p:f[v+1]-p;if(_<=0)return null;var w=v%r.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:_,height:l,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ude=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return RM(uS(Mn(Mn(Mn({},cS),r),{},{ticks:PM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},cde=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return RM(uS(Mn(Mn(Mn({},cS),r),{},{ticks:PM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},fde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function dS(t){var e=LE(),r=jE(),n=kM(),i=Mn(Mn({},Cn(t,fde)),{},{x:Re(t.x)?t.x:n.left,y:Re(t.y)?t.y:n.top,width:Re(t.width)?t.width:n.width,height:Re(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,_=ui(),w=Ce(k=>oR(k,"xAxis",a,_)),E=Ce(k=>oR(k,"yAxis",o,_));if(!Re(f)||f<=0||!Re(h)||h<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||ude,I=i.horizontalCoordinatesGenerator||cde,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof I=="function"){var L=v&&v.length,B=I({yAxis:E?Mn(Mn({},E),{},{ticks:L?v:E.ticks}):void 0,width:e,height:r,offset:n},L?!0:p);Ah(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(O=B)}if((!M||!M.length)&&typeof S=="function"){var D=m&&m.length,N=S({xAxis:w?Mn(Mn({},w),{},{ticks:D?m:w.ticks}):void 0,width:e,height:r,offset:n},D?!0:p);Ah(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(M=N)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(ide,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(sde,_u({},i,{horizontalPoints:O})),C.createElement(lde,_u({},i,{verticalPoints:M})),C.createElement(ade,_u({},i,{offset:n,horizontalPoints:O,xAxis:w,yAxis:E})),C.createElement(ode,_u({},i,{offset:n,verticalPoints:M,xAxis:w,yAxis:E})))}dS.displayName="CartesianGrid";var Mk=(t,e,r,n)=>ml(t,"xAxis",e,n),kk=(t,e,r,n)=>vl(t,"xAxis",e,n),Lk=(t,e,r,n)=>ml(t,"yAxis",r,n),jk=(t,e,r,n)=>vl(t,"yAxis",r,n),dde=re([ct,Mk,Lk,kk,jk],(t,e,r,n,i)=>Tl(t,"xAxis")?Bh(e,n,!1):Bh(r,i,!1)),hde=(t,e,r,n,i)=>i;function pde(t){return t.type==="line"}var gde=re([lm,hde],(t,e)=>t.filter(pde).find(r=>r.id===e)),vde=re([ct,Mk,Lk,kk,jk,gde,dde,nm],(t,e,r,n,i,a,o,l)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=l;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=c?.slice(f,h+1),m!=null)return Bde({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),mde=["id"],yde=["type","layout","connectNulls","needClip"],xde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){_de(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _de(t,e,r){return(e=bde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bde(t){var e=wde(t,"string");return typeof e=="symbol"?e:e+""}function wde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hS(t,e){if(t==null)return{};var r,n,i=Ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ede(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(null,arguments)}var Ade=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:Df(r,e),payload:t}]};function Sde(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Df(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var Bk=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Tde(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Cde=(t,e,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return Bk(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,l=[],c=0,f=0;c<r.length;f+=r[c],++c)if(f+r[c]>a){l=[...r.slice(0,c),a-f];break}var h=l.length%2===0?[0,o]:[o];return[...Tde(r,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function Ide(t,e){var r;if(C.isValidElement(t))r=C.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=vt("recharts-line-dot",typeof t!="boolean"?t.className:"");r=C.createElement(dk,zu({},e,{className:n}))}return r}function Ode(t,e){return t==null?!1:e?!0:t.length===1}function Rde(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!Ode(r,i))return null;var{id:l}=n,c=hS(n,mde),f=AN(i),h=ho(c),p=or(i,!0),v=r.map((_,w)=>{var E=Ei(Ei(Ei({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:_.x,cy:_.y,dataKey:a,value:_.value,payload:_.payload,points:r});return Ide(i,E)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Tn,zu({className:"recharts-line-dots",key:"dots"},m),v)}function Pde(t){var{showLabels:e,children:r,points:n}=t,i=C.useMemo(()=>n?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Ei(Ei({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(ck,{value:e?i:null},r)}function fP(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:c,needClip:f}=a,h=hS(a,yde),p=Ei(Ei({},or(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(VE,zu({},p,{pathRef:r})),C.createElement(Rde,{points:n,clipPathId:e,props:a}))}function Dde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Nde(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:m,height:_,onAnimationEnd:w,onAnimationStart:E}=r,S=i.current,I=h0(r,"recharts-line-"),[O,M]=C.useState(!1),L=!O,B=C.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),D=C.useCallback(()=>{typeof E=="function"&&E(),M(!0)},[E]),N=Dde(n.current),k=a.current;return C.createElement(Pde,{points:o,showLabels:L},r.children,C.createElement(d0,{animationId:I,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:B,onAnimationStart:D,key:I},V=>{var z=cr(k,N+k,V),H=Math.min(z,N),U;if(c)if(l){var he="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));U=Cde(H,N,he)}else U=Bk(N,H);else U=l==null?void 0:String(l);if(S){var be=S.length/o.length,Y=V===1?o:o.map((se,me)=>{var Se=Math.floor(me*be);if(S[Se]){var Ge=S[Se];return Ei(Ei({},se),{},{x:cr(Ge.x,se.x,V),y:cr(Ge.y,se.y,V)})}return v?Ei(Ei({},se),{},{x:cr(m*2,se.x,V),y:cr(_/2,se.y,V)}):Ei(Ei({},se),{},{x:se.x,y:se.y})});return i.current=Y,C.createElement(fP,{props:r,points:Y,clipPathId:e,pathRef:n,strokeDasharray:U})}return V>0&&N>0&&(i.current=o,a.current=H),C.createElement(fP,{props:r,points:o,clipPathId:e,pathRef:n,strokeDasharray:U})}),C.createElement(KA,{label:r.label}))}function Mde(t){var{clipPathId:e,props:r}=t,n=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(Nde,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var kde=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:qt(t.payload,e)});class Lde extends C.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:h,height:p,id:v,needClip:m}=this.props;if(r)return null;var _=vt("recharts-line",a),w=v,{r:E=3,strokeWidth:S=2}=(e=or(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=AN(n),O=E*2+S;return C.createElement(C.Fragment,null,C.createElement(Tn,{className:_},m&&C.createElement("defs",null,C.createElement(Sk,{clipPathId:w,xAxisId:o,yAxisId:l}),!I&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:f-O/2,y:c-O/2,width:h+O,height:p+O}))),C.createElement(Ak,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:kde,errorBarOffset:0},C.createElement(Mde,{props:this.props,clipPathId:w}))),C.createElement(rce,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Vk={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Cl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jde(t){var e=Cn(t,Vk),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:m,yAxisId:_,id:w}=e,E=hS(e,xde),{needClip:S}=sS(m,_),I=aS(),O=Xv(),M=ui(),L=Ce(V=>vde(V,m,_,M,w));if(O!=="horizontal"&&O!=="vertical"||L==null||I==null)return null;var{height:B,width:D,x:N,y:k}=I;return C.createElement(Lde,zu({},E,{id:w,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:_,points:L,layout:O,height:B,width:D,left:N,top:k,needClip:S}))}function Bde(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((f,h)=>{var p=qt(f,o);if(e==="horizontal"){var v=U6({axis:r,ticks:i,bandSize:l,entry:f,index:h}),m=nr(p)?null:n.scale(p);return{x:v,y:m,value:p,payload:f}}var _=nr(p)?null:r.scale(p),w=U6({axis:n,ticks:a,bandSize:l,entry:f,index:h});return _==null||w==null?null:{x:_,y:w,value:p,payload:f}}).filter(Boolean)}function Vde(t){var e=Cn(t,Vk),r=ui();return C.createElement(rS,{id:e.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(xk,{legendPayload:Ade(e)}),C.createElement(tS,{fn:Sde,args:e}),C.createElement(bk,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(jde,zu({},e,{id:n}))))}var Fk=C.memo(Vde);Fk.displayName="Line";var Fde=["dangerouslySetInnerHTML","ticks"],Ude=["id"],zde=["domain"],Hde=["domain"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}function ev(t,e){if(t==null)return{};var r,n,i=$de(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $de(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qde(t){var e=sr();return C.useEffect(()=>(e(Hue(t)),()=>{e($ue(t))}),[t,e]),null}var Gde=t=>{var{xAxisId:e,className:r}=t,n=Ce(ME),i=ui(),a="xAxis",o=Ce(E=>Vf(E,a,e,i)),l=Ce(E=>T7(E,a,e,i)),c=Ce(E=>w7(E,e)),f=Ce(E=>Aae(E,e)),h=Ce(E=>J9(E,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=ev(t,Fde),{id:_}=h,w=ev(h,Ude);return C.createElement(fS,Jb({},m,w,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:vt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},Kde={allowDataOverflow:_i.allowDataOverflow,allowDecimals:_i.allowDecimals,allowDuplicatedCategory:_i.allowDuplicatedCategory,height:_i.height,hide:!1,mirror:_i.mirror,orientation:_i.orientation,padding:_i.padding,reversed:_i.reversed,scale:_i.scale,tickCount:_i.tickCount,type:_i.type,xAxisId:0},Wde=t=>{var e,r,n,i,a,o=Cn(t,Kde);return C.createElement(C.Fragment,null,C.createElement(qde,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(Gde,o))},Xde=(t,e)=>{var{domain:r}=t,n=ev(t,zde),{domain:i}=e,a=ev(e,Hde);return mf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:mf({domain:r},{domain:i}):!1},pS=C.memo(Wde,Xde);pS.displayName="XAxis";var Yde=["dangerouslySetInnerHTML","ticks"],Qde=["id"],Zde=["domain"],Jde=["domain"];function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(null,arguments)}function tv(t,e){if(t==null)return{};var r,n,i=ehe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ehe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function the(t){var e=sr();return C.useEffect(()=>(e(que(t)),()=>{e(Gue(t))}),[t,e]),null}var rhe=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=C.useRef(null),o=C.useRef(null),l=Ce(ME),c=ui(),f=sr(),h="yAxis",p=Ce(L=>Vf(L,h,e,c)),v=Ce(L=>E7(L,e)),m=Ce(L=>Tae(L,e)),_=Ce(L=>T7(L,h,e,c)),w=Ce(L=>e7(L,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!v||GA(i)||C.isValidElement(i)||w==null)){var L=a.current;if(L){var B=L.getCalculatedWidth();Math.round(v.width)!==Math.round(B)&&f(Kue({id:e,width:B}))}}},[_,v,f,i,e,n,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=t,I=tv(t,Yde),{id:O}=w,M=tv(w,Qde);return C.createElement(fS,ew({},I,M,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:vt("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:_}))},nhe={allowDataOverflow:bi.allowDataOverflow,allowDecimals:bi.allowDecimals,allowDuplicatedCategory:bi.allowDuplicatedCategory,hide:!1,mirror:bi.mirror,orientation:bi.orientation,padding:bi.padding,reversed:bi.reversed,scale:bi.scale,tickCount:bi.tickCount,type:bi.type,width:bi.width,yAxisId:0},ihe=t=>{var e,r,n,i,a,o=Cn(t,nhe);return C.createElement(C.Fragment,null,C.createElement(the,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(rhe,o))},ahe=(t,e)=>{var{domain:r}=t,n=tv(t,Zde),{domain:i}=e,a=tv(e,Jde);return mf(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:mf({domain:r},{domain:i}):!1},gS=C.memo(ihe,ahe);gS.displayName="YAxis";var x_={exports:{}},__={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP;function ohe(){if(dP)return __;dP=1;var t=yf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return __.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var m=i(null);if(m.current===null){var _={hasValue:!1,value:null};m.current=_}else _=m.current;m=o(function(){function E(L){if(!S){if(S=!0,I=L,L=p(L),v!==void 0&&_.hasValue){var B=_.value;if(v(B,L))return O=B}return O=L}if(B=O,r(I,L))return B;var D=p(L);return v!==void 0&&v(B,D)?(I=L,B):(I=L,O=D)}var S=!1,I,O,M=h===void 0?null:h;return[function(){return E(f())},M===null?void 0:function(){return E(M())}]},[f,h,p,v]);var w=n(c,m[0],m[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},__}var hP;function she(){return hP||(hP=1,x_.exports=ohe()),x_.exports}she();function lhe(t){t()}function uhe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lhe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pP={notify(){},get:()=>[]};function che(t,e){let r,n=pP,i=0,a=!1;function o(w){h();const E=n.subscribe(w);let S=!1;return()=>{S||(S=!0,E(),p())}}function l(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,r||(r=t.subscribe(c),n=uhe())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=pP)}function v(){a||(a=!0,h())}function m(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>n};return _}var fhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dhe=fhe(),hhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",phe=hhe(),ghe=()=>dhe||phe?C.useLayoutEffect:C.useEffect,vhe=ghe(),mhe=Symbol.for("react-redux-context"),yhe=typeof globalThis<"u"?globalThis:{};function xhe(){if(!C.createContext)return{};const t=yhe[mhe]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var _he=xhe();function bhe(t){const{children:e,context:r,serverState:n,store:i}=t,a=C.useMemo(()=>{const c=che(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=C.useMemo(()=>i.getState(),[i]);vhe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=r||_he;return C.createElement(l.Provider,{value:a},e)}var whe=bhe,Ehe=(t,e)=>e,vS=re([Ehe,ct,Y9,Qr,U7,ls,Poe,Xr],Loe),mS=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Uk=ia("mouseClick"),zk=c0();zk.startListening({actionCreator:Uk,effect:(t,e)=>{var r=t.payload,n=vS(e.getState(),mS(r));n?.activeIndex!=null&&e.dispatch(Vae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var tw=ia("mouseMove"),Hk=c0();Hk.startListening({actionCreator:tw,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=LA(n,n.tooltip.settings.shared),a=vS(n,mS(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(M7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(N7()))}});var gP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$k=Di({name:"rootProps",initialState:gP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:gP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Ahe=$k.reducer,{updateOptions:She}=$k.actions,qk=Di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:The}=qk.actions,Che=qk.reducer,Gk=ia("keyDown"),Kk=ia("focus"),yS=c0();yS.startListening({actionCreator:Gk,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(jA(i,Uf(r))),l=ls(r);if(a==="Enter"){var c=Kg(r,"axis","hover",String(i.index));e.dispatch(Gb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Rae(r),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*h;if(!(l==null||v>=l.length||v<0)){var m=Kg(r,"axis","hover",String(v));e.dispatch(Gb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});yS.startListening({actionCreator:Kk,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Kg(r,"axis","hover",String(a));e.dispatch(Gb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Xi=ia("externalEvent"),Wk=c0();Wk.startListening({actionCreator:Xi,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:boe(r),activeDataKey:q7(r),activeIndex:yl(r),activeLabel:$7(r),activeTooltipIndex:yl(r),isTooltipActive:woe(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Ihe=re([Ff],t=>t.tooltipItemPayloads),Ohe=re([Ihe,E0,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),Xk=ia("touchMove"),Yk=c0();Yk.startListening({actionCreator:Xk,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=LA(n,n.tooltip.settings.shared);if(i==="axis"){var a=vS(n,mS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(M7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(NM),h=(o=c.getAttribute(MM))!==null&&o!==void 0?o:void 0,p=Ohe(e.getState(),f,h);e.dispatch(D7({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var Rhe=aM({brush:gfe,cartesianAxis:Wue,chartData:Zoe,errorBars:pce,graphicalItems:hue,layout:PJ,legend:bee,options:Koe,polarAxis:Rle,polarOptions:Che,referenceElements:wfe,rootProps:Ahe,tooltip:Fae}),Phe=function(e){return rJ({reducer:Rhe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([zk.middleware,Hk.middleware,yS.middleware,Wk.middleware,Yk.middleware]),devTools:Cl.devToolsEnabled})};function Qk(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=ui(),a=C.useRef(null);if(i)return r;a.current==null&&(a.current=Phe(e));var o=IE;return C.createElement(whe,{context:o,store:a.current},r)}function Zk(t){var{layout:e,width:r,height:n,margin:i}=t,a=sr(),o=ui();return C.useEffect(()=>{o||(a(IJ(e)),a(OJ({width:r,height:n})),a(CJ(i)))},[a,o,e,r,n,i]),null}function Jk(t){var e=sr();return C.useEffect(()=>{e(She(t))},[e,t]),null}var Dhe=["children"];function Nhe(t,e){if(t==null)return{};var r,n,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(null,arguments)}var khe={width:"100%",height:"100%"},Lhe=C.forwardRef((t,e)=>{var r=LE(),n=jE(),i=VM();if(!df(r)||!df(n))return null;var{children:a,otherAttributes:o,title:l,desc:c}=t,f,h;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,C.createElement(xE,rv({},o,{title:l,desc:c,role:h,tabIndex:f,width:r,height:n,style:khe,ref:e}),a)}),jhe=t=>{var{children:e}=t,r=Ce(Wv);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return C.createElement(xE,{width:n,height:i,x:o,y:a},e)},vP=C.forwardRef((t,e)=>{var{children:r}=t,n=Nhe(t,Dhe),i=ui();return i?C.createElement(jhe,null,r):C.createElement(Lhe,rv({ref:e},n),r)});function Bhe(){var t=sr(),[e,r]=C.useState(null),n=Ce(oee);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Pi(a)&&a!==n&&t(RJ(a))}},[e,t,n]),r}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Fhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fhe(t,e,r){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hhe=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:_,onTouchStart:w,style:E,width:S}=t,I=sr(),[O,M]=C.useState(null),[L,B]=C.useState(null);sse();var D=Bhe(),N=C.useCallback(ee=>{D(ee),typeof e=="function"&&e(ee),M(ee),B(ee)},[D,e,M,B]),k=C.useCallback(ee=>{I(Uk(ee)),I(Xi({handler:a,reactEvent:ee}))},[I,a]),V=C.useCallback(ee=>{I(tw(ee)),I(Xi({handler:f,reactEvent:ee}))},[I,f]),z=C.useCallback(ee=>{I(N7()),I(Xi({handler:h,reactEvent:ee}))},[I,h]),H=C.useCallback(ee=>{I(tw(ee)),I(Xi({handler:p,reactEvent:ee}))},[I,p]),U=C.useCallback(()=>{I(Kk())},[I]),he=C.useCallback(ee=>{I(Gk(ee.key))},[I]),be=C.useCallback(ee=>{I(Xi({handler:o,reactEvent:ee}))},[I,o]),Y=C.useCallback(ee=>{I(Xi({handler:l,reactEvent:ee}))},[I,l]),se=C.useCallback(ee=>{I(Xi({handler:c,reactEvent:ee}))},[I,c]),me=C.useCallback(ee=>{I(Xi({handler:v,reactEvent:ee}))},[I,v]),Se=C.useCallback(ee=>{I(Xi({handler:w,reactEvent:ee}))},[I,w]),Ge=C.useCallback(ee=>{I(Xk(ee)),I(Xi({handler:_,reactEvent:ee}))},[I,_]),G=C.useCallback(ee=>{I(Xi({handler:m,reactEvent:ee}))},[I,m]);return C.createElement(Q7.Provider,{value:O},C.createElement(TN.Provider,{value:L},C.createElement("div",{className:vt("recharts-wrapper",n),style:Vhe({position:"relative",cursor:"default",width:S,height:i},E),onClick:k,onContextMenu:be,onDoubleClick:Y,onFocus:U,onKeyDown:he,onMouseDown:se,onMouseEnter:V,onMouseLeave:z,onMouseMove:H,onMouseUp:me,onTouchEnd:G,onTouchMove:Ge,onTouchStart:Se,ref:N},r)))}),$he=["children","className","width","height","style","compact","title","desc"];function qhe(t,e){if(t==null)return{};var r,n,i=Ghe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ghe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var eL=C.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:l,title:c,desc:f}=t,h=qhe(t,$he),p=ho(h);return l?C.createElement(vP,{otherAttributes:p,title:c,desc:f},r):C.createElement(Hhe,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(vP,{otherAttributes:p,title:c,desc:f,ref:e},C.createElement(Afe,null,r)))}),Khe=["width","height"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(null,arguments)}function Whe(t,e){if(t==null)return{};var r,n,i=Xhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Yhe={top:5,right:5,bottom:5,left:5},Qhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yhe,reverseStackOrder:!1,syncMethod:"index"},tL=C.forwardRef(function(e,r){var n,i=Cn(e.categoricalChartProps,Qhe),{width:a,height:o}=i,l=Whe(i,Khe);if(!df(a)||!df(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(Qk,{preloadedState:{options:m},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:c},C.createElement(Ok,{chartData:v.data}),C.createElement(Zk,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement(Jk,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(eL,rw({},l,{width:a,height:o,ref:r})))}),Zhe=["axis"],Jhe=C.forwardRef((t,e)=>C.createElement(tL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zhe,tooltipPayloadSearcher:qA,categoricalChartProps:t,ref:e})),e0e=["axis","item"],t0e=C.forwardRef((t,e)=>C.createElement(tL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:e0e,tooltipPayloadSearcher:qA,categoricalChartProps:t,ref:e}));function r0e(t){var e=sr();return C.useEffect(()=>{e(The(t))},[e,t]),null}var n0e=["width","height","layout"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(null,arguments)}function i0e(t,e){if(t==null)return{};var r,n,i=a0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function a0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var o0e={top:5,right:5,bottom:5,left:5},s0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:o0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},l0e=C.forwardRef(function(e,r){var n,i=Cn(e.categoricalChartProps,s0e),{width:a,height:o,layout:l}=i,c=i0e(i,n0e);if(!df(a)||!df(o))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(Qk,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},C.createElement(Ok,{chartData:i.data}),C.createElement(Zk,{width:a,height:o,layout:l,margin:i.margin}),C.createElement(Jk,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(r0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(eL,nw({width:a,height:o},c,{ref:r})))}),u0e=["item"],c0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rL=C.forwardRef((t,e)=>{var r=Cn(t,c0e);return C.createElement(l0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:u0e,tooltipPayloadSearcher:qA,categoricalChartProps:r,ref:e})});const f0e=()=>{const{intakes:t}=ts(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(h=>h.date.startsWith(l)).reduce((h,p)=>h+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),r=e.some(n=>n.calories>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"📈 週間カロリー推移"}),r?A.jsx(gm,{width:"100%",height:250,children:A.jsxs(Jhe,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(dS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(pS,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(gS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(pm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),A.jsx(Fk,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},d0e=()=>{const{expenses:t}=rs(),e=C.useMemo(()=>{const n=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(n.getFullYear(),n.getMonth()-a,1),l=o.getFullYear(),c=o.getMonth()+1,h=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}月`,amount:h})}return i},[t]),r=e.some(n=>n.amount>0);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"💰 月間支出推移"}),r?A.jsx(gm,{width:"100%",height:250,children:A.jsxs(t0e,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[A.jsx(dS,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),A.jsx(pS,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(gS,{tick:{fontSize:12},stroke:"#9ca3af"}),A.jsx(pm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:n=>`¥${n.toLocaleString()}`}),A.jsx(Ck,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},h0e=()=>{const{intakes:t}=ts(),e=C.useMemo(()=>{const r=new Map;return t.forEach(i=>{const a=r.get(i.name)||0;r.set(i.name,a+1)}),Array.from(r.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):A.jsx("div",{style:{marginTop:"16px"},children:e.map(r=>A.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:r.rank<e.length?"1px solid var(--border)":"none"},children:[A.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:r.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":r.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":r.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:r.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:r.rank}),A.jsxs("div",{style:{flex:1,minWidth:0},children:[A.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.name}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",r.count,"回"]})]})]},r.rank))})]})},P1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],p0e=()=>{const{intakes:t}=ts(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",c=i.get(l)||0;i.set(l,c+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),r=e.reduce((i,a)=>i+a.value,0),n=r>0;return A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🏭 メーカー別支出分析"}),n?A.jsxs(A.Fragment,{children:[A.jsx(gm,{width:"100%",height:250,children:A.jsxs(rL,{children:[A.jsx(iS,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>A.jsx(zf,{fill:P1[a%P1.length]},`cell-${a}`))}),A.jsx(pm,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),A.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:P1[a%P1.length],flexShrink:0}}),A.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),A.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),A.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("span",{style:{fontWeight:600},children:"合計"}),A.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",r.toLocaleString()]})]})]}):A.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[A.jsx("p",{children:"データがありません"}),A.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},g0e=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"📊 レポート"}),A.jsx(f0e,{}),A.jsx(d0e,{}),A.jsx(h0e,{}),A.jsx(p0e,{})]}),nL=({selectedYear:t,selectedMonth:e,selectedDate:r,onSelectDate:n,onMonthChange:i,mode:a="month"})=>{const[o,l]=C.useState(t),[c,f]=C.useState(e),h=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let M=c-1,L=o;M<1&&(M=12,L-=1),f(M),l(L),i&&i(L,M)},m=()=>{let M=c+1,L=o;M>12&&(M=1,L+=1),f(M),l(L),i&&i(L,M)},_=M=>{if(a==="date"&&n){const L=new Date(o,c-1,M);n(L)}},w=()=>{a==="month"&&i&&i(o,c)},E=M=>{const L=new Date;return L.getFullYear()===o&&L.getMonth()+1===c&&L.getDate()===M},S=M=>r?r.getFullYear()===o&&r.getMonth()+1===c&&r.getDate()===M:!1,I=[];for(let M=0;M<p;M++)I.push(null);for(let M=1;M<=h;M++)I.push(M);const O=["日","月","火","水","木","金","土"];return A.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx(TB,{size:24})}),A.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o,"年 ",c,"月"]}),A.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:A.jsx(CB,{size:24})})]}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:O.map((M,L)=>A.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:L===0?"#ef4444":L===6?"#3b82f6":"var(--text-secondary)"},children:M},L))}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:I.map((M,L)=>{if(M===null)return A.jsx("div",{},`empty-${L}`);const B=E(M),D=S(M),N=L%7;return A.jsx("button",{onClick:()=>_(M),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:B?"2px solid var(--primary)":"none",borderRadius:"8px",background:D?"var(--primary)":B?"var(--background)":"transparent",color:D?"white":N===0?"#ef4444":N===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:D||B?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:k=>{a==="date"&&!D&&(k.currentTarget.style.background="var(--background)")},onMouseLeave:k=>{a==="date"&&!D&&(k.currentTarget.style.background="transparent")},children:M},M)})}),a==="date"&&A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:r?`選択: ${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`:"日付を選択してください"})]})},v0e=({isOpen:t,selectedDate:e,onClose:r,onConfirm:n})=>{const[i,a]=kn.useState(e);if(kn.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{n(i),r()};return A.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:"日付を選択"}),A.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(lv,{size:24})})]}),A.jsx(nL,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[A.jsx("button",{onClick:r,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),A.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[A.jsx(SB,{size:20}),"決定"]})]})]})})},m0e=()=>{const{addExpense:t}=rs(),[e,r]=C.useState("food"),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(new Date),[p,v]=C.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],_=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!n.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?n.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("支出を記録しました！")},w=E=>`${E.getFullYear()}年${E.getMonth()+1}月${E.getDate()}日`;return A.jsxs("div",{className:"card",children:[A.jsx("label",{children:"日付"}),A.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsx("span",{children:w(f)}),A.jsx(ov,{size:20,color:"var(--primary)"})]}),A.jsx("label",{children:"カテゴリ"}),A.jsx("select",{value:e,onChange:E=>r(E.target.value),children:m.map(E=>A.jsx("option",{value:E.value,children:E.label},E.value))}),e==="other"&&A.jsxs(A.Fragment,{children:[A.jsx("label",{children:"カスタムカテゴリ名"}),A.jsx("input",{value:n,onChange:E=>i(E.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),A.jsx("label",{children:"金額(円)"}),A.jsx("input",{type:"number",value:a,onChange:E=>o(E.target.value),placeholder:"1000",min:"0"}),A.jsx("label",{children:"メモ（任意）"}),A.jsx("input",{value:l,onChange:E=>c(E.target.value),placeholder:"例: 昼食"}),A.jsxs("button",{className:"submit",onClick:_,children:[A.jsx(IP,{size:20}),"記録する"]}),A.jsx(v0e,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:h})]})},xS=({isOpen:t,selectedYear:e,selectedMonth:r,onClose:n,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),n()};return A.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:A.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[A.jsx("h3",{style:{margin:0},children:"月を選択"}),A.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:A.jsx(lv,{size:24})})]}),A.jsx(nL,{selectedYear:e,selectedMonth:r,onMonthChange:a,mode:"month"}),A.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},y0e=()=>{const{getTotalByMonth:t}=rs(),{settings:e}=vg(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e.monthlyBudget??3e4,f=t(r,i),h=f/c*100,p=c-f,v=E=>new Intl.NumberFormat("ja-JP").format(E),_=h>=100?{color:"#ef4444",icon:A.jsx(TP,{size:24}),message:"予算超過"}:h>=80?{color:"#f59e0b",icon:A.jsx(pB,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:A.jsx(iw,{size:24}),message:"順調"},w=(E,S)=>{n(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[r,"年 ",i,"月"]}),A.jsx(ov,{size:20,color:"var(--primary)"})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[A.jsx("div",{style:{color:_.color},children:_.icon}),A.jsxs("div",{style:{flex:1},children:[A.jsx("div",{style:{fontWeight:"bold",color:_.color},children:_.message}),A.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),A.jsx("div",{style:{textAlign:"right"},children:A.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:_.color},children:[h.toFixed(1),"%"]})})]}),A.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[A.jsx("div",{style:{background:`linear-gradient(90deg, ${_.color}, ${_.color}dd)`,height:"100%",width:`${Math.min(h,100)}%`,transition:"width 0.3s ease"}}),A.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:h>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(c)]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),A.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[A.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),A.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(c)]})]})]}),A.jsx(xS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},Gs=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],yP=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],iL=t=>{if(!t)return Gs[5];let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e),e=e&e;const r=Math.abs(e)%yP.length;return yP[r]},aL=t=>({food:Gs[0],transport:Gs[1],utilities:Gs[2],entertainment:Gs[3],health:Gs[4],other:Gs[5]})[t]||Gs[5],x0e=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=rs(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(r,i),h=C.useMemo(()=>{const _=new Map;return c.forEach(w=>{const E=t(w.value,r,i);E>0&&_.set(w.value,{name:w.label,value:E,color:aL(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const E=`custom_${w.customCategory}`,S=_.get(E);S?S.value+=w.amount:_.set(E,{name:w.customCategory,value:w.amount,color:iL(w.customCategory)})}}),Array.from(_.values())},[r,i,f,t]),p=h.reduce((_,w)=>_+w.value,0),v=_=>new Intl.NumberFormat("ja-JP").format(_),m=(_,w)=>{n(_),a(w)};return A.jsxs("div",{className:"card",children:[A.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[A.jsxs("span",{children:[r,"年 ",i,"月"]}),A.jsx(ov,{size:20,color:"var(--primary)"})]}),f.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[A.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),A.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),h.length>0&&A.jsxs(A.Fragment,{children:[A.jsx(gm,{width:"100%",height:250,children:A.jsxs(rL,{children:[A.jsx(iS,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: ¥${v(_.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((_,w)=>A.jsx(zf,{fill:_.color},`cell-${w}`))}),A.jsx(pm,{formatter:_=>`¥${v(_)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),A.jsx(Yv,{})]})}),A.jsx("div",{style:{marginTop:"20px"},children:h.map((_,w)=>{const E=(_.value/p*100).toFixed(1);return A.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<h.length-1?"1px solid var(--border)":"none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:_.color}}),A.jsx("span",{children:_.name})]}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(_.value)]}),A.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[E,"%"]})]})]},w)})})]})]}),A.jsx(xS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},_0e=()=>{const{deleteExpense:t,getExpensesByMonth:e}=rs(),[r,n]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e(r,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},h=E=>E.category==="other"&&E.customCategory?E.customCategory:f[E.category],p=E=>E.category==="other"&&E.customCategory?iL(E.customCategory):aL(E.category),v=E=>{window.confirm("この支出を削除しますか？")&&t(E)},m=E=>{const S=new Date(E);return`${S.getMonth()+1}/${S.getDate()}`},_=E=>new Intl.NumberFormat("ja-JP").format(E),w=(E,S)=>{n(E),a(S)};return A.jsxs("div",{className:"card",children:[A.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[A.jsxs("span",{children:[r,"年 ",i,"月"]}),A.jsx(ov,{size:20,color:"var(--primary)"})]}),c.length===0?A.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):A.jsx("div",{className:"list",children:c.sort((E,S)=>new Date(S.date).getTime()-new Date(E.date).getTime()).map(E=>A.jsxs("div",{className:"list-item",children:[A.jsxs("div",{style:{flex:1},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[A.jsx("span",{style:{background:p(E),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:h(E)}),A.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(E.date)})]}),E.memo&&A.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:E.memo})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[A.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",_(E.amount)]}),A.jsx("button",{className:"delete",onClick:()=>v(E.id),style:{padding:"8px"},children:A.jsx(Gh,{size:20})})]})]},E.id))}),A.jsx(xS,{isOpen:o,selectedYear:r,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},b0e=()=>A.jsxs("section",{className:"screen active",children:[A.jsx("h2",{children:"家計簿"}),A.jsx(y0e,{}),A.jsx(m0e,{}),A.jsx(x0e,{}),A.jsx("h3",{children:"支出履歴"}),A.jsx(_0e,{})]}),w0e=()=>{const[t,e]=C.useState("home"),r=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿"})[i],n=()=>{switch(t){case"home":return A.jsx(NI,{onNavigate:e});case"meals":return A.jsx(oG,{});case"barcode":return A.jsx(IY,{onNavigateToStock:()=>e("stock")});case"report":return A.jsx(g0e,{});case"settings":return A.jsx(fG,{});case"stock":return A.jsx(gG,{});case"shopping":return A.jsx(EG,{});case"recipe":return A.jsx(PG,{});case"expense":return A.jsx(b0e,{});default:return A.jsx(NI,{onNavigate:e})}};return A.jsxs(A.Fragment,{children:[A.jsx(Wj,{title:r(t)}),A.jsx("main",{children:n()}),A.jsx(RB,{currentScreen:t,onNavigate:e})]})};function E0e(t){return Le({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const xP=()=>Math.floor(1e5+Math.random()*9e5).toString(),_P=async(t,e)=>{const r=si(br(gt,"verificationCodes"),t),n=new Date;n.setMinutes(n.getMinutes()+10),await DH(r,{code:e,email:t,expiresAt:n.toISOString(),createdAt:new Date().toISOString()})},A0e=async(t,e)=>{try{const r=si(br(gt,"verificationCodes"),t),n=await PH(r);if(!n.exists())return{valid:!1,error:"確認コードが見つかりません。再送信してください。"};const i=n.data();return new Date(i.expiresAt)<new Date?(await Mu(r),{valid:!1,error:"確認コードの有効期限が切れています。再送信してください。"}):i.code!==e?{valid:!1,error:"確認コードが正しくありません。"}:(await Mu(r),{valid:!0})}catch(r){return console.error("Code verification error:",r),{valid:!1,error:"確認に失敗しました。もう一度お試しください。"}}},bP=async(t,e)=>{console.log(`
====================================
🥗💰 健康家計アプリ - メール確認コード
====================================

こんにちは！

健康家計アプリへのご登録ありがとうございます。

以下の確認コードを入力して、メールアドレスの確認を完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━
健康家計アプリについて
━━━━━━━━━━━━━━━━━━━━━━━━

AIが健康をサポートする生活管理アプリです。

主な機能：
✓ 食事記録とカロリー管理
✓ AIレシピ生成
✓ 家計簿機能
✓ 在庫管理
✓ バーコードスキャン
✓ レシートOCR（自動読み取り）

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
  `),alert(`【開発モード】確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`)},S0e=({onComplete:t,onBack:e})=>{const[r,n]=C.useState("email"),[i,a]=C.useState(""),[o,l]=C.useState(""),[c,f]=C.useState(""),[h,p]=C.useState(""),[v,m]=C.useState(""),[_,w]=C.useState(!1),[E,S]=C.useState(!1),[I,O]=C.useState(""),M=async k=>{k.preventDefault(),O(""),S(!0);try{const V=xP();await _P(i,V),await bP(i,V),n("code")}catch(V){O(V.message||"確認コードの送信に失敗しました")}finally{S(!1)}},L=async k=>{k.preventDefault(),O(""),S(!0);try{const V=await A0e(i,o);if(!V.valid){O(V.error||"確認コードが正しくありません"),S(!1);return}n("profile")}catch(V){O(V.message||"確認に失敗しました")}finally{S(!1)}},B=async k=>{if(k.preventDefault(),O(""),h!==v){O("パスワードが一致しません");return}if(h.length<6){O("パスワードは6文字以上で入力してください");return}n("2fa")},D=async()=>{S(!0),O("");try{const V=(await N$(Dt,i,h)).user;await L$(V,{displayName:c}),_&&console.log("二段階認証を有効化（今後実装予定）"),t()}catch(k){O(k.message||"アカウント作成に失敗しました")}finally{S(!1)}},N=async()=>{S(!0),O("");try{const k=xP();await _P(i,k),await bP(i,k),alert("確認コードを再送信しました！")}catch{O("再送信に失敗しました")}finally{S(!1)}};return A.jsxs("div",{className:"register-flow",children:[A.jsxs("div",{className:"progress-bar",children:[A.jsx("div",{className:`progress-step ${r==="email"?"active":["code","profile","2fa"].includes(r)?"completed":""}`,children:"1"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="code"?"active":["profile","2fa"].includes(r)?"completed":""}`,children:"2"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="profile"?"active":r==="2fa"?"completed":""}`,children:"3"}),A.jsx("div",{className:"progress-line"}),A.jsx("div",{className:`progress-step ${r==="2fa"?"active":""}`,children:"4"})]}),r==="email"&&A.jsxs("form",{onSubmit:M,className:"step-form",children:[A.jsxs("button",{type:"button",onClick:e,className:"back-button-small",children:[A.jsx(AB,{})," 戻る"]}),A.jsxs("h2",{children:[A.jsx(CP,{})," メールアドレスを入力"]}),A.jsx("p",{className:"step-description",children:"確認コードを送信します"}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"email",value:i,onChange:k=>a(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",disabled:E,children:E?"送信中...":"確認コードを送信"})]}),r==="code"&&A.jsxs("form",{onSubmit:L,className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(gB,{})," 確認コードを入力"]}),A.jsxs("p",{className:"step-description",children:[A.jsx("strong",{children:i})," 宛に送信された6桁のコードを入力してください"]}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",disabled:E||o.length!==6,children:E?"確認中...":"確認"}),A.jsx("button",{type:"button",onClick:N,className:"link-button",disabled:E,children:"コードを再送信"})]}),r==="profile"&&A.jsxs("form",{onSubmit:B,className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(Z3,{})," プロフィール設定"]}),A.jsx("p",{className:"step-description",children:"ユーザー名とパスワードを設定してください"}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(Z3,{})," ユーザー名"]}),A.jsx("input",{type:"text",value:c,onChange:k=>f(k.target.value),placeholder:"山田太郎",required:!0,autoFocus:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(b_,{})," パスワード"]}),A.jsx("input",{type:"password",value:h,onChange:k=>p(k.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(b_,{})," パスワード（確認）"]}),A.jsx("input",{type:"password",value:v,onChange:k=>m(k.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{type:"submit",className:"submit-button",children:"次へ"})]}),r==="2fa"&&A.jsxs("div",{className:"step-form",children:[A.jsxs("h2",{children:[A.jsx(bB,{})," 二段階認証"]}),A.jsx("p",{className:"step-description",children:"セキュリティを強化するため、二段階認証を設定できます"}),A.jsxs("div",{className:"option-card",children:[A.jsxs("div",{className:"option-info",children:[A.jsx("h3",{children:"二段階認証とは？"}),A.jsx("p",{children:"ログイン時にパスワードに加えて、メールで送られる確認コードの入力が必要になります。 不正アクセスを防ぎ、アカウントをより安全に保護できます。"})]}),A.jsxs("label",{className:"toggle-option",children:[A.jsx("input",{type:"checkbox",checked:_,onChange:k=>w(k.target.checked)}),A.jsx("span",{className:"toggle-slider"}),A.jsx("span",{className:"toggle-label",children:_?"二段階認証を有効にする":"二段階認証を無効にする"})]}),A.jsx("p",{className:"small-text",children:"※ 後から設定画面で変更できます"})]}),I&&A.jsx("div",{className:"error-message",children:I}),A.jsx("button",{onClick:D,className:"submit-button",disabled:E,children:E?"アカウント作成中...":"登録完了"})]}),A.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: none;
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .option-card {
          background: var(--background);
          padding: 24px;
          border-radius: 12px;
          border: 2px solid var(--border);
        }

        .option-info h3 {
          color: var(--text);
          font-size: 18px;
          margin: 0 0 12px 0;
        }

        .option-info p {
          color: var(--text-secondary);
          line-height: 1.6;
          margin: 0 0 20px 0;
        }

        .toggle-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
          padding: 12px 0;
        }

        .toggle-option input {
          display: none;
        }

        .toggle-slider {
          width: 50px;
          height: 26px;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          transition: all 0.3s;
        }

        .toggle-slider::after {
          content: '';
          position: absolute;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: white;
          top: 3px;
          left: 3px;
          transition: all 0.3s;
        }

        .toggle-option input:checked + .toggle-slider {
          background: var(--primary);
        }

        .toggle-option input:checked + .toggle-slider::after {
          left: 27px;
        }

        .toggle-label {
          color: var(--text);
          font-weight: 500;
        }

        .small-text {
          color: var(--text-secondary);
          font-size: 12px;
          margin: 12px 0 0 0;
        }
      `})]})},T0e=({onLoginSuccess:t})=>{const[e,r]=C.useState(!1),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(!1),p=async m=>{m.preventDefault(),c(""),h(!0);try{const _=await sG(n,a);_.error?c(_.error):t()}catch(_){c(_.message||"認証エラーが発生しました")}finally{h(!1)}},v=async()=>{c(""),h(!0);try{const m=await lG();m.error?c(m.error):t()}catch(m){c(m.message||"認証エラーが発生しました")}finally{h(!1)}};return e?A.jsxs("div",{className:"login-screen",children:[A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:"🥗💰 健康家計アプリ"}),A.jsx("p",{children:"新規登録"})]}),A.jsx(S0e,{onComplete:t,onBack:()=>r(!1)})]}),A.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):A.jsxs("div",{className:"login-screen",children:[A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:"🥗💰 健康家計アプリ"}),A.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),A.jsxs("form",{onSubmit:p,className:"login-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(CP,{})," メールアドレス"]}),A.jsx("input",{type:"email",value:n,onChange:m=>i(m.target.value),placeholder:"email@example.com",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx(b_,{})," パスワード"]}),A.jsx("input",{type:"password",value:a,onChange:m=>o(m.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),l&&A.jsx("div",{className:"error-message",children:l}),A.jsx("button",{type:"submit",className:"login-button",disabled:f,children:f?"処理中...":A.jsxs(A.Fragment,{children:[A.jsx(fB,{})," ログイン"]})}),A.jsx("button",{type:"button",onClick:()=>r(!0),className:"register-link-button",children:"アカウントをお持ちでない方はこちら"})]}),A.jsx("div",{className:"divider",children:A.jsx("span",{children:"または"})}),A.jsxs("button",{onClick:v,className:"google-login-button",disabled:f,children:[A.jsx(E0e,{})," Googleでログイン"]}),A.jsx("div",{className:"login-footer",children:A.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",A.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),A.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function C0e(){const{settings:t}=vg(),{user:e,loading:r}=eN(),[n,i]=C.useState(!1),a=ts(),o=rs(),l=fo(),c=qu(),f=a0(),h=vg();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),c.syncWithFirestore(),f.syncWithFirestore(),h.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(v){console.error("Failed to sync stores with Firestore:",v)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),r||n?A.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:A.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:r?"ロード中...":"データを同期中..."})}):e?A.jsx(w0e,{}):A.jsx(T0e,{onLoginSuccess:()=>{}})}Kj.createRoot(document.getElementById("root")).render(A.jsx(kn.StrictMode,{children:A.jsx(C0e,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
