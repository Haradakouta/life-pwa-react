# D100 基本設計書

## 1. システム概要
本システム「けんすけ」は、健康管理と家計管理を統合したPWA（Progressive Web App）である。
ユーザーは日々の体重、食事、支出を記録し、AIによるアドバイスやゲーミフィケーション要素を通じて、継続的な生活改善を目指す。

## 2. システム構成図
### 2.1 全体構成
```mermaid
graph TD
    User[ユーザー (PC/Mobile)] -->|HTTPS| Hosting[Firebase Hosting]
    User -->|HTTPS| Auth[Firebase Authentication]
    User -->|HTTPS| Firestore[Cloud Firestore]
    User -->|HTTPS| Storage[Cloud Storage]
    User -->|HTTPS| Functions[Cloud Functions]
    
    Functions -->|API Call| Gemini[Google Gemini API]
    Functions -->|API Call| OCR[CLOVA OCR API]
    Functions -->|API Call| Barcode[Barcode API]
```

## 3. ハードウェア・ソフトウェア構成
### 3.1 クライアントサイド
- **デバイス**: スマートフォン（iOS/Android）、PC、タブレット
- **ブラウザ**: Chrome, Safari, Edge, Firefox (最新版推奨)
- **OS**: Windows, macOS, iOS, Android

### 3.2 サーバーサイド (Firebase)
- **Hosting**: 静的コンテンツの配信
- **Authentication**: ユーザー認証（Email, Google）
- **Firestore**: NoSQLデータベース
- **Cloud Functions**: サーバーレスバックエンド処理（OCR, AI連携, 定期実行）
- **Cloud Storage**: 画像データの保存

## 4. ネットワーク構成
- 全ての通信はHTTPSにより暗号化される。
- Firestoreのセキュリティルールにより、ユーザーごとのデータアクセス制御を行う。

## 5. 開発環境
- **言語**: TypeScript
- **フレームワーク**: React, Vite
- **状態管理**: Zustand
- **UIライブラリ**: CSS Modules (Vanilla CSS)
- **バージョン管理**: Git (GitHub)
