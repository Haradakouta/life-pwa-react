function hU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wx={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function pU(){if(D4)return rh;D4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return rh.Fragment=e,rh.jsx=n,rh.jsxs=n,rh}var M4;function gU(){return M4||(M4=1,Wx.exports=pU()),Wx.exports}var _=gU(),Kx={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function vU(){if(k4)return ze;k4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function S(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}S.prototype.isReactComponent={},S.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function I(){}I.prototype=S.prototype;function O(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||b}var N=O.prototype=new I;N.constructor=O,w(N,S.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function B(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function j(G,ee,ye){var be=ye.ref;return{$$typeof:t,type:G,key:ee,ref:be!==void 0?be:null,props:ye}}function z(G,ee){return j(G.type,ee,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var F=/\/+/g;function pe(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):ee.toString(36)}function _e(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function X(G,ee,ye,be,Oe){var $e=typeof G;($e==="undefined"||$e==="boolean")&&(G=null);var rt=!1;if(G===null)rt=!0;else switch($e){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(G.$$typeof){case t:case e:rt=!0;break;case h:return rt=G._init,X(rt(G._payload),ee,ye,be,Oe)}}if(rt)return Oe=Oe(G),rt=be===""?"."+pe(G,0):be,k(Oe)?(ye="",rt!=null&&(ye=rt.replace(F,"$&/")+"/"),X(Oe,ee,ye,"",function(Ve){return Ve})):Oe!=null&&(U(Oe)&&(Oe=z(Oe,ye+(Oe.key==null||G&&G.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+rt)),ee.push(Oe)),1;rt=0;var mn=be===""?".":be+":";if(k(G))for(var ge=0;ge<G.length;ge++)be=G[ge],$e=mn+pe(be,ge),rt+=X(be,ee,ye,$e,Oe);else if(ge=m(G),typeof ge=="function")for(G=ge.call(G),ge=0;!(be=G.next()).done;)be=be.value,$e=mn+pe(be,ge++),rt+=X(be,ee,ye,$e,Oe);else if($e==="object"){if(typeof G.then=="function")return X(_e(G),ee,ye,be,Oe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return rt}function re(G,ee,ye){if(G==null)return G;var be=[],Oe=0;return X(G,be,"","",function($e){return ee.call(ye,$e,Oe++)}),be}function de(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var we=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Me={map:re,forEach:function(G,ee,ye){re(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return re(G,function(){ee++}),ee},toArray:function(G){return re(G,function(ee){return ee})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return ze.Activity=p,ze.Children=Me,ze.Component=S,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=O,ze.StrictMode=r,ze.Suspense=c,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ze.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},ze.cache=function(G){return function(){return G.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(G,ee,ye){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=w({},G.props),Oe=G.key;if(ee!=null)for($e in ee.key!==void 0&&(Oe=""+ee.key),ee)!M.call(ee,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&ee.ref===void 0||(be[$e]=ee[$e]);var $e=arguments.length-2;if($e===1)be.children=ye;else if(1<$e){for(var rt=Array($e),mn=0;mn<$e;mn++)rt[mn]=arguments[mn+2];be.children=rt}return j(G.type,Oe,be)},ze.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},ze.createElement=function(G,ee,ye){var be,Oe={},$e=null;if(ee!=null)for(be in ee.key!==void 0&&($e=""+ee.key),ee)M.call(ee,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Oe[be]=ee[be]);var rt=arguments.length-2;if(rt===1)Oe.children=ye;else if(1<rt){for(var mn=Array(rt),ge=0;ge<rt;ge++)mn[ge]=arguments[ge+2];Oe.children=mn}if(G&&G.defaultProps)for(be in rt=G.defaultProps,rt)Oe[be]===void 0&&(Oe[be]=rt[be]);return j(G,$e,Oe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(G){return{$$typeof:l,render:G}},ze.isValidElement=U,ze.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:de}},ze.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},ze.startTransition=function(G){var ee=P.T,ye={};P.T=ye;try{var be=G(),Oe=P.S;Oe!==null&&Oe(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(B,we)}catch($e){we($e)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),P.T=ee}},ze.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ze.use=function(G){return P.H.use(G)},ze.useActionState=function(G,ee,ye){return P.H.useActionState(G,ee,ye)},ze.useCallback=function(G,ee){return P.H.useCallback(G,ee)},ze.useContext=function(G){return P.H.useContext(G)},ze.useDebugValue=function(){},ze.useDeferredValue=function(G,ee){return P.H.useDeferredValue(G,ee)},ze.useEffect=function(G,ee){return P.H.useEffect(G,ee)},ze.useEffectEvent=function(G){return P.H.useEffectEvent(G)},ze.useId=function(){return P.H.useId()},ze.useImperativeHandle=function(G,ee,ye){return P.H.useImperativeHandle(G,ee,ye)},ze.useInsertionEffect=function(G,ee){return P.H.useInsertionEffect(G,ee)},ze.useLayoutEffect=function(G,ee){return P.H.useLayoutEffect(G,ee)},ze.useMemo=function(G,ee){return P.H.useMemo(G,ee)},ze.useOptimistic=function(G,ee){return P.H.useOptimistic(G,ee)},ze.useReducer=function(G,ee,ye){return P.H.useReducer(G,ee,ye)},ze.useRef=function(G){return P.H.useRef(G)},ze.useState=function(G){return P.H.useState(G)},ze.useSyncExternalStore=function(G,ee,ye){return P.H.useSyncExternalStore(G,ee,ye)},ze.useTransition=function(){return P.H.useTransition()},ze.version="19.2.0",ze}var j4;function kf(){return j4||(j4=1,Kx.exports=vU()),Kx.exports}var C=kf();const Br=xo(C),mU=hU({__proto__:null,default:Br},[C]);var Xx={exports:{}},ih={},Yx={exports:{}},Qx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function yU(){return L4||(L4=1,(function(t){function e(X,re){var de=X.length;X.push(re);e:for(;0<de;){var we=de-1>>>1,Me=X[we];if(0<i(Me,re))X[we]=re,X[de]=Me,de=we;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],de=X.pop();if(de!==re){X[0]=de;e:for(var we=0,Me=X.length,G=Me>>>1;we<G;){var ee=2*(we+1)-1,ye=X[ee],be=ee+1,Oe=X[be];if(0>i(ye,de))be<Me&&0>i(Oe,ye)?(X[we]=Oe,X[be]=de,we=be):(X[we]=ye,X[ee]=de,we=ee);else if(be<Me&&0>i(Oe,de))X[we]=Oe,X[be]=de,we=be;else break e}}return re}function i(X,re){var de=X.sortIndex-re.sortIndex;return de!==0?de:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,v=3,m=!1,b=!1,w=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=X)r(f),re.sortIndex=re.expirationTime,e(c,re);else break;re=n(f)}}function k(X){if(w=!1,N(X),!b)if(n(c)!==null)b=!0,B||(B=!0,H());else{var re=n(f);re!==null&&_e(k,re.startTime-X)}}var B=!1,P=-1,M=5,j=-1;function z(){return A?!0:!(t.unstable_now()-j<M)}function U(){if(A=!1,B){var X=t.unstable_now();j=X;var re=!0;try{e:{b=!1,w&&(w=!1,I(P),P=-1),m=!0;var de=v;try{t:{for(N(X),p=n(c);p!==null&&!(p.expirationTime>X&&z());){var we=p.callback;if(typeof we=="function"){p.callback=null,v=p.priorityLevel;var Me=we(p.expirationTime<=X);if(X=t.unstable_now(),typeof Me=="function"){p.callback=Me,N(X),re=!0;break t}p===n(c)&&r(c),N(X)}else r(c);p=n(c)}if(p!==null)re=!0;else{var G=n(f);G!==null&&_e(k,G.startTime-X),re=!1}}break e}finally{p=null,v=de,m=!1}re=void 0}}finally{re?H():B=!1}}}var H;if(typeof O=="function")H=function(){O(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,pe=F.port2;F.port1.onmessage=U,H=function(){pe.postMessage(null)}}else H=function(){S(U,0)};function _e(X,re){P=S(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var de=v;v=re;try{return X()}finally{v=de}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=v;v=X;try{return re()}finally{v=de}},t.unstable_scheduleCallback=function(X,re,de){var we=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?we+de:we):de=we,X){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=de+Me,X={id:h++,callback:re,priorityLevel:X,startTime:de,expirationTime:Me,sortIndex:-1},de>we?(X.sortIndex=de,e(f,X),n(c)===null&&X===n(f)&&(w?(I(P),P=-1):w=!0,_e(k,de-we))):(X.sortIndex=Me,e(c,X),b||m||(b=!0,B||(B=!0,H()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var re=v;return function(){var de=v;v=re;try{return X.apply(this,arguments)}finally{v=de}}}})(Qx)),Qx}var B4;function xU(){return B4||(B4=1,Yx.exports=yU()),Yx.exports}var Zx={exports:{}},Pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4;function _U(){if(U4)return Pr;U4=1;var t=kf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},Pr.flushSync=function(c){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=h,r.d.f()}},Pr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Pr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Pr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Pr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Pr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Pr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Pr.requestFormReset=function(c){r.d.r(c)},Pr.unstable_batchedUpdates=function(c,f){return c(f)},Pr.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},Pr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pr.version="19.2.0",Pr}var F4;function TN(){if(F4)return Zx.exports;F4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zx.exports=_U(),Zx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4;function bU(){if(V4)return ih;V4=1;var t=xU(),e=kf(),n=TN();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function f(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var d=s,g=u;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return c(x),s;if(E===g)return c(x),u;E=E.sibling}throw Error(r(188))}if(d.return!==g.return)d=x,g=E;else{for(var R=!1,L=x.child;L;){if(L===d){R=!0,d=x,g=E;break}if(L===g){R=!0,g=x,d=E;break}L=L.sibling}if(!R){for(L=E.child;L;){if(L===d){R=!0,d=E,g=x;break}if(L===g){R=!0,g=E,d=x;break}L=L.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:u}function h(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=h(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case O:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case N:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return u=s.displayName||null,u!==null?u:pe(s.type)||"Memo";case M:u=s._payload,s=s._init;try{return pe(s(u))}catch{}}return null}var _e=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},we=[],Me=-1;function G(s){return{current:s}}function ee(s){0>Me||(s.current=we[Me],we[Me]=null,Me--)}function ye(s,u){Me++,we[Me]=s.current,s.current=u}var be=G(null),Oe=G(null),$e=G(null),rt=G(null);function mn(s,u){switch(ye($e,u),ye(Oe,s),ye(be,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?n4(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=n4(u),s=r4(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(be),ye(be,s)}function ge(){ee(be),ee(Oe),ee($e)}function Ve(s){s.memoizedState!==null&&ye(rt,s);var u=be.current,d=r4(u,s.type);u!==d&&(ye(Oe,s),ye(be,d))}function Ke(s){Oe.current===s&&(ee(be),ee(Oe)),rt.current===s&&(ee(rt),Jd._currentValue=de)}var he,yn;function Ze(s){if(he===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||"",yn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+s+yn}var Vn=!1;function xn(s,u){if(!s||Vn)return"";Vn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var te=ae}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ae){te=ae}s.call(ce.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),R=E[0],L=E[1];if(R&&L){var q=R.split(`
`),J=L.split(`
`);for(x=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(g===q.length||x===J.length)for(g=q.length-1,x=J.length-1;1<=g&&0<=x&&q[g]!==J[x];)x--;for(;1<=g&&0<=x;g--,x--)if(q[g]!==J[x]){if(g!==1||x!==1)do if(g--,x--,0>x||q[g]!==J[x]){var se=`
`+q[g].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=g&&0<=x);break}}}finally{Vn=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ze(d):""}function vi(s,u){switch(s.tag){case 26:case 27:case 5:return Ze(s.type);case 16:return Ze("Lazy");case 13:return s.child!==u&&u!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return xn(s.type,!1);case 11:return xn(s.type.render,!1);case 1:return xn(s.type,!0);case 31:return Ze("Activity");default:return""}}function ys(s){try{var u="",d=null;do u+=vi(s,d),d=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Cn=Object.prototype.hasOwnProperty,zn=t.unstable_scheduleCallback,xs=t.unstable_cancelCallback,Xm=t.unstable_shouldYield,qp=t.unstable_requestPaint,zr=t.unstable_now,Hl=t.unstable_getCurrentPriorityLevel,nd=t.unstable_ImmediatePriority,rd=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,Ym=t.unstable_LowPriority,Gp=t.unstable_IdlePriority,Wp=t.log,Kp=t.unstable_setDisableYieldValue,ha=null,pr=null;function Bi(s){if(typeof Wp=="function"&&Kp(s),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(ha,s)}catch{}}var _n=Math.clz32?Math.clz32:Yp,Xp=Math.log,cc=Math.LN2;function Yp(s){return s>>>=0,s===0?32:31-(Xp(s)/cc|0)|0}var ja=256,$l=262144,In=4194304;function La(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ba(s,u,d){var g=s.pendingLanes;if(g===0)return 0;var x=0,E=s.suspendedLanes,R=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~E,g!==0?x=La(g):(R&=L,R!==0?x=La(R):d||(d=L&~s,d!==0&&(x=La(d))))):(L=g&~E,L!==0?x=La(L):R!==0?x=La(R):d||(d=g&~s,d!==0&&(x=La(d)))),x===0?0:u!==0&&u!==x&&(u&E)===0&&(E=x&-x,d=u&-u,E>=d||E===32&&(d&4194048)!==0)?u:x}function pa(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function Qm(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qp(){var s=In;return In<<=1,(In&62914560)===0&&(In=4194304),s}function Ua(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function ql(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Zm(s,u,d,g,x,E){var R=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var L=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(d=R&~d;0<d;){var se=31-_n(d),ce=1<<se;L[se]=0,q[se]=-1;var te=J[se];if(te!==null)for(J[se]=null,se=0;se<te.length;se++){var ae=te[se];ae!==null&&(ae.lane&=-536870913)}d&=~ce}g!==0&&Gl(s,g,0),E!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=E&~(R&~u))}function Gl(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-_n(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function id(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var g=31-_n(d),x=1<<g;x&u|s[g]&u&&(s[g]|=u),d&=~x}}function ad(s,u){var d=u&-u;return d=(d&42)!==0?1:Wl(d),(d&(s.suspendedLanes|u))!==0?0:d}function Wl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function So(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zp(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:T4(s.type))}function ga(s,u){var d=re.p;try{return re.p=s,u()}finally{re.p=d}}var va=Math.random().toString(36).slice(2),On="__reactFiber$"+va,tr="__reactProps$"+va,Fa="__reactContainer$"+va,fc="__reactEvents$"+va,Jm="__reactListeners$"+va,Jp="__reactHandles$"+va,e0="__reactResources$"+va,Va="__reactMarker$"+va;function dc(s){delete s[On],delete s[tr],delete s[fc],delete s[Jm],delete s[Jp]}function za(s){var u=s[On];if(u)return u;for(var d=s.parentNode;d;){if(u=d[Fa]||d[On]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=c4(s);s!==null;){if(d=s[On])return d;s=c4(s)}return u}s=d,d=s.parentNode}return null}function Ui(s){if(s=s[On]||s[Fa]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function mi(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function Ha(s){var u=s[e0];return u||(u=s[e0]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Rn(s){s[Va]=!0}var od=new Set,sd={};function $a(s,u){qa(s,u),qa(s+"Capture",u)}function qa(s,u){for(sd[s]=u,s=0;s<u.length;s++)od.add(u[s])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},cd={};function t0(s){return Cn.call(cd,s)?!0:Cn.call(ud,s)?!1:ld.test(s)?cd[s]=!0:(ud[s]=!0,!1)}function hc(s,u,d){if(t0(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function yi(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function Pn(s,u,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+g)}}function nr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function bs(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fd(s,u,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,E=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return x.call(this)},set:function(R){d=""+R,E.call(this,R)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ct(s){if(!s._valueTracker){var u=bs(s)?"checked":"value";s._valueTracker=fd(s,u,""+s[u])}}function Kl(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return s&&(g=bs(s)?s.checked?"true":"false":s.value),s=g,s!==d?(u.setValue(s),!0):!1}function Ga(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Xl=/[\n"\\]/g;function Jr(s){return s.replace(Xl,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function pc(s,u,d,g,x,E,R,L){s.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.type=R:s.removeAttribute("type"),u!=null?R==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+nr(u)):s.value!==""+nr(u)&&(s.value=""+nr(u)):R!=="submit"&&R!=="reset"||s.removeAttribute("value"),u!=null?dd(s,R,nr(u)):d!=null?dd(s,R,nr(d)):g!=null&&s.removeAttribute("value"),x==null&&E!=null&&(s.defaultChecked=!!E),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+nr(L):s.removeAttribute("name")}function n0(s,u,d,g,x,E,R,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),u!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){Ct(s);return}d=d!=null?""+nr(d):"",u=u!=null?""+nr(u):d,L||u===s.value||(s.value=u),s.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.name=R),Ct(s)}function dd(s,u,d){u==="number"&&Ga(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function ws(s,u,d,g){if(s=s.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=u.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+nr(d),u=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}u!==null||s[x].disabled||(u=s[x])}u!==null&&(u.selected=!0)}}function r0(s,u,d){if(u!=null&&(u=""+nr(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+nr(d):""}function Es(s,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(r(92));if(_e(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=nr(u),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Ct(s)}function ei(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var i0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(s,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,d):typeof d!="number"||d===0||i0.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function pd(s,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&d[x]!==g&&hd(s,x,g)}else for(var E in u)u.hasOwnProperty(E)&&hd(s,E,u[E])}function gc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vc(s){return As.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ma(){}var gd=null;function Fi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ss=null,Wa=null;function Yl(s){var u=Ui(s);if(u&&(s=u.stateNode)){var d=s[tr]||null;e:switch(s=u.stateNode,u.type){case"input":if(pc(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Jr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==s&&g.form===s.form){var x=g[tr]||null;if(!x)throw Error(r(90));pc(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===s.form&&Kl(g)}break e;case"textarea":r0(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&ws(s,!!d.multiple,u,!1)}}}var mc=!1;function Ts(s,u,d){if(mc)return s(u,d);mc=!0;try{var g=s(u);return g}finally{if(mc=!1,(Ss!==null||Wa!==null)&&(Z0(),Ss&&(u=Ss,s=Wa,Wa=Ss=null,Yl(u),s)))for(u=0;u<s.length;u++)Yl(s[u])}}function ya(s,u){var d=s.stateNode;if(d===null)return null;var g=d[tr]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=!1;if(Vi)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Ql=!1}var Ka=null,vd=null,Zl=null;function md(){if(Zl)return Zl;var s,u=vd,d=u.length,g,x="value"in Ka?Ka.value:Ka.textContent,E=x.length;for(s=0;s<d&&u[s]===x[s];s++);var R=d-s;for(g=1;g<=R&&u[d-g]===x[E-g];g++);return Zl=x.slice(s,1<g?1-g:void 0)}function Jl(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function To(){return!0}function xa(){return!1}function gr(s){function u(d,g,x,E,R){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(d=s[L],this[L]=d?d(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?To:xa,this.isPropagationStopped=xa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),u}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=gr(Co),Cs=p({},Co,{view:0,detail:0}),yd=gr(Cs),Is,yc,Ya,xc=p({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ya&&(Ya&&s.type==="mousemove"?(Is=s.screenX-Ya.screenX,yc=s.screenY-Ya.screenY):yc=Is=0,Ya=s),Is)},movementY:function(s){return"movementY"in s?s.movementY:yc}}),xd=gr(xc),eu=p({},xc,{dataTransfer:0}),o0=gr(eu),s0=p({},Cs,{relatedTarget:0}),tu=gr(s0),_d=p({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=gr(_d),_c=p({},Co,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u0=gr(_c),c0=p({},Co,{data:0}),Qa=gr(c0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=h0[s])?!!u[s]:!1}function Os(){return p0}var Hr=p({},Cs,{key:function(s){if(s.key){var u=f0[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Jl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?d0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(s){return s.type==="keypress"?Jl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g0=gr(Hr),v0=p({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=gr(v0),y=p({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),T=gr(y),D=p({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=gr(D),Y=p({},xc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=gr(Y),ve=p({},Co,{newState:0,oldState:0}),qe=gr(ve),bn=[9,13,27,32],xt=Vi&&"CompositionEvent"in window,Jt=null;Vi&&"documentMode"in document&&(Jt=document.documentMode);var zi=Vi&&"TextEvent"in window&&!Jt,Za=Vi&&(!xt||Jt&&8<Jt&&11>=Jt),_a=" ",ba=!1;function nu(s,u){switch(s){case"keyup":return bn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wc=!1;function LL(s,u){switch(s){case"compositionend":return bc(u);case"keypress":return u.which!==32?null:(ba=!0,_a);case"textInput":return s=u.data,s===_a&&ba?null:s;default:return null}}function BL(s,u){if(wc)return s==="compositionend"||!xt&&nu(s,u)?(s=md(),Zl=vd=Ka=null,wc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Za&&u.locale!=="ko"?null:u.data;default:return null}}var UL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hT(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!UL[s.type]:u==="textarea"}function pT(s,u,d,g){Ss?Wa?Wa.push(g):Wa=[g]:Ss=g,u=a1(u,"onChange"),0<u.length&&(d=new Xa("onChange","change",null,d,g),s.push({event:d,listeners:u}))}var bd=null,wd=null;function FL(s){Y3(s,0)}function m0(s){var u=mi(s);if(Kl(u))return s}function gT(s,u){if(s==="change")return u}var vT=!1;if(Vi){var ey;if(Vi){var ty="oninput"in document;if(!ty){var mT=document.createElement("div");mT.setAttribute("oninput","return;"),ty=typeof mT.oninput=="function"}ey=ty}else ey=!1;vT=ey&&(!document.documentMode||9<document.documentMode)}function yT(){bd&&(bd.detachEvent("onpropertychange",xT),wd=bd=null)}function xT(s){if(s.propertyName==="value"&&m0(wd)){var u=[];pT(u,wd,s,Fi(s)),Ts(FL,u)}}function VL(s,u,d){s==="focusin"?(yT(),bd=u,wd=d,bd.attachEvent("onpropertychange",xT)):s==="focusout"&&yT()}function zL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return m0(wd)}function HL(s,u){if(s==="click")return m0(u)}function $L(s,u){if(s==="input"||s==="change")return m0(u)}function qL(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var xi=typeof Object.is=="function"?Object.is:qL;function Ed(s,u){if(xi(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!Cn.call(u,x)||!xi(s[x],u[x]))return!1}return!0}function _T(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bT(s,u){var d=_T(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=u&&g>=u)return{node:d,offset:u-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=_T(d)}}function wT(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?wT(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function ET(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Ga(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Ga(s.document)}return u}function ny(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var GL=Vi&&"documentMode"in document&&11>=document.documentMode,Ec=null,ry=null,Ad=null,iy=!1;function AT(s,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iy||Ec==null||Ec!==Ga(g)||(g=Ec,"selectionStart"in g&&ny(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ad&&Ed(Ad,g)||(Ad=g,g=a1(ry,"onSelect"),0<g.length&&(u=new Xa("onSelect","select",null,u,d),s.push({event:u,listeners:g}),u.target=Ec)))}function ru(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Ac={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionrun:ru("Transition","TransitionRun"),transitionstart:ru("Transition","TransitionStart"),transitioncancel:ru("Transition","TransitionCancel"),transitionend:ru("Transition","TransitionEnd")},ay={},ST={};Vi&&(ST=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function iu(s){if(ay[s])return ay[s];if(!Ac[s])return s;var u=Ac[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in ST)return ay[s]=u[d];return s}var TT=iu("animationend"),CT=iu("animationiteration"),IT=iu("animationstart"),WL=iu("transitionrun"),KL=iu("transitionstart"),XL=iu("transitioncancel"),OT=iu("transitionend"),RT=new Map,oy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oy.push("scrollEnd");function wa(s,u){RT.set(s,u),$a(u,[s])}var y0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Hi=[],Sc=0,sy=0;function x0(){for(var s=Sc,u=sy=Sc=0;u<s;){var d=Hi[u];Hi[u++]=null;var g=Hi[u];Hi[u++]=null;var x=Hi[u];Hi[u++]=null;var E=Hi[u];if(Hi[u++]=null,g!==null&&x!==null){var R=g.pending;R===null?x.next=x:(x.next=R.next,R.next=x),g.pending=x}E!==0&&PT(d,x,E)}}function _0(s,u,d,g){Hi[Sc++]=s,Hi[Sc++]=u,Hi[Sc++]=d,Hi[Sc++]=g,sy|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function ly(s,u,d,g){return _0(s,u,d,g),b0(s)}function au(s,u){return _0(s,null,null,u),b0(s)}function PT(s,u,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var x=!1,E=s.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(x=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,x&&u!==null&&(x=31-_n(d),s=E.hiddenUpdates,g=s[x],g===null?s[x]=[u]:g.push(u),u.lane=d|536870912),E):null}function b0(s){if(50<Gd)throw Gd=0,mx=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var Tc={};function YL(s,u,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(s,u,d,g){return new YL(s,u,d,g)}function uy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Oo(s,u){var d=s.alternate;return d===null?(d=_i(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function NT(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function w0(s,u,d,g,x,E){var R=0;if(g=s,typeof s=="function")uy(s)&&(R=1);else if(typeof s=="string")R=tU(s,d,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=_i(31,d,u,x),s.elementType=j,s.lanes=E,s;case w:return ou(d.children,x,E,u);case A:R=8,x|=24;break;case S:return s=_i(12,d,u,x|2),s.elementType=S,s.lanes=E,s;case k:return s=_i(13,d,u,x),s.elementType=k,s.lanes=E,s;case B:return s=_i(19,d,u,x),s.elementType=B,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:R=10;break e;case I:R=9;break e;case N:R=11;break e;case P:R=14;break e;case M:R=16,g=null;break e}R=29,d=Error(r(130,s===null?"null":typeof s,"")),g=null}return u=_i(R,d,u,x),u.elementType=s,u.type=g,u.lanes=E,u}function ou(s,u,d,g){return s=_i(7,s,g,u),s.lanes=d,s}function cy(s,u,d){return s=_i(6,s,null,u),s.lanes=d,s}function DT(s){var u=_i(18,null,null,0);return u.stateNode=s,u}function fy(s,u,d){return u=_i(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var MT=new WeakMap;function $i(s,u){if(typeof s=="object"&&s!==null){var d=MT.get(s);return d!==void 0?d:(u={value:s,source:u,stack:ys(u)},MT.set(s,u),u)}return{value:s,source:u,stack:ys(u)}}var Cc=[],Ic=0,E0=null,Sd=0,qi=[],Gi=0,Rs=null,Ja=1,eo="";function Ro(s,u){Cc[Ic++]=Sd,Cc[Ic++]=E0,E0=s,Sd=u}function kT(s,u,d){qi[Gi++]=Ja,qi[Gi++]=eo,qi[Gi++]=Rs,Rs=s;var g=Ja;s=eo;var x=32-_n(g)-1;g&=~(1<<x),d+=1;var E=32-_n(u)+x;if(30<E){var R=x-x%5;E=(g&(1<<R)-1).toString(32),g>>=R,x-=R,Ja=1<<32-_n(u)+x|d<<x|g,eo=E+s}else Ja=1<<E|d<<x|g,eo=s}function dy(s){s.return!==null&&(Ro(s,1),kT(s,1,0))}function hy(s){for(;s===E0;)E0=Cc[--Ic],Cc[Ic]=null,Sd=Cc[--Ic],Cc[Ic]=null;for(;s===Rs;)Rs=qi[--Gi],qi[Gi]=null,eo=qi[--Gi],qi[Gi]=null,Ja=qi[--Gi],qi[Gi]=null}function jT(s,u){qi[Gi++]=Ja,qi[Gi++]=eo,qi[Gi++]=Rs,Ja=u.id,eo=u.overflow,Rs=s}var vr=null,Wt=null,ut=!1,Ps=null,Wi=!1,py=Error(r(519));function Ns(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Td($i(u,s)),py}function LT(s){var u=s.stateNode,d=s.type,g=s.memoizedProps;switch(u[On]=s,u[tr]=g,d){case"dialog":et("cancel",u),et("close",u);break;case"iframe":case"object":case"embed":et("load",u);break;case"video":case"audio":for(d=0;d<Kd.length;d++)et(Kd[d],u);break;case"source":et("error",u);break;case"img":case"image":case"link":et("error",u),et("load",u);break;case"details":et("toggle",u);break;case"input":et("invalid",u),n0(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":et("invalid",u);break;case"textarea":et("invalid",u),Es(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||e4(u.textContent,d)?(g.popover!=null&&(et("beforetoggle",u),et("toggle",u)),g.onScroll!=null&&et("scroll",u),g.onScrollEnd!=null&&et("scrollend",u),g.onClick!=null&&(u.onclick=ma),u=!0):u=!1,u||Ns(s,!0)}function BT(s){for(vr=s.return;vr;)switch(vr.tag){case 5:case 31:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:vr=vr.return}}function Oc(s){if(s!==vr)return!1;if(!ut)return BT(s),ut=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Nx(s.type,s.memoizedProps)),d=!d),d&&Wt&&Ns(s),BT(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Wt=u4(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Wt=u4(s)}else u===27?(u=Wt,Gs(s.type)?(s=Lx,Lx=null,Wt=s):Wt=u):Wt=vr?Xi(s.stateNode.nextSibling):null;return!0}function su(){Wt=vr=null,ut=!1}function gy(){var s=Ps;return s!==null&&(ii===null?ii=s:ii.push.apply(ii,s),Ps=null),s}function Td(s){Ps===null?Ps=[s]:Ps.push(s)}var vy=G(null),lu=null,Po=null;function Ds(s,u,d){ye(vy,u._currentValue),u._currentValue=d}function No(s){s._currentValue=vy.current,ee(vy)}function my(s,u,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===d)break;s=s.return}}function yy(s,u,d,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var E=x.dependencies;if(E!==null){var R=x.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=x;for(var q=0;q<u.length;q++)if(L.context===u[q]){E.lanes|=d,L=E.alternate,L!==null&&(L.lanes|=d),my(E.return,d,s),g||(R=null);break e}E=L.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(r(341));R.lanes|=d,E=R.alternate,E!==null&&(E.lanes|=d),my(R,d,s),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===s){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function Rc(s,u,d,g){s=null;for(var x=u,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var L=x.type;xi(x.pendingProps.value,R.value)||(s!==null?s.push(L):s=[L])}}else if(x===rt.current){if(R=x.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(Jd):s=[Jd])}x=x.return}s!==null&&yy(u,s,d,g),u.flags|=262144}function A0(s){for(s=s.firstContext;s!==null;){if(!xi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function uu(s){lu=s,Po=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mr(s){return UT(lu,s)}function S0(s,u){return lu===null&&uu(s),UT(s,u)}function UT(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Po===null){if(s===null)throw Error(r(308));Po=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Po=Po.next=u;return d}var QL=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},ZL=t.unstable_scheduleCallback,JL=t.unstable_NormalPriority,Nn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xy(){return{controller:new QL,data:new Map,refCount:0}}function Cd(s){s.refCount--,s.refCount===0&&ZL(JL,function(){s.controller.abort()})}var Id=null,_y=0,Pc=0,Nc=null;function eB(s,u){if(Id===null){var d=Id=[];_y=0,Pc=Ex(),Nc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return _y++,u.then(FT,FT),u}function FT(){if(--_y===0&&Id!==null){Nc!==null&&(Nc.status="fulfilled");var s=Id;Id=null,Pc=0,Nc=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function tB(s,u){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var VT=X.S;X.S=function(s,u){A3=zr(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&eB(s,u),VT!==null&&VT(s,u)};var cu=G(null);function by(){var s=cu.current;return s!==null?s:Ft.pooledCache}function T0(s,u){u===null?ye(cu,cu.current):ye(cu,u.pool)}function zT(){var s=by();return s===null?null:{parent:Nn._currentValue,pool:s}}var Dc=Error(r(460)),wy=Error(r(474)),C0=Error(r(542)),I0={then:function(){}};function HT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $T(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(ma,ma),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,GT(s),s;default:if(typeof u.status=="string")u.then(ma,ma);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,GT(s),s}throw du=u,Dc}}function fu(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(du=d,Dc):d}}var du=null;function qT(){if(du===null)throw Error(r(459));var s=du;return du=null,s}function GT(s){if(s===Dc||s===C0)throw Error(r(483))}var Mc=null,Od=0;function O0(s){var u=Od;return Od+=1,Mc===null&&(Mc=[]),$T(Mc,s,u)}function Rd(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function R0(s,u){throw u.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function WT(s){function u(K,W){if(s){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function d(K,W){if(!s)return null;for(;W!==null;)u(K,W),W=W.sibling;return null}function g(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function x(K,W){return K=Oo(K,W),K.index=0,K.sibling=null,K}function E(K,W,Z){return K.index=Z,s?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function R(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function L(K,W,Z,le){return W===null||W.tag!==6?(W=cy(Z,K.mode,le),W.return=K,W):(W=x(W,Z),W.return=K,W)}function q(K,W,Z,le){var Pe=Z.type;return Pe===w?se(K,W,Z.props.children,le,Z.key):W!==null&&(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&fu(Pe)===W.type)?(W=x(W,Z.props),Rd(W,Z),W.return=K,W):(W=w0(Z.type,Z.key,Z.props,null,K.mode,le),Rd(W,Z),W.return=K,W)}function J(K,W,Z,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=fy(Z,K.mode,le),W.return=K,W):(W=x(W,Z.children||[]),W.return=K,W)}function se(K,W,Z,le,Pe){return W===null||W.tag!==7?(W=ou(Z,K.mode,le,Pe),W.return=K,W):(W=x(W,Z),W.return=K,W)}function ce(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=cy(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return Z=w0(W.type,W.key,W.props,null,K.mode,Z),Rd(Z,W),Z.return=K,Z;case b:return W=fy(W,K.mode,Z),W.return=K,W;case M:return W=fu(W),ce(K,W,Z)}if(_e(W)||H(W))return W=ou(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return ce(K,O0(W),Z);if(W.$$typeof===O)return ce(K,S0(K,W),Z);R0(K,W)}return null}function te(K,W,Z,le){var Pe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:L(K,W,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Pe?q(K,W,Z,le):null;case b:return Z.key===Pe?J(K,W,Z,le):null;case M:return Z=fu(Z),te(K,W,Z,le)}if(_e(Z)||H(Z))return Pe!==null?null:se(K,W,Z,le,null);if(typeof Z.then=="function")return te(K,W,O0(Z),le);if(Z.$$typeof===O)return te(K,W,S0(K,Z),le);R0(K,Z)}return null}function ae(K,W,Z,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Z)||null,L(W,K,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case m:return K=K.get(le.key===null?Z:le.key)||null,q(W,K,le,Pe);case b:return K=K.get(le.key===null?Z:le.key)||null,J(W,K,le,Pe);case M:return le=fu(le),ae(K,W,Z,le,Pe)}if(_e(le)||H(le))return K=K.get(Z)||null,se(W,K,le,Pe,null);if(typeof le.then=="function")return ae(K,W,Z,O0(le),Pe);if(le.$$typeof===O)return ae(K,W,Z,S0(W,le),Pe);R0(W,le)}return null}function Se(K,W,Z,le){for(var Pe=null,pt=null,Ie=W,We=W=0,at=null;Ie!==null&&We<Z.length;We++){Ie.index>We?(at=Ie,Ie=null):at=Ie.sibling;var gt=te(K,Ie,Z[We],le);if(gt===null){Ie===null&&(Ie=at);break}s&&Ie&&gt.alternate===null&&u(K,Ie),W=E(gt,W,We),pt===null?Pe=gt:pt.sibling=gt,pt=gt,Ie=at}if(We===Z.length)return d(K,Ie),ut&&Ro(K,We),Pe;if(Ie===null){for(;We<Z.length;We++)Ie=ce(K,Z[We],le),Ie!==null&&(W=E(Ie,W,We),pt===null?Pe=Ie:pt.sibling=Ie,pt=Ie);return ut&&Ro(K,We),Pe}for(Ie=g(Ie);We<Z.length;We++)at=ae(Ie,K,We,Z[We],le),at!==null&&(s&&at.alternate!==null&&Ie.delete(at.key===null?We:at.key),W=E(at,W,We),pt===null?Pe=at:pt.sibling=at,pt=at);return s&&Ie.forEach(function(Qs){return u(K,Qs)}),ut&&Ro(K,We),Pe}function Le(K,W,Z,le){if(Z==null)throw Error(r(151));for(var Pe=null,pt=null,Ie=W,We=W=0,at=null,gt=Z.next();Ie!==null&&!gt.done;We++,gt=Z.next()){Ie.index>We?(at=Ie,Ie=null):at=Ie.sibling;var Qs=te(K,Ie,gt.value,le);if(Qs===null){Ie===null&&(Ie=at);break}s&&Ie&&Qs.alternate===null&&u(K,Ie),W=E(Qs,W,We),pt===null?Pe=Qs:pt.sibling=Qs,pt=Qs,Ie=at}if(gt.done)return d(K,Ie),ut&&Ro(K,We),Pe;if(Ie===null){for(;!gt.done;We++,gt=Z.next())gt=ce(K,gt.value,le),gt!==null&&(W=E(gt,W,We),pt===null?Pe=gt:pt.sibling=gt,pt=gt);return ut&&Ro(K,We),Pe}for(Ie=g(Ie);!gt.done;We++,gt=Z.next())gt=ae(Ie,K,We,gt.value,le),gt!==null&&(s&&gt.alternate!==null&&Ie.delete(gt.key===null?We:gt.key),W=E(gt,W,We),pt===null?Pe=gt:pt.sibling=gt,pt=gt);return s&&Ie.forEach(function(dU){return u(K,dU)}),ut&&Ro(K,We),Pe}function Lt(K,W,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:e:{for(var Pe=Z.key;W!==null;){if(W.key===Pe){if(Pe=Z.type,Pe===w){if(W.tag===7){d(K,W.sibling),le=x(W,Z.props.children),le.return=K,K=le;break e}}else if(W.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&fu(Pe)===W.type){d(K,W.sibling),le=x(W,Z.props),Rd(le,Z),le.return=K,K=le;break e}d(K,W);break}else u(K,W);W=W.sibling}Z.type===w?(le=ou(Z.props.children,K.mode,le,Z.key),le.return=K,K=le):(le=w0(Z.type,Z.key,Z.props,null,K.mode,le),Rd(le,Z),le.return=K,K=le)}return R(K);case b:e:{for(Pe=Z.key;W!==null;){if(W.key===Pe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){d(K,W.sibling),le=x(W,Z.children||[]),le.return=K,K=le;break e}else{d(K,W);break}else u(K,W);W=W.sibling}le=fy(Z,K.mode,le),le.return=K,K=le}return R(K);case M:return Z=fu(Z),Lt(K,W,Z,le)}if(_e(Z))return Se(K,W,Z,le);if(H(Z)){if(Pe=H(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),Le(K,W,Z,le)}if(typeof Z.then=="function")return Lt(K,W,O0(Z),le);if(Z.$$typeof===O)return Lt(K,W,S0(K,Z),le);R0(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(d(K,W.sibling),le=x(W,Z),le.return=K,K=le):(d(K,W),le=cy(Z,K.mode,le),le.return=K,K=le),R(K)):d(K,W)}return function(K,W,Z,le){try{Od=0;var Pe=Lt(K,W,Z,le);return Mc=null,Pe}catch(Ie){if(Ie===Dc||Ie===C0)throw Ie;var pt=_i(29,Ie,null,K.mode);return pt.lanes=le,pt.return=K,pt}finally{}}}var hu=WT(!0),KT=WT(!1),Ms=!1;function Ey(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ay(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function js(s,u,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(_t&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=b0(s),PT(s,null,d),u}return _0(s,g,u,d),b0(s)}function Pd(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,id(s,d)}}function Sy(s,u){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?x=E=R:E=E.next=R,d=d.next}while(d!==null);E===null?x=E=u:E=E.next=u}else x=E=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var Ty=!1;function Nd(){if(Ty){var s=Nc;if(s!==null)throw s}}function Dd(s,u,d,g){Ty=!1;var x=s.updateQueue;Ms=!1;var E=x.firstBaseUpdate,R=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var q=L,J=q.next;q.next=null,R===null?E=J:R.next=J,R=q;var se=s.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==R&&(L===null?se.firstBaseUpdate=J:L.next=J,se.lastBaseUpdate=q))}if(E!==null){var ce=x.baseState;R=0,se=J=q=null,L=E;do{var te=L.lane&-536870913,ae=te!==L.lane;if(ae?(it&te)===te:(g&te)===te){te!==0&&te===Pc&&(Ty=!0),se!==null&&(se=se.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Se=s,Le=L;te=u;var Lt=d;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){ce=Se.call(Lt,ce,te);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,te=typeof Se=="function"?Se.call(Lt,ce,te):Se,te==null)break e;ce=p({},ce,te);break e;case 2:Ms=!0}}te=L.callback,te!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=x.callbacks,ae===null?x.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(J=se=ae,q=ce):se=se.next=ae,R|=te;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);se===null&&(q=ce),x.baseState=q,x.firstBaseUpdate=J,x.lastBaseUpdate=se,E===null&&(x.shared.lanes=0),Vs|=R,s.lanes=R,s.memoizedState=ce}}function XT(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function YT(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)XT(d[s],u)}var kc=G(null),P0=G(0);function QT(s,u){s=Vo,ye(P0,s),ye(kc,u),Vo=s|u.baseLanes}function Cy(){ye(P0,Vo),ye(kc,kc.current)}function Iy(){Vo=P0.current,ee(kc),ee(P0)}var bi=G(null),Ki=null;function Ls(s){var u=s.alternate;ye(wn,wn.current&1),ye(bi,s),Ki===null&&(u===null||kc.current!==null||u.memoizedState!==null)&&(Ki=s)}function Oy(s){ye(wn,wn.current),ye(bi,s),Ki===null&&(Ki=s)}function ZT(s){s.tag===22?(ye(wn,wn.current),ye(bi,s),Ki===null&&(Ki=s)):Bs()}function Bs(){ye(wn,wn.current),ye(bi,bi.current)}function wi(s){ee(bi),Ki===s&&(Ki=null),ee(wn)}var wn=G(0);function N0(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||kx(d)||jx(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Do=0,Ge=null,kt=null,Dn=null,D0=!1,jc=!1,pu=!1,M0=0,Md=0,Lc=null,nB=0;function cn(){throw Error(r(321))}function Ry(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!xi(s[d],u[d]))return!1;return!0}function Py(s,u,d,g,x,E){return Do=E,Ge=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,X.H=s===null||s.memoizedState===null?kC:Gy,pu=!1,E=d(g,x),pu=!1,jc&&(E=eC(u,d,g,x)),JT(s),E}function JT(s){X.H=Ld;var u=kt!==null&&kt.next!==null;if(Do=0,Dn=kt=Ge=null,D0=!1,Md=0,Lc=null,u)throw Error(r(300));s===null||Mn||(s=s.dependencies,s!==null&&A0(s)&&(Mn=!0))}function eC(s,u,d,g){Ge=s;var x=0;do{if(jc&&(Lc=null),Md=0,jc=!1,25<=x)throw Error(r(301));if(x+=1,Dn=kt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=jC,E=u(d,g)}while(jc);return E}function rB(){var s=X.H,u=s.useState()[0];return u=typeof u.then=="function"?kd(u):u,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(Ge.flags|=1024),u}function Ny(){var s=M0!==0;return M0=0,s}function Dy(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function My(s){if(D0){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}D0=!1}Do=0,Dn=kt=Ge=null,jc=!1,Md=M0=0,Lc=null}function $r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Ge.memoizedState=Dn=s:Dn=Dn.next=s,Dn}function En(){if(kt===null){var s=Ge.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var u=Dn===null?Ge.memoizedState:Dn.next;if(u!==null)Dn=u,kt=s;else{if(s===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Dn===null?Ge.memoizedState=Dn=s:Dn=Dn.next=s}return Dn}function k0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kd(s){var u=Md;return Md+=1,Lc===null&&(Lc=[]),s=$T(Lc,s,u),u=Ge,(Dn===null?u.memoizedState:Dn.next)===null&&(u=u.alternate,X.H=u===null||u.memoizedState===null?kC:Gy),s}function j0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kd(s);if(s.$$typeof===O)return mr(s)}throw Error(r(438,String(s)))}function ky(s){var u=null,d=Ge.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=Ge.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=k0(),Ge.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),g=0;g<s;g++)d[g]=z;return u.index++,d}function Mo(s,u){return typeof u=="function"?u(s):u}function L0(s){var u=En();return jy(u,kt,s)}function jy(s,u,d){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var x=s.baseQueue,E=g.pending;if(E!==null){if(x!==null){var R=x.next;x.next=E.next,E.next=R}u.baseQueue=x=E,g.pending=null}if(E=s.baseState,x===null)s.memoizedState=E;else{u=x.next;var L=R=null,q=null,J=u,se=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(it&ce)===ce:(Do&ce)===ce){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Pc&&(se=!0);else if((Do&te)===te){J=J.next,te===Pc&&(se=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=ce,R=E):q=q.next=ce,Ge.lanes|=te,Vs|=te;ce=J.action,pu&&d(E,ce),E=J.hasEagerState?J.eagerState:d(E,ce)}else te={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=te,R=E):q=q.next=te,Ge.lanes|=ce,Vs|=ce;J=J.next}while(J!==null&&J!==u);if(q===null?R=E:q.next=L,!xi(E,s.memoizedState)&&(Mn=!0,se&&(d=Nc,d!==null)))throw d;s.memoizedState=E,s.baseState=R,s.baseQueue=q,g.lastRenderedState=E}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Ly(s){var u=En(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,E=u.memoizedState;if(x!==null){d.pending=null;var R=x=x.next;do E=s(E,R.action),R=R.next;while(R!==x);xi(E,u.memoizedState)||(Mn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),d.lastRenderedState=E}return[E,g]}function tC(s,u,d){var g=Ge,x=En(),E=ut;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=u();var R=!xi((kt||x).memoizedState,d);if(R&&(x.memoizedState=d,Mn=!0),x=x.queue,Fy(iC.bind(null,g,x,s),[s]),x.getSnapshot!==u||R||Dn!==null&&Dn.memoizedState.tag&1){if(g.flags|=2048,Bc(9,{destroy:void 0},rC.bind(null,g,x,d,u),null),Ft===null)throw Error(r(349));E||(Do&127)!==0||nC(g,u,d)}return d}function nC(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=Ge.updateQueue,u===null?(u=k0(),Ge.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function rC(s,u,d,g){u.value=d,u.getSnapshot=g,aC(u)&&oC(s)}function iC(s,u,d){return d(function(){aC(u)&&oC(s)})}function aC(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!xi(s,d)}catch{return!0}}function oC(s){var u=au(s,2);u!==null&&ai(u,s,2)}function By(s){var u=$r();if(typeof s=="function"){var d=s;if(s=d(),pu){Bi(!0);try{d()}finally{Bi(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:s},u}function sC(s,u,d,g){return s.baseState=d,jy(s,kt,typeof g=="function"?g:Mo)}function iB(s,u,d,g,x){if(F0(s))throw Error(r(485));if(s=u.action,s!==null){var E={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};X.T!==null?d(!0):E.isTransition=!1,g(E),d=u.pending,d===null?(E.next=u.pending=E,lC(u,E)):(E.next=d.next,u.pending=d.next=E)}}function lC(s,u){var d=u.action,g=u.payload,x=s.state;if(u.isTransition){var E=X.T,R={};X.T=R;try{var L=d(x,g),q=X.S;q!==null&&q(R,L),uC(s,u,L)}catch(J){Uy(s,u,J)}finally{E!==null&&R.types!==null&&(E.types=R.types),X.T=E}}else try{E=d(x,g),uC(s,u,E)}catch(J){Uy(s,u,J)}}function uC(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){cC(s,u,g)},function(g){return Uy(s,u,g)}):cC(s,u,d)}function cC(s,u,d){u.status="fulfilled",u.value=d,fC(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,lC(s,d)))}function Uy(s,u,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,fC(u),u=u.next;while(u!==g)}s.action=null}function fC(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function dC(s,u){return u}function hC(s,u){if(ut){var d=Ft.formState;if(d!==null){e:{var g=Ge;if(ut){if(Wt){t:{for(var x=Wt,E=Wi;x.nodeType!==8;){if(!E){x=null;break t}if(x=Xi(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){Wt=Xi(x.nextSibling),g=x.data==="F!";break e}}Ns(g)}g=!1}g&&(u=d[0])}}return d=$r(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dC,lastRenderedState:u},d.queue=g,d=NC.bind(null,Ge,g),g.dispatch=d,g=By(!1),E=qy.bind(null,Ge,!1,g.queue),g=$r(),x={state:u,dispatch:null,action:s,pending:null},g.queue=x,d=iB.bind(null,Ge,x,E,d),x.dispatch=d,g.memoizedState=s,[u,d,!1]}function pC(s){var u=En();return gC(u,kt,s)}function gC(s,u,d){if(u=jy(s,u,dC)[0],s=L0(Mo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=kd(u)}catch(R){throw R===Dc?C0:R}else g=u;u=En();var x=u.queue,E=x.dispatch;return d!==u.memoizedState&&(Ge.flags|=2048,Bc(9,{destroy:void 0},aB.bind(null,x,d),null)),[g,E,s]}function aB(s,u){s.action=u}function vC(s){var u=En(),d=kt;if(d!==null)return gC(u,d,s);En(),u=u.memoizedState,d=En();var g=d.queue.dispatch;return d.memoizedState=s,[u,g,!1]}function Bc(s,u,d,g){return s={tag:s,create:d,deps:g,inst:u,next:null},u=Ge.updateQueue,u===null&&(u=k0(),Ge.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,u.lastEffect=s),s}function mC(){return En().memoizedState}function B0(s,u,d,g){var x=$r();Ge.flags|=s,x.memoizedState=Bc(1|u,{destroy:void 0},d,g===void 0?null:g)}function U0(s,u,d,g){var x=En();g=g===void 0?null:g;var E=x.memoizedState.inst;kt!==null&&g!==null&&Ry(g,kt.memoizedState.deps)?x.memoizedState=Bc(u,E,d,g):(Ge.flags|=s,x.memoizedState=Bc(1|u,E,d,g))}function yC(s,u){B0(8390656,8,s,u)}function Fy(s,u){U0(2048,8,s,u)}function oB(s){Ge.flags|=4;var u=Ge.updateQueue;if(u===null)u=k0(),Ge.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function xC(s){var u=En().memoizedState;return oB({ref:u,nextImpl:s}),function(){if((_t&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function _C(s,u){return U0(4,2,s,u)}function bC(s,u){return U0(4,4,s,u)}function wC(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function EC(s,u,d){d=d!=null?d.concat([s]):null,U0(4,4,wC.bind(null,u,s),d)}function Vy(){}function AC(s,u){var d=En();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Ry(u,g[1])?g[0]:(d.memoizedState=[s,u],s)}function SC(s,u){var d=En();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Ry(u,g[1]))return g[0];if(g=s(),pu){Bi(!0);try{s()}finally{Bi(!1)}}return d.memoizedState=[g,u],g}function zy(s,u,d){return d===void 0||(Do&1073741824)!==0&&(it&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=T3(),Ge.lanes|=s,Vs|=s,d)}function TC(s,u,d,g){return xi(d,u)?d:kc.current!==null?(s=zy(s,d,g),xi(s,u)||(Mn=!0),s):(Do&42)===0||(Do&1073741824)!==0&&(it&261930)===0?(Mn=!0,s.memoizedState=d):(s=T3(),Ge.lanes|=s,Vs|=s,u)}function CC(s,u,d,g,x){var E=re.p;re.p=E!==0&&8>E?E:8;var R=X.T,L={};X.T=L,qy(s,!1,u,d);try{var q=x(),J=X.S;if(J!==null&&J(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=tB(q,g);jd(s,u,se,Si(s))}else jd(s,u,g,Si(s))}catch(ce){jd(s,u,{then:function(){},status:"rejected",reason:ce},Si())}finally{re.p=E,R!==null&&L.types!==null&&(R.types=L.types),X.T=R}}function sB(){}function Hy(s,u,d,g){if(s.tag!==5)throw Error(r(476));var x=IC(s).queue;CC(s,x,u,de,d===null?sB:function(){return OC(s),d(g)})}function IC(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:de},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function OC(s){var u=IC(s);u.next===null&&(u=s.alternate.memoizedState),jd(s,u.next.queue,{},Si())}function $y(){return mr(Jd)}function RC(){return En().memoizedState}function PC(){return En().memoizedState}function lB(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=Si();s=ks(d);var g=js(u,s,d);g!==null&&(ai(g,u,d),Pd(g,u,d)),u={cache:xy()},s.payload=u;return}u=u.return}}function uB(s,u,d){var g=Si();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},F0(s)?DC(u,d):(d=ly(s,u,d,g),d!==null&&(ai(d,s,g),MC(d,u,g)))}function NC(s,u,d){var g=Si();jd(s,u,d,g)}function jd(s,u,d,g){var x={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(F0(s))DC(u,x);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var R=u.lastRenderedState,L=E(R,d);if(x.hasEagerState=!0,x.eagerState=L,xi(L,R))return _0(s,u,x,0),Ft===null&&x0(),!1}catch{}finally{}if(d=ly(s,u,x,g),d!==null)return ai(d,s,g),MC(d,u,g),!0}return!1}function qy(s,u,d,g){if(g={lane:2,revertLane:Ex(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},F0(s)){if(u)throw Error(r(479))}else u=ly(s,d,g,2),u!==null&&ai(u,s,2)}function F0(s){var u=s.alternate;return s===Ge||u!==null&&u===Ge}function DC(s,u){jc=D0=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function MC(s,u,d){if((d&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,d|=g,u.lanes=d,id(s,d)}}var Ld={readContext:mr,use:j0,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Ld.useEffectEvent=cn;var kC={readContext:mr,use:j0,useCallback:function(s,u){return $r().memoizedState=[s,u===void 0?null:u],s},useContext:mr,useEffect:yC,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,B0(4194308,4,wC.bind(null,u,s),d)},useLayoutEffect:function(s,u){return B0(4194308,4,s,u)},useInsertionEffect:function(s,u){B0(4,2,s,u)},useMemo:function(s,u){var d=$r();u=u===void 0?null:u;var g=s();if(pu){Bi(!0);try{s()}finally{Bi(!1)}}return d.memoizedState=[g,u],g},useReducer:function(s,u,d){var g=$r();if(d!==void 0){var x=d(u);if(pu){Bi(!0);try{d(u)}finally{Bi(!1)}}}else x=u;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=uB.bind(null,Ge,s),[g.memoizedState,s]},useRef:function(s){var u=$r();return s={current:s},u.memoizedState=s},useState:function(s){s=By(s);var u=s.queue,d=NC.bind(null,Ge,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:Vy,useDeferredValue:function(s,u){var d=$r();return zy(d,s,u)},useTransition:function(){var s=By(!1);return s=CC.bind(null,Ge,s.queue,!0,!1),$r().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var g=Ge,x=$r();if(ut){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Ft===null)throw Error(r(349));(it&127)!==0||nC(g,u,d)}x.memoizedState=d;var E={value:d,getSnapshot:u};return x.queue=E,yC(iC.bind(null,g,E,s),[s]),g.flags|=2048,Bc(9,{destroy:void 0},rC.bind(null,g,E,d,u),null),d},useId:function(){var s=$r(),u=Ft.identifierPrefix;if(ut){var d=eo,g=Ja;d=(g&~(1<<32-_n(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=M0++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=nB++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:$y,useFormState:hC,useActionState:hC,useOptimistic:function(s){var u=$r();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=qy.bind(null,Ge,!0,d),d.dispatch=u,[s,u]},useMemoCache:ky,useCacheRefresh:function(){return $r().memoizedState=lB.bind(null,Ge)},useEffectEvent:function(s){var u=$r(),d={impl:s};return u.memoizedState=d,function(){if((_t&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Gy={readContext:mr,use:j0,useCallback:AC,useContext:mr,useEffect:Fy,useImperativeHandle:EC,useInsertionEffect:_C,useLayoutEffect:bC,useMemo:SC,useReducer:L0,useRef:mC,useState:function(){return L0(Mo)},useDebugValue:Vy,useDeferredValue:function(s,u){var d=En();return TC(d,kt.memoizedState,s,u)},useTransition:function(){var s=L0(Mo)[0],u=En().memoizedState;return[typeof s=="boolean"?s:kd(s),u]},useSyncExternalStore:tC,useId:RC,useHostTransitionStatus:$y,useFormState:pC,useActionState:pC,useOptimistic:function(s,u){var d=En();return sC(d,kt,s,u)},useMemoCache:ky,useCacheRefresh:PC};Gy.useEffectEvent=xC;var jC={readContext:mr,use:j0,useCallback:AC,useContext:mr,useEffect:Fy,useImperativeHandle:EC,useInsertionEffect:_C,useLayoutEffect:bC,useMemo:SC,useReducer:Ly,useRef:mC,useState:function(){return Ly(Mo)},useDebugValue:Vy,useDeferredValue:function(s,u){var d=En();return kt===null?zy(d,s,u):TC(d,kt.memoizedState,s,u)},useTransition:function(){var s=Ly(Mo)[0],u=En().memoizedState;return[typeof s=="boolean"?s:kd(s),u]},useSyncExternalStore:tC,useId:RC,useHostTransitionStatus:$y,useFormState:vC,useActionState:vC,useOptimistic:function(s,u){var d=En();return kt!==null?sC(d,kt,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:ky,useCacheRefresh:PC};jC.useEffectEvent=xC;function Wy(s,u,d,g){u=s.memoizedState,d=d(g,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ky={enqueueSetState:function(s,u,d){s=s._reactInternals;var g=Si(),x=ks(g);x.payload=u,d!=null&&(x.callback=d),u=js(s,x,g),u!==null&&(ai(u,s,g),Pd(u,s,g))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var g=Si(),x=ks(g);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=js(s,x,g),u!==null&&(ai(u,s,g),Pd(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Si(),g=ks(d);g.tag=2,u!=null&&(g.callback=u),u=js(s,g,d),u!==null&&(ai(u,s,d),Pd(u,s,d))}};function LC(s,u,d,g,x,E,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,R):u.prototype&&u.prototype.isPureReactComponent?!Ed(d,g)||!Ed(x,E):!0}function BC(s,u,d,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==s&&Ky.enqueueReplaceState(u,u.state,null)}function gu(s,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var x in s)d[x]===void 0&&(d[x]=s[x])}return d}function UC(s){y0(s)}function FC(s){console.error(s)}function VC(s){y0(s)}function V0(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function zC(s,u,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Xy(s,u,d){return d=ks(d),d.tag=3,d.payload={element:null},d.callback=function(){V0(s,u)},d}function HC(s){return s=ks(s),s.tag=3,s}function $C(s,u,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var E=g.value;s.payload=function(){return x(E)},s.callback=function(){zC(u,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(s.callback=function(){zC(u,d,g),typeof x!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function cB(s,u,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&Rc(u,d,x,!0),d=bi.current,d!==null){switch(d.tag){case 31:case 13:return Ki===null?J0():d.alternate===null&&fn===0&&(fn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===I0?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),_x(s,g,x)),!1;case 22:return d.flags|=65536,g===I0?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),_x(s,g,x)),!1}throw Error(r(435,d.tag))}return _x(s,g,x),J0(),!1}if(ut)return u=bi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==py&&(s=Error(r(422),{cause:g}),Td($i(s,d)))):(g!==py&&(u=Error(r(423),{cause:g}),Td($i(u,d))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=$i(g,d),x=Xy(s.stateNode,g,x),Sy(s,x),fn!==4&&(fn=2)),!1;var E=Error(r(520),{cause:g});if(E=$i(E,d),qd===null?qd=[E]:qd.push(E),fn!==4&&(fn=2),u===null)return!0;g=$i(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=x&-x,d.lanes|=s,s=Xy(d.stateNode,g,s),Sy(d,s),!1;case 1:if(u=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(zs===null||!zs.has(E))))return d.flags|=65536,x&=-x,d.lanes|=x,x=HC(x),$C(x,s,d,g),Sy(d,x),!1}d=d.return}while(d!==null);return!1}var Yy=Error(r(461)),Mn=!1;function yr(s,u,d,g){u.child=s===null?KT(u,null,d,g):hu(u,s.child,d,g)}function qC(s,u,d,g,x){d=d.render;var E=u.ref;if("ref"in g){var R={};for(var L in g)L!=="ref"&&(R[L]=g[L])}else R=g;return uu(u),g=Py(s,u,d,R,E,x),L=Ny(),s!==null&&!Mn?(Dy(s,u,x),ko(s,u,x)):(ut&&L&&dy(u),u.flags|=1,yr(s,u,g,x),u.child)}function GC(s,u,d,g,x){if(s===null){var E=d.type;return typeof E=="function"&&!uy(E)&&E.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=E,WC(s,u,E,g,x)):(s=w0(d.type,null,g,u,u.mode,x),s.ref=u.ref,s.return=u,u.child=s)}if(E=s.child,!ix(s,x)){var R=E.memoizedProps;if(d=d.compare,d=d!==null?d:Ed,d(R,g)&&s.ref===u.ref)return ko(s,u,x)}return u.flags|=1,s=Oo(E,g),s.ref=u.ref,s.return=u,u.child=s}function WC(s,u,d,g,x){if(s!==null){var E=s.memoizedProps;if(Ed(E,g)&&s.ref===u.ref)if(Mn=!1,u.pendingProps=g=E,ix(s,x))(s.flags&131072)!==0&&(Mn=!0);else return u.lanes=s.lanes,ko(s,u,x)}return Qy(s,u,d,g,x)}function KC(s,u,d,g){var x=g.children,E=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(g=u.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~E}else g=0,u.child=null;return XC(s,u,E,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&T0(u,E!==null?E.cachePool:null),E!==null?QT(u,E):Cy(),ZT(u);else return g=u.lanes=536870912,XC(s,u,E!==null?E.baseLanes|d:d,d,g)}else E!==null?(T0(u,E.cachePool),QT(u,E),Bs(),u.memoizedState=null):(s!==null&&T0(u,null),Cy(),Bs());return yr(s,u,x,d),u.child}function Bd(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function XC(s,u,d,g,x){var E=by();return E=E===null?null:{parent:Nn._currentValue,pool:E},u.memoizedState={baseLanes:d,cachePool:E},s!==null&&T0(u,null),Cy(),ZT(u),s!==null&&Rc(s,u,g,!0),u.childLanes=x,null}function z0(s,u){return u=$0({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function YC(s,u,d){return hu(u,s.child,null,d),s=z0(u,u.pendingProps),s.flags|=2,wi(u),u.memoizedState=null,s}function fB(s,u,d){var g=u.pendingProps,x=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(ut){if(g.mode==="hidden")return s=z0(u,g),u.lanes=536870912,Bd(null,s);if(Oy(u),(s=Wt)?(s=l4(s,Wi),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ja,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},d=DT(s),d.return=u,u.child=d,vr=u,Wt=null)):s=null,s===null)throw Ns(u);return u.lanes=536870912,null}return z0(u,g)}var E=s.memoizedState;if(E!==null){var R=E.dehydrated;if(Oy(u),x)if(u.flags&256)u.flags&=-257,u=YC(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(Mn||Rc(s,u,d,!1),x=(d&s.childLanes)!==0,Mn||x){if(g=Ft,g!==null&&(R=ad(g,d),R!==0&&R!==E.retryLane))throw E.retryLane=R,au(s,R),ai(g,s,R),Yy;J0(),u=YC(s,u,d)}else s=E.treeContext,Wt=Xi(R.nextSibling),vr=u,ut=!0,Ps=null,Wi=!1,s!==null&&jT(u,s),u=z0(u,g),u.flags|=4096;return u}return s=Oo(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function H0(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function Qy(s,u,d,g,x){return uu(u),d=Py(s,u,d,g,void 0,x),g=Ny(),s!==null&&!Mn?(Dy(s,u,x),ko(s,u,x)):(ut&&g&&dy(u),u.flags|=1,yr(s,u,d,x),u.child)}function QC(s,u,d,g,x,E){return uu(u),u.updateQueue=null,d=eC(u,g,d,x),JT(s),g=Ny(),s!==null&&!Mn?(Dy(s,u,E),ko(s,u,E)):(ut&&g&&dy(u),u.flags|=1,yr(s,u,d,E),u.child)}function ZC(s,u,d,g,x){if(uu(u),u.stateNode===null){var E=Tc,R=d.contextType;typeof R=="object"&&R!==null&&(E=mr(R)),E=new d(g,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Ky,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=g,E.state=u.memoizedState,E.refs={},Ey(u),R=d.contextType,E.context=typeof R=="object"&&R!==null?mr(R):Tc,E.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Wy(u,d,R,g),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Ky.enqueueReplaceState(E,E.state,null),Dd(u,g,E,x),Nd(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){E=u.stateNode;var L=u.memoizedProps,q=gu(d,L);E.props=q;var J=E.context,se=d.contextType;R=Tc,typeof se=="object"&&se!==null&&(R=mr(se));var ce=d.getDerivedStateFromProps;se=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=u.pendingProps!==L,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||J!==R)&&BC(u,E,g,R),Ms=!1;var te=u.memoizedState;E.state=te,Dd(u,g,E,x),Nd(),J=u.memoizedState,L||te!==J||Ms?(typeof ce=="function"&&(Wy(u,d,ce,g),J=u.memoizedState),(q=Ms||LC(u,d,q,g,te,J,R))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=J),E.props=g,E.state=J,E.context=R,g=q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{E=u.stateNode,Ay(s,u),R=u.memoizedProps,se=gu(d,R),E.props=se,ce=u.pendingProps,te=E.context,J=d.contextType,q=Tc,typeof J=="object"&&J!==null&&(q=mr(J)),L=d.getDerivedStateFromProps,(J=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ce||te!==q)&&BC(u,E,g,q),Ms=!1,te=u.memoizedState,E.state=te,Dd(u,g,E,x),Nd();var ae=u.memoizedState;R!==ce||te!==ae||Ms||s!==null&&s.dependencies!==null&&A0(s.dependencies)?(typeof L=="function"&&(Wy(u,d,L,g),ae=u.memoizedState),(se=Ms||LC(u,d,se,g,te,ae,q)||s!==null&&s.dependencies!==null&&A0(s.dependencies))?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ae,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ae,q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ae),E.props=g,E.state=ae,E.context=q,g=se):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&te===s.memoizedState||(u.flags|=1024),g=!1)}return E=g,H0(s,u),g=(u.flags&128)!==0,E||g?(E=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,s!==null&&g?(u.child=hu(u,s.child,null,x),u.child=hu(u,null,d,x)):yr(s,u,d,x),u.memoizedState=E.state,s=u.child):s=ko(s,u,x),s}function JC(s,u,d,g){return su(),u.flags|=256,yr(s,u,d,g),u.child}var Zy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jy(s){return{baseLanes:s,cachePool:zT()}}function ex(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=Ai),s}function e3(s,u,d){var g=u.pendingProps,x=!1,E=(u.flags&128)!==0,R;if((R=E)||(R=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),R&&(x=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,s===null){if(ut){if(x?Ls(u):Bs(),(s=Wt)?(s=l4(s,Wi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ja,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},d=DT(s),d.return=u,u.child=d,vr=u,Wt=null)):s=null,s===null)throw Ns(u);return jx(s)?u.lanes=32:u.lanes=536870912,null}var L=g.children;return g=g.fallback,x?(Bs(),x=u.mode,L=$0({mode:"hidden",children:L},x),g=ou(g,x,d,null),L.return=u,g.return=u,L.sibling=g,u.child=L,g=u.child,g.memoizedState=Jy(d),g.childLanes=ex(s,R,d),u.memoizedState=Zy,Bd(null,g)):(Ls(u),tx(u,L))}var q=s.memoizedState;if(q!==null&&(L=q.dehydrated,L!==null)){if(E)u.flags&256?(Ls(u),u.flags&=-257,u=nx(s,u,d)):u.memoizedState!==null?(Bs(),u.child=s.child,u.flags|=128,u=null):(Bs(),L=g.fallback,x=u.mode,g=$0({mode:"visible",children:g.children},x),L=ou(L,x,d,null),L.flags|=2,g.return=u,L.return=u,g.sibling=L,u.child=g,hu(u,s.child,null,d),g=u.child,g.memoizedState=Jy(d),g.childLanes=ex(s,R,d),u.memoizedState=Zy,u=Bd(null,g));else if(Ls(u),jx(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var J=R.dgst;R=J,g=Error(r(419)),g.stack="",g.digest=R,Td({value:g,source:null,stack:null}),u=nx(s,u,d)}else if(Mn||Rc(s,u,d,!1),R=(d&s.childLanes)!==0,Mn||R){if(R=Ft,R!==null&&(g=ad(R,d),g!==0&&g!==q.retryLane))throw q.retryLane=g,au(s,g),ai(R,s,g),Yy;kx(L)||J0(),u=nx(s,u,d)}else kx(L)?(u.flags|=192,u.child=s.child,u=null):(s=q.treeContext,Wt=Xi(L.nextSibling),vr=u,ut=!0,Ps=null,Wi=!1,s!==null&&jT(u,s),u=tx(u,g.children),u.flags|=4096);return u}return x?(Bs(),L=g.fallback,x=u.mode,q=s.child,J=q.sibling,g=Oo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,J!==null?L=Oo(J,L):(L=ou(L,x,d,null),L.flags|=2),L.return=u,g.return=u,g.sibling=L,u.child=g,Bd(null,g),g=u.child,L=s.child.memoizedState,L===null?L=Jy(d):(x=L.cachePool,x!==null?(q=Nn._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=zT(),L={baseLanes:L.baseLanes|d,cachePool:x}),g.memoizedState=L,g.childLanes=ex(s,R,d),u.memoizedState=Zy,Bd(s.child,g)):(Ls(u),d=s.child,s=d.sibling,d=Oo(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,s!==null&&(R=u.deletions,R===null?(u.deletions=[s],u.flags|=16):R.push(s)),u.child=d,u.memoizedState=null,d)}function tx(s,u){return u=$0({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function $0(s,u){return s=_i(22,s,null,u),s.lanes=0,s}function nx(s,u,d){return hu(u,s.child,null,d),s=tx(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function t3(s,u,d){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),my(s.return,u,d)}function rx(s,u,d,g,x,E){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x,treeForkCount:E}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=x,R.treeForkCount=E)}function n3(s,u,d){var g=u.pendingProps,x=g.revealOrder,E=g.tail;g=g.children;var R=wn.current,L=(R&2)!==0;if(L?(R=R&1|2,u.flags|=128):R&=1,ye(wn,R),yr(s,u,g,d),g=ut?Sd:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t3(s,d,u);else if(s.tag===19)t3(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(d=u.child,x=null;d!==null;)s=d.alternate,s!==null&&N0(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),rx(u,!1,x,d,E,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(s=x.alternate,s!==null&&N0(s)===null){u.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}rx(u,!0,d,null,E,g);break;case"together":rx(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function ko(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Vs|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(Rc(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,d=Oo(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Oo(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function ix(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&A0(s)))}function dB(s,u,d){switch(u.tag){case 3:mn(u,u.stateNode.containerInfo),Ds(u,Nn,s.memoizedState.cache),su();break;case 27:case 5:Ve(u);break;case 4:mn(u,u.stateNode.containerInfo);break;case 10:Ds(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Oy(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Ls(u),u.flags|=128,null):(d&u.child.childLanes)!==0?e3(s,u,d):(Ls(u),s=ko(s,u,d),s!==null?s.sibling:null);Ls(u);break;case 19:var x=(s.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(Rc(s,u,d,!1),g=(d&u.childLanes)!==0),x){if(g)return n3(s,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ye(wn,wn.current),g)break;return null;case 22:return u.lanes=0,KC(s,u,d,u.pendingProps);case 24:Ds(u,Nn,s.memoizedState.cache)}return ko(s,u,d)}function r3(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)Mn=!0;else{if(!ix(s,d)&&(u.flags&128)===0)return Mn=!1,dB(s,u,d);Mn=(s.flags&131072)!==0}else Mn=!1,ut&&(u.flags&1048576)!==0&&kT(u,Sd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=fu(u.elementType),u.type=s,typeof s=="function")uy(s)?(g=gu(s,g),u.tag=1,u=ZC(null,u,s,g,d)):(u.tag=0,u=Qy(null,u,s,g,d));else{if(s!=null){var x=s.$$typeof;if(x===N){u.tag=11,u=qC(null,u,s,g,d);break e}else if(x===P){u.tag=14,u=GC(null,u,s,g,d);break e}}throw u=pe(s)||s,Error(r(306,u,""))}}return u;case 0:return Qy(s,u,u.type,u.pendingProps,d);case 1:return g=u.type,x=gu(g,u.pendingProps),ZC(s,u,g,x,d);case 3:e:{if(mn(u,u.stateNode.containerInfo),s===null)throw Error(r(387));g=u.pendingProps;var E=u.memoizedState;x=E.element,Ay(s,u),Dd(u,g,null,d);var R=u.memoizedState;if(g=R.cache,Ds(u,Nn,g),g!==E.cache&&yy(u,[Nn],d,!0),Nd(),g=R.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=JC(s,u,g,d);break e}else if(g!==x){x=$i(Error(r(424)),u),Td(x),u=JC(s,u,g,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wt=Xi(s.firstChild),vr=u,ut=!0,Ps=null,Wi=!0,d=KT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(su(),g===x){u=ko(s,u,d);break e}yr(s,u,g,d)}u=u.child}return u;case 26:return H0(s,u),s===null?(d=p4(u.type,null,u.pendingProps,null))?u.memoizedState=d:ut||(d=u.type,s=u.pendingProps,g=o1($e.current).createElement(d),g[On]=u,g[tr]=s,xr(g,d,s),Rn(g),u.stateNode=g):u.memoizedState=p4(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Ve(u),s===null&&ut&&(g=u.stateNode=f4(u.type,u.pendingProps,$e.current),vr=u,Wi=!0,x=Wt,Gs(u.type)?(Lx=x,Wt=Xi(g.firstChild)):Wt=x),yr(s,u,u.pendingProps.children,d),H0(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&ut&&((x=g=Wt)&&(g=zB(g,u.type,u.pendingProps,Wi),g!==null?(u.stateNode=g,vr=u,Wt=Xi(g.firstChild),Wi=!1,x=!0):x=!1),x||Ns(u)),Ve(u),x=u.type,E=u.pendingProps,R=s!==null?s.memoizedProps:null,g=E.children,Nx(x,E)?g=null:R!==null&&Nx(x,R)&&(u.flags|=32),u.memoizedState!==null&&(x=Py(s,u,rB,null,null,d),Jd._currentValue=x),H0(s,u),yr(s,u,g,d),u.child;case 6:return s===null&&ut&&((s=d=Wt)&&(d=HB(d,u.pendingProps,Wi),d!==null?(u.stateNode=d,vr=u,Wt=null,s=!0):s=!1),s||Ns(u)),null;case 13:return e3(s,u,d);case 4:return mn(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=hu(u,null,g,d):yr(s,u,g,d),u.child;case 11:return qC(s,u,u.type,u.pendingProps,d);case 7:return yr(s,u,u.pendingProps,d),u.child;case 8:return yr(s,u,u.pendingProps.children,d),u.child;case 12:return yr(s,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,Ds(u,u.type,g.value),yr(s,u,g.children,d),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,uu(u),x=mr(x),g=g(x),u.flags|=1,yr(s,u,g,d),u.child;case 14:return GC(s,u,u.type,u.pendingProps,d);case 15:return WC(s,u,u.type,u.pendingProps,d);case 19:return n3(s,u,d);case 31:return fB(s,u,d);case 22:return KC(s,u,d,u.pendingProps);case 24:return uu(u),g=mr(Nn),s===null?(x=by(),x===null&&(x=Ft,E=xy(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=d),x=E),u.memoizedState={parent:g,cache:x},Ey(u),Ds(u,Nn,x)):((s.lanes&d)!==0&&(Ay(s,u),Dd(u,null,null,d),Nd()),x=s.memoizedState,E=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Ds(u,Nn,g)):(g=E.cache,Ds(u,Nn,g),g!==x.cache&&yy(u,[Nn],d,!0))),yr(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function jo(s){s.flags|=4}function ax(s,u,d,g,x){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(R3())s.flags|=8192;else throw du=I0,wy}else s.flags&=-16777217}function i3(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!x4(u))if(R3())s.flags|=8192;else throw du=I0,wy}function q0(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?Qp():536870912,s.lanes|=u,zc|=u)}function Ud(s,u){if(!ut)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Kt(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(u)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,u}function hB(s,u,d){var g=u.pendingProps;switch(hy(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(u),null;case 1:return Kt(u),null;case 3:return d=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),No(Nn),ge(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Oc(u)?jo(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,gy())),Kt(u),null;case 26:var x=u.type,E=u.memoizedState;return s===null?(jo(u),E!==null?(Kt(u),i3(u,E)):(Kt(u),ax(u,x,null,g,d))):E?E!==s.memoizedState?(jo(u),Kt(u),i3(u,E)):(Kt(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&jo(u),Kt(u),ax(u,x,s,g,d)),null;case 27:if(Ke(u),d=$e.current,x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&jo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Kt(u),null}s=be.current,Oc(u)?LT(u):(s=f4(x,g,d),u.stateNode=s,jo(u))}return Kt(u),null;case 5:if(Ke(u),x=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&jo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Kt(u),null}if(E=be.current,Oc(u))LT(u);else{var R=o1($e.current);switch(E){case 1:E=R.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=R.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=R.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?R.createElement(x,{is:g.is}):R.createElement(x)}}E[On]=u,E[tr]=g;e:for(R=u.child;R!==null;){if(R.tag===5||R.tag===6)E.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===u)break e;for(;R.sibling===null;){if(R.return===null||R.return===u)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}u.stateNode=E;e:switch(xr(E,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&jo(u)}}return Kt(u),ax(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&jo(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(s=$e.current,Oc(u)){if(s=u.stateNode,d=u.memoizedProps,g=null,x=vr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[On]=u,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||e4(s.nodeValue,d)),s||Ns(u,!0)}else s=o1(s).createTextNode(g),s[On]=u,u.stateNode=s}return Kt(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(g=Oc(u),d!==null){if(s===null){if(!g)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[On]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),s=!1}else d=gy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(wi(u),u):(wi(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Kt(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=Oc(u),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[On]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kt(u),x=!1}else x=gy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(wi(u),u):(wi(u),null)}return wi(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==x&&(g.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),q0(u,u.updateQueue),Kt(u),null);case 4:return ge(),s===null&&Cx(u.stateNode.containerInfo),Kt(u),null;case 10:return No(u.type),Kt(u),null;case 19:if(ee(wn),g=u.memoizedState,g===null)return Kt(u),null;if(x=(u.flags&128)!==0,E=g.rendering,E===null)if(x)Ud(g,!1);else{if(fn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(E=N0(s),E!==null){for(u.flags|=128,Ud(g,!1),s=E.updateQueue,u.updateQueue=s,q0(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)NT(d,s),d=d.sibling;return ye(wn,wn.current&1|2),ut&&Ro(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&zr()>Y0&&(u.flags|=128,x=!0,Ud(g,!1),u.lanes=4194304)}else{if(!x)if(s=N0(E),s!==null){if(u.flags|=128,x=!0,s=s.updateQueue,u.updateQueue=s,q0(u,s),Ud(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ut)return Kt(u),null}else 2*zr()-g.renderingStartTime>Y0&&d!==536870912&&(u.flags|=128,x=!0,Ud(g,!1),u.lanes=4194304);g.isBackwards?(E.sibling=u.child,u.child=E):(s=g.last,s!==null?s.sibling=E:u.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=zr(),s.sibling=null,d=wn.current,ye(wn,x?d&1|2:d&1),ut&&Ro(u,g.treeForkCount),s):(Kt(u),null);case 22:case 23:return wi(u),Iy(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(Kt(u),u.subtreeFlags&6&&(u.flags|=8192)):Kt(u),d=u.updateQueue,d!==null&&q0(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),s!==null&&ee(cu),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),No(Nn),Kt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function pB(s,u){switch(hy(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return No(Nn),ge(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return Ke(u),null;case 31:if(u.memoizedState!==null){if(wi(u),u.alternate===null)throw Error(r(340));su()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(wi(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));su()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ee(wn),null;case 4:return ge(),null;case 10:return No(u.type),null;case 22:case 23:return wi(u),Iy(),s!==null&&ee(cu),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return No(Nn),null;case 25:return null;default:return null}}function a3(s,u){switch(hy(u),u.tag){case 3:No(Nn),ge();break;case 26:case 27:case 5:Ke(u);break;case 4:ge();break;case 31:u.memoizedState!==null&&wi(u);break;case 13:wi(u);break;case 19:ee(wn);break;case 10:No(u.type);break;case 22:case 23:wi(u),Iy(),s!==null&&ee(cu);break;case 24:No(Nn)}}function Fd(s,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&s)===s){g=void 0;var E=d.create,R=d.inst;g=E(),R.destroy=g}d=d.next}while(d!==x)}}catch(L){Ot(u,u.return,L)}}function Us(s,u,d){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var E=x.next;g=E;do{if((g.tag&s)===s){var R=g.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,x=u;var q=d,J=L;try{J()}catch(se){Ot(x,q,se)}}}g=g.next}while(g!==E)}}catch(se){Ot(u,u.return,se)}}function o3(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{YT(u,d)}catch(g){Ot(s,s.return,g)}}}function s3(s,u,d){d.props=gu(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Ot(s,u,g)}}function Vd(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(x){Ot(s,u,x)}}function to(s,u){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){Ot(s,u,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ot(s,u,x)}else d.current=null}function l3(s){var u=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){Ot(s,s.return,x)}}function ox(s,u,d){try{var g=s.stateNode;jB(g,s.type,d,u),g[tr]=u}catch(x){Ot(s,s.return,x)}}function u3(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gs(s.type)||s.tag===4}function sx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||u3(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lx(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=ma));else if(g!==4&&(g===27&&Gs(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(lx(s,u,d),s=s.sibling;s!==null;)lx(s,u,d),s=s.sibling}function G0(s,u,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(g!==4&&(g===27&&Gs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(G0(s,u,d),s=s.sibling;s!==null;)G0(s,u,d),s=s.sibling}function c3(s){var u=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);xr(u,g,d),u[On]=s,u[tr]=d}catch(E){Ot(s,s.return,E)}}var Lo=!1,kn=!1,ux=!1,f3=typeof WeakSet=="function"?WeakSet:Set,rr=null;function gB(s,u){if(s=s.containerInfo,Rx=h1,s=ET(s),ny(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var R=0,L=-1,q=-1,J=0,se=0,ce=s,te=null;t:for(;;){for(var ae;ce!==d||x!==0&&ce.nodeType!==3||(L=R+x),ce!==E||g!==0&&ce.nodeType!==3||(q=R+g),ce.nodeType===3&&(R+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)te=ce,ce=ae;for(;;){if(ce===s)break t;if(te===d&&++J===x&&(L=R),te===E&&++se===g&&(q=R),(ae=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ae}d=L===-1||q===-1?null:{start:L,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Px={focusedElem:s,selectionRange:d},h1=!1,rr=u;rr!==null;)if(u=rr,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,rr=s;else for(;rr!==null;){switch(u=rr,E=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)x=s[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=u,x=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var Se=gu(d.type,x);s=g.getSnapshotBeforeUpdate(Se,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Le){Ot(d,d.return,Le)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)Mx(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,rr=s;break}rr=u.return}}function d3(s,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Uo(s,d),g&4&&Fd(5,d);break;case 1:if(Uo(s,d),g&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(R){Ot(d,d.return,R)}else{var x=gu(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(x,u,s.__reactInternalSnapshotBeforeUpdate)}catch(R){Ot(d,d.return,R)}}g&64&&o3(d),g&512&&Vd(d,d.return);break;case 3:if(Uo(s,d),g&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{YT(s,u)}catch(R){Ot(d,d.return,R)}}break;case 27:u===null&&g&4&&c3(d);case 26:case 5:Uo(s,d),u===null&&g&4&&l3(d),g&512&&Vd(d,d.return);break;case 12:Uo(s,d);break;case 31:Uo(s,d),g&4&&g3(s,d);break;case 13:Uo(s,d),g&4&&v3(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=AB.bind(null,d),$B(s,d))));break;case 22:if(g=d.memoizedState!==null||Lo,!g){u=u!==null&&u.memoizedState!==null||kn,x=Lo;var E=kn;Lo=g,(kn=u)&&!E?Fo(s,d,(d.subtreeFlags&8772)!==0):Uo(s,d),Lo=x,kn=E}break;case 30:break;default:Uo(s,d)}}function h3(s){var u=s.alternate;u!==null&&(s.alternate=null,h3(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&dc(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var en=null,ti=!1;function Bo(s,u,d){for(d=d.child;d!==null;)p3(s,u,d),d=d.sibling}function p3(s,u,d){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(ha,d)}catch{}switch(d.tag){case 26:kn||to(d,u),Bo(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:kn||to(d,u);var g=en,x=ti;Gs(d.type)&&(en=d.stateNode,ti=!1),Bo(s,u,d),Yd(d.stateNode),en=g,ti=x;break;case 5:kn||to(d,u);case 6:if(g=en,x=ti,en=null,Bo(s,u,d),en=g,ti=x,en!==null)if(ti)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(d.stateNode)}catch(E){Ot(d,u,E)}else try{en.removeChild(d.stateNode)}catch(E){Ot(d,u,E)}break;case 18:en!==null&&(ti?(s=en,o4(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Yc(s)):o4(en,d.stateNode));break;case 4:g=en,x=ti,en=d.stateNode.containerInfo,ti=!0,Bo(s,u,d),en=g,ti=x;break;case 0:case 11:case 14:case 15:Us(2,d,u),kn||Us(4,d,u),Bo(s,u,d);break;case 1:kn||(to(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&s3(d,u,g)),Bo(s,u,d);break;case 21:Bo(s,u,d);break;case 22:kn=(g=kn)||d.memoizedState!==null,Bo(s,u,d),kn=g;break;default:Bo(s,u,d)}}function g3(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Yc(s)}catch(d){Ot(u,u.return,d)}}}function v3(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yc(s)}catch(d){Ot(u,u.return,d)}}function vB(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new f3),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new f3),u;default:throw Error(r(435,s.tag))}}function W0(s,u){var d=vB(s);u.forEach(function(g){if(!d.has(g)){d.add(g);var x=SB.bind(null,s,g);g.then(x,x)}})}function ni(s,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],E=s,R=u,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(Gs(L.type)){en=L.stateNode,ti=!1;break e}break;case 5:en=L.stateNode,ti=!1;break e;case 3:case 4:en=L.stateNode.containerInfo,ti=!0;break e}L=L.return}if(en===null)throw Error(r(160));p3(E,R,x),en=null,ti=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)m3(u,s),u=u.sibling}var Ea=null;function m3(s,u){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ni(u,s),ri(s),g&4&&(Us(3,s,s.return),Fd(3,s),Us(5,s,s.return));break;case 1:ni(u,s),ri(s),g&512&&(kn||d===null||to(d,d.return)),g&64&&Lo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=Ea;if(ni(u,s),ri(s),g&512&&(kn||d===null||to(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":E=x.getElementsByTagName("title")[0],(!E||E[Va]||E[On]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(g),x.head.insertBefore(E,x.querySelector("head > title"))),xr(E,g,d),E[On]=s,Rn(E),g=E;break e;case"link":var R=m4("link","href",x).get(g+(d.href||""));if(R){for(var L=0;L<R.length;L++)if(E=R[L],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(L,1);break t}}E=x.createElement(g),xr(E,g,d),x.head.appendChild(E);break;case"meta":if(R=m4("meta","content",x).get(g+(d.content||""))){for(L=0;L<R.length;L++)if(E=R[L],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(L,1);break t}}E=x.createElement(g),xr(E,g,d),x.head.appendChild(E);break;default:throw Error(r(468,g))}E[On]=s,Rn(E),g=E}s.stateNode=g}else y4(x,s.type,s.stateNode);else s.stateNode=v4(x,g,s.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?y4(x,s.type,s.stateNode):v4(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&ox(s,s.memoizedProps,d.memoizedProps)}break;case 27:ni(u,s),ri(s),g&512&&(kn||d===null||to(d,d.return)),d!==null&&g&4&&ox(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ni(u,s),ri(s),g&512&&(kn||d===null||to(d,d.return)),s.flags&32){x=s.stateNode;try{ei(x,"")}catch(Se){Ot(s,s.return,Se)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,ox(s,x,d!==null?d.memoizedProps:x)),g&1024&&(ux=!0);break;case 6:if(ni(u,s),ri(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Se){Ot(s,s.return,Se)}}break;case 3:if(u1=null,x=Ea,Ea=s1(u.containerInfo),ni(u,s),Ea=x,ri(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Yc(u.containerInfo)}catch(Se){Ot(s,s.return,Se)}ux&&(ux=!1,y3(s));break;case 4:g=Ea,Ea=s1(s.stateNode.containerInfo),ni(u,s),ri(s),Ea=g;break;case 12:ni(u,s),ri(s);break;case 31:ni(u,s),ri(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,W0(s,g)));break;case 13:ni(u,s),ri(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(X0=zr()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,W0(s,g)));break;case 22:x=s.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,J=Lo,se=kn;if(Lo=J||x,kn=se||q,ni(u,s),kn=se,Lo=J,ri(s),g&8192)e:for(u=s.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(d===null||q||Lo||kn||vu(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){q=d=u;try{if(E=q.stateNode,x)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=q.stateNode;var ce=q.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){Ot(q,q.return,Se)}}}else if(u.tag===6){if(d===null){q=u;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(Se){Ot(q,q.return,Se)}}}else if(u.tag===18){if(d===null){q=u;try{var ae=q.stateNode;x?s4(ae,!0):s4(q.stateNode,!1)}catch(Se){Ot(q,q.return,Se)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,W0(s,d))));break;case 19:ni(u,s),ri(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,W0(s,g)));break;case 30:break;case 21:break;default:ni(u,s),ri(s)}}function ri(s){var u=s.flags;if(u&2){try{for(var d,g=s.return;g!==null;){if(u3(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,E=sx(s);G0(s,E,x);break;case 5:var R=d.stateNode;d.flags&32&&(ei(R,""),d.flags&=-33);var L=sx(s);G0(s,L,R);break;case 3:case 4:var q=d.stateNode.containerInfo,J=sx(s);lx(s,J,q);break;default:throw Error(r(161))}}catch(se){Ot(s,s.return,se)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function y3(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;y3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Uo(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)d3(s,u.alternate,u),u=u.sibling}function vu(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Us(4,u,u.return),vu(u);break;case 1:to(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&s3(u,u.return,d),vu(u);break;case 27:Yd(u.stateNode);case 26:case 5:to(u,u.return),vu(u);break;case 22:u.memoizedState===null&&vu(u);break;case 30:vu(u);break;default:vu(u)}s=s.sibling}}function Fo(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=s,E=u,R=E.flags;switch(E.tag){case 0:case 11:case 15:Fo(x,E,d),Fd(4,E);break;case 1:if(Fo(x,E,d),g=E,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){Ot(g,g.return,J)}if(g=E,x=g.updateQueue,x!==null){var L=g.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)XT(q[x],L)}catch(J){Ot(g,g.return,J)}}d&&R&64&&o3(E),Vd(E,E.return);break;case 27:c3(E);case 26:case 5:Fo(x,E,d),d&&g===null&&R&4&&l3(E),Vd(E,E.return);break;case 12:Fo(x,E,d);break;case 31:Fo(x,E,d),d&&R&4&&g3(x,E);break;case 13:Fo(x,E,d),d&&R&4&&v3(x,E);break;case 22:E.memoizedState===null&&Fo(x,E,d),Vd(E,E.return);break;case 30:break;default:Fo(x,E,d)}u=u.sibling}}function cx(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Cd(d))}function fx(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Cd(s))}function Aa(s,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)x3(s,u,d,g),u=u.sibling}function x3(s,u,d,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Aa(s,u,d,g),x&2048&&Fd(9,u);break;case 1:Aa(s,u,d,g);break;case 3:Aa(s,u,d,g),x&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&Cd(s)));break;case 12:if(x&2048){Aa(s,u,d,g),s=u.stateNode;try{var E=u.memoizedProps,R=E.id,L=E.onPostCommit;typeof L=="function"&&L(R,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Ot(u,u.return,q)}}else Aa(s,u,d,g);break;case 31:Aa(s,u,d,g);break;case 13:Aa(s,u,d,g);break;case 23:break;case 22:E=u.stateNode,R=u.alternate,u.memoizedState!==null?E._visibility&2?Aa(s,u,d,g):zd(s,u):E._visibility&2?Aa(s,u,d,g):(E._visibility|=2,Uc(s,u,d,g,(u.subtreeFlags&10256)!==0||!1)),x&2048&&cx(R,u);break;case 24:Aa(s,u,d,g),x&2048&&fx(u.alternate,u);break;default:Aa(s,u,d,g)}}function Uc(s,u,d,g,x){for(x=x&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=s,R=u,L=d,q=g,J=R.flags;switch(R.tag){case 0:case 11:case 15:Uc(E,R,L,q,x),Fd(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?Uc(E,R,L,q,x):zd(E,R):(se._visibility|=2,Uc(E,R,L,q,x)),x&&J&2048&&cx(R.alternate,R);break;case 24:Uc(E,R,L,q,x),x&&J&2048&&fx(R.alternate,R);break;default:Uc(E,R,L,q,x)}u=u.sibling}}function zd(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,g=u,x=g.flags;switch(g.tag){case 22:zd(d,g),x&2048&&cx(g.alternate,g);break;case 24:zd(d,g),x&2048&&fx(g.alternate,g);break;default:zd(d,g)}u=u.sibling}}var Hd=8192;function Fc(s,u,d){if(s.subtreeFlags&Hd)for(s=s.child;s!==null;)_3(s,u,d),s=s.sibling}function _3(s,u,d){switch(s.tag){case 26:Fc(s,u,d),s.flags&Hd&&s.memoizedState!==null&&nU(d,Ea,s.memoizedState,s.memoizedProps);break;case 5:Fc(s,u,d);break;case 3:case 4:var g=Ea;Ea=s1(s.stateNode.containerInfo),Fc(s,u,d),Ea=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Hd,Hd=16777216,Fc(s,u,d),Hd=g):Fc(s,u,d));break;default:Fc(s,u,d)}}function b3(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function $d(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];rr=g,E3(g,s)}b3(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w3(s),s=s.sibling}function w3(s){switch(s.tag){case 0:case 11:case 15:$d(s),s.flags&2048&&Us(9,s,s.return);break;case 3:$d(s);break;case 12:$d(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,K0(s)):$d(s);break;default:$d(s)}}function K0(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];rr=g,E3(g,s)}b3(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Us(8,u,u.return),K0(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,K0(u));break;default:K0(u)}s=s.sibling}}function E3(s,u){for(;rr!==null;){var d=rr;switch(d.tag){case 0:case 11:case 15:Us(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Cd(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,rr=g;else e:for(d=s;rr!==null;){g=rr;var x=g.sibling,E=g.return;if(h3(g),g===d){rr=null;break e}if(x!==null){x.return=E,rr=x;break e}rr=E}}}var mB={getCacheForType:function(s){var u=mr(Nn),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return mr(Nn).controller.signal}},yB=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ft=null,Je=null,it=0,It=0,Ei=null,Fs=!1,Vc=!1,dx=!1,Vo=0,fn=0,Vs=0,mu=0,hx=0,Ai=0,zc=0,qd=null,ii=null,px=!1,X0=0,A3=0,Y0=1/0,Q0=null,zs=null,Hn=0,Hs=null,Hc=null,zo=0,gx=0,vx=null,S3=null,Gd=0,mx=null;function Si(){return(_t&2)!==0&&it!==0?it&-it:X.T!==null?Ex():Zp()}function T3(){if(Ai===0)if((it&536870912)===0||ut){var s=$l;$l<<=1,($l&3932160)===0&&($l=262144),Ai=s}else Ai=536870912;return s=bi.current,s!==null&&(s.flags|=32),Ai}function ai(s,u,d){(s===Ft&&(It===2||It===9)||s.cancelPendingCommit!==null)&&($c(s,0),$s(s,it,Ai,!1)),ql(s,d),((_t&2)===0||s!==Ft)&&(s===Ft&&((_t&2)===0&&(mu|=d),fn===4&&$s(s,it,Ai,!1)),no(s))}function C3(s,u,d){if((_t&6)!==0)throw Error(r(327));var g=!d&&(u&127)===0&&(u&s.expiredLanes)===0||pa(s,u),x=g?bB(s,u):xx(s,u,!0),E=g;do{if(x===0){Vc&&!g&&$s(s,u,0,!1);break}else{if(d=s.current.alternate,E&&!xB(d)){x=xx(s,u,!1),E=!1;continue}if(x===2){if(E=u,s.errorRecoveryDisabledLanes&E)var R=0;else R=s.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var L=s;x=qd;var q=L.current.memoizedState.isDehydrated;if(q&&($c(L,R).flags|=256),R=xx(L,R,!1),R!==2){if(dx&&!q){L.errorRecoveryDisabledLanes|=E,mu|=E,x=4;break e}E=ii,ii=x,E!==null&&(ii===null?ii=E:ii.push.apply(ii,E))}x=R}if(E=!1,x!==2)continue}}if(x===1){$c(s,0),$s(s,u,0,!0);break}e:{switch(g=s,E=x,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:$s(g,u,Ai,!Fs);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=X0+300-zr(),10<x)){if($s(g,u,Ai,!Fs),Ba(g,0,!0)!==0)break e;zo=u,g.timeoutHandle=i4(I3.bind(null,g,d,ii,Q0,px,u,Ai,mu,zc,Fs,E,"Throttled",-0,0),x);break e}I3(g,d,ii,Q0,px,u,Ai,mu,zc,Fs,E,null,-0,0)}}break}while(!0);no(s)}function I3(s,u,d,g,x,E,R,L,q,J,se,ce,te,ae){if(s.timeoutHandle=-1,ce=u.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},_3(u,E,ce);var Se=(E&62914560)===E?X0-zr():(E&4194048)===E?A3-zr():0;if(Se=rU(ce,Se),Se!==null){zo=E,s.cancelPendingCommit=Se(j3.bind(null,s,u,E,d,g,x,R,L,q,se,ce,null,te,ae)),$s(s,E,R,!J);return}}j3(s,u,E,d,g,x,R,L,q)}function xB(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],E=x.getSnapshot;x=x.value;try{if(!xi(E(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $s(s,u,d,g){u&=~hx,u&=~mu,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var x=u;0<x;){var E=31-_n(x),R=1<<E;g[E]=-1,x&=~R}d!==0&&Gl(s,d,u)}function Z0(){return(_t&6)===0?(Wd(0),!1):!0}function yx(){if(Je!==null){if(It===0)var s=Je.return;else s=Je,Po=lu=null,My(s),Mc=null,Od=0,s=Je;for(;s!==null;)a3(s.alternate,s),s=s.return;Je=null}}function $c(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,UB(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),zo=0,yx(),Ft=s,Je=d=Oo(s.current,null),it=u,It=0,Ei=null,Fs=!1,Vc=pa(s,u),dx=!1,zc=Ai=hx=mu=Vs=fn=0,ii=qd=null,px=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var x=31-_n(g),E=1<<x;u|=s[x],g&=~E}return Vo=u,x0(),d}function O3(s,u){Ge=null,X.H=Ld,u===Dc||u===C0?(u=qT(),It=3):u===wy?(u=qT(),It=4):It=u===Yy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ei=u,Je===null&&(fn=1,V0(s,$i(u,s.current)))}function R3(){var s=bi.current;return s===null?!0:(it&4194048)===it?Ki===null:(it&62914560)===it||(it&536870912)!==0?s===Ki:!1}function P3(){var s=X.H;return X.H=Ld,s===null?Ld:s}function N3(){var s=X.A;return X.A=mB,s}function J0(){fn=4,Fs||(it&4194048)!==it&&bi.current!==null||(Vc=!0),(Vs&134217727)===0&&(mu&134217727)===0||Ft===null||$s(Ft,it,Ai,!1)}function xx(s,u,d){var g=_t;_t|=2;var x=P3(),E=N3();(Ft!==s||it!==u)&&(Q0=null,$c(s,u)),u=!1;var R=fn;e:do try{if(It!==0&&Je!==null){var L=Je,q=Ei;switch(It){case 8:yx(),R=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(u=!0);var J=It;if(It=0,Ei=null,qc(s,L,q,J),d&&Vc){R=0;break e}break;default:J=It,It=0,Ei=null,qc(s,L,q,J)}}_B(),R=fn;break}catch(se){O3(s,se)}while(!0);return u&&s.shellSuspendCounter++,Po=lu=null,_t=g,X.H=x,X.A=E,Je===null&&(Ft=null,it=0,x0()),R}function _B(){for(;Je!==null;)D3(Je)}function bB(s,u){var d=_t;_t|=2;var g=P3(),x=N3();Ft!==s||it!==u?(Q0=null,Y0=zr()+500,$c(s,u)):Vc=pa(s,u);e:do try{if(It!==0&&Je!==null){u=Je;var E=Ei;t:switch(It){case 1:It=0,Ei=null,qc(s,u,E,1);break;case 2:case 9:if(HT(E)){It=0,Ei=null,M3(u);break}u=function(){It!==2&&It!==9||Ft!==s||(It=7),no(s)},E.then(u,u);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:HT(E)?(It=0,Ei=null,M3(u)):(It=0,Ei=null,qc(s,u,E,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var L=Je;if(R?x4(R):L.stateNode.complete){It=0,Ei=null;var q=L.sibling;if(q!==null)Je=q;else{var J=L.return;J!==null?(Je=J,e1(J)):Je=null}break t}}It=0,Ei=null,qc(s,u,E,5);break;case 6:It=0,Ei=null,qc(s,u,E,6);break;case 8:yx(),fn=6;break e;default:throw Error(r(462))}}wB();break}catch(se){O3(s,se)}while(!0);return Po=lu=null,X.H=g,X.A=x,_t=d,Je!==null?0:(Ft=null,it=0,x0(),fn)}function wB(){for(;Je!==null&&!Xm();)D3(Je)}function D3(s){var u=r3(s.alternate,s,Vo);s.memoizedProps=s.pendingProps,u===null?e1(s):Je=u}function M3(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=QC(d,u,u.pendingProps,u.type,void 0,it);break;case 11:u=QC(d,u,u.pendingProps,u.type.render,u.ref,it);break;case 5:My(u);default:a3(d,u),u=Je=NT(u,Vo),u=r3(d,u,Vo)}s.memoizedProps=s.pendingProps,u===null?e1(s):Je=u}function qc(s,u,d,g){Po=lu=null,My(u),Mc=null,Od=0;var x=u.return;try{if(cB(s,x,u,d,it)){fn=1,V0(s,$i(d,s.current)),Je=null;return}}catch(E){if(x!==null)throw Je=x,E;fn=1,V0(s,$i(d,s.current)),Je=null;return}u.flags&32768?(ut||g===1?s=!0:Vc||(it&536870912)!==0?s=!1:(Fs=s=!0,(g===2||g===9||g===3||g===6)&&(g=bi.current,g!==null&&g.tag===13&&(g.flags|=16384))),k3(u,s)):e1(u)}function e1(s){var u=s;do{if((u.flags&32768)!==0){k3(u,Fs);return}s=u.return;var d=hB(u.alternate,u,Vo);if(d!==null){Je=d;return}if(u=u.sibling,u!==null){Je=u;return}Je=u=s}while(u!==null);fn===0&&(fn=5)}function k3(s,u){do{var d=pB(s.alternate,s);if(d!==null){d.flags&=32767,Je=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){Je=s;return}Je=s=d}while(s!==null);fn=6,Je=null}function j3(s,u,d,g,x,E,R,L,q){s.cancelPendingCommit=null;do t1();while(Hn!==0);if((_t&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=sy,Zm(s,d,E,R,L,q),s===Ft&&(Je=Ft=null,it=0),Hc=u,Hs=s,zo=d,gx=E,vx=x,S3=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,TB(_s,function(){return V3(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=X.T,X.T=null,x=re.p,re.p=2,R=_t,_t|=4;try{gB(s,u,d)}finally{_t=R,re.p=x,X.T=g}}Hn=1,L3(),B3(),U3()}}function L3(){if(Hn===1){Hn=0;var s=Hs,u=Hc,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var g=re.p;re.p=2;var x=_t;_t|=4;try{m3(u,s);var E=Px,R=ET(s.containerInfo),L=E.focusedElem,q=E.selectionRange;if(R!==L&&L&&L.ownerDocument&&wT(L.ownerDocument.documentElement,L)){if(q!==null&&ny(L)){var J=q.start,se=q.end;if(se===void 0&&(se=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(se,L.value.length);else{var ce=L.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ae=te.getSelection(),Se=L.textContent.length,Le=Math.min(q.start,Se),Lt=q.end===void 0?Le:Math.min(q.end,Se);!ae.extend&&Le>Lt&&(R=Lt,Lt=Le,Le=R);var K=bT(L,Le),W=bT(L,Lt);if(K&&W&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var Z=ce.createRange();Z.setStart(K.node,K.offset),ae.removeAllRanges(),Le>Lt?(ae.addRange(Z),ae.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ae.addRange(Z))}}}}for(ce=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var le=ce[L];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}h1=!!Rx,Px=Rx=null}finally{_t=x,re.p=g,X.T=d}}s.current=u,Hn=2}}function B3(){if(Hn===2){Hn=0;var s=Hs,u=Hc,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var g=re.p;re.p=2;var x=_t;_t|=4;try{d3(s,u.alternate,u)}finally{_t=x,re.p=g,X.T=d}}Hn=3}}function U3(){if(Hn===4||Hn===3){Hn=0,qp();var s=Hs,u=Hc,d=zo,g=S3;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Hn=5:(Hn=0,Hc=Hs=null,F3(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(zs=null),So(d),u=u.stateNode,pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(ha,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=X.T,x=re.p,re.p=2,X.T=null;try{for(var E=s.onRecoverableError,R=0;R<g.length;R++){var L=g[R];E(L.value,{componentStack:L.stack})}}finally{X.T=u,re.p=x}}(zo&3)!==0&&t1(),no(s),x=s.pendingLanes,(d&261930)!==0&&(x&42)!==0?s===mx?Gd++:(Gd=0,mx=s):Gd=0,Wd(0)}}function F3(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,Cd(u)))}function t1(){return L3(),B3(),U3(),V3()}function V3(){if(Hn!==5)return!1;var s=Hs,u=gx;gx=0;var d=So(zo),g=X.T,x=re.p;try{re.p=32>d?32:d,X.T=null,d=vx,vx=null;var E=Hs,R=zo;if(Hn=0,Hc=Hs=null,zo=0,(_t&6)!==0)throw Error(r(331));var L=_t;if(_t|=4,w3(E.current),x3(E,E.current,R,d),_t=L,Wd(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(ha,E)}catch{}return!0}finally{re.p=x,X.T=g,F3(s,u)}}function z3(s,u,d){u=$i(d,u),u=Xy(s.stateNode,u,2),s=js(s,u,2),s!==null&&(ql(s,2),no(s))}function Ot(s,u,d){if(s.tag===3)z3(s,s,d);else for(;u!==null;){if(u.tag===3){z3(u,s,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zs===null||!zs.has(g))){s=$i(d,s),d=HC(2),g=js(u,d,2),g!==null&&($C(d,g,u,s),ql(g,2),no(g));break}}u=u.return}}function _x(s,u,d){var g=s.pingCache;if(g===null){g=s.pingCache=new yB;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(dx=!0,x.add(d),s=EB.bind(null,s,u,d),u.then(s,s))}function EB(s,u,d){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ft===s&&(it&d)===d&&(fn===4||fn===3&&(it&62914560)===it&&300>zr()-X0?(_t&2)===0&&$c(s,0):hx|=d,zc===it&&(zc=0)),no(s)}function H3(s,u){u===0&&(u=Qp()),s=au(s,u),s!==null&&(ql(s,u),no(s))}function AB(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),H3(s,d)}function SB(s,u){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),H3(s,d)}function TB(s,u){return zn(s,u)}var n1=null,Gc=null,bx=!1,r1=!1,wx=!1,qs=0;function no(s){s!==Gc&&s.next===null&&(Gc===null?n1=Gc=s:Gc=Gc.next=s),r1=!0,bx||(bx=!0,IB())}function Wd(s,u){if(!wx&&r1){wx=!0;do for(var d=!1,g=n1;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var E=0;else{var R=g.suspendedLanes,L=g.pingedLanes;E=(1<<31-_n(42|s)+1)-1,E&=x&~(R&~L),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,W3(g,E))}else E=it,E=Ba(g,g===Ft?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||pa(g,E)||(d=!0,W3(g,E));g=g.next}while(d);wx=!1}}function CB(){$3()}function $3(){r1=bx=!1;var s=0;qs!==0&&BB()&&(s=qs);for(var u=zr(),d=null,g=n1;g!==null;){var x=g.next,E=q3(g,u);E===0?(g.next=null,d===null?n1=x:d.next=x,x===null&&(Gc=d)):(d=g,(s!==0||(E&3)!==0)&&(r1=!0)),g=x}Hn!==0&&Hn!==5||Wd(s),qs!==0&&(qs=0)}function q3(s,u){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var R=31-_n(E),L=1<<R,q=x[R];q===-1?((L&d)===0||(L&g)!==0)&&(x[R]=Qm(L,u)):q<=u&&(s.expiredLanes|=L),E&=~L}if(u=Ft,d=it,d=Ba(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===u&&(It===2||It===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&xs(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||pa(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(g!==null&&xs(g),So(d)){case 2:case 8:d=rd;break;case 32:d=_s;break;case 268435456:d=Gp;break;default:d=_s}return g=G3.bind(null,s),d=zn(d,g),s.callbackPriority=u,s.callbackNode=d,u}return g!==null&&g!==null&&xs(g),s.callbackPriority=2,s.callbackNode=null,2}function G3(s,u){if(Hn!==0&&Hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(t1()&&s.callbackNode!==d)return null;var g=it;return g=Ba(s,s===Ft?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(C3(s,g,u),q3(s,zr()),s.callbackNode!=null&&s.callbackNode===d?G3.bind(null,s):null)}function W3(s,u){if(t1())return null;C3(s,u,!0)}function IB(){FB(function(){(_t&6)!==0?zn(nd,CB):$3()})}function Ex(){if(qs===0){var s=Pc;s===0&&(s=ja,ja<<=1,(ja&261888)===0&&(ja=256)),qs=s}return qs}function K3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vc(""+s)}function X3(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function OB(s,u,d,g,x){if(u==="submit"&&d&&d.stateNode===x){var E=K3((x[tr]||null).action),R=g.submitter;R&&(u=(u=R[tr]||null)?K3(u.formAction):R.getAttribute("formAction"),u!==null&&(E=u,R=null));var L=new Xa("action","action",null,g,x);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(qs!==0){var q=R?X3(x,R):new FormData(x);Hy(d,{pending:!0,data:q,method:x.method,action:E},null,q)}}else typeof E=="function"&&(L.preventDefault(),q=R?X3(x,R):new FormData(x),Hy(d,{pending:!0,data:q,method:x.method,action:E},E,q))},currentTarget:x}]})}}for(var Ax=0;Ax<oy.length;Ax++){var Sx=oy[Ax],RB=Sx.toLowerCase(),PB=Sx[0].toUpperCase()+Sx.slice(1);wa(RB,"on"+PB)}wa(TT,"onAnimationEnd"),wa(CT,"onAnimationIteration"),wa(IT,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(WL,"onTransitionRun"),wa(KL,"onTransitionStart"),wa(XL,"onTransitionCancel"),wa(OT,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$a("onBeforeInput",["compositionend","keypress","textInput","paste"]),$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Y3(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var E=void 0;if(u)for(var R=g.length-1;0<=R;R--){var L=g[R],q=L.instance,J=L.currentTarget;if(L=L.listener,q!==E&&x.isPropagationStopped())break e;E=L,x.currentTarget=J;try{E(x)}catch(se){y0(se)}x.currentTarget=null,E=q}else for(R=0;R<g.length;R++){if(L=g[R],q=L.instance,J=L.currentTarget,L=L.listener,q!==E&&x.isPropagationStopped())break e;E=L,x.currentTarget=J;try{E(x)}catch(se){y0(se)}x.currentTarget=null,E=q}}}}function et(s,u){var d=u[fc];d===void 0&&(d=u[fc]=new Set);var g=s+"__bubble";d.has(g)||(Q3(u,s,2,!1),d.add(g))}function Tx(s,u,d){var g=0;u&&(g|=4),Q3(d,s,g,u)}var i1="_reactListening"+Math.random().toString(36).slice(2);function Cx(s){if(!s[i1]){s[i1]=!0,od.forEach(function(d){d!=="selectionchange"&&(NB.has(d)||Tx(d,!1,s),Tx(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[i1]||(u[i1]=!0,Tx("selectionchange",!1,u))}}function Q3(s,u,d,g){switch(T4(u)){case 2:var x=oU;break;case 8:x=sU;break;default:x=zx}d=x.bind(null,u,d,s),x=void 0,!Ql||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(u,d,{capture:!0,passive:x}):s.addEventListener(u,d,!0):x!==void 0?s.addEventListener(u,d,{passive:x}):s.addEventListener(u,d,!1)}function Ix(s,u,d,g,x){var E=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var L=g.stateNode.containerInfo;if(L===x)break;if(R===4)for(R=g.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;L!==null;){if(R=za(L),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){g=E=R;continue e}L=L.parentNode}}g=g.return}Ts(function(){var J=E,se=Fi(d),ce=[];e:{var te=RT.get(s);if(te!==void 0){var ae=Xa,Se=s;switch(s){case"keypress":if(Jl(d)===0)break e;case"keydown":case"keyup":ae=g0;break;case"focusin":Se="focus",ae=tu;break;case"focusout":Se="blur",ae=tu;break;case"beforeblur":case"afterblur":ae=tu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=T;break;case TT:case CT:case IT:ae=l0;break;case OT:ae=V;break;case"scroll":case"scrollend":ae=yd;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Io;break;case"toggle":case"beforetoggle":ae=qe}var Le=(u&4)!==0,Lt=!Le&&(s==="scroll"||s==="scrollend"),K=Le?te!==null?te+"Capture":null:te;Le=[];for(var W=J,Z;W!==null;){var le=W;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||K===null||(le=ya(W,K),le!=null&&Le.push(Xd(W,le,Z))),Lt)break;W=W.return}0<Le.length&&(te=new ae(te,Se,null,d,se),ce.push({event:te,listeners:Le}))}}if((u&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",te&&d!==gd&&(Se=d.relatedTarget||d.fromElement)&&(za(Se)||Se[Fa]))break e;if((ae||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(Se=d.relatedTarget||d.toElement,ae=J,Se=Se?za(Se):null,Se!==null&&(Lt=a(Se),Le=Se.tag,Se!==Lt||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(ae=null,Se=J),ae!==Se)){if(Le=xd,le="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Io,le="onPointerLeave",K="onPointerEnter",W="pointer"),Lt=ae==null?te:mi(ae),Z=Se==null?te:mi(Se),te=new Le(le,W+"leave",ae,d,se),te.target=Lt,te.relatedTarget=Z,le=null,za(se)===J&&(Le=new Le(K,W+"enter",Se,d,se),Le.target=Z,Le.relatedTarget=Lt,le=Le),Lt=le,ae&&Se)t:{for(Le=DB,K=ae,W=Se,Z=0,le=K;le;le=Le(le))Z++;le=0;for(var Pe=W;Pe;Pe=Le(Pe))le++;for(;0<Z-le;)K=Le(K),Z--;for(;0<le-Z;)W=Le(W),le--;for(;Z--;){if(K===W||W!==null&&K===W.alternate){Le=K;break t}K=Le(K),W=Le(W)}Le=null}else Le=null;ae!==null&&Z3(ce,te,ae,Le,!1),Se!==null&&Lt!==null&&Z3(ce,Lt,Se,Le,!0)}}e:{if(te=J?mi(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var pt=gT;else if(hT(te))if(vT)pt=$L;else{pt=zL;var Ie=VL}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&gc(J.elementType)&&(pt=gT):pt=HL;if(pt&&(pt=pt(s,J))){pT(ce,pt,d,se);break e}Ie&&Ie(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&dd(te,"number",te.value)}switch(Ie=J?mi(J):window,s){case"focusin":(hT(Ie)||Ie.contentEditable==="true")&&(Ec=Ie,ry=J,Ad=null);break;case"focusout":Ad=ry=Ec=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,AT(ce,d,se);break;case"selectionchange":if(GL)break;case"keydown":case"keyup":AT(ce,d,se)}var We;if(xt)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else wc?nu(s,d)&&(at="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(at="onCompositionStart");at&&(Za&&d.locale!=="ko"&&(wc||at!=="onCompositionStart"?at==="onCompositionEnd"&&wc&&(We=md()):(Ka=se,vd="value"in Ka?Ka.value:Ka.textContent,wc=!0)),Ie=a1(J,at),0<Ie.length&&(at=new Qa(at,s,null,d,se),ce.push({event:at,listeners:Ie}),We?at.data=We:(We=bc(d),We!==null&&(at.data=We)))),(We=zi?LL(s,d):BL(s,d))&&(at=a1(J,"onBeforeInput"),0<at.length&&(Ie=new Qa("onBeforeInput","beforeinput",null,d,se),ce.push({event:Ie,listeners:at}),Ie.data=We)),OB(ce,s,J,d,se)}Y3(ce,u)})}function Xd(s,u,d){return{instance:s,listener:u,currentTarget:d}}function a1(s,u){for(var d=u+"Capture",g=[];s!==null;){var x=s,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=ya(s,d),x!=null&&g.unshift(Xd(s,x,E)),x=ya(s,u),x!=null&&g.push(Xd(s,x,E))),s.tag===3)return g;s=s.return}return[]}function DB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Z3(s,u,d,g,x){for(var E=u._reactName,R=[];d!==null&&d!==g;){var L=d,q=L.alternate,J=L.stateNode;if(L=L.tag,q!==null&&q===g)break;L!==5&&L!==26&&L!==27||J===null||(q=J,x?(J=ya(d,E),J!=null&&R.unshift(Xd(d,J,q))):x||(J=ya(d,E),J!=null&&R.push(Xd(d,J,q)))),d=d.return}R.length!==0&&s.push({event:u,listeners:R})}var MB=/\r\n?/g,kB=/\u0000|\uFFFD/g;function J3(s){return(typeof s=="string"?s:""+s).replace(MB,`
`).replace(kB,"")}function e4(s,u){return u=J3(u),J3(s)===u}function jt(s,u,d,g,x,E){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||ei(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&ei(s,""+g);break;case"className":yi(s,"class",g);break;case"tabIndex":yi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(s,d,g);break;case"style":pd(s,g,E);break;case"data":if(u!=="object"){yi(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=vc(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(u!=="input"&&jt(s,u,"name",x.name,x,null),jt(s,u,"formEncType",x.formEncType,x,null),jt(s,u,"formMethod",x.formMethod,x,null),jt(s,u,"formTarget",x.formTarget,x,null)):(jt(s,u,"encType",x.encType,x,null),jt(s,u,"method",x.method,x,null),jt(s,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=vc(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=ma);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=vc(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":et("beforetoggle",s),et("toggle",s),hc(s,"popover",g);break;case"xlinkActuate":Pn(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Pn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Pn(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Pn(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Pn(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Pn(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Pn(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":hc(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=a0.get(d)||d,hc(s,d,g))}}function Ox(s,u,d,g,x,E){switch(d){case"style":pd(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof g=="string"?ei(s,g):(typeof g=="number"||typeof g=="bigint")&&ei(s,""+g);break;case"onScroll":g!=null&&et("scroll",s);break;case"onScrollEnd":g!=null&&et("scrollend",s);break;case"onClick":g!=null&&(s.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),E=s[tr]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(u,E,x),typeof g=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,g,x);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):hc(s,d,g)}}}function xr(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var g=!1,x=!1,E;for(E in d)if(d.hasOwnProperty(E)){var R=d[E];if(R!=null)switch(E){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,E,R,d,null)}}x&&jt(s,u,"srcSet",d.srcSet,d,null),g&&jt(s,u,"src",d.src,d,null);return;case"input":et("invalid",s);var L=E=R=x=null,q=null,J=null;for(g in d)if(d.hasOwnProperty(g)){var se=d[g];if(se!=null)switch(g){case"name":x=se;break;case"type":R=se;break;case"checked":q=se;break;case"defaultChecked":J=se;break;case"value":E=se;break;case"defaultValue":L=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,u));break;default:jt(s,u,g,se,d,null)}}n0(s,E,L,q,J,R,x,!1);return;case"select":et("invalid",s),g=R=E=null;for(x in d)if(d.hasOwnProperty(x)&&(L=d[x],L!=null))switch(x){case"value":E=L;break;case"defaultValue":R=L;break;case"multiple":g=L;default:jt(s,u,x,L,d,null)}u=E,d=R,s.multiple=!!g,u!=null?ws(s,!!g,u,!1):d!=null&&ws(s,!!g,d,!0);return;case"textarea":et("invalid",s),E=x=g=null;for(R in d)if(d.hasOwnProperty(R)&&(L=d[R],L!=null))switch(R){case"value":g=L;break;case"defaultValue":x=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:jt(s,u,R,L,d,null)}Es(s,g,x,E);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(g=d[q],g!=null))switch(q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jt(s,u,q,g,d,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(g=0;g<Kd.length;g++)et(Kd[g],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,J,g,d,null)}return;default:if(gc(u)){for(se in d)d.hasOwnProperty(se)&&(g=d[se],g!==void 0&&Ox(s,u,se,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&jt(s,u,L,g,d,null))}function jB(s,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,R=null,L=null,q=null,J=null,se=null;for(ae in d){var ce=d[ae];if(d.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=ce;default:g.hasOwnProperty(ae)||jt(s,u,ae,null,g,ce)}}for(var te in g){var ae=g[te];if(ce=d[te],g.hasOwnProperty(te)&&(ae!=null||ce!=null))switch(te){case"type":E=ae;break;case"name":x=ae;break;case"checked":J=ae;break;case"defaultChecked":se=ae;break;case"value":R=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,u));break;default:ae!==ce&&jt(s,u,te,ae,g,ce)}}pc(s,R,L,q,J,se,E,x);return;case"select":ae=R=L=te=null;for(E in d)if(q=d[E],d.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":ae=q;default:g.hasOwnProperty(E)||jt(s,u,E,null,g,q)}for(x in g)if(E=g[x],q=d[x],g.hasOwnProperty(x)&&(E!=null||q!=null))switch(x){case"value":te=E;break;case"defaultValue":L=E;break;case"multiple":R=E;default:E!==q&&jt(s,u,x,E,g,q)}u=L,d=R,g=ae,te!=null?ws(s,!!d,te,!1):!!g!=!!d&&(u!=null?ws(s,!!d,u,!0):ws(s,!!d,d?[]:"",!1));return;case"textarea":ae=te=null;for(L in d)if(x=d[L],d.hasOwnProperty(L)&&x!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:jt(s,u,L,null,g,x)}for(R in g)if(x=g[R],E=d[R],g.hasOwnProperty(R)&&(x!=null||E!=null))switch(R){case"value":te=x;break;case"defaultValue":ae=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==E&&jt(s,u,R,x,g,E)}r0(s,te,ae);return;case"option":for(var Se in d)if(te=d[Se],d.hasOwnProperty(Se)&&te!=null&&!g.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:jt(s,u,Se,null,g,te)}for(q in g)if(te=g[q],ae=d[q],g.hasOwnProperty(q)&&te!==ae&&(te!=null||ae!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:jt(s,u,q,te,g,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)te=d[Le],d.hasOwnProperty(Le)&&te!=null&&!g.hasOwnProperty(Le)&&jt(s,u,Le,null,g,te);for(J in g)if(te=g[J],ae=d[J],g.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:jt(s,u,J,te,g,ae)}return;default:if(gc(u)){for(var Lt in d)te=d[Lt],d.hasOwnProperty(Lt)&&te!==void 0&&!g.hasOwnProperty(Lt)&&Ox(s,u,Lt,void 0,g,te);for(se in g)te=g[se],ae=d[se],!g.hasOwnProperty(se)||te===ae||te===void 0&&ae===void 0||Ox(s,u,se,te,g,ae);return}}for(var K in d)te=d[K],d.hasOwnProperty(K)&&te!=null&&!g.hasOwnProperty(K)&&jt(s,u,K,null,g,te);for(ce in g)te=g[ce],ae=d[ce],!g.hasOwnProperty(ce)||te===ae||te==null&&ae==null||jt(s,u,ce,te,g,ae)}function t4(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var x=d[g],E=x.transferSize,R=x.initiatorType,L=x.duration;if(E&&L&&t4(R)){for(R=0,L=x.responseEnd,g+=1;g<d.length;g++){var q=d[g],J=q.startTime;if(J>L)break;var se=q.transferSize,ce=q.initiatorType;se&&t4(ce)&&(q=q.responseEnd,R+=se*(q<L?1:(L-J)/(q-J)))}if(--g,u+=8*(E+R)/(x.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Rx=null,Px=null;function o1(s){return s.nodeType===9?s:s.ownerDocument}function n4(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r4(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function Nx(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Dx=null;function BB(){var s=window.event;return s&&s.type==="popstate"?s===Dx?!1:(Dx=s,!0):(Dx=null,!1)}var i4=typeof setTimeout=="function"?setTimeout:void 0,UB=typeof clearTimeout=="function"?clearTimeout:void 0,a4=typeof Promise=="function"?Promise:void 0,FB=typeof queueMicrotask=="function"?queueMicrotask:typeof a4<"u"?function(s){return a4.resolve(null).then(s).catch(VB)}:i4;function VB(s){setTimeout(function(){throw s})}function Gs(s){return s==="head"}function o4(s,u){var d=u,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(x),Yc(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Yd(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Yd(d);for(var E=d.firstChild;E;){var R=E.nextSibling,L=E.nodeName;E[Va]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=R}}else d==="body"&&Yd(s.ownerDocument.body);d=x}while(d);Yc(u)}function s4(s,u){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function Mx(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Mx(d),dc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function zB(s,u,d,g){for(;s.nodeType===1;){var x=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Va])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Xi(s.nextSibling),s===null)break}return null}function HB(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Xi(s.nextSibling),s===null))return null;return s}function l4(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Xi(s.nextSibling),s===null))return null;return s}function kx(s){return s.data==="$?"||s.data==="$~"}function jx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function $B(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Xi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var Lx=null;function u4(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return Xi(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function c4(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function f4(s,u,d){switch(u=o1(d),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yd(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);dc(s)}var Yi=new Map,d4=new Set;function s1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ho=re.d;re.d={f:qB,r:GB,D:WB,C:KB,L:XB,m:YB,X:ZB,S:QB,M:JB};function qB(){var s=Ho.f(),u=Z0();return s||u}function GB(s){var u=Ui(s);u!==null&&u.tag===5&&u.type==="form"?OC(u):Ho.r(s)}var Wc=typeof document>"u"?null:document;function h4(s,u,d){var g=Wc;if(g&&typeof u=="string"&&u){var x=Jr(u);x='link[rel="'+s+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),d4.has(x)||(d4.add(x),s={rel:s,crossOrigin:d,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),xr(u,"link",s),Rn(u),g.head.appendChild(u)))}}function WB(s){Ho.D(s),h4("dns-prefetch",s,null)}function KB(s,u){Ho.C(s,u),h4("preconnect",s,u)}function XB(s,u,d){Ho.L(s,u,d);var g=Wc;if(g&&s&&u){var x='link[rel="preload"][as="'+Jr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Jr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Jr(d.imageSizes)+'"]')):x+='[href="'+Jr(s)+'"]';var E=x;switch(u){case"style":E=Kc(s);break;case"script":E=Xc(s)}Yi.has(E)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),Yi.set(E,s),g.querySelector(x)!==null||u==="style"&&g.querySelector(Qd(E))||u==="script"&&g.querySelector(Zd(E))||(u=g.createElement("link"),xr(u,"link",s),Rn(u),g.head.appendChild(u)))}}function YB(s,u){Ho.m(s,u);var d=Wc;if(d&&s){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Jr(g)+'"][href="'+Jr(s)+'"]',E=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Xc(s)}if(!Yi.has(E)&&(s=p({rel:"modulepreload",href:s},u),Yi.set(E,s),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Zd(E)))return}g=d.createElement("link"),xr(g,"link",s),Rn(g),d.head.appendChild(g)}}}function QB(s,u,d){Ho.S(s,u,d);var g=Wc;if(g&&s){var x=Ha(g).hoistableStyles,E=Kc(s);u=u||"default";var R=x.get(E);if(!R){var L={loading:0,preload:null};if(R=g.querySelector(Qd(E)))L.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=Yi.get(E))&&Bx(s,d);var q=R=g.createElement("link");Rn(q),xr(q,"link",s),q._p=new Promise(function(J,se){q.onload=J,q.onerror=se}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,l1(R,u,g)}R={type:"stylesheet",instance:R,count:1,state:L},x.set(E,R)}}}function ZB(s,u){Ho.X(s,u);var d=Wc;if(d&&s){var g=Ha(d).hoistableScripts,x=Xc(s),E=g.get(x);E||(E=d.querySelector(Zd(x)),E||(s=p({src:s,async:!0},u),(u=Yi.get(x))&&Ux(s,u),E=d.createElement("script"),Rn(E),xr(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(x,E))}}function JB(s,u){Ho.M(s,u);var d=Wc;if(d&&s){var g=Ha(d).hoistableScripts,x=Xc(s),E=g.get(x);E||(E=d.querySelector(Zd(x)),E||(s=p({src:s,async:!0,type:"module"},u),(u=Yi.get(x))&&Ux(s,u),E=d.createElement("script"),Rn(E),xr(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(x,E))}}function p4(s,u,d,g){var x=(x=$e.current)?s1(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Kc(d.href),d=Ha(x).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Kc(d.href);var E=Ha(x).hoistableStyles,R=E.get(s);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,R),(E=x.querySelector(Qd(s)))&&!E._p&&(R.instance=E,R.state.loading=5),Yi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yi.set(s,d),E||eU(x,s,d,R.state))),u&&g===null)throw Error(r(528,""));return R}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Xc(d),d=Ha(x).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Kc(s){return'href="'+Jr(s)+'"'}function Qd(s){return'link[rel="stylesheet"]['+s+"]"}function g4(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function eU(s,u,d,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),xr(u,"link",d),Rn(u),s.head.appendChild(u))}function Xc(s){return'[src="'+Jr(s)+'"]'}function Zd(s){return"script[async]"+s}function v4(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Jr(d.href)+'"]');if(g)return u.instance=g,Rn(g),g;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Rn(g),xr(g,"style",x),l1(g,d.precedence,s),u.instance=g;case"stylesheet":x=Kc(d.href);var E=s.querySelector(Qd(x));if(E)return u.state.loading|=4,u.instance=E,Rn(E),E;g=g4(d),(x=Yi.get(x))&&Bx(g,x),E=(s.ownerDocument||s).createElement("link"),Rn(E);var R=E;return R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),xr(E,"link",g),u.state.loading|=4,l1(E,d.precedence,s),u.instance=E;case"script":return E=Xc(d.src),(x=s.querySelector(Zd(E)))?(u.instance=x,Rn(x),x):(g=d,(x=Yi.get(E))&&(g=p({},d),Ux(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),Rn(x),xr(x,"link",g),s.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,l1(g,d.precedence,s));return u.instance}function l1(s,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,E=x,R=0;R<g.length;R++){var L=g[R];if(L.dataset.precedence===u)E=L;else if(E!==x)break}E?E.parentNode.insertBefore(s,E.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function Bx(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function Ux(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var u1=null;function m4(s,u,d){if(u1===null){var g=new Map,x=u1=new Map;x.set(d,g)}else x=u1,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),x=0;x<d.length;x++){var E=d[x];if(!(E[Va]||E[On]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(u)||"";R=s+R;var L=g.get(R);L?L.push(E):g.set(R,[E])}}return g}function y4(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function tU(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function x4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function nU(s,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Kc(g.href),E=u.querySelector(Qd(x));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=c1.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=E,Rn(E);return}E=u.ownerDocument||u,g=g4(g),(x=Yi.get(x))&&Bx(g,x),E=E.createElement("link"),Rn(E);var R=E;R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),xr(E,"link",g),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=c1.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var Fx=0;function rU(s,u){return s.stylesheets&&s.count===0&&d1(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&d1(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+u);0<s.imgBytes&&Fx===0&&(Fx=62500*LB());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&d1(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>Fx?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function c1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)d1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var f1=null;function d1(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,f1=new Map,u.forEach(iU,s),f1=null,c1.call(s))}function iU(s,u){if(!(u.state.loading&4)){var d=f1.get(s);if(d)var g=d.get(null);else{d=new Map,f1.set(s,d);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var R=x[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}x=u.instance,R=x.getAttribute("data-precedence"),E=d.get(R)||g,E===g&&d.set(null,x),d.set(R,x),this.count++,g=c1.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),E?E.parentNode.insertBefore(x,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),u.state.loading|=4}}var Jd={$$typeof:O,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function aU(s,u,d,g,x,E,R,L,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function _4(s,u,d,g,x,E,R,L,q,J,se,ce){return s=new aU(s,u,d,R,q,J,se,ce,L),u=1,E===!0&&(u|=24),E=_i(3,null,null,u),s.current=E,E.stateNode=s,u=xy(),u.refCount++,s.pooledCache=u,u.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:u},Ey(E),s}function b4(s){return s?(s=Tc,s):Tc}function w4(s,u,d,g,x,E){x=b4(x),g.context===null?g.context=x:g.pendingContext=x,g=ks(u),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=js(s,g,u),d!==null&&(ai(d,s,u),Pd(d,s,u))}function E4(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function Vx(s,u){E4(s,u),(s=s.alternate)&&E4(s,u)}function A4(s){if(s.tag===13||s.tag===31){var u=au(s,67108864);u!==null&&ai(u,s,67108864),Vx(s,67108864)}}function S4(s){if(s.tag===13||s.tag===31){var u=Si();u=Wl(u);var d=au(s,u);d!==null&&ai(d,s,u),Vx(s,u)}}var h1=!0;function oU(s,u,d,g){var x=X.T;X.T=null;var E=re.p;try{re.p=2,zx(s,u,d,g)}finally{re.p=E,X.T=x}}function sU(s,u,d,g){var x=X.T;X.T=null;var E=re.p;try{re.p=8,zx(s,u,d,g)}finally{re.p=E,X.T=x}}function zx(s,u,d,g){if(h1){var x=Hx(g);if(x===null)Ix(s,u,g,p1,d),C4(s,g);else if(uU(x,s,u,d,g))g.stopPropagation();else if(C4(s,g),u&4&&-1<lU.indexOf(s)){for(;x!==null;){var E=Ui(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=La(E.pendingLanes);if(R!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var q=1<<31-_n(R);L.entanglements[1]|=q,R&=~q}no(E),(_t&6)===0&&(Y0=zr()+500,Wd(0))}}break;case 31:case 13:L=au(E,2),L!==null&&ai(L,E,2),Z0(),Vx(E,2)}if(E=Hx(g),E===null&&Ix(s,u,g,p1,d),E===x)break;x=E}x!==null&&g.stopPropagation()}else Ix(s,u,g,null,d)}}function Hx(s){return s=Fi(s),$x(s)}var p1=null;function $x(s){if(p1=null,s=za(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return p1=s,null}function T4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hl()){case nd:return 2;case rd:return 8;case _s:case Ym:return 32;case Gp:return 268435456;default:return 32}default:return 32}}var qx=!1,Ws=null,Ks=null,Xs=null,eh=new Map,th=new Map,Ys=[],lU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C4(s,u){switch(s){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":eh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(u.pointerId)}}function nh(s,u,d,g,x,E){return s===null||s.nativeEvent!==E?(s={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[x]},u!==null&&(u=Ui(u),u!==null&&A4(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),s)}function uU(s,u,d,g,x){switch(u){case"focusin":return Ws=nh(Ws,s,u,d,g,x),!0;case"dragenter":return Ks=nh(Ks,s,u,d,g,x),!0;case"mouseover":return Xs=nh(Xs,s,u,d,g,x),!0;case"pointerover":var E=x.pointerId;return eh.set(E,nh(eh.get(E)||null,s,u,d,g,x)),!0;case"gotpointercapture":return E=x.pointerId,th.set(E,nh(th.get(E)||null,s,u,d,g,x)),!0}return!1}function I4(s){var u=za(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,ga(s.priority,function(){S4(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,ga(s.priority,function(){S4(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function g1(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=Hx(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);gd=g,d.target.dispatchEvent(g),gd=null}else return u=Ui(d),u!==null&&A4(u),s.blockedOn=d,!1;u.shift()}return!0}function O4(s,u,d){g1(s)&&d.delete(u)}function cU(){qx=!1,Ws!==null&&g1(Ws)&&(Ws=null),Ks!==null&&g1(Ks)&&(Ks=null),Xs!==null&&g1(Xs)&&(Xs=null),eh.forEach(O4),th.forEach(O4)}function v1(s,u){s.blockedOn===u&&(s.blockedOn=null,qx||(qx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cU)))}var m1=null;function R4(s){m1!==s&&(m1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){m1===s&&(m1=null);for(var u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],x=s[u+2];if(typeof g!="function"){if($x(g||d)===null)continue;break}var E=Ui(d);E!==null&&(s.splice(u,3),u-=3,Hy(E,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function Yc(s){function u(q){return v1(q,s)}Ws!==null&&v1(Ws,s),Ks!==null&&v1(Ks,s),Xs!==null&&v1(Xs,s),eh.forEach(u),th.forEach(u);for(var d=0;d<Ys.length;d++){var g=Ys[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ys.length&&(d=Ys[0],d.blockedOn===null);)I4(d),d.blockedOn===null&&Ys.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],E=d[g+1],R=x[tr]||null;if(typeof E=="function")R||R4(d);else if(R){var L=null;if(E&&E.hasAttribute("formAction")){if(x=E,R=E[tr]||null)L=R.formAction;else if($x(x)!==null)continue}else L=R.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),R4(d)}}}function P4(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(R){return x=R})},focusReset:"manual",scroll:"manual"})}function u(){x!==null&&(x(),x=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),x!==null&&(x(),x=null)}}}function Gx(s){this._internalRoot=s}y1.prototype.render=Gx.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,g=Si();w4(d,g,s,u,null,null)},y1.prototype.unmount=Gx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;w4(s.current,2,null,s,null,null),Z0(),u[Fa]=null}};function y1(s){this._internalRoot=s}y1.prototype.unstable_scheduleHydration=function(s){if(s){var u=Zp();s={blockedOn:null,target:s,priority:u};for(var d=0;d<Ys.length&&u!==0&&u<Ys[d].priority;d++);Ys.splice(d,0,s),d===0&&I4(s)}};var N4=e.version;if(N4!=="19.2.0")throw Error(r(527,N4,"19.2.0"));re.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(u),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var fU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x1.isDisabled&&x1.supportsFiber)try{ha=x1.inject(fU),pr=x1}catch{}}return ih.createRoot=function(s,u){if(!i(s))throw Error(r(299));var d=!1,g="",x=UC,E=FC,R=VC;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),u=_4(s,1,!1,null,null,d,g,null,x,E,R,P4),s[Fa]=u.current,Cx(s),new Gx(u)},ih.hydrateRoot=function(s,u,d){if(!i(s))throw Error(r(299));var g=!1,x="",E=UC,R=FC,L=VC,q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),u=_4(s,1,!0,u,d??null,g,x,q,E,R,L,P4),u.context=b4(null),d=u.current,g=Si(),g=Wl(g),x=ks(g),x.callback=null,js(d,x,g),d=g,u.current.lanes=d,ql(u,d),no(u),s[Fa]=u.current,Cx(s),new y1(u)},ih.version="19.2.0",ih}var z4;function wU(){if(z4)return Xx.exports;z4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xx.exports=bU(),Xx.exports}var EU=wU();const AU=xo(EU),SU=({title:t})=>_.jsx("header",{children:t});var CN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H4=Br.createContext&&Br.createContext(CN),TU=["attr","size","title"];function CU(t,e){if(t==null)return{};var n=IU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){OU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OU(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RU(t){var e=PU(t,"string");return typeof e=="symbol"?e:e+""}function PU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IN(t){return t&&t.map((e,n)=>Br.createElement(e.tag,vg({key:n},e.attr),IN(e.child)))}function De(t){return e=>Br.createElement(NU,gg({attr:vg({},t.attr)},e),IN(t.child))}function NU(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=CU(t,TU),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Br.createElement("svg",gg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:vg(vg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Br.createElement("title",null,a),t.children)};return H4!==void 0?Br.createElement(H4.Consumer,null,n=>e(n)):e(CN)}function DU(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function MU(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function Rv(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function kU(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function jU(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Pv(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(t)}function Nv(t){return De({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function Dv(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(t)}function Mv(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function LU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"},child:[]}]})(t)}function up(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function BU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(t)}function UU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(t)}function FU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2 11.7V16h-4v-2.3C8.48 12.63 7 11.53 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.49-1.51 3.65-3 4.7z"},child:[]}]})(t)}function Du(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function VU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(t)}function zU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function ON(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(t)}function HU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function kv(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function $U(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"},child:[]}]})(t)}function RN(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function PN(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function NN(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function qU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function jv(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function GU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(t)}function DN(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}function gf(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(t)}function WU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"},child:[]}]})(t)}function Uw(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function KU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function XU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function YU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"},child:[]}]})(t)}function mg(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"},child:[]}]})(t)}function Fh(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m9.4 10.5 4.77-8.26a9.984 9.984 0 0 0-8.49 2.01l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25A9.91 9.91 0 0 0 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75A9.958 9.958 0 0 0 2.2 14h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0-3.9 6.76a9.984 9.984 0 0 0 8.49-2.01l-3.66-6.35-.93 1.6z"},child:[]}]})(t)}function QU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function ZU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3.2"},child:[]},{tag:"path",attr:{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},child:[]}]})(t)}function yg(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(t)}function Fw(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(t)}function Vw(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(t)}function Jx(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function JU(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(t)}function eF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(t)}function MN(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(t)}function Lv(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function tF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94A5.01 5.01 0 0 0 11 15.9V19H7v2h10v-2h-4v-3.1a5.01 5.01 0 0 0 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"},child:[]}]})(t)}function nF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"},child:[]}]})(t)}function rF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(t)}function Vh(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function iF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"},child:[]}]})(t)}function aF(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"},child:[]}]})(t)}function nb(t){return De({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(t)}const oF=({currentScreen:t,onNavigate:e})=>{const n=[{screen:"home",icon:_.jsx(kU,{size:24}),label:"ホーム"},{screen:"meals",icon:_.jsx(Fw,{size:24}),label:"食事"},{screen:"barcode",icon:_.jsx(MU,{size:24}),label:"スキャン"},{screen:"report",icon:_.jsx(DU,{size:24}),label:"レポート"},{screen:"settings",icon:_.jsx(jU,{size:24}),label:"設定"}];return _.jsx("nav",{id:"bottomNav",children:n.map(r=>_.jsxs("button",{className:`nav-item ${t===r.screen?"active":""}`,onClick:()=>e(r.screen),children:[_.jsx("span",{children:r.icon}),_.jsx("span",{children:r.label})]},r.screen))})},q4=t=>{let e;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(m=>m(e,v))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(r,i,l);return l},sF=(t=>t?q4(t):q4),lF=t=>t;function uF(t,e=lF){const n=Br.useSyncExternalStore(t.subscribe,Br.useCallback(()=>e(t.getState()),[t,e]),Br.useCallback(()=>e(t.getInitialState()),[t,e]));return Br.useDebugValue(n),n}const G4=t=>{const e=sF(t),n=r=>uF(e,r);return Object.assign(n,e),n},tc=(t=>t?G4(t):G4);function xl(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`localStorage取得エラー (${t}):`,n),e}}function Dt(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`localStorage保存エラー (${t}):`,n)}}const tt={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPE_HISTORY:"recipeHistory",FAVORITE_RECIPES:"favoriteRecipes",SETTINGS:"settings",BADGES:"app-badges"},_r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function cF(t,e=0){return(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase()}let e2;const fF=new Uint8Array(16);function dF(){if(!e2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");e2=crypto.getRandomValues.bind(crypto)}return e2(fF)}const hF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W4={randomUUID:hF};function pF(t,e,n){t=t||{};const r=t.random??t.rng?.()??dF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cF(r)}function gF(t,e,n){return W4.randomUUID&&!t?W4.randomUUID():pF(t)}function fl(){return gF()}const vF=()=>{};var K4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},jN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(v=64)),r.push(n[h],n[p],n[v],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new yF;const v=a<<2|l>>4;if(r.push(v),f!==64){const m=l<<4&240|f>>2;if(r.push(m),p!==64){const b=f<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xF=function(t){const e=kN(t);return jN.encodeByteArray(e,!0)},xg=function(t){return xF(t).replace(/\./g,"")},LN=function(t){try{return jN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=()=>_F().__FIREBASE_DEFAULTS__,wF=()=>{if(typeof process>"u"||typeof K4>"u")return;const t=K4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LN(t[1]);return e&&JSON.parse(e)},Bv=()=>{try{return vF()||bF()||wF()||EF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BN=t=>Bv()?.emulatorHosts?.[t],zw=t=>{const e=BN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UN=()=>Bv()?.config,FN=t=>Bv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xg(JSON.stringify(n)),xg(JSON.stringify(o)),""].join(".")}const Ph={};function SF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function TF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X4=!1;function Fv(t,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ph[t]===e||Ph[t]||X4)return;Ph[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=SF().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,m){v.setAttribute("width","24"),v.setAttribute("id",m),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{X4=!0,o()},v}function h(v,m){v.setAttribute("id",m),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=TF(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),A=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),I=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),h(A,w);const N=f();c(I,S),O.append(I,b,A,N),document.body.appendChild(O)}a?(b.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function IF(){const t=Bv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NF(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DF(){return!IF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MF(){try{return typeof indexedDB=="object"}catch{return!1}}function kF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="FirebaseError";class Ma extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jF,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cp.prototype.create)}}class cp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?LF(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ma(i,l,r)}}function LF(t,e){return t.replace(BF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BF=/\{\$([^}]+)}/g;function UF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(Y4(a)&&Y4(o)){if(!zu(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function _h(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FF(t,e){const n=new VF(t,e);return n.subscribe.bind(n)}class VF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=t2),i.error===void 0&&(i.error=t2),i.complete===void 0&&(i.complete=t2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qF(e))try{this.getOrInitializeService({instanceIdentifier:bu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bu){return this.instances.has(e)}getOptions(e=bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$F(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bu){return this.component?this.component.multipleInstances?e:bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $F(t){return t===bu?void 0:t}function qF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const WF={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},KF=ot.INFO,XF={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},YF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hw{constructor(e){this.name=e,this._logLevel=KF,this._logHandler=YF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const QF=(t,e)=>e.some(n=>t instanceof n);let Q4,Z4;function ZF(){return Q4||(Q4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JF(){return Z4||(Z4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zN=new WeakMap,rb=new WeakMap,HN=new WeakMap,n2=new WeakMap,$w=new WeakMap;function eV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(dl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zN.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function tV(t){if(rb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});rb.set(t,e)}let ib={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nV(t){ib=t(ib)}function rV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(r2(this),e,...n);return HN.set(r,e.sort?e.sort():[e]),dl(r)}:JF().includes(t)?function(...e){return t.apply(r2(this),e),dl(zN.get(this))}:function(...e){return dl(t.apply(r2(this),e))}}function iV(t){return typeof t=="function"?rV(t):(t instanceof IDBTransaction&&tV(t),QF(t,ZF())?new Proxy(t,ib):t)}function dl(t){if(t instanceof IDBRequest)return eV(t);if(n2.has(t))return n2.get(t);const e=iV(t);return e!==t&&(n2.set(t,e),$w.set(e,t)),e}const r2=t=>$w.get(t);function aV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=dl(o);return r&&o.addEventListener("upgradeneeded",c=>{r(dl(o.result),c.oldVersion,c.newVersion,dl(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const oV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],i2=new Map;function J4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(i2.get(e))return i2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oV.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return i2.set(e,a),a}nV(t=>({...t,get:(e,n,r)=>J4(e,n)||t.get(e,n,r),has:(e,n)=>!!J4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uV(t){return t.getComponent()?.type==="VERSION"}const ab="@firebase/app",eI="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Hw("@firebase/app"),cV="@firebase/app-compat",fV="@firebase/analytics-compat",dV="@firebase/analytics",hV="@firebase/app-check-compat",pV="@firebase/app-check",gV="@firebase/auth",vV="@firebase/auth-compat",mV="@firebase/database",yV="@firebase/data-connect",xV="@firebase/database-compat",_V="@firebase/functions",bV="@firebase/functions-compat",wV="@firebase/installations",EV="@firebase/installations-compat",AV="@firebase/messaging",SV="@firebase/messaging-compat",TV="@firebase/performance",CV="@firebase/performance-compat",IV="@firebase/remote-config",OV="@firebase/remote-config-compat",RV="@firebase/storage",PV="@firebase/storage-compat",NV="@firebase/firestore",DV="@firebase/ai",MV="@firebase/firestore-compat",kV="firebase",jV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="[DEFAULT]",LV={[ab]:"fire-core",[cV]:"fire-core-compat",[dV]:"fire-analytics",[fV]:"fire-analytics-compat",[pV]:"fire-app-check",[hV]:"fire-app-check-compat",[gV]:"fire-auth",[vV]:"fire-auth-compat",[mV]:"fire-rtdb",[yV]:"fire-data-connect",[xV]:"fire-rtdb-compat",[_V]:"fire-fn",[bV]:"fire-fn-compat",[wV]:"fire-iid",[EV]:"fire-iid-compat",[AV]:"fire-fcm",[SV]:"fire-fcm-compat",[TV]:"fire-perf",[CV]:"fire-perf-compat",[IV]:"fire-rc",[OV]:"fire-rc-compat",[RV]:"fire-gcs",[PV]:"fire-gcs-compat",[NV]:"fire-fst",[MV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[kV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new Map,BV=new Map,sb=new Map;function tI(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _l(t){const e=t.name;if(sb.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;sb.set(e,t);for(const n of _g.values())tI(n,t);for(const n of BV.values())tI(n,t);return!0}function dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hl=new cp("app","Firebase",UV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=jV;function $N(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ob,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw hl.create("bad-app-name",{appName:String(i)});if(n||(n=UN()),!n)throw hl.create("no-options");const a=_g.get(i);if(a){if(zu(n,a.options)&&zu(r,a.config))return a;throw hl.create("duplicate-app",{appName:i})}const o=new GF(i);for(const c of sb.values())o.addComponent(c);const l=new FV(n,r,o);return _g.set(i,l),l}function Vv(t=ob){const e=_g.get(t);if(!e&&t===ob&&UN())return $N();if(!e)throw hl.create("no-app",{appName:t});return e}function oa(t,e,n){let r=LV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(o.join(" "));return}_l(new ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="firebase-heartbeat-database",zV=1,zh="firebase-heartbeat-store";let a2=null;function qN(){return a2||(a2=aV(VV,zV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw hl.create("idb-open",{originalErrorMessage:t.message})})),a2}async function HV(t){try{const n=(await qN()).transaction(zh),r=await n.objectStore(zh).get(GN(t));return await n.done,r}catch(e){if(e instanceof Ma)ns.warn(e.message);else{const n=hl.create("idb-get",{originalErrorMessage:e?.message});ns.warn(n.message)}}}async function nI(t,e){try{const r=(await qN()).transaction(zh,"readwrite");await r.objectStore(zh).put(e,GN(t)),await r.done}catch(n){if(n instanceof Ma)ns.warn(n.message);else{const r=hl.create("idb-set",{originalErrorMessage:n?.message});ns.warn(r.message)}}}function GN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=1024,qV=30;class GV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qV){const i=XV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rI(),{heartbeatsToSend:n,unsentEntries:r}=WV(this._heartbeatsCache.heartbeats),i=xg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ns.warn(e),""}}}function rI(){return new Date().toISOString().substring(0,10)}function WV(t,e=$V){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),iI(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MF()?kF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iI(t){return xg(JSON.stringify({version:2,heartbeats:t})).length}function XV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){_l(new ts("platform-logger",e=>new lV(e),"PRIVATE")),_l(new ts("heartbeat",e=>new GV(e),"PRIVATE")),oa(ab,eI,t),oa(ab,eI,"esm2020"),oa("fire-js","")}YV("");var aI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pl,WN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function j(){}j.prototype=M.prototype,P.F=M.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(z,U,H){for(var F=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)F[pe-2]=arguments[pe];return M.prototype[U].apply(z,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,M,j){j||(j=0);const z=Array(16);if(typeof M=="string")for(var U=0;U<16;++U)z[U]=M.charCodeAt(j++)|M.charCodeAt(j++)<<8|M.charCodeAt(j++)<<16|M.charCodeAt(j++)<<24;else for(U=0;U<16;++U)z[U]=M[j++]|M[j++]<<8|M[j++]<<16|M[j++]<<24;M=P.g[0],j=P.g[1],U=P.g[2];let H=P.g[3],F;F=M+(H^j&(U^H))+z[0]+3614090360&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[1]+3905402710&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[2]+606105819&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[3]+3250441966&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[4]+4118548399&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[5]+1200080426&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[6]+2821735955&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[7]+4249261313&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[8]+1770035416&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[9]+2336552879&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[10]+4294925233&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[11]+2304563134&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(H^j&(U^H))+z[12]+1804603682&4294967295,M=j+(F<<7&4294967295|F>>>25),F=H+(U^M&(j^U))+z[13]+4254626195&4294967295,H=M+(F<<12&4294967295|F>>>20),F=U+(j^H&(M^j))+z[14]+2792965006&4294967295,U=H+(F<<17&4294967295|F>>>15),F=j+(M^U&(H^M))+z[15]+1236535329&4294967295,j=U+(F<<22&4294967295|F>>>10),F=M+(U^H&(j^U))+z[1]+4129170786&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[6]+3225465664&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[11]+643717713&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[0]+3921069994&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[5]+3593408605&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[10]+38016083&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[15]+3634488961&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[4]+3889429448&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[9]+568446438&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[14]+3275163606&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[3]+4107603335&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[8]+1163531501&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(U^H&(j^U))+z[13]+2850285829&4294967295,M=j+(F<<5&4294967295|F>>>27),F=H+(j^U&(M^j))+z[2]+4243563512&4294967295,H=M+(F<<9&4294967295|F>>>23),F=U+(M^j&(H^M))+z[7]+1735328473&4294967295,U=H+(F<<14&4294967295|F>>>18),F=j+(H^M&(U^H))+z[12]+2368359562&4294967295,j=U+(F<<20&4294967295|F>>>12),F=M+(j^U^H)+z[5]+4294588738&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[8]+2272392833&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[11]+1839030562&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[14]+4259657740&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[1]+2763975236&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[4]+1272893353&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[7]+4139469664&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[10]+3200236656&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[13]+681279174&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[0]+3936430074&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[3]+3572445317&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[6]+76029189&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(j^U^H)+z[9]+3654602809&4294967295,M=j+(F<<4&4294967295|F>>>28),F=H+(M^j^U)+z[12]+3873151461&4294967295,H=M+(F<<11&4294967295|F>>>21),F=U+(H^M^j)+z[15]+530742520&4294967295,U=H+(F<<16&4294967295|F>>>16),F=j+(U^H^M)+z[2]+3299628645&4294967295,j=U+(F<<23&4294967295|F>>>9),F=M+(U^(j|~H))+z[0]+4096336452&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[7]+1126891415&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[14]+2878612391&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[5]+4237533241&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[12]+1700485571&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[3]+2399980690&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[10]+4293915773&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[1]+2240044497&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[8]+1873313359&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[15]+4264355552&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[6]+2734768916&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[13]+1309151649&4294967295,j=U+(F<<21&4294967295|F>>>11),F=M+(U^(j|~H))+z[4]+4149444226&4294967295,M=j+(F<<6&4294967295|F>>>26),F=H+(j^(M|~U))+z[11]+3174756917&4294967295,H=M+(F<<10&4294967295|F>>>22),F=U+(M^(H|~j))+z[2]+718787259&4294967295,U=H+(F<<15&4294967295|F>>>17),F=j+(H^(U|~M))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+H&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const j=M-this.blockSize,z=this.C;let U=this.h,H=0;for(;H<M;){if(U==0)for(;H<=j;)i(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<M;)if(z[U++]=P.charCodeAt(H++),U==this.blockSize){i(this,z),U=0;break}}else for(;H<M;)if(z[U++]=P[H++],U==this.blockSize){i(this,z),U=0;break}}this.h=U,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,j=0;j<4;++j)for(let z=0;z<32;z+=8)P[M++]=this.g[j]>>>z&255;return P};function a(P,M){var j=l;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=M(P)}function o(P,M){this.h=M;const j=[];let z=!0;for(let U=P.length-1;U>=0;U--){const H=P[U]|0;z&&H==M||(j[U]=H,z=!1)}this.g=j}var l={};function c(P){return-128<=P&&P<128?a(P,function(M){return new o([M|0],M<0?-1:0)}):new o([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(f(-P));const M=[];let j=1;for(let z=0;P>=j;z++)M[z]=P/j|0,j*=4294967296;return new o(M,0)}function h(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return A(h(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(M,8));let z=p;for(let H=0;H<P.length;H+=8){var U=Math.min(8,P.length-H);const F=parseInt(P.substring(H,H+U),M);U<8?(U=f(Math.pow(M,U)),z=z.j(U).add(f(F))):(z=z.j(j),z=z.add(f(F)))}return z}var p=c(0),v=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-A(this).m();let P=0,M=1;for(let j=0;j<this.g.length;j++){const z=this.i(j);P+=(z>=0?z:4294967296+z)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(w(this))return"-"+A(this).toString(P);const M=f(Math.pow(P,6));var j=this;let z="";for(;;){const U=N(j,M).g;j=S(j,U.j(M));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=U,b(j))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=S(this,P),w(P)?-1:b(P)?0:1};function A(P){const M=P.g.length,j=[];for(let z=0;z<M;z++)j[z]=~P.g[z];return new o(j,~P.h).add(v)}t.abs=function(){return w(this)?A(this):this},t.add=function(P){const M=Math.max(this.g.length,P.g.length),j=[];let z=0;for(let U=0;U<=M;U++){let H=z+(this.i(U)&65535)+(P.i(U)&65535),F=(H>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);z=F>>>16,H&=65535,F&=65535,j[U]=F<<16|H}return new o(j,j[j.length-1]&-2147483648?-1:0)};function S(P,M){return P.add(A(M))}t.j=function(P){if(b(this)||b(P))return p;if(w(this))return w(P)?A(this).j(A(P)):A(A(this).j(P));if(w(P))return A(this.j(A(P)));if(this.l(m)<0&&P.l(m)<0)return f(this.m()*P.m());const M=this.g.length+P.g.length,j=[];for(var z=0;z<2*M;z++)j[z]=0;for(z=0;z<this.g.length;z++)for(let U=0;U<P.g.length;U++){const H=this.i(z)>>>16,F=this.i(z)&65535,pe=P.i(U)>>>16,_e=P.i(U)&65535;j[2*z+2*U]+=F*_e,I(j,2*z+2*U),j[2*z+2*U+1]+=H*_e,I(j,2*z+2*U+1),j[2*z+2*U+1]+=F*pe,I(j,2*z+2*U+1),j[2*z+2*U+2]+=H*pe,I(j,2*z+2*U+2)}for(P=0;P<M;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=M;P<2*M;P++)j[P]=0;return new o(j,0)};function I(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function O(P,M){this.g=P,this.h=M}function N(P,M){if(b(M))throw Error("division by zero");if(b(P))return new O(p,p);if(w(P))return M=N(A(P),M),new O(A(M.g),A(M.h));if(w(M))return M=N(P,A(M)),new O(A(M.g),M.h);if(P.g.length>30){if(w(P)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var j=v,z=M;z.l(P)<=0;)j=k(j),z=k(z);var U=B(j,1),H=B(z,1);for(z=B(z,2),j=B(j,2);!b(z);){var F=H.add(z);F.l(P)<=0&&(U=U.add(j),H=F),z=B(z,1),j=B(j,1)}return M=S(P,U.j(M)),new O(U,M)}for(U=p;P.l(M)>=0;){for(j=Math.max(1,Math.floor(P.m()/M.m())),z=Math.ceil(Math.log(j)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=f(j),F=H.j(M);w(F)||F.l(P)>0;)j-=z,H=f(j),F=H.j(M);b(H)&&(H=v),U=U.add(H),P=S(P,F)}return new O(U,P)}t.B=function(P){return N(this,P).h},t.and=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)&P.i(z);return new o(j,this.h&P.h)},t.or=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)|P.i(z);return new o(j,this.h|P.h)},t.xor=function(P){const M=Math.max(this.g.length,P.g.length),j=[];for(let z=0;z<M;z++)j[z]=this.i(z)^P.i(z);return new o(j,this.h^P.h)};function k(P){const M=P.g.length+1,j=[];for(let z=0;z<M;z++)j[z]=P.i(z)<<1|P.i(z-1)>>>31;return new o(j,P.h)}function B(P,M){const j=M>>5;M%=32;const z=P.g.length-j,U=[];for(let H=0;H<z;H++)U[H]=M>0?P.i(H+j)>>>M|P.i(H+j+1)<<32-M:P.i(H+j);return new o(U,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,pl=o}).apply(typeof aI<"u"?aI:typeof self<"u"?self:typeof window<"u"?window:{});var _1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KN,bh,XN,J1,lb,YN,QN,ZN;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof _1=="object"&&_1];for(var T=0;T<y.length;++T){var D=y[T];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var D=r;y=y.split(".");for(var V=0;V<y.length-1;V++){var Y=y[V];if(!(Y in D))break e;D=D[Y]}y=y[y.length-1],V=D[y],T=T(V),T!=V&&T!=null&&e(D,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var D=[],V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&D.push([V,T[V]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function c(y,T,D){return y.call.apply(y.bind,arguments)}function f(y,T,D){return f=c,f.apply(null,arguments)}function h(y,T){var D=Array.prototype.slice.call(arguments,1);return function(){var V=D.slice();return V.push.apply(V,arguments),y.apply(this,V)}}function p(y,T){function D(){}D.prototype=T.prototype,y.Z=T.prototype,y.prototype=new D,y.prototype.constructor=y,y.Ob=function(V,Y,ie){for(var ve=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ve[qe-2]=arguments[qe];return T.prototype[Y].apply(V,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function m(y){const T=y.length;if(T>0){const D=Array(T);for(let V=0;V<T;V++)D[V]=y[V];return D}return[]}function b(y,T){for(let V=1;V<arguments.length;V++){const Y=arguments[V];var D=typeof Y;if(D=D!="object"?D:Y?Array.isArray(Y)?"array":D:"null",D=="array"||D=="object"&&typeof Y.length=="number"){D=y.length||0;const ie=Y.length||0;y.length=D+ie;for(let ve=0;ve<ie;ve++)y[D+ve]=Y[ve]}else y.push(Y)}}class w{constructor(T,D){this.i=T,this.j=D,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(y){o.setTimeout(()=>{throw y},0)}function S(){var y=P;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,D){const V=O.get();V.set(T,D),this.h?this.h.next=V:this.g=V,this.h=V}}var O=new w(()=>new N,y=>y.reset());class N{constructor(){this.next=this.g=this.h=null}set(T,D){this.h=T,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let k,B=!1,P=new I,M=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(j)}};function j(){for(var y;y=S();){try{y.h.call(y.g)}catch(D){A(D)}var T=O;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}B=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const D=()=>{};o.addEventListener("test",D,T),o.removeEventListener("test",D,T)}catch{}return y})();function F(y){return/^[\s\xa0]*$/.test(y)}function pe(y,T){U.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}p(pe,U),pe.prototype.init=function(y,T){const D=this.type=y.type,V=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(D=="mouseover"?T=y.fromElement:D=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(y,T,D,V,Y){this.listener=y,this.proxy=null,this.src=T,this.type=D,this.capture=!!V,this.ha=Y,this.key=++X,this.da=this.fa=!1}function de(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function we(y,T,D){for(const V in y)T.call(D,y[V],V,y)}function Me(y,T){for(const D in y)T.call(void 0,y[D],D,y)}function G(y){const T={};for(const D in y)T[D]=y[D];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(y,T){let D,V;for(let Y=1;Y<arguments.length;Y++){V=arguments[Y];for(D in V)y[D]=V[D];for(let ie=0;ie<ee.length;ie++)D=ee[ie],Object.prototype.hasOwnProperty.call(V,D)&&(y[D]=V[D])}}function be(y){this.src=y,this.g={},this.h=0}be.prototype.add=function(y,T,D,V,Y){const ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);const ve=$e(y,T,V,Y);return ve>-1?(T=y[ve],D||(T.fa=!1)):(T=new re(T,this.src,ie,!!V,Y),T.fa=D,y.push(T)),T};function Oe(y,T){const D=T.type;if(D in y.g){var V=y.g[D],Y=Array.prototype.indexOf.call(V,T,void 0),ie;(ie=Y>=0)&&Array.prototype.splice.call(V,Y,1),ie&&(de(T),y.g[D].length==0&&(delete y.g[D],y.h--))}}function $e(y,T,D,V){for(let Y=0;Y<y.length;++Y){const ie=y[Y];if(!ie.da&&ie.listener==T&&ie.capture==!!D&&ie.ha==V)return Y}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),mn={};function ge(y,T,D,V,Y){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)ge(y,T[ie],D,V,Y);return null}return D=ys(D),y&&y[_e]?y.J(T,D,l(V)?!!V.capture:!1,Y):Ve(y,T,D,!1,V,Y)}function Ve(y,T,D,V,Y,ie){if(!T)throw Error("Invalid event type");const ve=l(Y)?!!Y.capture:!!Y;let qe=xn(y);if(qe||(y[rt]=qe=new be(y)),D=qe.add(T,D,V,ve,ie),D.proxy)return D;if(V=Ke(),D.proxy=V,V.src=y,V.listener=D,y.addEventListener)H||(Y=ve),Y===void 0&&(Y=!1),y.addEventListener(T.toString(),V,Y);else if(y.attachEvent)y.attachEvent(Ze(T.toString()),V);else if(y.addListener&&y.removeListener)y.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ke(){function y(D){return T.call(y.src,y.listener,D)}const T=Vn;return y}function he(y,T,D,V,Y){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)he(y,T[ie],D,V,Y);else V=l(V)?!!V.capture:!!V,D=ys(D),y&&y[_e]?(y=y.i,ie=String(T).toString(),ie in y.g&&(T=y.g[ie],D=$e(T,D,V,Y),D>-1&&(de(T[D]),Array.prototype.splice.call(T,D,1),T.length==0&&(delete y.g[ie],y.h--)))):y&&(y=xn(y))&&(T=y.g[T.toString()],y=-1,T&&(y=$e(T,D,V,Y)),(D=y>-1?T[y]:null)&&yn(D))}function yn(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[_e])Oe(T.i,y);else{var D=y.type,V=y.proxy;T.removeEventListener?T.removeEventListener(D,V,y.capture):T.detachEvent?T.detachEvent(Ze(D),V):T.addListener&&T.removeListener&&T.removeListener(V),(D=xn(T))?(Oe(D,y),D.h==0&&(D.src=null,T[rt]=null)):de(y)}}}function Ze(y){return y in mn?mn[y]:mn[y]="on"+y}function Vn(y,T){if(y.da)y=!0;else{T=new pe(T,this);const D=y.listener,V=y.ha||y.src;y.fa&&yn(y),y=D.call(V,T)}return y}function xn(y){return y=y[rt],y instanceof be?y:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ys(y){return typeof y=="function"?y:(y[vi]||(y[vi]=function(T){return y.handleEvent(T)}),y[vi])}function Cn(){z.call(this),this.i=new be(this),this.M=this,this.G=null}p(Cn,z),Cn.prototype[_e]=!0,Cn.prototype.removeEventListener=function(y,T,D,V){he(this,y,T,D,V)};function zn(y,T){var D,V=y.G;if(V)for(D=[];V;V=V.G)D.push(V);if(y=y.M,V=T.type||T,typeof T=="string")T=new U(T,y);else if(T instanceof U)T.target=T.target||y;else{var Y=T;T=new U(V,y),ye(T,Y)}Y=!0;let ie,ve;if(D)for(ve=D.length-1;ve>=0;ve--)ie=T.g=D[ve],Y=xs(ie,V,!0,T)&&Y;if(ie=T.g=y,Y=xs(ie,V,!0,T)&&Y,Y=xs(ie,V,!1,T)&&Y,D)for(ve=0;ve<D.length;ve++)ie=T.g=D[ve],Y=xs(ie,V,!1,T)&&Y}Cn.prototype.N=function(){if(Cn.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const D=y.g[T];for(let V=0;V<D.length;V++)de(D[V]);delete y.g[T],y.h--}}this.G=null},Cn.prototype.J=function(y,T,D,V){return this.i.add(String(y),T,!1,D,V)},Cn.prototype.K=function(y,T,D,V){return this.i.add(String(y),T,!0,D,V)};function xs(y,T,D,V){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Y=!0;for(let ie=0;ie<T.length;++ie){const ve=T[ie];if(ve&&!ve.da&&ve.capture==D){const qe=ve.listener,bn=ve.ha||ve.src;ve.fa&&Oe(y.i,ve),Y=qe.call(bn,V)!==!1&&Y}}return Y&&!V.defaultPrevented}function Xm(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(y,T||0)}function qp(y){y.g=Xm(()=>{y.g=null,y.i&&(y.i=!1,qp(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class zr extends z{constructor(T,D){super(),this.m=T,this.l=D,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:qp(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hl(y){z.call(this),this.h=y,this.g={}}p(Hl,z);var nd=[];function rd(y){we(y.g,function(T,D){this.g.hasOwnProperty(D)&&yn(T)},y),y.g={}}Hl.prototype.N=function(){Hl.Z.N.call(this),rd(this)},Hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=o.JSON.stringify,Ym=o.JSON.parse,Gp=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Wp(){}function Kp(){}var ha={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pr(){U.call(this,"d")}p(pr,U);function Bi(){U.call(this,"c")}p(Bi,U);var _n={},Xp=null;function cc(){return Xp=Xp||new Cn}_n.Ia="serverreachability";function Yp(y){U.call(this,_n.Ia,y)}p(Yp,U);function ja(y){const T=cc();zn(T,new Yp(T))}_n.STAT_EVENT="statevent";function $l(y,T){U.call(this,_n.STAT_EVENT,y),this.stat=T}p($l,U);function In(y){const T=cc();zn(T,new $l(T,y))}_n.Ja="timingevent";function La(y,T){U.call(this,_n.Ja,y),this.size=T}p(La,U);function Ba(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},T)}function pa(){this.g=!0}pa.prototype.ua=function(){this.g=!1};function Qm(y,T,D,V,Y,ie){y.info(function(){if(y.g)if(ie){var ve="",qe=ie.split("&");for(let xt=0;xt<qe.length;xt++){var bn=qe[xt].split("=");if(bn.length>1){const Jt=bn[0];bn=bn[1];const zi=Jt.split("_");ve=zi.length>=2&&zi[1]=="type"?ve+(Jt+"="+bn+"&"):ve+(Jt+"=redacted&")}}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+V+") [attempt "+Y+"]: "+T+`
`+D+`
`+ve})}function Qp(y,T,D,V,Y,ie,ve){y.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Y+"]: "+T+`
`+D+`
`+ie+" "+ve})}function Ua(y,T,D,V){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+Zm(y,D)+(V?" "+V:"")})}function ql(y,T){y.info(function(){return"TIMEOUT: "+T})}pa.prototype.info=function(){};function Zm(y,T){if(!y.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(y=0;y<ie.length;y++)if(Array.isArray(ie[y])){var D=ie[y];if(!(D.length<2)){var V=D[1];if(Array.isArray(V)&&!(V.length<1)){var Y=V[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<V.length;ve++)V[ve]=""}}}}return _s(ie)}catch{return T}}var Gl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},id={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ad;function Wl(){}p(Wl,Wp),Wl.prototype.g=function(){return new XMLHttpRequest},ad=new Wl;function So(y){return encodeURIComponent(String(y))}function Zp(y){var T=1;y=y.split(":");const D=[];for(;T>0&&y.length;)D.push(y.shift()),T--;return y.length&&D.push(y.join(":")),D}function ga(y,T,D,V){this.j=y,this.i=T,this.l=D,this.S=V||1,this.V=new Hl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new va}function va(){this.i=null,this.g="",this.h=!1}var On={},tr={};function Fa(y,T,D){y.M=1,y.A=Kl(Pn(T)),y.u=D,y.R=!0,fc(y,null)}function fc(y,T){y.F=Date.now(),Va(y),y.B=Pn(y.A);var D=y.B,V=y.S;Array.isArray(V)||(V=[String(V)]),gc(D.i,"t",V),y.C=0,D=y.j.L,y.h=new va,y.g=h0(y.j,D?T:null,!y.u),y.P>0&&(y.O=new zr(f(y.Y,y,y.g),y.P)),T=y.V,D=y.g,V=y.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(nd[0]=Y.toString()),Y=nd);for(let ie=0;ie<Y.length;ie++){const ve=ge(D,Y[ie],V||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),ja(),Qm(y.i,y.v,y.B,y.l,y.S,y.u)}ga.prototype.ba=function(y){y=y.target;const T=this.O;T&&xa(y)==3?T.j():this.Y(y)},ga.prototype.Y=function(y){try{if(y==this.g)e:{const qe=xa(this.g),bn=this.g.ya(),xt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||gr(this.g)))){this.K||qe!=4||bn==7||(bn==8||xt<=0?ja(3):ja(2)),za(this);var T=this.g.ca();this.X=T;var D=Jm(this);if(this.o=T==200,Qp(this.i,this.v,this.B,this.l,this.S,qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Y=this.g;if((V=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(V)){var ie=V;break t}}ie=null}if(y=ie)Ua(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ha(this,y);else{this.o=!1,this.m=3,In(12),mi(this),Ui(this);break e}}if(this.R){y=!0;let Jt;for(;!this.K&&this.C<D.length;)if(Jt=e0(this,D),Jt==tr){qe==4&&(this.m=4,In(14),y=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==On){this.m=4,In(15),Ua(this.i,this.l,D,"[Invalid Chunk]"),y=!1;break}else Ua(this.i,this.l,Jt,null),Ha(this,Jt);if(Jp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||D.length!=0||this.h.h||(this.m=1,In(16),y=!1),this.o=this.o&&y,!y)Ua(this.i,this.l,D,"[Invalid Chunked Response]"),mi(this),Ui(this);else if(D.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),_d(ve),ve.P=!0,In(11))}}else Ua(this.i,this.l,D,null),Ha(this,D);qe==4&&mi(this),this.o&&!this.K&&(qe==4?u0(this.j,this):(this.o=!1,Va(this)))}else Co(this.g),T==400&&D.indexOf("Unknown SID")>0?(this.m=3,In(12)):(this.m=0,In(13)),mi(this),Ui(this)}}}catch{}finally{}};function Jm(y){if(!Jp(y))return y.g.la();const T=gr(y.g);if(T==="")return"";let D="";const V=T.length,Y=xa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return mi(y),Ui(y),"";y.h.i=new o.TextDecoder}for(let ie=0;ie<V;ie++)y.h.h=!0,D+=y.h.i.decode(T[ie],{stream:!(Y&&ie==V-1)});return T.length=0,y.h.g+=D,y.C=0,y.h.g}function Jp(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function e0(y,T){var D=y.C,V=T.indexOf(`
`,D);return V==-1?tr:(D=Number(T.substring(D,V)),isNaN(D)?On:(V+=1,V+D>T.length?tr:(T=T.slice(V,V+D),y.C=V+D,T)))}ga.prototype.cancel=function(){this.K=!0,mi(this)};function Va(y){y.T=Date.now()+y.H,dc(y,y.H)}function dc(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Ba(f(y.aa,y),T)}function za(y){y.D&&(o.clearTimeout(y.D),y.D=null)}ga.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ql(this.i,this.B),this.M!=2&&(ja(),In(17)),mi(this),this.m=2,Ui(this)):dc(this,this.T-y)};function Ui(y){y.j.I==0||y.K||u0(y.j,y)}function mi(y){za(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,rd(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Ha(y,T){try{var D=y.j;if(D.I!=0&&(D.g==y||qa(D.h,y))){if(!y.L&&qa(D.h,y)&&D.I==3){try{var V=D.Ba.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Y=V;if(Y[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<y.F)_c(D),Is(D);else break e;tu(D),In(18)}}else D.xa=Y[1],0<D.xa-D.K&&Y[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=Ba(f(D.Va,D),6e3));$a(D.h)<=1&&D.ta&&(D.ta=void 0)}else Qa(D,11)}else if((y.L||D.g==y)&&_c(D),!F(T))for(Y=D.Ba.g.parse(T),T=0;T<Y.length;T++){let xt=Y[T];const Jt=xt[0];if(!(Jt<=D.K))if(D.K=Jt,xt=xt[1],D.I==2)if(xt[0]=="c"){D.M=xt[1],D.ba=xt[2];const zi=xt[3];zi!=null&&(D.ka=zi,D.j.info("VER="+D.ka));const Za=xt[4];Za!=null&&(D.za=Za,D.j.info("SVER="+D.za));const _a=xt[5];_a!=null&&typeof _a=="number"&&_a>0&&(V=1.5*_a,D.O=V,D.j.info("backChannelRequestTimeoutMs_="+V)),V=D;const ba=y.g;if(ba){const nu=ba.g?ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var ie=V.h;ie.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ld(ie,ie.h),ie.h=null))}if(V.G){const bc=ba.g?ba.g.getResponseHeader("X-HTTP-Session-Id"):null;bc&&(V.wa=bc,Ct(V.J,V.G,bc))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-y.F,D.j.info("Handshake RTT: "+D.T+"ms")),V=D;var ve=y;if(V.na=d0(V,V.L?V.ba:null,V.W),ve.L){ud(V.h,ve);var qe=ve,bn=V.O;bn&&(qe.H=bn),qe.D&&(za(qe),Va(qe)),V.g=ve}else s0(V);D.i.length>0&&Ya(D)}else xt[0]!="stop"&&xt[0]!="close"||Qa(D,7);else D.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Qa(D,7):yd(D):xt[0]!="noop"&&D.l&&D.l.qa(xt),D.A=0)}}ja(4)}catch{}}var Rn=class{constructor(y,T){this.g=y,this.map=T}};function od(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function $a(y){return y.h?1:y.g?y.g.size:0}function qa(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function ld(y,T){y.g?y.g.add(T):y.h=T}function ud(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}od.prototype.cancel=function(){if(this.i=cd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function cd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const D of y.g.values())T=T.concat(D.G);return T}return m(y.i)}var t0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hc(y,T){if(y){y=y.split("&");for(let D=0;D<y.length;D++){const V=y[D].indexOf("=");let Y,ie=null;V>=0?(Y=y[D].substring(0,V),ie=y[D].substring(V+1)):Y=y[D],T(Y,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function yi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof yi?(this.l=y.l,nr(this,y.j),this.o=y.o,this.g=y.g,bs(this,y.u),this.h=y.h,fd(this,a0(y.i)),this.m=y.m):y&&(T=String(y).match(t0))?(this.l=!1,nr(this,T[1]||"",!0),this.o=Ga(T[2]||""),this.g=Ga(T[3]||"",!0),bs(this,T[4]),this.h=Ga(T[5]||"",!0),fd(this,T[6]||"",!0),this.m=Ga(T[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}yi.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Xl(T,pc,!0),":");var D=this.g;return(D||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Xl(T,pc,!0),"@"),y.push(So(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&y.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&y.push("/"),y.push(Xl(D,D.charAt(0)=="/"?dd:n0,!0))),(D=this.i.toString())&&y.push("?",D),(D=this.m)&&y.push("#",Xl(D,r0)),y.join("")},yi.prototype.resolve=function(y){const T=Pn(this);let D=!!y.j;D?nr(T,y.j):D=!!y.o,D?T.o=y.o:D=!!y.g,D?T.g=y.g:D=y.u!=null;var V=y.h;if(D)bs(T,y.u);else if(D=!!y.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Y=T.h.lastIndexOf("/");Y!=-1&&(V=T.h.slice(0,Y+1)+V)}if(Y=V,Y==".."||Y==".")V="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){V=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ie=[];for(let ve=0;ve<Y.length;){const qe=Y[ve++];qe=="."?V&&ve==Y.length&&ie.push(""):qe==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),V&&ve==Y.length&&ie.push("")):(ie.push(qe),V=!0)}V=ie.join("/")}else V=Y}return D?T.h=V:D=y.i.toString()!=="",D?fd(T,a0(y.i)):D=!!y.m,D&&(T.m=y.m),T};function Pn(y){return new yi(y)}function nr(y,T,D){y.j=D?Ga(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function bs(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function fd(y,T,D){T instanceof Es?(y.i=T,vc(y.i,y.l)):(D||(T=Xl(T,ws)),y.i=new Es(T,y.l))}function Ct(y,T,D){y.i.set(T,D)}function Kl(y){return Ct(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ga(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Xl(y,T,D){return typeof y=="string"?(y=encodeURI(y).replace(T,Jr),D&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Jr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var pc=/[#\/\?@]/g,n0=/[#\?:]/g,dd=/[#\?]/g,ws=/[#\?@]/g,r0=/#/g;function Es(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function ei(y){y.g||(y.g=new Map,y.h=0,y.i&&hc(y.i,function(T,D){y.add(decodeURIComponent(T.replace(/\+/g," ")),D)}))}t=Es.prototype,t.add=function(y,T){ei(this),this.i=null,y=As(this,y);let D=this.g.get(y);return D||this.g.set(y,D=[]),D.push(T),this.h+=1,this};function i0(y,T){ei(y),T=As(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function hd(y,T){return ei(y),T=As(y,T),y.g.has(T)}t.forEach=function(y,T){ei(this),this.g.forEach(function(D,V){D.forEach(function(Y){y.call(T,Y,V,this)},this)},this)};function pd(y,T){ei(y);let D=[];if(typeof T=="string")hd(y,T)&&(D=D.concat(y.g.get(As(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)D=D.concat(y[T]);return D}t.set=function(y,T){return ei(this),this.i=null,y=As(this,y),hd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=pd(this,y),y.length>0?String(y[0]):T):T};function gc(y,T,D){i0(y,T),D.length>0&&(y.i=null,y.g.set(As(y,T),m(D)),y.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let V=0;V<T.length;V++){var D=T[V];const Y=So(D);D=pd(this,D);for(let ie=0;ie<D.length;ie++){let ve=Y;D[ie]!==""&&(ve+="="+So(D[ie])),y.push(ve)}}return this.i=y.join("&")};function a0(y){const T=new Es;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function As(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function vc(y,T){T&&!y.j&&(ei(y),y.i=null,y.g.forEach(function(D,V){const Y=V.toLowerCase();V!=Y&&(i0(this,V),gc(this,Y,D))},y)),y.j=T}function ma(y,T){const D=new pa;if(o.Image){const V=new Image;V.onload=h(Fi,D,"TestLoadImage: loaded",!0,T,V),V.onerror=h(Fi,D,"TestLoadImage: error",!1,T,V),V.onabort=h(Fi,D,"TestLoadImage: abort",!1,T,V),V.ontimeout=h(Fi,D,"TestLoadImage: timeout",!1,T,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=y}else T(!1)}function gd(y,T){const D=new pa,V=new AbortController,Y=setTimeout(()=>{V.abort(),Fi(D,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:V.signal}).then(ie=>{clearTimeout(Y),ie.ok?Fi(D,"TestPingServer: ok",!0,T):Fi(D,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Y),Fi(D,"TestPingServer: error",!1,T)})}function Fi(y,T,D,V,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),V(D)}catch{}}function Ss(){this.g=new Gp}function Wa(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Wa,Wp),Wa.prototype.g=function(){return new Yl(this.i,this.h)};function Yl(y,T){Cn.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Yl,Cn),t=Yl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,ya(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function mc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Ts(this):ya(this),this.readyState==3&&mc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Ts(this))},t.Na=function(y){this.g&&(this.response=y,Ts(this))},t.ga=function(){this.g&&Ts(this)};function Ts(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ya(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var D=T.next();!D.done;)D=D.value,y.push(D[0]+": "+D[1]),D=T.next();return y.join(`\r
`)};function ya(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Vi(y){let T="";return we(y,function(D,V){T+=V,T+=":",T+=D,T+=`\r
`}),T}function Ql(y,T,D){e:{for(V in D){var V=!1;break e}V=!0}V||(D=Vi(D),typeof y=="string"?D!=null&&So(D):Ct(y,T,D))}function Mt(y){Cn.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Mt,Cn);var Ka=/^https?$/i,vd=["POST","PUT"];t=Mt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,D,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ad.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ie){Zl(this,ie);return}if(y=D||"",D=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Y in V)D.set(Y,V[Y]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())D.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(D.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(vd,T,void 0)>=0)||V||Y||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of D)this.g.setRequestHeader(ie,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ie){Zl(this,ie)}};function Zl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,md(y),To(y)}function md(y){y.A||(y.A=!0,zn(y,"complete"),zn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,zn(this,"complete"),zn(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Jl(this):this.Xa())},t.Xa=function(){Jl(this)};function Jl(y){if(y.h&&typeof a<"u"){if(y.v&&xa(y)==4)setTimeout(y.Ca.bind(y),0);else if(zn(y,"readystatechange"),xa(y)==4){y.h=!1;try{const ie=y.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var D;if(!(D=T)){var V;if(V=ie===0){let ve=String(y.D).match(t0)[1]||null;!ve&&o.self&&o.self.location&&(ve=o.self.location.protocol.slice(0,-1)),V=!Ka.test(ve?ve.toLowerCase():"")}D=V}if(D)zn(y,"complete"),zn(y,"success");else{y.o=6;try{var Y=xa(y)>2?y.g.statusText:""}catch{Y=""}y.l=Y+" ["+y.ca()+"]",md(y)}}finally{To(y)}}}}function To(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const D=y.g;y.g=null,T||zn(y,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xa(y){return y.g?y.g.readyState:0}t.ca=function(){try{return xa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),Ym(T)}};function gr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(y){const T={};y=(y.g&&xa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<y.length;V++){if(F(y[V]))continue;var D=Zp(y[V]);const Y=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ie=T[Y]||[];T[Y]=ie,ie.push(D)}Me(T,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(y,T,D){return D&&D.internalChannelParams&&D.internalChannelParams[y]||T}function Cs(y){this.za=0,this.i=[],this.j=new pa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xa("baseRetryDelayMs",5e3,y),this.Za=Xa("retryDelaySeedMs",1e4,y),this.Ta=Xa("forwardChannelMaxRetries",2,y),this.va=Xa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new od(y&&y.concurrentRequestLimit),this.Ba=new Ss,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cs.prototype,t.ka=8,t.I=1,t.connect=function(y,T,D,V){In(0),this.W=y,this.H=T||{},D&&V!==void 0&&(this.H.OSID=D,this.H.OAID=V),this.F=this.X,this.J=d0(this,null,this.W),Ya(this)};function yd(y){if(yc(y),y.I==3){var T=y.V++,D=Pn(y.J);if(Ct(D,"SID",y.M),Ct(D,"RID",T),Ct(D,"TYPE","terminate"),eu(y,D),T=new ga(y,y.j,T),T.M=2,T.A=Kl(Pn(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!D&&o.Image&&(new Image().src=T.A,D=!0),D||(T.g=h0(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Va(T)}f0(y)}function Is(y){y.g&&(_d(y),y.g.cancel(),y.g=null)}function yc(y){Is(y),y.v&&(o.clearTimeout(y.v),y.v=null),_c(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Ya(y){if(!sd(y.h)&&!y.m){y.m=!0;var T=y.Ea;k||M(),B||(k(),B=!0),P.add(T,y),y.D=0}}function xc(y,T){return $a(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Ba(f(y.Ea,y,T),c0(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Y=new ga(this,this.j,y);let ie=this.o;if(this.U&&(ie?(ie=G(ie),ye(ie,this.U)):ie=this.U),this.u!==null||this.R||(Y.J=ie,ie=null),this.S)e:{for(var T=0,D=0;D<this.i.length;D++){t:{var V=this.i[D];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,T>4096){T=D;break e}if(T===4096||D===this.i.length-1){T=D+1;break e}}T=1e3}else T=1e3;T=o0(this,Y,T),D=Pn(this.J),Ct(D,"RID",y),Ct(D,"CVER",22),this.G&&Ct(D,"X-HTTP-Session-Id",this.G),eu(this,D),ie&&(this.R?T="headers="+So(Vi(ie))+"&"+T:this.u&&Ql(D,this.u,ie)),ld(this.h,Y),this.Ra&&Ct(D,"TYPE","init"),this.S?(Ct(D,"$req",T),Ct(D,"SID","null"),Y.U=!0,Fa(Y,D,null)):Fa(Y,D,T),this.I=2}}else this.I==3&&(y?xd(this,y):this.i.length==0||sd(this.h)||xd(this))};function xd(y,T){var D;T?D=T.l:D=y.V++;const V=Pn(y.J);Ct(V,"SID",y.M),Ct(V,"RID",D),Ct(V,"AID",y.K),eu(y,V),y.u&&y.o&&Ql(V,y.u,y.o),D=new ga(y,y.j,D,y.D+1),y.u===null&&(D.J=y.o),T&&(y.i=T.G.concat(y.i)),T=o0(y,D,1e3),D.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ld(y.h,D),Fa(D,V,T)}function eu(y,T){y.H&&we(y.H,function(D,V){Ct(T,V,D)}),y.l&&we({},function(D,V){Ct(T,V,D)})}function o0(y,T,D){D=Math.min(y.i.length,D);const V=y.l?f(y.l.Ka,y.l,y):null;e:{var Y=y.i;let qe=-1;for(;;){const bn=["count="+D];qe==-1?D>0?(qe=Y[0].g,bn.push("ofs="+qe)):qe=0:bn.push("ofs="+qe);let xt=!0;for(let Jt=0;Jt<D;Jt++){var ie=Y[Jt].g;const zi=Y[Jt].map;if(ie-=qe,ie<0)qe=Math.max(0,Y[Jt].g-100),xt=!1;else try{ie="req"+ie+"_"||"";try{var ve=zi instanceof Map?zi:Object.entries(zi);for(const[Za,_a]of ve){let ba=_a;l(_a)&&(ba=_s(_a)),bn.push(ie+Za+"="+encodeURIComponent(ba))}}catch(Za){throw bn.push(ie+"type="+encodeURIComponent("_badmap")),Za}}catch{V&&V(zi)}}if(xt){ve=bn.join("&");break e}}ve=void 0}return y=y.i.splice(0,D),T.G=y,ve}function s0(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;k||M(),B||(k(),B=!0),P.add(T,y),y.A=0}}function tu(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Ba(f(y.Da,y),c0(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,l0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Ba(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,In(10),Is(this),l0(this))};function _d(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function l0(y){y.g=new ga(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=Pn(y.na);Ct(T,"RID","rpc"),Ct(T,"SID",y.M),Ct(T,"AID",y.K),Ct(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ct(T,"TO",y.ia),Ct(T,"TYPE","xmlhttp"),eu(y,T),y.u&&y.o&&Ql(T,y.u,y.o),y.O&&(y.g.H=y.O);var D=y.g;y=y.ba,D.M=1,D.A=Kl(Pn(T)),D.u=null,D.R=!0,fc(D,y)}t.Va=function(){this.C!=null&&(this.C=null,Is(this),tu(this),In(19))};function _c(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function u0(y,T){var D=null;if(y.g==T){_c(y),_d(y),y.g=null;var V=2}else if(qa(y.h,T))D=T.G,ud(y.h,T),V=1;else return;if(y.I!=0){if(T.o)if(V==1){D=T.u?T.u.length:0,T=Date.now()-T.F;var Y=y.D;V=cc(),zn(V,new La(V,D)),Ya(y)}else s0(y);else if(Y=T.m,Y==3||Y==0&&T.X>0||!(V==1&&xc(y,T)||V==2&&tu(y)))switch(D&&D.length>0&&(T=y.h,T.i=T.i.concat(D)),Y){case 1:Qa(y,5);break;case 4:Qa(y,10);break;case 3:Qa(y,6);break;default:Qa(y,2)}}}function c0(y,T){let D=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(D*=2),D*T}function Qa(y,T){if(y.j.info("Error code "+T),T==2){var D=f(y.bb,y),V=y.Ua;const Y=!V;V=new yi(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nr(V,"https"),Kl(V),Y?ma(V.toString(),D):gd(V.toString(),D)}else In(2);y.I=0,y.l&&y.l.pa(T),f0(y),yc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function f0(y){if(y.I=0,y.ja=[],y.l){const T=cd(y.h);(T.length!=0||y.i.length!=0)&&(b(y.ja,T),b(y.ja,y.i),y.h.i.length=0,m(y.i),y.i.length=0),y.l.oa()}}function d0(y,T,D){var V=D instanceof yi?Pn(D):new yi(D);if(V.g!="")T&&(V.g=T+"."+V.g),bs(V,V.u);else{var Y=o.location;V=Y.protocol,T=T?T+"."+Y.hostname:Y.hostname,Y=+Y.port;const ie=new yi(null);V&&nr(ie,V),T&&(ie.g=T),Y&&bs(ie,Y),D&&(ie.h=D),V=ie}return D=y.G,T=y.wa,D&&T&&Ct(V,D,T),Ct(V,"VER",y.ka),eu(y,V),V}function h0(y,T,D){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Mt(new Wa({ab:D})):new Mt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p0(){}t=p0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Os(){}Os.prototype.g=function(y,T){return new Hr(y,T)};function Hr(y,T){Cn.call(this),this.g=new Cs(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!F(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Io(this)}p(Hr,Cn),Hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){yd(this.g)},Hr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var D={};D.__data__=y,y=D}else this.v&&(D={},D.__data__=_s(y),y=D);T.i.push(new Rn(T.Ya++,y)),T.I==3&&Ya(T)},Hr.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,Hr.Z.N.call(this)};function g0(y){pr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const D in T){y=D;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}p(g0,pr);function v0(){Bi.call(this),this.status=1}p(v0,Bi);function Io(y){this.g=y}p(Io,p0),Io.prototype.ra=function(){zn(this.g,"a")},Io.prototype.qa=function(y){zn(this.g,new g0(y))},Io.prototype.pa=function(y){zn(this.g,new v0)},Io.prototype.oa=function(){zn(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,ZN=function(){return new Os},QN=function(){return cc()},YN=_n,lb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gl.NO_ERROR=0,Gl.TIMEOUT=8,Gl.HTTP_ERROR=6,J1=Gl,id.COMPLETE="complete",XN=id,Kp.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Cn.prototype.listen=Cn.prototype.J,bh=Kp,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,KN=Mt}).apply(typeof _1<"u"?_1:typeof self<"u"?self:typeof window<"u"?window:{});const oI="@firebase/firestore",sI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Hw("@firebase/firestore");function ef(){return Hu.logLevel}function Ee(t,...e){if(Hu.logLevel<=ot.DEBUG){const n=e.map(qw);Hu.debug(`Firestore (${jf}): ${t}`,...n)}}function rs(t,...e){if(Hu.logLevel<=ot.ERROR){const n=e.map(qw);Hu.error(`Firestore (${jf}): ${t}`,...n)}}function vf(t,...e){if(Hu.logLevel<=ot.WARN){const n=e.map(qw);Hu.warn(`Firestore (${jf}): ${t}`,...n)}}function qw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JN(t,r,n)}function JN(t,e,n){let r=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function Tt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JN(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ma{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kr.UNAUTHENTICATED)))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JV{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new eD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new kr(e)}}class ez{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ez(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function ub(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return o2(i)===o2(a)?st(i,a):o2(i)?1:-1}return st(t.length,e.length)}const iz=55296,az=57343;function o2(t){const e=t.charCodeAt(0);return e>=iz&&e<=az}function mf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="__name__";class ro{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ro.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return st(e.length,n.length)}static compareSegments(e,n){const r=ro.isNumericId(e),i=ro.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ro.extractNumericId(e).compare(ro.extractNumericId(n)):ub(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pl.fromString(e.substring(4,e.length-2))}}class $t extends ro{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const oz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends ro{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return oz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uI}static keyField(){return new Tr([uI])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne($t.fromString(e))}static fromName(e){return new Ne($t.fromString(e).popFirst(5))}static empty(){return new Ne($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e,n){if(!n)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sz(t,e,n,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cI(t){if(!Ne.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fI(t){if(Ne.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zv(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function hp(t,e){if(!nD(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new xe(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=-62135596800,hI=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hI);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dI)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hI}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hp(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Bn("string",Zt._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Zt(0,0))}static max(){return new Fe(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=-1;function lz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new bl(i,Ne.empty(),e)}function uz(t){return new bl(t.readTime,t.key,Hh)}class bl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bl(Fe.min(),Ne.empty(),Hh)}static max(){return new bl(Fe.max(),Ne.empty(),Hh)}}function cz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==fz)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(c=>r(c)))})),o=!0,a===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((h=>{o[f]=h,++l,l===a&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function hz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=-1;function $v(t){return t==null}function bg(t){return t===0&&1/t==-1/0}function pz(t){return typeof t=="number"&&Number.isInteger(t)&&!bg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="";function gz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pI(e)),e=vz(t.get(n),e);return pI(e)}function vz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case rD:n+="";break;default:n+=a}}return n}function pI(t){return t+rD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||Ar.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b1(this.root,e,this.comparator,!1)}getReverseIterator(){return new b1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b1(this.root,e,this.comparator,!0)}}class b1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ar.RED,this.left=i??Ar.EMPTY,this.right=a??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ar(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vI(this.data.getIterator())}getIteratorFrom(e){return new vI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class vI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Pi([])}unionWith(e){let n=new Qn(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aD("Invalid base64 string: "+a):a}})(e);return new Ir(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const mz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=mz.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function El(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="server_timestamp",sD="__type__",lD="__previous_value__",uD="__local_write_time__";function Kw(t){return(t?.mapValue?.fields||{})[sD]?.stringValue===oD}function qv(t){const e=t.mapValue.fields[lD];return Kw(e)?qv(e):e}function $h(t){const e=wl(t.mapValue.fields[uD].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i,a,o,l,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const wg="(default)";class qh{constructor(e,n){this.projectId=e,this.database=n||wg}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="__type__",xz="__max__",w1={mapValue:{}},fD="__vector__",Eg="value";function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:bz(t)?9007199254740991:_z(t)?10:11:Ue(28295,{value:t})}function po(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=wl(i.timestampValue),l=wl(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return El(i.bytesValue).isEqual(El(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Sn(i.doubleValue),l=Sn(a.doubleValue);return o===l?bg(o)===bg(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return mf(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(gI(o)!==gI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!po(o[c],l[c])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function Gh(t,e){return(t.values||[]).find((n=>po(n,e)))!==void 0}function yf(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Sn(a.integerValue||a.doubleValue),c=Sn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return mI(t.timestampValue,e.timestampValue);case 4:return mI($h(t),$h(e));case 5:return ub(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=El(a),c=El(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=st(l[f],c[f]);if(h!==0)return h}return st(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=st(Sn(a.latitude),Sn(o.latitude));return l!==0?l:st(Sn(a.longitude),Sn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yI(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const l=a.fields||{},c=o.fields||{},f=l[Eg]?.arrayValue,h=c[Eg]?.arrayValue,p=st(f?.values?.length||0,h?.values?.length||0);return p!==0?p:yI(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===w1.mapValue&&o===w1.mapValue)return 0;if(a===w1.mapValue)return 1;if(o===w1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=ub(c[p],h[p]);if(v!==0)return v;const m=yf(l[c[p]],f[h[p]]);if(m!==0)return m}return st(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function mI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=wl(t),r=wl(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function yI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=yf(n[i],r[i]);if(a)return a}return st(n.length,r.length)}function xf(t){return cb(t)}function cb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return El(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=cb(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${cb(n.fields[o])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function eg(t){switch(Al(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qv(t);return e?16+eg(e):16;case 5:return 2*t.stringValue.length;case 6:return El(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+eg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Dl(r.fields,((a,o)=>{i+=a.length+eg(o)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function xI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fb(t){return!!t&&"integerValue"in t}function Xw(t){return!!t&&"arrayValue"in t}function _I(t){return!!t&&"nullValue"in t}function bI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tg(t){return!!t&&"mapValue"in t}function _z(t){return(t?.mapValue?.fields||{})[cD]?.stringValue===fD}function Nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Dl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nh(t.arrayValue.values[n]);return e}return{...t}}function bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Nh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Dl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ui(Nh(this.value))}}function dD(t){const e=[];return Dl(t.fields,((n,r)=>{const i=new Tr([n]);if(tg(r)){const a=dD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new jr(e,0,Fe.min(),Fe.min(),Fe.min(),ui.empty(),0)}static newFoundDocument(e,n,r,i){return new jr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new jr(e,2,n,Fe.min(),Fe.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,Fe.min(),Fe.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.position=e,this.inclusive=n}}function wI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(o.referenceValue),n.key):r=yf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function wz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class Ln extends hD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Az(e,n,r):n==="array-contains"?new Cz(e,r):n==="in"?new Iz(e,r):n==="not-in"?new Oz(e,r):n==="array-contains-any"?new Rz(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sz(e,r):new Tz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yf(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(yf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends hD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Da(e,n)}matches(e){return pD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pD(t){return t.op==="and"}function gD(t){return Ez(t)&&pD(t)}function Ez(t){for(const e of t.filters)if(e instanceof Da)return!1;return!0}function db(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+xf(t.value);if(gD(t))return t.filters.map((e=>db(e))).join(",");{const e=t.filters.map((n=>db(n))).join(",");return`${t.op}(${e})`}}function vD(t,e){return t instanceof Ln?(function(r,i){return i instanceof Ln&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)})(t,e):t instanceof Da?(function(r,i){return i instanceof Da&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&vD(o,i.filters[l])),!0):!1})(t,e):void Ue(19439)}function mD(t){return t instanceof Ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${xf(n.value)}`})(t):t instanceof Da?(function(n){return n.op.toString()+" {"+n.getFilters().map(mD).join(" ,")+"}"})(t):"Filter"}class Az extends Ln{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sz extends Ln{constructor(e,n){super(e,"in",n),this.keys=yD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Tz extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=yD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yD(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class Cz extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xw(n)&&Gh(n.arrayValue,this.value)}}class Iz extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gh(this.value.arrayValue,n)}}class Oz extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gh(this.value.arrayValue,n)}}class Rz extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function AI(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Pz(t,e,n,r,i,a,o)}function Yw(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>db(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),$v(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xf(r))).join(",")),e.Te=n}return e.Te}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EI(t.startAt,e.startAt)&&EI(t.endAt,e.endAt)}function hb(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Nz(t,e,n,r,i,a,o,l){return new Uf(t,e,n,r,i,a,o,l)}function Gv(t){return new Uf(t)}function SI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xD(t){return t.collectionGroup!==null}function Dh(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qn(Tr.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Wh(a,r))})),n.has(Tr.keyField().canonicalString())||e.Ie.push(new Wh(Tr.keyField(),r))}return e.Ie}function so(t){const e=He(t);return e.Ee||(e.Ee=Dz(e,Dh(t))),e.Ee}function Dz(t,e){if(t.limitType==="F")return AI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Wh(i.field,a)}));const n=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return AI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pb(t,e){const n=t.filters.concat([e]);return new Uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gb(t,e,n){return new Uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wv(t,e){return Qw(so(t),so(e))&&t.limitType===e.limitType}function _D(t){return`${Yw(so(t))}|lt:${t.limitType}`}function tf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>mD(i))).join(", ")}]`),$v(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>xf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>xf(i))).join(",")),`Target(${r})`})(so(t))}; limitType=${t.limitType})`}function Kv(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Dh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,c){const f=wI(o,l,c);return o.inclusive?f<=0:f<0})(r.startAt,Dh(r),i)||r.endAt&&!(function(o,l,c){const f=wI(o,l,c);return o.inclusive?f>=0:f>0})(r.endAt,Dh(r),i))})(t,e)}function Mz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bD(t){return(e,n)=>{let r=!1;for(const i of Dh(t)){const a=kz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function kz(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?yf(c,f):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return iD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new sn(Ne.comparator);function is(){return jz}const wD=new sn(Ne.comparator);function wh(...t){let e=wD;for(const n of t)e=e.insert(n.key,n);return e}function ED(t){let e=wD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Tu(){return Mh()}function AD(){return Mh()}function Mh(){return new rc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Lz=new sn(Ne.comparator),Bz=new Qn(Ne.comparator);function lt(...t){let e=Bz;for(const n of t)e=e.add(n);return e}const Uz=new Qn(st);function Fz(){return Uz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function SD(t){return{integerValue:""+t}}function Vz(t,e){return pz(e)?SD(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this._=void 0}}function zz(t,e,n){return t instanceof Sg?(function(i,a){const o={fields:{[sD]:{stringValue:oD},[uD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Kw(a)&&(a=qv(a)),a&&(o.fields[lD]=a),{mapValue:o}})(n,e):t instanceof Kh?CD(t,e):t instanceof Xh?ID(t,e):(function(i,a){const o=TD(i,a),l=TI(o)+TI(i.Ae);return fb(o)&&fb(i.Ae)?SD(l):Zw(i.serializer,l)})(t,e)}function Hz(t,e,n){return t instanceof Kh?CD(t,e):t instanceof Xh?ID(t,e):n}function TD(t,e){return t instanceof Tg?(function(r){return fb(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Sg extends Xv{}class Kh extends Xv{constructor(e){super(),this.elements=e}}function CD(t,e){const n=OD(e);for(const r of t.elements)n.some((i=>po(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xh extends Xv{constructor(e){super(),this.elements=e}}function ID(t,e){let n=OD(e);for(const r of t.elements)n=n.filter((i=>!po(i,r)));return{arrayValue:{values:n}}}class Tg extends Xv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TI(t){return Sn(t.integerValue||t.doubleValue)}function OD(t){return Xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $z(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Xh&&i instanceof Xh?mf(r.elements,i.elements,po):r instanceof Tg&&i instanceof Tg?po(r.Ae,i.Ae):r instanceof Sg&&i instanceof Sg})(t.transform,e.transform)}class qz{constructor(e,n){this.version=e,this.transformResults=n}}class sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yv{}function RD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jw(t.key,sa.none()):new pp(t.key,t.data,sa.none());{const n=t.data,r=ui.empty();let i=new Qn(Tr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Ml(t.key,r,new Pi(i.toArray()),sa.none())}}function Gz(t,e,n){t instanceof pp?(function(i,a,o){const l=i.value.clone(),c=II(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Ml?(function(i,a,o){if(!ng(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=II(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(PD(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function kh(t,e,n,r){return t instanceof pp?(function(a,o,l,c){if(!ng(a.precondition,o))return l;const f=a.value.clone(),h=OI(a.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ml?(function(a,o,l,c){if(!ng(a.precondition,o))return l;const f=OI(a.fieldTransforms,c,o),h=o.data;return h.setAll(PD(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,l){return ng(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function Wz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=TD(r.transform,i||null);a!=null&&(n===null&&(n=ui.empty()),n.set(r.field,a))}return n||null}function CI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mf(r,i,((a,o)=>$z(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pp extends Yv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ml extends Yv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function II(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,Hz(o,l,n[i]))}return r}function OI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,zz(a,o,e))}return r}class Jw extends Yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kz extends Yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Gz(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AD();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=RD(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&mf(this.mutations,e.mutations,((n,r)=>CI(n,r)))&&mf(this.baseMutations,e.baseMutations,((n,r)=>CI(n,r)))}}class eE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Lz})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new eE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,ct;function Zz(t){switch(t){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function ND(t){if(t===void 0)return rs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case jn.OK:return ue.OK;case jn.CANCELLED:return ue.CANCELLED;case jn.UNKNOWN:return ue.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ue.INTERNAL;case jn.UNAVAILABLE:return ue.UNAVAILABLE;case jn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case jn.NOT_FOUND:return ue.NOT_FOUND;case jn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case jn.ABORTED:return ue.ABORTED;case jn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case jn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:t})}}(ct=jn||(jn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new pl([4294967295,4294967295],0);function RI(t){const e=Jz().encode(t),n=new WN;return n.update(e),new Uint8Array(n.digest())}function PI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new pl([n,r],0),new pl([i,a],0)]}class tE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eh(`Invalid padding: ${n}`);if(r<0)throw new Eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(pl.fromNumber(r)));return i.compare(eH)===1&&(i=new pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RI(e),[r,i]=PI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tE(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=RI(e),[r,i]=PI(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qv(Fe.min(),i,new sn(st),is(),lt())}}class gp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gp(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DD{constructor(e,n){this.targetId=e,this.Ce=n}}class MD{constructor(e,n,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NI{constructor(){this.ve=0,this.Fe=DI(),this.Me=Ir.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:a})}})),new gp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tH{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.Je=E1(),this.He=E1(),this.Ye=new sn(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(hb(a))if(r===0){const o=new Ne(a.path);this.et(n,o,jr.newNoDocument(o,Fe.min()))}else Tt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=El(r).toUint8Array()}catch(c){if(c instanceof aD)return vf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new tE(o,i,a)}catch(c){return vf(c instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&hb(l.target)){const c=new Ne(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,jr.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=lt();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Qv(e,n,this.Ye,this.je,r);return this.je=is(),this.Je=E1(),this.He=E1(),this.Ye=new sn(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function E1(){return new sn(Ne.comparator)}function DI(){return new sn(Ne.comparator)}const nH={asc:"ASCENDING",desc:"DESCENDING"},rH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iH={and:"AND",or:"OR"};class aH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vb(t,e){return t.useProto3Json||$v(e)?e:{value:e}}function Cg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oH(t,e){return Cg(t,e.toTimestamp())}function lo(t){return Tt(!!t,49232),Fe.fromTimestamp((function(n){const r=wl(n);return new Zt(r.seconds,r.nanos)})(t))}function nE(t,e){return mb(t,e).canonicalString()}function mb(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jD(t){const e=$t.fromString(t);return Tt(VD(e),10190,{key:e.toString()}),e}function yb(t,e){return nE(t.databaseId,e.path)}function s2(t,e){const n=jD(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(BD(n))}function LD(t,e){return nE(t.databaseId,e)}function sH(t){const e=jD(t);return e.length===4?$t.emptyPath():BD(e)}function xb(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BD(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MI(t,e,n){return{name:yb(t,e),fields:n.value.mapValue.fields}}function lH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(Tt(h===void 0||typeof h=="string",58123),Ir.fromBase64String(h||"")):(Tt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ir.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(f){const h=f.code===void 0?ue.UNKNOWN:ND(f.code);return new xe(h,f.message||"")})(o);n=new MD(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=s2(t,r.document.name),a=lo(r.document.updateTime),o=r.document.createTime?lo(r.document.createTime):Fe.min(),l=new ui({mapValue:{fields:r.document.fields}}),c=jr.newFoundDocument(i,a,o,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new rg(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=s2(t,r.document),a=r.readTime?lo(r.readTime):Fe.min(),o=jr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new rg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=s2(t,r.document),a=r.removedTargetIds||[];n=new rg([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Qz(i,a),l=r.targetId;n=new DD(l,o)}}return n}function uH(t,e){let n;if(e instanceof pp)n={update:MI(t,e.key,e.value)};else if(e instanceof Jw)n={delete:yb(t,e.key)};else if(e instanceof Ml)n={update:MI(t,e.key,e.data),updateMask:yH(e.fieldMask)};else{if(!(e instanceof Kz))return Ue(16599,{Vt:e.type});n={verify:yb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof Sg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tg)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Ue(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:oH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)})(t,e.precondition)),n}function cH(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?lo(i.updateTime):lo(a);return o.isEqual(Fe.min())&&(o=lo(a)),new qz(o,i.transformResults||[])})(n,e)))):[]}function fH(t,e){return{documents:[LD(t,e.path)]}}function dH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LD(t,i);const a=(function(f){if(f.length!==0)return FD(Da.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:nf(v.field),direction:gH(v.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function hH(t){let e=sH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const v=UD(p);return v instanceof Da&&gD(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((v=>(function(b){return new Wh(rf(b.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,$v(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(p){const v=!!p.before,m=p.values||[];return new Ag(m,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const v=!p.before,m=p.values||[];return new Ag(m,v)})(n.endAt)),Nz(e,i,o,a,l,"F",c,f)}function pH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rf(n.unaryFilter.field);return Ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rf(n.unaryFilter.field);return Ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rf(n.unaryFilter.field);return Ln.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rf(n.unaryFilter.field);return Ln.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ln.create(rf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Da.create(n.compositeFilter.filters.map((r=>UD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function gH(t){return nH[t]}function vH(t){return rH[t]}function mH(t){return iH[t]}function nf(t){return{fieldPath:t.canonicalString()}}function rf(t){return Tr.fromServerFormat(t.fieldPath)}function FD(t){return t instanceof Ln?(function(n){if(n.op==="=="){if(bI(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NAN"}};if(_I(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bI(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NOT_NAN"}};if(_I(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nf(n.field),op:vH(n.op),value:n.value}}})(t):t instanceof Da?(function(n){const r=n.getFilters().map((i=>FD(i)));return r.length===1?r[0]:{compositeFilter:{op:mH(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function yH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r,i,a=Fe.min(),o=Fe.min(),l=Ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.yt=e}}function _H(t){const e=hH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.Cn=new wH}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(bl.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(bl.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class wH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qn($t.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zD=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(zD,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _f(0)}static cr(){return new _f(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="LruGarbageCollector",EH=1048576;function LI([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class AH{constructor(e){this.Ir=e,this.buffer=new Qn(LI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(jI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bf(n)?Ee(jI,"Ignoring IndexedDB error during garbage collection: ",n):await Lf(n)}await this.Vr(3e5)}))}}class TH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Hv.ce);const r=new AH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(kI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),ef()<=ot.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function CH(t,e){return new TH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.changes=new rc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&kh(r.mutation,i,Pi.empty(),Zt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=Tu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=wh();return a.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Tu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=is();const o=Mh(),l=(function(){return Mh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Ml)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),kh(h.mutation,f,h.mutation.getFieldMask(),Zt.now())):o.set(f.key,Pi.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,h)=>o.set(f,h))),n.forEach(((f,h)=>l.set(f,new OH(h,o.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Mh();let i=new sn(((o,l)=>o-l)),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Pi.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||lt()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=AD();h.forEach((v=>{if(!a.has(v)){const m=RD(n.get(v),r.get(v));m!==null&&p.set(v,m),a=a.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):fe.resolve(Tu());let l=Hh,c=a;return o.next((f=>fe.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,lt()))).next((h=>({batchId:l,changes:ED(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((r=>{let i=wh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=wh();return this.indexManager.getCollectionParents(e,a).next((l=>fe.forEach(l,(c=>{const f=(function(p,v){return new Uf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,jr.newInvalidDocument(h)))}));let l=wh();return o.forEach(((c,f)=>{const h=a.get(c);h!==void 0&&kh(h.mutation,f,Pi.empty(),Zt.now()),Kv(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:lo(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:_H(i.bundledQuery),readTime:lo(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.overlays=new sn(Ne.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Tu();return fe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Tu(),a=n.length+1,o=new Ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sn(((f,h)=>f-h));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Tu(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Tu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return fe.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Yz(n,r));let a=this.qr.get(n);a===void 0&&(a=lt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Qr=new Qn(or.$r),this.Ur=new Qn(or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new or(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new or(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ne(new $t([])),r=new or(n,e),i=new or(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new $t([])),r=new or(n,e),i=new or(n,e+1);let a=lt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new or(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(or.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xz(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new or(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Ww:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),i=new or(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(st);return n.forEach((i=>{const a=new or(i,0),o=new or(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const o=new or(new Ne(a),0);let l=new Qn(st);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),o),fe.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const a=new or(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new or(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.ri=e,this.docs=(function(){return new sn(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jr.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=is();const o=n.path,l=new Ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||cz(uz(h),r)<=0||(i.has(h.key)||Kv(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new jH(this)}getSize(e){return fe.resolve(this.size)}}class jH extends IH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.persistence=e,this.si=new rc((n=>Yw(n)),Qw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new rE,this.targetCount=0,this.ai=_f.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _f(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),fe.waitFor(a).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hv(0),this.li=!1,this.li=!0,this.hi=new DH,this.referenceDelegate=e(this),this.Pi=new LH(this),this.indexManager=new bH,this.remoteDocumentCache=(function(i){return new kH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xH(n),this.Ii=new PH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new MH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new BH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class BH extends dz{constructor(e){super(),this.currentSequenceNumber=e}}class iE{constructor(e){this.persistence=e,this.Ri=new rE,this.Vi=null}static mi(e){return new iE(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Ne.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ig{constructor(e,n){this.persistence=e,this.pi=new rc((r=>gz(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=CH(this,n)}static mi(e,n){return new Ig(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new aE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DF()?8:hz(Fr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new UH;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ef()<=ot.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",tf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(ef()<=ot.DEBUG&&Ee("QueryEngine","Query:",tf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ef()<=ot.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",tf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,so(n))):fe.resolve())}ys(e,n){if(SI(n))return fe.resolve(null);let r=so(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=gb(n,null,"F"),r=so(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=lt(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,l);return this.Cs(n,f,o,c.readTime)?this.ys(e,gb(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return SI(n)||i.isEqual(Fe.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?fe.resolve(null):(ef()<=ot.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(n)),this.vs(e,o,n,lz(i,Hh)).next((l=>l)))}))}Ds(e,n){let r=new Qn(bD(e));return n.forEach(((i,a)=>{Kv(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ef()<=ot.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",tf(n)),this.ps.getDocumentsMatchingQuery(e,n,bl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LocalStore",VH=3e8;class zH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new sn(st),this.xs=new rc((a=>Yw(a)),Qw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HH(t,e,n,r){return new zH(t,e,n,r)}async function $D(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let c=lt();for(const f of i){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:l})))}))}))}function $H(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,v=p.keys();let m=fe.resolve();return v.forEach((b=>{m=m.next((()=>h.getEntry(c,b))).next((w=>{const A=f.docVersions.get(b);Tt(A!==null,48541),w.version.compareTo(A)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),m.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=lt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function qD(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qH(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let m=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ir.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),(function(w,A,S){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=VH?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,m,h)&&l.push(n.Pi.updateTargetData(a,m))}));let c=is(),f=lt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(GH(a,o,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!r.isEqual(Fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return fe.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function GH(t,e,n){let r=lt(),i=lt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=is();return n.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ee(oE,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function WH(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ww),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KH(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,fe.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new cl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _b(t,e,n){const r=He(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bf(o))throw o;Ee(oE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BI(t,e,n){const r=He(t);let i=Fe.min(),a=lt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,f,h){const p=He(c),v=p.xs.get(h);return v!==void 0?fe.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,h)})(r,o,so(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Fe.min(),n?a:lt()))).next((l=>(XH(r,Mz(e),l),{documents:l,Qs:a})))))}function XH(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class UI{constructor(){this.activeTargetIds=Fz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YH{constructor(){this.Mo=new UI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="ConnectivityMonitor";class VI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(FI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(FI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A1=null;function bb(){return A1===null?A1=(function(){return 268435456+Math.round(2147483648*Math.random())})():A1++,"0x"+A1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="RestConnection",ZH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=bb(),l=this.zo(e,n.toUriEncodedString());Ee(l2,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),h=_o(f);return this.Jo(e,l,c,r,h).then((p=>(Ee(l2,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw vf(l2,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=ZH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class t$ extends JH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=bb();return new Promise(((l,c)=>{const f=new KN;f.setWithCredentials(!0),f.listenOnce(XN.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case J1.NO_ERROR:const p=f.getResponseJson();Ee(Nr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case J1.TIMEOUT:Ee(Nr,`RPC '${e}' ${o} timed out`),c(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case J1.HTTP_ERROR:const v=f.getStatus();if(Ee(Nr,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m?.error;if(b&&b.status&&b.message){const w=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN})(b.status);c(new xe(w,b.message))}else c(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ee(Nr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);Ee(Nr,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=bb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZN(),l=QN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");Ee(Nr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);this.I_(p);let v=!1,m=!1;const b=new e$({Yo:A=>{m?Ee(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(Ee(Nr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ee(Nr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),w=(A,S,I)=>{A.listen(S,(O=>{try{I(O)}catch(N){setTimeout((()=>{throw N}),0)}}))};return w(p,bh.EventType.OPEN,(()=>{m||(Ee(Nr,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),w(p,bh.EventType.CLOSE,(()=>{m||(m=!0,Ee(Nr,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),w(p,bh.EventType.ERROR,(A=>{m||(m=!0,vf(Nr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),w(p,bh.EventType.MESSAGE,(A=>{if(!m){const S=A.data[0];Tt(!!S,16349);const I=S,O=I?.error||I[0]?.error;if(O){Ee(Nr,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let k=(function(M){const j=jn[M];if(j!==void 0)return ND(j)})(N),B=O.message;k===void 0&&(k=ue.INTERNAL,B="Unknown error status: "+N+" with message "+O.message),m=!0,b.a_(new xe(k,B)),p.close()}else Ee(Nr,`RPC '${e}' stream ${i} received:`,S),b.u_(S)}})),w(l,YN.STAT_EVENT,(A=>{A.stat===lb.PROXY?Ee(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===lb.NOPROXY&&Ee(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function u2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return new aH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="PersistentStream";class WD{constructor(e,n,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(zI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(zI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n$ extends WD{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lH(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?lo(o.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xb(this.serializer),n.addTarget=(function(a,o){let l;const c=o.target;if(l=hb(c)?{documents:fH(a,c)}:{query:dH(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kD(a,o.resumeToken);const f=vb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Fe.min())>0){l.readTime=Cg(a,o.snapshotVersion.toTimestamp());const f=vb(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=pH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xb(this.serializer),n.removeTarget=e,this.q_(n)}}class r$ extends WD{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cH(e.writeResults,e.commitTime),r=lo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>uH(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${}class a$ extends i${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,mb(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ue.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,mb(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class o${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="RemoteStore";class s${constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ic(this)&&(Ee($u,"Restarting streams for network reachability change."),await(async function(c){const f=He(c);f.Ea.add(4),await vp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Jv(f)})(this))}))})),this.Ra=new o$(r,i)}}async function Jv(t){if(ic(t))for(const e of t.da)await e(!0)}async function vp(t){for(const e of t.da)await e(!1)}function KD(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cE(n)?uE(n):Ff(n).O_()&&lE(n,e))}function sE(t,e){const n=He(t),r=Ff(n);n.Ia.delete(e),r.O_()&&XD(n,e),n.Ia.size===0&&(r.O_()?r.L_():ic(n)&&n.Ra.set("Unknown"))}function lE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ff(t).Y_(e)}function XD(t,e){t.Va.Ue(e),Ff(t).Z_(e)}function uE(t){t.Va=new tH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ff(t).start(),t.Ra.ua()}function cE(t){return ic(t)&&!Ff(t).x_()&&t.Ia.size>0}function ic(t){return He(t).Ea.size===0}function YD(t){t.Va=void 0}async function l$(t){t.Ra.set("Online")}async function u$(t){t.Ia.forEach(((e,n)=>{lE(t,e)}))}async function c$(t,e){YD(t),cE(t)?(t.Ra.ha(e),uE(t)):t.Ra.set("Unknown")}async function f$(t,e,n){if(t.Ra.set("Online"),e instanceof MD&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ee($u,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Og(t,r)}else if(e instanceof rg?t.Va.Ze(e):e instanceof DD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await qD(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Ir.EMPTY_BYTE_STRING,h.snapshotVersion)),XD(a,c);const p=new cl(h.target,c,f,h.sequenceNumber);lE(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ee($u,"Failed to raise snapshot:",r),await Og(t,r)}}async function Og(t,e,n){if(!Bf(e))throw e;t.Ea.add(1),await vp(t),t.Ra.set("Offline"),n||(n=()=>qD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee($u,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jv(t)}))}function QD(t,e){return e().catch((n=>Og(t,n,e)))}async function em(t){const e=He(t),n=Sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ww;for(;d$(e);)try{const i=await WH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,h$(e,i)}catch(i){await Og(e,i)}ZD(e)&&JD(e)}function d$(t){return ic(t)&&t.Ta.length<10}function h$(t,e){t.Ta.push(e);const n=Sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZD(t){return ic(t)&&!Sl(t).x_()&&t.Ta.length>0}function JD(t){Sl(t).start()}async function p$(t){Sl(t).ra()}async function g$(t){const e=Sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function v$(t,e,n){const r=t.Ta.shift(),i=eE.from(r,e,n);await QD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await em(t)}async function m$(t,e){e&&Sl(t).X_&&await(async function(r,i){if((function(o){return Zz(o)&&o!==ue.ABORTED})(i.code)){const a=r.Ta.shift();Sl(r).B_(),await QD(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await em(r)}})(t,e),ZD(t)&&JD(t)}async function HI(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ee($u,"RemoteStore received new credentials");const r=ic(n);n.Ea.add(3),await vp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jv(n)}async function y$(t,e){const n=He(t);e?(n.Ea.delete(2),await Jv(n)):e||(n.Ea.add(2),await vp(n),n.Ra.set("Unknown"))}function Ff(t){return t.ma||(t.ma=(function(n,r,i){const a=He(n);return a.sa(),new n$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:l$.bind(null,t),t_:u$.bind(null,t),r_:c$.bind(null,t),H_:f$.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cE(t)?uE(t):t.Ra.set("Unknown")):(await t.ma.stop(),YD(t))}))),t.ma}function Sl(t){return t.fa||(t.fa=(function(n,r,i){const a=He(n);return a.sa(),new r$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:p$.bind(null,t),r_:m$.bind(null,t),ta:g$.bind(null,t),na:v$.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await em(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee($u,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new fE(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dE(t,e){if(rs("AsyncQueue",`${e}: ${t}`),Bf(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{static emptySet(e){return new lf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=wh(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.ga=new sn(Ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bf{constructor(e,n,r,i,a,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new bf(e,n,lf.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _${constructor(){this.queries=qI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=qI(),a.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function qI(){return new rc((t=>_D(t)),Wv)}async function hE(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new x$,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=dE(o,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&gE(n)}async function pE(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b$(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&gE(n)}function w$(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function gE(t){t.Ca.forEach((e=>{e.next()}))}var wb,GI;(GI=wb||(wb={})).Ma="default",GI.Cache="cache";class vE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.key=e}}class t5{constructor(e){this.key=e}}class E${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=bD(e),this.tu=new lf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $I,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const v=i.get(h),m=Kv(this.query,p)?p:null,b=!!v&&this.mutatedKeys.has(v.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;v&&m?v.data.isEqual(m.data)?b!==w&&(r.track({type:3,doc:m}),A=!0):this.su(v,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(l=!0)):!v&&m?(r.track({type:0,doc:m}),A=!0):v&&!m&&(r.track({type:1,doc:v}),A=!0,(c||f)&&(l=!0)),A&&(m?(o=o.add(m),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(m,b){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:A})}};return w(m)-w(b)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new bf(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $I,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new t5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new e5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mE="SyncEngine";class A${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S${constructor(e){this.key=e,this.hu=!1}}class T${constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new rc((l=>_D(l)),Wv),this.Iu=new Map,this.Eu=new Set,this.du=new sn(Ne.comparator),this.Au=new Map,this.Ru=new rE,this.Vu={},this.mu=new Map,this.fu=_f.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C$(t,e,n=!0){const r=s5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await n5(r,e,n,!0),i}async function I$(t,e){const n=s5(t);await n5(n,e,!0,!1)}async function n5(t,e,n,r){const i=await KH(t.localStore,so(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await O$(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KD(t.remoteStore,i),l}async function O$(t,e,n,r,i){t.pu=(p,v,m)=>(async function(w,A,S,I){let O=A.view.ru(S);O.Cs&&(O=await BI(w.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,O))));const N=I&&I.targetChanges.get(A.targetId),k=I&&I.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(O,w.isPrimaryClient,N,k);return KI(w,A.targetId,B.au),B.snapshot})(t,p,v,m);const a=await BI(t.localStore,e,!0),o=new E$(e,a.Qs),l=o.ru(a.documents),c=gp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);KI(t,n,f.au);const h=new A$(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function R$(t,e,n){const r=He(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Wv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _b(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sE(r.remoteStore,i.targetId),Eb(r,i.targetId)})).catch(Lf)):(Eb(r,i.targetId),await _b(r.localStore,i.targetId,!0))}async function P$(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sE(n.remoteStore,r.targetId))}async function N$(t,e,n){const r=U$(t);try{const i=await(function(o,l){const c=He(o),f=Zt.now(),h=l.reduce(((m,b)=>m.add(b.key)),lt());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let b=is(),w=lt();return c.Ns.getEntries(m,h).next((A=>{b=A,b.forEach(((S,I)=>{I.isValidDocument()||(w=w.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,b))).next((A=>{p=A;const S=[];for(const I of l){const O=Wz(I,p.get(I.key).overlayedDocument);O!=null&&S.push(new Ml(I.key,O,dD(O.value.mapValue),sa.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,S,l)})).next((A=>{v=A;const S=A.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(m,A.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:ED(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new sn(st)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await mp(r,i.changes),await em(r.remoteStore)}catch(i){const a=dE(i,"Failed to persist write");n.reject(a)}}async function r5(t,e){const n=He(t);try{const r=await qH(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Tt(o.hu,14607):i.removedDocuments.size>0&&(Tt(o.hu,42227),o.hu=!1))})),await mp(n,r,e)}catch(r){await Lf(r)}}function WI(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=He(o);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const v of p.Sa)v.va(l)&&(f=!0)})),f&&gE(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D$(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new sn(Ne.comparator);o=o.insert(a,jr.newNoDocument(a,Fe.min()));const l=lt().add(a),c=new Qv(Fe.min(),new Map,new sn(st),o,l);await r5(r,c),r.du=r.du.remove(a),r.Au.delete(e),yE(r)}else await _b(r.localStore,e,!1).then((()=>Eb(r,e,n))).catch(Lf)}async function M$(t,e){const n=He(t),r=e.batch.batchId;try{const i=await $H(n.localStore,e);a5(n,r,null),i5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mp(n,i)}catch(i){await Lf(i)}}async function k$(t,e,n){const r=He(t);try{const i=await(function(o,l){const c=He(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(Tt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);a5(r,e,n),i5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mp(r,i)}catch(i){await Lf(i)}}function i5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function a5(t,e,n){const r=He(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Eb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||o5(t,r)}))}function o5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yE(t))}function KI(t,e,n){for(const r of n)r instanceof e5?(t.Ru.addReference(r.key,e),j$(t,r)):r instanceof t5?(Ee(mE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||o5(t,r.key)):Ue(19791,{wu:r})}function j$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(mE,"New document in limbo: "+n),t.Eu.add(r),yE(t))}function yE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne($t.fromString(e)),r=t.fu.next();t.Au.set(r,new S$(n)),t.du=t.du.insert(n,r),KD(t.remoteStore,new cl(so(Gv(n.path)),r,"TargetPurposeLimboResolution",Hv.ce))}}async function mp(t,e,n){const r=He(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const h=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){i.push(f);const h=aE.As(c.targetId,f);a.push(h)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,f){const h=He(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>fe.forEach(f,(v=>fe.forEach(v.Es,(m=>h.persistence.referenceDelegate.addReference(p,v.targetId,m))).next((()=>fe.forEach(v.ds,(m=>h.persistence.referenceDelegate.removeReference(p,v.targetId,m)))))))))}catch(p){if(!Bf(p))throw p;Ee(oE,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const m=h.Ms.get(v),b=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(v,w)}}})(r.localStore,a))}async function L$(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ee(mE,"User change. New user:",e.toKey());const r=await $D(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new xe(ue.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mp(n,r.Ls)}}function B$(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function s5(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D$.bind(null,e),e.Pu.H_=b$.bind(null,e.eventManager),e.Pu.yu=w$.bind(null,e.eventManager),e}function U$(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k$.bind(null,e),e}class Rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HH(this.persistence,new FH,e.initialUser,this.serializer)}Cu(e){return new HD(iE.mi,this.serializer)}Du(e){return new YH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rg.provider={build:()=>new Rg};class F$ extends Rg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof Ig,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new HD((r=>Ig.mi(r,n)),this.serializer)}}class Ab{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L$.bind(null,this.syncEngine),await y$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _$})()}createDatastore(e){const n=Zv(e.databaseInfo.databaseId),r=(function(a){return new t$(a)})(e.databaseInfo);return(function(a,o,l,c){return new a$(a,o,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new s$(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>WI(this.syncEngine,n,0)),(function(){return VI.v()?new VI:new QH})())}createSyncEngine(e,n){return(function(i,a,o,l,c,f,h){const p=new T$(i,a,o,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);Ee($u,"RemoteStore shutting down."),r.Ea.add(5),await vp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ab.provider={build:()=>new Ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="FirestoreClient";class V${constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Ee(Tl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ee(Tl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function c2(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $D(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function XI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z$(t);Ee(Tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HI(e.remoteStore,i))),t._onlineComponents=e}async function z$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Tl,"Using user provided OfflineComponentProvider");try{await c2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vf("Error using user provided cache. Falling back to memory cache: "+n),await c2(t,new Rg)}}else Ee(Tl,"Using default OfflineComponentProvider"),await c2(t,new F$(void 0));return t._offlineComponents}async function l5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Tl,"Using user provided OnlineComponentProvider"),await XI(t,t._uninitializedComponentsProvider._online)):(Ee(Tl,"Using default OnlineComponentProvider"),await XI(t,new Ab))),t._onlineComponents}function H$(t){return l5(t).then((e=>e.syncEngine))}async function Pg(t){const e=await l5(t),n=e.eventManager;return n.onListen=C$.bind(null,e.syncEngine),n.onUnlisten=R$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P$.bind(null,e.syncEngine),n}function $$(t,e,n={}){const r=new Qo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new xE({next:v=>{h.Nu(),o.enqueueAndForget((()=>pE(a,p)));const m=v.docs.has(l);!m&&v.fromCache?f.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new vE(Gv(l.path),h,{includeMetadataChanges:!0,qa:!0});return hE(a,p)})(await Pg(t),t.asyncQueue,e,n,r))),r.promise}function q$(t,e,n={}){const r=new Qo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,c,f){const h=new xE({next:v=>{h.Nu(),o.enqueueAndForget((()=>pE(a,p))),v.fromCache&&c.source==="server"?f.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new vE(l,h,{includeMetadataChanges:!0,qa:!0});return hE(a,p)})(await Pg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="firestore.googleapis.com",QI=!0;class ZI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c5,this.ssl=QI}else this.host=e.host,this.ssl=e.ssl??QI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EH)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QV;switch(r.type){case"firstParty":return new tz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=YI.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),YI.delete(n),r.terminate())})(this),Promise.resolve()}}function G$(t,e,n,r={}){t=di(t,tm);const i=_o(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Uv(`https://${l}`),Fv("Firestore",!0)),a.host!==c5&&a.host!==l&&vf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!zu(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=kr.MOCK_USER;else{f=VN(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new kr(p)}t._authCredentials=new ZV(new eD(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kl(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hp(n,hn._jsonSchema))return new hn(e,r||null,new Ne($t.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:Bn("string",hn._jsonSchemaVersion),referencePath:Bn("string")};class gl extends kl{constructor(e,n,r){super(e,n,Gv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ne(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function pn(t,e,...n){if(t=zt(t),tD("collection","path",e),t instanceof tm){const r=$t.fromString(e,...n);return fI(r),new gl(t,null,r)}{if(!(t instanceof hn||t instanceof gl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return fI(r),new gl(t.firestore,null,r)}}function fr(t,e,...n){if(t=zt(t),arguments.length===1&&(e=Gw.newId()),tD("doc","path",e),t instanceof tm){const r=$t.fromString(e,...n);return cI(r),new hn(t,null,new Ne(r))}{if(!(t instanceof hn||t instanceof gl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return cI(r),new hn(t.firestore,t instanceof gl?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="AsyncQueue";class eO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GD(this,"async_queue_retry"),this._c=()=>{const r=u2();r&&Ee(JI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=u2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=u2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bf(e))throw e;Ee(JI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",tO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=fE.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:tO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class as extends tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eO(e),this._firestoreClient=void 0,await e}}}function W$(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:wg,i=dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=zw("firestore");a&&G$(i,...a)}return i}function nm(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K$(t),t._firestoreClient}function K$(t){const e=t._freezeSettings(),n=(function(i,a,o,l){return new yz(i,a,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,u5(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Ir.fromBase64String(e))}catch(n){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hp(e,ra._jsonSchema))return ra.fromBase64String(e.bytes)}}ra._jsonSchemaVersion="firestore/bytes/1.0",ra._jsonSchema={type:Bn("string",ra._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uo._jsonSchemaVersion}}static fromJSON(e){if(hp(e,uo._jsonSchema))return new uo(e.latitude,e.longitude)}}uo._jsonSchemaVersion="firestore/geoPoint/1.0",uo._jsonSchema={type:Bn("string",uo._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hp(e,co._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new co(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:Bn("string",co._jsonSchemaVersion),vectorValues:Bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=/^__.*__$/;class Y${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ml(e,this.data,this.fieldMask,n,this.fieldTransforms):new pp(e,this.data,n,this.fieldTransforms)}}class f5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ml(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class bE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ng(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d5(this.Ac)&&X$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zv(e)}Cc(e,n,r,i=!1){return new bE({Ac:e,methodName:n,Dc:r,path:Tr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(t){const e=t._freezeSettings(),n=Zv(t._databaseId);return new Q$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h5(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);wE("Data must be an object, but it was:",o,r);const l=p5(r,o);let c,f;if(a.merge)c=new Pi(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const v=Sb(e,p,n);if(!o.contains(v))throw new xe(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);v5(h,v)||h.push(v)}c=new Pi(h),f=o.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=o.fieldTransforms;return new Y$(new ui(l),c,f)}class am extends _E{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function Z$(t,e,n,r){const i=t.Cc(1,e,n);wE("Data must be an object, but it was:",i,r);const a=[],o=ui.empty();Dl(r,((c,f)=>{const h=EE(e,c,n);f=zt(f);const p=i.yc(h);if(f instanceof am)a.push(h);else{const v=yp(f,p);v!=null&&(a.push(h),o.set(h,v))}}));const l=new Pi(a);return new f5(o,l,i.fieldTransforms)}function J$(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[Sb(e,r,n)],c=[i];if(a.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(Sb(e,a[v])),c.push(a[v+1]);const f=[],h=ui.empty();for(let v=l.length-1;v>=0;--v)if(!v5(f,l[v])){const m=l[v];let b=c[v];b=zt(b);const w=o.yc(m);if(b instanceof am)f.push(m);else{const A=yp(b,w);A!=null&&(f.push(m),h.set(m,A))}}const p=new Pi(f);return new f5(h,p,o.fieldTransforms)}function eq(t,e,n,r=!1){return yp(n,t.Cc(r?4:3,e))}function yp(t,e){if(g5(t=zt(t)))return wE("Unsupported field value:",e,t),p5(t,e);if(t instanceof _E)return(function(r,i){if(!d5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let c=yp(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Zt.fromDate(r);return{timestampValue:Cg(i.serializer,a)}}if(r instanceof Zt){const a=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cg(i.serializer,a)}}if(r instanceof uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:kD(i.serializer,r._byteString)};if(r instanceof hn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof co)return(function(o,l){return{mapValue:{fields:{[cD]:{stringValue:fD},[Eg]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return Zw(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${zv(r)}`)})(t,e)}function p5(t,e){const n={};return iD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dl(t,((r,i)=>{const a=yp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function g5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof uo||t instanceof ra||t instanceof hn||t instanceof _E||t instanceof co)}function wE(t,e,n){if(!g5(n)||!nD(n)){const r=zv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Sb(t,e,n){if((e=zt(e))instanceof rm)return e._internalPath;if(typeof e=="string")return EE(t,e);throw Ng("Field path arguments must be of type string or ",t,!1,void 0,n)}const tq=new RegExp("[~\\*/\\[\\]]");function EE(t,e,n){if(e.search(tq)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ng(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new xe(ue.INVALID_ARGUMENT,l+t+c)}function v5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nq extends m5{data(){return super.data()}}function AE(t,e){return typeof e=="string"?EE(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SE{}class x5 extends SE{}function hi(t,e,...n){let r=[];e instanceof SE&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((c=>c instanceof CE)).length,l=a.filter((c=>c instanceof TE)).length;if(o>1||o>0&&l>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class TE extends x5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new TE(e,n,r)}_apply(e){const n=this._parse(e);return _5(e._query,n),new kl(e.firestore,e.converter,pb(e._query,n))}_parse(e){const n=im(e.firestore);return(function(a,o,l,c,f,h,p){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){iO(p,h);const b=[];for(const w of p)b.push(rO(c,a,w));v={arrayValue:{values:b}}}else v=rO(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||iO(p,h),v=eq(l,o,p,h==="in"||h==="not-in");return Ln.create(f,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class CE extends SE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new CE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Da.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)_5(o,c),o=pb(o,c)})(e._query,n),new kl(e.firestore,e.converter,pb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IE extends x5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new IE(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wh(a,o)})(e._query,this._field,this._direction);return new kl(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Uf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function go(t,e="asc"){const n=e,r=AE("orderBy",t);return IE._create(r,n)}function rO(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xD(e)&&n.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Ne.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xI(t,new Ne(r))}if(n instanceof hn)return xI(t,n._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zv(n)}.`)}function iO(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _5(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rq{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(El(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Eg].arrayValue?.values?.map((r=>Sn(r.doubleValue)));return new co(n)}convertGeoPoint(e){return new uo(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=wl(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Tt(VD(r),9688,{name:e});const i=new qh(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return i.isEqual(n)||rs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends m5{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mu._jsonSchema={type:Bn("string",Mu._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class ig extends Mu{data(e={}){return super.data(e)}}class ku{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ah(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new Ah(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new ig(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ah(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new ig(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ah(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:iq(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){t=di(t,hn);const e=di(t.firestore,as);return $$(nm(e),t._key).then((n=>E5(e,t,n)))}ku._jsonSchemaVersion="firestore/querySnapshot/1.0",ku._jsonSchema={type:Bn("string",ku._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class RE extends rq{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Cl(t){t=di(t,kl);const e=di(t.firestore,as),n=nm(e),r=new RE(e);return y5(t._query),q$(n,t._query).then((i=>new ku(e,r,t,i)))}function w5(t,e,n){t=di(t,hn);const r=di(t.firestore,as),i=b5(t.converter,e);return om(r,[h5(im(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sa.none())])}function ac(t,e,n,...r){t=di(t,hn);const i=di(t.firestore,as),a=im(i);let o;return o=typeof(e=zt(e))=="string"||e instanceof rm?J$(a,"updateDoc",t._key,e,n,r):Z$(a,"updateDoc",t._key,e),om(i,[o.toMutation(t._key,sa.exists(!0))])}function qu(t){return om(di(t.firestore,as),[new Jw(t._key,sa.none())])}function Vf(t,e){const n=di(t.firestore,as),r=fr(t),i=b5(t.converter,e);return om(n,[h5(im(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sa.exists(!1))]).then((()=>r))}function zf(t,...e){t=zt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nO(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let a,o,l;if(t instanceof hn)o=di(t.firestore,as),l=Gv(t._key.path),a={next:c=>{e[r]&&e[r](E5(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=di(t,kl);o=di(c.firestore,as),l=c._query;const f=new RE(o);a={next:h=>{e[r]&&e[r](new ku(o,f,c,h))},error:e[r+1],complete:e[r+2]},y5(t._query)}return(function(f,h,p,v){const m=new xE(v),b=new vE(h,m,p);return f.asyncQueue.enqueueAndForget((async()=>hE(await Pg(f),b))),()=>{m.Nu(),f.asyncQueue.enqueueAndForget((async()=>pE(await Pg(f),b)))}})(nm(o),l,i,a)}function om(t,e){return(function(r,i){const a=new Qo;return r.asyncQueue.enqueueAndForget((async()=>N$(await H$(r),i,a))),a.promise})(nm(t),e)}function E5(t,e,n){const r=n.docs.get(e._key),i=new RE(t);return new Mu(t,i,e._key,r,new Ah(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jf=i})(nc),_l(new ts("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new as(new JV(r.getProvider("auth-internal")),new nz(o,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(f.options.projectId,h)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),oa(oI,sI,e),oa(oI,sI,"esm2020")})();var aq="firebase",oq="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(aq,oq,"app");function A5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sq=A5,S5=new cp("auth","Firebase",A5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Hw("@firebase/auth");function lq(t,...e){Dg.logLevel<=ot.WARN&&Dg.warn(`Auth (${nc}): ${t}`,...e)}function ag(t,...e){Dg.logLevel<=ot.ERROR&&Dg.error(`Auth (${nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,...e){throw NE(t,...e)}function Na(t,...e){return NE(t,...e)}function PE(t,e,n){const r={...sq(),[e]:n};return new cp("auth","Firebase",r).create(e,{appName:t.name})}function Zo(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ua(t,"argument-error"),PE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function NE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S5.create(t,...e)}function Be(t,e,...n){if(!t)throw NE(e,...n)}function Wo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ag(e),new Error(e)}function os(t,e){t||Wo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return typeof self<"u"&&self.location?.href||""}function cq(){return aO()==="http:"||aO()==="https:"}function aO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cq()||RF()||"connection"in navigator)?navigator.onLine:!0}function dq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=CF()||PF()}get(){return fq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gq=new xp(3e4,6e4);function jl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,i={}){return C5(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=fp({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return OF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&_o(t.emulatorConfig.host)&&(f.credentials="include"),T5.fetch()(await I5(t,t.config.apiHost,n,l),f)})}async function C5(t,e,n){t._canInitEmulator=!1;const r={...hq,...e};try{const i=new mq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw S1(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw S1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw S1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw S1(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw PE(t,h,f);ua(t,h)}}catch(i){if(i instanceof Ma)throw i;ua(t,"network-request-failed",{message:String(i)})}}async function _p(t,e,n,r,i={}){const a=await fs(t,e,n,r,i);return"mfaPendingCredential"in a&&ua(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function I5(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?DE(t.config,i):`${t.config.apiScheme}://${i}`;return pq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function vq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Na(this.auth,"network-request-failed")),gq.get())})}}function S1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Na(t,e,r);return i.customData._tokenResponse=n,i}function oO(t){return t!==void 0&&t.enterprise!==void 0}class yq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xq(t,e){return fs(t,"GET","/v2/recaptchaConfig",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function Mg(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bq(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=ME(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:jh(f2(i.auth_time)),issuedAtTime:jh(f2(i.iat)),expirationTime:jh(f2(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function f2(t){return Number(t)*1e3}function ME(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=LN(n);return i?JSON.parse(i):(ag("Failed to decode base64 JWT payload"),null)}catch(i){return ag("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sO(t){const e=ME(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ma&&wq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t){const e=t.auth,n=await t.getIdToken(),r=await wf(t,Mg(e,{idToken:n}));Be(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?O5(i.providerUserInfo):[],o=Sq(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cb(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function Aq(t){const e=zt(t);await kg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t,e){const n=await C5(t,{},async()=>{const r=fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await I5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&_o(t.emulatorConfig.host)&&(c.credentials="include"),T5.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cq(t,e){return fs(t,"POST","/v2/accounts:revokeToken",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=sO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Tq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new uf;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uf,this.toJSON())}_performRefresh(){return Wo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Eq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wf(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bq(this,e)}reload(){return Aq(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await wf(this,_q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:m,providerData:b,stsTokenManager:w}=n;Be(p&&w,e,"internal-error");const A=uf.fromJSON(this.name,w);Be(typeof p=="string",e,"internal-error"),Zs(r,e.name),Zs(i,e.name),Be(typeof v=="boolean",e,"internal-error"),Be(typeof m=="boolean",e,"internal-error"),Zs(a,e.name),Zs(o,e.name),Zs(l,e.name),Zs(c,e.name),Zs(f,e.name),Zs(h,e.name);const S=new Pa({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:A,createdAt:f,lastLoginAt:h});return b&&Array.isArray(b)&&(S.providerData=b.map(I=>({...I}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new uf;i.updateFromServerResponse(n);const a=new Pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?O5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,l=new uf;l.updateFromIdToken(r);const c=new Pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Map;function Ko(t){os(t instanceof Function,"Expected a class definition");let e=lO.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R5.type="NONE";const uO=R5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e,n){return`firebase:${t}:${e}:${n}`}class cf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=og(this.userKey,i.apiKey,a),this.fullPersistenceKey=og("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mg(this.auth,{idToken:e}).catch(()=>{});return n?Pa._fromGetAccountInfoResponse(this.auth,n,e):null}return Pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cf(Ko(uO),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ko(uO);const o=og(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const v=await Mg(e,{idToken:h}).catch(()=>{});if(!v)break;p=await Pa._fromGetAccountInfoResponse(e,v,h)}else p=Pa._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new cf(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new cf(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j5(e))return"Blackberry";if(L5(e))return"Webos";if(N5(e))return"Safari";if((e.includes("chrome/")||D5(e))&&!e.includes("edge/"))return"Chrome";if(k5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function P5(t=Fr()){return/firefox\//i.test(t)}function N5(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D5(t=Fr()){return/crios\//i.test(t)}function M5(t=Fr()){return/iemobile/i.test(t)}function k5(t=Fr()){return/android/i.test(t)}function j5(t=Fr()){return/blackberry/i.test(t)}function L5(t=Fr()){return/webos/i.test(t)}function kE(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Iq(t=Fr()){return kE(t)&&!!window.navigator?.standalone}function Oq(){return NF()&&document.documentMode===10}function B5(t=Fr()){return kE(t)||k5(t)||L5(t)||j5(t)||/windows phone/i.test(t)||M5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t,e=[]){let n;switch(t){case"Browser":n=cO(Fr());break;case"Worker":n=`${cO(Fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pq(t,e={}){return fs(t,"GET","/v2/passwordPolicy",jl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=6;class Dq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fO(this),this.idTokenSubscription=new fO(this),this.beforeStateQueue=new Rq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mg(this,{idToken:e}),r=await Pa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Zo(this));const n=e?zt(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ko(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pq(this),n=new Dq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cq(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ko(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await cf.create(this,[Ko(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ll(t){return zt(t)}class fO{constructor(e){this.auth=e,this.observer=null,this.addObserver=FF(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kq(t){sm=t}function F5(t){return sm.loadJS(t)}function jq(){return sm.recaptchaEnterpriseScript}function Lq(){return sm.gapiScript}function Bq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uq{constructor(){this.enterprise=new Fq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Vq="recaptcha-enterprise",V5="NO_RECAPTCHA";class zq{constructor(e){this.type=Vq,this.auth=Ll(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{xq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new yq(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;oO(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(V5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uq().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&oO(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=jq();c.length!==0&&(c+=l),F5(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function dO(t,e,n,r=!1,i=!1){const a=new zq(t);let o;if(i)o=V5;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ib(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await dO(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await dO(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t,e){const n=dp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(zu(a,e??{}))return i;ua(i,"already-initialized")}return n.initialize({options:e})}function $q(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ko);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function qq(t,e,n){const r=Ll(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=z5(e),{host:o,port:l}=Gq(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(zu(f,r.config.emulator)&&zu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_o(o)?(Uv(`${a}//${o}${c}`),Fv("Auth",!0)):Wq()}function z5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gq(t){const e=z5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:hO(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:hO(o)}}}function hO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wo("not implemented")}_getIdTokenResponse(e){return Wo("not implemented")}_linkToIdToken(e,n){return Wo("not implemented")}_getReauthenticationResolver(e){return Wo("not implemented")}}async function Kq(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e){return _p(t,"POST","/v1/accounts:signInWithPassword",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e){return _p(t,"POST","/v1/accounts:signInWithEmailLink",jl(t,e))}async function Qq(t,e){return _p(t,"POST","/v1/accounts:signInWithEmailLink",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends jE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,n,"signInWithPassword",Xq);case"emailLink":return Yq(e,{email:this._email,oobCode:this._password});default:ua(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,r,"signUpPassword",Kq);case"emailLink":return Qq(e,{idToken:n,email:this._email,oobCode:this._password});default:ua(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t,e){return _p(t,"POST","/v1/accounts:signInWithIdp",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="http://localhost";class Gu extends jE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Gu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ff(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ff(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ff(e,n)}buildRequest(){const e={requestUri:Zq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eG(t){const e=xh(_h(t)).link,n=e?xh(_h(e)).deep_link_id:null,r=xh(_h(t)).deep_link_id;return(r?xh(_h(r)).link:null)||r||n||e||t}class LE{constructor(e){const n=xh(_h(e)),r=n.apiKey??null,i=n.oobCode??null,a=Jq(n.mode??null);Be(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eG(e);try{return new LE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.providerId=Hf.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=LE.parseLink(n);return Be(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}Hf.PROVIDER_ID="password";Hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends bp{constructor(){super("facebook.com")}static credential(e){return Gu._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return al.credential(e.oauthAccessToken)}catch{return null}}}al.FACEBOOK_SIGN_IN_METHOD="facebook.com";al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gu._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends bp{constructor(){super("github.com")}static credential(e){return Gu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.GITHUB_SIGN_IN_METHOD="github.com";ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends bp{constructor(){super("twitter.com")}static credential(e,n){return Gu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sl.credential(n,r)}catch{return null}}}sl.TWITTER_SIGN_IN_METHOD="twitter.com";sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e){return _p(t,"POST","/v1/accounts:signUp",jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Pa._fromIdTokenResponse(e,r,i),o=pO(r);return new Wu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pO(r);return new Wu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Ma{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jg(e,n,r,i)}}function H5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jg._fromErrorAndOperation(t,a,e,r):a})}async function nG(t,e,n=!1){const r=await wf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Zo(r));const i="reauthenticate";try{const a=await wf(t,H5(r,i,e,t),n);Be(a.idToken,r,"internal-error");const o=ME(a.idToken);Be(o,r,"internal-error");const{sub:l}=o;return Be(t.uid===l,r,"user-mismatch"),Wu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ua(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e,n=!1){if(Yr(t.app))return Promise.reject(Zo(t));const r="signIn",i=await H5(t,r,e),a=await Wu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function iG(t,e){return $5(Ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t){const e=Ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aG(t,e,n){if(Yr(t.app))return Promise.reject(Zo(t));const r=Ll(t),o=await Ib(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&q5(t),c}),l=await Wu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function oG(t,e,n){return Yr(t.app)?Promise.reject(Zo(t)):iG(zt(t),Hf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q5(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await wf(r,sG(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function lG(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function uG(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function cG(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function fG(t){return zt(t).signOut()}const Lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lg,"1"),this.storage.removeItem(Lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=1e3,hG=10;class K5 extends W5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);Oq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K5.type="LOCAL";const pG=K5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5 extends W5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X5.type="SESSION";const Y5=X5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,a)),c=await gG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=UE("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return window}function mG(t){fo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(){return typeof fo().WorkerGlobalScope<"u"&&typeof fo().importScripts=="function"}async function yG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xG(){return navigator?.serviceWorker?.controller||null}function _G(){return Q5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="firebaseLocalStorageDb",bG=1,Bg="firebaseLocalStorage",J5="fbase_key";class wp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function wG(){const t=indexedDB.deleteDatabase(Z5);return new wp(t).toPromise()}function Ob(){const t=indexedDB.open(Z5,bG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bg,{keyPath:J5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),await wG(),e(await Ob()))})})}async function gO(t,e,n){const r=um(t,!0).put({[J5]:e,value:n});return new wp(r).toPromise()}async function EG(t,e){const n=um(t,!1).get(e),r=await new wp(n).toPromise();return r===void 0?null:r.value}function vO(t,e){const n=um(t,!0).delete(e);return new wp(n).toPromise()}const AG=800,SG=3;class eM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ob(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(_G()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yG(),!this.activeServiceWorker)return;this.sender=new vG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ob();return await gO(e,Lg,"1"),await vO(e,Lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=um(i,!1).getAll();return new wp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eM.type="LOCAL";const TG=eM;new xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){return e?Ko(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends jE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ff(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ff(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ff(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CG(t){return $5(t.auth,new FE(t),t.bypassAuthState)}function IG(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),rG(n,new FE(t),t.bypassAuthState)}async function OG(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),nG(n,new FE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CG;case"linkViaPopup":case"linkViaRedirect":return OG;case"reauthViaPopup":case"reauthViaRedirect":return IG;default:ua(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new xp(2e3,1e4);async function PG(t,e,n){if(Yr(t.app))return Promise.reject(Na(t,"operation-not-supported-in-this-environment"));const r=Ll(t);uq(t,e,BE);const i=tM(r,n);return new Cu(r,"signInViaPopup",e,i).executeNotNull()}class Cu extends nM{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Cu.currentPopupAction&&Cu.currentPopupAction.cancel(),Cu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=UE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RG.get())};e()}}Cu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="pendingRedirect",sg=new Map;class DG extends nM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sg.get(this.auth._key());if(!e){try{const r=await MG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sg.set(this.auth._key(),e)}return this.bypassAuthState||sg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MG(t,e){const n=LG(e),r=jG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kG(t,e){sg.set(t._key(),e)}function jG(t){return Ko(t._redirectPersistence)}function LG(t){return og(NG,t.config.apiKey,t.name)}async function BG(t,e,n=!1){if(Yr(t.app))return Promise.reject(Zo(t));const r=Ll(t),i=tM(r,e),o=await new DG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=600*1e3;class FG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Na(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UG&&this.cachedEventUids.clear(),this.cachedEventUids.has(mO(e))}saveEventToCache(e){this.cachedEventUids.add(mO(e)),this.lastProcessedEventTime=Date.now()}}function mO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$G=/^https?/;async function qG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zG(t);for(const n of e)try{if(GG(n))return}catch{}ua(t,"unauthorized-domain")}function GG(t){const e=Tb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$G.test(n))return!1;if(HG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=new xp(3e4,6e4);function yO(){const t=fo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KG(t){return new Promise((e,n)=>{function r(){yO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yO(),n(Na(t,"network-request-failed"))},timeout:WG.get()})}if(fo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fo().gapi?.load)r();else{const i=Bq("iframefcb");return fo()[i]=()=>{gapi.load?r():n(Na(t,"network-request-failed"))},F5(`${Lq()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw lg=null,e})}let lg=null;function XG(t){return lg=lg||KG(t),lg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new xp(5e3,15e3),QG="__/auth/iframe",ZG="emulator/auth/iframe",JG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tW(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DE(e,ZG):`https://${t.config.authDomain}/${QG}`,r={apiKey:e.apiKey,appName:t.name,v:nc},i=eW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${fp(r).slice(1)}`}async function nW(t){const e=await XG(t),n=fo().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:tW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Na(t,"network-request-failed"),l=fo().setTimeout(()=>{a(o)},YG.get());function c(){fo().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iW=500,aW=600,oW="_blank",sW="http://localhost";class xO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lW(t,e,n,r=iW,i=aW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...rW,width:r.toString(),height:i.toString(),top:a,left:o},f=Fr().toLowerCase();n&&(l=D5(f)?oW:n),P5(f)&&(e=e||sW,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[m,b])=>`${v}${m}=${b},`,"");if(Iq(f)&&l!=="_self")return uW(e||"",l),new xO(null);const p=window.open(e||"",l,h);Be(p,t,"popup-blocked");try{p.focus()}catch{}return new xO(p)}function uW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW="__/auth/handler",fW="emulator/auth/handler",dW=encodeURIComponent("fac");async function _O(t,e,n,r,i,a){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:i};if(e instanceof BE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof bp){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${dW}=${encodeURIComponent(c)}`:"";return`${hW(t)}?${fp(l).slice(1)}${f}`}function hW({config:t}){return t.emulator?DE(t,fW):`https://${t.authDomain}/${cW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="webStorageSupport";class pW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y5,this._completeRedirectFn=BG,this._overrideRedirectResult=kG}async _openPopup(e,n,r,i){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await _O(e,n,r,Tb(),i);return lW(e,a,UE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await _O(e,n,r,Tb(),i);return mG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(os(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nW(e),r=new FG(e);return n.register("authEvent",i=>(Be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d2,{type:d2},i=>{const a=i?.[0]?.[d2];a!==void 0&&n(!!a),ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B5()||N5()||kE()}}const gW=pW;var bO="@firebase/auth",wO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yW(t){_l(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U5(t)},f=new Mq(r,i,a,c);return $q(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_l(new ts("auth-internal",e=>{const n=Ll(e.getProvider("auth").getImmediate());return(r=>new vW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oa(bO,wO,mW(t)),oa(bO,wO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=300,_W=FN("authIdTokenMaxAge")||xW;let EO=null;const bW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_W)return;const i=n?.token;EO!==i&&(EO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wW(t=Vv()){const e=dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hq(t,{popupRedirectResolver:gW,persistence:[TG,pG,Y5]}),r=FN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=bW(a.toString());uG(n,o,()=>o(n.currentUser)),lG(n,l=>o(l))}}const i=BN("auth");return i&&qq(n,`http://${i}`),n}function EW(){return document.getElementsByTagName("head")?.[0]??document}kq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Na("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",EW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW="type.googleapis.com/google.protobuf.Int64Value",SW="type.googleapis.com/google.protobuf.UInt64Value";function iM(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Ug(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ug(e));if(typeof t=="function"||typeof t=="object")return iM(t,e=>Ug(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ef(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case AW:case SW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ef(e)):typeof t=="function"||typeof t=="object"?iM(t,e=>Ef(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qr extends Ma{constructor(e,n,r){super(`${VE}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Qr.prototype)}}function TW(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Fg(t,e){let n=TW(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!AO[o])return new Qr("internal","internal");n=AO[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=Ef(i))}}catch{}return n==="ok"?null:new Qr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="us-central1",IW=/^data: (.*?)(?:\n|$)/;function OW(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Qr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class RW{constructor(e,n,r,i,a=Rb,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new CW(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Rb}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function PW(t,e,n){const r=_o(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Uv(t.emulatorOrigin+"/backends"),Fv("Functions",!0))}function NW(t,e,n){const r=i=>MW(t,e,i,n||{});return r.stream=(i,a)=>jW(t,e,i,a),r}function aM(t){return t.emulatorOrigin&&_o(t.emulatorOrigin)?"include":void 0}async function DW(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:aM(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function oM(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function MW(t,e,n,r){const i=t._url(e);return kW(t,i,n,r)}async function kW(t,e,n,r){n=Ug(n);const i={data:n},a=await oM(t,r),o=r.timeout||7e4,l=OW(o),c=await Promise.race([DW(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new Qr("cancelled","Firebase Functions instance was deleted.");const f=Fg(c.status,c.json);if(f)throw f;if(!c.json)throw new Qr("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new Qr("internal","Response is missing data field.");return{data:Ef(h)}}function jW(t,e,n,r){const i=t._url(e);return LW(t,i,n,r||{})}async function LW(t,e,n,r){n=Ug(n);const i={data:n},a=await oM(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:aM(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const b=new Qr("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const m=Fg(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let l,c;const f=new Promise((v,m)=>{l=v,c=m});r?.signal?.addEventListener("abort",()=>{const v=new Qr("cancelled","Request was cancelled.");c(v)});const h=o.body.getReader(),p=BW(h,l,c,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:m,done:b}=await v.read();return{value:m,done:b}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:f}}function BW(t,e,n,r){const i=(o,l)=>{const c=o.match(IW);if(!c)return;const f=c[1];try{const h=JSON.parse(f);if("result"in h){e(Ef(h.result));return}if("message"in h){l.enqueue(Ef(h.message));return}if("error"in h){const p=Fg(0,h);l.error(p),n(p);return}}catch(h){if(h instanceof Qr){l.error(h),n(h);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return c();async function c(){if(r?.aborted){const f=new Qr("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:h}=await t.read();if(h){l.trim()&&i(l.trim(),o),o.close();return}if(r?.aborted){const v=new Qr("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}l+=a.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const v of p)v.trim()&&i(v.trim(),o);return c()}catch(f){const h=f instanceof Qr?f:Fg(0,null);o.error(h),n(h)}}},cancel(){return t.cancel()}})}const SO="@firebase/functions",TO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="auth-internal",FW="app-check-internal",VW="messaging-internal";function zW(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(UW),o=n.getProvider(VW),l=n.getProvider(FW);return new RW(i,a,o,l,r)};_l(new ts(VE,e,"PUBLIC").setMultipleInstances(!0)),oa(SO,TO,t),oa(SO,TO,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t=Vv(),e=Rb){const r=dp(zt(t),VE).getImmediate({identifier:e}),i=zw("functions");return i&&lM(r,...i),r}function lM(t,e,n){PW(zt(t),e,n)}function HW(t,e,n){return NW(zt(t),e,n)}zW();const zE=Object.freeze(Object.defineProperty({__proto__:null,FunctionsError:Qr,connectFunctionsEmulator:lM,getFunctions:sM,httpsCallable:HW},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebasestorage.googleapis.com",cM="storageBucket",$W=120*1e3,qW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Ma{constructor(e,n,r=0){super(h2(e),`Firebase Storage: ${n} (${h2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function h2(t){return"storage/"+t}function HE(){const t="An unknown error occurred, please check the error payload for server response.";return new vn(gn.UNKNOWN,t)}function GW(t){return new vn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function WW(t){return new vn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vn(gn.UNAUTHENTICATED,t)}function XW(){return new vn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YW(t){return new vn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QW(){return new vn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZW(){return new vn(gn.CANCELED,"User canceled the upload/download.")}function JW(t){return new vn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function eK(t){return new vn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tK(){return new vn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cM+"' property when initializing the app?")}function nK(){return new vn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rK(){return new vn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iK(t){return new vn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pb(t){return new vn(gn.INVALID_ARGUMENT,t)}function fM(){return new vn(gn.APP_DELETED,"The Firebase app was deleted.")}function aK(t){return new vn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lh(t,e){return new vn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ah(t){throw new vn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ni.makeFromUrl(e,n)}catch{return new Ni(e,"")}if(r.path==="")return r;throw eK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function f(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${h}/b/${i}/o${v}`,"i"),b={bucket:1,path:3},w=n===uM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${A}`,"i"),O=[{regex:l,indices:c,postModify:a},{regex:m,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let N=0;N<O.length;N++){const k=O[N],B=k.regex.exec(e);if(B){const P=B[k.indices.bucket];let M=B[k.indices.path];M||(M=""),r=new Ni(P,M),k.postModify(r);break}}if(r==null)throw JW(e);return r}}class oK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let f=!1;function h(...A){f||(f=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(m,c())},A)}function v(){a&&clearTimeout(a)}function m(A,...S){if(f){v();return}if(A){v(),h.call(null,A,...S);return}if(c()||o){v(),h.call(null,A,...S);return}r<64&&(r*=2);let O;l===1?(l=2,O=0):O=(r+Math.random())*1e3,p(O)}let b=!1;function w(A){b||(b=!0,v(),!f&&(i!==null?(A||(l=2),clearTimeout(i),p(0)):A||(l=1)))}return p(0),a=setTimeout(()=>{o=!0,w(!0)},n),w}function lK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){return t!==void 0}function cK(t){return typeof t=="object"&&!Array.isArray(t)}function $E(t){return typeof t=="string"||t instanceof String}function CO(t){return qE()&&t instanceof Blob}function qE(){return typeof Blob<"u"}function IO(t,e,n,r){if(r<e)throw Pb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Pb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ju;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ju||(ju={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n,r,i,a,o,l,c,f,h,p,v=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=v,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new T1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===ju.NO_ERROR,c=a.getStatus();if(!l||fK(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===ju.ABORT;r(!1,new T1(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new T1(f,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());uK(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=HE();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?fM():ZW();o(c)}else{const c=QW();o(c)}};this.canceled_?n(!1,new T1(!1,null,!0)):this.backoffId_=sK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class T1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mK(t,e,n,r,i,a,o=!0,l=!1){const c=dM(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return gK(h,e),hK(h,n),pK(h,a),vK(h,r),new dK(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xK(...t){const e=yK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qE())return new Blob(t);throw new vn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _K(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){if(typeof atob>"u")throw iK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p2{constructor(e,n){this.data=e,this.contentType=n||null}}function wK(t,e){switch(t){case io.RAW:return new p2(hM(e));case io.BASE64:case io.BASE64URL:return new p2(pM(t,e));case io.DATA_URL:return new p2(AK(e),SK(e))}throw HE()}function hM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EK(t){let e;try{e=decodeURIComponent(t)}catch{throw Lh(io.DATA_URL,"Malformed data URL.")}return hM(e)}function pM(t,e){switch(t){case io.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Lh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case io.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Lh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bK(e)}catch(i){throw i.message.includes("polyfill")?i:Lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lh(io.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function AK(t){const e=new gM(t);return e.base64?pM(io.BASE64,e.rest):EK(e.rest)}function SK(t){return new gM(t).contentType}function TK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){let r=0,i="";CO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(CO(this.data_)){const r=this.data_,i=_K(r,e,n);return i===null?null:new ll(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ll(r,!0)}}static getBlob(...e){if(qE()){const n=e.map(r=>r instanceof ll?r.data_:r);return new ll(xK.apply(null,n))}else{const n=e.map(o=>$E(o)?wK(io.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new ll(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){let e;try{e=JSON.parse(t)}catch{return null}return cK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function mM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t,e){return e}class qr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||OK}}let C1=null;function RK(t){return!$E(t)||t.length<2?t:mM(t)}function yM(){if(C1)return C1;const t=[];t.push(new qr("bucket")),t.push(new qr("generation")),t.push(new qr("metageneration")),t.push(new qr("name","fullPath",!0));function e(a,o){return RK(o)}const n=new qr("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new qr("size");return i.xform=r,t.push(i),t.push(new qr("timeCreated")),t.push(new qr("updated")),t.push(new qr("md5Hash",null,!0)),t.push(new qr("cacheControl",null,!0)),t.push(new qr("contentDisposition",null,!0)),t.push(new qr("contentEncoding",null,!0)),t.push(new qr("contentLanguage",null,!0)),t.push(new qr("contentType",null,!0)),t.push(new qr("metadata","customMetadata",!0)),C1=t,C1}function PK(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ni(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function NK(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return PK(r,t),r}function xM(t,e,n){const r=vM(e);return r===null?null:NK(t,r,n)}function DK(t,e,n,r){const i=vM(e);if(i===null||!$E(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,p=t.fullPath,v="/b/"+o(h)+"/o/"+o(p),m=GE(v,n,r),b=dM({alt:"media",token:f});return m+b})[0]}function MK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class _M{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){if(!t)throw HE()}function kK(t,e){function n(r,i){const a=xM(t,i,e);return bM(a!==null),a}return n}function jK(t,e){function n(r,i){const a=xM(t,i,e);return bM(a!==null),DK(a,i,t.host,t._protocol)}return n}function wM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=XW():i=KW():n.getStatus()===402?i=WW(t.bucket):n.getStatus()===403?i=YW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LK(t){const e=wM(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=GW(t.path)),a.serverResponse=i.serverResponse,a}return n}function BK(t,e,n){const r=e.fullServerUrl(),i=GE(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new _M(i,a,jK(t,n),o);return l.errorHandler=LK(e),l}function UK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function FK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UK(null,e)),r}function VK(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let O="";for(let N=0;N<2;N++)O=O+Math.random().toString().slice(2);return O}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const f=FK(e,r,i),h=MK(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+c+"--",m=ll.getBlob(p,r,v);if(m===null)throw nK();const b={name:f.fullPath},w=GE(a,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,I=new _M(w,A,kK(t,n),S);return I.urlParams=b,I.headers=o,I.body=m.uploadData(),I.errorHandler=wM(e),I}class zK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ju.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ju.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ju.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw ah("cannot .send() more than once");if(_o(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HK extends zK{initXhr(){this.xhr_.responseType="text"}}function EM(){return new HK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this._service=e,n instanceof Ni?this._location=n:this._location=Ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ku(e,n)}get root(){const e=new Ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mM(this._location.path)}get storage(){return this._service}get parent(){const e=CK(this._location.path);if(e===null)return null;const n=new Ni(this._location.bucket,e);return new Ku(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aK(e)}}function $K(t,e,n){t._throwIfRoot("uploadBytes");const r=VK(t.storage,t._location,yM(),new ll(e,!0),n);return t.storage.makeRequestWithTokens(r,EM).then(i=>({metadata:i,ref:t}))}function qK(t){t._throwIfRoot("getDownloadURL");const e=BK(t.storage,t._location,yM());return t.storage.makeRequestWithTokens(e,EM).then(n=>{if(n===null)throw rK();return n})}function GK(t,e){const n=IK(t._location.path,e),r=new Ni(t._location.bucket,n);return new Ku(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(t){return/^[A-Za-z]+:\/\//.test(t)}function KK(t,e){return new Ku(t,e)}function AM(t,e){if(t instanceof WE){const n=t;if(n._bucket==null)throw tK();const r=new Ku(n,n._bucket);return e!=null?AM(r,e):r}else return e!==void 0?GK(t,e):t}function XK(t,e){if(e&&WK(e)){if(t instanceof WE)return KK(t,e);throw Pb("To use ref(service, url), the first argument must be a Storage instance.")}else return AM(t,e)}function OO(t,e){const n=e?.[cM];return n==null?null:Ni.makeFromBucketSpec(n,t)}function YK(t,e,n,r={}){t.host=`${e}:${n}`;const i=_o(e);i&&(Uv(`https://${t.host}/b`),Fv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:VN(a,t.app.options.projectId))}class WE{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=uM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$W,this._maxUploadRetryTime=qW,this._requests=new Set,i!=null?this._bucket=Ni.makeFromBucketSpec(i,this._host):this._bucket=OO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ni.makeFromBucketSpec(this._url,e):this._bucket=OO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ku(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new oK(fM());{const o=mK(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const RO="@firebase/storage",PO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="storage";function TM(t,e,n){return t=zt(t),$K(t,e,n)}function CM(t){return t=zt(t),qK(t)}function IM(t,e){return t=zt(t),XK(t,e)}function QK(t=Vv(),e){t=zt(t);const r=dp(t,SM).getImmediate({identifier:e}),i=zw("storage");return i&&ZK(r,...i),r}function ZK(t,e,n,r={}){YK(t,e,n,r)}function JK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WE(n,r,i,e,nc)}function eX(){_l(new ts(SM,JK,"PUBLIC").setMultipleInstances(!0)),oa(RO,PO,""),oa(RO,PO,"esm2020")}eX();const tX={apiKey:"AIzaSyB_23qGagKyn6SqpNh1u7_EMqJWMN9MZuo",authDomain:"oshi-para.firebaseapp.com",projectId:"oshi-para",storageBucket:"oshi-para.firebasestorage.app",messagingSenderId:"123159056695",appId:"1:123159056695:web:b2226933dc6f6095220ab2"},Ep=$N(tX),nt=wW(Ep),Qe=W$(Ep);sM(Ep);const KE=QK(Ep),XE=Object.freeze(Object.defineProperty({__proto__:null,auth:nt,db:Qe,default:Ep,storage:KE},Symbol.toStringTag,{value:"Module"})),At={INTAKES:"intakes",EXPENSES:"expenses",STOCKS:"stocks",SHOPPING:"shopping",RECIPES:"recipes",SETTINGS:"settings"},St=(t,e)=>`users/${t}/${e}`,oh={getAll:async t=>{const e=hi(pn(Qe,St(t,At.INTAKES)),go("createdAt","desc"));return(await Cl(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Vf(pn(Qe,St(t,At.INTAKES)),e)).id,update:async(t,e,n)=>{const r=fr(Qe,St(t,At.INTAKES),e);await ac(r,n)},delete:async(t,e)=>{const n=fr(Qe,St(t,At.INTAKES),e);await qu(n)},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.INTAKES)),go("createdAt","desc"));return zf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},g2={getAll:async t=>{const e=hi(pn(Qe,St(t,At.EXPENSES)),go("createdAt","desc"));return(await Cl(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Vf(pn(Qe,St(t,At.EXPENSES)),e)).id,update:async(t,e,n)=>{const r=fr(Qe,St(t,At.EXPENSES),e);await ac(r,n)},delete:async(t,e)=>{const n=fr(Qe,St(t,At.EXPENSES),e);await qu(n)},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.EXPENSES)),go("createdAt","desc"));return zf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},I1={getAll:async t=>{const e=hi(pn(Qe,St(t,At.STOCKS)),go("createdAt","desc"));return(await Cl(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Vf(pn(Qe,St(t,At.STOCKS)),e)).id,update:async(t,e,n)=>{const r=fr(Qe,St(t,At.STOCKS),e);await ac(r,n)},delete:async(t,e)=>{const n=fr(Qe,St(t,At.STOCKS),e);await qu(n)},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.STOCKS)),go("createdAt","desc"));return zf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},sh={getAll:async t=>{const e=hi(pn(Qe,St(t,At.SHOPPING)),go("createdAt","desc"));return(await Cl(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Vf(pn(Qe,St(t,At.SHOPPING)),e)).id,update:async(t,e,n)=>{const r=fr(Qe,St(t,At.SHOPPING),e);await ac(r,n)},delete:async(t,e)=>{const n=fr(Qe,St(t,At.SHOPPING),e);await qu(n)},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.SHOPPING)),go("createdAt","desc"));return zf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},O1={getAll:async t=>{const e=hi(pn(Qe,St(t,At.RECIPES)),go("createdAt","desc"));return(await Cl(e)).docs.map(r=>({id:r.id,...r.data()}))},add:async(t,e)=>(await Vf(pn(Qe,St(t,At.RECIPES)),e)).id,update:async(t,e,n)=>{const r=fr(Qe,St(t,At.RECIPES),e);await ac(r,n)},delete:async(t,e)=>{const n=fr(Qe,St(t,At.RECIPES),e);await qu(n)},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.RECIPES)),go("createdAt","desc"));return zf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})}},R1={get:async t=>{const e=hi(pn(Qe,St(t,At.SETTINGS))),n=await Cl(e);return n.empty?null:n.docs[0].data()},set:async(t,e)=>{const n=hi(pn(Qe,St(t,At.SETTINGS))),r=await Cl(n);if(r.empty)return(await Vf(pn(Qe,St(t,At.SETTINGS)),e)).id;{const i=fr(Qe,St(t,At.SETTINGS),r.docs[0].id);return await ac(i,e),r.docs[0].id}},subscribe:(t,e)=>{const n=hi(pn(Qe,St(t,At.SETTINGS)));return zf(n,r=>{if(r.empty)e(null);else{const i=r.docs[0].data();e(i)}})}},bo=tc((t,e)=>({intakes:xl(tt.INTAKES,[]),loading:!1,initialized:!1,unsubscribe:null,setIntakes:n=>t({intakes:n}),setLoading:n=>t({loading:n}),setInitialized:n=>t({initialized:n}),addIntake:async n=>{const r=nt.currentUser,i={id:fl(),...n,date:new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.intakes,i];return Dt(tt.INTAKES,o),{intakes:o}}),r)try{await oh.add(r.uid,i)}catch(a){console.error("Failed to add intake to Firestore:",a)}},updateIntake:async(n,r)=>{const i=nt.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.intakes.map(c=>c.id===n?{...c,...a}:c);return Dt(tt.INTAKES,l),{intakes:l}}),i)try{await oh.update(i.uid,n,a)}catch(o){console.error("Failed to update intake in Firestore:",o)}},deleteIntake:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.intakes.filter(o=>o.id!==n);return Dt(tt.INTAKES,a),{intakes:a}}),r)try{await oh.delete(r.uid,n)}catch(i){console.error("Failed to delete intake from Firestore:",i)}},getIntakesByDate:n=>e().intakes.filter(i=>i.date.startsWith(n)),getTotalCaloriesByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.calories,0),getTotalPriceByDate:n=>e().getIntakesByDate(n).reduce((i,a)=>i+a.price,0),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[IntakeStore] Syncing data for user: ${n.uid}`);const r=await oh.getAll(n.uid);console.log(`[IntakeStore] Loaded ${r.length} intakes from Firestore`),t({intakes:r,loading:!1,initialized:!0}),Dt(tt.INTAKES,r)}catch(r){console.error("Failed to sync intakes with Firestore:",r),t({loading:!1})}},subscribeToFirestore:()=>{const n=nt.currentUser;if(!n)return;const r=e().unsubscribe;r&&r(),console.log(`[IntakeStore] Starting realtime sync for user: ${n.uid}`);const i=oh.subscribe(n.uid,a=>{console.log(`[IntakeStore] Realtime update: ${a.length} intakes`),t({intakes:a}),Dt(tt.INTAKES,a)});t({unsubscribe:i})},unsubscribeFromFirestore:()=>{const n=e().unsubscribe;n&&(console.log("[IntakeStore] Stopping realtime sync"),n(),t({unsubscribe:null}))}})),wo=tc((t,e)=>({expenses:xl(tt.EXPENSES,[]),loading:!1,initialized:!1,setExpenses:n=>t({expenses:n}),addExpense:async n=>{const r=nt.currentUser,i={id:fl(),...n,date:n.date||new Date().toISOString(),createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.expenses,i];return Dt(tt.EXPENSES,o),{expenses:o}}),r)try{await g2.add(r.uid,i)}catch(a){console.error("Failed to add expense to Firestore:",a)}},deleteExpense:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.expenses.filter(o=>o.id!==n);return Dt(tt.EXPENSES,a),{expenses:a}}),r)try{await g2.delete(r.uid,n)}catch(i){console.error("Failed to delete expense from Firestore:",i)}},getExpensesByMonth:(n,r)=>e().expenses.filter(a=>{const o=new Date(a.date);return o.getFullYear()===n&&o.getMonth()+1===r}),getTotalByMonth:(n,r)=>e().getExpensesByMonth(n,r).reduce((a,o)=>a+o.amount,0),getTotalByCategory:(n,r,i)=>e().getExpensesByMonth(r,i).filter(o=>o.category===n).reduce((o,l)=>o+l.amount,0),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await g2.getAll(n.uid);t({expenses:r,loading:!1,initialized:!0}),Dt(tt.EXPENSES,r)}catch(r){console.error("Failed to sync expenses with Firestore:",r),t({loading:!1})}}})),Eo=tc((t,e)=>({stocks:xl(tt.STOCKS,[]),loading:!1,initialized:!1,setStocks:n=>t({stocks:n}),addStock:async n=>{const r=nt.currentUser,i={id:fl(),...n,createdAt:new Date().toISOString()};if(t(a=>{const o=[...a.stocks,i];return Dt(tt.STOCKS,o),{stocks:o}}),r)try{await I1.add(r.uid,i)}catch(a){console.error("Failed to add stock to Firestore:",a)}},updateStock:async(n,r)=>{const i=nt.currentUser,a={...r,updatedAt:new Date().toISOString()};if(t(o=>{const l=o.stocks.map(c=>c.id===n?{...c,...a}:c);return Dt(tt.STOCKS,l),{stocks:l}}),i)try{await I1.update(i.uid,n,a)}catch(o){console.error("Failed to update stock in Firestore:",o)}},deleteStock:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.stocks.filter(o=>o.id!==n);return Dt(tt.STOCKS,a),{stocks:a}}),r)try{await I1.delete(r.uid,n)}catch(i){console.error("Failed to delete stock from Firestore:",i)}},getExpiringStocks:n=>e().stocks.filter(i=>i.daysRemaining<=n),getStockIngredients:()=>e().stocks.map(r=>r.name),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await I1.getAll(n.uid);t({stocks:r,loading:!1,initialized:!0}),Dt(tt.STOCKS,r)}catch(r){console.error("Failed to sync stocks with Firestore:",r),t({loading:!1})}}})),nX=[{name:"米",quantity:1,category:"staple"},{name:"卵",quantity:10,category:"protein"},{name:"牛乳",quantity:1,category:"dairy"},{name:"パン",quantity:1,category:"staple"},{name:"鶏肉",quantity:1,category:"protein"},{name:"豚肉",quantity:1,category:"protein"},{name:"玉ねぎ",quantity:3,category:"vegetable"},{name:"にんじん",quantity:3,category:"vegetable"},{name:"じゃがいも",quantity:3,category:"vegetable"},{name:"トマト",quantity:3,category:"vegetable"},{name:"バナナ",quantity:1,category:"fruit"},{name:"ヨーグルト",quantity:1,category:"dairy"},{name:"醤油",quantity:1,category:"seasoning"},{name:"塩",quantity:1,category:"seasoning"}],oc=tc((t,e)=>({items:xl(tt.SHOPPING,[]),loading:!1,initialized:!1,setItems:n=>t({items:n}),addItem:async n=>{const r=nt.currentUser;if(e().items.find(o=>o.name===n.name&&!o.checked))return;const a={id:fl(),...n,checked:!1,createdAt:new Date().toISOString()};if(t(o=>{const l=[...o.items,a];return Dt(tt.SHOPPING,l),{items:l}}),r)try{await sh.add(r.uid,a)}catch(o){console.error("Failed to add shopping item to Firestore:",o)}},toggleItem:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.items.map(o=>o.id===n?{...o,checked:!o.checked,updatedAt:new Date().toISOString()}:o);return Dt(tt.SHOPPING,a),{items:a}}),r)try{const i=e().items.find(a=>a.id===n);i&&await sh.update(r.uid,n,{checked:i.checked,updatedAt:new Date().toISOString()})}catch(i){console.error("Failed to toggle shopping item in Firestore:",i)}},deleteItem:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.items.filter(o=>o.id!==n);return Dt(tt.SHOPPING,a),{items:a}}),r)try{await sh.delete(r.uid,n)}catch(i){console.error("Failed to delete shopping item from Firestore:",i)}},clearCompleted:async()=>{const n=nt.currentUser,r=e().items.filter(i=>i.checked).map(i=>i.id);if(t(i=>{const a=i.items.filter(o=>!o.checked);return Dt(tt.SHOPPING,a),{items:a}}),n)try{await Promise.all(r.map(i=>sh.delete(n.uid,i)))}catch(i){console.error("Failed to clear completed items from Firestore:",i)}},addWeeklyEssentials:()=>{t(n=>{const r=n.items,i=[...r];return nX.forEach(a=>{r.find(l=>l.name===a.name&&!l.checked)||i.push({id:fl(),name:a.name,quantity:a.quantity,category:a.category,checked:!1,createdAt:new Date().toISOString()})}),Dt(tt.SHOPPING,i),{items:i}})},addLowStockItems:n=>{t(r=>{const i=r.items,a=[...i];return n.forEach(o=>{i.find(c=>c.name===o.name&&!c.checked)||a.push({id:fl(),name:o.name,quantity:1,category:o.category,checked:!1,createdAt:new Date().toISOString()})}),Dt(tt.SHOPPING,a),{items:a}})},syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0});const r=await sh.getAll(n.uid);t({items:r,loading:!1,initialized:!0}),Dt(tt.SHOPPING,r)}catch(r){console.error("Failed to sync shopping items with Firestore:",r),t({loading:!1})}}})),rX=10,Ap=tc((t,e)=>({recipeHistory:xl(tt.RECIPE_HISTORY,[]),favoriteRecipes:xl(tt.FAVORITE_RECIPES,[]),loading:!1,initialized:!1,setRecipes:(n,r)=>t({recipeHistory:n,favoriteRecipes:r}),addToHistory:async n=>{const r=nt.currentUser,i={id:fl(),recipe:n,generatedAt:new Date().toISOString()};if(t(a=>{const o=[i,...a.recipeHistory].slice(0,rX);return Dt(tt.RECIPE_HISTORY,o),{recipeHistory:o}}),r)try{await O1.add(r.uid,i)}catch(a){console.error("Failed to add recipe history to Firestore:",a)}},addToFavorites:async n=>{const r=nt.currentUser;if(e().favoriteRecipes.find(o=>o.id===n.id))return;const a={...n,isFavorite:!0};if(t(o=>{const l=[a,...o.favoriteRecipes];return Dt(tt.FAVORITE_RECIPES,l),{favoriteRecipes:l}}),r)try{await O1.add(r.uid,a)}catch(o){console.error("Failed to add favorite recipe to Firestore:",o)}},removeFromFavorites:async n=>{const r=nt.currentUser;if(t(i=>{const a=i.favoriteRecipes.filter(o=>o.id!==n);return Dt(tt.FAVORITE_RECIPES,a),{favoriteRecipes:a}}),r)try{await O1.delete(r.uid,n)}catch(i){console.error("Failed to delete favorite recipe from Firestore:",i)}},isFavorite:n=>e().favoriteRecipes.some(i=>i.id===n),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[RecipeStore] Syncing data for user: ${n.uid}`);const i=await O1.getAll(n.uid),a=[];console.log(`[RecipeStore] Loaded ${i.length} recipes from Firestore`),t({recipeHistory:a,favoriteRecipes:i,loading:!1,initialized:!0}),Dt(tt.RECIPE_HISTORY,a),Dt(tt.FAVORITE_RECIPES,i)}catch(r){console.error("Failed to sync recipes with Firestore:",r),t({loading:!1})}}})),NO={monthlyBudget:3e4,darkMode:!1,notifications:{enabled:!0,breakfast:{enabled:!0,time:"07:00"},lunch:{enabled:!0,time:"12:00"},dinner:{enabled:!0,time:"18:00"}},firstTime:!0},Qh=tc((t,e)=>({settings:{...NO,...xl(tt.SETTINGS,NO)},loading:!1,initialized:!1,updateSettings:async n=>{const r=nt.currentUser;if(t(i=>{const a={...i.settings,...n};return Dt(tt.SETTINGS,a),"darkMode"in n&&document.body.classList.toggle("dark-mode",n.darkMode),{settings:a}}),r)try{const i=e().settings;await R1.set(r.uid,i)}catch(i){console.error("Failed to update settings in Firestore:",i)}},toggleDarkMode:async()=>{const n=nt.currentUser,r=!e().settings.darkMode;if(t(i=>{const a={...i.settings,darkMode:r};return Dt(tt.SETTINGS,a),document.body.classList.toggle("dark-mode",r),{settings:a}}),n)try{const i=e().settings;await R1.set(n.uid,i)}catch(i){console.error("Failed to toggle dark mode in Firestore:",i)}},setFirstTime:n=>t(r=>{const i={...r.settings,firstTime:n};return Dt(tt.SETTINGS,i),{settings:i}}),syncWithFirestore:async()=>{const n=nt.currentUser;if(n)try{t({loading:!0}),console.log(`[SettingsStore] Syncing data for user: ${n.uid}`);const r=await R1.get(n.uid);if(r)console.log("[SettingsStore] Loaded settings from Firestore"),t({settings:r,loading:!1,initialized:!0}),Dt(tt.SETTINGS,r),document.body.classList.toggle("dark-mode",r.darkMode);else{console.log("[SettingsStore] No settings found, using defaults");const i=e().settings;await R1.set(n.uid,i),t({loading:!1,initialized:!0})}}catch(r){console.error("Failed to sync settings with Firestore:",r),t({loading:!1})}}})),Vg=[{id:"streak-3",name:"3日連続記録",description:"3日間連続で食事を記録しました",icon:"🔥",category:"streak",requirement:"3日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=3},{id:"streak-7",name:"1週間継続",description:"7日間連続で食事を記録しました",icon:"🎯",category:"streak",requirement:"7日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=7},{id:"streak-14",name:"2週間チャンピオン",description:"14日間連続で食事を記録しました",icon:"🏆",category:"streak",requirement:"14日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=14},{id:"streak-30",name:"1ヶ月マスター",description:"30日間連続で食事を記録しました",icon:"👑",category:"streak",requirement:"30日間連続で食事記録",checkCondition:t=>t.consecutiveDays>=30},{id:"milestone-10-intakes",name:"記録の第一歩",description:"食事記録が10件に達しました",icon:"📝",category:"milestone",requirement:"食事記録10件",checkCondition:t=>t.intakesCount>=10},{id:"milestone-50-intakes",name:"記録マスター",description:"食事記録が50件に達しました",icon:"📚",category:"milestone",requirement:"食事記録50件",checkCondition:t=>t.intakesCount>=50},{id:"milestone-100-intakes",name:"記録の達人",description:"食事記録が100件に達しました",icon:"🎓",category:"milestone",requirement:"食事記録100件",checkCondition:t=>t.intakesCount>=100},{id:"goal-budget-first",name:"節約家デビュー",description:"先月の支出が予算内に収まりました！",icon:"💰",category:"goal",requirement:"月次予算達成（毎月1日に先月分を判定）",checkCondition:t=>t.budgetAchieved},{id:"feature-recipe-first",name:"AIシェフデビュー",description:"初めてAIレシピを生成しました",icon:"👨‍🍳",category:"feature",requirement:"AIレシピ生成1回",checkCondition:t=>t.recipesGenerated>=1},{id:"feature-recipe-10",name:"レシピマスター",description:"AIレシピを10回生成しました",icon:"🍳",category:"feature",requirement:"AIレシピ生成10回",checkCondition:t=>t.recipesGenerated>=10},{id:"feature-barcode-first",name:"スキャナーデビュー",description:"初めてバーコードをスキャンしました",icon:"📱",category:"feature",requirement:"バーコードスキャン1回",checkCondition:t=>t.barcodesScanned>=1},{id:"feature-barcode-10",name:"スキャンマスター",description:"バーコードを10回スキャンしました",icon:"🔍",category:"feature",requirement:"バーコードスキャン10回",checkCondition:t=>t.barcodesScanned>=10},{id:"milestone-all-features",name:"フル活用マスター",description:"すべての機能を使いこなしています",icon:"⭐",category:"milestone",requirement:"全機能の使用",checkCondition:t=>t.intakesCount>=5&&t.expensesCount>=5&&t.stocksCount>=3&&t.recipesGenerated>=1&&t.barcodesScanned>=1}];function iX(t){return Vg.find(e=>e.id===t)}const YE=tc((t,e)=>({badges:xl(tt.BADGES,[]),newBadges:[],loading:!1,checkAndUnlockBadges:n=>{const r=e().badges,i=r.map(o=>o.id),a=[];return Vg.forEach(o=>{if(!i.includes(o.id)&&o.checkCondition(n)){const l={id:o.id,name:o.name,description:o.description,icon:o.icon,category:o.category,requirement:o.requirement,unlockedAt:new Date().toISOString()};r.push(l),a.push(o.id)}}),a.length>0&&(t({badges:r,newBadges:a}),Dt(tt.BADGES,r)),a},clearNewBadges:()=>{t({newBadges:[]})},getBadge:n=>e().badges.find(r=>r.id===n),isUnlocked:n=>e().badges.some(r=>r.id===n),getUnlockedCount:()=>e().badges.length,getTotalCount:()=>Vg.length})),aX=()=>{const{getTotalCaloriesByDate:t}=bo(),{getTotalByMonth:e}=wo(),n=C.useMemo(()=>{const i=new Date().toISOString().split("T")[0];return t(i)},[t]),r=C.useMemo(()=>{const i=new Date;return e(i.getFullYear(),i.getMonth()+1)},[e]);return _.jsxs("div",{className:"summary-box",children:[_.jsxs("div",{className:"summary-row",children:[_.jsx("span",{className:"summary-label",children:"今日のカロリー"}),_.jsxs("span",{className:"summary-value",children:[n," kcal"]})]}),_.jsxs("div",{className:"summary-row",children:[_.jsx("span",{className:"summary-label",children:"今月の支出"}),_.jsxs("span",{className:"summary-value positive",children:["¥",r.toLocaleString()]})]})]})},oX=({onNavigate:t})=>{const e=[{screen:"meals",icon:_.jsx(Fw,{size:32}),label:"食事記録",color:"#3b82f6"},{screen:"barcode",icon:_.jsx(Fh,{size:32}),label:"スキャン",color:"#8b5cf6"},{screen:"expense",icon:_.jsx(XU,{size:32}),label:"家計簿",color:"#10b981"},{screen:"stock",icon:_.jsx(gf,{size:32}),label:"在庫管理",color:"#f59e0b"},{screen:"recipe",icon:_.jsx(yg,{size:32}),label:"AIレシピ",color:"#ef4444"},{screen:"shopping",icon:_.jsx(kv,{size:32}),label:"買い物",color:"#06b6d4"},{screen:"report",icon:_.jsx(YU,{size:32}),label:"レポート",color:"#6366f1"},{screen:"badges",icon:_.jsx(tF,{size:32}),label:"バッジ",color:"#f59e0b"},{screen:"settings",icon:_.jsx(HU,{size:32}),label:"設定",color:"#64748b"}],n=r=>{r.onClick?r.onClick():r.screen&&t(r.screen)};return _.jsx("div",{className:"function-grid",children:e.map((r,i)=>_.jsxs("button",{className:"function-card",style:{"--card-color":r.color},onClick:()=>n(r),children:[_.jsx("div",{className:"function-icon",style:{color:r.color},children:r.icon}),_.jsx("div",{className:"function-label",children:r.label})]},i))})},DO=({onNavigate:t})=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"ホーム"}),_.jsx(aX,{}),_.jsx(oX,{onNavigate:t})]}),sX=()=>{const{addIntake:t}=bo(),[e,n]=C.useState(""),[r,i]=C.useState(""),[a,o]=C.useState(""),l=()=>{if(!e||!r||!a){alert("すべての項目を入力してください");return}t({name:e,calories:Number(r),price:Number(a)}),n(""),i(""),o(""),alert("食事を記録しました！")};return _.jsxs("div",{className:"card",children:[_.jsx("label",{children:"食品名"}),_.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),_.jsx("label",{children:"カロリー(kcal)"}),_.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"200"}),_.jsx("label",{children:"金額(円)"}),_.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"150"}),_.jsx("button",{className:"submit",onClick:l,children:"記録する"})]})},lX=()=>{const{intakes:t,deleteIntake:e,getTotalCaloriesByDate:n,getTotalPriceByDate:r}=bo(),i=C.useMemo(()=>{const f=new Date().toISOString().split("T")[0];return t.filter(h=>h.date.startsWith(f))},[t]),a=new Date().toISOString().split("T")[0],o=n(a),l=r(a),c=f=>{confirm("この記録を削除しますか？")&&e(f)};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"今日の記録"}),i.length===0?_.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"まだ記録がありません"}):_.jsxs(_.Fragment,{children:[_.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:i.map(f=>_.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:f.name}),_.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[f.calories," kcal · ¥",f.price]})]}),_.jsx("button",{onClick:()=>c(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:_.jsx(up,{size:20})})]},f.id))}),_.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--card)",borderRadius:"8px",display:"flex",justifyContent:"space-between"},children:[_.jsxs("span",{children:[_.jsx("strong",{children:"合計カロリー:"})," ",o," kcal"]}),_.jsxs("span",{children:[_.jsx("strong",{children:"合計金額:"})," ¥",l]})]})]})]})},uX=()=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"食事記録"}),_.jsx(sX,{}),_.jsx(lX,{})]}),cX=async(t,e)=>{try{return{user:(await oG(nt,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},fX=async()=>{const t=new $o;try{return{user:(await PG(nt,t)).user,error:null}}catch(e){return{user:null,error:e.message}}},dX=async()=>{try{return await fG(nt),localStorage.clear(),{error:null}}catch(t){return{error:t.message}}},hX=t=>cG(nt,t),OM=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{const i=hX(a=>{e(a),r(!1)});return()=>i()},[]),{user:t,loading:n}};async function pX(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("このブラウザは通知をサポートしていません"),!1)}function gX(t,e){"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{icon:"/icon-192.png",badge:"/icon-192.png",...e})}function vX(t){const e={breakfast:"朝食",lunch:"昼食",dinner:"夕食"};gX(`${{breakfast:"🍳",lunch:"🍱",dinner:"🍽️"}[t]} ${e[t]}の記録をお忘れなく！`,{body:"食事の記録を追加して、健康管理を続けましょう",tag:`meal-reminder-${t}`,requireInteraction:!1})}function mX(t){if(!t.enabled){MO();return}MO(),t.breakfast.enabled&&ug("breakfast",t.breakfast.time),t.lunch.enabled&&ug("lunch",t.lunch.time),t.dinner.enabled&&ug("dinner",t.dinner.time)}function ug(t,e){const[n,r]=e.split(":").map(Number),i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate(),n,r,0);a<=i&&a.setDate(a.getDate()+1);const o=a.getTime()-i.getTime(),l=setTimeout(()=>{vX(t),ug(t,e)},o);yX(t,l)}function MO(){RM().forEach(e=>clearTimeout(e)),localStorage.removeItem("notification-schedules")}function yX(t,e){const n=RM();n.push(e),localStorage.setItem("notification-schedules",JSON.stringify(n))}function RM(){const t=localStorage.getItem("notification-schedules");return t?JSON.parse(t):[]}function xX(){return"Notification"in window}function _X(){return"Notification"in window?Notification.permission:null}function bX(){const{settings:t,updateSettings:e}=Qh(),[n,r]=C.useState(_X());C.useEffect(()=>{t.notifications.enabled&&n==="granted"&&mX(t.notifications)},[t.notifications,n]);const i=async()=>{if(!xX()){alert("このブラウザは通知をサポートしていません");return}if(!t.notifications.enabled){const l=await pX();if(r(l?"granted":"denied"),!l){alert("通知を有効にするには、ブラウザの設定で通知を許可してください");return}}await e({notifications:{...t.notifications,enabled:!t.notifications.enabled}})},a=async l=>{const c={...t.notifications,[l]:{...t.notifications[l],enabled:!t.notifications[l].enabled}};await e({notifications:c})},o=async(l,c)=>{const f={...t.notifications,[l]:{...t.notifications[l],time:c}};await e({notifications:f})};return _.jsx("div",{className:"notification-settings",children:_.jsxs("div",{className:"setting-section",children:[_.jsxs("div",{className:"setting-header",children:[_.jsxs("h3",{children:[t.notifications.enabled?_.jsx(rF,{size:24}):_.jsx(nF,{size:24}),"食事記録リマインダー"]}),_.jsx("p",{className:"setting-description",children:"指定した時間に食事記録の入力を促す通知を送信します"})]}),_.jsxs("div",{className:"setting-item",children:[_.jsx("div",{className:"setting-label",children:_.jsx("span",{children:"通知を有効化"})}),_.jsxs("label",{className:"toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:t.notifications.enabled,onChange:i}),_.jsx("span",{className:"toggle-slider"})]})]}),n==="denied"&&_.jsx("div",{className:"notification-warning",children:_.jsx("p",{children:"⚠️ 通知が拒否されています。ブラウザの設定で通知を許可してください。"})}),t.notifications.enabled&&n==="granted"&&_.jsxs("div",{className:"meal-notifications",children:[_.jsxs("div",{className:"meal-notification-item",children:[_.jsxs("div",{className:"meal-header",children:[_.jsxs("div",{className:"meal-info",children:[_.jsx("span",{className:"meal-icon",children:"🍳"}),_.jsx("span",{className:"meal-name",children:"朝食"})]}),_.jsxs("label",{className:"toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:t.notifications.breakfast.enabled,onChange:()=>a("breakfast")}),_.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.breakfast.enabled&&_.jsx("div",{className:"time-input-wrapper",children:_.jsx("input",{type:"time",value:t.notifications.breakfast.time,onChange:l=>o("breakfast",l.target.value),className:"time-input"})})]}),_.jsxs("div",{className:"meal-notification-item",children:[_.jsxs("div",{className:"meal-header",children:[_.jsxs("div",{className:"meal-info",children:[_.jsx("span",{className:"meal-icon",children:"🍱"}),_.jsx("span",{className:"meal-name",children:"昼食"})]}),_.jsxs("label",{className:"toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:t.notifications.lunch.enabled,onChange:()=>a("lunch")}),_.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.lunch.enabled&&_.jsx("div",{className:"time-input-wrapper",children:_.jsx("input",{type:"time",value:t.notifications.lunch.time,onChange:l=>o("lunch",l.target.value),className:"time-input"})})]}),_.jsxs("div",{className:"meal-notification-item",children:[_.jsxs("div",{className:"meal-header",children:[_.jsxs("div",{className:"meal-info",children:[_.jsx("span",{className:"meal-icon",children:"🍽️"}),_.jsx("span",{className:"meal-name",children:"夕食"})]}),_.jsxs("label",{className:"toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:t.notifications.dinner.enabled,onChange:()=>a("dinner")}),_.jsx("span",{className:"toggle-slider"})]})]}),t.notifications.dinner.enabled&&_.jsx("div",{className:"time-input-wrapper",children:_.jsx("input",{type:"time",value:t.notifications.dinner.time,onChange:l=>o("dinner",l.target.value),className:"time-input"})})]})]})]})})}const wX=async(t,e,n)=>{const r={uid:t,displayName:n,username:`user${t.slice(0,8)}`,email:e,bio:"",avatarUrl:"",coverUrl:"",websiteUrl:"",isPublic:!0,createdAt:new Date().toISOString(),stats:{postCount:0,followerCount:0,followingCount:0,recipeCount:0,likeCount:0}};await w5(fr(Qe,"users",t,"profile","data"),r),console.log("✅ User profile created:",t)},EX=async t=>{try{const e=await OE(fr(Qe,"users",t,"profile","data"));return e.exists()?e.data():null}catch(e){throw console.error("Get profile error:",e),new Error("プロフィールの取得に失敗しました")}},AX=async(t,e)=>{try{await ac(fr(Qe,"users",t,"profile","data"),e),e.displayName&&nt.currentUser&&await G5(nt.currentUser,{displayName:e.displayName,photoURL:e.avatarUrl||nt.currentUser.photoURL}),console.log("✅ Profile updated:",t)}catch(n){throw console.error("Update profile error:",n),new Error("プロフィールの更新に失敗しました")}},SX=async(t,e)=>{try{const n=pn(Qe,"users"),r=hi(n),i=await Cl(r);for(const a of i.docs){const o=fr(Qe,"users",a.id,"profile","data"),l=await OE(o);if(l.exists()){const c=l.data();if(c.username===t&&c.uid!==e)return!1}}return!0}catch(n){return console.error("Username check error:",n),!1}},TX=t=>t.length<3||t.length>20?{valid:!1,error:"ユーザー名は3〜20文字で入力してください"}:/^[a-zA-Z0-9_]+$/.test(t)?/^[a-zA-Z]/.test(t)?{valid:!0}:{valid:!1,error:"ユーザー名は英字で始める必要があります"}:{valid:!1,error:"ユーザー名は英数字とアンダースコア(_)のみ使用できます"},PM=(t,e,n)=>new Promise((r,i)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=o=>{const l=new Image;l.src=o.target?.result,l.onload=()=>{const c=document.createElement("canvas");let f=l.width,h=l.height;f>h?f>e&&(h=h*e/f,f=e):h>n&&(f=f*n/h,h=n),c.width=f,c.height=h,c.getContext("2d")?.drawImage(l,0,0,f,h),c.toBlob(v=>{v?r(v):i(new Error("画像のリサイズに失敗しました"))},t.type)},l.onerror=()=>i(new Error("画像の読み込みに失敗しました"))},a.onerror=()=>i(new Error("ファイルの読み込みに失敗しました"))}),CX=async(t,e)=>{try{const n=await PM(e,512,512),r=IM(KE,`avatars/${t}/${Date.now()}_avatar.jpg`);await TM(r,n);const i=await CM(r);return console.log("✅ Avatar uploaded:",i),i}catch(n){throw console.error("Avatar upload error:",n),new Error("プロフィール画像のアップロードに失敗しました")}},IX=async(t,e)=>{try{const n=await PM(e,1200,400),r=IM(KE,`covers/${t}/${Date.now()}_cover.jpg`);await TM(r,n);const i=await CM(r);return console.log("✅ Cover uploaded:",i),i}catch(n){throw console.error("Cover upload error:",n),new Error("カバー画像のアップロードに失敗しました")}},kO=t=>t.size>10485760?{valid:!1,error:"画像サイズは10MB以下にしてください"}:["image/jpeg","image/png","image/gif","image/webp"].includes(t.type)?{valid:!0}:{valid:!1,error:"対応している画像形式: JPEG, PNG, GIF, WebP"},OX=({onBack:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(""),[p,v]=C.useState(!0),[m,b]=C.useState(""),[w,A]=C.useState(""),[S,I]=C.useState(!1),[O,N]=C.useState(!1),[k,B]=C.useState(!1),[P,M]=C.useState(""),[j,z]=C.useState(""),U=C.useRef(null),H=C.useRef(null);C.useEffect(()=>{F()},[]);const F=async()=>{try{const re=nt.currentUser;if(!re)return;const de=await EX(re.uid);de&&(n(de),i(de.displayName),o(de.username),c(de.bio||""),h(de.websiteUrl||""),v(de.isPublic),b(de.avatarUrl||""),A(de.coverUrl||""))}catch(re){console.error("Load profile error:",re),M("プロフィールの読み込みに失敗しました")}},pe=async re=>{const de=re.target.files?.[0];if(!de)return;const we=kO(de);if(!we.valid){M(we.error||"");return}N(!0),M("");try{const Me=nt.currentUser;if(!Me)throw new Error("ログインが必要です");const G=await CX(Me.uid,de);b(G),z("アイコン画像をアップロードしました")}catch(Me){console.error("Avatar upload error:",Me),M(Me.message||"アイコン画像のアップロードに失敗しました")}finally{N(!1)}},_e=async re=>{const de=re.target.files?.[0];if(!de)return;const we=kO(de);if(!we.valid){M(we.error||"");return}B(!0),M("");try{const Me=nt.currentUser;if(!Me)throw new Error("ログインが必要です");const G=await IX(Me.uid,de);A(G),z("カバー画像をアップロードしました")}catch(Me){console.error("Cover upload error:",Me),M(Me.message||"カバー画像のアップロードに失敗しました")}finally{B(!1)}},X=async()=>{M(""),z(""),I(!0);try{const re=nt.currentUser;if(!re)throw new Error("ログインが必要です");if(!r.trim()){M("表示名を入力してください"),I(!1);return}const de=TX(a);if(!de.valid){M(de.error||""),I(!1);return}if(a!==e?.username&&!await SX(a,re.uid)){M("このユーザー名は既に使用されています"),I(!1);return}await AX(re.uid,{displayName:r.trim(),username:a,bio:l.trim(),websiteUrl:f.trim(),isPublic:p,avatarUrl:m,coverUrl:w}),z("プロフィールを更新しました！"),setTimeout(()=>z(""),3e3)}catch(re){console.error("Save profile error:",re),M(re.message||"プロフィールの更新に失敗しました")}finally{I(!1)}};return _.jsxs("div",{className:"profile-edit-screen",children:[_.jsxs("div",{className:"profile-edit-header",children:[_.jsxs("button",{onClick:t,className:"back-button",children:[_.jsx(Vw,{})," 戻る"]}),_.jsx("h2",{children:"プロフィール編集"}),_.jsxs("button",{onClick:X,className:"save-button",disabled:S,children:[_.jsx(Uw,{})," ",S?"保存中...":"保存"]})]}),P&&_.jsx("div",{className:"error-message",children:P}),j&&_.jsx("div",{className:"success-message",children:j}),_.jsx("div",{className:"cover-section",children:_.jsxs("div",{className:"cover-image",style:{backgroundImage:w?`url(${w})`:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:[_.jsxs("button",{onClick:()=>H.current?.click(),className:"cover-upload-button",disabled:k,children:[_.jsx(Fh,{})," ",k?"アップロード中...":"カバー画像を変更"]}),_.jsx("input",{ref:H,type:"file",accept:"image/*",onChange:_e,style:{display:"none"}})]})}),_.jsx("div",{className:"avatar-section",children:_.jsxs("div",{className:"avatar-image",children:[m?_.jsx("img",{src:m,alt:"Avatar"}):_.jsx("div",{className:"avatar-placeholder",children:_.jsx(Vh,{size:60})}),_.jsx("button",{onClick:()=>U.current?.click(),className:"avatar-upload-button",disabled:O,children:_.jsx(Fh,{})}),_.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:pe,style:{display:"none"}})]})}),_.jsxs("div",{className:"profile-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Vh,{})," 表示名"]}),_.jsx("input",{type:"text",value:r,onChange:re=>i(re.target.value),placeholder:"山田太郎",maxLength:50}),_.jsxs("span",{className:"char-count",children:[r.length,"/50"]})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(jv,{})," ユーザー名"]}),_.jsxs("div",{className:"username-input",children:[_.jsx("span",{className:"username-prefix",children:"@"}),_.jsx("input",{type:"text",value:a,onChange:re=>o(re.target.value.toLowerCase()),placeholder:"yamada_taro",maxLength:20})]}),_.jsx("span",{className:"hint",children:"英数字とアンダースコア（_）のみ使用可能"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"自己紹介"}),_.jsx("textarea",{value:l,onChange:re=>c(re.target.value),placeholder:"あなたについて教えてください...",maxLength:200,rows:4}),_.jsxs("span",{className:"char-count",children:[l.length,"/200"]})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(WU,{})," WebサイトURL"]}),_.jsx("input",{type:"url",value:f,onChange:re=>h(re.target.value),placeholder:"https://example.com"})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{className:"toggle-label",children:[p?_.jsx(iF,{}):_.jsx(Du,{}),"プロフィールを公開する",_.jsx("input",{type:"checkbox",checked:p,onChange:re=>v(re.target.checked),className:"toggle-switch"})]}),_.jsx("span",{className:"hint",children:p?"誰でもあなたのプロフィールを閲覧できます":"フォロワーのみプロフィールを閲覧できます"})]})]}),_.jsx("style",{children:`
        .profile-edit-screen {
          min-height: 100vh;
          background: var(--background);
          padding-bottom: 80px;
        }

        .profile-edit-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: var(--card);
          border-bottom: 1px solid var(--border);
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .profile-edit-header h2 {
          color: var(--text);
          font-size: 20px;
          margin: 0;
        }

        .back-button,
        .save-button {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button {
          background: var(--background);
          color: var(--text);
        }

        .back-button:hover {
          background: var(--border);
        }

        .save-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .save-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .save-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .error-message {
          margin: 16px;
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .success-message {
          margin: 16px;
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
        }

        body.dark-mode .success-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .cover-section {
          position: relative;
        }

        .cover-image {
          width: 100%;
          height: 200px;
          background-size: cover;
          background-position: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .cover-upload-button {
          padding: 10px 20px;
          background: rgba(0, 0, 0, 0.6);
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .cover-upload-button:hover:not(:disabled) {
          background: rgba(0, 0, 0, 0.8);
        }

        .cover-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .avatar-section {
          display: flex;
          justify-content: center;
          margin-top: -60px;
          padding: 0 16px;
        }

        .avatar-image {
          position: relative;
          width: 120px;
          height: 120px;
          border-radius: 50%;
          border: 4px solid var(--card);
          background: var(--background);
          overflow: hidden;
        }

        .avatar-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .avatar-placeholder {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--text-secondary);
          background: var(--border);
        }

        .avatar-upload-button {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--primary);
          color: white;
          border: 2px solid var(--card);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
        }

        .avatar-upload-button:hover:not(:disabled) {
          transform: scale(1.1);
        }

        .avatar-upload-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .profile-form {
          padding: 32px 16px;
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input,
        .form-group textarea {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .form-group textarea {
          resize: vertical;
          font-family: inherit;
        }

        .username-input {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .username-prefix {
          color: var(--text-secondary);
          font-size: 16px;
          font-weight: 500;
        }

        .username-input input {
          flex: 1;
        }

        .char-count,
        .hint {
          color: var(--text-secondary);
          font-size: 12px;
        }

        .toggle-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
        }

        .toggle-switch {
          margin-left: auto;
          width: 50px;
          height: 26px;
          appearance: none;
          background: var(--border);
          border-radius: 13px;
          position: relative;
          cursor: pointer;
          transition: background 0.3s;
        }

        .toggle-switch:checked {
          background: var(--primary);
        }

        .toggle-switch::before {
          content: '';
          position: absolute;
          width: 22px;
          height: 22px;
          border-radius: 50%;
          background: white;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
        }

        .toggle-switch:checked::before {
          transform: translateX(24px);
        }

        @media (max-width: 480px) {
          .cover-image {
            height: 150px;
          }

          .avatar-image {
            width: 100px;
            height: 100px;
          }

          .profile-form {
            padding: 24px 12px;
          }
        }
      `})]})},RX=()=>{const{settings:t,updateSettings:e,toggleDarkMode:n}=Qh(),{intakes:r}=bo(),{expenses:i}=wo(),{stocks:a}=Eo(),{user:o}=OM(),[l,c]=C.useState((t.monthlyBudget??3e4).toString()),[f,h]=C.useState(!1),p=()=>{e({monthlyBudget:Number(l)}),alert("設定を保存しました！")},v=()=>{const w=["種類,名前,カロリー,金額,日付",...r.map(I=>`食事記録,${I.name},${I.calories},${I.price},${I.date}`)].join(`
`),A=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.csv`,S.click()},m=()=>{const w={intakes:r,expenses:i,stocks:a,settings:t,exportedAt:new Date().toISOString()},A=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),S=document.createElement("a");S.href=URL.createObjectURL(A),S.download=`健康家計アプリ_${new Date().toISOString().split("T")[0]}.json`,S.click()},b=async()=>{if(window.confirm("ログアウトしますか？")){const w=await dX();w.error&&alert("ログアウトに失敗しました: "+w.error)}};return f?_.jsx(OX,{onBack:()=>h(!1)}):_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"設定"}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"プロフィール"}),_.jsxs("button",{className:"profile-edit-button",onClick:()=>h(!0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px 16px",background:"var(--background)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",marginBottom:"12px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx(Vh,{size:24,color:"var(--primary)"}),_.jsx("span",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"500"},children:"プロフィールを編集"})]}),_.jsx(MN,{size:24,color:"var(--text-secondary)"})]}),_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:"0"},children:"アイコン、名前、自己紹介などを編集"})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"月間予算"}),_.jsx("input",{type:"number",value:l,onChange:w=>c(w.target.value),placeholder:"30000"}),_.jsxs("button",{className:"submit",onClick:p,children:[_.jsx(Uw,{size:18,style:{marginRight:"8px"}}),"保存"]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"外観"}),_.jsxs("div",{className:"setting-item",children:[_.jsxs("div",{className:"setting-item-left",children:[_.jsx("div",{className:"setting-icon",children:_.jsx(KU,{size:24})}),_.jsx("span",{className:"setting-label",children:"ダークモード"})]}),_.jsxs("label",{className:"toggle-switch",children:[_.jsx("input",{type:"checkbox",checked:t.darkMode,onChange:n}),_.jsx("span",{className:"toggle-slider"})]})]})]}),_.jsx("div",{className:"card",children:_.jsx(bX,{})}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"データエクスポート"}),_.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_.jsxs("button",{className:"submit",onClick:v,style:{flex:1},children:[_.jsx(BU,{size:18,style:{marginRight:"8px"}}),"CSV"]}),_.jsxs("button",{className:"submit",onClick:m,style:{flex:1},children:[_.jsx(LU,{size:18,style:{marginRight:"8px"}}),"JSON"]})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"データ統計"}),_.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:[_.jsxs("p",{children:["食事記録: ",r.length,"件"]}),_.jsxs("p",{children:["支出記録: ",i.length,"件"]}),_.jsxs("p",{children:["在庫アイテム: ",a.length,"件"]})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"アカウント"}),_.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"12px"},children:_.jsxs("p",{children:["ログイン: ",o?.email]})}),_.jsxs("button",{className:"submit",onClick:b,style:{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)",width:"100%"},children:[_.jsx(zU,{size:18,style:{marginRight:"8px"}}),"ログアウト"]})]})]})},PX=()=>{const{addStock:t}=Eo(),[e,n]=C.useState(""),[r,i]=C.useState(""),[a,o]=C.useState("1"),l=()=>{if(!e||!r){alert("品目名と残り日数を入力してください");return}t({name:e,daysRemaining:Number(r),quantity:Number(a)}),n(""),i(""),o("1"),alert("在庫を追加しました！")};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"手動で追加"}),_.jsx("label",{children:"品目"}),_.jsx("input",{value:e,onChange:c=>n(c.target.value),placeholder:"例: 牛乳"}),_.jsx("label",{children:"残り日数"}),_.jsx("input",{type:"number",value:r,onChange:c=>i(c.target.value),placeholder:"例: 3"}),_.jsx("label",{children:"数量"}),_.jsx("input",{type:"number",value:a,onChange:c=>o(c.target.value),placeholder:"1"}),_.jsx("button",{className:"submit",onClick:l,children:"在庫に登録"})]})},NX=()=>{const{stocks:t,deleteStock:e}=Eo(),{addItem:n}=oc(),r=l=>{confirm("この在庫を削除しますか？")&&e(l)},i=(l,c)=>{n({name:l,quantity:c}),alert(`「${l}」を買い物リストに追加しました！`)},a=l=>l<=0?"#ef4444":l<=1?"#f59e0b":l<=3?"#eab308":"#10b981",o=l=>l<=0?"期限切れ！":l===1?"明日期限":`残り${l}日`;return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"在庫一覧"}),t.length===0?_.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"在庫がありません"}):_.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(l=>_.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{fontWeight:500,marginBottom:"4px"},children:[l.name,l.quantity>1&&_.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",l.quantity]})]}),_.jsx("div",{style:{fontSize:"0.85rem",color:a(l.daysRemaining),fontWeight:600},children:o(l.daysRemaining)})]}),_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[_.jsx("button",{onClick:()=>i(l.name,l.quantity),className:"delete-btn",style:{background:"transparent",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"18px"},title:"買い物リストに追加",children:_.jsx(kv,{size:20})}),_.jsx("button",{onClick:()=>r(l.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},title:"削除",children:_.jsx(up,{size:20})})]})]},l.id))})]})},DX=()=>{const{getExpiringStocks:t}=Eo(),{addItem:e}=oc(),n=C.useMemo(()=>t(0),[t]),r=C.useMemo(()=>t(1),[t]),i=()=>{const a=[...n,...r];a.length!==0&&confirm(`期限切れ間近の商品 ${a.length}個を買い物リストに追加しますか？`)&&(a.forEach(o=>{e({name:o.name,quantity:o.quantity})}),alert(`${a.length}個の商品を買い物リストに追加しました！`))};return n.length===0&&r.length===0?null:_.jsxs(_.Fragment,{children:[n.length>0&&_.jsxs("div",{className:"card",style:{background:"#fee2e2",borderLeft:"4px solid #ef4444",color:"#991b1b"},children:[_.jsx("h3",{style:{margin:"0 0 8px 0",color:"#ef4444"},children:"🚨 今日使うべき食材"}),_.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.map(a=>_.jsx("li",{children:a.name},a.id))})]}),r.length>0&&_.jsxs("div",{className:"card",style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",color:"#92400e"},children:[_.jsx("h3",{style:{margin:"0 0 8px 0",color:"#f59e0b"},children:"⏰ 明日期限切れ"}),_.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(a=>_.jsx("li",{children:a.name},a.id))})]}),_.jsx("div",{className:"card",style:{padding:"12px"},children:_.jsxs("button",{onClick:i,className:"submit",style:{background:"#3b82f6",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px"},children:[_.jsx(kv,{size:20}),"期限切れ間近の商品を買い物リストに追加"]})})]})},MX=()=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"在庫管理"}),_.jsx(DX,{}),_.jsx(PX,{}),_.jsx(NX,{})]}),kX=()=>{const{addWeeklyEssentials:t,addLowStockItems:e}=oc(),{getExpiringStocks:n}=Eo(),r=()=>{t(),alert("1週間分の買い物リストを追加しました！")},i=()=>{const a=n(2);if(a.length===0){alert("在庫が少ない商品はありません");return}e(a.map(o=>({name:o.name,category:o.category}))),alert(`${a.length}件の商品を追加しました！`)};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"🔰 初心者向けサポート"}),_.jsx("button",{className:"submit",onClick:r,style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",marginBottom:"8px"},children:"📅 1週間分の買い物リストを生成"}),_.jsx("button",{className:"submit",onClick:i,style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:"⚠️ 在庫が少ない商品を追加"})]})},jX=[{keywords:["ポテトチップス","チップス","スナック菓子","かっぱえびせん","ドリトス"],category:"スナック菓子",reason:"高カロリー・高脂質で、塩分も多く含まれています。",alternatives:["素焼きアーモンド","無塩ミックスナッツ","焼き野菜チップス","ドライフルーツ"]},{keywords:["コーラ","サイダー","炭酸飲料","ファンタ","ペプシ","ソーダ"],category:"清涼飲料水",reason:"糖分が非常に多く、虫歯や肥満の原因になります。",alternatives:["炭酸水","無糖の紅茶","麦茶","フレーバーウォーター（無糖）"]},{keywords:["カップラーメン","カップ麺","インスタントラーメン","カップ焼きそば"],category:"インスタント食品",reason:"塩分・脂質が多く、栄養バランスが偏りがちです。",alternatives:["生麺","冷凍うどん","乾麺（そば・パスタ）","低塩分インスタント麺"]},{keywords:["チョコレート","チョコ","ポッキー","きのこの山","たけのこの里"],category:"チョコレート菓子",reason:"糖分・脂質が多く、カロリーが高めです。",alternatives:["高カカオチョコレート（カカオ70%以上）","ドライフルーツ","ナッツ"]},{keywords:["唐揚げ","フライドチキン","とんかつ","天ぷら","フライドポテト","コロッケ"],category:"揚げ物",reason:"高カロリー・高脂質で、酸化した油が健康に悪影響を及ぼす可能性があります。",alternatives:["グリルチキン","蒸し鶏","焼き魚","ノンフライ調理品"]},{keywords:["ハンバーガー","ピザ","フライドポテト","ドーナツ"],category:"ファストフード",reason:"高カロリー・高脂質・高塩分で、栄養バランスが偏ります。",alternatives:["サンドイッチ（全粒粉パン）","サラダラップ","手作りピザ（薄皮）"]},{keywords:["アイスクリーム","アイス","ジェラート","ソフトクリーム"],category:"アイスクリーム",reason:"糖分・脂質が多く、食べ過ぎは肥満の原因になります。",alternatives:["フローズンヨーグルト","シャーベット","果物（冷凍）","低脂肪アイス"]},{keywords:["ケーキ","シュークリーム","ドーナツ","タルト","パウンドケーキ"],category:"洋菓子",reason:"糖分・脂質が非常に多く、カロリーが高いです。",alternatives:["和菓子（どら焼き、大福）","フルーツ","ヨーグルト","低糖質スイーツ"]},{keywords:["ベーコン","ソーセージ","ハム","サラミ","ウインナー"],category:"加工肉",reason:"塩分・添加物が多く、WHO（世界保健機関）が発がん性を指摘しています。",alternatives:["生肉（鶏むね肉、豚ヒレ肉）","魚","豆腐","納豆"]},{keywords:["エナジードリンク","レッドブル","モンスター","リアルゴールド"],category:"エナジードリンク",reason:"カフェイン・糖分が多く、心臓への負担や不眠の原因になります。",alternatives:["ブラックコーヒー","緑茶","麦茶","スポーツドリンク（無糖）"]},{keywords:["缶詰","缶コーン","缶ピーチ","フルーツ缶"],category:"缶詰（シロップ漬け）",reason:"シロップに糖分が多く含まれています。",alternatives:["生のフルーツ","冷凍フルーツ","水煮缶","ドライフルーツ"]},{keywords:["マヨネーズ","マーガリン","バター","ラード"],category:"高脂質調味料",reason:"脂質・カロリーが非常に高く、使いすぎは肥満の原因になります。",alternatives:["オリーブオイル","ごま油（少量）","低脂肪マヨネーズ","酢","レモン汁"]}];function LX(t){const e=t.toLowerCase();for(const n of jX)for(const r of n.keywords)if(e.includes(r.toLowerCase()))return{type:"warning",category:n.category,reason:n.reason,alternatives:n.alternatives};return null}async function BX(t,e){try{const n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`「${t}」という商品の健康面での懸念点を分析し、より健康的な代替案を3つ提案してください。

以下のJSON形式で回答してください：
{
  "category": "商品カテゴリ",
  "reason": "健康面での懸念点（簡潔に）",
  "alternatives": ["代替案1", "代替案2", "代替案3"]
}

懸念点がない場合は null を返してください。`}]}]})});if(!n.ok)throw new Error("AI分析に失敗しました");const i=(await n.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return null;const a=i.match(/\{[\s\S]*\}/);if(!a)return null;const o=JSON.parse(a[0]);return!o||o===null?null:{type:"warning",category:o.category||"不明",reason:o.reason||"",alternatives:o.alternatives||[]}}catch(n){return console.error("AI健康分析エラー:",n),null}}const UX=({productName:t,warning:e,onClose:n,onAddAlternative:r,onContinueAnyway:i})=>{const[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(!1),p=async()=>{h(!0);const b=await BX(t,"AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0");c(b),o(!0),h(!1)},v=a&&l?l:e;return _.jsx("div",{className:"modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:n,children:_.jsxs("div",{className:"modal-content",style:{background:"var(--card)",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",position:"relative",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},onClick:m=>m.stopPropagation(),children:[_.jsx("button",{onClick:n,style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:_.jsx(Lv,{size:24})}),_.jsxs("div",{style:{marginBottom:"20px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[_.jsx(NN,{size:32,color:"#f59e0b"}),_.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"健康アドバイス"})]}),_.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-secondary)"},children:["「",_.jsx("strong",{children:t}),"」について"]})]}),_.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"20px",borderLeft:"4px solid #f59e0b"},children:[_.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#92400e"},children:["📊 カテゴリ: ",v.category]}),_.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#78350f",lineHeight:"1.6"},children:v.reason})]}),_.jsxs("div",{style:{marginBottom:"20px"},children:[_.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(FU,{size:20,color:"#10b981"}),"より健康的な代替案"]}),_.jsx("div",{style:{display:"grid",gap:"8px"},children:v.alternatives.map((m,b)=>_.jsxs("button",{onClick:()=>r(m),style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"12px",cursor:"pointer",textAlign:"left",fontSize:"0.9rem",color:"#15803d",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#dcfce7",w.currentTarget.style.transform="translateX(4px)"},onMouseLeave:w=>{w.currentTarget.style.background="#f0fdf4",w.currentTarget.style.transform="translateX(0)"},children:["✓ ",m]},b))})]}),!a&&_.jsxs("button",{onClick:p,disabled:f,style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:f?.6:1},children:[_.jsx(mg,{size:20}),f?"AI分析中...":"AIで詳しく分析する"]}),_.jsxs("div",{style:{display:"grid",gap:"8px"},children:[_.jsx("button",{onClick:i,style:{padding:"12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"このまま追加する"}),_.jsx("button",{onClick:n,style:{padding:"12px",background:"transparent",color:"var(--text-secondary)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"キャンセル"})]})]})})},FX=()=>{const{addItem:t}=oc(),[e,n]=C.useState(""),[r,i]=C.useState("1"),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{if(!e){alert("商品名を入力してください");return}const b=LX(e);if(b){o(b),c({name:e,quantity:Number(r)});return}h(e,Number(r))},h=(b,w)=>{t({name:b,quantity:w}),n(""),i("1")},p=()=>{o(null),c(null)},v=b=>{l&&h(b,l.quantity),p()},m=()=>{l&&h(l.name,l.quantity),p()};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"手動で追加"}),_.jsx("label",{children:"商品名"}),_.jsx("input",{value:e,onChange:b=>n(b.target.value),placeholder:"例: 牛乳",onKeyDown:b=>b.key==="Enter"&&f()}),_.jsx("label",{children:"数量"}),_.jsx("input",{type:"number",value:r,onChange:b=>i(b.target.value),placeholder:"1"}),_.jsx("button",{className:"submit",onClick:f,children:"リストに追加"})]}),a&&l&&_.jsx(UX,{productName:l.name,warning:a,onClose:p,onAddAlternative:v,onContinueAnyway:m})]})},VX=()=>{const{items:t,toggleItem:e,deleteItem:n,clearCompleted:r}=oc(),{addStock:i}=Eo(),[a,o]=C.useState(!1),l=()=>{confirm("チェック済みのアイテムをすべて削除しますか？")&&r()},c=()=>{const f=t.filter(h=>h.checked);if(f.length===0){alert("チェック済みのアイテムがありません");return}confirm(`チェック済みのアイテム ${f.length}個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(f.forEach(h=>{i({name:h.name,quantity:h.quantity,daysRemaining:7})}),r(),o(!0),setTimeout(()=>{o(!1)},3e3))};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"買い物リスト"}),t.length===0?_.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"リストが空です"}):_.jsxs(_.Fragment,{children:[_.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(f=>_.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border)"},children:[_.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[_.jsx("input",{type:"checkbox",checked:f.checked,onChange:()=>e(f.id),style:{width:"18px",height:"18px"}}),_.jsx("div",{style:{flex:1},children:_.jsxs("div",{style:{fontWeight:500,textDecoration:f.checked?"line-through":"none",color:f.checked?"#999":"inherit"},children:[f.name,f.quantity>1&&_.jsxs("span",{style:{fontSize:"0.85rem",color:"#666",marginLeft:"8px"},children:["x",f.quantity]})]})})]}),_.jsx("button",{onClick:()=>n(f.id),className:"delete-btn",style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",fontSize:"18px"},children:_.jsx(up,{size:20})})]},f.id))}),t.some(f=>f.checked)&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:"white",fontSize:"0.9rem",fontWeight:500},children:[_.jsx(gf,{size:20}),_.jsx("span",{children:"買い物完了後はこちら！"})]}),_.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"0.85rem",margin:"0 0 12px 0",lineHeight:"1.5"},children:["チェックした商品を在庫に一括追加できます。",_.jsx("br",{}),"賞味期限は自動で7日後に設定されます。"]}),_.jsxs("button",{className:"submit",onClick:c,style:{background:"white",color:"#10b981",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"1rem",fontWeight:600,padding:"14px",border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[_.jsx(gf,{size:22}),"在庫に追加（",t.filter(f=>f.checked).length,"個）"]})]}),_.jsx("button",{className:"submit",onClick:l,style:{background:"transparent",color:"#ef4444",border:"2px solid #ef4444",marginTop:"8px",width:"100%"},children:"チェック済みをクリア"})]}),a&&_.jsxs("div",{style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 4px 16px rgba(16, 185, 129, 0.4)",display:"flex",alignItems:"center",gap:"12px",zIndex:1e3,animation:"slideDown 0.3s ease-out",fontSize:"1rem",fontWeight:600},children:[_.jsx(Mv,{size:28}),_.jsx("span",{children:"在庫に追加しました！"})]})]})]})},zX=()=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"買い物リスト"}),_.jsx(kX,{}),_.jsx(FX,{}),_.jsx(VX,{})]}),df="AIzaSyBSqmtDaNAqF09NTYYKQsTKm-3fLl1LMr0",NM=df!=="YOUR_GEMINI_API_KEY_HERE";let Qc=[];function QE(t){const e=Date.now();Qc.push({type:t,timestamp:e}),Qc=Qc.filter(a=>e-a.timestamp<6e4);const n=Qc.filter(a=>a.type==="recipe").length,r=Qc.filter(a=>a.type==="receipt").length,i=Qc.length;console.log(`[API Usage] 直近1分間の合計リクエスト数: ${i}回`),console.log(`  - レシピ生成: ${n}回`),console.log(`  - レシートOCR: ${r}回`),console.log(`  - 残り制限枠: ${15-i}回 (Free Tier: 15回/分)`)}async function HX(t,e="none",n="none",r=""){if(console.log("[Gemini] API呼び出し開始",{ingredients:t,dietaryRestriction:e,difficulty:n,customRequest:r,API_ENABLED:NM,apiKeyPrefix:df.substring(0,10)+"..."}),!t||t.length===0)throw new Error("材料を指定してください。");try{const i=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"";let a="";n==="super_easy"?a=`

**重要**: 料理初心者でも絶対に失敗しない超簡単なレシピにしてください。調理工程は3ステップ以内、特別な道具や技術は不要にしてください。`:n==="under_5min"?a=`

**重要**: 調理時間5分以内で完成するレシピにしてください。`:n==="under_10min"?a=`

**重要**: 調理時間10分以内で完成するレシピにしてください。`:n==="no_fire"&&(a=`

**重要**: 火を使わずに作れるレシピにしてください（電子レンジやトースターは可）。`);const o=r?`

**追加のリクエスト**: ${r}`:"",l=`
あなたは日本語で答えるプロの料理アドバイザーです。
必ず日本語で回答してください。英語は使わないでください。

次の食材を使った${i}向けの家庭向けレシピを1つ提案してください。
料理名・材料・手順・ポイントを含めて出力してください。${a}${o}

食材: ${t.join("、")}

出力フォーマットは以下の形式でお願いします：

---
【料理名】
（料理名）

【材料】
（材料一覧）

【作り方】
1.
2.
3.

【ポイント】
（料理のコツやアドバイス）
---
`.trim(),c=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${df}`;QE("recipe"),console.log("[Gemini] APIリクエスト送信",{url:c.replace(df,"HIDDEN")});const f=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(console.log("[Gemini] APIレスポンス受信",{status:f.status,ok:f.ok}),console.log("[Gemini] Rate Limit Info:",{limit:f.headers.get("x-ratelimit-limit"),remaining:f.headers.get("x-ratelimit-remaining"),reset:f.headers.get("x-ratelimit-reset"),retryAfter:f.headers.get("retry-after")}),!f.ok){const p=await f.text();let v;try{v=JSON.parse(p)}catch{v={rawError:p}}console.error("[Gemini] APIエラー詳細",{status:f.status,statusText:f.statusText,errorData:v});let m=`Gemini API エラー (${f.status})`;throw v.error?.message&&(m+=`: ${v.error.message}`),new Error(m)}const h=await f.json();if(console.log("[Gemini] レスポンスデータ",h),h.candidates&&h.candidates.length>0){const p=h.candidates[0];if(p.content?.parts&&p.content.parts.length>0){const v=p.content.parts[0].text;return console.log("[Gemini] レシピ生成成功"),v.trim()}}throw console.error("[Gemini] レスポンス形式が不正",h),new Error("Gemini APIからレシピを取得できませんでした。")}catch(i){return console.error("[Gemini] エラー発生:",i),console.warn("[Gemini] モックデータを使用します。"),console.info("[Gemini] 新しいAPIキーが必要な場合: https://aistudio.google.com/app/apikey"),i instanceof Error&&i.message.includes("403")&&console.error("[Gemini] 403エラー: APIキーが無効または期限切れです。新しいキーを取得してください。"),GX(t,e,n)}}async function $X(t){console.log("[Gemini Text] テキスト生成開始");try{const e=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${df}`;QE("recipe"),console.log("[Gemini Text] APIリクエスト送信");const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(console.log("[Gemini Text] APIレスポンス受信",{status:n.status}),!n.ok){const i=await n.text();throw console.error("[Gemini Text] APIエラー",i),new Error(`Gemini API エラー: ${n.status}`)}const r=await n.json();if(console.log("[Gemini Text] レスポンスデータ受信"),r.candidates&&r.candidates.length>0){const i=r.candidates[0];if(i.content?.parts&&i.content.parts.length>0){const a=i.content.parts[0].text.trim();return console.log("[Gemini Text] テキスト生成成功"),a}}throw new Error("テキストを生成できませんでした")}catch(e){throw console.error("[Gemini Text] エラー:",e),e}}const qX=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];e(a)},r.onerror=n,r.readAsDataURL(t)});let jO=0;const LO=5e3;async function BO(t){console.log("[Gemini Receipt] OCR処理開始",{fileName:t.name,fileSize:t.size,API_ENABLED:NM});const e=Date.now(),n=e-jO;if(n<LO){const r=Math.ceil((LO-n)/1e3);throw new Error(`レート制限: ${r}秒後に再試行してください`)}try{jO=e;const r=await qX(t),i=`
あなたは日本語のレシート解析の専門家です。
このレシート画像から商品名と価格を正確に抽出してください。

以下のJSON形式で出力してください：
{
  "storeName": "店舗名（わかれば）",
  "date": "日付（YYYY-MM-DD形式、わかれば）",
  "total": 合計金額（数値、わかれば）,
  "items": [
    {
      "name": "商品名",
      "price": 価格（数値）,
      "quantity": 数量（数値、デフォルトは1）
    }
  ]
}

**重要な指示:**
1. 商品名と価格は必ず正確に抽出してください
2. 価格は数値のみ（円記号やカンマは除く）
3. 同じ商品が複数ある場合はquantityで表現
4. 合計金額や税金などの行は除外
5. 不明な項目は省略してOK
6. 必ずJSONのみを返してください（説明文は不要）
`.trim(),a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${df}`;QE("receipt"),console.log("[Gemini Receipt] APIリクエスト送信");const o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i},{inlineData:{mimeType:t.type||"image/jpeg",data:r}}]}],generationConfig:{temperature:.1,topK:32,topP:1,maxOutputTokens:2048}})});if(console.log("[Gemini Receipt] APIレスポンス受信",{status:o.status}),console.log("[Gemini Receipt] Rate Limit Info:",{limit:o.headers.get("x-ratelimit-limit"),remaining:o.headers.get("x-ratelimit-remaining"),reset:o.headers.get("x-ratelimit-reset"),retryAfter:o.headers.get("retry-after")}),!o.ok){const c=await o.text();throw console.error("[Gemini Receipt] APIエラー",c),o.status===429?new Error("レート制限に達しました。数秒後に再試行してください。"):new Error(`Gemini API エラー: ${o.status}`)}const l=await o.json();if(console.log("[Gemini Receipt] レスポンスデータ",l),l.candidates&&l.candidates.length>0){const c=l.candidates[0];if(c.content?.parts&&c.content.parts.length>0){const f=c.content.parts[0].text.trim();console.log("[Gemini Receipt] 抽出テキスト:",f);let h=f;const p=f.match(/```json\s*([\s\S]*?)\s*```/);if(p)h=p[1];else if(f.includes("```")){const b=f.match(/```\s*([\s\S]*?)\s*```/);b&&(h=b[1])}const v=JSON.parse(h),m={items:v.items||[],total:v.total,storeName:v.storeName,date:v.date,rawText:f};return console.log("[Gemini Receipt] OCR成功",m),m}}throw new Error("レシートからテキストを抽出できませんでした")}catch(r){throw console.error("[Gemini Receipt] エラー:",r),r}}function GX(t,e,n="none"){const r=e==="vegetarian"?"ベジタリアン":e==="vegan"?"ヴィーガン":"",i=n==="super_easy"?"（超簡単）":n==="under_5min"?"（5分）":n==="under_10min"?"（10分）":n==="no_fire"?"（火を使わない）":"";return`
【料理名】
${t.join("と")}の${r}炒め${i}

【材料】
${t.map(a=>`・${a} 適量`).join(`
`)}
・塩、こしょう 少々
・サラダ油 大さじ1

【作り方】
1. ${t[0]||"材料"}を食べやすい大きさに切ります。
2. フライパンに油を熱し、材料を炒めます。
3. 塩、こしょうで味を調えて完成です。

【ポイント】
シンプルな炒め物なので、お好みで醤油やにんにくを加えても美味しいです。
野菜の食感を残すため、強火でサッと炒めるのがコツです。

※ このレシピはデモ用のモックデータです。実際のGemini APIキーを設定すると、AIが本格的なレシピを生成します。
※ 403エラーが発生しています。新しいAPIキーを https://aistudio.google.com/app/apikey で取得してください。
`.trim()}function cm(t){return De({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(t)}const WX=({onRecipeGenerated:t,isLoading:e,setIsLoading:n})=>{const{stocks:r}=Eo(),{addToHistory:i}=Ap(),[a,o]=C.useState(""),[l,c]=C.useState("none"),[f,h]=C.useState("none"),[p,v]=C.useState(""),m=[{value:"none",label:"指定なし",icon:_.jsx(mg,{size:16})},{value:"super_easy",label:"超簡単",icon:_.jsx(Pv,{size:16})},{value:"under_5min",label:"5分以内",icon:_.jsx(Nv,{size:16})},{value:"under_10min",label:"10分以内",icon:_.jsx(Rv,{size:16})},{value:"no_fire",label:"火を使わない",icon:_.jsx(cm,{size:16})}],b=[{value:"none",label:"指定なし",icon:_.jsx(yg,{size:16})},{value:"vegetarian",label:"ベジタリアン",icon:_.jsx("span",{children:"🥗"})},{value:"vegan",label:"ヴィーガン",icon:_.jsx("span",{children:"🌱"})}],w=()=>{const S=r.filter(I=>I.quantity>0).map(I=>I.name).slice(0,10).join(", ");o(S)},A=async()=>{if(!a.trim()){alert("材料を入力してください");return}n(!0);try{const S=a.split(/[,、]/).map(N=>N.trim()).filter(N=>N.length>0),I=await HX(S,f,l,p),O={id:fl(),title:`${S.slice(0,3).join("、")}を使ったレシピ`,content:I,ingredients:S,difficulty:l,dietaryRestriction:f,customRequest:p,isFavorite:!1,createdAt:new Date().toISOString()};i(O),t(O)}catch(S){console.error("レシピ生成エラー:",S),alert("レシピの生成に失敗しました。もう一度お試しください。")}finally{n(!1)}};return _.jsxs("div",{className:"card",children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(yg,{size:20}),"レシピを生成"]}),_.jsx("label",{children:"材料（カンマ区切り）"}),_.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:"例: 鶏肉, じゃがいも, 玉ねぎ",disabled:e}),_.jsxs("button",{onClick:w,style:{background:"#10b981",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginBottom:"16px"},disabled:e,children:[_.jsx(gf,{size:18,style:{marginRight:"6px"}}),"在庫の材料を使う"]}),_.jsx("label",{children:"難易度"}),_.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:m.map(S=>_.jsx("button",{onClick:()=>c(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${l===S.value?"var(--primary)":"var(--border)"}`,background:l===S.value?"var(--primary)":"var(--card)",color:l===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:l===S.value?600:400},disabled:e,children:_.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),_.jsx("label",{children:"食事制限"}),_.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:b.map(S=>_.jsx("button",{onClick:()=>h(S.value),style:{padding:"8px 16px",borderRadius:"20px",border:`2px solid ${f===S.value?"var(--primary)":"var(--border)"}`,background:f===S.value?"var(--primary)":"var(--card)",color:f===S.value?"white":"var(--text)",cursor:"pointer",fontSize:"0.85rem",fontWeight:f===S.value?600:400},disabled:e,children:_.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.icon," ",S.label]})},S.value))}),_.jsx("label",{children:"カスタムリクエスト（任意）"}),_.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"例: 辛めに作りたい、子供向けに優しい味で",rows:3,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--card)",color:"var(--text)",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"},disabled:e}),_.jsxs("button",{className:"submit",onClick:A,disabled:e,children:[_.jsx(mg,{size:18,style:{marginRight:"8px"}}),"レシピを生成する"]})]})},KX=({recipe:t})=>{const{addToHistory:e,addToFavorites:n,removeFromFavorites:r,favoriteRecipes:i}=Ap(),{addStock:a}=Eo(),{addItem:o}=oc(),l=i.some(p=>p.id===t.id),c=()=>{l?r(t.id):(n(t),e(t))},f=()=>{confirm(`材料 ${t.ingredients.length} 個を在庫に追加しますか？
（賞味期限は7日後に設定されます）`)&&(t.ingredients.forEach(p=>{a({name:p,quantity:1,daysRemaining:7})}),alert(`${t.ingredients.length}個の材料を在庫に追加しました！`))},h=()=>{confirm(`材料 ${t.ingredients.length} 個を買い物リストに追加しますか？`)&&(t.ingredients.forEach(p=>{o({name:p,quantity:1})}),alert(`${t.ingredients.length}個の材料を買い物リストに追加しました！`))};return _.jsxs("div",{className:"card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[_.jsx("h3",{children:t.title}),_.jsx("button",{onClick:c,style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",padding:"4px",color:l?"#fbbf24":"var(--text-secondary)"},title:l?"お気に入りから削除":"お気に入りに追加",children:l?_.jsx(nb,{size:28}):_.jsx(aF,{size:28})})]}),_.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[t.difficulty&&t.difficulty!=="none"&&_.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.85rem",fontWeight:500},children:_.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:_.jsxs(_.Fragment,{children:[_.jsx(Pv,{size:14})," 超簡単"]}),under_5min:_.jsxs(_.Fragment,{children:[_.jsx(Nv,{size:14})," 5分以内"]}),under_10min:_.jsxs(_.Fragment,{children:[_.jsx(Rv,{size:14})," 10分以内"]}),no_fire:_.jsxs(_.Fragment,{children:[_.jsx(cm,{size:14})," 火を使わない"]}),none:""}[t.difficulty]})}),t.dietaryRestriction&&t.dietaryRestriction!=="none"&&_.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.85rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[t.dietaryRestriction]})]}),_.jsx("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.6"},children:t.content}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[_.jsxs("button",{onClick:f,style:{background:"#10b981",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[_.jsx(gf,{size:18})," 在庫に追加"]}),_.jsxs("button",{onClick:h,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500,fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[_.jsx(kv,{size:18})," 買い物リストへ"]})]})]})},XX=({onRecipeSelect:t})=>{const{recipeHistory:e}=Ap();if(e.length===0)return null;const n=r=>{const i=new Date(r),o=new Date().getTime()-i.getTime(),l=Math.floor(o/6e4),c=Math.floor(o/36e5),f=Math.floor(o/864e5);return l<1?"たった今":l<60?`${l}分前`:c<24?`${c}時間前`:f<7?`${f}日前`:i.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})};return _.jsxs("div",{className:"card",children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(UU,{size:20}),"レシピ履歴"]}),_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(r=>_.jsxs("div",{onClick:()=>t(r.recipe),style:{padding:"12px",borderRadius:"8px",border:"1px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)"},onMouseEnter:i=>{i.currentTarget.style.background="var(--background)",i.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--card)",i.currentTarget.style.transform="translateY(0)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[_.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",flex:1},children:r.recipe.title}),_.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary, #999)",whiteSpace:"nowrap",marginLeft:"8px"},children:n(r.generatedAt)})]}),_.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary, #666)",display:"flex",gap:"4px",flexWrap:"wrap"},children:[r.recipe.ingredients&&r.recipe.ingredients.slice(0,3).map((i,a)=>_.jsxs("span",{children:[i,a<Math.min((r.recipe.ingredients?.length||0)-1,2)?"、":""]},a)),r.recipe.ingredients&&r.recipe.ingredients.length>3&&_.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",r.recipe.ingredients.length-3,"個"]})]}),(r.recipe.difficulty!=="none"||r.recipe.dietaryRestriction!=="none")&&_.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px",flexWrap:"wrap"},children:[r.recipe.difficulty&&r.recipe.difficulty!=="none"&&_.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#f0fdf4",color:"#15803d",fontSize:"0.75rem"},children:{super_easy:_.jsx(Pv,{size:12}),under_5min:_.jsx(Nv,{size:12}),under_10min:_.jsx(Rv,{size:12}),no_fire:_.jsx(cm,{size:12}),none:""}[r.recipe.difficulty]}),r.recipe.dietaryRestriction&&r.recipe.dietaryRestriction!=="none"&&_.jsx("span",{style:{padding:"2px 8px",borderRadius:"8px",background:"#fef3c7",color:"#92400e",fontSize:"0.75rem"},children:{vegetarian:"🥗",vegan:"🌱",none:""}[r.recipe.dietaryRestriction]})]})]},r.id))})]})},YX=({onRecipeSelect:t})=>{const{favoriteRecipes:e,removeFromFavorites:n}=Ap();if(e.length===0)return null;const r=(i,a)=>{i.stopPropagation(),confirm("お気に入りから削除しますか？")&&n(a)};return _.jsxs("div",{className:"card",children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(nb,{size:20,color:"#fbbf24"}),"お気に入りレシピ"]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:e.map(i=>_.jsxs("div",{onClick:()=>t(i),style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease",background:"var(--card)",position:"relative"},onMouseEnter:a=>{a.currentTarget.style.background="var(--background)",a.currentTarget.style.borderColor="var(--primary)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--card)",a.currentTarget.style.borderColor="var(--border)",a.currentTarget.style.transform="translateY(0)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[_.jsx("div",{style:{fontWeight:600,fontSize:"1rem",flex:1},children:i.title}),_.jsx("button",{onClick:a=>r(a,i.id),style:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"0 4px",color:"#fbbf24"},title:"お気に入りから削除",children:_.jsx(nb,{size:24})})]}),_.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)",marginBottom:"8px",display:"flex",gap:"6px",flexWrap:"wrap"},children:[_.jsx("span",{style:{fontWeight:500},children:"材料:"}),i.ingredients&&i.ingredients.slice(0,4).map((a,o)=>_.jsxs("span",{children:[a,o<Math.min((i.ingredients?.length||0)-1,3)?"、":""]},o)),i.ingredients&&i.ingredients.length>4&&_.jsxs("span",{style:{color:"var(--text-secondary, #999)"},children:["他",i.ingredients.length-4,"個"]})]}),(i.difficulty&&i.difficulty!=="none"||i.dietaryRestriction&&i.dietaryRestriction!=="none")&&_.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[i.difficulty&&i.difficulty!=="none"&&_.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#f0fdf4",color:"#15803d",fontSize:"0.8rem",fontWeight:500},children:_.jsx("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:{super_easy:_.jsxs(_.Fragment,{children:[_.jsx(Pv,{size:14})," 超簡単"]}),under_5min:_.jsxs(_.Fragment,{children:[_.jsx(Nv,{size:14})," 5分以内"]}),under_10min:_.jsxs(_.Fragment,{children:[_.jsx(Rv,{size:14})," 10分以内"]}),no_fire:_.jsxs(_.Fragment,{children:[_.jsx(cm,{size:14})," 火を使わない"]}),none:""}[i.difficulty]})}),i.dietaryRestriction&&i.dietaryRestriction!=="none"&&_.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:"#fef3c7",color:"#92400e",fontSize:"0.8rem",fontWeight:500},children:{vegetarian:"🥗 ベジタリアン",vegan:"🌱 ヴィーガン",none:""}[i.dietaryRestriction]})]}),i.customRequest&&_.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--text-secondary, #666)",fontStyle:"italic",padding:"6px 10px",background:"var(--background)",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[_.jsx(qU,{size:14,style:{marginTop:"2px",flexShrink:0}}),i.customRequest]})]},i.id))})]})},QX=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!1);return _.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"AIレシピ生成"}),_.jsx(WX,{onRecipeGenerated:e,isLoading:n,setIsLoading:r}),n&&_.jsxs("div",{className:"card",style:{textAlign:"center",padding:"32px"},children:[_.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"var(--primary)"},children:_.jsx(yg,{size:48})}),_.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"レシピを生成中..."}),_.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary, #666)"},children:"AIがレシピを考えています"})]}),t&&!n&&_.jsx(KX,{recipe:t}),_.jsx(XX,{onRecipeSelect:e}),_.jsx(YX,{onRecipeSelect:e})]})};function ZX(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function JX(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var eY=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tY=(function(t){eY(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),ZX(a,i.prototype),JX(a),a}return e})(Error),nY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pi=(function(t){nY(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e})(tY),rY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ta=(function(t){rY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(pi),iY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),je=(function(t){iY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(pi),aY=(function(){function t(e){if(this.binarizer=e,e===null)throw new je("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var a=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),oY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),lr=(function(t){oY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(pi),sY=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),qt=(function(){function t(){}return t.arraycopy=function(e,n,r,i,a){for(;a--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t})(),lY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ZE=(function(t){lY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(pi),uY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),UO=(function(t){uY(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(ZE),cY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xn=(function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var a=n;a<r;a++)e[a]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new je("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new UO(n);if(r>e)throw new UO(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var a=cY(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,a=new Int32Array(i);return qt.arraycopy(e,n,a,0,i),a},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=r(n,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,n){return e-n},t})(),Ye=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),ur=(function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);qt.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var o=r.length;a===0;){if(++i===o)return n;a=~r[i]}var l=i*32+Ye.numberOfTrailingZeros(a);return l>n?n:l},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new je;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),a=this.bits,o=r;o<=i;o++){var l=o>r?0:e&31,c=o<i?31:n&31,f=(2<<c)-(1<<l);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new je;if(n===e)return!0;n--;for(var i=Math.floor(e/32),a=Math.floor(n/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:n&31,h=(2<<f)-(1<<c)&4294967295;if((o[l]&h)!==(r?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new je("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new je("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;n[r+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,a=0;a<r;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[n-a]=o}if(this.size!==r*32){for(var l=r*32-this.size,c=e[0]>>>l,a=1;a<r;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[r-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Xn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Xn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t})(),Nb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Nb||(Nb={}));const nn=Nb;var fY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),me=(function(t){fY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(pi),dY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Rt||(Rt={}));var Kn=(function(){function t(e,n,r){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var c=this.values,f=0,h=c.length;f!==h;f++){var p=c[f];t.VALUES_TO_ECI.set(p,this)}try{for(var v=dY(o),m=v.next();!m.done;m=v.next()){var b=m.value;t.NAME_TO_ECI.set(b,this)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Rt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Rt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Rt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Rt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Rt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Rt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Rt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Rt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Rt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Rt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Rt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Rt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Rt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Rt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Rt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Rt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Rt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Rt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Rt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Rt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Rt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Rt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Rt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Rt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Rt.Big5,28,"Big5"),t.GB18030=new t(Rt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Rt.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),hY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cg=(function(t){hY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(pi),la=(function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Kn?e:Kn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(r.equals(Kn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new cg("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Kn.UTF8)||e.equals(Kn.ISO8859_1)||e.equals(Kn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},t})(),ft=(function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return la.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(nn.CHARACTER_SET)!==void 0)return n.get(nn.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,o=!0,l=0,c=0,f=0,h=0,p=0,v=0,m=0,b=0,w=0,A=0,S=0,I=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<r&&(i||a||o);O++){var N=e[O]&255;o&&(l>0?(N&128)===0?o=!1:l--:(N&128)!==0&&((N&64)===0?o=!1:(l++,(N&32)===0?c++:(l++,(N&16)===0?f++:(l++,(N&8)===0?h++:o=!1))))),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&S++),a&&(p>0?N<64||N===127||N>252?a=!1:p--:N===128||N===160||N>239?a=!1:N>160&&N<224?(v++,b=0,m++,m>w&&(w=m)):N>127?(p++,m=0,b++,b>A&&(A=b)):(m=0,b=0))}return o&&l>0&&(o=!1),a&&p>0&&(a=!1),o&&(I||c+f+h>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||A>=3)?t.SHIFT_JIS:i&&a?w===2&&v===2||S*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function a(l,c,f,h,p,v){if(l==="%%")return"%";if(n[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,b;switch(v){case"s":b=n[i];break;case"c":b=n[i][0];break;case"f":b=parseFloat(n[i]).toFixed(l);break;case"p":b=parseFloat(n[i]).toPrecision(l);break;case"e":b=parseFloat(n[i]).toExponential(l);break;case"x":b=parseInt(n[i]).toString(m||16);break;case"d":b=parseFloat(parseInt(n[i],m||10).toPrecision(l)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(m);for(var w=parseInt(f),A=f&&f[0]+""=="0"?"0":" ";b.length<w;)b=c!==void 0?b+A:A+b;return b}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,n){return la.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Kn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Kn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Kn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Xe=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t})(),vo=(function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new je("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),a=0;a<n;a++)for(var o=e[a],l=0;l<r;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,n,r){if(e===null)throw new je("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new je("row lengths do not match");o=a,c++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new je("illegal character encountered: "+e.substring(f));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new je("row lengths do not match");c++}for(var h=new t(l,c),p=0;p<a;p++)i[p]&&h.set(Math.floor(p%l),Math.floor(p/l));return h},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new je("input matrix dimensions do not match");for(var n=new ur(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*r,c=e.getRow(a,n).getBitArray(),f=0;f<r;f++)i[l+f]^=c[f]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new je("Left and top must be nonnegative");if(i<1||r<1)throw new je("Height and width must be at least 1");var a=e+r,o=n+i;if(o>this.height||a>this.width)throw new je("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=n;f<o;f++)for(var h=f*l,p=e;p<a;p++)c[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new ur(this.width):n.clear();for(var r=this.rowSize,i=this.bits,a=e*r,o=0;o<r;o++)n.setBulk(o*32,i[a+o]);return n},t.prototype.setRow=function(e,n){qt.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new ur(e),i=new ur(e),a=0,o=Math.floor((n+1)/2);a<o;a++)r=this.getRow(a,r),i=this.getRow(n-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(n-1-a,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,a=e,o=n,l=-1,c=-1,f=0;f<n;f++)for(var h=0;h<r;h++){var p=i[f*r+h];if(p!==0){if(f<o&&(o=f),f>c&&(c=f),h*32<a){for(var v=0;(p<<31-v&4294967295)===0;)v++;h*32+v<a&&(a=h*32+v)}if(h*32+31>l){for(var v=31;!(p>>>v);)v--;h*32+v>l&&(l=h*32+v)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,a=r%e*32,o=n[r],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,o=n[r],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Xn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Xn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new Xe,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),pY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oe=(function(t){pY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(pi),gY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vY=(function(t){gY(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new ur(a):r.clear(),this.initArrays(a);for(var o=i.getRow(n,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<f&&r.set(c);else for(var h=o[0]&255,p=o[1]&255,c=1;c<a-1;c++){var v=o[c+1]&255;(p*4-h-v)/2<f&&r.set(c),h=p,p=v}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),a=new vo(r,i);this.initArrays(r);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=n.getRow(c,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var v=f[p]&255;o[v>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(o),b=n.getMatrix(),l=0;l<i;l++)for(var w=l*r,p=0;p<r;p++){var v=b[w+p]&255;v<m&&a.set(p,l)}return a},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,a=0,o=0,l=0;l<r;l++)n[l]>o&&(a=l,o=n[l]),n[l]>i&&(i=n[l]);for(var c=0,f=0,l=0;l<r;l++){var h=l-a,p=n[l]*h*h;p>f&&(c=l,f=p)}if(a>c){var v=a;a=c,c=v}if(c-a<=r/16)throw new oe;for(var m=c-1,b=-1,l=c-1;l>a;l--){var w=l-a,p=w*w*(c-l)*(i-n[l]);p>b&&(m=l,b=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(sY),mY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yY=(function(t){mY(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=n.getMatrix(),o=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,r,i),f=new vo(r,i);e.calculateThresholdForBlock(a,o,l,r,i,c,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,a,o,l,c){for(var f=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,p=0;p<i;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var m=e.cap(p,2,i-3),b=0;b<r;b++){var w=b<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var A=e.cap(b,2,r-3),S=0,I=-2;I<=2;I++){var O=l[m+I];S+=O[A-2]+O[A-1]+O[A]+O[A+1]+O[A+2]}var N=S/25;e.thresholdBlock(n,w,v,N,a,c)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,a,o,l){for(var c=0,f=i*o+r;c<e.BLOCK_SIZE;c++,f+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(n[f+h]&255)<=a&&l.set(r+h,i+c)},e.calculateBlackPoints=function(n,r,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),h=0;h<i;h++){f[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0;v<r;v++){var m=v<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var b=0,w=255,A=0,S=0,I=p*a+m;S<e.BLOCK_SIZE;S++,I+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var N=n[I+O]&255;b+=N,N<w&&(w=N),N>A&&(A=N)}if(A-w>e.MIN_DYNAMIC_RANGE)for(S++,I+=a;S<e.BLOCK_SIZE;S++,I+=a)for(var O=0;O<e.BLOCK_SIZE;O++)b+=n[I+O]&255}var k=b>>e.BLOCK_SIZE_POWER*2;if(A-w<=e.MIN_DYNAMIC_RANGE&&(k=w/2,h>0&&v>0)){var B=(f[h-1][v]+2*f[h][v-1]+f[h-1][v-1])/4;w<B&&(k=B)}f[h][v]=k}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(vY),fm=(function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new cg("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new cg("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new cg("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Xe,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",n.append(l)}n.append(`
`)}return n.toString()},t})(),xY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),JE=(function(t){xY(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(n[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,a){return new e(this.delegate.crop(n,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(fm),_Y=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bY=(function(t){_Y(e,t);function e(n,r){r===void 0&&(r=!1);var i=t.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,r),i}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=n.length;l<f;l+=4,c++){var h=void 0,p=n[l+3];if(p===0)h=255;else{var v=n[l],m=n[l+1],b=n[l+2];h=306*v+601*m+117*b+512>>10}o[c]=h}else for(var l=0,c=0,w=n.length;l<w;l+=4,c++){var h=void 0,p=n[l+3];if(p===0)h=255;else{var v=n[l],m=n[l+1],b=n[l+2];h=306*v+601*m+117*b+512>>10}o[c]=255-h}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new je("Requested row is outside the image: "+n);var i=this.getWidth(),a=n*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return t.prototype.crop.call(this,n,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return r.width=c,r.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new JE(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(fm),wY=(function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),Gr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{f(r.next(h))}catch(p){o(p)}}function c(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},Wr=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return c([f,h])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},EY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$f=(function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Gr(this,void 0,void 0,function(){var e,n,r,i,a,o,l,c,f,h,p,v;return Wr(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),n=[];try{for(r=EY(e),i=r.next();!i.done;i=r.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(n.length+1),f=a.groupId,h={deviceId:l,label:c,kind:o,groupId:f},n.push(h))}catch(b){p={error:b}}finally{try{i&&!i.done&&(v=r.return)&&v.call(r)}finally{if(p)throw p.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return Gr(this,void 0,void 0,function(){var e;return Wr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new wY(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return Gr(this,void 0,void 0,function(){var n;return Wr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return Gr(this,void 0,void 0,function(){return Wr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return Gr(this,void 0,void 0,function(){var r,i;return Wr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return Gr(this,void 0,void 0,function(){var r;return Wr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return Gr(this,void 0,void 0,function(){var r,i;return Wr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return Gr(this,void 0,void 0,function(){return Wr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return Gr(this,void 0,void 0,function(){var i,a;return Wr(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return Gr(this,void 0,void 0,function(){var i;return Wr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return Gr(this,void 0,void 0,function(){var i;return Wr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return Gr(this,void 0,void 0,function(){var r;return Wr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Gr(this,void 0,void 0,function(){return Wr(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new Ta("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new Ta("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new Ta("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new Ta("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new Ta("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ta("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ta("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ta("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ta("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new Ta("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Gr(this,void 0,void 0,function(){return Wr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return Gr(this,void 0,void 0,function(){return Wr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(v){var f=n&&v instanceof oe,h=v instanceof lr||v instanceof me,p=h&&r;if(f||p)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(v)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);n(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){n(null,c);var o=c instanceof lr||c instanceof me,l=c instanceof oe;(o||l)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new bY(r,n),a=new yY(i);return new aY(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),Vr=(function(){function t(e,n,r,i,a,o){r===void 0&&(r=n==null?0:8*n.length),o===void 0&&(o=qt.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=qt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);qt.arraycopy(n,0,r,0,n.length),qt.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Db;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Db||(Db={}));const ke=Db;var Mb;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Mb||(Mb={}));const Cr=Mb;var dm=(function(){function t(e,n,r,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Sh=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new je;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t})(),vl=(function(){function t(e,n){if(n.length===0)throw new je;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),qt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,a=n.length;i!==a;i++){var o=n[i];r=Sh.addOrSubtract(r,o)}return r}r=n[0];for(var l=n.length,c=this.field,i=1;i<l;i++)r=Sh.addOrSubtract(c.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new je("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;qt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=Sh.addOrSubtract(n[l-o],r[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new je("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=this.field,c=0;c<r;c++)for(var f=n[c],h=0;h<a;h++)o[c+h]=Sh.addOrSubtract(o[c+h],l.multiply(f,i[h]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),a=this.coefficients,o=0;o<n;o++)i[o]=r.multiply(a[o],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new je;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(r[l],n);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new je("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new je("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=n.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=n.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(l,c),h=n.buildMonomial(l,c);r=r.addOrSubtract(h),i=i.addOrSubtract(f)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t})(),AY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),DM=(function(t){AY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(pi),SY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ci=(function(t){SY(e,t);function e(n,r,i){var a=t.call(this)||this;a.primitive=n,a.size=r,a.generatorBase=i;for(var o=new Int32Array(r),l=1,c=0;c<r;c++)o[c]=l,l*=2,l>=r&&(l^=n,l&=r-1);a.expTable=o;for(var f=new Int32Array(r),c=0;c<r-1;c++)f[o[c]]=c;return a.logTable=f,a.zero=new vl(a,Int32Array.from([0])),a.one=new vl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new je;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new vl(this,i)},e.prototype.inverse=function(n){if(n===0)throw new DM;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Sh),TY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),P1=(function(t){TY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(pi),CY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sp=(function(t){CY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(pi),hm=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new vl(r,e),a=new Int32Array(n),o=!0,l=0;l<n;l++){var c=i.evaluateAt(r.exp(l+r.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var f=new vl(r,a),h=this.runEuclideanAlgorithm(r.buildMonomial(n,1),f,n),p=h[0],v=h[1],m=this.findErrorLocations(p),b=this.findErrorMagnitudes(v,m),l=0;l<m.length;l++){var w=e.length-1-r.log(m[l]);if(w<0)throw new P1("Bad error location");e[w]=ci.addOrSubtract(e[w],b[l])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=this.field,o=e,l=n,c=a.getZero(),f=a.getOne();l.getDegree()>=(r/2|0);){var h=o,p=c;if(o=l,c=f,o.isZero())throw new P1("r_{i-1} was zero");l=h;for(var v=a.getZero(),m=o.getCoefficient(o.getDegree()),b=a.inverse(m);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),A=a.multiply(l.getCoefficient(l.getDegree()),b);v=v.addOrSubtract(a.buildMonomial(w,A)),l=l.addOrSubtract(o.multiplyByMonomial(w,A))}if(f=v.multiply(c).addOrSubtract(p),l.getDegree()>=o.getDegree())throw new Sp("Division algorithm failed to reduce polynomial?")}var S=f.getCoefficient(0);if(S===0)throw new P1("sigmaTilde(0) was zero");var I=a.inverse(S),O=f.multiplyScalar(I),N=l.multiplyScalar(I);return[O,N]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,a=this.field,o=1;o<a.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=a.inverse(o),i++);if(i!==n)throw new P1("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),a=this.field,o=0;o<r;o++){for(var l=a.inverse(n[o]),c=1,f=0;f<r;f++)if(o!==f){var h=a.multiply(n[f],l),p=(h&1)===0?h|1:h&-2;c=a.multiply(c,p)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),br;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(br||(br={}));var FO=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new dm(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=br.UPPER,i=br.UPPER,a="",o=0;o<n;)if(i===br.BINARY){if(n-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(n-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(n-o<8){o=n;break}var f=t.readCode(e,o,8);a+=ft.castAsNonUtf8Char(f),o+=8}i=r}else{var h=i===br.DIGIT?4:5;if(n-o<h)break;var f=t.readCode(e,o,h);o+=h;var p=t.getCharacter(i,f);p.startsWith("CTRL_")?(r=i,i=t.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(a+=p,i=r)}return a},t.getTable=function(e){switch(e){case"L":return br.LOWER;case"P":return br.PUNCT;case"M":return br.MIXED;case"D":return br.DIGIT;case"B":return br.BINARY;case"U":default:return br.UPPER}},t.getCharacter=function(e,n){switch(e){case br.UPPER:return t.UPPER_TABLE[n];case br.LOWER:return t.LOWER_TABLE[n];case br.MIXED:return t.MIXED_TABLE[n];case br.PUNCT:return t.PUNCT_TABLE[n];case br.DIGIT:return t.DIGIT_TABLE[n];default:throw new Sp("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=ci.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=ci.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=ci.AZTEC_DATA_10):(r=12,n=ci.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new me;for(var o=e.length%r,l=new Int32Array(a),c=0;c<a;c++,o+=r)l[c]=t.readCode(e,o,r);try{var f=new hm(n);f.decode(l,a-i)}catch(A){throw new me(A)}for(var h=(1<<r)-1,p=0,c=0;c<i;c++){var v=l[c];if(v===0||v===h)throw new me;(v===1||v===h-1)&&p++}for(var m=new Array(i*r-p),b=0,c=0;c<i;c++){var v=l[c];if(v===1||v===h-1)m.fill(v>1,b,b+r-1),b+=r-1;else for(var w=r-1;w>=0;--w)m[b++]=(v&1<<w)!==0}return m},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(r,n));if(n)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),f=i/2,h=Ye.truncDivision(c,2),l=0;l<f;l++){var p=l+Ye.truncDivision(l,15);a[f-l-1]=h-p-1,a[f+l]=h+p+1}for(var l=0,v=0;l<r;l++){for(var m=(r-l)*4+(n?9:12),b=l*2,w=i-1-b,A=0;A<m;A++)for(var S=A*2,I=0;I<2;I++)o[v+S+I]=e.get(a[b+I],a[b+A]),o[v+2*m+S+I]=e.get(a[b+A],a[w-I]),o[v+4*m+S+I]=e.get(a[w-I],a[w-A]),o[v+6*m+S+I]=e.get(a[w-A],a[b+I]);v+=m*8}return o},t.readCode=function(e,n,r){for(var i=0,a=n;a<n+r;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),vt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var a=e-r,o=n-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var a=e[r];n+=a}return n},t})(),kb=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Te=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*kb.floatToIntBits(this.x)+kb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(r>=n&&r>=i?(o=e[0],a=e[1],l=e[2]):i>=r&&i>=n?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,n){return vt.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,a=n.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},t})(),eA=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),IY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),OY=(function(t){IY(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(eA),jb=(function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=n/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,f=!1,h=!1,p=!1,v=this.width,m=this.height;o;){o=!1;for(var b=!0;(b||!c)&&n<v;)b=this.containsBlackPoint(r,i,n,!1),b?(n++,o=!0,c=!0):c||n++;if(n>=v){a=!0;break}for(var w=!0;(w||!f)&&i<m;)w=this.containsBlackPoint(e,n,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=m){a=!0;break}for(var A=!0;(A||!h)&&e>=0;)A=this.containsBlackPoint(r,i,e,!1),A?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var S=!0;(S||!p)&&r>=0;)S=this.containsBlackPoint(e,n,r,!0),S?(r--,o=!0,p=!0):p||r--;if(r<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var I=n-e,O=null,N=1;O===null&&N<I;N++)O=this.getBlackPointOnSegment(e,i-N,e+N,i);if(O==null)throw new oe;for(var k=null,N=1;k===null&&N<I;N++)k=this.getBlackPointOnSegment(e,r+N,e+N,r);if(k==null)throw new oe;for(var B=null,N=1;B===null&&N<I;N++)B=this.getBlackPointOnSegment(n,r+N,n-N,r);if(B==null)throw new oe;for(var P=null,N=1;P===null&&N<I;N++)P=this.getBlackPointOnSegment(n,i-N,n-N,i);if(P==null)throw new oe;return this.centerEdges(P,O,B,k)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var a=vt.round(vt.distance(e,n,r,i)),o=(r-e)/a,l=(i-n)/a,c=this.image,f=0;f<a;f++){var h=vt.round(e+f*o),p=vt.round(n+f*l);if(c.get(h,p))return new Te(h,p)}return null},t.prototype.centerEdges=function(e,n,r,i){var a=e.getX(),o=e.getY(),l=n.getX(),c=n.getY(),f=r.getX(),h=r.getY(),p=i.getX(),v=i.getY(),m=t.CORR;return a<this.width/2?[new Te(p-m,v+m),new Te(l+m,c+m),new Te(f-m,h-m),new Te(a+m,o-m)]:[new Te(p+m,v+m),new Te(l+m,c-m),new Te(f-m,h+m),new Te(a-m,o-m)]},t.prototype.containsBlackPoint=function(e,n,r,i){var a=this.image;if(i){for(var o=e;o<=n;o++)if(a.get(o,r))return!0}else for(var l=e;l<=n;l++)if(a.get(r,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),VO=(function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<n.length&&a;o+=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new oe;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}a=!0;for(var o=n.length-2;o>=0&&a;o-=2){var l=Math.floor(n[o]),c=Math.floor(n[o+1]);if(l<-1||l>r||c<-1||c>i)throw new oe;a=!1,l===-1?(n[o]=0,a=!0):l===r&&(n[o]=r-1,a=!0),c===-1?(n[o+1]=0,a=!0):c===i&&(n[o+1]=i-1,a=!0)}},t})(),MM=(function(){function t(e,n,r,i,a,o,l,c,f){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,n,r,i,a,o,l,c,f,h,p,v,m,b,w,A){var S=t.quadrilateralToSquare(e,n,r,i,a,o,l,c),I=t.squareToQuadrilateral(f,h,p,v,m,b,w,A);return I.times(S)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=0;v<n;v+=2){var m=e[v],b=e[v+1],w=a*m+c*b+p;e[v]=(r*m+o*b+f)/w,e[v+1]=(i*m+l*b+h)/w}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,f=this.a31,h=this.a32,p=this.a33,v=e.length,m=0;m<v;m++){var b=e[m],w=n[m],A=a*b+c*w+p;e[m]=(r*b+o*w+f)/A,n[m]=(i*b+l*w+h)/A}},t.squareToQuadrilateral=function(e,n,r,i,a,o,l,c){var f=e-r+a-l,h=n-i+o-c;if(f===0&&h===0)return new t(r-e,a-r,e,i-n,o-i,n,0,0,1);var p=r-a,v=l-a,m=i-o,b=c-o,w=p*b-v*m,A=(f*b-v*h)/w,S=(p*h-f*m)/w;return new t(r-e+A*r,l-e+S*l,e,i-n+A*i,c-n+S*c,n,A,S,1)},t.quadrilateralToSquare=function(e,n,r,i,a,o,l,c){return t.squareToQuadrilateral(e,n,r,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),RY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),PY=(function(t){RY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,a,o,l,c,f,h,p,v,m,b,w,A,S,I,O,N){var k=MM.quadrilateralToQuadrilateral(a,o,l,c,f,h,p,v,m,b,w,A,S,I,O,N);return this.sampleGridWithTransform(n,r,i,k)},e.prototype.sampleGridWithTransform=function(n,r,i,a){if(r<=0||i<=0)throw new oe;for(var o=new vo(r,i),l=new Float32Array(2*r),c=0;c<i;c++){for(var f=l.length,h=c+.5,p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=h;a.transformPoints(l),VO.checkAndNudgePoints(n,l);try{for(var p=0;p<f;p+=2)n.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,c)}catch{throw new oe}}return o},e})(VO),tA=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new PY,t})(),oi=(function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),NY=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new OY(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,a=0;a<4;a++){var o=r[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(a,o,l){var c=(a>>n-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ye.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var a=r-i,o=new Int32Array(r),l=r-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new hm(ci.AZTEC_PARAM);c.decode(o,a)}catch{throw new oe}for(var f=0,l=0;l<i;l++)f=(f<<4)+o[l];return f},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(n,o,1,-1),c=this.getFirstDifferent(r,o,1,1),f=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(l,c,f,h))break}n=l,r=c,i=f,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var v=new Te(n.getX()+.5,n.getY()-.5),m=new Te(r.getX()+.5,r.getY()+.5),b=new Te(i.getX()-.5,i.getY()+.5),w=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([v,m,b,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var a=new jb(this.image).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new oi(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new oi(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new oi(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oi(o-7,l-7),!1,-1,-1).toResultPoint()}var c=vt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=vt.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var a=new jb(this.image,15,c,f).detect();e=a[0],n=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new oi(c+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new oi(c+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new oi(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oi(c-7,f-7),!1,-1,-1).toResultPoint()}return c=vt.round((e.getX()+i.getX()+n.getX()+r.getX())/4),f=vt.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new oi(c,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,a){var o=tA.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,a=this.distanceResultPoint(e,n),o=a/r,l=e.getX(),c=e.getY(),f=o*(n.getX()-e.getX())/a,h=o*(n.getY()-e.getY())/a,p=0;p<r;p++)this.image.get(vt.round(l+p*f),vt.round(c+p*h))&&(i|=1<<r-p-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var a=3;e=new oi(e.getX()-a,e.getY()+a),n=new oi(n.getX()-a,n.getY()-a),r=new oi(r.getX()+a,r.getY()-a),i=new oi(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,n);return l!==o||(l=this.getColor(n,r),l!==o)?!1:(l=this.getColor(r,i),l===o)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,a=(n.getY()-e.getY())/r,o=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)l+=i,c+=a,this.image.get(vt.round(l),vt.round(c))!==f&&o++;var v=o/r;return v>.1&&v<.9?0:v<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var a=e.getX()+r,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r,o+=i;for(a-=r,o-=i;this.isValid(a,o)&&this.image.get(a,o)===n;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===n;)o+=i;return o-=i,new oi(a,o)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Te(l+i*a,c+i*o),h=new Te(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Te(l+i*a,c+i*o),v=new Te(l-i*a,c-i*o),m=[f,p,h,v];return m},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=vt.round(e.getX()),r=vt.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return vt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return vt.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},t})(),Lb=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new NY(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new FO().decode(l)}catch(p){r=p}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(n,a),o=new FO().decode(l)}catch(p){throw r??p}var c=new Vr(o.getText(),o.getRawBytes(),o.getNumBits(),a,ke.AZTEC,qt.currentTimeMillis()),f=o.getByteSegments();f!=null&&c.putMetadata(Cr.BYTE_SEGMENTS,f);var h=o.getECLevel();return h!=null&&c.putMetadata(Cr.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(nn.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,a,o){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),DY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){DY(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Lb,n)||this}return e})($f);var Yn=(function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(nn.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,n),o=a.getResultMetadata(),l=270;o!==null&&o.get(Cr.ORIENTATION)===!0&&(l=l+o.get(Cr.ORIENTATION)%360),a.putMetadata(Cr.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),h=0;h<c.length;h++)c[h]=new Te(f-c[h].getY()-1,c[h].getX());return a}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),a=new ur(r),o=n&&n.get(nn.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var f=Math.trunc(i/2),h=0;h<c;h++){var p=Math.trunc((h+1)/2),v=(h&1)===0,m=f+l*(v?p:-p);if(m<0||m>=i)break;try{a=e.getBlackRow(m,a)}catch{continue}for(var b=function(I){if(I===1&&(a.reverse(),n&&n.get(nn.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;n.forEach(function(B,P){return O.set(P,B)}),O.delete(nn.NEED_RESULT_POINT_CALLBACK),n=O}try{var N=w.decodeRow(m,a,n);if(I===1){N.putMetadata(Cr.ORIENTATION,180);var k=N.getResultPoints();k!==null&&(k[0]=new Te(r-k[0].getX()-1,k[0].getY()),k[1]=new Te(r-k[1].getX()-1,k[1].getY()))}return{value:N}}catch{}},w=this,A=0;A<2;A++){var S=b(A);if(typeof S=="object")return S.value}}throw new oe},t.recordPattern=function(e,n,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var o=e.getSize();if(n>=o)throw new oe;for(var l=!e.get(n),c=0,f=n;f<o;){if(e.get(f)!==l)r[c]++;else{if(++c===i)break;r[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===o))throw new oe},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,a=e.get(n);n>0&&i>=0;)e.get(--n)!==a&&(i--,a=!a);if(i>=0)throw new oe;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;r*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=n[h]*c,m=p>v?p-v:v-p;if(m>r)return Number.POSITIVE_INFINITY;f+=m}return f/a},t})(),MY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),zO=(function(t){MY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,h=i;h<r;h++)if(n.get(h)!==c)o[a]++;else{if(a===f-1){for(var p=e.MAX_AVG_VARIANCE,v=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var b=Yn.patternMatchVariance(o,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);b<p&&(p=b,v=m)}if(v>=0&&n.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,v]);l+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new oe},e.decodeCode=function(n,r,i){Yn.recordPattern(n,i,r);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=l)}if(o>=0)return o;throw new oe},e.prototype.decodeRow=function(n,r,i){var a=i&&i.get(nn.ASSUME_GS1)===!0,o=e.findStartPattern(r),l=o[2],c=0,f=new Uint8Array(20);f[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new me}for(var p=!1,v=!1,m="",b=o[0],w=o[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,I=0,O=l,N=0,k=!0,B=!1,P=!1;!p;){var M=v;switch(v=!1,S=I,I=e.decodeCode(r,A,w),f[c++]=I,I!==e.CODE_STOP&&(k=!0),I!==e.CODE_STOP&&(N++,O+=N*I),b=w,w+=A.reduce(function(re,de){return re+de},0),I){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(h){case e.CODE_CODE_A:if(I<64)P===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),P=!1;else if(I<96)P===B?m+=String.fromCharCode(I-64):m+=String.fromCharCode(I+64),P=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&P?(B=!0,P=!1):B&&P?(B=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(I<96)P===B?m+=String.fromCharCode(32+I):m+=String.fromCharCode(32+I+128),P=!1;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&P?(B=!0,P=!1):B&&P?(B=!1,P=!1):P=!0;break;case e.CODE_SHIFT:v=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(I<100)I<10&&(m+="0"),m+=I;else switch(I!==e.CODE_STOP&&(k=!1),I){case e.CODE_FNC_1:a&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}M&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=w-b;if(w=r.getNextUnset(w),!r.isRange(w,Math.min(r.getSize(),w+(w-b)/2),!1))throw new oe;if(O-=N*S,O%103!==S)throw new lr;var z=m.length;if(z===0)throw new oe;z>0&&k&&(h===e.CODE_CODE_C?m=m.substring(0,z-2):m=m.substring(0,z-1));for(var U=(o[1]+o[0])/2,H=b+j/2,F=f.length,pe=new Uint8Array(F),_e=0;_e<F;_e++)pe[_e]=f[_e];var X=[new Te(U,n),new Te(H,n)];return new Vr(m,pe,0,X,ke.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Yn),kY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),v2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HO=(function(t){kY(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,f),p=r.getNextSet(h[1]),v=r.getSize(),m,b;do{e.recordPattern(r,p,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new oe;m=e.patternToChar(w),this.decodeRowResult+=m,b=p;try{for(var A=(a=void 0,v2(f)),S=A.next();!S.done;S=A.next()){var I=S.value;p+=I}}catch(F){a={error:F}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=v2(f),k=N.next();!k.done;k=N.next()){var I=k.value;O+=I}}catch(F){l={error:F}}finally{try{k&&!k.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}var B=p-b-O;if(p!==v&&B*2<O)throw new oe;if(this.usingCheckDigit){for(var P=this.decodeRowResult.length-1,M=0,j=0;j<P;j++)M+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(P)!==e.ALPHABET_STRING.charAt(M%43))throw new lr;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new oe;var z;this.extendedMode?z=e.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;var U=(h[1]+h[0])/2,H=b+O/2;return new Vr(z,null,0,[new Te(U,n),new Te(H,n)],ke.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),a=n.getNextSet(0),o=0,l=a,c=!1,f=r.length,h=a;h<i;h++)if(n.get(h)!==c)r[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,c=!c}throw new oe},e.toNarrowWidePattern=function(n){var r,i,a=n.length,o=0,l;do{var c=2147483647;try{for(var f=(r=void 0,v2(n)),h=f.next();!h.done;h=f.next()){var p=h.value;p<c&&p>o&&(c=p)}}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}o=c,l=0;for(var v=0,m=0,b=0;b<a;b++){var p=n[b];p>o&&(m|=1<<a-1-b,l++,v+=p)}if(l===3){for(var b=0;b<a&&l>0;b++){var p=n[b];if(p>o&&(l--,p*2>=v))return-1}return m}}while(l>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=n.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new me;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new me;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Yn),jY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),m2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$O=(function(t){jY(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.findAsteriskPattern(r),h=r.getNextSet(f[1]),p=r.getSize(),v=this.counters;v.fill(0),this.decodeRowResult="";var m,b;do{e.recordPattern(r,h,v);var w=this.toPattern(v);if(w<0)throw new oe;m=this.patternToChar(w),this.decodeRowResult+=m,b=h;try{for(var A=(a=void 0,m2(v)),S=A.next();!S.done;S=A.next()){var I=S.value;h+=I}}catch(j){a={error:j}}finally{try{S&&!S.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var N=m2(v),k=N.next();!k.done;k=N.next()){var I=k.value;O+=I}}catch(j){l={error:j}}finally{try{k&&!k.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}if(h===p||!r.get(h))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),P=(f[1]+f[0])/2,M=b+O/2;return new Vr(B,null,0,[new Te(P,n),new Te(M,n)],ke.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,l=!1,c=a.length,f=0,h=i;h<r;h++)if(n.get(h)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new oe},e.prototype.toPattern=function(n){var r,i,a=0;try{for(var o=m2(n),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(b){r={error:b}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}for(var f=0,h=n.length,p=0;p<h;p++){var v=Math.round(n[p]*9/a);if(v<1||v>4)return-1;if((p&1)===0)for(var m=0;m<v;m++)f=f<<1|1;else f<<=v}return f},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new oe},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",a=0;a<r;a++){var o=n.charAt(a);if(o>="a"&&o<="d"){if(a>=r-1)throw new me;var l=n.charAt(a+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new me;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new me;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new me;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new me;break}i+=c,a++}else i+=o}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var a=1,o=0,l=r-1;l>=0;l--)o+=a*e.ALPHABET_STRING.indexOf(n.charAt(l)),++a>i&&(a=1);if(n.charAt(r)!==e.ALPHABET_STRING[o%47])throw new lr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Yn),LY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qO=(function(t){LY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var a,o,l=this.decodeStart(r),c=this.decodeEnd(r),f=new Xe;e.decodeMiddle(r,l[1],c[0],f);var h=f.toString(),p=null;i!=null&&(p=i.get(nn.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var v=h.length,m=!1,b=0;try{for(var w=BY(p),A=w.next();!A.done;A=w.next()){var S=A.value;if(v===S){m=!0;break}S>b&&(b=S)}}catch(N){a={error:N}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m&&v>b&&(m=!0),!m)throw new me;var I=[new Te(l[1],n),new Te(c[0],n)],O=new Vr(h,null,0,I,ke.ITF,new Date().getTime());return O},e.decodeMiddle=function(n,r,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);r<i;){Yn.recordPattern(n,r,o);for(var f=0;f<5;f++){var h=2*f;l[f]=o[h],c[f]=o[h+1]}var p=e.decodeDigit(l);a.append(p.toString()),p=this.decodeDigit(c),a.append(p.toString()),o.forEach(function(v){r+=v})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!n.get(a);a--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new oe;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof oe&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var a=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-a,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var a=i.length,o=new Int32Array(a),l=n.getSize(),c=!1,f=0,h=r;o.fill(0);for(var p=r;p<l;p++)if(n.get(p)!==c)o[f]++;else{if(f===a-1){if(Yn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=o[0]+o[1],qt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,c=!c}throw new oe},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Yn.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=o):c===r&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Yn),UY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Af=(function(t){UY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,a=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(r=n.isRange(c,l,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,a){return this.findGuardPattern(n,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(n,r,i,a,o){var l=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var c=0,f=r,h=a.length,p=i,v=r;v<l;v++)if(n.get(v)!==p)o[c]++;else{if(c===h-1){if(Yn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,v]);f+=o[0]+o[1];for(var m=o.slice(2,o.length),b=0;b<c-1;b++)o[b]=m[b];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new oe},e.decodeDigit=function(n,r,i,a){this.recordPattern(n,i,r);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var h=a[f],p=Yn.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Yn),FY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VY=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],f=new Vr(o,null,0,c,ke.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,h=0;h<5&&c<l;h++){var p=Af.decodeDigit(e,o,c,Af.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,FY(o)),m=v.next();!m.done;m=v.next()){var b=m.value;c+=b}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new oe;var w=this.determineCheckDigit(f);if(t.extensionChecksum(r.toString())!==w)throw new oe;return c},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Cr.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,o=a<10?"0"+a:a.toString();return n+i+"."+o},t})(),zY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HY=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(n,r,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],f=new Vr(o,null,0,c,ke.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},t.prototype.decodeMiddle=function(e,n,r){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=n[1],f=0,h=0;h<2&&c<l;h++){var p=Af.decodeDigit(e,o,c,Af.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var v=(i=void 0,zY(o)),m=v.next();!m.done;m=v.next()){var b=m.value;c+=b}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new oe;if(parseInt(r.toString())%4!==f)throw new oe;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Cr.ISSUE_NUMBER,parseInt(e)]])},t})(),$Y=(function(){function t(){}return t.decodeRow=function(e,n,r){var i=Af.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new VY;return a.decodeRow(e,n,i)}catch{var o=new HY;return o.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),qY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Gn=(function(t){qY(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[r]=a}return n}return e.prototype.decodeRow=function(n,r,i){var a=e.findStartGuardPattern(r),o=i==null?null:i.get(nn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Te((a[0]+a[1])/2,n);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(o!=null){var p=new Te(f,n);o.foundPossibleResultPoint(p)}var v=e.decodeEnd(r,f);if(o!=null){var m=new Te((v[0]+v[1])/2,n);o.foundPossibleResultPoint(m)}var b=v[1],w=b+(b-v[0]);if(w>=r.getSize()||!r.isRange(b,w,!1))throw new oe;var A=h.toString();if(A.length<8)throw new me;if(!e.checkChecksum(A))throw new lr;var S=(a[1]+a[0])/2,I=(v[1]+v[0])/2,O=this.getBarcodeFormat(),N=[new Te(S,n),new Te(I,n)],k=new Vr(A,null,0,N,O,new Date().getTime()),B=0;try{var P=$Y.decodeRow(n,r,v[1]);k.putMetadata(Cr.UPC_EAN_EXTENSION,P.getText()),k.putAllMetadata(P.getResultMetadata()),k.addResultPoints(P.getResultPoints()),B=P.getText().length}catch{}var M=i==null?null:i.get(nn.ALLOWED_EAN_EXTENSIONS);if(M!=null){var j=!1;for(var z in M)if(B.toString()===z){j=!0;break}if(!j)throw new oe}return O===ke.EAN_13||ke.UPC_A,k},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,a=r-1;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}i*=3;for(var a=r-2;a>=0;a-=2){var o=n.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new me;i+=o}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Af),GY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),GO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bb=(function(t){GY(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=n.getSize(),p=r[1],v=0,m=0;m<6&&p<h;m++){var b=Gn.decodeDigit(n,f,p,Gn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+b%10);try{for(var w=(a=void 0,GO(f)),A=w.next();!A.done;A=w.next()){var S=A.value;p+=S}}catch(k){a={error:k}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}b>=10&&(v|=1<<5-m)}i=e.determineFirstDigit(i,v);var I=Gn.findGuardPattern(n,p,!0,Gn.MIDDLE_PATTERN,new Int32Array(Gn.MIDDLE_PATTERN.length).fill(0));p=I[1];for(var m=0;m<6&&p<h;m++){var b=Gn.decodeDigit(n,f,p,Gn.L_PATTERNS);i+=String.fromCharCode(48+b);try{for(var O=(l=void 0,GO(f)),N=O.next();!N.done;N=O.next()){var S=N.value;p+=S}}catch(P){l={error:P}}finally{try{N&&!N.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Gn),WY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),WO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KO=(function(t){WY(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var h=n.getSize(),p=r[1],v=0;v<4&&p<h;v++){var m=Gn.decodeDigit(n,f,p,Gn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var b=(a=void 0,WO(f)),w=b.next();!w.done;w=b.next()){var A=w.value;p+=A}}catch(N){a={error:N}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}}var S=Gn.findGuardPattern(n,p,!0,Gn.MIDDLE_PATTERN,new Int32Array(Gn.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var v=0;v<4&&p<h;v++){var m=Gn.decodeDigit(n,f,p,Gn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var I=(l=void 0,WO(f)),O=I.next();!O.done;O=I.next()){var A=O.value;p+=A}}catch(B){l={error:B}}finally{try{O&&!O.done&&(c=I.return)&&c.call(I)}finally{if(l)throw l.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_8},e})(Gn),KY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),XO=(function(t){KY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new Bb,n}return e.prototype.getBarcodeFormat=function(){return ke.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new Vr(r.substring(1),null,null,n.getResultPoints(),ke.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Gn),XY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YO=(function(t){XY(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var a,o,l=this.decodeMiddleCounters.map(function(A){return A});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=n.getSize(),f=r[1],h=0,p=0;p<6&&f<c;p++){var v=e.decodeDigit(n,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var m=(a=void 0,YY(l)),b=m.next();!b.done;b=m.next()){var w=b.value;f+=w}}catch(A){a={error:A}}finally{try{b&&!b.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Xe(i),h),f},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return Gn.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){n.insert(0,"0"+i),n.append("0"+a);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ke.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Xe;i.append(n.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Gn),QY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y2=(function(t){QY(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(nn.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(ke.EAN_13)>-1&&a.push(new Bb),i.indexOf(ke.UPC_A)>-1&&a.push(new XO),i.indexOf(ke.EAN_8)>-1&&a.push(new KO),i.indexOf(ke.UPC_E)>-1&&a.push(new YO)),a.length===0&&(a.push(new Bb),a.push(new XO),a.push(new KO),a.push(new YO)),r.readers=a,r}return e.prototype.decodeRow=function(n,r,i){var a,o;try{for(var l=QO(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var h=f.decodeRow(n,r,i),p=h.getBarcodeFormat()===ke.EAN_13&&h.getText().charAt(0)==="0",v=i==null?null:i.get(nn.POSSIBLE_FORMATS),m=v==null||v.includes(ke.UPC_A);if(p&&m){var b=h.getRawBytes(),w=new Vr(h.getText().substring(1),b,b?b.length:null,h.getResultPoints(),ke.UPC_A);return w.putAllMetadata(h.getResultMetadata()),w}return h}catch{}}}catch(A){a={error:A}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new oe},e.prototype.reset=function(){var n,r;try{for(var i=QO(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e})(Yn),ZY=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),JY=(function(t){ZY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var a=this.getValidRowData(r);if(!a)throw new oe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new oe;return new Vr(o,null,0,[new Te(a.left,n),new Te(a.right,n)],ke.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var o=[],l=r[0],c=1,f=1;f<r.length;f++)r[f]===l?c++:(l=r[f],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(c,f){return(c+f)/2},0));n.length>0;){var a=n.splice(0,8).splice(0,7),o=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[o])}var l=r.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e})(Yn),eQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wu=(function(t){eQ(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(Yn.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(n){return vt.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]>a&&(a=r[o],i=o);n[i]++},e.decrement=function(n,r){for(var i=0,a=r[0],o=1;o<n.length;o++)r[o]<a&&(a=r[o],i=o);n[i]--},e.isFinderPattern=function(n){var r,i,a=n[0]+n[1],o=a+n[2]+n[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var h=tQ(n),p=h.next();!p.done;p=h.next()){var v=p.value;v>f&&(f=v),v<c&&(c=v)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Yn),zg=(function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),kM=(function(){function t(e,n,r,i,a){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Te(r,a)),this.resultPoints.push(new Te(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t})(),nQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},af=(function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,a,o=0;try{for(var l=nQ(e),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(I){i={error:I}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var h=0,p=0,v=e.length,m=0;m<v-1;m++){var b=void 0;for(b=1,p|=1<<m;b<e[m];b++,p&=~(1<<m)){var w=t.combins(o-b-1,v-m-2);if(r&&p===0&&o-b-(v-m-1)>=v-m-1&&(w-=t.combins(o-b-(v-m),v-m-2)),v-m-1>1){for(var A=0,S=o-b-(v-m-2);S>n;S--)A+=t.combins(o-b-S-1,v-m-3);w-=A*(v-1-m)}else o-b>n&&w--;h+=w}o-=b}return h},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var a=1,o=1,l=e;l>r;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),rQ=(function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new ur(r),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],h=f.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var v=f.getRightChar().getValue(),p=11;p>=0;--p)(v&1<<p)!==0&&i.set(a),a++}return i},t})(),yu=(function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),nA=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),iQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Sa=(function(t){iQ(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(nA),aQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),xu=(function(t){aQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(nA),oQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Zc=(function(t){oQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new me;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(nA),N1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sQ=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,a,o,l,c,f;if(!e)return null;if(e.length<2)throw new oe;var h=e.substring(0,2);try{for(var p=N1(t.TWO_DIGIT_DATA_LENGTH),v=p.next();!v.done;v=p.next()){var m=v.value;if(m[0]===h)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,m[2],e):t.processFixedAI(2,m[1],e)}}catch(B){n={error:B}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}if(e.length<3)throw new oe;var b=e.substring(0,3);try{for(var w=N1(t.THREE_DIGIT_DATA_LENGTH),A=w.next();!A.done;A=w.next()){var m=A.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,m[2],e):t.processFixedAI(3,m[1],e)}}catch(B){i={error:B}}finally{try{A&&!A.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var S=N1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var m=I.value;if(m[0]===b)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(e.length<4)throw new oe;var O=e.substring(0,4);try{for(var N=N1(t.FOUR_DIGIT_DATA_LENGTH),k=N.next();!k.done;k=N.next()){var m=k.value;if(m[0]===O)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(B){c={error:B}}finally{try{k&&!k.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}throw new oe},t.processFixedAI=function(e,n,r){if(r.length<e)throw new oe;var i=r.substring(0,e);if(r.length<e+n)throw new oe;var a=r.substring(e,e+n),o=r.substring(e+n),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),a;r.length<e+n?a=r.length:a=e+n;var o=r.substring(e,a),l=r.substring(a),c="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),fg=(function(){function t(e){this.buffer=new Xe,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var a=this.decodeGeneralPurposeField(r,i),o=sQ.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new Zc(this.information.getSize(),Zc.FNC1,Zc.FNC1):new Zc(this.information.getSize(),n-1,Zc.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Zc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,a=0;a<r;++a)e.get(n+a)&&(i|=1<<r-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new xu(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new xu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new xu(this.current.getPosition(),this.buffer.toString()):n=new xu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new yu(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new xu(this.current.getPosition(),this.buffer.toString());return new yu(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new xu(this.current.getPosition(),this.buffer.toString());return new yu(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new xu(this.current.getPosition(),this.buffer.toString());return new yu(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Sa(e+5,Sa.FNC1);if(n>=5&&n<15)return new Sa(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Sa(e+7,""+(r+1));if(r>=90&&r<116)return new Sa(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new me}return new Sa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Sa(e+5,Sa.FNC1);if(n>=5&&n<15)return new Sa(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Sa(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Sp("Decoding invalid alphanumeric value: "+r)}return new Sa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t})(),jM=(function(){function t(e){this.information=e,this.generalDecoder=new fg(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),lQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ca=(function(t){lQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,a=0;a<13;a++){var o=n.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e})(jM),uQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cQ=(function(t){uQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Ca),fQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dQ=(function(t){fQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Xe;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(jM),hQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),dg=(function(t){hQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&n.append("0"),l/=10;n.append(o)},e})(Ca),pQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),LM=(function(t){pQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+dg.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+dg.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(dg),gQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vQ=(function(t){gQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e})(LM),mQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),yQ=(function(t){mQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e})(LM),xQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_Q=(function(t){xQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ca.GTIN_SIZE)throw new oe;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ca.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ca.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Ca),bQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),wQ=(function(t){bQ(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ca.GTIN_SIZE)throw new oe;var n=new Xe;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ca.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ca.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ca.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Ca),EQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Js=(function(t){EQ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var n=new Xe;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&n.append("0"),n.append(l),o/10===0&&n.append("0"),n.append(o),a/10===0&&n.append("0"),n.append(a)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(dg);function AQ(t){try{if(t.get(1))return new cQ(t);if(!t.get(2))return new dQ(t);var e=fg.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new vQ(t);case 5:return new yQ(t)}var n=fg.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new _Q(t);case 13:return new wQ(t)}var r=fg.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new Js(t,"310","11");case 57:return new Js(t,"320","11");case 58:return new Js(t,"310","13");case 59:return new Js(t,"320","13");case 60:return new Js(t,"310","15");case 61:return new Js(t,"320","15");case 62:return new Js(t,"310","17");case 63:return new Js(t,"320","17")}}catch(i){throw console.log(i),new Sp("unknown decoder: "+t)}}var ZO=(function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),SQ=(function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,a){n.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}},t})(),TQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),el=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CQ=(function(t){TQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new oe},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,a,o=r;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,el(n)),f=c.next();!f.done;f=c.next()){var h=f.value;this.pairs.push(h.getPairs())}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(n);p.push(l);try{return this.checkRows(p,o+1)}catch(v){console.log(v)}}}throw new oe},e.isValidSequence=function(n){var r,i;try{for(var a=el(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(n.length>l.length)){for(var c=!0,f=0;f<n.length;f++)if(n[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(h){r={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>n){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new SQ(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,a,o,l,c,f;try{for(var h=el(r),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.getPairs().length!==n.length){var m=!0;try{for(var b=(o=void 0,el(v.getPairs())),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var I=(c=void 0,el(n)),O=I.next();!O.done;O=I.next()){var N=O.value;if(ZO.equals(A,N)){S=!0;break}}}catch(k){c={error:k}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}S||(m=!1)}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}}}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,a,o,l,c,f;try{for(var h=el(r),p=h.next();!p.done;p=h.next()){var v=p.value,m=!0;try{for(var b=(o=void 0,el(n)),w=b.next();!w.done;w=b.next()){var A=w.value,S=!1;try{for(var I=(c=void 0,el(v.getPairs())),O=I.next();!O.done;O=I.next()){var N=O.value;if(A.equals(N)){S=!0;break}}}catch(k){c={error:k}}finally{try{O&&!O.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(k){o={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(m)return!0}}catch(k){i={error:k}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=rQ.buildBitArray(n),i=AQ(r),a=i.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),l=n[n.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new Vr(a,null,null,c,ke.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(n,r,c),o=this.parseFoundFinderPattern(n,i,a),o===null?c=e.getNextSecondBar(n,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(n,o,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new oe;var h;try{h=this.decodeDataCharacter(n,o,a,!1)}catch(p){h=null,console.log(p)}return new ZO(f,h,o,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=n.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(r))l=0;else{var c=r[r.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var h=!1;l<o&&(h=!n.get(l),!!h);)l++;for(var p=0,v=l,m=l;m<o;m++)if(n.get(m)!==h)a[p]++;else{if(p===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=v,this.startEnd[1]=m;return}f&&e.reverseCounters(a),v+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new oe},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var a=n[i];n[i]=n[r-i-1],n[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(n,r,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!n.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=n.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();qt.arraycopy(f,0,f,1,f.length-1),f[0]=a;var h;try{h=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new kM(h,[o,l],o,l,r)},e.prototype.decodeDataCharacter=function(n,r,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(n,r.getStartEnd()[0],o);else{e.recordPattern(n,r.getStartEnd()[1],o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}var p=17,v=vt.sum(new Int32Array(o))/p,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(v-m)/m>.3)throw new oe;for(var b=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=1*o[c]/v,O=I+.5;if(O<1){if(I<.3)throw new oe;O=1}else if(O>8){if(I>8.7)throw new oe;O=8}var N=c/2;(c&1)===0?(b[N]=O,A[N]=I-O):(w[N]=O,S[N]=I-O)}this.adjustOddEvenCounts(p);for(var k=4*r.getValue()+(i?0:2)+(a?0:1)-1,B=0,P=0,c=b.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*c];P+=b[c]*M}B+=b[c]}for(var j=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var M=e.WEIGHTS[k][2*c+1];j+=w[c]*M}var z=P+j;if((B&1)!==0||B>13||B<4)throw new oe;var U=(13-B)/2,H=e.SYMBOL_WIDEST[U],F=9-H,pe=af.getRSSvalue(b,H,!0),_e=af.getRSSvalue(w,F,!1),X=e.EVEN_TOTAL_SUBSET[U],re=e.GSUM[U],de=pe*X+_e+re;return new zg(de,z)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=vt.sum(new Int32Array(this.getOddCounts())),i=vt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=r+i-n,h=(r&1)===1,p=(i&1)===0;if(f===1)if(h){if(p)throw new oe;o=!0}else{if(!p)throw new oe;c=!0}else if(f===-1)if(h){if(p)throw new oe;a=!0}else{if(!p)throw new oe;l=!0}else if(f===0){if(h){if(!p)throw new oe;r<i?(a=!0,c=!0):(o=!0,l=!0)}else if(p)throw new oe}else throw new oe;if(a){if(o)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(wu),IQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),OQ=(function(t){IQ(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(zg),RQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),x2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JO=(function(t){RQ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var a,o,l,c,f=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var h=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=x2(this.possibleLeftPairs),v=p.next();!v.done;v=p.next()){var m=v.value;if(m.getCount()>1)try{for(var b=(l=void 0,x2(this.possibleRightPairs)),w=b.next();!w.done;w=b.next()){var A=w.value;if(A.getCount()>1&&e.checkChecksum(m,A))return e.constructResult(m,A)}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}throw new oe},e.addOrTally=function(n,r){var i,a;if(r!=null){var o=!1;try{for(var l=x2(n),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===r.getValue()){f.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),a=new String(i).toString(),o=new Xe,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var f=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),o.append(c.toString());var h=n.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Vr(o.toString(),null,0,[h[0],h[1],p[0],p[1]],ke.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(n,r,i,a){try{var o=this.findFinderPattern(n,r),l=this.parseFoundFinderPattern(n,i,r,o),c=a==null?null:a.get(nn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(o[0]+o[1])/2;r&&(f=n.getSize()-1-f),c.foundPossibleResultPoint(new Te(f,i))}var h=this.decodeDataCharacter(n,l,!0),p=this.decodeDataCharacter(n,l,!1);return new OQ(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Yn.recordPatternInReverse(n,r.getStartEnd()[0],a);else{Yn.recordPattern(n,r.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var h=i?16:15,p=vt.sum(new Int32Array(a))/h,v=this.getOddCounts(),m=this.getEvenCounts(),b=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var A=a[l]/p,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var I=Math.floor(l/2);(l&1)===0?(v[I]=S,b[I]=A-S):(m[I]=S,w[I]=A-S)}this.adjustOddEvenCounts(i,h);for(var O=0,N=0,l=v.length-1;l>=0;l--)N*=9,N+=v[l],O+=v[l];for(var k=0,B=0,l=m.length-1;l>=0;l--)k*=9,k+=m[l],B+=m[l];var P=N+3*k;if(i){if((O&1)!==0||O>12||O<4)throw new oe;var M=(12-O)/2,j=e.OUTSIDE_ODD_WIDEST[M],z=9-j,U=af.getRSSvalue(v,j,!1),H=af.getRSSvalue(m,z,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[M],pe=e.OUTSIDE_GSUM[M];return new zg(U*F+H+pe,P)}else{if((B&1)!==0||B>10||B<4)throw new oe;var M=(10-B)/2,j=e.INSIDE_ODD_WIDEST[M],z=9-j,U=af.getRSSvalue(v,j,!0),H=af.getRSSvalue(m,z,!1),_e=e.INSIDE_ODD_TOTAL_SUBSET[M],pe=e.INSIDE_GSUM[M];return new zg(H*_e+U+pe,P)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=n.getSize(),o=!1,l=0;l<a&&(o=!n.get(l),r!==o);)l++;for(var c=0,f=l,h=l;h<a;h++)if(n.get(h)!==o)i[c]++;else{if(c===3){if(wu.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new oe},e.prototype.parseFoundFinderPattern=function(n,r,i,a){for(var o=n.get(a[0]),l=a[0]-1;l>=0&&o!==n.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);qt.arraycopy(f,0,h,1,f.length-1),h[0]=c;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),v=l,m=a[1];return i&&(v=n.getSize()-1-v,m=n.getSize()-1-m),new kM(p,[l,a[1]],v,m,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=vt.sum(new Int32Array(this.getOddCounts())),a=vt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,f=!1;n?(i>12?l=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(c=!0));var h=i+a-r,p=(i&1)===(n?1:0),v=(a&1)===1;if(h===1)if(p){if(v)throw new oe;l=!0}else{if(!v)throw new oe;f=!0}else if(h===-1)if(p){if(v)throw new oe;o=!0}else{if(!v)throw new oe;c=!0}else if(h===0){if(p){if(!v)throw new oe;i<a?(o=!0,f=!0):(l=!0,c=!0)}else if(v)throw new oe}else throw new oe;if(o){if(l)throw new oe;wu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&wu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new oe;wu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&wu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(wu),PQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Th=(function(t){PQ(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(nn.POSSIBLE_FORMATS):null,a=n&&n.get(nn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(nn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ke.EAN_13)||i.includes(ke.UPC_A)||i.includes(ke.EAN_8)||i.includes(ke.UPC_E))&&r.readers.push(new y2(n)),i.includes(ke.CODE_39)&&r.readers.push(new HO(a,o)),i.includes(ke.CODE_93)&&r.readers.push(new $O),i.includes(ke.CODE_128)&&r.readers.push(new zO),i.includes(ke.ITF)&&r.readers.push(new qO),i.includes(ke.CODABAR)&&r.readers.push(new JY),i.includes(ke.RSS_14)&&r.readers.push(new JO),i.includes(ke.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new CQ))),r.readers.length===0&&(r.readers.push(new y2(n)),r.readers.push(new HO),r.readers.push(new $O),r.readers.push(new y2(n)),r.readers.push(new zO),r.readers.push(new qO),r.readers.push(new JO)),r}return e.prototype.decodeRow=function(n,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e})(Yn),NQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){NQ(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new Th(r),n,r)||this}return e})($f);var e6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et=(function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),bt=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),DQ=(function(){function t(e,n,r,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,h=o.getECCodewords(),p=o.getECBlocks();try{for(var v=e6(p),m=v.next();!m.done;m=v.next()){var b=m.value;f+=b.getCount()*(b.getDataCodewords()+h)}}catch(w){l={error:w}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if((e&1)!==0||(n&1)!==0)throw new me;try{for(var a=e6(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===n)return l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Et(5,new bt(1,3))),new t(2,12,12,10,10,new Et(7,new bt(1,5))),new t(3,14,14,12,12,new Et(10,new bt(1,8))),new t(4,16,16,14,14,new Et(12,new bt(1,12))),new t(5,18,18,16,16,new Et(14,new bt(1,18))),new t(6,20,20,18,18,new Et(18,new bt(1,22))),new t(7,22,22,20,20,new Et(20,new bt(1,30))),new t(8,24,24,22,22,new Et(24,new bt(1,36))),new t(9,26,26,24,24,new Et(28,new bt(1,44))),new t(10,32,32,14,14,new Et(36,new bt(1,62))),new t(11,36,36,16,16,new Et(42,new bt(1,86))),new t(12,40,40,18,18,new Et(48,new bt(1,114))),new t(13,44,44,20,20,new Et(56,new bt(1,144))),new t(14,48,48,22,22,new Et(68,new bt(1,174))),new t(15,52,52,24,24,new Et(42,new bt(2,102))),new t(16,64,64,14,14,new Et(56,new bt(2,140))),new t(17,72,72,16,16,new Et(36,new bt(4,92))),new t(18,80,80,18,18,new Et(48,new bt(4,114))),new t(19,88,88,20,20,new Et(56,new bt(4,144))),new t(20,96,96,22,22,new Et(68,new bt(4,174))),new t(21,104,104,24,24,new Et(56,new bt(6,136))),new t(22,120,120,18,18,new Et(68,new bt(6,175))),new t(23,132,132,20,20,new Et(62,new bt(8,163))),new t(24,144,144,22,22,new Et(62,new bt(8,156),new bt(2,155))),new t(25,8,18,6,16,new Et(7,new bt(1,5))),new t(26,8,32,6,14,new Et(11,new bt(1,10))),new t(27,12,26,10,24,new Et(14,new bt(1,16))),new t(28,12,36,10,16,new Et(18,new bt(1,22))),new t(29,16,36,14,16,new Et(24,new bt(1,32))),new t(30,16,48,14,22,new Et(28,new bt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),MQ=(function(){function t(e){var n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new vo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return DQ.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,h=!1;do if(r===a&&i===0&&!l)e[n++]=this.readCorner1(a,o)&255,r-=2,i+=2,l=!0;else if(r===a-2&&i===0&&(o&3)!==0&&!c)e[n++]=this.readCorner2(a,o)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(o&7)===0&&!f)e[n++]=this.readCorner3(a,o)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(o&7)===4&&!h)e[n++]=this.readCorner4(a,o)&255,r-=2,i+=2,h=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r-=2,i+=2;while(r>=0&&i<o);r+=1,i+=3;do r>=0&&i<o&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,a,o)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<o);if(n!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var a=0;return this.readModule(e-2,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,n,r,i)&&(a|=1),a<<=1,this.readModule(e,n-2,r,i)&&(a|=1),a<<=1,this.readModule(e,n-1,r,i)&&(a|=1),a<<=1,this.readModule(e,n,r,i)&&(a|=1),a},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new je("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=n/i|0,l=r/a|0,c=o*i,f=l*a,h=new vo(f,c),p=0;p<o;++p)for(var v=p*i,m=0;m<l;++m)for(var b=m*a,w=0;w<i;++w)for(var A=p*(i+2)+1+w,S=v+w,I=0;I<a;++I){var O=m*(a+2)+1+I;if(e.get(O,A)){var N=b+I;h.set(N,S)}}return h},t})(),t6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kQ=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,a,o,l=n.getECBlocks(),c=0,f=l.getECBlocks();try{for(var h=t6(f),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getCount()}}catch(pe){r={error:pe}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var m=new Array(c),b=0;try{for(var w=t6(f),A=w.next();!A.done;A=w.next())for(var v=A.value,S=0;S<v.getCount();S++){var I=v.getDataCodewords(),O=l.getECCodewords()+I;m[b++]=new t(I,new Uint8Array(O))}}catch(pe){a={error:pe}}finally{try{A&&!A.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var N=m[0].codewords.length,k=N-l.getECCodewords(),B=k-1,P=0,S=0;S<B;S++)for(var M=0;M<b;M++)m[M].codewords[S]=e[P++];for(var j=n.getVersionNumber()===24,z=j?8:b,M=0;M<z;M++)m[M].codewords[k-1]=e[P++];for(var U=m[0].codewords.length,S=k;S<U;S++)for(var M=0;M<b;M++){var H=j?(M+8)%b:M,F=j&&H>7?S-1:S;m[H].codewords[F]=e[P++]}if(P!==e.length)throw new je;return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),BM=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new je(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var o=8-r,l=e<o?e:o,c=o-l,f=255>>8-l<<c;n=(a[i]&f)>>c,e-=l,r+=l,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;n=n<<e|(a[i]&f)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),$n;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})($n||($n={}));var jQ=(function(){function t(){}return t.decode=function(e){var n=new BM(e),r=new Xe,i=new Xe,a=new Array,o=$n.ASCII_ENCODE;do if(o===$n.ASCII_ENCODE)o=this.decodeAsciiSegment(n,r,i);else{switch(o){case $n.C40_ENCODE:this.decodeC40Segment(n,r);break;case $n.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case $n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case $n.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case $n.BASE256_ENCODE:this.decodeBase256Segment(n,r,a);break;default:throw new me}o=$n.ASCII_ENCODE}while(o!==$n.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new dm(e,r.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new me;if(a<=128)return i&&(a+=128),n.append(String.fromCharCode(a-1)),$n.ASCII_ENCODE;if(a===129)return $n.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&n.append("0"),n.append(""+o)}else switch(a){case 230:return $n.C40_ENCODE;case 231:return $n.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return $n.ANSIX12_ENCODE;case 239:return $n.TEXT_ENCODE;case 240:return $n.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return $n.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:r?(n.append(String.fromCharCode(c+224)),r=!1):n.append(String.fromCharCode(c+96)),a=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(c+128)),r=!1):n.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(c){case 27:n.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),a=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var o=r[a];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new me;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new me;l[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(l);try{n.append(la.decode(l,ft.ISO88591))}catch(f){throw new Sp("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),LQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BQ=(function(){function t(){this.rsDecoder=new hm(ci.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new MQ(e),a=i.getVersion(),o=i.readCodewords(),l=kQ.getDataBlocks(o,a),c=0;try{for(var f=LQ(l),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getNumDataCodewords()}}catch(O){n={error:O}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}for(var v=new Uint8Array(c),m=l.length,b=0;b<m;b++){var w=l[b],A=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(A,S);for(var I=0;I<S;I++)v[I*m+b]=A[I]}return jQ.decode(v)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new lr}for(var i=0;i<n;i++)e[i]=r[i]},t})(),UQ=(function(){function t(e){this.image=e,this.rectangleDetector=new jb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new oe;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],a=n[2],o=n[3],l=this.transitionsBetween(r,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=t.sampleGrid(this.image,r,i,a,o,l,c);return new eA(f,[r,i,a,o])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),a=(n.getY()-e.getY())/(r+1);return new Te(e.getX()+i,e.getY()+a)},t.moveAway=function(e,n,r){var i=e.getX(),a=e.getY();return i<n?i-=1:i+=1,a<r?a-=1:a+=1,new Te(i,a)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],a=e[2],o=this.transitionsBetween(n,r),l=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,n),h=o,p=[a,n,r,i];return h>l&&(h=l,p[0]=n,p[1]=r,p[2]=i,p[3]=a),h>c&&(h=c,p[0]=r,p[1]=i,p[2]=a,p[3]=n),h>f&&(p[0]=i,p[1]=a,p[2]=n,p[3]=r),p},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=t.shiftPoint(r,i,(o+1)*4),c=t.shiftPoint(i,r,(o+1)*4),f=this.transitionsBetween(l,n),h=this.transitionsBetween(c,a);return f<h?(e[0]=n,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a),l=this.transitionsBetween(r,a),c=t.shiftPoint(n,r,(l+1)*4),f=t.shiftPoint(i,r,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var h=new Te(a.getX()+(i.getX()-r.getX())/(o+1),a.getY()+(i.getY()-r.getY())/(o+1)),p=new Te(a.getX()+(n.getX()-r.getX())/(l+1),a.getY()+(n.getY()-r.getY())/(l+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var v=this.transitionsBetween(c,h)+this.transitionsBetween(f,h),m=this.transitionsBetween(c,p)+this.transitionsBetween(f,p);return v>m?h:p},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],a=e[3],o=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(n,r,l*4),f=t.shiftPoint(i,r,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var h=(n.getX()+r.getX()+i.getX()+a.getX())/4,p=(n.getY()+r.getY()+i.getY()+a.getY())/4;n=t.moveAway(n,h,p),r=t.moveAway(r,h,p),i=t.moveAway(i,h,p),a=t.moveAway(a,h,p);var v,m;return c=t.shiftPoint(n,r,l*4),c=t.shiftPoint(c,a,o*4),v=t.shiftPoint(r,n,l*4),v=t.shiftPoint(v,i,o*4),f=t.shiftPoint(i,a,l*4),f=t.shiftPoint(f,r,o*4),m=t.shiftPoint(a,i,l*4),m=t.shiftPoint(m,n,o*4),[c,v,f,m]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,a,o,l){var c=tA.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(n.getX()),o=Math.trunc(n.getY()),l=Math.abs(o-i)>Math.abs(a-r);if(l){var c=r;r=i,i=c,c=a,a=o,o=c}for(var f=Math.abs(a-r),h=Math.abs(o-i),p=-f/2,v=i<o?1:-1,m=r<a?1:-1,b=0,w=this.image.get(l?i:r,l?r:i),A=r,S=i;A!==a;A+=m){var I=this.image.get(l?S:A,l?A:S);if(I!==w&&(b++,w=I),p+=h,p>0){if(S===o)break;S+=v,p-=f}}return b},t})(),Ub=(function(){function t(){this.decoder=new BQ}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(nn.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new UQ(e.getBlackMatrix()).detect();r=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=r.getRawBytes(),c=new Vr(r.getText(),l,8*l.length,i,ke.DATA_MATRIX,qt.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(Cr.BYTE_SEGMENTS,f);var h=r.getECLevel();return h!=null&&c.putMetadata(Cr.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new oe;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0],f=(c-l+1)/i,h=(o-a+1)/i;if(f<=0||h<=0)throw new oe;var p=i/2;a+=p,l+=p;for(var v=new vo(f,h),m=0;m<h;m++)for(var b=a+m*i,w=0;w<f;w++)e.get(l+w*i,b)&&v.set(w,m);return v},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],a=e[1];i<r&&n.get(i,a);)i++;if(i===r)throw new oe;var o=i-e[0];if(o===0)throw new oe;return o},t.NO_POINTS=[],t})(),FQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){FQ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Ub,n)||this}return e})($f);var of;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(of||(of={}));var VQ=(function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ta(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new je;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(of.L,"L",1),t.M=new t(of.M,"M",0),t.Q=new t(of.Q,"Q",3),t.H=new t(of.H,"H",2),t})(),zQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UM=(function(){function t(e){this.errorCorrectionLevel=VQ.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return Ye.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=zQ(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,h=f[0];if(h===e||h===n)return new t(f[1]);var p=t.numBitsDiffering(e,h);p<a&&(o=f[1],a=p),e!==n&&(p=t.numBitsDiffering(n,h),p<a&&(o=f[1],a=p))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),HQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=(function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var a=HQ(i),o=a.next();!o.done;o=a.next()){var l=o.value;r+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),$=(function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),$Q=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lu=(function(){function t(e,n){for(var r,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var h=$Q(f),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new je;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=UM.numBitsDiffering(e,a);o<n&&(r=i+7,n=o)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new vo(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<r;o++)i===0&&(o===0||o===r-1)||i===r-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new $(1,19)),new Q(10,new $(1,16)),new Q(13,new $(1,13)),new Q(17,new $(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new $(1,34)),new Q(16,new $(1,28)),new Q(22,new $(1,22)),new Q(28,new $(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new $(1,55)),new Q(26,new $(1,44)),new Q(18,new $(2,17)),new Q(22,new $(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new $(1,80)),new Q(18,new $(2,32)),new Q(26,new $(2,24)),new Q(16,new $(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new $(1,108)),new Q(24,new $(2,43)),new Q(18,new $(2,15),new $(2,16)),new Q(22,new $(2,11),new $(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new $(2,68)),new Q(16,new $(4,27)),new Q(24,new $(4,19)),new Q(28,new $(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new $(2,78)),new Q(18,new $(4,31)),new Q(18,new $(2,14),new $(4,15)),new Q(26,new $(4,13),new $(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new $(2,97)),new Q(22,new $(2,38),new $(2,39)),new Q(22,new $(4,18),new $(2,19)),new Q(26,new $(4,14),new $(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new $(2,116)),new Q(22,new $(3,36),new $(2,37)),new Q(20,new $(4,16),new $(4,17)),new Q(24,new $(4,12),new $(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new $(2,68),new $(2,69)),new Q(26,new $(4,43),new $(1,44)),new Q(24,new $(6,19),new $(2,20)),new Q(28,new $(6,15),new $(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new $(4,81)),new Q(30,new $(1,50),new $(4,51)),new Q(28,new $(4,22),new $(4,23)),new Q(24,new $(3,12),new $(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new $(2,92),new $(2,93)),new Q(22,new $(6,36),new $(2,37)),new Q(26,new $(4,20),new $(6,21)),new Q(28,new $(7,14),new $(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new $(4,107)),new Q(22,new $(8,37),new $(1,38)),new Q(24,new $(8,20),new $(4,21)),new Q(22,new $(12,11),new $(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new $(3,115),new $(1,116)),new Q(24,new $(4,40),new $(5,41)),new Q(20,new $(11,16),new $(5,17)),new Q(24,new $(11,12),new $(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new $(5,87),new $(1,88)),new Q(24,new $(5,41),new $(5,42)),new Q(30,new $(5,24),new $(7,25)),new Q(24,new $(11,12),new $(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new $(5,98),new $(1,99)),new Q(28,new $(7,45),new $(3,46)),new Q(24,new $(15,19),new $(2,20)),new Q(30,new $(3,15),new $(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new $(1,107),new $(5,108)),new Q(28,new $(10,46),new $(1,47)),new Q(28,new $(1,22),new $(15,23)),new Q(28,new $(2,14),new $(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new $(5,120),new $(1,121)),new Q(26,new $(9,43),new $(4,44)),new Q(28,new $(17,22),new $(1,23)),new Q(28,new $(2,14),new $(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new $(3,113),new $(4,114)),new Q(26,new $(3,44),new $(11,45)),new Q(26,new $(17,21),new $(4,22)),new Q(26,new $(9,13),new $(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new $(3,107),new $(5,108)),new Q(26,new $(3,41),new $(13,42)),new Q(30,new $(15,24),new $(5,25)),new Q(28,new $(15,15),new $(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new $(4,116),new $(4,117)),new Q(26,new $(17,42)),new Q(28,new $(17,22),new $(6,23)),new Q(30,new $(19,16),new $(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new $(2,111),new $(7,112)),new Q(28,new $(17,46)),new Q(30,new $(7,24),new $(16,25)),new Q(24,new $(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new $(4,121),new $(5,122)),new Q(28,new $(4,47),new $(14,48)),new Q(30,new $(11,24),new $(14,25)),new Q(30,new $(16,15),new $(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new $(6,117),new $(4,118)),new Q(28,new $(6,45),new $(14,46)),new Q(30,new $(11,24),new $(16,25)),new Q(30,new $(30,16),new $(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new $(8,106),new $(4,107)),new Q(28,new $(8,47),new $(13,48)),new Q(30,new $(7,24),new $(22,25)),new Q(30,new $(22,15),new $(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new $(10,114),new $(2,115)),new Q(28,new $(19,46),new $(4,47)),new Q(28,new $(28,22),new $(6,23)),new Q(30,new $(33,16),new $(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new $(8,122),new $(4,123)),new Q(28,new $(22,45),new $(3,46)),new Q(30,new $(8,23),new $(26,24)),new Q(30,new $(12,15),new $(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new $(3,117),new $(10,118)),new Q(28,new $(3,45),new $(23,46)),new Q(30,new $(4,24),new $(31,25)),new Q(30,new $(11,15),new $(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new $(7,116),new $(7,117)),new Q(28,new $(21,45),new $(7,46)),new Q(30,new $(1,23),new $(37,24)),new Q(30,new $(19,15),new $(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new $(5,115),new $(10,116)),new Q(28,new $(19,47),new $(10,48)),new Q(30,new $(15,24),new $(25,25)),new Q(30,new $(23,15),new $(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new $(13,115),new $(3,116)),new Q(28,new $(2,46),new $(29,47)),new Q(30,new $(42,24),new $(1,25)),new Q(30,new $(23,15),new $(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new $(17,115)),new Q(28,new $(10,46),new $(23,47)),new Q(30,new $(10,24),new $(35,25)),new Q(30,new $(19,15),new $(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new $(17,115),new $(1,116)),new Q(28,new $(14,46),new $(21,47)),new Q(30,new $(29,24),new $(19,25)),new Q(30,new $(11,15),new $(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new $(13,115),new $(6,116)),new Q(28,new $(14,46),new $(23,47)),new Q(30,new $(44,24),new $(7,25)),new Q(30,new $(59,16),new $(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new $(12,121),new $(7,122)),new Q(28,new $(12,47),new $(26,48)),new Q(30,new $(39,24),new $(14,25)),new Q(30,new $(22,15),new $(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new $(6,121),new $(14,122)),new Q(28,new $(6,47),new $(34,48)),new Q(30,new $(46,24),new $(10,25)),new Q(30,new $(2,15),new $(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new $(17,122),new $(4,123)),new Q(28,new $(29,46),new $(14,47)),new Q(30,new $(49,24),new $(10,25)),new Q(30,new $(24,15),new $(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new $(4,122),new $(18,123)),new Q(28,new $(13,46),new $(32,47)),new Q(30,new $(48,24),new $(14,25)),new Q(30,new $(42,15),new $(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new $(20,117),new $(4,118)),new Q(28,new $(40,47),new $(7,48)),new Q(30,new $(43,24),new $(22,25)),new Q(30,new $(10,15),new $(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new $(19,118),new $(6,119)),new Q(28,new $(18,47),new $(31,48)),new Q(30,new $(34,24),new $(34,25)),new Q(30,new $(20,15),new $(61,16)))],t})(),ir;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ir||(ir={}));var n6=(function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[ir.DATA_MASK_000,new t(ir.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[ir.DATA_MASK_001,new t(ir.DATA_MASK_001,function(e,n){return(e&1)===0})],[ir.DATA_MASK_010,new t(ir.DATA_MASK_010,function(e,n){return n%3===0})],[ir.DATA_MASK_011,new t(ir.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[ir.DATA_MASK_100,new t(ir.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[ir.DATA_MASK_101,new t(ir.DATA_MASK_101,function(e,n){return e*n%6===0})],[ir.DATA_MASK_110,new t(ir.DATA_MASK_110,function(e,n){return e*n%6<3})],[ir.DATA_MASK_111,new t(ir.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t})(),qQ=(function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,r=i-1;r>=o;r--)a=this.copyBit(8,r,a);for(var n=i-8;n<i;n++)a=this.copyBit(n,8,a);if(this.parsedFormatInfo=UM.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Lu.getVersionForNumber(n);for(var r=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,a,r);var l=Lu.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;r=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)r=this.copyBit(o,a,r);if(l=Lu.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new me},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=n6.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=n.buildFunctionPattern(),o=!0,l=new Uint8Array(n.getTotalCodewords()),c=0,f=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var v=0;v<i;v++)for(var m=o?i-1-v:v,b=0;b<2;b++)a.get(p-b,m)||(h++,f<<=1,this.bitMatrix.get(p-b,m)&&(f|=1),h===8&&(l[c++]=f,h=0,f=0));o=!o}if(c!==n.getTotalCodewords())throw new me;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=n6.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,a=e.getHeight();i<a;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t})(),r6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GQ=(function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,a,o,l;if(e.length!==n.getTotalCodewords())throw new je;var c=n.getECBlocksForLevel(r),f=0,h=c.getECBlocks();try{for(var p=r6(h),v=p.next();!v.done;v=p.next()){var m=v.value;f+=m.getCount()}}catch(F){i={error:F}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var b=new Array(f),w=0;try{for(var A=r6(h),S=A.next();!S.done;S=A.next())for(var m=S.value,I=0;I<m.getCount();I++){var O=m.getDataCodewords(),N=c.getECCodewordsPerBlock()+O;b[w++]=new t(O,new Uint8Array(N))}}catch(F){o={error:F}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}for(var k=b[0].codewords.length,B=b.length-1;B>=0;){var P=b[B].codewords.length;if(P===k)break;B--}B++;for(var M=k-c.getECCodewordsPerBlock(),j=0,I=0;I<M;I++)for(var z=0;z<w;z++)b[z].codewords[I]=e[j++];for(var z=B;z<w;z++)b[z].codewords[M]=e[j++];for(var U=b[0].codewords.length,I=M;I<U;I++)for(var z=0;z<w;z++){var H=z<B?I:I+1;b[z].codewords[H]=e[j++]}return b},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),ta;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ta||(ta={}));var Yt=(function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new je;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ta.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ta.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ta.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ta.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ta.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ta.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ta.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ta.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ta.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ta.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),WQ=(function(){function t(){}return t.decode=function(e,n,r,i){var a=new BM(e),o=new Xe,l=new Array,c=-1,f=-1;try{var h=null,p=!1,v=void 0;do{if(a.available()<4)v=Yt.TERMINATOR;else{var m=a.readBits(4);v=Yt.forBits(m)}switch(v){case Yt.TERMINATOR:break;case Yt.FNC1_FIRST_POSITION:case Yt.FNC1_SECOND_POSITION:p=!0;break;case Yt.STRUCTURED_APPEND:if(a.available()<16)throw new me;c=a.readBits(8),f=a.readBits(8);break;case Yt.ECI:var b=t.parseECIValue(a);if(h=Kn.getCharacterSetECIByValue(b),h===null)throw new me;break;case Yt.HANZI:var w=a.readBits(4),A=a.readBits(v.getCharacterCountBits(n));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,A);break;default:var S=a.readBits(v.getCharacterCountBits(n));switch(v){case Yt.NUMERIC:t.decodeNumericSegment(a,o,S);break;case Yt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,S,p);break;case Yt.BYTE:t.decodeByteSegment(a,o,S,h,l,i);break;case Yt.KANJI:t.decodeKanjiSegment(a,o,S);break;default:throw new me}break}}while(v!==Yt.TERMINATOR)}catch{throw new me}return new dm(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),c,f)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,r--}try{n.append(la.decode(i,ft.GB2312))}catch(c){throw new me(c)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,r--}try{n.append(la.decode(i,ft.SHIFT_JIS))}catch(c){throw new me(c)}},t.decodeByteSegment=function(e,n,r,i,a,o){if(8*r>e.available())throw new me;for(var l=new Uint8Array(r),c=0;c<r;c++)l[c]=e.readBits(8);var f;i===null?f=ft.guessEncoding(l,o):f=i.getName();try{n.append(la.decode(l,f))}catch(h){throw new me(h)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var a=n.length();r>1;){if(e.available()<11)throw new me;var o=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(o/45))),n.append(t.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new me;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new me;var a=e.readBits(7);if(a>=100)throw new me;n.append(t.toAlphaNumericChar(Math.floor(a/10))),n.append(t.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new me;var o=e.readBits(4);if(o>=10)throw new me;n.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),FM=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t})(),i6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KQ=(function(){function t(){this.rsDecoder=new hm(ci.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(vo.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new qQ(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,n);return a.setOther(new FM(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),h=GQ.getDataBlocks(f,l,c),p=0;try{for(var v=i6(h),m=v.next();!m.done;m=v.next()){var b=m.value;p+=b.getNumDataCodewords()}}catch(B){r={error:B}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}var w=new Uint8Array(p),A=0;try{for(var S=i6(h),I=S.next();!I.done;I=S.next()){var b=I.value,O=b.getCodewords(),N=b.getNumDataCodewords();this.correctErrors(O,N);for(var k=0;k<N;k++)w[A++]=O[k]}}catch(B){a={error:B}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}return WQ.decode(w,l,c,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new lr}for(var i=0;i<n;i++)e[i]=r[i]},t})(),XQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),YQ=(function(t){XQ(e,t);function e(n,r,i){var a=t.call(this,n,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=(this.getX()+r)/2,o=(this.getY()+n)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Te),QQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZQ=(function(){function t(e,n,r,i,a,o,l){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,a=this.startY+n/2,o=new Int32Array(3),l=this.image,c=0;c<n;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!l.get(h,f);)h++;for(var p=0;h<i;){if(l.get(h,f))if(p===1)o[1]++;else if(p===2){if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,h);if(v!==null)return v}o[0]=o[2],o[1]=1,o[2]=0,p=1}else o[++p]++;else p===1&&p++,o[p]++;h++}if(this.foundPatternCross(o)){var v=this.handlePossibleCenter(o,f,i);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&!a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c)&&l[1]<=r;)l[1]++,c++;if(c===o||l[1]>r)return NaN;for(;c<o&&!a.get(n,c)&&l[2]<=r;)l[2]++,c++;if(l[2]>r)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,r),c=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var h=QQ(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value;if(v.aboutEquals(f,c,l))return v.combineEstimate(c,l,f)}}catch(b){i={error:b}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var m=new YQ(l,c,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},t})(),JQ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),eZ=(function(t){JQ(e,t);function e(n,r,i,a){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var a=this.count+1,o=(this.count*this.getX()+r)/a,l=(this.count*this.getY()+n)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Te),tZ=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),lh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nZ=(function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(nn.TRY_HARDER)!==void 0,r=e!=null&&e.get(nn.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||n)&&(l=t.MIN_SKIP);for(var c=!1,f=new Int32Array(5),h=l-1;h<a&&!c;h+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,v=0;v<o;v++)if(i.get(v,h))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,v,r);if(m===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(h+=b-f[2]-l,v=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(t.foundPatternCross(f)){var m=this.handlePossibleCenter(f,h,o,r);m===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Te.orderBestPatterns(w),new tZ(w)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var a=n/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&n>=o&&l.get(n-o,e-o);)a[2]++,o++;if(e<o||n<o)return!1;for(;e>=o&&n>=o&&!l.get(n-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||n<o||a[1]>r)return!1;for(;e>=o&&n>=o&&l.get(n-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;var c=l.getHeight(),f=l.getWidth();for(o=1;e+o<c&&n+o<f&&l.get(n+o,e+o);)a[2]++,o++;if(e+o>=c||n+o>=f)return!1;for(;e+o<c&&n+o<f&&!l.get(n+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=c||n+o>=f||a[3]>=r)return!1;for(;e+o<c&&n+o<f&&l.get(n+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(n,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(n,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(n,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(n,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(n,c)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(n,c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,n);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,n)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(c,n)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<o&&a.get(c,n);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,n)&&l[3]<r;)l[3]++,c++;if(c===o||l[3]>=r)return NaN;for(;c<o&&a.get(c,n)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,f=!1,h=this.possibleCenters,p=0,v=h.length;p<v;p++){var m=h[p];if(m.aboutEquals(c,l,o)){h[p]=m.combineEstimate(l,o,c),f=!0;break}}if(!f){var b=new eZ(o,l,c);h.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=lh(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=lh(this.possibleCenters),f=c.next();!f.done;f=c.next()){var h=f.value;h.getCount()>=t.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var p=o/l,v=0;try{for(var m=lh(this.possibleCenters),b=m.next();!b.done;b=m.next()){var h=b.value;v+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(w){r={error:w}}finally{try{b&&!b.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return v<=.05*o},t.prototype.selectBestPatterns=function(){var e,n,r,i,a=this.possibleCenters.length;if(a<3)throw new oe;var o=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var h=lh(this.possibleCenters),p=h.next();!p.done;p=h.next()){var v=p.value,m=v.getEstimatedModuleSize();c+=m,f+=m*m}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}l=c/a;var b=Math.sqrt(f/a-l*l);o.sort(function(k,B){var P=Math.abs(B.getEstimatedModuleSize()-l),M=Math.abs(k.getEstimatedModuleSize()-l);return P<M?-1:P>M?1:0});for(var w=Math.max(.2*l,b),A=0;A<o.length&&o.length>3;A++){var S=o[A];Math.abs(S.getEstimatedModuleSize()-l)>w&&(o.splice(A,1),A--)}}if(o.length>3){var c=0;try{for(var I=lh(o),O=I.next();!O.done;O=I.next()){var N=O.value;c+=N.getEstimatedModuleSize()}}catch(B){r={error:B}}finally{try{O&&!O.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}l=c/o.length,o.sort(function(B,P){if(P.getCount()===B.getCount()){var M=Math.abs(P.getEstimatedModuleSize()-l),j=Math.abs(B.getEstimatedModuleSize()-l);return M<j?1:M>j?-1:0}else return P.getCount()-B.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),rZ=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(nn.NEED_RESULT_POINT_CALLBACK);var n=new nZ(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(n,r,i);if(a<1)throw new oe("No pattern found in proccess finder.");var o=t.computeDimension(n,r,i,a),l=Lu.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var h=r.getX()-n.getX()+i.getX(),p=r.getY()-n.getY()+i.getY(),v=1-3/c,m=Math.floor(n.getX()+v*(h-n.getX())),b=Math.floor(n.getY()+v*(p-n.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,m,b,w);break}catch(O){if(!(O instanceof oe))throw O}var A=t.createTransform(n,r,i,f,o),S=t.sampleGrid(this.image,A,o),I;return f===null?I=[i,n,r]:I=[i,n,r,f],new eA(S,I)},t.createTransform=function(e,n,r,i,a){var o=a-3.5,l,c,f,h;return i!==null?(l=i.getX(),c=i.getY(),f=o-3,h=f):(l=n.getX()-e.getX()+r.getX(),c=n.getY()-e.getY()+r.getY(),f=o,h=o),MM.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,h,3.5,o,e.getX(),e.getY(),n.getX(),n.getY(),l,c,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=tA.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var a=vt.round(Te.distance(e,n)/i),o=vt.round(Te.distance(e,r)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new oe("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,n,r,i),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(n-(i-n)*o);return o=1,c<0?(o=n/(n-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(c-n),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,n,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var a=Math.abs(i-n)>Math.abs(r-e);if(a){var o=e;e=n,n=o,o=r,r=i,i=o}for(var l=Math.abs(r-e),c=Math.abs(i-n),f=-l/2,h=e<r?1:-1,p=n<i?1:-1,v=0,m=r+h,b=e,w=n;b!==m;b+=h){var A=a?w:b,S=a?b:w;if(v===1===this.image.get(A,S)){if(v===2)return vt.distance(b,w,e,n);v++}if(f+=c,f>0){if(w===i)break;w+=p,f-=l}}return v===2?vt.distance(r+h,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var a=Math.floor(i*e),o=Math.max(0,n-a),l=Math.min(this.image.getWidth()-1,n+a);if(l-o<e*3)throw new oe("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-c<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var h=new ZQ(this.image,o,c,l-o,f-c,e,this.resultPointCallback);return h.find()},t})(),Fb=(function(){function t(){this.decoder=new KQ}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(nn.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,n),i=t.NO_POINTS}else{var o=new rZ(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(o.getBits(),n),i=o.getPoints()}r.getOther()instanceof FM&&r.getOther().applyMirroredCorrection(i);var l=new Vr(r.getText(),r.getRawBytes(),void 0,i,ke.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(Cr.BYTE_SEGMENTS,c);var f=r.getECLevel();return f!==null&&l.putMetadata(Cr.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(l.putMetadata(Cr.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(Cr.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new oe;var i=this.moduleSize(n,e),a=n[1],o=r[1],l=n[0],c=r[0];if(l>=c||a>=o)throw new oe;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new oe;var f=Math.round((c-l+1)/i),h=Math.round((o-a+1)/i);if(f<=0||h<=0)throw new oe;if(h!==f)throw new oe;var p=Math.floor(i/2);a+=p,l+=p;var v=l+Math.floor((f-1)*i)-c;if(v>0){if(v>p)throw new oe;l-=v}var m=a+Math.floor((h-1)*i)-o;if(m>0){if(m>p)throw new oe;a-=m}for(var b=new vo(f,h),w=0;w<h;w++)for(var A=a+Math.floor(w*i),S=0;S<f;S++)e.get(l+Math.floor(S*i),A)&&b.set(S,w);return b},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<r;){if(l!==n.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===r)throw new oe;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),iZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ht=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return vt.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=iZ(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=Xn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),aZ=(function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),oZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sZ=(function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),a=t.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(r,i)),new aZ(i,a)},t.detect=function(e,n){for(var r,i,a=new Array,o=0,l=0,c=!1;o<n.getHeight();){var f=t.findVertices(n,o,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(r=void 0,oZ(a)),p=h.next();!p.done;p=h.next()){var v=p.value;v[1]!=null&&(o=Math.trunc(Math.max(o,v[1].getY()))),v[3]!=null&&(o=Math.max(o,Math.trunc(v[3].getY())))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,n,r){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,a,o){for(var l=new Array(4),c=!1,f=new Int32Array(o.length);i<n;i+=t.ROW_STEP){var h=t.findGuardPattern(e,a,i,r,!1,o,f);if(h!=null){for(;i>0;){var p=t.findGuardPattern(e,a,--i,r,!1,o,f);if(p!=null)h=p;else{i++;break}}l[0]=new Te(h[0],i),l[1]=new Te(h[1],i),c=!0;break}}var v=i+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);v<n;v++){var h=t.findGuardPattern(e,p[0],v,r,!1,o,f);if(h!=null&&Math.abs(p[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<t.MAX_PATTERN_DRIFT)p=h,m=0;else{if(m>t.SKIPPED_ROW_COUNT_MAX)break;m++}}v-=m+1,l[2]=new Te(p[0],v),l[3]=new Te(p[1],v)}return v-i<t.BARCODE_MIN_HEIGHT&&Xn.fill(l,null),l},t.findGuardPattern=function(e,n,r,i,a,o,l){Xn.fillWithin(l,0,l.length,0);for(var c=n,f=0;e.get(c,r)&&c>0&&f++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,p=0,v=o.length,m=a;h<i;h++){var b=e.get(h,r);if(b!==m)l[p]++;else{if(p===v-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],qt.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,m=!m}}return p===v-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=n[l];if(a<o)return 1/0;var c=a/o;r*=c;for(var f=0,h=0;h<i;h++){var p=e[h],v=n[h]*c,m=p>v?p-v:v-p;if(m>r)return 1/0;f+=m}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),lZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iu=(function(){function t(e,n){if(n.length===0)throw new je;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),qt.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=lZ(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,h=1;h<f;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new je("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var a=new Int32Array(r.length),o=r.length-n.length;qt.arraycopy(r,0,a,0,o);for(var l=o;l<r.length;l++)a[l]=this.field.add(n[l-o],r[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new je("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new je("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,a=i.length,o=new Int32Array(r+a-1),l=0;l<r;l++)for(var c=n[l],f=0;f<a;f++)o[l+f]=this.field.add(o[l+f],this.field.multiply(c,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new je;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Xe,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t})(),uZ=(function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new je;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new DM;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),cZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fZ=(function(t){cZ(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var a=1,o=0;o<n;o++)i.expTable[o]=a,a=a*r%n;for(var o=0;o<n-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Iu(i,new Int32Array([0])),i.one=new Iu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new je;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new Iu(this,i)},e.PDF417_GF=new e(ht.NUMBER_OF_CODEWORDS,3),e})(uZ),dZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hZ=(function(){function t(){this.field=fZ.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,a,o=new Iu(this.field,e),l=new Int32Array(n),c=!1,f=n;f>0;f--){var h=o.evaluateAt(this.field.exp(f));l[n-f]=h,h!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(r!=null)try{for(var v=dZ(r),m=v.next();!m.done;m=v.next()){var b=m.value,w=this.field.exp(e.length-1-b),A=new Iu(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(A)}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}for(var S=new Iu(this.field,l),I=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),S,n),O=I[0],N=I[1],k=this.findErrorLocations(O),B=this.findErrorMagnitudes(N,O,k),f=0;f<k.length;f++){var P=e.length-1-this.field.log(k[f]);if(P<0)throw lr.getChecksumInstance();e[P]=this.field.subtract(e[P],B[f])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var a=e,o=n,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(r/2);){var f=a,h=l;if(a=o,l=c,a.isZero())throw lr.getChecksumInstance();o=f;for(var p=this.field.getZero(),v=a.getCoefficient(a.getDegree()),m=this.field.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var b=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),m);p=p.add(this.field.buildMonomial(b,w)),o=o.subtract(a.multiplyByMonomial(b,w))}c=p.multiply(l).subtract(h).negative()}var A=c.getCoefficient(0);if(A===0)throw lr.getChecksumInstance();var S=this.field.inverse(A),I=c.multiply(S),O=o.multiply(S);return[I,O]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,a=1;a<this.field.getSize()&&i<n;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==n)throw lr.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,n.getCoefficient(o));for(var l=new Iu(this.field,a),c=r.length,f=new Int32Array(c),o=0;o<c;o++){var h=this.field.inverse(r[o]),p=this.field.subtract(0,e.evaluateAt(h)),v=this.field.inverse(l.evaluateAt(h));f[o]=this.field.multiply(p,v)}return f},t})(),Vb=(function(){function t(e,n,r,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,a)}return t.prototype.constructor_1=function(e,n,r,i,a){var o=n==null||r==null,l=i==null||a==null;if(o&&l)throw new oe;o?(n=new Te(0,i.getY()),r=new Te(0,a.getY())):l&&(i=new Te(e.getWidth()-1,n.getY()),a=new Te(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var h=new Te(c.getX(),f);r?i=h:o=h}if(n>0){var p=r?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);var m=new Te(p.getX(),v);r?a=m:l=m}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),pZ=(function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),rA=(function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(o,l,c,f,h,p){if(o==="%%")return"%";if(n[++r]!==void 0){o=f?parseInt(f.substr(1)):void 0;var v=h?parseInt(h.substr(1)):void 0,m;switch(p){case"s":m=n[r];break;case"c":m=n[r][0];break;case"f":m=parseFloat(n[r]).toFixed(o);break;case"p":m=parseFloat(n[r]).toPrecision(o);break;case"e":m=parseFloat(n[r]).toExponential(o);break;case"x":m=parseInt(n[r]).toString(v||16);break;case"d":m=parseFloat(parseInt(n[r],v||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(v);for(var b=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<b;)m=l!==void 0?m+w:w+m;return m}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t})(),gZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VM=(function(){function t(e){this.boundingBox=new Vb(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new rA,i=0;try{for(var a=gZ(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),vZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mZ=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Ch=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,a=function(p,v){var m={getKey:function(){return p},getValue:function(){return v}};m.getValue()>r?(r=m.getValue(),i=[],i.push(m.getKey())):m.getValue()===r&&i.push(m.getKey())};try{for(var o=vZ(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=mZ(l.value,2),f=c[0],h=c[1];a(f,h)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return ht.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),yZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a6=(function(t){yZ(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=_2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,h=1,p=0,v=l;v<c;v++)if(r[v]!=null){var m=r[v],b=m.getRowNumber()-f;if(b===0)p++;else if(b===1)h=Math.max(h,p),p=1,f=m.getRowNumber();else if(b<0||m.getRowNumber()>=n.getRowCount()||b>v)r[v]=null;else{var w=void 0;h>2?w=(h-2)*b:w=b;for(var A=w>=v,S=1;S<=w&&!A;S++)A=r[v-S]!=null;A?r[v]=null:(f=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=_2(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,h=o;h<l;h++)if(c[h]!=null){var p=c[h];p.setRowNumberAsRowIndicatorColumn();var v=p.getRowNumber()-f;v===0||(v===1?f=p.getRowNumber():p.getRowNumber()>=n.getRowCount()?c[h]=null:f=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),a=new Ch,o=new Ch,l=new Ch,c=new Ch;try{for(var f=_2(i),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var v=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:o.setValue(v*3+1);break;case 1:c.setValue(v/3),l.setValue(v%3);break;case 2:a.setValue(v+1);break}}}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<ht.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>ht.MAX_ROWS_IN_BARCODE)return null;var b=new pZ(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,b),b},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var a=n[i];if(n[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(o/3)!==r.getErrorCorrectionLevel()||o%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:o+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(VM),xZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_Z=(function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ht.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=r[n],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[n],f[3]=c[n],n>0&&(f[0]=r[n-1],f[4]=l[n-1],f[5]=c[n-1]),n>1&&(f[8]=r[n-2],f[10]=l[n-2],f[11]=c[n-2]),n<r.length-1&&(f[1]=r[n+1],f[6]=l[n+1],f[7]=c[n+1]),n<r.length-2&&(f[9]=r[n+2],f[12]=l[n+2],f[13]=c[n+2]);try{for(var h=xZ(f),p=h.next();!p.done;p=h.next()){var v=p.value;if(t.adjustRowNumber(o,v))return}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new rA,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()},t})(),bZ=(function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),wZ=(function(){function t(){}return t.initialize=function(){for(var e=0;e<ht.SYMBOL_TABLE.length;e++)for(var n=ht.SYMBOL_TABLE[e],r=n&1,i=0;i<ht.BARS_IN_MODULE;i++){for(var a=0;(n&1)===r;)a+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ht.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ht.BARS_IN_MODULE-i-1]=Math.fround(a/ht.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=vt.sum(e),r=new Int32Array(ht.BARS_IN_MODULE),i=0,a=0,o=0;o<ht.MODULES_IN_CODEWORD;o++){var l=n/(2*ht.MODULES_IN_CODEWORD)+o*n/ht.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return ht.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=vt.sum(e),r=new Array(ht.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var a=kb.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,f=t.RATIOS_TABLE[l],h=0;h<ht.BARS_IN_MODULE;h++){var p=Math.fround(f[h]-r[h]);if(c+=Math.fround(p*p),c>=a)break}c<a&&(a=c,o=ht.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ht.SYMBOL_TABLE.length).map(function(e){return new Array(ht.BARS_IN_MODULE)}),t})(),EZ=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),o6=(function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t})(),AZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),SZ=(function(t){AZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(pi),TZ=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new SZ;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new ZE;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),CZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),IZ=(function(t){CZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(pi),OZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),RZ=(function(t){OZ(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new je("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new IZ;i=Ye.MAX_VALUE}this.buf=Xn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new ZE;this.ensureCapacity(this.count+i),qt.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Xn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e})(TZ),Ut;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ut||(Ut={}));function zM(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var D1;function nl(t){if(typeof D1>"u"&&(D1=zM()),D1===null)throw new Error("BigInt is not supported!");return D1(t)}function PZ(){var t=[];t[0]=nl(1);var e=nl(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var NZ=(function(){function t(){}return t.decode=function(e,n){var r=new Xe(""),i=Kn.ISO8859_1;r.enableDecoding(i);for(var a=1,o=e[a++],l=new EZ;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,r);break;case t.ECI_CHARSET:Kn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:a--,a=t.textCompaction(e,a,r);break}if(a<e.length)o=e[a++];else throw me.getFormatInstance()}if(r.length()===0)throw me.getFormatInstance();var c=new dm(null,r.toString(),null,n);return c.setOther(l),c},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,n++)i[a]=e[n];r.setSegmentIndex(Ye.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Xe;n=t.textCompaction(e,n,o),r.setFileId(o.toString());var l=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Xe;n=t.textCompaction(e,n+1,c),r.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Xe;n=t.textCompaction(e,n+1,f),r.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Xe;n=t.textCompaction(e,n+1,h),r.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Xe;n=t.numericCompaction(e,n+1,p),r.setSegmentCount(Ye.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var v=new Xe;n=t.numericCompaction(e,n+1,v),r.setTimestamp(o6.parseLong(v.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Xe;n=t.numericCompaction(e,n+1,m),r.setChecksum(Ye.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new Xe;n=t.numericCompaction(e,n+1,b),r.setFileSize(o6.parseLong(b.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(l!==-1){var w=n-l;r.isLastSegment()&&w--,r.setOptionalData(Xn.copyOfRange(e,l,l+w))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),a=new Int32Array((e[0]-n)*2),o=0,l=!1;n<e[0]&&!l;){var c=e[n++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[n++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var a=Ut.ALPHA,o=Ut.ALPHA,l=0;l<r;){var c=e[l],f="";switch(a){case Ut.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.LL:a=Ut.LOWER;break;case t.ML:a=Ut.MIXED;break;case t.PS:o=a,a=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break;case Ut.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case t.AS:o=a,a=Ut.ALPHA_SHIFT;break;case t.ML:a=Ut.MIXED;break;case t.PS:o=a,a=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break;case Ut.MIXED:if(c<t.PL)f=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Ut.PUNCT;break;case 26:f=" ";break;case t.LL:a=Ut.LOWER;break;case t.AL:a=Ut.ALPHA;break;case t.PS:o=a,a=Ut.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break;case Ut.PUNCT:if(c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break;case Ut.ALPHA_SHIFT:if(a=o,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break;case Ut.PUNCT_SHIFT:if(a=o,c<t.PAL)f=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Ut.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ut.ALPHA;break}break}f!==""&&i.append(f),l++}},t.byteCompaction=function(e,n,r,i,a){var o=new RZ,l=0,c=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=n[i++];i<n[0]&&!f;)switch(h[l++]=p,c=900*c+p,p=n[i++],p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(nl(c)>>nl(8*(5-v))));c=0,l=0}break}i===n[0]&&p<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=p);for(var m=0;m<l;m++)o.write(h[m]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!f;){var b=n[i++];if(b<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+b;else switch(b){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var v=0;v<6;++v)o.write(Number(nl(c)>>nl(8*(5-v))));c=0,l=0}}break}return a.append(la.decode(o.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!a;){var l=e[n++];if(n===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(t.decodeBase900toBase10(o,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=nl(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*nl(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new me;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=zM()?PZ():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),uh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DZ=(function(){function t(){}return t.decode=function(e,n,r,i,a,o,l){for(var c=new Vb(e,n,r,i,a),f=null,h=null,p,v=!0;;v=!1){if(n!=null&&(f=t.getRowIndicatorColumn(e,c,n,!0,o,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,o,l)),p=t.merge(f,h),p==null)throw oe.getNotFoundInstance();var m=p.getBoundingBox();if(v&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var b=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(b,h);for(var w=f!=null,A=1;A<=b;A++){var S=w?A:b-A;if(p.getDetectionResultColumn(S)===void 0){var I=void 0;S===0||S===b?I=new a6(c,S===0):I=new VM(c),p.setDetectionResultColumn(S,I);for(var O=-1,N=O,k=c.getMinY();k<=c.getMaxY();k++){if(O=t.getStartColumn(p,S,k,w),O<0||O>c.getMaxX()){if(N===-1)continue;O=N}var B=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,O,k,o,l);B!=null&&(I.setCodeword(k,B),N=O,o=Math.min(o,B.getWidth()),l=Math.max(l,B.getWidth()))}}}return t.createDecoderResult(p)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=Vb.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new _Z(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=uh(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(o+=a-f,f>0)break}}catch(m){n={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(var h=e.getCodewords(),p=0;o>0&&h[p]==null;p++)o--;for(var v=0,p=i.length-1;p>=0&&(v+=a-i[p],!(i[p]>0));p--);for(var p=h.length-1;v>0&&h[p]==null;p--)v--;return e.getBoundingBox().addMissingRows(o,v,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var a=uh(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,a,o){for(var l=new a6(n,i),c=0;c<2;c++)for(var f=c===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=n.getMaxY()&&p>=n.getMinY();p+=f){var v=t.detectCodeword(e,0,e.getWidth(),i,h,p,a,o);v!=null&&(l.setCodeword(p,v),i?h=v.getStartX():h=v.getEndX())}return l},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ht.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=n[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;f.length===0?r.push(h):f.length===1?i[h]=f[0]:(o.push(h),a.push(f))}for(var p=new Array(a.length),v=0;v<p.length;v++)p[v]=a[v];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ht.toIntArray(r),ht.toIntArray(o),p)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)n[i[c]]=a[c][o[c]];try{return t.decodeCodewords(n,e,r)}catch(h){var f=h instanceof lr;if(!f)throw h}if(o.length===0)throw lr.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw lr.getChecksumInstance()}throw lr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new Ch;var f=0;try{for(var h=uh(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)try{for(var m=(i=void 0,uh(v.getCodewords())),b=m.next();!b.done;b=m.next()){var w=b.value;if(w!=null){var A=w.getRowNumber();if(A>=0){if(A>=o.length)continue;o[A][f].setValue(w.getValue())}}}}catch(S){i={error:S}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}f++}}catch(S){n={error:S}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}return o},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(n).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,n-l)&&(c=e.getDetectionResultColumn(n-l).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;t.isValidBarcodeColumn(e,n-l);){n-=l;try{for(var h=(a=void 0,uh(e.getDetectionResultColumn(n).getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null)return(i?v.getEndX():v.getStartX())+l*f*(v.getEndX()-v.getStartX())}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,n,r,i,a,o);var f=t.getModuleBitCount(e,n,r,i,a,o);if(f==null)return null;var h,p=vt.sum(f);if(i)h=a+p;else{for(var v=0;v<f.length/2;v++){var m=f[v];f[v]=f[f.length-1-v],f[f.length-1-v]=m}h=a,a=h-p}if(!t.checkCodewordSkew(p,l,c))return null;var b=wZ.getDecodedValue(f),w=ht.getCodeword(b);return w===-1?null:new bZ(a,h,t.getCodewordBucketNumber(b),w)},t.getModuleBitCount=function(e,n,r,i,a,o){for(var l=a,c=new Int32Array(8),f=0,h=i?1:-1,p=i;(i?l<r:l>=n)&&f<c.length;)e.get(l,o)===p?(c[f]++,l+=h):(f++,p=!p);return f===c.length||l===(i?r:n)&&f===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,a,o){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=n:l<r)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw me.getFormatInstance();var i=1<<n+1,a=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var o=NZ.decode(e,""+n);return o.setErrorsCorrected(a),o.setErasures(r.length),o},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw lr.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw me.getFormatInstance();var r=e[0];if(r>e.length)throw me.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new rA,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new hZ,t})(),MZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zb=(function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw oe.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof me||r instanceof lr?oe.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,a,o=new Array,l=sZ.detectMultiple(e,n,r);try{for(var c=MZ(l.getPoints()),f=c.next();!f.done;f=c.next()){var h=f.value,p=DZ.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),v=new Vr(p.getText(),p.getRawBytes(),void 0,h,ke.PDF_417);v.putMetadata(Cr.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&v.putMetadata(Cr.PDF417_EXTRA_METADATA,m),o.push(v)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(b){return b})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),kZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),s6=(function(t){kZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(pi),l6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jZ=(function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(nn.TRY_HARDER)!==void 0,r=e==null?null:e.get(nn.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(o){return o===ke.UPC_A||o===ke.UPC_E||o===ke.EAN_13||o===ke.EAN_8||o===ke.CODABAR||o===ke.CODE_39||o===ke.CODE_93||o===ke.CODE_128||o===ke.ITF||o===ke.RSS_14||o===ke.RSS_EXPANDED});a&&!n&&i.push(new Th(e)),r.includes(ke.QR_CODE)&&i.push(new Fb),r.includes(ke.DATA_MATRIX)&&i.push(new Ub),r.includes(ke.AZTEC)&&i.push(new Lb),r.includes(ke.PDF_417)&&i.push(new zb),a&&n&&i.push(new Th(e))}i.length===0&&(n||i.push(new Th(e)),i.push(new Fb),i.push(new Ub),i.push(new Lb),i.push(new zb),n&&i.push(new Th(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=l6(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new s6("No readers where selected, nothing can be read.");try{for(var i=l6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof s6)continue}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t})(),LZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),BZ=(function(t){LZ(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,a=new jZ;return a.setHints(n),i=t.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})($f),UZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){UZ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new zb,n)||this}return e})($f);var FZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){FZ(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new Fb,n)||this}return e})($f);var Hb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Hb||(Hb={}));const M1=Hb;var HM=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new vl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,a=n.length;a<=e;a++){var o=r.multiply(new vl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));n.push(o),r=o}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new je("No error correction bytes");var r=e.length-n;if(r<=0)throw new je("No data bytes provided");var i=this.buildGenerator(n),a=new Int32Array(r);qt.arraycopy(e,0,a,0,r);var o=new vl(this.field,a);o=o.multiplyByMonomial(n,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),f=n-c.length,h=0;h<f;h++)e[r+h]=0;qt.arraycopy(c,0,e,r+f,c.length)},t})(),Ih=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=r[o],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===r[o+1][c]&&f===r[o+1][c+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=r[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&n++,o+6<a&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(t.isWhiteVertical(r,l,o-4,o)||t.isWhiteVertical(r,l,o+7,o+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=r[o],c=0;c<i;c++)l[c]===1&&n++;var f=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(n*2-f)*10/f);return h*t.N4},t.getDataMaskBit=function(e,n,r){var i,a;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:a=r*n,i=(a&1)+a%3;break;case 6:a=r*n,i=(a&1)+a%3&1;break;case 7:a=r*n,i=a%3+(r+n&1)&1;break;default:throw new je("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),a=n?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,h=0;h<a;h++){var p=n?o[l][h]:o[h][l];p===f?c++:(c>=5&&(r+=t.N1+(c-5)),c=1,f=p)}c>=5&&(r+=t.N1+(c-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),VZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zZ=(function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=VZ(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Xn.fill(o,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],o=n.bytes[r],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Xe,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),$b=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),HZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Xt=(function(t){HZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(pi),u6=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,a){t.clearMatrix(a),t.embedBasicPatterns(r,a),t.embedTypeInfo(n,i,a),t.maybeEmbedVersionInfo(r,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new ur;t.makeTypeInfoBits(e,n,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],f=c[0],h=c[1];if(r.setBoolean(f,h,l),a<8){var p=r.getWidth()-a-1,v=8;r.setBoolean(p,v,l)}else{var p=8,v=r.getHeight()-7+(a-8);r.setBoolean(p,v,l)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new ur;t.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=r.get(i);i--,n.setBoolean(a,n.getHeight()-11+o,l),n.setBoolean(n.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,n,r){for(var i=0,a=-1,o=r.getWidth()-1,l=r.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(var c=0;c<2;++c){var f=o-c;if(t.isEmpty(r.get(f,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,n!==255&&Ih.getDataMaskBit(n,f,l)&&(h=!h),r.setBoolean(f,l,h)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Xt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new je("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!$b.isValidMaskPattern(n))throw new Xt("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(a,10);var o=new ur;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Xt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Xt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Xt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Xt;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Xt;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)r.setNumber(e+o,n+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var f=i[c];f>=0&&t.isEmpty(n.get(f,l))&&t.embedPositionAdjustmentPattern(f-2,l-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),$Z=(function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),c6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Ih.applyMaskPenaltyRule1(e)+Ih.applyMaskPenaltyRule2(e)+Ih.applyMaskPenaltyRule3(e)+Ih.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(M1.CHARACTER_SET)!==void 0;a&&(i=r.get(M1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new ur;if(o===Yt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Kn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var f=new ur;this.appendBytes(e,o,f,i);var h;if(r!==null&&r.get(M1.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(M1.QR_VERSION).toString(),10);h=Lu.getVersionForNumber(p);var v=this.calculateBitsNeeded(o,l,f,h);if(!this.willFit(v,h,n))throw new Xt("Data too big for requested version")}else h=this.recommendVersion(n,o,l,f);var m=new ur;m.appendBitArray(l);var b=o===Yt.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,h,o,m),m.appendBitArray(f);var w=h.getECBlocksForLevel(n),A=h.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(A,m);var S=this.interleaveWithECBytes(m,h.getTotalCodewords(),A,w.getNumBlocks()),I=new $b;I.setECLevel(n),I.setMode(o),I.setVersion(h);var O=h.getDimensionForVersion(),N=new zZ(O,O),k=this.chooseMaskPattern(S,n,h,N);return I.setMaskPattern(k),u6.buildMatrix(S,n,h,k,N),I.setMatrix(N),I},t.recommendVersion=function(e,n,r,i){var a=this.calculateBitsNeeded(n,r,i,Lu.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(n,r,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),Kn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Yt.KANJI;for(var r=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Yt.BYTE}return i?Yt.ALPHANUMERIC:r?Yt.NUMERIC:Yt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=la.encode(e,Kn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=n[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<$b.NUM_MASK_PATTERNS;l++){u6.buildMatrix(e,n,r,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=Lu.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Xt("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),a=n.getECBlocksForLevel(r),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Xt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var a=n.getSize()&7;if(a>0)for(var i=a;i<8;i++)n.appendBit(!1);for(var o=e-n.getSizeInBytes(),i=0;i<o;++i)n.appendBits((i&1)===0?236:17,8);if(n.getSize()!==r)throw new Xt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,a,o){if(i>=r)throw new Xt("Block ID too large");var l=e%r,c=r-l,f=Math.floor(e/r),h=f+1,p=Math.floor(n/r),v=p+1,m=f-p,b=h-v;if(m!==b)throw new Xt("EC bytes mismatch");if(r!==c+l)throw new Xt("RS blocks mismatch");if(e!==(p+m)*c+(v+b)*l)throw new Xt("Total bytes mismatch");i<c?(a[0]=p,o[0]=m):(a[0]=v,o[0]=b)},t.interleaveWithECBytes=function(e,n,r,i){var a,o,l,c;if(e.getSizeInBytes()!==r)throw new Xt("Number of bits and data bytes does not match");for(var f=0,h=0,p=0,v=new Array,m=0;m<i;++m){var b=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,m,b,w);var A=b[0],S=new Uint8Array(A);e.toBytes(8*f,S,0,A);var I=t.generateECBytes(S,w[0]);v.push(new $Z(S,I)),h=Math.max(h,A),p=Math.max(p,I.length),f+=b[0]}if(r!==f)throw new Xt("Data bytes does not match offset");for(var O=new ur,m=0;m<h;++m)try{for(var N=(a=void 0,c6(v)),k=N.next();!k.done;k=N.next()){var B=k.value,S=B.getDataBytes();m<S.length&&O.appendBits(S[m],8)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(a)throw a.error}}for(var m=0;m<p;++m)try{for(var P=(l=void 0,c6(v)),M=P.next();!M.done;M=P.next()){var B=M.value,I=B.getErrorCorrectionBytes();m<I.length&&O.appendBits(I[m],8)}}catch(z){l={error:z}}finally{try{M&&!M.done&&(c=P.return)&&c.call(P)}finally{if(l)throw l.error}}if(n!==O.getSizeInBytes())throw new Xt("Interleaving error: "+n+" and "+O.getSizeInBytes()+" differ.");return O},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),a=0;a<r;a++)i[a]=e[a]&255;new HM(ci.QR_CODE_FIELD_256).encode(i,n);for(var o=new Uint8Array(n),a=0;a<n;a++)o[a]=i[r+a];return o},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var a=r.getCharacterCountBits(n);if(e>=1<<a)throw new Xt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,n,r,i){switch(n){case Yt.NUMERIC:t.appendNumericBytes(e,r);break;case Yt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Yt.BYTE:t.append8BitBytes(e,r,i);break;case Yt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Xt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getDigit(e.charAt(i));if(i+2<r){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));n.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<r){var o=t.getDigit(e.charAt(i+1));n.appendBits(a*10+o,7),i+=2}else n.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Xt;if(i+1<r){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Xt;n.appendBits(a*45+o,11),i+=2}else n.appendBits(a,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=la.encode(e,r)}catch(c){throw new Xt(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];n.appendBits(l,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=la.encode(e,Kn.SJIS)}catch(p){throw new Xt(p)}for(var i=r.length,a=0;a<i;a+=2){var o=r[a]&255,l=r[a+1]&255,c=o<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new Xt("Invalid byte sequence");var h=(f>>8)*192+(f&255);n.appendBits(h,13)}},t.appendECI=function(e,n){n.appendBits(Yt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Kn.UTF8.getName(),t})();var qZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){qZ(e,t);function e(n,r,i,a,o,l,c,f){var h=t.call(this,l,c)||this;if(h.yuvData=n,h.dataWidth=r,h.dataHeight=i,h.left=a,h.top=o,a+l>r||o+c>i)throw new je("Crop rectangle does not fit within image data.");return f&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new je("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return qt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return qt.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;qt.arraycopy(this.yuvData,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<r;l++){for(var c=l*n,f=0;f<n;f++){var h=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<r;a++,o+=this.dataWidth)for(var l=o+n/2,c=o,f=o+n-1;c<l;c++,f--){var h=i[c];i[c]=i[f],i[f]=h}},e.prototype.invert=function(){return new JE(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(fm);var GZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(t){GZ(e,t);function e(n,r,i,a,o,l,c){var f=t.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=l,f.top=c,n.BYTES_PER_ELEMENT===4){for(var h=r*i,p=new Uint8ClampedArray(h),v=0;v<h;v++){var m=n[v],b=m>>16&255,w=m>>7&510,A=m&255;p[v]=(b+w+A)/4&255}f.luminances=p}else f.luminances=n;if(a===void 0&&(f.dataWidth=r),o===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new je("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new je("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(n+this.top)*this.dataWidth+this.left;return qt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return qt.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<r;l++){var c=l*n;qt.arraycopy(this.luminances,o,a,c,n),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new JE(this)},e})(fm);var WZ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),KZ=(function(t){WZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e})(Kn),XZ=(function(){function t(){}return t.ISO_8859_1=Kn.ISO8859_1,t})(),qb,YZ=301,QZ=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=YZ);return{LOG:t,ALOG:e}};qb=QZ([],[]),qb.LOG;qb.ALOG;var f6;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(f6||(f6={}));var d6=129,$M=230,ZZ=231,JZ=235,eJ=236,tJ=237,nJ=238,rJ=239,iJ=240,b2=254,aJ=254,h6="[)>05",p6="[)>06",g6="",Pt=0,wr=1,Kr=2,qn=3,ar=4,Dr=5,oJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Pt},t.prototype.encode=function(e){var n=Ia.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Ia.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Dr:e.writeCodeword(ZZ),e.signalEncoderChange(Dr);return;case wr:e.writeCodeword($M),e.signalEncoderChange(wr);return;case qn:e.writeCodeword(nJ),e.signalEncoderChange(qn);break;case Kr:e.writeCodeword(rJ),e.signalEncoderChange(Kr);break;case ar:e.writeCodeword(iJ),e.signalEncoderChange(ar);break;default:throw new Error("Illegal mode: "+i)}else Ia.isExtendedASCII(r)?(e.writeCodeword(JZ),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(Ia.isDigit(e)&&Ia.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t})(),sJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Dr},t.prototype.encode=function(e){var n=new Xe;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=Ia.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}var a=n.length()-1,o=1,l=e.getCodewordCount()+a+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)n.setCharAt(0,ft.getCharAt(a));else if(a<=1555)n.setCharAt(0,ft.getCharAt(Math.floor(a/250)+249)),n.insert(1,ft.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=n.length();f<r;f++)e.writeCodeword(this.randomize255State(n.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t})(),iA=(function(){function t(){}return t.prototype.getEncodingMode=function(){return wr},t.prototype.encodeMaximal=function(e){for(var n=new Xe,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,r=this.encodeChar(o,n),n.length()%3===0&&(i=e.pos,a=n.length())}if(a!==n.length()){var l=Math.floor(n.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(n.length()%3);(h===2&&f!==2||h===1&&(r>3||f!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword($M),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),a=Math.floor(n.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Xe;for(n.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,n,c,i));n.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,n,c,i);break}var f=n.length();if(f%3===0){var h=Ia.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var a=n.length(),o=n.toString().substring(0,a-i);n.setLengthToZero(),n.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(b2)}else if(o===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(b2),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(o>0||e.hasMoreCharacters())&&e.writeCodeword(b2)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Pt)},t.prototype.encodeChar=function(e,n){if(e===32)return n.append(3),1;if(e>=48&&e<=57)return n.append(e-48+4),1;if(e>=65&&e<=90)return n.append(e-65+14),1;if(e<32)return n.append(0),n.append(e),2;if(e<=47)return n.append(1),n.append(e-33),2;if(e<=64)return n.append(1),n.append(e-58+15),2;if(e<=95)return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,a=new Xe;return a.append(r),a.append(i),a.toString()},t})(),lJ=(function(){function t(){}return t.prototype.getEncodingMode=function(){return ar},t.prototype.encode=function(e){for(var n=new Xe;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var a=n.toString().substring(4);n.setLengthToZero(),n.append(a);var o=Ia.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Pt);break}}}n.append(ft.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var o=r-1,l=this.encodeToCodewords(n.toString()),c=!e.hasMoreCharacters(),f=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(Pt)}},t.prototype.encodeChar=function(e,n){e>=32&&e<=63?n.append(e):e>=64&&e<=94?n.append(ft.getCharAt(e-64)):Ia.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,a=n>=3?e.charAt(2).charCodeAt(0):0,o=n>=4?e.charAt(3).charCodeAt(0):0,l=(r<<18)+(i<<12)+(a<<6)+o,c=l>>16&255,f=l>>8&255,h=l&255,p=new Xe;return p.append(c),n>=2&&p.append(f),n>=3&&p.append(h),p.toString()},t})(),uJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),cJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=(function(){function t(e,n,r,i,a,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,n,r,i,a){var o,l;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=cJ(dJ),f=c.next();!f.done;f=c.next()){var h=f.value;if(!(n===1&&h.rectangular)&&!(n===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){o={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),fJ=(function(t){uJ(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e})(wt),dJ=[new wt(!1,3,5,8,8,1),new wt(!1,5,7,10,10,1),new wt(!0,5,7,16,6,1),new wt(!1,8,10,12,12,1),new wt(!0,10,11,14,6,2),new wt(!1,12,12,14,14,1),new wt(!0,16,14,24,10,1),new wt(!1,18,14,16,16,1),new wt(!1,22,18,18,18,1),new wt(!0,22,18,16,10,2),new wt(!1,30,20,20,20,1),new wt(!0,32,24,16,14,2),new wt(!1,36,24,22,22,1),new wt(!1,44,28,24,24,1),new wt(!0,49,28,22,14,2),new wt(!1,62,36,14,14,4),new wt(!1,86,42,16,16,4),new wt(!1,114,48,18,18,4),new wt(!1,144,56,20,20,4),new wt(!1,174,68,22,22,4),new wt(!1,204,84,24,24,4,102,42),new wt(!1,280,112,14,14,16,140,56),new wt(!1,368,144,16,16,16,92,36),new wt(!1,456,192,18,18,16,114,48),new wt(!1,576,224,20,20,16,144,56),new wt(!1,696,272,22,22,16,174,68),new wt(!1,816,336,24,24,16,136,56),new wt(!1,1050,408,18,18,36,175,68),new wt(!1,1304,496,20,20,36,163,62),new fJ],hJ=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(l){return l.charCodeAt(0)}),r=new Xe,i=0,a=n.length;i<a;i++){var o=String.fromCharCode(n[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new Xe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=wt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),pJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gJ=(function(t){pJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return qn},e.prototype.encode=function(n){for(var r=new Xe;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(n,r);var o=Ia.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(Pt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:n>=48&&n<=57?r.append(n-48+4):n>=65&&n<=90?r.append(n-65+14):Ia.illegalCharacter(ft.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),a=r.length();n.pos-=a,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(aJ),n.getNewEncoding()<0&&n.signalEncoderChange(Pt)},e})(iA),vJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mJ=(function(t){vJ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Kr},e.prototype.encodeChar=function(n,r){if(n===32)return r.append(3),1;if(n>=48&&n<=57)return r.append(n-48+4),1;if(n>=97&&n<=122)return r.append(n-97+14),1;if(n<32)return r.append(0),r.append(n),2;if(n<=47)return r.append(1),r.append(n-33),2;if(n<=64)return r.append(1),r.append(n-58+15),2;if(n>=91&&n<=95)return r.append(1),r.append(n-91+22),2;if(n===96)return r.append(2),r.append(0),2;if(n<=90)return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e})(iA),Ia=(function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=d6+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,a){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new iA,l=[new oJ,o,new mJ,new gJ,new lJ,new sJ],c=new hJ(e);c.setSymbolShape(n),c.setSizeConstraints(r,i),e.startsWith(h6)&&e.endsWith(g6)?(c.writeCodeword(eJ),c.setSkipAtEnd(2),c.pos+=h6.length):e.startsWith(p6)&&e.endsWith(g6)&&(c.writeCodeword(tJ),c.setSkipAtEnd(2),c.pos+=p6.length);var f=Pt;for(a&&(o.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();h<p&&f!==Pt&&f!==Dr&&f!==ar&&c.writeCodeword("þ");var v=c.getCodewords();for(v.length()<p&&v.append(d6);v.length()<p;)v.append(this.randomize253State(v.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===qn&&i===qn){for(var a=Math.min(n+3,e.length),o=n;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Pt}else if(r===ar&&i===ar){for(var a=Math.min(n+4,e.length),o=n;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Pt}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===Pt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,o=new Uint8Array(6),l=[];;){if(n+a===e.length){Xn.fill(o,0),Xn.fill(l,0);var c=this.findMinimums(i,l,Ye.MAX_VALUE,o),f=this.getMinimumCount(o);if(l[Pt]===c)return Pt;if(f===1){if(o[Dr]>0)return Dr;if(o[ar]>0)return ar;if(o[Kr]>0)return Kr;if(o[qn]>0)return qn}return wr}var h=e.charCodeAt(n+a);if(a++,this.isDigit(h)?i[Pt]+=.5:this.isExtendedASCII(h)?(i[Pt]=Math.ceil(i[Pt]),i[Pt]+=2):(i[Pt]=Math.ceil(i[Pt]),i[Pt]++),this.isNativeC40(h)?i[wr]+=2/3:this.isExtendedASCII(h)?i[wr]+=8/3:i[wr]+=4/3,this.isNativeText(h)?i[Kr]+=2/3:this.isExtendedASCII(h)?i[Kr]+=8/3:i[Kr]+=4/3,this.isNativeX12(h)?i[qn]+=2/3:this.isExtendedASCII(h)?i[qn]+=13/3:i[qn]+=10/3,this.isNativeEDIFACT(h)?i[ar]+=3/4:this.isExtendedASCII(h)?i[ar]+=17/4:i[ar]+=13/4,this.isSpecialB256(h)?i[Dr]+=4:i[Dr]++,a>=4){if(Xn.fill(o,0),Xn.fill(l,0),this.findMinimums(i,l,Ye.MAX_VALUE,o),l[Pt]<this.min(l[Dr],l[wr],l[Kr],l[qn],l[ar]))return Pt;if(l[Dr]<l[Pt]||l[Dr]+1<this.min(l[wr],l[Kr],l[qn],l[ar]))return Dr;if(l[ar]+1<this.min(l[Dr],l[wr],l[Kr],l[qn],l[Pt]))return ar;if(l[Kr]+1<this.min(l[Dr],l[wr],l[ar],l[qn],l[Pt]))return Kr;if(l[qn]+1<this.min(l[Dr],l[wr],l[ar],l[Kr],l[Pt]))return qn;if(l[wr]+1<this.min(l[Pt],l[Dr],l[ar],l[Kr])){if(l[wr]<l[qn])return wr;if(l[wr]===l[qn]){for(var p=n+a+1;p<e.length;){var v=e.charCodeAt(p);if(this.isX12TermSep(v))return qn;if(!this.isNativeX12(v))break;p++}return wr}}}}},t.min=function(e,n,r,i,a){var o=Math.min(e,Math.min(n,Math.min(r,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,n,r,i){for(var a=0;a<6;a++){var o=n[a]=Math.ceil(e[a]);r>o&&(r=o,Xn.fill(i,0)),r===o&&(i[a]=i[a]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=Ye.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t})(),w2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v6=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return la.encode(e,this.charset)!=null}catch{return!1}},t})(),yJ=(function(){function t(e,n,r){var i,a,o,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new v6(KZ.forName(j))}),this.encoders=[];var h=[];h.push(new v6(XZ.ISO_8859_1));for(var p=n!=null&&n.name.startsWith("UTF"),v=0;v<e.length;v++){var m=!1;try{for(var b=(i=void 0,w2(h)),w=b.next();!w.done;w=b.next()){var A=w.value,S=e.charAt(v),I=S.charCodeAt(0);if(I===r||A.canEncode(S)){m=!0;break}}}catch(j){i={error:j}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}if(!m)try{for(var O=(o=void 0,w2(this.ENCODERS)),N=O.next();!N.done;N=O.next()){var A=N.value;if(A.canEncode(e.charAt(v))){h.push(A),m=!0;break}}}catch(j){o={error:j}}finally{try{N&&!N.done&&(l=O.return)&&l.call(O)}finally{if(o)throw o.error}}m||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var k=0;try{for(var B=w2(h),P=B.next();!P.done;P=B.next()){var A=P.value;this.encoders[k++]=A}}catch(j){c={error:j}}finally{try{P&&!P.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}}var M=-1;if(n!=null){for(var v=0;v<this.encoders.length;v++)if(this.encoders[v]!=null&&n.name===this.encoders[v].name){M=v;break}}this.priorityEncoderIndex=M}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return la.encode(ft.getCharAt(e),this.encoders[n].name)},t})(),xJ=3,_J=(function(){function t(e,n,r){this.fnc1=r;var i=new yJ(e,n,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===r?1e3:o}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new Xe,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,a,o){var l=e.charAt(i).charCodeAt(0),c=0,f=n.length();n.getPriorityEncoderIndex()>=0&&(l===o||n.canEncode(l,n.getPriorityEncoderIndex()))&&(c=n.getPriorityEncoderIndex(),f=c+1);for(var h=c;h<f;h++)(l===o||n.canEncode(l,h))&&this.addEdge(r,i+1,new m6(l,n,h,a,o))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,a=new m6[i+1][n.length()];this.addEdges(e,n,a,0,null,r);for(var o=1;o<=i;o++){for(var l=0;l<n.length();l++)a[o][l]!=null&&o<i&&this.addEdges(e,n,a,o,a[o][l],r);for(var l=0;l<n.length();l++)a[o-1][l]=null}for(var c=-1,f=Ye.MAX_VALUE,l=0;l<n.length();l++)if(a[i][l]!=null){var h=a[i][l];h.cachedTotalSize<f&&(f=h.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],v=a[i][c];v!=null;){if(v.isFNC1())p.unshift(1e3);else for(var m=n.encode(v.c,v.encoderIndex),o=m.length-1;o>=0;o--)p.unshift(m[o]&255);var b=v.previous===null?0:v.previous.encoderIndex;b!==v.encoderIndex&&p.unshift(256+n.getECIValue(v.encoderIndex)),v=v.previous}for(var w=[],o=0;o<w.length;o++)w[o]=p[o];return w},t})(),m6=(function(){function t(e,n,r,i,a){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:n.encode(e,r).length,l=i===null?0:i.encoderIndex;l!==r&&(o+=xJ),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),bJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();var y6;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(y6||(y6={}));(function(t){bJ(e,t);function e(n,r,i,a,o){var l=t.call(this,n,r,i)||this;return l.shape=a,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(_J);var wJ=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),x6=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t})(),EJ=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),AJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aA=(function(t){AJ(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Ye.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e})(EJ),SJ=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TJ=(function(t){SJ(e,t);function e(n,r,i){var a=t.call(this,n,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(aA);function CJ(t,e,n){return new TJ(t,e,n)}function ch(t,e,n){return new aA(t,e,n)}var IJ=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ml=0,Hg=1,ia=2,qM=3,ao=4,OJ=new aA(null,0,0),E2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],RJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function PJ(t){var e,n;try{for(var r=RJ(t),i=r.next();!i.done;i=r.next()){var a=i.value;Xn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[ml][ao]=0,t[Hg][ao]=0,t[Hg][ml]=28,t[qM][ao]=0,t[ia][ao]=0,t[ia][ml]=15,t}var GM=PJ(Xn.createInt32Array(6,6)),NJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DJ=(function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=E2[this.mode][e];i=ch(i,a&65535,a>>16),r+=a>>16}var o=e===ia?4:5;return i=ch(i,n,o),new t(i,e,0,r+o)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===ia?4:5;return r=ch(r,GM[this.mode][e],i),r=ch(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===ao||this.mode===ia){var a=E2[r][ml];n=ch(n,a&65535,a>>16),i+=a>>16,r=ml}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(n,r,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=CJ(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(E2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new ur;try{for(var l=NJ(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(o,e)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",IJ[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(OJ,ml,0,0),t})();function MJ(t){var e=ft.getCharCode(" "),n=ft.getCharCode("."),r=ft.getCharCode(",");t[ml][e]=1;for(var i=ft.getCharCode("Z"),a=ft.getCharCode("A"),o=a;o<=i;o++)t[ml][o]=o-a+2;t[Hg][e]=1;for(var l=ft.getCharCode("z"),c=ft.getCharCode("a"),o=c;o<=l;o++)t[Hg][o]=o-c+2;t[ia][e]=1;for(var f=ft.getCharCode("9"),h=ft.getCharCode("0"),o=h;o<=f;o++)t[ia][o]=o-h+2;t[ia][r]=12,t[ia][n]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],v=0;v<p.length;v++)t[qM][ft.getCharCode(p[v])]=v;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<m.length;v++)ft.getCharCode(m[v])>0&&(t[ao][ft.getCharCode(m[v])]=v);return t}var A2=MJ(Xn.createInt32Array(5,256)),k1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kJ=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),n=ft.getCharCode(`
`),r=x6.singletonList(DJ.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ft.getCharCode("\r"):a=o===n?2:0;break;case ft.getCharCode("."):a=o===e?3:0;break;case ft.getCharCode(","):a=o===e?4:0;break;case ft.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=t.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var l=x6.min(r,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,a=[];try{for(var o=k1(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,n,a)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,a=A2[e.getMode()][i]>0,o=null,l=0;l<=ao;l++){var c=A2[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(n)),!a||l===e.getMode()||l===ia){var f=o.latchAndAppend(l,c);r.push(f)}if(!a&&GM[e.getMode()][l]>=0){var h=o.shiftAndAppend(l,c);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||A2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(n);r.push(p)}},t.updateStateListForPair=function(e,n,r){var i,a,o=[];try{for(var l=k1(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,n,r,o)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,n,r,i){var a=e.endBinaryShift(n);if(i.push(a.latchAndAppend(ao,r)),e.getMode()!==ao&&i.push(a.shiftAndAppend(ao,r)),r===3||r===4){var o=a.latchAndAppend(ia,16-r).latchAndAppend(ia,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(l)}},t.simplifyStates=function(e){var n,r,i,a,o=[];try{for(var l=k1(e),c=l.next();!c.done;c=l.next()){var f=c.value,h=!0,p=function(A){if(A.isBetterThanOrEqualTo(f))return h=!1,"break";f.isBetterThanOrEqualTo(A)&&(o=o.filter(function(S){return S!==A}))};try{for(var v=(i=void 0,k1(o)),m=v.next();!m.done;m=v.next()){var b=m.value,w=p(b);if(w==="break")break}}catch(A){i={error:A}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}h&&o.push(f)}}catch(A){n={error:A}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},t})(),jJ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new kJ(e).encode(),a=Ye.truncDivision(i.getSize()*n,100)+11,o=i.getSize()+a,l,c,f,h,p;if(r!==t.DEFAULT_AZTEC_LAYERS){if(l=r<0,c=Math.abs(r),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new je(ft.format("Illegal value %s for layers",r));f=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var v=f-f%h;if(p=t.stuffBits(i,h),p.getSize()+a>v)throw new je("Data to large for user specified layer");if(l&&p.getSize()>h*64)throw new je("Data to large for user specified layer")}else{h=0,p=null;for(var m=0;;m++){if(m>t.MAX_NB_BITS)throw new je("Data too large for an Aztec code");if(l=m<=3,c=l?m+1:m,f=t.totalBitsInLayer(c,l),!(o>f)){(p==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],p=t.stuffBits(i,h));var v=f-f%h;if(!(l&&p.getSize()>h*64)&&p.getSize()+a<=v)break}}}var b=t.generateCheckWords(p,f,h),w=p.getSize()/h,A=t.generateModeMessage(l,c,w),S=(l?11:14)+c*4,I=new Int32Array(S),O;if(l){O=S;for(var m=0;m<I.length;m++)I[m]=m}else{O=S+1+2*Ye.truncDivision(Ye.truncDivision(S,2)-1,15);for(var N=Ye.truncDivision(S,2),k=Ye.truncDivision(O,2),m=0;m<N;m++){var B=m+Ye.truncDivision(m,15);I[N-m-1]=k-B-1,I[N+m]=k+B+1}}for(var P=new vo(O),m=0,M=0;m<c;m++){for(var j=(c-m)*4+(l?9:12),z=0;z<j;z++)for(var U=z*2,H=0;H<2;H++)b.get(M+U+H)&&P.set(I[m*2+H],I[m*2+z]),b.get(M+j*2+U+H)&&P.set(I[m*2+z],I[S-1-m*2-H]),b.get(M+j*4+U+H)&&P.set(I[S-1-m*2-H],I[S-1-m*2-z]),b.get(M+j*6+U+H)&&P.set(I[S-1-m*2-z],I[m*2+H]);M+=j*8}if(t.drawModeMessage(P,l,O,A),l)t.drawBullsEye(P,Ye.truncDivision(O,2),5);else{t.drawBullsEye(P,Ye.truncDivision(O,2),7);for(var m=0,z=0;m<Ye.truncDivision(S,2)-1;m+=15,z+=16)for(var H=Ye.truncDivision(O,2)&1;H<O;H+=2)P.set(Ye.truncDivision(O,2)-z,H),P.set(Ye.truncDivision(O,2)+z,H),P.set(H,Ye.truncDivision(O,2)-z),P.set(H,Ye.truncDivision(O,2)+z)}var F=new wJ;return F.setCompact(l),F.setSize(O),F.setLayers(c),F.setCodeWords(w),F.setMatrix(P),F},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var a=n-i;a<=n+i;a++)e.set(a,n-i),e.set(a,n+i),e.set(n-i,a),e.set(n+i,a);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new ur;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var a=Ye.truncDivision(r,2);if(n)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Ye.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,n,r){var i,a,o=e.getSize()/r,l=new HM(t.getGF(r)),c=Ye.truncDivision(n,r),f=t.bitsToWords(e,r,c);l.encode(f,c-o);var h=n%r,p=new ur;p.appendBits(0,h);try{for(var v=jJ(Array.from(f)),m=v.next();!m.done;m=v.next()){var b=m.value;p.appendBits(b,r)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}return p},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),a,o;for(a=0,o=e.getSize()/n;a<o;a++){for(var l=0,c=0;c<n;c++)l|=e.get(a*n+c)?1<<n-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return ci.AZTEC_PARAM;case 6:return ci.AZTEC_DATA_6;case 8:return ci.AZTEC_DATA_8;case 10:return ci.AZTEC_DATA_10;case 12:return ci.AZTEC_DATA_12;default:throw new je("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new ur,i=e.getSize(),a=(1<<n)-2,o=0;o<i;o+=n){for(var l=0,c=0;c<n;c++)(o+c>=i||e.get(o+c))&&(l|=1<<n-1-c);(l&a)===a?(r.appendBits(l&a,n),o--):(l&a)===0?(r.appendBits(l|1,n),o--):r.appendBits(l,n)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const WM="YOUR_RAKUTEN_APP_ID_HERE",LJ="b72c14dc75bcde18fb7d3628bf7e92b7";async function BJ(t){console.log(`[商品検索] JANコード: ${t}`);try{const e=await UJ(t);if(e)return console.log("[商品検索] 楽天市場APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天市場API失敗:",e)}try{const e=await FJ(t);if(e)return console.log("[商品検索] 楽天商品APIで商品発見"),e}catch(e){console.warn("[商品検索] 楽天商品API失敗:",e)}try{const e=await VJ(t);if(e)return console.log("[商品検索] JAN Code Lookup APIで商品発見"),e}catch(e){console.warn("[商品検索] JAN Code Lookup API失敗:",e)}try{const e=await zJ(t);if(e)return console.log("[商品検索] Open Food Facts APIで商品発見"),e}catch(e){console.warn("[商品検索] Open Food Facts API失敗:",e)}return console.warn("[商品検索] すべてのAPIで商品が見つかりませんでした。モックデータを使用します。"),HJ(t)}async function UJ(t){const e=new URL("https://app.rakuten.co.jp/services/api/IchibaItem/Search/20220601");e.searchParams.set("applicationId",WM),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Items||r.Items.length===0)return null;const i=r.Items[0].Item;return{barcode:t,name:i.itemName,price:i.itemPrice,manufacturer:i.shopName||"",imageUrl:i.mediumImageUrls?.[0]?.imageUrl||"",source:"rakuten_ichiba"}}async function FJ(t){const e=new URL("https://app.rakuten.co.jp/services/api/Product/Search/20170426");e.searchParams.set("applicationId",WM),e.searchParams.set("keyword",t),e.searchParams.set("hits","1");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.Products||r.Products.length===0)return null;const i=r.Products[0].Product;return{barcode:t,name:i.productName,price:i.minPrice||0,manufacturer:i.makerName||"",imageUrl:i.mediumImageUrl||"",source:"rakuten_product"}}async function VJ(t){const e=new URL("https://api.jancodelookup.com/");e.searchParams.set("appId",LJ),e.searchParams.set("query",t),e.searchParams.set("type","code");const n=await fetch(e.toString());if(!n.ok)return null;const r=await n.json();if(!r.product||r.product.length===0)return null;const i=r.product[0];return{barcode:t,name:i.itemName||"",price:0,manufacturer:i.makerName||i.brandName||"",imageUrl:i.itemImageUrl||"",source:"jancode_lookup"}}async function zJ(t){const e=`https://world.openfoodfacts.org/api/v0/product/${t}.json`,n=await fetch(e);if(!n.ok)return null;const r=await n.json();if(r.status!==1||!r.product)return null;const i=r.product;return{barcode:t,name:i.product_name||i.product_name_ja||"",calories:i.nutriments?.["energy-kcal_100g"],price:0,manufacturer:i.brands||"",imageUrl:i.image_url||"",source:"openfoodfacts"}}function HJ(t){const n={"4902102072453":{name:"明治おいしい牛乳 900ml",price:258,calories:67,manufacturer:"明治",imageUrl:""},"4901777313989":{name:"サントリー天然水 2L",price:138,calories:0,manufacturer:"サントリー",imageUrl:""},"4902430479318":{name:"ポカリスエット 500ml",price:148,calories:125,manufacturer:"大塚製薬",imageUrl:""}}[t];return n?{barcode:t,...n,source:"mock"}:{barcode:t,name:`商品 (${t})`,price:0,manufacturer:"不明",source:"mock"}}const $J=({onProductFound:t,onClose:e})=>{const n=C.useRef(null),[r,i]=C.useState(null),[a,o]=C.useState(null),[l,c]=C.useState(!1),f=C.useRef(null);C.useEffect(()=>(h(),()=>{p()}),[]);const h=async()=>{try{i(null);const m=new BZ;f.current=m;const b=await m.listVideoInputDevices();if(b.length===0)throw new Error("カメラが見つかりません");const w=b.find(S=>{const I=S.label.toLowerCase();return I.includes("back")||I.includes("rear")||I.includes("environment")||I.includes("camera")&&I.includes("0")}),A=w?w.deviceId:b[b.length-1].deviceId;console.log("使用するカメラ:",w?w.label:b[b.length-1].label),m.decodeFromVideoDevice(A,n.current,async(S,I)=>{if(S&&!l){const O=S.getText();if(O===a)return;o(O),c(!0);try{const N=await BJ(O);N?(t(N),p()):(i(`商品情報が見つかりませんでした: ${O}`),c(!1),setTimeout(()=>{i(null),o(null)},3e3))}catch(N){console.error("商品情報取得エラー:",N),i("商品情報の取得に失敗しました"),c(!1),setTimeout(()=>{i(null),o(null)},3e3)}}I&&!(I instanceof oe)&&console.error("スキャンエラー:",I)})}catch(m){console.error("カメラ起動エラー:",m),i(m instanceof Error?m.message:"カメラの起動に失敗しました")}},p=()=>{f.current&&(f.current.reset(),f.current=null)},v=()=>{p(),e()};return _.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:9999,display:"flex",flexDirection:"column"},children:[_.jsxs("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("h2",{style:{margin:0,fontSize:"1.2rem",fontWeight:600},children:"バーコードスキャン"}),_.jsx("button",{onClick:v,style:{background:"transparent",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px"},children:"✕"})]}),_.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[_.jsx("video",{ref:n,style:{width:"100%",height:"100%",objectFit:"cover"}}),_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"300px",height:"150px",border:"2px solid #22c55e",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}}),l&&_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#fff",padding:"20px 32px",borderRadius:"12px",fontSize:"1rem",fontWeight:600},children:"商品情報を取得中..."}),r&&_.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(239, 68, 68, 0.95)",color:"#fff",padding:"12px 24px",borderRadius:"8px",fontSize:"0.9rem",maxWidth:"90%",textAlign:"center"},children:r})]}),_.jsx("div",{style:{padding:"16px",background:"rgba(0, 0, 0, 0.8)",color:"#fff",textAlign:"center"},children:_.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#999"},children:"バーコードを枠内に合わせてください"})})]})},qJ=({product:t,onAdded:e,onNavigateToStock:n})=>{const{addIntake:r}=bo(),{addStock:i}=Eo(),[a,o]=C.useState(""),[l,c]=C.useState(t.price?.toString()||""),[f,h]=C.useState("7"),p=()=>{if(!a){alert("カロリーを入力してください");return}if(!l){alert("金額を入力してください");return}r({name:t.name,calories:Number(a),price:Number(l)}),alert("食事記録に追加しました！"),e()},v=()=>{if(!f){alert("賞味期限までの日数を入力してください");return}i({name:t.name,quantity:1,daysRemaining:Number(f),price:l?Number(l):void 0}),n?(e(),setTimeout(()=>{n()},100)):(alert("在庫管理に追加しました！"),e())};return _.jsxs("div",{className:"card",children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(Mv,{size:24,color:"#10b981"}),"商品情報を取得しました"]}),_.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[_.jsxs("div",{style:{marginBottom:"12px"},children:[_.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"商品名"}),_.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:t.name})]}),t.manufacturer&&_.jsxs("div",{style:{marginBottom:"12px"},children:[_.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"メーカー"}),_.jsx("div",{style:{fontWeight:500},children:t.manufacturer})]}),_.jsxs("div",{style:{marginBottom:"12px"},children:[_.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"バーコード"}),_.jsx("div",{style:{fontFamily:"monospace",color:"#666"},children:t.barcode})]}),t.price&&_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"4px"},children:"価格（参考）"}),_.jsxs("div",{style:{fontWeight:600,color:"var(--primary)"},children:["¥",t.price.toLocaleString()]})]}),_.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:t.source==="rakuten_ichiba"||t.source==="rakuten_product"?"#bf0000":t.source==="jancode_lookup"?"#3b82f6":"#10b981",color:"#fff",borderRadius:"6px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:[t.source==="rakuten_ichiba"&&"楽天市場",t.source==="rakuten_product"&&"楽天商品検索",t.source==="jancode_lookup"&&"JAN Code Lookup",t.source==="openfoodfacts"&&"Open Food Facts",t.source==="mock"&&"モックデータ"]})]}),_.jsxs("div",{style:{marginBottom:"24px"},children:[_.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[_.jsx(Fw,{size:18}),"食事記録に追加"]}),_.jsx("label",{children:"カロリー (kcal)"}),_.jsx("input",{type:"number",value:a,onChange:m=>o(m.target.value),placeholder:"例: 200"}),_.jsx("label",{children:"金額 (円)"}),_.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"例: 150"}),_.jsx("button",{className:"submit",onClick:p,style:{background:"#3b82f6"},children:"食事記録に追加"})]}),_.jsxs("div",{children:[_.jsxs("h4",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},children:[_.jsx(gf,{size:18}),"在庫管理に追加"]}),_.jsx("label",{children:"賞味期限までの日数"}),_.jsx("input",{type:"number",value:f,onChange:m=>h(m.target.value),placeholder:"例: 7"}),_.jsx("button",{className:"submit",onClick:v,style:{background:"#10b981"},children:n?"在庫管理に追加して画面移動":"在庫管理に追加"})]}),_.jsx("button",{onClick:e,style:{marginTop:"16px",width:"100%",padding:"12px",background:"transparent",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",color:"#666"},children:"キャンセル"})]})},GJ=({onReceiptScanned:t,onClose:e})=>{const n=C.useRef(null),r=C.useRef(null),i=C.useRef(null),[a,o]=C.useState(!1),[l,c]=C.useState(null),[f,h]=C.useState(null),p=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});n.current&&(n.current.srcObject=w,h(w))}catch(w){console.error("カメラアクセスエラー:",w),c("カメラにアクセスできません。ファイル選択をお試しください。")}};Br.useEffect(()=>(p(),()=>{f&&f.getTracks().forEach(w=>w.stop())}),[]);const v=async()=>{if(!(!n.current||!r.current)){o(!0),c(null);try{const w=n.current,A=r.current,S=A.getContext("2d");if(!S)throw new Error("Canvas context が取得できません");A.width=w.videoWidth,A.height=w.videoHeight,S.drawImage(w,0,0);const I=await new Promise((k,B)=>{A.toBlob(P=>{P?k(P):B(new Error("Blob変換に失敗しました"))},"image/jpeg",.95)}),O=new File([I],"receipt.jpg",{type:"image/jpeg"}),N=await BO(O);f&&f.getTracks().forEach(k=>k.stop()),t(N)}catch(w){console.error("OCRエラー:",w),c(w.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},m=async w=>{const A=w.target.files?.[0];if(A){o(!0),c(null);try{const S=await BO(A);f&&f.getTracks().forEach(I=>I.stop()),t(S)}catch(S){console.error("OCRエラー:",S),c(S.message||"レシートの読み取りに失敗しました")}finally{o(!1)}}},b=()=>{f&&f.getTracks().forEach(w=>w.stop()),e()};return _.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:1e3,display:"flex",flexDirection:"column"},children:[_.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("h3",{style:{color:"white",margin:0},children:"レシートをスキャン"}),_.jsx("button",{onClick:b,style:{background:"transparent",border:"none",color:"white",cursor:"pointer",padding:"8px"},disabled:a,children:_.jsx(Lv,{size:24})})]}),_.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[_.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),_.jsx("canvas",{ref:r,style:{display:"none"}}),_.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",border:"2px dashed rgba(255, 255, 255, 0.8)",borderRadius:"8px",pointerEvents:"none"},children:_.jsx("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",whiteSpace:"nowrap"},children:"レシートを枠内に収めてください"})}),l&&_.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",maxWidth:"80%",textAlign:"center"},children:l})]}),_.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"20px",display:"flex",justifyContent:"center",gap:"16px"},children:[_.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,style:{display:"none"}}),_.jsxs("button",{onClick:()=>i.current?.click(),disabled:a,style:{background:"#6366f1",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",opacity:a?.5:1},children:[_.jsx(ZU,{size:20}),"ファイル選択"]}),_.jsx("button",{onClick:v,disabled:a,style:{background:"#10b981",color:"white",border:"none",padding:"16px 32px",borderRadius:"50%",cursor:"pointer",fontSize:"18px",fontWeight:"bold",opacity:a?.5:1,width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"...":_.jsx(Fh,{size:32})})]})]})},WJ=({result:t,onClose:e})=>{const{addExpense:n}=wo(),[r,i]=C.useState(t.items),[a,o]=C.useState(null),[l,c]=C.useState(""),[f,h]=C.useState(""),p=r.reduce((O,N)=>O+N.price*(N.quantity||1),0),v=O=>{const N=r[O];o(O),c(N.name),h(N.price.toString())},m=()=>{if(a===null)return;const O=parseInt(f,10);if(isNaN(O)||O<=0){alert("正しい金額を入力してください");return}const N=[...r];N[a]={...N[a],name:l.trim(),price:O},i(N),o(null),c(""),h("")},b=()=>{o(null),c(""),h("")},w=O=>{if(window.confirm("この商品を削除しますか？")){const N=r.filter((k,B)=>B!==O);i(N)}},A=()=>{const O=window.prompt("商品名を入力してください");if(!O||!O.trim())return;const N=window.prompt("金額を入力してください");if(!N)return;const k=parseInt(N,10);if(isNaN(k)||k<=0){alert("正しい金額を入力してください");return}i([...r,{name:O.trim(),price:k,quantity:1}])},S=()=>{if(r.length===0){alert("商品が1つもありません");return}if(!window.confirm(`${r.length}個の商品を家計簿に登録しますか？
合計金額: ¥${p.toLocaleString()}`))return;const O=new Date().toISOString();r.forEach(N=>{const k=N.quantity||1;for(let B=0;B<k;B++)n({category:"food",amount:N.price,memo:N.name,date:t.date||O})}),alert("家計簿に登録しました！"),e()},I=O=>new Intl.NumberFormat("ja-JP").format(O);return _.jsxs("div",{className:"card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",margin:0},children:[_.jsx(ON,{size:20}),"レシート内容"]}),_.jsxs("button",{onClick:A,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx(DN,{size:18}),"追加"]})]}),_.jsxs("div",{style:{background:"var(--background)",padding:"12px",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:[t.storeName&&_.jsxs("div",{style:{marginBottom:"4px"},children:[_.jsx("strong",{children:"店舗:"})," ",t.storeName]}),t.date&&_.jsxs("div",{children:[_.jsx("strong",{children:"日付:"})," ",t.date]})]}),r.length===0?_.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"商品が検出されませんでした。「追加」ボタンから手動で追加してください。"}):_.jsx("div",{style:{marginBottom:"16px"},children:r.map((O,N)=>_.jsx("div",{style:{padding:"12px",borderBottom:N<r.length-1?"1px solid var(--border)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:a===N?_.jsxs("div",{style:{flex:1,display:"flex",gap:"8px",alignItems:"center"},children:[_.jsx("input",{value:l,onChange:k=>c(k.target.value),placeholder:"商品名",style:{flex:1,padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),_.jsx("input",{value:f,onChange:k=>h(k.target.value),type:"number",placeholder:"金額",style:{width:"80px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"14px"}}),_.jsx("button",{onClick:m,style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:_.jsx(Uw,{size:16})}),_.jsx("button",{onClick:b,style:{background:"#6b7280",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"×"})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:O.name}),O.quantity&&O.quantity>1&&_.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["数量: ",O.quantity,"個"]})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(O.price*(O.quantity||1))]}),_.jsx("button",{onClick:()=>v(N),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"var(--primary)"},children:_.jsx(QU,{size:18})}),_.jsx("button",{onClick:()=>w(N),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},children:_.jsx(up,{size:18})})]})]})},N))}),_.jsxs("div",{style:{background:"var(--background)",padding:"16px",borderRadius:"8px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"合計"}),_.jsxs("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--danger)"},children:["¥",I(p)]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[_.jsx("button",{onClick:e,style:{background:"var(--border)",color:"var(--text)",border:"none",padding:"12px",borderRadius:"8px",cursor:"pointer",fontWeight:500},children:"キャンセル"}),_.jsx("button",{onClick:S,className:"submit",disabled:r.length===0,style:{opacity:r.length===0?.5:1},children:"家計簿に登録"})]}),_.jsxs("details",{style:{marginTop:"16px"},children:[_.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"var(--text-secondary)"},children:"OCR生テキストを表示"}),_.jsx("pre",{style:{marginTop:"8px",padding:"12px",background:"var(--background)",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:t.rawText})]})]})},KJ=({onNavigateToStock:t})=>{const[e,n]=C.useState("select"),[r,i]=C.useState(!1),[a,o]=C.useState(null),[l,c]=C.useState(null),f=()=>{n("barcode"),i(!0),o(null)},h=()=>{n("receipt"),i(!0),c(null)},p=A=>{o(A),i(!1)},v=A=>{c(A),i(!1)},m=()=>{o(null),n("select")},b=()=>{c(null),n("select")},w=()=>{n("select"),i(!1),o(null),c(null)};return _.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"スキャン"}),e==="select"&&!r&&!a&&!l&&_.jsx(_.Fragment,{children:_.jsxs("div",{className:"card",children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx(Fh,{size:20}),"スキャンモードを選択"]}),_.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"バーコードまたはレシートをスキャンできます"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[_.jsxs("button",{onClick:f,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[_.jsx(GU,{size:48}),_.jsx("span",{children:"バーコード"}),_.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"JANコード"})]}),_.jsxs("button",{onClick:h,style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",border:"none",padding:"24px 16px",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontWeight:500,fontSize:"16px"},children:[_.jsx(ON,{size:48}),_.jsx("span",{children:"レシート"}),_.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"OCR読み取り"})]})]})]})}),e==="barcode"&&r&&_.jsx($J,{onProductFound:p,onClose:w}),e==="barcode"&&a&&_.jsx(qJ,{product:a,onAdded:m,onNavigateToStock:t}),e==="receipt"&&r&&_.jsx(GJ,{onReceiptScanned:v,onClose:w}),e==="receipt"&&l&&_.jsx(WJ,{result:l,onClose:b})]})};function _6(t,e,n){return t.filter(r=>{const i=new Date(r.date);return i.getFullYear()===e&&i.getMonth()+1===n})}function b6(t,e,n,r){const i=_6(n,t,e),a=_6(r,t,e),o=i.reduce((h,p)=>h+p.calories,0),l=i.reduce((h,p)=>h+(p.price||0),0),c=a.reduce((h,p)=>h+p.amount,0),f={};return a.forEach(h=>{f[h.category]=(f[h.category]||0)+h.amount}),{year:t,month:e,intakes:{count:i.length,totalCalories:o,avgCalories:i.length>0?o/i.length:0,totalPrice:l},expenses:{count:a.length,total:c,byCategory:f}}}function XJ(t,e,n,r){const i=b6(t,e,n,r);let a=t,o=e-1;o===0&&(o=12,a-=1);const l=b6(a,o,n,r),c=(f,h)=>h===0?f>0?100:0:(f-h)/h*100;return{current:i,previous:l,changes:{intakesCount:c(i.intakes.count,l.intakes.count),totalCalories:c(i.intakes.totalCalories,l.intakes.totalCalories),avgCalories:c(i.intakes.avgCalories,l.intakes.avgCalories),totalExpenses:c(i.expenses.total,l.expenses.total)}}}function YJ(t){const{current:e,previous:n,changes:r}=t;return`以下のユーザーの月次健康・家計データを分析し、3〜5つの具体的な改善提案をしてください。

【今月のデータ（${e.year}年${e.month}月）】
- 食事記録: ${e.intakes.count}回
- 総カロリー: ${e.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(e.intakes.avgCalories)}kcal/食
- 食費: ¥${e.intakes.totalPrice.toLocaleString()}
- 総支出: ¥${e.expenses.total.toLocaleString()}

【先月のデータ（${n.year}年${n.month}月）】
- 食事記録: ${n.intakes.count}回
- 総カロリー: ${n.intakes.totalCalories.toLocaleString()}kcal
- 平均カロリー: ${Math.round(n.intakes.avgCalories)}kcal/食
- 総支出: ¥${n.expenses.total.toLocaleString()}

【先月比の変化】
- 食事記録回数: ${r.intakesCount>0?"+":""}${r.intakesCount.toFixed(1)}%
- 総カロリー: ${r.totalCalories>0?"+":""}${r.totalCalories.toFixed(1)}%
- 平均カロリー: ${r.avgCalories>0?"+":""}${r.avgCalories.toFixed(1)}%
- 総支出: ${r.totalExpenses>0?"+":""}${r.totalExpenses.toFixed(1)}%

【お願い】
1. データの傾向を簡潔に分析してください
2. 健康面での改善提案を2〜3点
3. 家計面での改善提案を1〜2点
4. 具体的で実行可能なアドバイスをお願いします
5. 日本語で、親しみやすくわかりやすい表現で回答してください`}function QJ(){const{intakes:t}=bo(),{expenses:e}=wo(),n=new Date,[r,i]=C.useState(n.getFullYear()),[a,o]=C.useState(n.getMonth()+1),[l,c]=C.useState(null),[f,h]=C.useState(""),[p,v]=C.useState(!1);C.useEffect(()=>{const N=XJ(r,a,t,e);c(N)},[r,a,t,e]);const m=async()=>{if(l){v(!0);try{const N=YJ(l),k=await $X(N);h(k)}catch(N){console.error("AI提案生成エラー:",N),alert("AI提案の生成に失敗しました")}finally{v(!1)}}},b=()=>{a===1?(i(r-1),o(12)):o(a-1),h("")},w=()=>{a===12?(i(r+1),o(1)):o(a+1),h("")},A=N=>{if(N===0)return _.jsx("span",{className:"change-neutral",children:"±0%"});const k=N>0?_.jsx(RN,{}):_.jsx($U,{}),B=N>0?"change-up":"change-down";return _.jsxs("span",{className:`change ${B}`,children:[k," ",N>0?"+":"",N.toFixed(1),"%"]})};if(!l)return _.jsx("div",{className:"card",children:"データを読み込み中..."});const{current:S,previous:I,changes:O}=l;return _.jsx("div",{className:"monthly-report",children:_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"report-header",children:[_.jsx("h3",{children:"📊 月次レポート"}),_.jsxs("div",{className:"month-selector",children:[_.jsx("button",{className:"month-nav-btn",onClick:b,children:"◀"}),_.jsxs("span",{className:"current-month",children:[r,"年",a,"月"]}),_.jsx("button",{className:"month-nav-btn",onClick:w,children:"▶"})]})]}),_.jsxs("div",{className:"report-section",children:[_.jsx("h4",{children:"今月の記録"}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stat-item",children:[_.jsx("div",{className:"stat-label",children:"食事記録"}),_.jsxs("div",{className:"stat-value",children:[S.intakes.count,"回"]}),A(O.intakesCount)]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("div",{className:"stat-label",children:"平均カロリー"}),_.jsxs("div",{className:"stat-value",children:[Math.round(S.intakes.avgCalories),"kcal"]}),A(O.avgCalories)]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("div",{className:"stat-label",children:"総カロリー"}),_.jsxs("div",{className:"stat-value",children:[S.intakes.totalCalories.toLocaleString(),"kcal"]}),A(O.totalCalories)]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("div",{className:"stat-label",children:"総支出"}),_.jsxs("div",{className:"stat-value",children:["¥",S.expenses.total.toLocaleString()]}),A(O.totalExpenses)]})]})]}),_.jsxs("div",{className:"report-section",children:[_.jsxs("h4",{children:["先月（",I.year,"年",I.month,"月）との比較"]}),_.jsxs("div",{className:"comparison-grid",children:[_.jsxs("div",{className:"comparison-item",children:[_.jsx("div",{className:"comparison-label",children:"食事記録"}),_.jsxs("div",{className:"comparison-values",children:[_.jsxs("span",{className:"prev-value",children:[I.intakes.count,"回"]}),_.jsx(Jx,{}),_.jsxs("span",{className:"curr-value",children:[S.intakes.count,"回"]})]})]}),_.jsxs("div",{className:"comparison-item",children:[_.jsx("div",{className:"comparison-label",children:"平均カロリー"}),_.jsxs("div",{className:"comparison-values",children:[_.jsxs("span",{className:"prev-value",children:[Math.round(I.intakes.avgCalories),"kcal"]}),_.jsx(Jx,{}),_.jsxs("span",{className:"curr-value",children:[Math.round(S.intakes.avgCalories),"kcal"]})]})]}),_.jsxs("div",{className:"comparison-item",children:[_.jsx("div",{className:"comparison-label",children:"総支出"}),_.jsxs("div",{className:"comparison-values",children:[_.jsxs("span",{className:"prev-value",children:["¥",I.expenses.total.toLocaleString()]}),_.jsx(Jx,{}),_.jsxs("span",{className:"curr-value",children:["¥",S.expenses.total.toLocaleString()]})]})]})]})]}),_.jsxs("div",{className:"report-section",children:[_.jsxs("h4",{children:[_.jsx(mg,{size:20,style:{marginRight:"8px"}}),"AI改善提案"]}),f?_.jsxs("div",{className:"ai-suggestions",children:[_.jsx("div",{className:"suggestions-content",children:f}),_.jsx("button",{className:"submit",onClick:m,disabled:p,style:{marginTop:"12px"},children:"再生成"})]}):_.jsx("button",{className:"submit",onClick:m,disabled:p||S.intakes.count===0,style:{width:"100%"},children:p?"提案を生成中...":"AI改善提案を生成"}),S.intakes.count===0&&_.jsx("p",{className:"no-data-message",children:"データがありません。食事記録を追加してください。"})]})]})})}function KM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KM(t))&&(r&&(r+=" "),r+=e);return r}var S2={},T2={},w6;function ZJ(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(T2)),T2}var C2={},E6;function XM(){return E6||(E6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(C2)),C2}var I2={},A6;function oA(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(I2)),I2}var O2={},R2={},S6;function JJ(){return S6||(S6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(R2)),R2}var T6;function sA(){return T6||(T6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JJ(),n=oA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,c+=i[l]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=r})(O2)),O2}var C6;function lA(){return C6||(C6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZJ(),n=XM(),r=oA(),i=sA();function a(l,c,f){if(l==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?n.isDeepKey(c)?a(l,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?f:h}default:{if(Array.isArray(c))return o(l,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=l[c];return h===void 0?f:h}}}function o(l,c,f){if(c.length===0)return f;let h=l;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=a})(S2)),S2}var P2,I6;function eee(){return I6||(I6=1,P2=lA().get),P2}var tee=eee();const Xu=xo(tee);var N2={exports:{}},Bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6;function nee(){if(O6)return Bt;O6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case c:case f:case v:return w;default:switch(w=w&&w.$$typeof,w){case o:case l:case p:case h:return w;case a:return w;default:return A}}case e:return A}}}return Bt.ContextConsumer=a,Bt.ContextProvider=o,Bt.Element=t,Bt.ForwardRef=l,Bt.Fragment=n,Bt.Lazy=p,Bt.Memo=h,Bt.Portal=e,Bt.Profiler=i,Bt.StrictMode=r,Bt.Suspense=c,Bt.SuspenseList=f,Bt.isContextConsumer=function(w){return b(w)===a},Bt.isContextProvider=function(w){return b(w)===o},Bt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Bt.isForwardRef=function(w){return b(w)===l},Bt.isFragment=function(w){return b(w)===n},Bt.isLazy=function(w){return b(w)===p},Bt.isMemo=function(w){return b(w)===h},Bt.isPortal=function(w){return b(w)===e},Bt.isProfiler=function(w){return b(w)===i},Bt.isStrictMode=function(w){return b(w)===r},Bt.isSuspense=function(w){return b(w)===c},Bt.isSuspenseList=function(w){return b(w)===f},Bt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===o||w.$$typeof===a||w.$$typeof===l||w.$$typeof===m||w.getModuleId!==void 0)},Bt.typeOf=b,Bt}var R6;function ree(){return R6||(R6=1,N2.exports=nee()),N2.exports}var iee=ree(),cr=t=>t===0?0:t>0?1:-1,Mi=t=>typeof t=="number"&&t!=+t,Ou=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!Mi(t),mo=t=>Re(t)||typeof t=="string",aee=0,Zh=t=>{var e=++aee;return"".concat(t||"").concat(e)},Ur=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(Ou(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Mi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},YM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function dn(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function QM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Xu(r,e))===n)}var an=t=>t===null||typeof t>"u",Tp=t=>an(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),oee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uA(t){if(typeof t!="string")return!1;var e=oee;return e.includes(t)}var see=["viewBox","children"],P6=["points","pathLength"],D2={svg:see,polygon:P6,polyline:P6},cA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{uA(i)&&(r[i]=(a=>n[i](n,a)))}),r},lee=(t,e,n)=>r=>(t(e,n,r),null),Cp=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];uA(i)&&typeof a=="function"&&(r||(r={}),r[i]=lee(a,e,n))}),r},uee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ZM(t){if(typeof t!="string")return!1;var e=uee;return e.includes(t)}function Ao(t){var e=Object.entries(t).filter(n=>{var[r]=n;return ZM(r)});return Object.fromEntries(e)}var N6=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",D6=null,M2=null,JM=t=>{if(t===D6&&Array.isArray(M2))return M2;var e=[];return C.Children.forEach(t,n=>{an(n)||(iee.isFragment(n)?e=e.concat(JM(n.props.children)):e.push(n))}),M2=e,D6=t,e};function fA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>N6(i)):r=[N6(e)],JM(t).forEach(i=>{var a=Xu(i,"type.displayName")||Xu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var e9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,cee=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&D2?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&a.includes(e)||ZM(e)),c=!!n&&uA(e);return o||l||c},ln=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;cee((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},fee=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(null,arguments)}function dee(t,e){if(t==null)return{};var n,r,i=hee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dA=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:c,desc:f}=t,h=dee(t,fee),p=a||{width:r,height:i,x:0,y:0},v=mt("recharts-surface",o);return C.createElement("svg",Gb({},ln(h,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),n)}),pee=["children","className"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(null,arguments)}function gee(t,e){if(t==null)return{};var n,r,i=vee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Or=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=gee(t,pee),a=mt("recharts-layer",r);return C.createElement("g",Wb({className:a},ln(i,!0),{ref:e}),n)}),t9=TN(),n9=C.createContext(null),mee=()=>C.useContext(n9);function Ht(t){return function(){return t}}const r9=Math.cos,$g=Math.sin,ka=Math.sqrt,qg=Math.PI,pm=2*qg,Kb=Math.PI,Xb=2*Kb,Eu=1e-6,yee=Xb-Eu;function i9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return i9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?i9:xee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,f=i-n,h=o-e,p=l-n,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Eu)if(!(Math.abs(p*c-f*h)>Eu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,b=i-l,w=c*c+f*f,A=m*m+b*b,S=Math.sqrt(w),I=Math.sqrt(v),O=a*Math.tan((Kb-Math.acos((w+v-A)/(2*S*I)))/2),N=O/I,k=O/S;Math.abs(N-1)>Eu&&this._append`L${e+N*h},${n+N*p}`,this._append`A${a},${a},0,0,${+(p*m>h*b)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Eu||Math.abs(this._y1-h)>Eu)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Xb+Xb),v>yee?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:v>Eu&&this._append`A${r},${r},0,${+(v>=Kb)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ee(e)}function pA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a9(t){this._context=t}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gm(t){return new a9(t)}function o9(t){return t[0]}function s9(t){return t[1]}function l9(t,e){var n=Ht(!0),r=null,i=gm,a=null,o=hA(l);t=typeof t=="function"?t:t===void 0?o9:Ht(t),e=typeof e=="function"?e:e===void 0?s9:Ht(e);function l(c){var f,h=(c=pA(c)).length,p,v=!1,m;for(r==null&&(a=i(m=o())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ht(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function j1(t,e,n){var r=null,i=Ht(!0),a=null,o=gm,l=null,c=hA(f);t=typeof t=="function"?t:t===void 0?o9:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?s9:Ht(+n);function f(p){var v,m,b,w=(p=pA(p)).length,A,S=!1,I,O=new Array(w),N=new Array(w);for(a==null&&(l=o(I=c())),v=0;v<=w;++v){if(!(v<w&&i(A=p[v],v,p))===S)if(S=!S)m=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=m;--b)l.point(O[b],N[b]);l.lineEnd(),l.areaEnd()}S&&(O[v]=+t(A,v,p),N[v]=+e(A,v,p),l.point(r?+r(A,v,p):O[v],n?+n(A,v,p):N[v]))}if(I)return l=null,I+""||null}function h(){return l9().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ht(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ht(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ht(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ht(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ht(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class u9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bee(t){return new u9(t,!0)}function wee(t){return new u9(t,!1)}const gA={draw(t,e){const n=ka(e/qg);t.moveTo(n,0),t.arc(0,0,n,0,pm)}},Eee={draw(t,e){const n=ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},c9=ka(1/3),Aee=c9*2,See={draw(t,e){const n=ka(e/Aee),r=n*c9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Tee={draw(t,e){const n=ka(e),r=-n/2;t.rect(r,r,n,n)}},Cee=.8908130915292852,f9=$g(qg/10)/$g(7*qg/10),Iee=$g(pm/10)*f9,Oee=-r9(pm/10)*f9,Ree={draw(t,e){const n=ka(e*Cee),r=Iee*n,i=Oee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=pm*a/5,l=r9(o),c=$g(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},k2=ka(3),Pee={draw(t,e){const n=-ka(e/(k2*3));t.moveTo(0,n*2),t.lineTo(-k2*n,-n),t.lineTo(k2*n,-n),t.closePath()}},Qi=-.5,Zi=ka(3)/2,Yb=1/ka(12),Nee=(Yb/2+1)*3,Dee={draw(t,e){const n=ka(e/Nee),r=n/2,i=n*Yb,a=r,o=n*Yb+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Qi*r-Zi*i,Zi*r+Qi*i),t.lineTo(Qi*a-Zi*o,Zi*a+Qi*o),t.lineTo(Qi*l-Zi*c,Zi*l+Qi*c),t.lineTo(Qi*r+Zi*i,Qi*i-Zi*r),t.lineTo(Qi*a+Zi*o,Qi*o-Zi*a),t.lineTo(Qi*l+Zi*c,Qi*c-Zi*l),t.closePath()}};function Mee(t,e){let n=null,r=hA(i);t=typeof t=="function"?t:Ht(t||gA),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ht(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Gg(){}function Wg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function d9(t){this._context=t}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kee(t){return new d9(t)}function h9(t){this._context=t}h9.prototype={areaStart:Gg,areaEnd:Gg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jee(t){return new h9(t)}function p9(t){this._context=t}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lee(t){return new p9(t)}function g9(t){this._context=t}g9.prototype={areaStart:Gg,areaEnd:Gg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bee(t){return new g9(t)}function M6(t){return t<0?-1:1}function k6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(M6(a)+M6(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function j6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function j2(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j2(this,this._t0,j6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,j2(this,j6(this,n=k6(this,t,e)),n);break;default:j2(this,this._t0,n=k6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function v9(t){this._context=new m9(t)}(v9.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function m9(t){this._context=t}m9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Uee(t){return new Kg(t)}function Fee(t){return new v9(t)}function y9(t){this._context=t}y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=L6(t),i=L6(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function L6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Vee(t){return new y9(t)}function vm(t,e){this._context=t,this._t=e}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function zee(t){return new vm(t,.5)}function Hee(t){return new vm(t,0)}function $ee(t){return new vm(t,1)}function Sf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function qee(t,e){return t[e]}function Gee(t){const e=[];return e.key=t,e}function Wee(){var t=Ht([]),e=Qb,n=Sf,r=qee;function i(a){var o=Array.from(t.apply(this,arguments),Gee),l,c=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=pA(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ht(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Qb:typeof a=="function"?a:Ht(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Sf,i):n},i}function Kee(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Sf(t,e)}}function Xee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Sf(t,e)}}function Yee(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,f=0;l<o;++l){for(var h=t[e[l]],p=h[r][1]||0,v=h[r-1][1]||0,m=(p-v)/2,b=0;b<l;++b){var w=t[e[b]],A=w[r][1]||0,S=w[r-1][1]||0;m+=A-S}c+=p,f+=m*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Sf(t,e)}}var Qee=["type","size","sizeType"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(null,arguments)}function B6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t,e){if(t==null)return{};var n,r,i=nte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x9={symbolCircle:gA,symbolCross:Eee,symbolDiamond:See,symbolSquare:Tee,symbolStar:Ree,symbolTriangle:Pee,symbolWye:Dee},rte=Math.PI/180,ite=t=>{var e="symbol".concat(Tp(t));return x9[e]||gA},ate=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*rte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ote=(t,e)=>{x9["symbol".concat(Tp(t))]=e},vA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=tte(t,Qee),a=U6(U6({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var v=ite(o),m=Mee().type(v).size(ate(n,r,o));return m()},{className:c,cx:f,cy:h}=a,p=ln(a,!0);return f===+f&&h===+h&&n===+n?C.createElement("path",Zb({},p,{className:mt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};vA.registerSymbol=ote;function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(null,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ste(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){mA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mA(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ji=32;class yA extends C.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ji/2,a=Ji/6,o=Ji/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ji,y2:i,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ji,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ji/8,"h").concat(Ji,"v").concat(Ji*3/4,"h").concat(-Ji,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var f=ste({},e);return delete f.legendIcon,C.cloneElement(e.legendIcon,f)}return C.createElement(vA,{fill:l,cx:i,cy:i,size:Ji,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Ji,height:Ji},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var v=h.formatter||i,m=mt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?a:h.color,w=v?v(h.value,h,p):h.value;return C.createElement("li",Jb({className:m,style:c,key:"legend-item-".concat(p)},Cp(this.props,h,p)),C.createElement(dA,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}mA(yA,"displayName","Legend");mA(yA,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var L2={},B2={},V6;function cte(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(B2)),B2}var U2={},z6;function _9(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(U2)),U2}var F2={},V2={},z2={},H6;function fte(){return H6||(H6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(z2)),z2}var $6;function xA(){return $6||($6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(V2)),V2}var H2={},q6;function dte(){return q6||(q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(H2)),H2}var G6;function hte(){return G6||(G6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xA(),n=dte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(F2)),F2}var $2={},q2={},W6;function pte(){return W6||(W6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(q2)),q2}var G2={},W2={},K2={},X2={},K6;function b9(){return K6||(K6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(X2)),X2}var Y2={},X6;function w9(){return X6||(X6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Y2)),Y2}var Q2={},Y6;function E9(){return Y6||(Y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Q2)),Q2}var Q6;function gte(){return Q6||(Q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_A(),n=b9(),r=w9(),i=E9();function a(p,v,m){return typeof m!="function"?e.isMatch(p,v):o(p,v,function b(w,A,S,I,O,N){const k=m(w,A,S,I,O,N);return k!==void 0?!!k:o(w,A,b,N)},new Map)}function o(p,v,m,b){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,m,b);case"function":return Object.keys(v).length>0?o(p,{...v},m,b):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,m,b){if(v==null)return!0;if(Array.isArray(v))return f(p,v,m,b);if(v instanceof Map)return c(p,v,m,b);if(v instanceof Set)return h(p,v,m,b);const w=Object.keys(v);if(p==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(v))return b.get(v)===p;b&&b.set(v,p);try{for(let A=0;A<w.length;A++){const S=w[A];if(!r.isPrimitive(p)&&!(S in p)||v[S]===void 0&&p[S]!==void 0||v[S]===null&&p[S]!==null||!m(p[S],v[S],S,p,v,b))return!1}return!0}finally{b&&b.delete(v)}}function c(p,v,m,b){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,A]of v.entries()){const S=p.get(w);if(m(S,A,w,p,v,b)===!1)return!1}return!0}function f(p,v,m,b){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let A=0;A<v.length;A++){const S=v[A];let I=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const N=p[O];let k=!1;if(m(N,S,A,p,v,b)&&(k=!0),k){w.add(O),I=!0;break}}if(!I)return!1}return!0}function h(p,v,m,b){return v.size===0?!0:p instanceof Set?f([...p],[...v],m,b):!1}t.isMatchWith=a,t.isSetMatch=h})(K2)),K2}var Z6;function _A(){return Z6||(Z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(W2)),W2}var Z2={},J2={},e_={},J6;function vte(){return J6||(J6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(e_)),e_}var t_={},e8;function A9(){return e8||(e8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(t_)),t_}var n_={},t8;function S9(){return t8||(t8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",m="[object Object]",b="[object Error]",w="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]",N="[object BigUint64Array]",k="[object Int8Array]",B="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",j="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=b,t.float32ArrayTag=j,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=B,t.int32ArrayTag=P,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=O,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=S})(n_)),n_}var r_={},n8;function mte(){return n8||(n8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(r_)),r_}var r8;function T9(){return r8||(r8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vte(),n=A9(),r=S9(),i=w9(),a=mte();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,v,m=new Map,b=void 0){const w=b?.(h,p,v,m);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(m.has(h))return m.get(h);if(Array.isArray(h)){const A=new Array(h.length);m.set(h,A);for(let S=0;S<h.length;S++)A[S]=l(h[S],S,v,m,b);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;m.set(h,A);for(const[S,I]of h)A.set(S,l(I,S,v,m,b));return A}if(h instanceof Set){const A=new Set;m.set(h,A);for(const S of h)A.add(l(S,void 0,v,m,b));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);m.set(h,A);for(let S=0;S<h.length;S++)A[S]=l(h[S],S,v,m,b);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return m.set(h,A),c(A,h,v,m,b),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return m.set(h,A),c(A,h,v,m,b),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return m.set(h,A),c(A,h,v,m,b),A}if(h instanceof Error){const A=new h.constructor;return m.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,c(A,h,v,m,b),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return m.set(h,A),c(A,h,v,m,b),A}if(h instanceof Number){const A=new Number(h.valueOf());return m.set(h,A),c(A,h,v,m,b),A}if(h instanceof String){const A=new String(h.valueOf());return m.set(h,A),c(A,h,v,m,b),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return m.set(h,A),c(A,h,v,m,b),A}return h}function c(h,p,v=h,m,b){const w=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<w.length;A++){const S=w[A],I=Object.getOwnPropertyDescriptor(h,S);(I==null||I.writable)&&(h[S]=l(p[S],S,v,m,b))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(J2)),J2}var i8;function yte(){return i8||(i8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T9();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Z2)),Z2}var a8;function xte(){return a8||(a8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_A(),n=yte();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(G2)),G2}var i_={},a_={},o_={},o8;function _te(){return o8||(o8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T9(),n=S9();function r(i,a){return e.cloneDeepWith(i,(o,l,c,f)=>{const h=a?.(o,l,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(o_)),o_}var s8;function bte(){return s8||(s8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_te();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(a_)),a_}var s_={},l_={},l8;function C9(){return l8||(l8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(l_)),l_}var u_={},u8;function wte(){return u8||(u8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A9();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(u_)),u_}var c8;function Ete(){return c8||(c8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XM(),n=C9(),r=wte(),i=sA();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let f=o;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(s_)),s_}var f8;function Ate(){return f8||(f8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_A(),n=oA(),r=bte(),i=lA(),a=Ete();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=o})(i_)),i_}var d8;function Ste(){return d8||(d8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_9(),n=pte(),r=xte(),i=Ate();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})($2)),$2}var h8;function Tte(){return h8||(h8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cte(),n=_9(),r=hte(),i=Ste();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(L2)),L2}var c_,p8;function Cte(){return p8||(p8=1,c_=Tte().uniqBy),c_}var Ite=Cte();const g8=xo(Ite);function I9(t,e,n){return e===!0?g8(t,n):typeof e=="function"?g8(t,e):t}var f_={exports:{}},d_={},h_={exports:{}},p_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8;function Ote(){if(v8)return p_;v8=1;var t=kf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(p,v){var m=v(),b=r({inst:{value:m,getSnapshot:v}}),w=b[0].inst,A=b[1];return a(function(){w.value=m,w.getSnapshot=v,c(w)&&A({inst:w})},[p,m,v]),i(function(){return c(w)&&A({inst:w}),p(function(){c(w)&&A({inst:w})})},[p]),o(m),m}function c(p){var v=p.getSnapshot;p=p.value;try{var m=v();return!n(p,m)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return p_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,p_}var m8;function Rte(){return m8||(m8=1,h_.exports=Ote()),h_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8;function Pte(){if(y8)return d_;y8=1;var t=kf(),e=Rte();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return d_.useSyncExternalStoreWithSelector=function(f,h,p,v,m){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function S(B){if(!I){if(I=!0,O=B,B=v(B),m!==void 0&&w.hasValue){var P=w.value;if(m(P,B))return N=P}return N=B}if(P=N,r(O,B))return P;var M=v(B);return m!==void 0&&m(P,M)?(O=B,P):(O=B,N=M)}var I=!1,O,N,k=p===void 0?null:p;return[function(){return S(h())},k===null?void 0:function(){return S(k())}]},[h,p,v,m]);var A=i(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),c(A),A},d_}var x8;function Nte(){return x8||(x8=1,f_.exports=Pte()),f_.exports}var Dte=Nte(),bA=C.createContext(null),Mte=t=>t,un=()=>{var t=C.useContext(bA);return t?t.store.dispatch:Mte},hg=()=>{},kte=()=>hg,jte=(t,e)=>t===e;function Ce(t){var e=C.useContext(bA);return Dte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:kte,e?e.store.getState:hg,e?e.store.getState:hg,e?t:hg,jte)}function Lte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Bte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Ute(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _8=t=>Array.isArray(t)?t:[t];function Fte(t){const e=Array.isArray(t[0])?t[0]:t;return Ute(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Vte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var zte=class{constructor(t){this.value=t}deref(){return this.value}},Hte=typeof WeakRef<"u"?WeakRef:zte,$te=0,b8=1;function L1(){return{s:$te,v:void 0,o:null,p:null}}function O9(t,e={}){let n=L1();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let l=n;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(m);w===void 0?(l=L1(),b.set(m,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(m);w===void 0?(l=L1(),b.set(m,l)):l=w}}const f=l;let h;if(l.s===b8)h=l.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Hte(h):h}return f.s=b8,f.v=h,h}return o.clearCache=()=>{n=L1(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function qte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),Lte(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:m=O9,argsMemoizeOptions:b=[]}=h,w=_8(v),A=_8(b),S=Fte(i),I=p(function(){return a++,f.apply(null,arguments)},...w),O=m(function(){o++;const k=Vte(S,arguments);return l=I.apply(null,k),l},...A);return Object.assign(O,{resultFunc:f,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ne=qte(O9),Gte=Object.assign((t,e=ne)=>{Bte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>Gte}),g_={},v_={},m_={},w8;function Wte(){return w8||(w8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(m_)),m_}var y_={},x_={},E8;function R9(){return E8||(E8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(x_)),x_}var A8;function Kte(){return A8||(A8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(y_)),y_}var S8;function Xte(){return S8||(S8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wte(),n=Kte(),r=sA();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const f=(m,b)=>{let w=m;for(let A=0;A<b.length&&w!=null;++A)w=w[b[A]];return w},h=(m,b)=>b==null||m==null?b:typeof m=="object"&&"key"in m?Object.hasOwn(b,m.key)?b[m.key]:f(b,m.path):typeof m=="function"?m(b):Array.isArray(m)?f(b,m):typeof b=="object"?b[m]:b,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(b=>h(b,m))})).slice().sort((m,b)=>{for(let w=0;w<p.length;w++){const A=e.compareValues(m.criteria[w],b.criteria[w],l[w]);if(A!==0)return A}return 0}).map(m=>m.original)}t.orderBy=i})(v_)),v_}var __={},T8;function Yte(){return T8||(T8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,c)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&c<a?o(h,c+1):i.push(h)}};return o(n,0),i}t.flatten=e})(__)),__}var b_={},C8;function P9(){return C8||(C8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C9(),n=xA(),r=b9(),i=E9();function a(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=a})(b_)),b_}var I8;function Qte(){return I8||(I8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xte(),n=Yte(),r=P9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(g_)),g_}var w_,O8;function Zte(){return O8||(O8=1,w_=Qte().sortBy),w_}var Jte=Zte();const mm=xo(Jte);var N9=t=>t.legend.settings,ene=t=>t.legend.size,tne=t=>t.legend.payload,nne=ne([tne,N9],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?mm(r,n):r});function rne(){return Ce(nne)}var B1=1;function D9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>B1||Math.abs(o.left-e.left)>B1||Math.abs(o.top-e.top)>B1||Math.abs(o.width-e.width)>B1)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ine=typeof Symbol=="function"&&Symbol.observable||"@@observable",R8=ine,E_=()=>Math.random().toString(36).substring(7).split("").join("."),ane={INIT:`@@redux/INIT${E_()}`,REPLACE:`@@redux/REPLACE${E_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${E_()}`},Xg=ane;function wA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function M9(t,e,n){if(typeof t!="function")throw new Error(Er(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Er(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Er(1));return n(M9)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((A,S)=>{o.set(S,A)}))}function h(){if(c)throw new Error(Er(3));return i}function p(A){if(typeof A!="function")throw new Error(Er(4));if(c)throw new Error(Er(5));let S=!0;f();const I=l++;return o.set(I,A),function(){if(S){if(c)throw new Error(Er(6));S=!1,f(),o.delete(I),a=null}}}function v(A){if(!wA(A))throw new Error(Er(7));if(typeof A.type>"u")throw new Error(Er(8));if(typeof A.type!="string")throw new Error(Er(17));if(c)throw new Error(Er(9));try{c=!0,i=r(i,A)}finally{c=!1}return(a=o).forEach(I=>{I()}),A}function m(A){if(typeof A!="function")throw new Error(Er(10));r=A,v({type:Xg.REPLACE})}function b(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Er(11));function I(){const N=S;N.next&&N.next(h())}return I(),{unsubscribe:A(I)}},[R8](){return this}}}return v({type:Xg.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:m,[R8]:b}}function one(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xg.INIT})>"u")throw new Error(Er(12));if(typeof n(void 0,{type:Xg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Er(13))})}function k9(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{one(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],v=n[p],m=o[p],b=v(m,l);if(typeof b>"u")throw l&&l.type,new Error(Er(14));f[p]=b,c=c||b!==m}return c=c||r.length!==Object.keys(o).length,c?f:o}}function Yg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function sne(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Er(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},l=t.map(c=>c(o));return a=Yg(...l)(i.dispatch),{...i,dispatch:a}}}function j9(t){return wA(t)&&"type"in t&&typeof t.type=="string"}var L9=Symbol.for("immer-nothing"),P8=Symbol.for("immer-draftable"),ki=Symbol.for("immer-state");function Oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Tf=Object.getPrototypeOf;function Yu(t){return!!t&&!!t[ki]}function ss(t){return t?B9(t)||Array.isArray(t)||!!t[P8]||!!t.constructor?.[P8]||Ip(t)||xm(t):!1}var lne=Object.prototype.constructor.toString();function B9(t){if(!t||typeof t!="object")return!1;const e=Tf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lne}function Qg(t,e){ym(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ym(t){const e=t[ki];return e?e.type_:Array.isArray(t)?1:Ip(t)?2:xm(t)?3:0}function ew(t,e){return ym(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function U9(t,e,n){const r=ym(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function une(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ip(t){return t instanceof Map}function xm(t){return t instanceof Set}function Au(t){return t.copy_||t.base_}function tw(t,e){if(Ip(t))return new Map(t);if(xm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=B9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ki];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Tf(t),r)}else{const r=Tf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function EA(t,e=!1){return _m(t)||Yu(t)||!ss(t)||(ym(t)>1&&Object.defineProperties(t,{set:{value:U1},add:{value:U1},clear:{value:U1},delete:{value:U1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>EA(n,!0))),t}function U1(){Oa(2)}function _m(t){return Object.isFrozen(t)}var cne={};function Qu(t){const e=cne[t];return e||Oa(0,t),e}var Jh;function F9(){return Jh}function fne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function N8(t,e){e&&(Qu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nw(t){rw(t),t.drafts_.forEach(dne),t.drafts_=null}function rw(t){t===Jh&&(Jh=t.parent_)}function D8(t){return Jh=fne(Jh,t)}function dne(t){const e=t[ki];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function M8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ki].modified_&&(nw(e),Oa(4)),ss(t)&&(t=Zg(e,t),e.parent_||Jg(e,t)),e.patches_&&Qu("Patches").generateReplacementPatches_(n[ki].base_,t,e.patches_,e.inversePatches_)):t=Zg(e,n,[]),nw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==L9?t:void 0}function Zg(t,e,n){if(_m(e))return e;const r=e[ki];if(!r)return Qg(e,(i,a)=>k8(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Jg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Qg(a,(l,c)=>k8(t,r,i,l,c,n,o)),Jg(t,i,!1),n&&t.patches_&&Qu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function k8(t,e,n,r,i,a,o){if(Yu(i)){const l=a&&e&&e.type_!==3&&!ew(e.assigned_,r)?a.concat(r):void 0,c=Zg(t,i,l);if(U9(n,r,c),Yu(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ss(i)&&!_m(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ip(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jg(t,i)}}function Jg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&EA(e,n)}function hne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:F9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=AA;n&&(i=[r],a=ep);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var AA={get(t,e){if(e===ki)return t;const n=Au(t);if(!ew(n,e))return pne(t,n,e);const r=n[e];return t.finalized_||!ss(r)?r:r===A_(t.base_,e)?(S_(t),t.copy_[e]=aw(r,t)):r},has(t,e){return e in Au(t)},ownKeys(t){return Reflect.ownKeys(Au(t))},set(t,e,n){const r=V9(Au(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=A_(Au(t),e),a=i?.[ki];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(une(n,i)&&(n!==void 0||ew(t.base_,e)))return!0;S_(t),iw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return A_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,S_(t),iw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Au(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Oa(11)},getPrototypeOf(t){return Tf(t.base_)},setPrototypeOf(){Oa(12)}},ep={};Qg(AA,(t,e)=>{ep[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ep.deleteProperty=function(t,e){return ep.set.call(this,t,e,void 0)};ep.set=function(t,e,n){return AA.set.call(this,t[0],e,n,t[0])};function A_(t,e){const n=t[ki];return(n?Au(n):t)[e]}function pne(t,e,n){const r=V9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function V9(t,e){if(!(e in t))return;let n=Tf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Tf(n)}}function iw(t){t.modified_||(t.modified_=!0,t.parent_&&iw(t.parent_))}function S_(t){t.copy_||(t.copy_=tw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...f){return o.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Oa(6),r!==void 0&&typeof r!="function"&&Oa(7);let i;if(ss(e)){const a=D8(this),o=aw(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?nw(a):rw(a)}return N8(a,r),M8(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===L9&&(i=void 0),this.autoFreeze_&&EA(i,!0),r){const a=[],o=[];Qu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Oa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ss(t)||Oa(8),Yu(t)&&(t=Jo(t));const e=D8(this),n=aw(t,void 0);return n[ki].isManual_=!0,rw(e),n}finishDraft(t,e){const n=t&&t[ki];(!n||!n.isManual_)&&Oa(9);const{scope_:r}=n;return N8(r,e),M8(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Qu("Patches").applyPatches_;return Yu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function aw(t,e){const n=Ip(t)?Qu("MapSet").proxyMap_(t,e):xm(t)?Qu("MapSet").proxySet_(t,e):hne(t,e);return(e?e.scope_:F9()).drafts_.push(n),n}function Jo(t){return Yu(t)||Oa(10,t),z9(t)}function z9(t){if(!ss(t)||_m(t))return t;const e=t[ki];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=tw(t,!0);return Qg(n,(r,i)=>{U9(n,r,z9(i))}),e&&(e.finalized_=!1),n}var vne=new gne,H9=vne.produce;function $9(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var mne=$9(),yne=$9,xne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yg:Yg.apply(null,arguments)};function ca(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Di(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>j9(r)&&r.type===t,n}var q9=class Oh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Oh.prototype)}static get[Symbol.species](){return Oh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Oh(...e[0].concat(this)):new Oh(...e.concat(this))}};function j8(t){return ss(t)?H9(t,()=>{}):t}function F1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _ne(t){return typeof t=="boolean"}var bne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new q9;return n&&(_ne(n)?o.push(mne):o.push(yne(n.extraArgument))),o},wne="RTK_autoBatch",L8=t=>e=>{setTimeout(e,t)},Ene=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:L8(10):t.type==="callback"?t.queueNotification:L8(t.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),v=r.subscribe(p);return l.add(h),()=>{v(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[wne],a=!i,a&&(o||(o=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},Ane=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new q9(t);return r&&i.push(Ene(typeof r=="object"?r:void 0)),i};function Sne(t){const e=bne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(wA(n))l=k9(n);else throw new Error(Di(1));let c;typeof r=="function"?c=r(e):c=e();let f=Yg;i&&(f=xne({trace:!1,...typeof i=="object"&&i}));const h=sne(...c),p=Ane(h);let v=typeof o=="function"?o(p):p();const m=f(...v);return M9(l,a,m)}function G9(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Di(28));if(l in e)throw new Error(Di(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Tne(t){return typeof t=="function"}function Cne(t,e){let[n,r,i]=G9(e),a;if(Tne(t))a=()=>j8(t());else{const l=j8(t);a=()=>l}function o(l=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Yu(h)){const m=p(h,c);return m===void 0?h:m}else{if(ss(h))return H9(h,v=>p(v,c));{const v=p(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},l)}return o.getInitialState=a,o}var Ine="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",One=(t=21)=>{let e="",n=t;for(;n--;)e+=Ine[Math.random()*64|0];return e},Rne=Symbol.for("rtk-slice-createasyncthunk");function Pne(t,e){return`${t}/${e}`}function Nne({creators:t}={}){const e=t?.asyncThunk?.[Rne];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Di(11));const o=(typeof r.reducers=="function"?r.reducers(Mne()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,N){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(Di(12));if(k in c.sliceCaseReducersByType)throw new Error(Di(13));return c.sliceCaseReducersByType[k]=N,f},addMatcher(O,N){return c.sliceMatchers.push({matcher:O,reducer:N}),f},exposeAction(O,N){return c.actionCreators[O]=N,f},exposeCaseReducer(O,N){return c.sliceCaseReducersByName[O]=N,f}};l.forEach(O=>{const N=o[O],k={reducerName:O,type:Pne(i,O),createNotation:typeof r.reducers=="function"};jne(N)?Bne(k,N,f,e):kne(k,N,f)});function h(){const[O={},N=[],k=void 0]=typeof r.extraReducers=="function"?G9(r.extraReducers):[r.extraReducers],B={...O,...c.sliceCaseReducersByType};return Cne(r.initialState,P=>{for(let M in B)P.addCase(M,B[M]);for(let M of c.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of N)P.addMatcher(M.matcher,M.reducer);k&&P.addDefaultCase(k)})}const p=O=>O,v=new Map,m=new WeakMap;let b;function w(O,N){return b||(b=h()),b(O,N)}function A(){return b||(b=h()),b.getInitialState()}function S(O,N=!1){function k(P){let M=P[O];return typeof M>"u"&&N&&(M=F1(m,k,A)),M}function B(P=p){const M=F1(v,N,()=>new WeakMap);return F1(M,P,()=>{const j={};for(const[z,U]of Object.entries(r.selectors??{}))j[z]=Dne(U,P,()=>F1(m,P,A),N);return j})}return{reducerPath:O,getSelectors:B,get selectors(){return B(k)},selectSlice:k}}const I={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...S(a),injectInto(O,{reducerPath:N,...k}={}){const B=N??a;return O.inject({reducerPath:B,reducer:w},k),{...I,...S(B,!0)}}};return I}}function Dne(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Li=Nne();function Mne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kne({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Lne(r))throw new Error(Di(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ca(t,o):ca(t))}function jne(t){return t._reducerDefinitionType==="asyncThunk"}function Lne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Bne({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Di(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:o||V1,pending:l||V1,rejected:c||V1,settled:f||V1})}function V1(){}var Une="task",W9="listener",K9="completed",SA="cancelled",Fne=`task-${SA}`,Vne=`task-${K9}`,ow=`${W9}-${SA}`,zne=`${W9}-${K9}`,bm=class{constructor(t){this.code=t,this.message=`${Une} ${SA} (reason: ${t})`}name="TaskAbortError";message},TA=(t,e)=>{if(typeof t!="function")throw new TypeError(Di(32))},ev=()=>{},X9=(t,e=ev)=>(t.catch(e),t),Y9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Bu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Uu=t=>{if(t.aborted){const{reason:e}=t;throw new bm(e)}};function Q9(t,e){let n=ev;return new Promise((r,i)=>{const a=()=>i(new bm(t.reason));if(t.aborted){a();return}n=Y9(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ev})}var Hne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof bm?"cancelled":"rejected",error:n}}finally{e?.()}},tv=t=>e=>X9(Q9(t,e).then(n=>(Uu(t),n))),Z9=t=>{const e=tv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:hf}=Object,B8={},wm="listenerMiddleware",$ne=(t,e)=>{const n=r=>Y9(t,()=>Bu(r,t.reason));return(r,i)=>{TA(r);const a=new AbortController;n(a);const o=Hne(async()=>{Uu(t),Uu(a.signal);const l=await r({pause:tv(a.signal),delay:Z9(a.signal),signal:a.signal});return Uu(a.signal),l},()=>Bu(a,Vne));return i?.autoJoin&&e.push(o.catch(ev)),{result:tv(t)(o),cancel(){Bu(a,Fne)}}}},qne=(t,e)=>{const n=async(r,i)=>{Uu(e);let a=()=>{};const l=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Q9(e,Promise.race(l));return Uu(e),c}finally{a()}};return(r,i)=>X9(n(r,i))},J9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ca(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Di(21));return TA(a),{predicate:i,type:e,effect:a}},ek=hf(t=>{const{type:e,predicate:n,effect:r}=J9(t);return{id:One(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Di(22))}}},{withTypes:()=>ek}),U8=(t,e)=>{const{type:n,effect:r,predicate:i}=J9(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},sw=t=>{t.pending.forEach(e=>{Bu(e,ow)})},Gne=t=>()=>{t.forEach(sw),t.clear()},F8=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},tk=hf(ca(`${wm}/add`),{withTypes:()=>tk}),Wne=ca(`${wm}/removeAll`),nk=hf(ca(`${wm}/remove`),{withTypes:()=>nk}),Kne=(...t)=>{console.error(`${wm}/error`,...t)},Op=(t={})=>{const e=new Map,{extra:n,onError:r=Kne}=t;TA(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&sw(h)}),a=h=>{const p=U8(e,h)??ek(h);return i(p)};hf(a,{withTypes:()=>a});const o=h=>{const p=U8(e,h);return p&&(p.unsubscribe(),h.cancelActive&&sw(p)),!!p};hf(o,{withTypes:()=>o});const l=async(h,p,v,m)=>{const b=new AbortController,w=qne(a,b.signal),A=[];try{h.pending.add(b),await Promise.resolve(h.effect(p,hf({},v,{getOriginalState:m,condition:(S,I)=>w(S,I).then(Boolean),take:w,delay:Z9(b.signal),pause:tv(b.signal),extra:n,signal:b.signal,fork:$ne(b.signal,A),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,I,O)=>{S!==b&&(Bu(S,ow),O.delete(S))})},cancel:()=>{Bu(b,ow),h.pending.delete(b)},throwIfCancelled:()=>{Uu(b.signal)}})))}catch(S){S instanceof bm||F8(r,S,{raisedBy:"effect"})}finally{await Promise.all(A),Bu(b,zne),h.pending.delete(b)}},c=Gne(e);return{middleware:h=>p=>v=>{if(!j9(v))return p(v);if(tk.match(v))return a(v.payload);if(Wne.match(v)){c();return}if(nk.match(v))return o(v.payload);let m=h.getState();const b=()=>{if(m===B8)throw new Error(Di(23));return m};let w;try{if(w=p(v),e.size>0){const A=h.getState(),S=Array.from(e.values());for(const I of S){let O=!1;try{O=I.predicate(v,A,m)}catch(N){O=!1,F8(r,N,{raisedBy:"predicate"})}O&&l(I,v,h,b)}}}finally{m=B8}return w},startListening:a,stopListening:o,clearListeners:c}};function Di(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rk=Li({name:"chartLayout",initialState:Xne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Yne,setLayout:Qne,setChartSize:Zne,setScale:Jne}=rk.actions,ere=rk.reducer;function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nv=Math.PI/180,ire=t=>t*180/Math.PI,Un=(t,e,n,r)=>({x:t+Math.cos(-nv*r)*n,y:e+Math.sin(-nv*r)*n}),ik=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},are=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},ore=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=are({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:o,angle:ire(c),angleInRadian:c}},sre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},lre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},ure=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=ore({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:f}=sre(e),h=a,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?z8(z8({},e),{},{radius:i,angle:lre(h,e)}):null};function ak(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=dre(t,"string");return typeof e=="symbol"?e:e+""}function dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e,n){return an(t)||an(e)?n:mo(e)?Xu(t,e,n):typeof e=="function"?e(t):n}var hre=(t,e,n,r,i)=>{var a,o=-1,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f=c>0?n[c-1].coordinate:n[l-1].coordinate,h=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(cr(h-f)!==cr(p-h)){var m=[];if(cr(p-h)===cr(i[1]-i[0])){v=p;var b=h+i[1]-i[0];m[0]=Math.min(b,(b+f)/2),m[1]=Math.max(b,(b+f)/2)}else{v=f;var w=p+i[1]-i[0];m[0]=Math.min(h,(w+h)/2),m[1]=Math.max(h,(w+h)/2)}var A=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>A[0]&&t<=A[1]||t>=m[0]&&t<=m[1]){({index:o}=n[c]);break}}else{var S=Math.min(f,p),I=Math.max(f,p);if(t>(S+h)/2&&t<=(I+h)/2){({index:o}=n[c]);break}}}else if(e){for(var O=0;O<l;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===l-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:o}=e[O]);break}}return o},pre=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Re(t[a]))return na(na({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Re(t[o]))return na(na({},t),{},{[o]:t[o]+(i||0)})}return t},Bl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",ok=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},sk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:v,axisType:m}=t;if(!o)return null;var b=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=m==="angleAxis"&&a&&a.length>=2?cr(a[0]-a[1])*2*w:w,p||v){var A=(p||v||[]).map((S,I)=>{var O=r?r.indexOf(S):S;return{coordinate:o(O)+w,value:S,offset:w,index:I}});return A.filter(S=>!Mi(S.coordinate))}return c&&f?f.map((S,I)=>({coordinate:o(S)+w,value:S,index:I,offset:w})):o.ticks&&h!=null?o.ticks(h).map((S,I)=>({coordinate:o(S)+w,value:S,offset:w,index:I})):o.domain().map((S,I)=>({coordinate:o(S)+w,value:r?r[S]:S,index:I,offset:w}))},$8=1e-4,gre=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-$8,a=Math.max(r[0],r[1])+$8,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},vre=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},mre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=Mi(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},yre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Mi(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},xre={sign:mre,expand:Kee,none:Sf,silhouette:Xee,wiggle:Yee,positive:yre},_re=(t,e,n)=>{var r=xre[n],i=Wee().keys(e).value((a,o)=>+Gt(a,o,0)).order(Qb).offset(r);return i(t)};function bre(t){return t==null?void 0:String(t)}function q8(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!an(i[e.dataKey])){var l=QM(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Gt(i,an(o)?e.dataKey:o);return an(c)?null:e.scale(c)}var G8=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Gt(a,e.dataKey,e.scale.domain()[o]);return an(l)?null:e.scale(l)-i/2+r},wre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Ere=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},Are=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Sre=(t,e,n)=>{if(t!=null)return Are(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((c,f)=>{var h=ak(f,e,n),p=Ere(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},W8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=mm(e,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function X8(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return na(na({},e),{},{dataKey:n,payload:r,value:i,name:a})}function qf(t,e){if(t)return String(t);if(typeof e=="string")return e}function Tre(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?ure({x:t,y:e},r):null}var Cre=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return na(na(na({},r),Un(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=r;return na(na(na({},r),Un(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},Ire=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ds=t=>t.layout.width,hs=t=>t.layout.height,Ore=t=>t.layout.scale,lk=t=>t.layout.margin,Em=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Am=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),uk="data-recharts-item-index",ck="data-recharts-item-data-key",Rp=60;function Y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(n),!0).forEach(function(r){Rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rre(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre=t=>t.brush.height;function Mre(t){var e=Am(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rp;return n+i}return n},0)}function kre(t){var e=Am(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rp;return n+i}return n},0)}function jre(t){var e=Em(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Lre(t){var e=Em(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Zn=ne([ds,hs,lk,Dre,Mre,kre,jre,Lre,N9,ene],(t,e,n,r,i,a,o,l,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},v=z1(z1({},p),h),m=v.bottom;v.bottom+=r,v=pre(v,c,f);var b=t-v.left-v.right,w=e-v.top-v.bottom;return z1(z1({brushBottom:m},v),{},{width:Math.max(b,0),height:Math.max(w,0)})}),Bre=ne(Zn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),CA=ne(ds,hs,(t,e)=>({x:0,y:0,width:t,height:e})),Ure=C.createContext(null),gi=()=>C.useContext(Ure)!=null,Sm=t=>t.brush,Tm=ne([Sm,Zn,lk],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Re(t.width)?t.width:e.width})),IA=()=>{var t,e=gi(),n=Ce(Bre),r=Ce(Tm),i=(t=Ce(Sm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Fre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fk=()=>{var t;return(t=Ce(Zn))!==null&&t!==void 0?t:Fre},OA=()=>Ce(ds),RA=()=>Ce(hs),Vre=()=>Ce(t=>t.layout.margin),dt=t=>t.layout.layoutType,Cm=()=>Ce(dt),zre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dk=Li({name:"legend",initialState:zre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Jo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Q8,setLegendSettings:Hre,addLegendPayload:hk,removeLegendPayload:pk}=dk.actions,$re=dk.reducer,qre=["contextPayload"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(n),!0).forEach(function(r){PA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PA(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kre(t,e){if(t==null)return{};var n,r,i=Xre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yre(t){return t.value}function Qre(t){var{contextPayload:e}=t,n=Kre(t,qre),r=I9(e,t.payloadUniqBy,Yre),i=Cf(Cf({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(yA,i)}function Zre(t,e,n,r,i,a){var{layout:o,align:l,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Cf(Cf({},f),h)}function Jre(t){var e=un();return C.useEffect(()=>{e(Hre(t))},[e,t]),null}function eie(t){var e=un();return C.useEffect(()=>(e(Q8(t)),()=>{e(Q8({width:0,height:0}))}),[e,t]),null}function tie(t){var e=rne(),n=mee(),r=Vre(),{width:i,height:a,wrapperStyle:o,portal:l}=t,[c,f]=D9([e]),h=OA(),p=RA();if(h==null||p==null)return null;var v=h-(r.left||0)-(r.right||0),m=Im.getWidthOrHeight(t.layout,a,i,v),b=l?o:Cf(Cf({position:"absolute",width:m?.width||i||"auto",height:m?.height||a||"auto"},Zre(o,t,r,h,p,c)),o),w=l??n;if(w==null)return null;var A=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},C.createElement(Jre,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),C.createElement(eie,{width:c.width,height:c.height}),C.createElement(Qre,lw({},t,m,{margin:r,chartWidth:h,chartHeight:p,contextPayload:e})));return t9.createPortal(A,w)}class Im extends C.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Re(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return C.createElement(tie,this.props)}}PA(Im,"displayName","Legend");PA(Im,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function J8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t){return Array.isArray(t)&&mo(t[0])&&mo(t[1])?t.join(" ~ "):t}var oie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=!1}=t,m=()=>{if(a&&a.length){var k={padding:0,margin:0},B=(l?mm(a,l):a).map((P,M)=>{if(P.type==="none")return null;var j=P.formatter||o||aie,{value:z,name:U}=P,H=z,F=U;if(j){var pe=j(z,U,P,M,a);if(Array.isArray(pe))[H,F]=pe;else if(pe!=null)H=pe;else return null}var _e=T_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:_e},mo(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,mo(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},H),C.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},b=T_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=T_({margin:0},i),A=!an(h),S=A?h:"",I=mt("recharts-default-tooltip",c),O=mt("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(S=p(h,a));var N=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",uw({className:I,style:b},N),C.createElement("p",{className:O,style:w},C.isValidElement(S)?S:"".concat(S)),m())},fh="recharts-tooltip-wrapper",sie={visibility:"hidden"};function lie(t){var{coordinate:e,translateX:n,translateY:r}=t;return mt(fh,{["".concat(fh,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(fh,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(fh,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(fh,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function eR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:f}=t;if(a&&Re(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?h:p;var v=c[r];if(v==null)return 0;if(o[r]){var m=h,b=v;return m<b?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var w=p+l,A=v+f;return w>A?Math.max(h,v):Math.max(p,v)}function uie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,f,h,p;return o.height>0&&o.width>0&&n?(h=eR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=eR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=uie({translateX:h,translateY:p,useTranslate3d:l})):f=sie,{cssProperties:f,cssClasses:lie({translateX:h,translateY:p,coordinate:n})}}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cw(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hie extends C.PureComponent{constructor(){super(...arguments),cw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:m,wrapperStyle:b,lastBoundingBox:w,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:O}=cie({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:m}),N=S?{}:H1(H1({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=H1(H1({},N),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:k,ref:A},a)}}var pie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ul={devToolsEnabled:!1,isSsr:pie()},gk=()=>Ce(t=>t.rootProps.accessibilityLayer);function ji(t){return Number.isFinite(t)}function If(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iR={curveBasisClosed:jee,curveBasisOpen:Lee,curveBasis:kee,curveBumpX:bee,curveBumpY:wee,curveLinearClosed:Bee,curveLinear:gm,curveMonotoneX:Uee,curveMonotoneY:Fee,curveNatural:Vee,curveStep:zee,curveStepAfter:$ee,curveStepBefore:Hee},$1=t=>ji(t.x)&&ji(t.y),dh=t=>t.x,hh=t=>t.y,yie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Tp(t));return(n==="curveMonotone"||n==="curveBump")&&e?iR["".concat(n).concat(e==="vertical"?"Y":"X")]:iR[n]||gm},xie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=yie(e,i),l=a?n.filter($1):n,c;if(Array.isArray(r)){var f=a?r.filter(p=>$1(p)):r,h=l.map((p,v)=>rR(rR({},p),{},{base:f[v]}));return i==="vertical"?c=j1().y(hh).x1(dh).x0(p=>p.base.x):c=j1().x(dh).y1(hh).y0(p=>p.base.y),c.defined($1).curve(o),c(h)}return i==="vertical"&&Re(r)?c=j1().y(hh).x1(dh).x0(r):Re(r)?c=j1().x(dh).y1(hh).y0(r):c=l9().x(dh).y(hh),c.defined($1).curve(o),c(l)},NA=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?xie(t):r;return C.createElement("path",fw({},Ao(t),cA(t),{className:mt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},_ie=["x","y","top","left","width","height","className"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e,n){return(e=Eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sie(t,e){if(t==null)return{};var n,r,i=Tie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cie=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Iie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,c=Sie(t,_ie),f=bie({x:e,y:n,top:r,left:i,width:a,height:o},c);return!Re(e)||!Re(n)||!Re(a)||!Re(o)||!Re(r)||!Re(i)?null:C.createElement("path",dw({},ln(f,!0),{className:mt("recharts-cross",l),d:Cie(e,n,a,o,r,i)}))};function Oie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return(e=Nie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nie(t){var e=Die(t,"string");return typeof e=="symbol"?e:e+""}function Die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rr(t,e){var n=Rie({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}function Mie(){}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kie(t,e,n){return(e=jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vk=(t,e,n)=>t.map(r=>"".concat(Bie(r)," ").concat(e,"ms ").concat(n)).join(","),Uie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),np=(t,e)=>Object.keys(e).reduce((n,r)=>lR(lR({},n),{},{[r]:t(r,e[r])}),{});function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){Fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fie(t,e,n){return(e=Vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=(t,e,n)=>t+(e-t)*n,hw=t=>{var{from:e,to:n}=t;return e!==n},mk=(t,e,n)=>{var r=np((i,a)=>{if(hw(a)){var[o,l]=t(a.from,a.to,a.velocity);return Sr(Sr({},a),{},{from:o,velocity:l})}return a},e);return n<1?np((i,a)=>hw(a)?Sr(Sr({},a),{},{velocity:rv(a.velocity,r[i].velocity,n),from:rv(a.from,r[i].from,n)}):a,e):mk(t,r,n-1)};function Hie(t,e,n,r,i,a){var o,l=r.reduce((v,m)=>Sr(Sr({},v),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>np((v,m)=>m.from,l),f=()=>!Object.values(l).filter(hw).length,h=null,p=v=>{o||(o=v);var m=v-o,b=m/n.dt;l=mk(n,l,b),i(Sr(Sr(Sr({},t),e),c())),o=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function $ie(t,e,n,r,i,a,o){var l=null,c=i.reduce((p,v)=>Sr(Sr({},p),{},{[v]:[t[v],e[v]]}),{}),f,h=p=>{f||(f=p);var v=(p-f)/r,m=np((w,A)=>rv(...A,n(v)),c);if(a(Sr(Sr(Sr({},t),e),m)),v<1)l=o.setTimeout(h);else{var b=np((w,A)=>rv(...A,n(1)),c);a(Sr(Sr(Sr({},t),e),b))}};return()=>(l=o.setTimeout(h),()=>{l()})}const qie=(t,e,n,r,i,a)=>{var o=Uie(t,e);return n.isStepper===!0?Hie(t,e,n,o,i,a):$ie(t,e,n,r,o,i,a)};var iv=1e-4,yk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],xk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),cR=(t,e)=>n=>{var r=yk(t,e);return xk(r,n)},Gie=(t,e)=>n=>{var r=yk(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return xk(i,n)},fR=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([e,r,n,i]=o);var f=cR(e,n),h=cR(r,i),p=Gie(e,n),v=b=>b>1?1:b<0?0:b,m=b=>{for(var w=b>1?1:b,A=w,S=0;S<8;++S){var I=f(A)-w,O=p(A);if(Math.abs(I-w)<iv||O<iv)return h(A);A=v(A-I/O)}return h(A)};return m.isStepper=!1,m},Wie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,c)=>{var f=-(o-l)*n,h=c*r,p=c+(f-h)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<iv&&Math.abs(p)<iv?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Kie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fR(t);case"spring":return Wie();default:if(t.split("(")[0]==="cubic-bezier")return fR(t)}return typeof t=="function"?t:null};function Xie(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...f]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,f),c);return}a(c),i=t.setTimeout(a.bind(null,f));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Qie(){return Xie(new Yie)}var Zie=C.createContext(Qie);function Jie(t,e){var n=C.useContext(Zie);return C.useMemo(()=>e??n(t),[t,e,n])}var eae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dR={t:0},C_={t:1};function Pp(t){var e=Rr(t,eae),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:f}=e,h=Jie(e.animationId,e.animationManager),[p,v]=C.useState(n?dR:C_),m=C.useRef(null);return C.useEffect(()=>{n||v(C_)},[n]),C.useEffect(()=>{if(!n||!r)return Mie;var b=qie(dR,C_,Kie(a),i,v,h.getTimeoutController()),w=()=>{m.current=b()};return h.start([c,o,w,i,l]),()=>{h.stop(),m.current&&m.current(),l()}},[n,r,i,a,o,c,l,h]),f(p.t)}function Np(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Zh(e)),r=C.useRef(t);return r.current!==t&&(n.current=Zh(e),r.current=t),n.current}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tae(t,e,n){return(e=nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t){var e=rae(t,"string");return typeof e=="symbol"?e:e+""}function rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}var gR=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),f+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+o*h[1])),f+="L ".concat(t+n,",").concat(e+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),f+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);f="M ".concat(t,",").concat(e+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+o*m,`
            L `).concat(t+n,",").concat(e+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-o*m," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},iae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_k=t=>{var e=Rr(t,iae),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var pe=n.current.getTotalLength();pe&&i(pe)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:v,animationBegin:m,isAnimationActive:b,isUpdateAnimationActive:w}=e,A=C.useRef(l),S=C.useRef(c),I=C.useRef(a),O=C.useRef(o),N=C.useMemo(()=>({x:a,y:o,width:l,height:c,radius:f}),[a,o,l,c,f]),k=Np(N,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var B=mt("recharts-rectangle",h);if(!w)return C.createElement("path",av({},ln(e,!0),{className:B,d:gR(a,o,l,c,f)}));var P=A.current,M=S.current,j=I.current,z=O.current,U="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),F=vk(["strokeDasharray"],v,typeof p=="string"?p:void 0);return C.createElement(Pp,{animationId:k,key:k,canBegin:r>0,duration:v,easing:p,isActive:w,begin:m},pe=>{var _e=dn(P,l,pe),X=dn(M,c,pe),re=dn(j,a,pe),de=dn(z,o,pe);n.current&&(A.current=_e,S.current=X,I.current=re,O.current=de);var we;return b?pe>0?we={transition:F,strokeDasharray:H}:we={strokeDasharray:U}:we={strokeDasharray:H},C.createElement("path",av({},ln(e,!0),{className:B,d:gR(re,de,_e,X,f),ref:n,style:pR(pR({},we),e.style)}))})};function bk(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Un(e,n,r,i),l=Un(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(null,arguments)}var aae=(t,e)=>{var n=cr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},q1=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,f=l*(o?1:-1)+r,h=Math.asin(l/f)/nv,p=c?i:i+a*h,v=Un(e,n,f,p),m=Un(e,n,r,p),b=c?i-a*h:i,w=Un(e,n,f*Math.cos(h*nv),b);return{center:v,circleTangency:m,lineTangency:w,theta:h}},wk=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=aae(a,o),c=a+l,f=Un(e,n,i,a),h=Un(e,n,i,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Un(e,n,r,a),m=Un(e,n,r,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},oae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}=t,h=cr(f-c),{circleTangency:p,lineTangency:v,theta:m}=q1({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:b,lineTangency:w,theta:A}=q1({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-f):Math.abs(c-f)-m-A;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):wk({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:N,theta:k}=q1({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:B,lineTangency:P,theta:M}=q1({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(c-f):Math.abs(c-f)-k-M;if(j<0&&a===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},sae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ek=t=>{var e=Rr(t,sae),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var v=mt("recharts-sector",p),m=a-i,b=Ur(o,m,0,!0),w;return b>0&&Math.abs(f-h)<360?w=oae({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):w=wk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),C.createElement("path",pw({},ln(e,!0),{className:v,d:w}))};function lae(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:f,outerRadius:h,angle:p}=e,v=Un(l,c,f,p),m=Un(l,c,h,p);r=v.x,i=v.y,a=m.x,o=m.y}else return bk(e);return[{x:r,y:i},{x:a,y:o}]}var I_={},O_={},R_={},vR;function uae(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R9();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(R_)),R_}var mR;function cae(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(O_)),O_}var yR;function fae(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P9(),n=cae();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let f=0;f<l;f++)c[f]=i,i+=o;return c}t.range=r})(I_)),I_}var P_,xR;function dae(){return xR||(xR=1,P_=fae().range),P_}var hae=dae();const Ak=xo(hae);function yl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DA(t){let e,n,r;t.length!==2?(e=yl,n=(l,c)=>yl(t(l),c),r=(l,c)=>t(l)-c):(e=t===yl||t===pae?t:gae,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function gae(){return 0}function Sk(t){return t===null?NaN:+t}function*vae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mae=DA(yl),Dp=mae.right;DA(Sk).center;class _R extends Map{constructor(e,n=_ae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bR(this,e))}has(e){return super.has(bR(this,e))}set(e,n){return super.set(yae(this,e),n)}delete(e){return super.delete(xae(this,e))}}function bR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _ae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bae(t=yl){if(t===yl)return Tk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Tk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wae=Math.sqrt(50),Eae=Math.sqrt(10),Aae=Math.sqrt(2);function ov(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wae?10:a>=Eae?5:a>=Aae?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?ov(t,e,n*2):[l,c,f]}function gw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?ov(e,t,n):ov(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function vw(t,e,n){return e=+e,t=+t,n=+n,ov(t,e,n)[2]}function mw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vw(e,t,n):vw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ER(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Ck(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Tk:bae(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),m=Math.max(n,Math.floor(e-f*p/c+v)),b=Math.min(r,Math.floor(e+(c-f)*p/c+v));Ck(t,e,m,b,i)}const a=t[e];let o=n,l=r;for(ph(t,n,e),i(t[r],a)>0&&ph(t,n,r);o<l;){for(ph(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?ph(t,n,l):(++l,ph(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function ph(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Sae(t,e,n){if(t=Float64Array.from(vae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ER(t);if(e>=1)return wR(t);var r,i=(r-1)*e,a=Math.floor(i),o=wR(Ck(t,a).subarray(0,a+1)),l=ER(t.subarray(a+1));return o+(l-o)*(i-a)}}function Tae(t,e,n=Sk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Cae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ps(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yw=Symbol("implicit");function MA(){var t=new _R,e=[],n=[],r=yw;function i(a){let o=t.get(a);if(o===void 0){if(r!==yw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new _R;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MA(e,n).unknown(r)},da.apply(i,arguments),i}function kA(){var t=MA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,m=i<r,b=m?i:r,w=m?r:i;a=(w-b)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),b+=(w-b-a*(v-c))*h,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var A=Cae(v).map(function(S){return b+a*S});return n(m?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return kA(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},da.apply(p(),arguments)}function Ik(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ik(e())},t}function Iae(){return Ik(kA.apply(null,arguments).paddingInner(1))}function jA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ok(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mp(){}var rp=.7,sv=1/rp,pf="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oae=/^#([0-9a-f]{3,8})$/,Rae=new RegExp(`^rgb\\(${pf},${pf},${pf}\\)$`),Pae=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),Nae=new RegExp(`^rgba\\(${pf},${pf},${pf},${ip}\\)$`),Dae=new RegExp(`^rgba\\(${ho},${ho},${ho},${ip}\\)$`),Mae=new RegExp(`^hsl\\(${ip},${ho},${ho}\\)$`),kae=new RegExp(`^hsla\\(${ip},${ho},${ho},${ip}\\)$`),AR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jA(Mp,ap,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SR,formatHex:SR,formatHex8:jae,formatHsl:Lae,formatRgb:TR,toString:TR});function SR(){return this.rgb().formatHex()}function jae(){return this.rgb().formatHex8()}function Lae(){return Rk(this).formatHsl()}function TR(){return this.rgb().formatRgb()}function ap(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?CR(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?G1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?G1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rae.exec(t))?new fi(e[1],e[2],e[3],1):(e=Pae.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Nae.exec(t))?G1(e[1],e[2],e[3],e[4]):(e=Dae.exec(t))?G1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mae.exec(t))?RR(e[1],e[2]/100,e[3]/100,1):(e=kae.exec(t))?RR(e[1],e[2]/100,e[3]/100,e[4]):AR.hasOwnProperty(t)?CR(AR[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function CR(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function G1(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function Bae(t){return t instanceof Mp||(t=ap(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function xw(t,e,n,r){return arguments.length===1?Bae(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}jA(fi,xw,Ok(Mp,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rp:Math.pow(rp,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(Fu(this.r),Fu(this.g),Fu(this.b),lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IR,formatHex:IR,formatHex8:Uae,formatRgb:OR,toString:OR}));function IR(){return`#${Ru(this.r)}${Ru(this.g)}${Ru(this.b)}`}function Uae(){return`#${Ru(this.r)}${Ru(this.g)}${Ru(this.b)}${Ru((isNaN(this.opacity)?1:this.opacity)*255)}`}function OR(){const t=lv(this.opacity);return`${t===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${t===1?")":`, ${t})`}`}function lv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ru(t){return t=Fu(t),(t<16?"0":"")+t.toString(16)}function RR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ra(t,e,n,r)}function Rk(t){if(t instanceof Ra)return new Ra(t.h,t.s,t.l,t.opacity);if(t instanceof Mp||(t=ap(t)),!t)return new Ra;if(t instanceof Ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Ra(o,l,c,t.opacity)}function Fae(t,e,n,r){return arguments.length===1?Rk(t):new Ra(t,e,n,r??1)}function Ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}jA(Ra,Fae,Ok(Mp,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rp:Math.pow(rp,t),new Ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(N_(t>=240?t-240:t+120,i,r),N_(t,i,r),N_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ra(PR(this.h),W1(this.s),W1(this.l),lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lv(this.opacity);return`${t===1?"hsl(":"hsla("}${PR(this.h)}, ${W1(this.s)*100}%, ${W1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PR(t){return t=(t||0)%360,t<0?t+360:t}function W1(t){return Math.max(0,Math.min(1,t||0))}function N_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LA=t=>()=>t;function Vae(t,e){return function(n){return t+n*e}}function zae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hae(t){return(t=+t)==1?Pk:function(e,n){return n-e?zae(e,n,t):LA(isNaN(e)?n:e)}}function Pk(t,e){var n=e-t;return n?Vae(t,n):LA(isNaN(t)?e:t)}const NR=(function t(e){var n=Hae(e);function r(i,a){var o=n((i=xw(i)).r,(a=xw(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=Pk(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function $ae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function qae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Gf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Wae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function uv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var _w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D_=new RegExp(_w.source,"g");function Xae(t){return function(){return t}}function Yae(t){return function(e){return t(e)+""}}function Qae(t,e){var n=_w.lastIndex=D_.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=_w.exec(t))&&(i=D_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:uv(r,i)})),n=D_.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Yae(c[0].x):Xae(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function Gf(t,e){var n=typeof e,r;return e==null||n==="boolean"?LA(e):(n==="number"?uv:n==="string"?(r=ap(e))?(e=r,NR):Qae:e instanceof ap?NR:e instanceof Date?Wae:qae(e)?$ae:Array.isArray(e)?Gae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kae:uv)(t,e)}function BA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Zae(t,e){e===void 0&&(e=t,t=Gf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Jae(t){return function(){return t}}function cv(t){return+t}var DR=[0,1];function Zr(t){return t}function bw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Jae(isNaN(e)?NaN:.5)}function eoe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function toe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=bw(i,r),a=n(o,a)):(r=bw(r,i),a=n(a,o)),function(l){return a(r(l))}}function noe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=bw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=Dp(t,l,1,r)-1;return a[c](i[c](l))}}function kp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Om(){var t=DR,e=DR,n=Gf,r,i,a,o=Zr,l,c,f;function h(){var v=Math.min(t.length,e.length);return o!==Zr&&(o=eoe(t[0],t[v-1])),l=v>2?noe:toe,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return p.invert=function(v){return o(i((f||(f=l(e,t.map(r),uv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,cv),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=BA,h()},p.clamp=function(v){return arguments.length?(o=v?!0:Zr,h()):o!==Zr},p.interpolate=function(v){return arguments.length?(n=v,h()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,m){return r=v,i=m,h()}}function UA(){return Om()(Zr,Zr)}function roe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Of(t){return t=fv(Math.abs(t)),t?t[1]:NaN}function ioe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function aoe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ooe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function op(t){if(!(e=ooe.exec(t)))throw new Error("invalid format: "+t);var e;return new FA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}op.prototype=FA.prototype;function FA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function soe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nk;function loe(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Nk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fv(t,Math.max(0,e+a-1))[0]}function MR(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:roe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MR(t*100,e),r:MR,s:loe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jR(t){return t}var LR=Array.prototype.map,BR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uoe(t){var e=t.grouping===void 0||t.thousands===void 0?jR:ioe(LR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jR:aoe(LR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=op(p);var v=p.fill,m=p.align,b=p.sign,w=p.symbol,A=p.zero,S=p.width,I=p.comma,O=p.precision,N=p.trim,k=p.type;k==="n"?(I=!0,k="g"):kR[k]||(O===void 0&&(O=12),N=!0,k="g"),(A||v==="0"&&m==="=")&&(A=!0,v="0",m="=");var B=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=w==="$"?r:/[%p]/.test(k)?o:"",M=kR[k],j=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function z(U){var H=B,F=P,pe,_e,X;if(k==="c")F=M(U)+F,U="";else{U=+U;var re=U<0||1/U<0;if(U=isNaN(U)?c:M(Math.abs(U),O),N&&(U=soe(U)),re&&+U==0&&b!=="+"&&(re=!1),H=(re?b==="("?b:l:b==="-"||b==="("?"":b)+H,F=(k==="s"?BR[8+Nk/3]:"")+F+(re&&b==="("?")":""),j){for(pe=-1,_e=U.length;++pe<_e;)if(X=U.charCodeAt(pe),48>X||X>57){F=(X===46?i+U.slice(pe+1):U.slice(pe))+F,U=U.slice(0,pe);break}}}I&&!A&&(U=e(U,1/0));var de=H.length+U.length+F.length,we=de<S?new Array(S-de+1).join(v):"";switch(I&&A&&(U=e(we+U,we.length?S-F.length:1/0),we=""),m){case"<":U=H+U+F+we;break;case"=":U=H+we+U+F;break;case"^":U=we.slice(0,de=we.length>>1)+H+U+F+we.slice(de);break;default:U=we+H+U+F;break}return a(U)}return z.toString=function(){return p+""},z}function h(p,v){var m=f((p=op(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Of(v)/3)))*3,w=Math.pow(10,-b),A=BR[8+b/3];return function(S){return m(w*S)+A}}return{format:f,formatPrefix:h}}var K1,VA,Dk;coe({thousands:",",grouping:[3],currency:["$",""]});function coe(t){return K1=uoe(t),VA=K1.format,Dk=K1.formatPrefix,K1}function foe(t){return Math.max(0,-Of(Math.abs(t)))}function doe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Of(e)/3)))*3-Of(Math.abs(t)))}function hoe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Of(e)-Of(t))+1}function Mk(t,e,n,r){var i=mw(t,e,n),a;switch(r=op(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=doe(i,o))&&(r.precision=a),Dk(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hoe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=foe(i))&&(r.precision=a-(r.type==="%")*2);break}}return VA(r)}function Fl(t){var e=t.domain;return t.ticks=function(n){var r=e();return gw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Mk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=vw(o,l,n),f===c)return r[i]=o,r[a]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function kk(){var t=UA();return t.copy=function(){return kp(t,kk())},da.apply(t,arguments),Fl(t)}function jk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,cv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jk(t).unknown(e)},t=arguments.length?Array.from(t,cv):[0,1],Fl(n)}function Lk(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function UR(t){return Math.log(t)}function FR(t){return Math.exp(t)}function poe(t){return-Math.log(-t)}function goe(t){return-Math.exp(-t)}function voe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function moe(t){return t===10?voe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VR(t){return(e,n)=>-t(-e,n)}function zA(t){const e=t(UR,FR),n=e.domain;let r=10,i,a;function o(){return i=yoe(r),a=moe(r),n()[0]<0?(i=VR(i),a=VR(a),t(poe,goe)):t(UR,FR),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),m=i(h),b,w;const A=l==null?10:+l;let S=[];if(!(r%1)&&m-v<A){if(v=Math.floor(v),m=Math.ceil(m),f>0){for(;v<=m;++v)for(b=1;b<r;++b)if(w=v<0?b/a(-v):b*a(v),!(w<f)){if(w>h)break;S.push(w)}}else for(;v<=m;++v)for(b=r-1;b>=1;--b)if(w=v>0?b/a(-v):b*a(v),!(w<f)){if(w>h)break;S.push(w)}S.length*2<A&&(S=gw(f,h,A))}else S=gw(v,m,Math.min(m-v,A)).map(a);return p?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=op(c)).precision==null&&(c.trim=!0),c=VA(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(Lk(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function Bk(){const t=zA(Om()).domain([1,10]);return t.copy=()=>kp(t,Bk()).base(t.base()),da.apply(t,arguments),t}function zR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HA(t){var e=1,n=t(zR(e),HR(e));return n.constant=function(r){return arguments.length?t(zR(e=+r),HR(e)):e},Fl(n)}function Uk(){var t=HA(Om());return t.copy=function(){return kp(t,Uk()).constant(t.constant())},da.apply(t,arguments)}function $R(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _oe(t){return t<0?-t*t:t*t}function $A(t){var e=t(Zr,Zr),n=1;function r(){return n===1?t(Zr,Zr):n===.5?t(xoe,_oe):t($R(n),$R(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Fl(e)}function qA(){var t=$A(Om());return t.copy=function(){return kp(t,qA()).exponent(t.exponent())},da.apply(t,arguments),t}function boe(){return qA.apply(null,arguments).exponent(.5)}function qR(t){return Math.sign(t)*t*t}function woe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Fk(){var t=UA(),e=[0,1],n=!1,r;function i(a){var o=woe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(qR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,cv)).map(qR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Fk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},da.apply(i,arguments),Fl(i)}function Vk(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Tae(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Dp(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(yl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Vk().domain(t).range(e).unknown(r)},da.apply(a,arguments)}function zk(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Dp(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return zk().domain([t,e]).range(i).unknown(a)},da.apply(Fl(o),arguments)}function Hk(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Dp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Hk().domain(t).range(e).unknown(n)},da.apply(i,arguments)}const M_=new Date,k_=new Date;function Jn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>Jn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(M_.setTime(+a),k_.setTime(+o),t(M_),t(k_),Math.floor(n(M_,k_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const dv=Jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dv);dv.range;const Xo=1e3,aa=Xo*60,Yo=aa*60,ls=Yo*24,GA=ls*7,GR=ls*30,j_=ls*365,Pu=Jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCSeconds());Pu.range;const WA=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xo)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getMinutes());WA.range;const KA=Jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCMinutes());KA.range;const XA=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xo-t.getMinutes()*aa)},(t,e)=>{t.setTime(+t+e*Yo)},(t,e)=>(e-t)/Yo,t=>t.getHours());XA.range;const YA=Jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yo)},(t,e)=>(e-t)/Yo,t=>t.getUTCHours());YA.range;const jp=Jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*aa)/ls,t=>t.getDate()-1);jp.range;const Rm=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>t.getUTCDate()-1);Rm.range;const $k=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>Math.floor(t/ls));$k.range;function sc(t){return Jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*aa)/GA)}const Pm=sc(0),hv=sc(1),Eoe=sc(2),Aoe=sc(3),Rf=sc(4),Soe=sc(5),Toe=sc(6);Pm.range;hv.range;Eoe.range;Aoe.range;Rf.range;Soe.range;Toe.range;function lc(t){return Jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/GA)}const Nm=lc(0),pv=lc(1),Coe=lc(2),Ioe=lc(3),Pf=lc(4),Ooe=lc(5),Roe=lc(6);Nm.range;pv.range;Coe.range;Ioe.range;Pf.range;Ooe.range;Roe.range;const QA=Jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QA.range;const ZA=Jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZA.range;const us=Jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});us.range;const cs=Jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cs.range;function qk(t,e,n,r,i,a){const o=[[Pu,1,Xo],[Pu,5,5*Xo],[Pu,15,15*Xo],[Pu,30,30*Xo],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[i,1,Yo],[i,3,3*Yo],[i,6,6*Yo],[i,12,12*Yo],[r,1,ls],[r,2,2*ls],[n,1,GA],[e,1,GR],[e,3,3*GR],[t,1,j_]];function l(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const m=p&&typeof p.range=="function"?p:c(f,h,p),b=m?m.range(f,+h+1):[];return v?b.reverse():b}function c(f,h,p){const v=Math.abs(h-f)/p,m=DA(([,,A])=>A).right(o,v);if(m===o.length)return t.every(mw(f/j_,h/j_,p));if(m===0)return dv.every(Math.max(mw(f,h,p),1));const[b,w]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return b.every(w)}return[l,c]}const[Poe,Noe]=qk(cs,ZA,Nm,$k,YA,KA),[Doe,Moe]=qk(us,QA,Pm,jp,XA,WA);function L_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function B_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function koe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=vh(i),h=mh(i),p=vh(a),v=mh(a),m=vh(o),b=mh(o),w=vh(l),A=mh(l),S=vh(c),I=mh(c),O={a:re,A:de,b:we,B:Me,c:null,d:ZR,e:ZR,f:ise,g:pse,G:vse,H:tse,I:nse,j:rse,L:Gk,m:ase,M:ose,p:G,q:ee,Q:tP,s:nP,S:sse,u:lse,U:use,V:cse,w:fse,W:dse,x:null,X:null,y:hse,Y:gse,Z:mse,"%":eP},N={a:ye,A:be,b:Oe,B:$e,c:null,d:JR,e:JR,f:bse,g:Pse,G:Dse,H:yse,I:xse,j:_se,L:Kk,m:wse,M:Ese,p:rt,q:mn,Q:tP,s:nP,S:Ase,u:Sse,U:Tse,V:Cse,w:Ise,W:Ose,x:null,X:null,y:Rse,Y:Nse,Z:Mse,"%":eP},k={a:z,A:U,b:H,B:F,c:pe,d:YR,e:YR,f:Qoe,g:XR,G:KR,H:QR,I:QR,j:Woe,L:Yoe,m:Goe,M:Koe,p:j,q:qoe,Q:Joe,s:ese,S:Xoe,u:Foe,U:Voe,V:zoe,w:Uoe,W:Hoe,x:_e,X,y:XR,Y:KR,Z:$oe,"%":Zoe};O.x=B(n,O),O.X=B(r,O),O.c=B(e,O),N.x=B(n,N),N.X=B(r,N),N.c=B(e,N);function B(ge,Ve){return function(Ke){var he=[],yn=-1,Ze=0,Vn=ge.length,xn,vi,ys;for(Ke instanceof Date||(Ke=new Date(+Ke));++yn<Vn;)ge.charCodeAt(yn)===37&&(he.push(ge.slice(Ze,yn)),(vi=WR[xn=ge.charAt(++yn)])!=null?xn=ge.charAt(++yn):vi=xn==="e"?" ":"0",(ys=Ve[xn])&&(xn=ys(Ke,vi)),he.push(xn),Ze=yn+1);return he.push(ge.slice(Ze,yn)),he.join("")}}function P(ge,Ve){return function(Ke){var he=gh(1900,void 0,1),yn=M(he,ge,Ke+="",0),Ze,Vn;if(yn!=Ke.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ve&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=B_(gh(he.y,0,1)),Vn=Ze.getUTCDay(),Ze=Vn>4||Vn===0?pv.ceil(Ze):pv(Ze),Ze=Rm.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=L_(gh(he.y,0,1)),Vn=Ze.getDay(),Ze=Vn>4||Vn===0?hv.ceil(Ze):hv(Ze),Ze=jp.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Vn="Z"in he?B_(gh(he.y,0,1)).getUTCDay():L_(gh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Vn+5)%7:he.w+he.U*7-(Vn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,B_(he)):L_(he)}}function M(ge,Ve,Ke,he){for(var yn=0,Ze=Ve.length,Vn=Ke.length,xn,vi;yn<Ze;){if(he>=Vn)return-1;if(xn=Ve.charCodeAt(yn++),xn===37){if(xn=Ve.charAt(yn++),vi=k[xn in WR?Ve.charAt(yn++):xn],!vi||(he=vi(ge,Ke,he))<0)return-1}else if(xn!=Ke.charCodeAt(he++))return-1}return he}function j(ge,Ve,Ke){var he=f.exec(Ve.slice(Ke));return he?(ge.p=h.get(he[0].toLowerCase()),Ke+he[0].length):-1}function z(ge,Ve,Ke){var he=m.exec(Ve.slice(Ke));return he?(ge.w=b.get(he[0].toLowerCase()),Ke+he[0].length):-1}function U(ge,Ve,Ke){var he=p.exec(Ve.slice(Ke));return he?(ge.w=v.get(he[0].toLowerCase()),Ke+he[0].length):-1}function H(ge,Ve,Ke){var he=S.exec(Ve.slice(Ke));return he?(ge.m=I.get(he[0].toLowerCase()),Ke+he[0].length):-1}function F(ge,Ve,Ke){var he=w.exec(Ve.slice(Ke));return he?(ge.m=A.get(he[0].toLowerCase()),Ke+he[0].length):-1}function pe(ge,Ve,Ke){return M(ge,e,Ve,Ke)}function _e(ge,Ve,Ke){return M(ge,n,Ve,Ke)}function X(ge,Ve,Ke){return M(ge,r,Ve,Ke)}function re(ge){return o[ge.getDay()]}function de(ge){return a[ge.getDay()]}function we(ge){return c[ge.getMonth()]}function Me(ge){return l[ge.getMonth()]}function G(ge){return i[+(ge.getHours()>=12)]}function ee(ge){return 1+~~(ge.getMonth()/3)}function ye(ge){return o[ge.getUTCDay()]}function be(ge){return a[ge.getUTCDay()]}function Oe(ge){return c[ge.getUTCMonth()]}function $e(ge){return l[ge.getUTCMonth()]}function rt(ge){return i[+(ge.getUTCHours()>=12)]}function mn(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ve=B(ge+="",O);return Ve.toString=function(){return ge},Ve},parse:function(ge){var Ve=P(ge+="",!1);return Ve.toString=function(){return ge},Ve},utcFormat:function(ge){var Ve=B(ge+="",N);return Ve.toString=function(){return ge},Ve},utcParse:function(ge){var Ve=P(ge+="",!0);return Ve.toString=function(){return ge},Ve}}}var WR={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,joe=/^%/,Loe=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Boe(t){return t.replace(Loe,"\\$&")}function vh(t){return new RegExp("^(?:"+t.map(Boe).join("|")+")","i")}function mh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Uoe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Foe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function KR(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function XR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $oe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qoe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Goe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function YR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Woe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function QR(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Koe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Yoe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qoe(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zoe(t,e,n){var r=joe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Joe(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ese(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ZR(t,e){return yt(t.getDate(),e,2)}function tse(t,e){return yt(t.getHours(),e,2)}function nse(t,e){return yt(t.getHours()%12||12,e,2)}function rse(t,e){return yt(1+jp.count(us(t),t),e,3)}function Gk(t,e){return yt(t.getMilliseconds(),e,3)}function ise(t,e){return Gk(t,e)+"000"}function ase(t,e){return yt(t.getMonth()+1,e,2)}function ose(t,e){return yt(t.getMinutes(),e,2)}function sse(t,e){return yt(t.getSeconds(),e,2)}function lse(t){var e=t.getDay();return e===0?7:e}function use(t,e){return yt(Pm.count(us(t)-1,t),e,2)}function Wk(t){var e=t.getDay();return e>=4||e===0?Rf(t):Rf.ceil(t)}function cse(t,e){return t=Wk(t),yt(Rf.count(us(t),t)+(us(t).getDay()===4),e,2)}function fse(t){return t.getDay()}function dse(t,e){return yt(hv.count(us(t)-1,t),e,2)}function hse(t,e){return yt(t.getFullYear()%100,e,2)}function pse(t,e){return t=Wk(t),yt(t.getFullYear()%100,e,2)}function gse(t,e){return yt(t.getFullYear()%1e4,e,4)}function vse(t,e){var n=t.getDay();return t=n>=4||n===0?Rf(t):Rf.ceil(t),yt(t.getFullYear()%1e4,e,4)}function mse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function JR(t,e){return yt(t.getUTCDate(),e,2)}function yse(t,e){return yt(t.getUTCHours(),e,2)}function xse(t,e){return yt(t.getUTCHours()%12||12,e,2)}function _se(t,e){return yt(1+Rm.count(cs(t),t),e,3)}function Kk(t,e){return yt(t.getUTCMilliseconds(),e,3)}function bse(t,e){return Kk(t,e)+"000"}function wse(t,e){return yt(t.getUTCMonth()+1,e,2)}function Ese(t,e){return yt(t.getUTCMinutes(),e,2)}function Ase(t,e){return yt(t.getUTCSeconds(),e,2)}function Sse(t){var e=t.getUTCDay();return e===0?7:e}function Tse(t,e){return yt(Nm.count(cs(t)-1,t),e,2)}function Xk(t){var e=t.getUTCDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function Cse(t,e){return t=Xk(t),yt(Pf.count(cs(t),t)+(cs(t).getUTCDay()===4),e,2)}function Ise(t){return t.getUTCDay()}function Ose(t,e){return yt(pv.count(cs(t)-1,t),e,2)}function Rse(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Pse(t,e){return t=Xk(t),yt(t.getUTCFullYear()%100,e,2)}function Nse(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Dse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pf(t):Pf.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function Mse(){return"+0000"}function eP(){return"%"}function tP(t){return+t}function nP(t){return Math.floor(+t/1e3)}var Jc,Yk,Qk;kse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kse(t){return Jc=koe(t),Yk=Jc.format,Jc.parse,Qk=Jc.utcFormat,Jc.utcParse,Jc}function jse(t){return new Date(t)}function Lse(t){return t instanceof Date?+t:+new Date(+t)}function JA(t,e,n,r,i,a,o,l,c,f){var h=UA(),p=h.invert,v=h.domain,m=f(".%L"),b=f(":%S"),w=f("%I:%M"),A=f("%I %p"),S=f("%a %d"),I=f("%b %d"),O=f("%B"),N=f("%Y");function k(B){return(c(B)<B?m:l(B)<B?b:o(B)<B?w:a(B)<B?A:r(B)<B?i(B)<B?S:I:n(B)<B?O:N)(B)}return h.invert=function(B){return new Date(p(B))},h.domain=function(B){return arguments.length?v(Array.from(B,Lse)):v().map(jse)},h.ticks=function(B){var P=v();return t(P[0],P[P.length-1],B??10)},h.tickFormat=function(B,P){return P==null?k:f(P)},h.nice=function(B){var P=v();return(!B||typeof B.range!="function")&&(B=e(P[0],P[P.length-1],B??10)),B?v(Lk(P,B)):h},h.copy=function(){return kp(h,JA(t,e,n,r,i,a,o,l,c,f))},h}function Bse(){return da.apply(JA(Doe,Moe,us,QA,Pm,jp,XA,WA,Pu,Yk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Use(){return da.apply(JA(Poe,Noe,cs,ZA,Nm,Rm,YA,KA,Pu,Qk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dm(){var t=0,e=1,n,r,i,a,o=Zr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(v){var m,b;return arguments.length?([m,b]=v,o=p(m,b),f):[o(0),o(1)]}}return f.range=h(Gf),f.rangeRound=h(BA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zk(){var t=Fl(Dm()(Zr));return t.copy=function(){return Vl(t,Zk())},ps.apply(t,arguments)}function Jk(){var t=zA(Dm()).domain([1,10]);return t.copy=function(){return Vl(t,Jk()).base(t.base())},ps.apply(t,arguments)}function e7(){var t=HA(Dm());return t.copy=function(){return Vl(t,e7()).constant(t.constant())},ps.apply(t,arguments)}function eS(){var t=$A(Dm());return t.copy=function(){return Vl(t,eS()).exponent(t.exponent())},ps.apply(t,arguments)}function Fse(){return eS.apply(null,arguments).exponent(.5)}function t7(){var t=[],e=Zr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Dp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(yl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Sae(t,a/r))},n.copy=function(){return t7(e).domain(t)},ps.apply(n,arguments)}function Mm(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,f=Zr,h,p=!1,v;function m(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:c),f(p?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),a=h(e=+e),o=h(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(p=!!w,m):p},m.interpolator=function(w){return arguments.length?(f=w,m):f};function b(w){return function(A){var S,I,O;return arguments.length?([S,I,O]=A,f=Zae(w,[S,I,O]),m):[f(0),f(.5),f(1)]}}return m.range=b(Gf),m.rangeRound=b(BA),m.unknown=function(w){return arguments.length?(v=w,m):v},function(w){return h=w,i=w(t),a=w(e),o=w(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function n7(){var t=Fl(Mm()(Zr));return t.copy=function(){return Vl(t,n7())},ps.apply(t,arguments)}function r7(){var t=zA(Mm()).domain([.1,1,10]);return t.copy=function(){return Vl(t,r7()).base(t.base())},ps.apply(t,arguments)}function i7(){var t=HA(Mm());return t.copy=function(){return Vl(t,i7()).constant(t.constant())},ps.apply(t,arguments)}function tS(){var t=$A(Mm());return t.copy=function(){return Vl(t,tS()).exponent(t.exponent())},ps.apply(t,arguments)}function Vse(){return tS.apply(null,arguments).exponent(.5)}const Rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kA,scaleDiverging:n7,scaleDivergingLog:r7,scaleDivergingPow:tS,scaleDivergingSqrt:Vse,scaleDivergingSymlog:i7,scaleIdentity:jk,scaleImplicit:yw,scaleLinear:kk,scaleLog:Bk,scaleOrdinal:MA,scalePoint:Iae,scalePow:qA,scaleQuantile:Vk,scaleQuantize:zk,scaleRadial:Fk,scaleSequential:Zk,scaleSequentialLog:Jk,scaleSequentialPow:eS,scaleSequentialQuantile:t7,scaleSequentialSqrt:Fse,scaleSequentialSymlog:e7,scaleSqrt:boe,scaleSymlog:Uk,scaleThreshold:Hk,scaleTime:Bse,scaleUtc:Use,tickFormat:Mk},Symbol.toStringTag,{value:"Module"}));var zl=t=>t.chartData,nS=ne([zl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),km=(t,e,n,r)=>r?nS(t):zl(t);function Nf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ji(e)&&ji(n))return!0}return!1}function rP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function zse(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ji(n))i=n;else if(typeof n=="function")return;if(ji(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Nf(o))return o}}function Hse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Nf(r))return rP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Re(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&W8.test(i)){var c=W8.exec(i);if(c==null||e==null)o=void 0;else{var f=+c[1];o=e[0]-f}}else o=e?.[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Re(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[1]))}catch{}else if(typeof a=="string"&&K8.test(a)){var h=K8.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e?.[1];var v=[o,l];if(Nf(v))return e==null?v:rP(v,e,n)}}}var Wf=1e9,$se={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iS,rn=!0,fa="[DecimalError] ",Vu=fa+"Invalid argument: ",rS=fa+"Exponent out of range: ",Kf=Math.floor,Su=Math.pow,qse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ri,sr=1e7,Qt=7,a7=9007199254740991,gv=Kf(a7/Qt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return es(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Vt(es(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Fn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ri))throw Error(fa+"NaN");if(n.s<1)throw Error(fa+(n.s?"NaN":"-Infinity"));return n.eq(Ri)?new r(0):(rn=!1,e=es(sp(n,a),sp(t,a),a),rn=!0,Vt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l7(e,t):o7(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fa+"NaN");return n.s?(rn=!1,e=es(n,t,0,1).times(t),rn=!0,n.minus(e)):Vt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return s7(this)};Ae.naturalLogarithm=Ae.ln=function(){return sp(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o7(e,t):l7(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vu+t);if(e=Fn(i)+1,r=i.d.length-1,n=r*Qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(fa+"NaN")}for(t=Fn(l),rn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=oo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Kf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(es(l,a,o+2)).times(.5),oo(a.d).slice(0,o)===(e=oo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return rn=!0,Vt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,o,l,c,f,h=this,p=h.constructor,v=h.d,m=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=m.length,c<f&&(a=v,v=m,m=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+m[r]*v[i-r-1]+e,a[i--]=l%sr|0,e=l/sr|0;a[i]=(a[i]+e)%sr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,rn?Vt(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(yo(t,0,Wf),e===void 0?e=r.rounding:yo(e,0,8),Vt(n,t+Fn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Zu(r,!0):(yo(t,0,Wf),e===void 0?e=i.rounding:yo(e,0,8),r=Vt(new i(r),t+1,e),n=Zu(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Zu(i):(yo(t,0,Wf),e===void 0?e=a.rounding:yo(e,0,8),r=Vt(new a(i),t+Fn(i)+1,e),n=Zu(r.abs(),!1,t+Fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Fn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Ri);if(l=new c(l),!l.s){if(t.s<1)throw Error(fa+"Infinity");return l}if(l.eq(Ri))return l;if(r=c.precision,t.eq(Ri))return Vt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=h<0?-h:h)<=a7){for(i=new c(Ri),e=Math.ceil(r/Qt+4),rn=!1;n%2&&(i=i.times(l),aP(i.d,e)),n=Kf(n/2),n!==0;)l=l.times(l),aP(l.d,e);return rn=!0,t.s<0?new c(Ri).div(i):Vt(i,r)}}else if(a<0)throw Error(fa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,rn=!1,i=t.times(sp(l,r+f)),rn=!0,i=s7(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Fn(i),r=Zu(i,n<=a.toExpNeg||n>=a.toExpPos)):(yo(t,1,Wf),e===void 0?e=a.rounding:yo(e,0,8),i=Vt(new a(i),t,e),n=Fn(i),r=Zu(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(yo(t,1,Wf),e===void 0?e=r.rounding:yo(e,0,8)),Vt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fn(t),n=t.constructor;return Zu(t,e<=n.toExpNeg||e>=n.toExpPos)};function o7(t,e){var n,r,i,a,o,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),rn?Vt(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=o,l=c.length),o=Math.ceil(p/Qt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/sr|0,c[a]%=sr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,rn?Vt(e,p):e}function yo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Vu+t)}function oo(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Qt-r.length,n&&(a+=rl(n)),a+=r;o=t[e],r=o+"",n=Qt-r.length,n&&(a+=rl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var es=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%sr|0,o=a/sr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,f,h,p,v,m,b,w,A,S,I,O,N,k,B,P,M,j=r.constructor,z=r.s==i.s?1:-1,U=r.d,H=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(fa+"Division by zero");for(c=r.e-i.e,P=H.length,k=U.length,m=new j(z),b=m.d=[],f=0;H[f]==(U[f]||0);)++f;if(H[f]>(U[f]||0)&&--c,a==null?I=a=j.precision:o?I=a+(Fn(r)-Fn(i))+1:I=a,I<0)return new j(0);if(I=I/Qt+2|0,f=0,P==1)for(h=0,H=H[0],I++;(f<k||h)&&I--;f++)O=h*sr+(U[f]||0),b[f]=O/H|0,h=O%H|0;else{for(h=sr/(H[0]+1)|0,h>1&&(H=t(H,h),U=t(U,h),P=H.length,k=U.length),N=P,w=U.slice(0,P),A=w.length;A<P;)w[A++]=0;M=H.slice(),M.unshift(0),B=H[0],H[1]>=sr/2&&++B;do h=0,l=e(H,w,P,A),l<0?(S=w[0],P!=A&&(S=S*sr+(w[1]||0)),h=S/B|0,h>1?(h>=sr&&(h=sr-1),p=t(H,h),v=p.length,A=w.length,l=e(p,w,v,A),l==1&&(h--,n(p,P<v?M:H,v))):(h==0&&(l=h=1),p=H.slice()),v=p.length,v<A&&p.unshift(0),n(w,p,A),l==-1&&(A=w.length,l=e(H,w,P,A),l<1&&(h++,n(w,P<A?M:H,A))),A=w.length):l===0&&(h++,w=[0]),b[f++]=h,l&&w[0]?w[A++]=U[N]||0:(w=[U[N]],A=1);while((N++<k||w[0]!==void 0)&&I--)}return b[0]||b.shift(),m.e=c,Vt(m,o?a+Fn(m)+1:a)}})();function s7(t,e){var n,r,i,a,o,l,c=0,f=0,h=t.constructor,p=h.precision;if(Fn(t)>16)throw Error(rS+Fn(t));if(!t.s)return new h(Ri);for(rn=!1,l=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(Su(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Ri),h.precision=l;;){if(i=Vt(i.times(t),l),n=n.times(++c),o=a.plus(es(i,n,l)),oo(o.d).slice(0,l)===oo(a.d).slice(0,l)){for(;f--;)a=Vt(a.times(a),l);return h.precision=p,e==null?(rn=!0,Vt(a,p)):a}a=o}}function Fn(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function U_(t,e,n){if(e>t.LN10.sd())throw rn=!0,n&&(t.precision=n),Error(fa+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function rl(t){for(var e="";t--;)e+="0";return e}function sp(t,e){var n,r,i,a,o,l,c,f,h,p=1,v=10,m=t,b=m.d,w=m.constructor,A=w.precision;if(m.s<1)throw Error(fa+(m.s?"NaN":"-Infinity"));if(m.eq(Ri))return new w(0);if(e==null?(rn=!1,f=A):f=e,m.eq(10))return e==null&&(rn=!0),U_(w,f);if(f+=v,w.precision=f,n=oo(b),r=n.charAt(0),a=Fn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=oo(m.d),r=n.charAt(0),p++;a=Fn(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return c=U_(w,f+2,A).times(a+""),m=sp(new w(r+"."+n.slice(1)),f-v).plus(c),w.precision=A,e==null?(rn=!0,Vt(m,A)):m;for(l=o=m=es(m.minus(Ri),m.plus(Ri),f),h=Vt(m.times(m),f),i=3;;){if(o=Vt(o.times(h),f),c=l.plus(es(o,new w(i),f)),oo(c.d).slice(0,f)===oo(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(U_(w,f+2,A).times(a+""))),l=es(l,new w(p),f),w.precision=A,e==null?(rn=!0,Vt(l,A)):l;l=c,i+=2}}function iP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Kf(n/Qt),t.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qt;r<i;)t.d.push(+e.slice(r,r+=Qt));e=e.slice(r),r=Qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),rn&&(t.e>gv||t.e<-gv))throw Error(rS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,o,l,c,f,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Qt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Qt),a=p.length,h>=a)return t;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Qt,i=r-Qt+o}if(n!==void 0&&(a=Su(10,o-i-1),l=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Su(10,o-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Fn(t),p.length=1,e=e-a-1,p[0]=Su(10,(Qt-e%Qt)%Qt),t.e=Kf(-e/Qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Su(10,Qt-r),p[h]=i>0?(f/Su(10,o-i)%Su(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==sr&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=sr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(rn&&(t.e>gv||t.e<-gv))throw Error(rS+Fn(t));return t}function l7(t,e){var n,r,i,a,o,l,c,f,h,p,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),rn?Vt(e,m):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),o=f-r,o){for(h=o<0,h?(n=c,o=-o,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(m/Qt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=sr-1;--c[a],c[i]+=sr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,rn?Vt(e,m):e):new v(0)}function Zu(t,e,n){var r,i=Fn(t),a=oo(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+rl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+rl(-i-1)+a,n&&(r=n-o)>0&&(a+=rl(r))):i>=o?(a+=rl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+rl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=rl(r))),t.s<0?"-"+a:a}function aP(t,e){if(t.length>e)return t.length=e,!0}function u7(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return iP(o,a.toString())}else if(typeof a!="string")throw Error(Vu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,qse.test(a))iP(o,a);else throw Error(Vu+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=u7,i.config=i.set=Gse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Gse(t){if(!t||typeof t!="object")throw Error(fa+"Object expected");var e,n,r,i=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Kf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Vu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vu+n+": "+r);return this}var iS=u7($se);Ri=new iS(1);const Nt=iS;var Wse=t=>t,c7={},f7=t=>t===c7,oP=t=>function e(){return arguments.length===0||arguments.length===1&&f7(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},d7=(t,e)=>t===1?e:oP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==c7).length;return a>=t?e(...r):d7(t-a,oP(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=r.map(h=>f7(h)?l.shift():h);return e(...f,...l)}))}),jm=t=>d7(t.length,t),ww=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Kse=jm((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Xse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Wse;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},Ew=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),h7=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function p7(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function g7(t,e,n){for(var r=new Nt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}jm((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});jm((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});jm((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var v7=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},m7=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=p7(t.toNumber()),i=new Nt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Nt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?new Nt(c.toNumber()):new Nt(Math.ceil(c.toNumber()))},Yse=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nt(10).pow(p7(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Xse(Kse(c=>i.add(new Nt(c-o).mul(r)).toNumber()),ww);return l(0,e)},y7=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=m7(new Nt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Nt(0):(l=new Nt(e).add(n).div(2),l=l.sub(new Nt(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),f=Math.ceil(new Nt(n).sub(l).div(o).toNumber()),h=c+f+1;return h>r?y7(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:o,tickMin:l.sub(new Nt(c).mul(o)),tickMax:l.add(new Nt(f).mul(o))})};function Qse(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=v7([e,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...ww(0,r-1).map(()=>1/0)]:[...ww(0,r-1).map(()=>-1/0),l];return e>n?Ew(c):c}if(o===l)return Yse(o,r,i);var{step:f,tickMin:h,tickMax:p}=y7(o,l,a,i,0),v=g7(h,p.add(new Nt(.1).mul(f)),f);return e>n?Ew(v):v}function Zse(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=v7([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var l=Math.max(e,2),c=m7(new Nt(o).sub(a).div(l-1),i,0),f=[...g7(new Nt(a),new Nt(o),c),o];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?Ew(f):f}var Jse=h7(Qse),ele=h7(Zse),x7=t=>t.rootProps.maxBarSize,tle=t=>t.rootProps.barGap,_7=t=>t.rootProps.barCategoryGap,nle=t=>t.rootProps.barSize,Lp=t=>t.rootProps.stackOffset,aS=t=>t.options.chartName,oS=t=>t.rootProps.syncId,b7=t=>t.rootProps.syncMethod,sS=t=>t.options.eventEmitter,qo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},rle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:qo.reversed,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:qo.type,unit:void 0},ile={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:Ii.type,unit:void 0},ale={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ole={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:"category",unit:void 0},lS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ale:rle,uS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ole:ile,Bm=t=>t.polarOptions,cS=ne([ds,hs,Zn],ik),w7=ne([Bm,cS],(t,e)=>{if(t!=null)return Ur(t.innerRadius,e,0)}),E7=ne([Bm,cS],(t,e)=>{if(t!=null)return Ur(t.outerRadius,e,e*.8)}),sle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},A7=ne([Bm],sle);ne([lS,A7],Lm);var S7=ne([cS,w7,E7],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([uS,S7],Lm);var T7=ne([dt,Bm,w7,E7,ds,hs],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:f}=e;return{cx:Ur(o,i,i/2),cy:Ur(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),on=(t,e)=>e,Bp=(t,e,n)=>n;function fS(t){return t?.id}var er=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xf=t=>t.tooltip.settings.axisId,hr=t=>{var e=er(t),n=Xf(t);return Up(t,e,n)},C7=ne([hr],t=>t?.dataKey);function I7(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var c,f=(c=l.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=fS(l);f.forEach((p,v)=>{var m=a==null||i?v:String(Gt(p,a,null)),b=Gt(p,l.dataKey,0),w;o.has(m)?w=o.get(m):w={},Object.assign(w,{[h]:b}),o.set(m,w)})}}),Array.from(o.values())}function Um(t){return t.stackId!=null&&t.dataKey!=null}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return(e=ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=cle(t,"string");return typeof e=="symbol"?e:e+""}function cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aw=[0,"auto"],Ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},O7=(t,e)=>t.cartesianAxis.xAxis[e],gs=(t,e)=>{var n=O7(t,e);return n??Ti},Ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Aw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rp},R7=(t,e)=>t.cartesianAxis.yAxis[e],vs=(t,e)=>{var n=R7(t,e);return n??Ci},fle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??fle},Tn=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return vs(t,n);case"zAxis":return dS(t,n);case"angleAxis":return lS(t,n);case"radiusAxis":return uS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dle=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return vs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Up=(t,e,n)=>{switch(e){case"xAxis":return gs(t,n);case"yAxis":return vs(t,n);case"angleAxis":return lS(t,n);case"radiusAxis":return uS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},P7=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Fm=t=>t.graphicalItems.cartesianItems,hle=ne([on,Bp],hS),pS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Fp=ne([Fm,Tn,hle],pS),N7=ne([Fp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Um)),D7=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),M7=ne([Fp],D7),gS=t=>t.map(e=>e.data).filter(Boolean).flat(1),ple=ne([Fp],gS),vS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},mS=ne([ple,km],vS),yS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Gt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Gt(i,r)}))):t.map(r=>({value:r})),Vm=ne([mS,Tn,Fp],yS);function k7(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function uc(t){return t.filter(e=>mo(e)||e instanceof Date).map(Number).filter(e=>Mi(e)===!1)}function gle(t,e,n){return!n||typeof e!="number"||Mi(e)?[]:n.length?uc(n.flatMap(r=>{var i=Gt(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ji(a)||!ji(o)))return[e-a,e+o]})):[]}var vle=ne([N7,km,hr],I7),j7=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(fS);return[o,{stackedData:_re(t,c,n),graphicalItems:l}]}))},Sw=ne([vle,N7,Lp],j7),L7=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=Sre(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},mle=ne([Sw,zl,on],L7),B7=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var l,c,f=(l=r[o.id])===null||l===void 0?void 0:l.filter(p=>k7(i,p)),h=Gt(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:h,errorDomain:gle(a,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Gt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),zm=t=>t.errorBars,U7=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>k7(n,r));ne([M7,zm,on],U7);var yle=ne([mS,Tn,M7,zm,on],B7);function xle(t){var{value:e}=t;if(mo(e)||e instanceof Date)return e}var lP=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=uc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_le=(t,e,n)=>{var r=t.map(xle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&YM(r))?Ak(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},xS=t=>{var e;if(t==null||!("domain"in t))return Aw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=uc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Aw},mv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},F7=t=>t.referenceElements.dots,Yf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ble=ne([F7,on,Bp],Yf),V7=t=>t.referenceElements.areas,wle=ne([V7,on,Bp],Yf),z7=t=>t.referenceElements.lines,Ele=ne([z7,on,Bp],Yf),H7=(t,e)=>{var n=uc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ale=ne(ble,on,H7),$7=(t,e)=>{var n=uc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sle=ne([wle,on],$7),q7=(t,e)=>{var n=uc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tle=ne(Ele,on,q7),Cle=ne(Ale,Tle,Sle,(t,e,n)=>mv(t,n,e)),G7=ne([Tn],xS),_S=(t,e,n,r,i,a,o)=>{var l=zse(e,t.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",f=c?mv(n,i,lP(r)):mv(i,lP(r));return Hse(e,f,t.allowDataOverflow)},Ile=ne([Tn,G7,mle,yle,Cle,dt,on],_S),Ole=[0,1],bS=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,f=Bl(e,a);return f&&l==null?Ak(0,n.length):c==="category"?_le(r,t,f):i==="expand"?Ole:o}},wS=ne([Tn,dt,mS,Vm,Lp,on,Ile],bS),W7=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Tp(a));return l in Rh?l:"point"}}},Qf=ne([Tn,dt,P7,aS,on],W7);function Rle(t){if(t!=null){if(t in Rh)return Rh[t]();var e="scale".concat(Tp(t));if(e in Rh)return Rh[e]()}}function ES(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Rle(e);if(i!=null){var a=i.domain(n).range(r);return gre(a),a}}}var AS=(t,e,n)=>{var r=xS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Nf(t))return Jse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Nf(t))return ele(t,e.tickCount,e.allowDecimals)}},SS=ne([wS,Up,Qf],AS),TS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Nf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},Ple=ne([Tn,wS,SS,on],TS),Nle=ne(Vm,Tn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(uc(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),K7=ne(Nle,dt,_7,Zn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ji(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Ur(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),Dle=(t,e)=>{var n=gs(t,e);return n==null||typeof n.padding!="string"?0:K7(t,"xAxis",e,n.padding)},Mle=(t,e)=>{var n=vs(t,e);return n==null||typeof n.padding!="string"?0:K7(t,"yAxis",e,n.padding)},kle=ne(gs,Dle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),jle=ne(vs,Mle,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Lle=ne([Zn,kle,Tm,Sm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Ble=ne([Zn,dt,jle,Tm,Sm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Vp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Lle(t,n,r);case"yAxis":return Ble(t,n,r);case"zAxis":return(i=dS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return A7(t);case"radiusAxis":return S7(t,n);default:return}},X7=ne([Tn,Vp],Lm),Zf=ne([Tn,Qf,Ple,X7],ES);ne([Fp,zm,on],U7);function Y7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Hm=(t,e)=>e,$m=(t,e,n)=>n,Ule=ne(Em,Hm,$m,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Y7)),Fle=ne(Am,Hm,$m,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Y7)),Q7=(t,e)=>({width:t.width,height:e.height}),Vle=(t,e)=>{var n=typeof e.width=="number"?e.width:Rp;return{width:n,height:t.height}},Z7=ne(Zn,gs,Q7),zle=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Hle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},$le=ne(hs,Zn,Ule,Hm,$m,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=Q7(e,l);o==null&&(o=zle(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*c.height,o+=(f?-1:1)*c.height}),a}),qle=ne(ds,Zn,Fle,Hm,$m,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var c=Vle(e,l);o==null&&(o=Hle(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*c.width,o+=(f?-1:1)*c.width}),a}),Gle=(t,e)=>{var n=gs(t,e);if(n!=null)return $le(t,n.orientation,n.mirror)},Wle=ne([Zn,gs,Gle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Kle=(t,e)=>{var n=vs(t,e);if(n!=null)return qle(t,n.orientation,n.mirror)},Xle=ne([Zn,vs,Kle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),J7=ne(Zn,vs,(t,e)=>{var n=typeof e.width=="number"?e.width:Rp;return{width:n,height:t.height}}),uP=(t,e,n)=>{switch(e){case"xAxis":return Z7(t,n).width;case"yAxis":return J7(t,n).height;default:return}},ej=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Bl(t,r),c=e.map(f=>f.value);if(o&&l&&a==="category"&&i&&YM(c))return c}},CS=ne([dt,Vm,Tn,on],ej),tj=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Bl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},IS=ne([dt,Vm,Up,on],tj),cP=ne([dt,dle,Qf,Zf,CS,IS,Vp,SS,on],(t,e,n,r,i,a,o,l,c)=>{if(e==null)return null;var f=Bl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}),Yle=(t,e,n,r,i,a,o,l,c)=>{if(!(e==null||r==null)){var f=Bl(t,c),{type:h,ticks:p,tickCount:v}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=h==="category"&&r.bandwidth?r.bandwidth()/m:0;b=c==="angleAxis"&&a!=null&&a.length>=2?cr(a[0]-a[1])*2*b:b;var w=p||i;if(w){var A=w.map((S,I)=>{var O=o?o.indexOf(S):S;return{index:I,coordinate:r(O)+b,value:S,offset:b}});return A.filter(S=>!Mi(S.coordinate))}return f&&l?l.map((S,I)=>({coordinate:r(S)+b,value:S,index:I,offset:b})):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+b,value:S,offset:b})):r.domain().map((S,I)=>({coordinate:r(S)+b,value:o?o[S]:S,index:I,offset:b}))}},nj=ne([dt,Up,Qf,Zf,SS,Vp,CS,IS,on],Yle),Qle=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Bl(t,o),{tickCount:c}=e,f=0;return f=o==="angleAxis"&&r?.length>=2?cr(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},Il=ne([dt,Up,Zf,Vp,CS,IS,on],Qle),Ol=ne(Tn,Zf,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})}),Zle=ne([Tn,Qf,wS,X7],ES);ne((t,e,n)=>dS(t,n),Zle,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})});var Jle=ne([dt,Em,Am],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rj=t=>t.options.defaultTooltipEventType,ij=t=>t.options.validateTooltipEventTypes;function aj(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function OS(t,e){var n=rj(t),r=ij(t);return aj(e,n,r)}function eue(t){return Ce(e=>OS(e,t))}var oj=(t,e)=>{var n,r=Number(e);if(!(Mi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tue=t=>t.tooltip.settings,ul={active:!1,index:null,dataKey:void 0,coordinate:void 0},nue={itemInteraction:{click:ul,hover:ul},axisInteraction:{click:ul,hover:ul},keyboardInteraction:ul,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sj=Li({name:"tooltip",initialState:nue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Jo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:rue,removeTooltipEntrySettings:iue,setTooltipSettingsState:aue,setActiveMouseOverItemIndex:lj,mouseLeaveItem:oue,mouseLeaveChart:uj,setActiveClickItemIndex:sue,setMouseOverAxisIndex:cj,setMouseClickAxisIndex:lue,setSyncInteraction:Tw,setKeyboardInteraction:Cw}=sj.actions,uue=sj.reducer;function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pue(t){return t.index!=null}var fj=(t,e,n,r)=>{if(e==null)return ul;var i=hue(t,e,n);if(i==null)return ul;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(pue(i)){if(a)return X1(X1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return X1(X1({},ul),{},{coordinate:i.coordinate})},RS=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ji(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},dj=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],f=c==null?void 0:l(c.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},hj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},zp=t=>t.options.tooltipPayloadSearcher,Jf=t=>t.tooltip;function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return(e=vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t,e){return t??e}var pj=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((v,m)=>{var b,{dataDefinedOnItem:w,settings:A}=m,S=yue(w,l),I=Array.isArray(S)?ak(S,f,h):S,O=(b=A?.dataKey)!==null&&b!==void 0?b:r,N=A?.nameKey,k;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?k=QM(I,r,i):k=a(I,e,c,N),Array.isArray(k))k.forEach(P=>{var M=hP(hP({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(X8({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:Gt(P.payload,P.dataKey),name:P.name}))});else{var B;v.push(X8({tooltipEntrySettings:A,dataKey:O,payload:k,value:Gt(k,O),name:(B=Gt(k,N))!==null&&B!==void 0?B:A?.name}))}return v},p)}},PS=ne([hr,dt,P7,aS,er],W7),xue=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_ue=ne([er,Xf],hS),Hp=ne([xue,hr,_ue],pS),bue=ne([Hp],t=>t.filter(Um)),wue=ne([Hp],gS),ed=ne([wue,zl],vS),Eue=ne([bue,zl,hr],I7),NS=ne([ed,hr,Hp],yS),Aue=ne([hr],xS),Sue=ne([Hp],t=>t.filter(Um)),Tue=ne([Eue,Sue,Lp],j7),Cue=ne([Tue,zl,er],L7),Iue=ne([Hp],D7),Oue=ne([ed,hr,Iue,zm,er],B7),Rue=ne([F7,er,Xf],Yf),Pue=ne([Rue,er],H7),Nue=ne([V7,er,Xf],Yf),Due=ne([Nue,er],$7),Mue=ne([z7,er,Xf],Yf),kue=ne([Mue,er],q7),jue=ne([Pue,kue,Due],mv),Lue=ne([hr,Aue,Cue,Oue,jue,dt,er],_S),gj=ne([hr,dt,ed,NS,Lp,er,Lue],bS),Bue=ne([gj,hr,PS],AS),Uue=ne([hr,gj,Bue,er],TS),vj=t=>{var e=er(t),n=Xf(t),r=!1;return Vp(t,e,n,r)},mj=ne([hr,vj],Lm),yj=ne([hr,PS,Uue,mj],ES),Fue=ne([dt,NS,hr,er],ej),Vue=ne([dt,NS,hr,er],tj),zue=(t,e,n,r,i,a,o,l)=>{if(e){var{type:c}=e,f=Bl(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?cr(i[0]-i[1])*2*p:p,f&&o?o.map((v,m)=>({coordinate:r(v)+p,value:v,index:m,offset:p})):r.domain().map((v,m)=>({coordinate:r(v)+p,value:a?a[v]:v,index:m,offset:p}))}}},ms=ne([dt,hr,PS,yj,vj,Fue,Vue,er],zue),DS=ne([rj,ij,tue],(t,e,n)=>aj(n.shared,t,e)),xj=t=>t.tooltip.settings.trigger,MS=t=>t.tooltip.settings.defaultIndex,qm=ne([Jf,DS,xj,MS],fj),Rl=ne([qm,ed],RS),_j=ne([ms,Rl],oj),bj=ne([qm],t=>{if(t)return t.dataKey}),wj=ne([Jf,DS,xj,MS],hj),Hue=ne([ds,hs,dt,Zn,ms,MS,wj,zp],dj),$ue=ne([qm,Hue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),que=ne([qm],t=>t.active),Gue=ne([wj,Rl,zl,C7,_j,zp,DS],pj),Wue=ne([Gue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Que=()=>Ce(hr),Zue=()=>{var t=Que(),e=Ce(ms),n=Ce(yj);return tp(gP(gP({},t),{},{scale:n}),e)},Jue=()=>Ce(aS),kS=(t,e)=>e,Ej=(t,e,n)=>n,jS=(t,e,n,r)=>r,ece=ne(ms,t=>mm(t,e=>e.coordinate)),LS=ne([Jf,kS,Ej,jS],fj),Aj=ne([LS,ed],RS),tce=(t,e,n)=>{if(e!=null){var r=Jf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Sj=ne([Jf,kS,Ej,jS],hj),yv=ne([ds,hs,dt,Zn,ms,jS,Sj,zp],dj),nce=ne([LS,yv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Tj=ne(ms,Aj,oj),rce=ne([Sj,Aj,zl,C7,Tj,zp,kS],pj),ice=ne([LS],t=>({isActive:t.active,activeIndex:t.index})),ace=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a)){var c=Tre(t.chartX,t.chartY,e,n,l);if(c){var f=Ire(c,e),h=hre(f,o,a,r,i),p=Cre(e,a,h,c);return{activeIndex:String(h),activeCoordinate:p}}}};function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=t,h=e,p=n,v=r;if(!l||!h||f!=="ScatterChart"&&c!=="axis")return null;var m,b;if(f==="ScatterChart")m=h,b=Iie;else if(f==="BarChart")m=Oie(o,h,i,a),b=_k;else if(o==="radial"){var{cx:w,cy:A,radius:S,startAngle:I,endAngle:O}=bk(h);m={cx:w,cy:A,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},b=Ek}else m={points:lae(o,h,i)},b=NA;var N=typeof l=="object"&&"className"in l?l.className:void 0,k=Y1(Y1(Y1(Y1({stroke:"#ccc",pointerEvents:"none"},i),m),ln(l,!1)),{},{payload:p,payloadIndex:v,className:mt("recharts-tooltip-cursor",N)});return C.isValidElement(l)?C.cloneElement(l,k):C.createElement(b,k)}function cce(t){var e=Zue(),n=fk(),r=Cm(),i=Jue();return C.createElement(uce,Iw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Cj=C.createContext(null),fce=()=>C.useContext(Cj),F_={exports:{}},mP;function dce(){return mP||(mP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,p||c,v),b=n?n+f:f;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],m]:c._events[b].push(m):(c._events[b]=m,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,b=new Array(m);v<m;v++)b[v]=p[v].fn;return b},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,v,m,b){var w=n?n+f:f;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,I,O;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,v),!0;case 5:return A.fn.call(A.context,h,p,v,m),!0;case 6:return A.fn.call(A.context,h,p,v,m,b),!0}for(O=1,I=new Array(S-1);O<S;O++)I[O-1]=arguments[O];A.fn.apply(A.context,I)}else{var N=A.length,k;for(O=0;O<N;O++)switch(A[O].once&&this.removeListener(f,A[O].fn,void 0,!0),S){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,h);break;case 3:A[O].fn.call(A[O].context,h,p);break;case 4:A[O].fn.call(A[O].context,h,p,v);break;default:if(!I)for(k=1,I=new Array(S-1);k<S;k++)I[k-1]=arguments[k];A[O].fn.apply(A[O].context,I)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,v){var m=n?n+f:f;if(!this._events[m])return this;if(!h)return o(this,m),this;var b=this._events[m];if(b.fn)b.fn===h&&(!v||b.once)&&(!p||b.context===p)&&o(this,m);else{for(var w=0,A=[],S=b.length;w<S;w++)(b[w].fn!==h||v&&!b[w].once||p&&b[w].context!==p)&&A.push(b[w]);A.length?this._events[m]=A.length===1?A[0]:A:o(this,m)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(F_)),F_.exports}var hce=dce();const pce=xo(hce);var lp=new pce,Ow="recharts.syncEvent.tooltip",yP="recharts.syncEvent.brush";function BS(t,e){if(e){var n=Number.parseInt(e,10);if(!Mi(n))return t?.[n]}}var gce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ij=Li({name:"options",initialState:gce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vce=Ij.reducer,{createEventEmitter:mce}=Ij.actions;function yce(t){return t.tooltip.syncInteraction}var xce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Oj=Li({name:"chartData",initialState:xce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:xP,setDataStartEndIndexes:_ce,setComputedData:sve}=Oj.actions,bce=Oj.reducer,wce=["x","y"];function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e){if(t==null)return{};var n,r,i=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rj=()=>{};function Ice(){var t=Ce(oS),e=Ce(sS),n=un(),r=Ce(b7),i=Ce(ms),a=Cm(),o=IA(),l=Ce(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return Rj;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var m=h.payload.coordinate,{x:b,y:w}=m,A=Tce(m,wce),S=_u(_u(_u({},A),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof w=="number"&&{y:Math.max(o.y,Math.min(w,o.y+o.height))}),I=_u(_u({},h),{},{payload:_u(_u({},h.payload),{},{coordinate:S})});n(I)}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},k=r(i,N);O=i[k]}else r==="value"&&(O=i.find(F=>String(F.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||o==null){n(Tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:M}=B,j=Math.min(P,o.x+o.width),z=Math.min(M,o.y+o.height),U={x:a==="horizontal"?O.coordinate:j,y:a==="horizontal"?z:O.coordinate},H=Tw({active:h.payload.active,coordinate:U,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label});n(H)}}};return lp.on(Ow,c),()=>{lp.off(Ow,c)}},[l,n,e,t,r,i,a,o])}function Oce(){var t=Ce(oS),e=Ce(sS),n=un();C.useEffect(()=>{if(t==null)return Rj;var r=(i,a,o)=>{e!==o&&t===i&&n(_ce(a))};return lp.on(yP,r),()=>{lp.off(yP,r)}},[n,e,t])}function Rce(){var t=un();C.useEffect(()=>{t(mce())},[t]),Ice(),Oce()}function Pce(t,e,n,r,i,a){var o=Ce(v=>tce(v,t,e)),l=Ce(sS),c=Ce(oS),f=Ce(b7),h=Ce(yce),p=h?.active;C.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=Tw({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});lp.emit(Ow,c,v,l)}},[p,n,o,i,r,l,c,f,a])}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nce(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t){return t.dataKey}function jce(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(oie,e)}var EP=[],Lce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ul.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gm(t){var e=Rr(t,Lce),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:m,wrapperStyle:b,cursor:w,shared:A,trigger:S,defaultIndex:I,portal:O,axisId:N}=e,k=un(),B=typeof I=="number"?String(I):I;C.useEffect(()=>{k(aue({shared:A,trigger:S,axisId:N,active:n,defaultIndex:B}))},[k,A,S,N,n,B]);var P=IA(),M=gk(),j=eue(A),{activeIndex:z,isActive:U}=Ce(Oe=>ice(Oe,j,S,B)),H=Ce(Oe=>rce(Oe,j,S,B)),F=Ce(Oe=>Tj(Oe,j,S,B)),pe=Ce(Oe=>nce(Oe,j,S,B)),_e=H,X=fce(),re=n??U,[de,we]=D9([_e,re]),Me=j==="axis"?F:void 0;Pce(j,S,pe,Me,z,re);var G=O??X;if(G==null)return null;var ee=_e??EP;re||(ee=EP),l&&ee.length&&(ee=I9(_e.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),h,kce));var ye=ee.length>0,be=C.createElement(hie,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:re,coordinate:pe,hasPayload:ye,offset:f,position:p,reverseDirection:v,useTranslate3d:m,viewBox:P,wrapperStyle:b,lastBoundingBox:de,innerRef:we,hasPortalFromProps:!!O},jce(o,wP(wP({},e),{},{payload:ee,label:Me,active:re,coordinate:pe,accessibilityLayer:M})));return C.createElement(C.Fragment,null,t9.createPortal(be,G),re&&C.createElement(cce,{cursor:w,tooltipEventType:j,coordinate:pe,payload:_e,index:z}))}var V_={},z_={},H_={},AP;function Bce(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),w()};let v=null;const m=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},b=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{b(),o=void 0,l=null},A=()=>{h()},S=function(...I){if(i?.aborted)return;o=this,l=I;const O=v==null;m(),c&&O&&h()};return S.schedule=m,S.cancel=w,S.flush=A,i?.addEventListener("abort",w,{once:!0}),S}t.debounce=e})(H_)),H_}var SP;function Uce(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bce();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const v=e.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),m=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,w),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},b=()=>(v.flush(),h);return m.cancel=v.cancel,m.flush=b,m}t.debounce=n})(z_)),z_}var TP;function Fce(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uce();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(V_)),V_}var $_,CP;function Vce(){return CP||(CP=1,$_=Fce().throttle),$_}var zce=Vce();const Hce=xo(zce);var Bh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wm=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:f,debounce:h=0,id:p,className:v,onResize:m,style:b={}}=t,w=C.useRef(null),A=C.useRef();A.current=m,C.useImperativeHandle(e,()=>w.current);var[S,I]=C.useState({containerWidth:r.width,containerHeight:r.height}),O=C.useCallback((k,B)=>{I(P=>{var M=Math.round(k),j=Math.round(B);return P.containerWidth===M&&P.containerHeight===j?P:{containerWidth:M,containerHeight:j}})},[]);C.useEffect(()=>{var k=j=>{var z,{width:U,height:H}=j[0].contentRect;O(U,H),(z=A.current)===null||z===void 0||z.call(A,U,H)};h>0&&(k=Hce(k,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),{width:P,height:M}=w.current.getBoundingClientRect();return O(P,M),B.observe(w.current),()=>{B.disconnect()}},[O,h]);var N=C.useMemo(()=>{var{containerWidth:k,containerHeight:B}=S;if(k<0||B<0)return null;Bh(Ou(i)||Ou(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Bh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Ou(i)?k:i,M=Ou(a)?B:a;return n&&n>0&&(P?M=P/n:M&&(P=M*n),c&&M>c&&(M=c)),Bh(P>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,i,a,o,l,n),C.Children.map(f,j=>C.cloneElement(j,{width:P,height:M,style:q_({width:P,height:M},j.props.style)}))},[n,f,a,c,l,o,S,i]);return C.createElement("div",{id:p?"".concat(p):void 0,className:mt("recharts-responsive-container",v),style:q_(q_({},b),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:w},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),td=t=>null;td.displayName="Cell";function Wce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Yce{constructor(e){Wce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zce(t,e,n){return(e=Jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tfe={cacheSize:2e3,enableCache:!0},Pj=Qce({},tfe),RP=new Yce(Pj.cacheSize),nfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PP="recharts_measurement_span";function rfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var NP=(t,e)=>{try{var n=document.getElementById(PP);n||(n=document.createElement("span"),n.setAttribute("id",PP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Uh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ul.isSsr)return{width:0,height:0};if(!Pj.enableCache)return NP(e,n);var r=rfe(e,n),i=RP.get(r);if(i)return i;var a=NP(e,n);return RP.set(r,a),a},DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ife=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,afe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ofe=Object.keys(Nj),sf="NaN";function sfe(t,e){return t*Nj[e]}class si{static parse(e){var n,[,r,i]=(n=afe.exec(e))!==null&&n!==void 0?n:[];return new si(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Mi(e)&&(this.unit=""),n!==""&&!ife.test(n)&&(this.num=NaN,this.unit=""),ofe.includes(n)&&(this.num=sfe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new si(NaN,""):new si(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new si(NaN,""):new si(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new si(NaN,""):new si(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new si(NaN,""):new si(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mi(this.num)}}function Dj(t){if(t.includes(sf))return sf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=DP.exec(e))!==null&&n!==void 0?n:[],o=si.parse(r??""),l=si.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return sf;e=e.replace(DP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,v]=(f=MP.exec(e))!==null&&f!==void 0?f:[],m=si.parse(h??""),b=si.parse(v??""),w=p==="+"?m.add(b):m.subtract(b);if(w.isNaN())return sf;e=e.replace(MP,w.toString())}return e}var kP=/\(([^()]*)\)/;function lfe(t){for(var e=t,n;(n=kP.exec(e))!=null;){var[,r]=n;e=e.replace(kP,Dj(r))}return e}function ufe(t){var e=t.replace(/\s+/g,"");return e=lfe(e),e=Dj(e),e}function cfe(t){try{return ufe(t)}catch{return sf}}function G_(t){var e=cfe(t.slice(5,-1));return e===sf?"":e}var ffe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dfe=["dx","dy","angle","className","breakAll"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(null,arguments)}function jP(t,e){if(t==null)return{};var n,r,i=hfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mj=/[ \f\n\r\t\v\u2028\u2029]+/,kj=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];an(e)||(n?i=e.toString().split(""):i=e.toString().split(Mj));var a=i.map(l=>({word:l,width:Uh(l,r).width})),o=n?0:Uh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},pfe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=t,f=Re(a),h=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((H,F)=>{var{word:pe,width:_e}=F,X=H[H.length-1];if(X&&(r==null||i||X.width+_e+n<Number(r)))X.words.push(pe),X.width+=_e+n;else{var re={words:[pe],width:_e};H.push(re)}return H},[])},v=p(e),m=z=>z.reduce((U,H)=>U.width>H.width?U:H);if(!f||i)return v;var b=v.length>a||m(v).width>Number(r);if(!b)return v;for(var w="…",A=z=>{var U=h.slice(0,z),H=kj({breakAll:c,style:l,children:U+w}).wordsWithComputedWidth,F=p(H),pe=F.length>a||m(F).width>Number(r);return[pe,F]},S=0,I=h.length-1,O=0,N;S<=I&&O<=h.length-1;){var k=Math.floor((S+I)/2),B=k-1,[P,M]=A(B),[j]=A(k);if(!P&&!j&&(S=k+1),P&&j&&(I=k-1),!P&&j){N=M;break}O++}return N||v},LP=t=>{var e=an(t)?[]:t.toString().split(Mj);return[{words:e}]},gfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Ul.isSsr){var l,c,f=kj({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,c=p}else return LP(r);return pfe({breakAll:a,children:r,maxLines:o,style:i},l,c,e,n)}return LP(r)},BP="#808080",Km=C.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:f=BP}=t,h=jP(t,ffe),p=C.useMemo(()=>gfe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:m,angle:b,className:w,breakAll:A}=h,S=jP(h,dfe);if(!mo(n)||!mo(r)||p.length===0)return null;var I=n+(Re(v)?v:0),O=r+(Re(m)?m:0),N;switch(c){case"start":N=G_("calc(".concat(a,")"));break;case"middle":N=G_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:N=G_("calc(".concat(p.length-1," * -").concat(i,")"));break}var k=[];if(o){var B=p[0].width,{width:P}=h;k.push("scale(".concat(Re(P)?P/B:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(I,", ").concat(O,")")),k.length&&(S.transform=k.join(" ")),C.createElement("text",Rw({},ln(S,!0),{ref:e,x:I,y:O,className:mt("recharts-text",w),textAnchor:l,fill:f.includes("url")?BP:f}),p.map((M,j)=>{var z=M.words.join(A?"":" ");return C.createElement("tspan",{x:I,dy:j===0?N:i,key:"".concat(z,"-").concat(j)},z)}))});Km.displayName="Text";var vfe=["labelRef"];function mfe(t,e){if(t==null)return{};var n,r,i=yfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return(e=_fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=bfe(t,"string");return typeof e=="symbol"?e:e+""}function bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Go.apply(null,arguments)}var jj=C.createContext(null),wfe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=C.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return C.createElement(jj.Provider,{value:o},a)},Lj=()=>{var t=C.useContext(jj),e=IA();return t||e},Efe=C.createContext(null),Afe=()=>{var t=C.useContext(Efe),e=Ce(T7);return t||e},Sfe=t=>{var{value:e,formatter:n}=t,r=an(t.children)?e:t.children;return typeof n=="function"?n(r):r},US=t=>t!=null&&typeof t=="function",Tfe=(t,e)=>{var n=cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Cfe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:m}=i,b=(f+h)/2,w=Tfe(p,v),A=w>=0?1:-1,S,I;switch(e){case"insideStart":S=p+A*a,I=m;break;case"insideEnd":S=v-A*a,I=!m;break;case"end":S=v+A*a,I=m;break;default:throw new Error("Unsupported position ".concat(e))}I=w<=0?I:!I;var O=Un(l,c,b,S),N=Un(l,c,b,S+(I?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(N.x,",").concat(N.y),B=an(t.id)?Zh("recharts-radial-line-"):t.id;return C.createElement("text",Go({},r,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:B,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Ife=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=t,f=(l+c)/2;if(n==="outside"){var{x:h,y:p}=Un(r,i,o+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:m,y:b}=Un(r,i,v,f);return{x:m,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Bj=t=>"cx"in t&&Re(t.cx),Ofe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!Bj(n)&&(a=n);var{x:o,y:l,width:c,height:f}=e,h=f>=0?1:-1,p=h*r,v=h>0?"end":"start",m=h>0?"start":"end",b=c>=0?1:-1,w=b*r,A=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var I={x:o+c/2,y:l-h*r,textAnchor:"middle",verticalAnchor:v};return An(An({},I),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:m};return An(An({},O),a?{height:Math.max(a.y+a.height-(l+f),0),width:c}:{})}if(i==="left"){var N={x:o-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return An(An({},N),a?{width:Math.max(N.x-a.x,0),height:f}:{})}if(i==="right"){var k={x:o+c+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return An(An({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:f}:{})}var B=a?{width:c,height:f}:{};return i==="insideLeft"?An({x:o+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},B):i==="insideRight"?An({x:o+c-w,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},B):i==="insideTop"?An({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},B):i==="insideBottom"?An({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?An({x:o+w,y:l+p,textAnchor:S,verticalAnchor:m},B):i==="insideTopRight"?An({x:o+c-w,y:l+p,textAnchor:A,verticalAnchor:m},B):i==="insideBottomLeft"?An({x:o+w,y:l+f-p,textAnchor:S,verticalAnchor:v},B):i==="insideBottomRight"?An({x:o+c-w,y:l+f-p,textAnchor:A,verticalAnchor:v},B):i&&typeof i=="object"&&(Re(i.x)||Ou(i.x))&&(Re(i.y)||Ou(i.y))?An({x:o+Ur(i.x,c),y:l+Ur(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):An({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Rfe={offset:5};function il(t){var e=Rr(t,Rfe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,h=Afe(),p=Lj(),v=r==="center"?p:h??p,m=n||v;if(!m||an(i)&&an(a)&&!C.isValidElement(o)&&typeof o!="function")return null;var b=An(An({},e),{},{viewBox:m});if(C.isValidElement(o)){var{labelRef:w}=b,A=mfe(b,vfe);return C.cloneElement(o,A)}var S;if(typeof o=="function"){if(S=C.createElement(o,b),C.isValidElement(S))return S}else S=Sfe(e);var I=Bj(m),O=ln(e,!0);if(I&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Cfe(e,r,S,O,m);var N=I?Ife(m,e.offset,e.position):Ofe(e,m);return C.createElement(Km,Go({ref:f,className:mt("recharts-label",l)},O,N,{breakAll:c}),S)}il.displayName="Label";var Pfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(il,Go({key:"label-implicit"},r)):mo(t)?C.createElement(il,Go({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===il?C.cloneElement(t,An({key:"label-implicit"},r)):C.createElement(il,Go({key:"label-implicit",content:t},r)):US(t)?C.createElement(il,Go({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(il,Go({},t,{key:"label-implicit"},r)):null};function Nfe(t){var{label:e}=t,n=Lj();return Pfe(e,n)||null}var W_={},K_={},FP;function Dfe(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(K_)),K_}var X_={},VP;function Mfe(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(X_)),X_}var zP;function kfe(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dfe(),n=Mfe(),r=xA();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(W_)),W_}var Y_,HP;function jfe(){return HP||(HP=1,Y_=kfe().last),Y_}var Lfe=jfe();const Bfe=xo(Lfe);var Ufe=["valueAccessor"],Ffe=["dataKey","clockWise","id","textBreakAll"];function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(null,arguments)}function $P(t,e){if(t==null)return{};var n,r,i=Vfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zfe=t=>Array.isArray(t.value)?Bfe(t.value):t.value,Uj=C.createContext(void 0),Fj=Uj.Provider,Vj=C.createContext(void 0),Hfe=Vj.Provider;function $fe(){return C.useContext(Uj)}function qfe(){return C.useContext(Vj)}function pg(t){var{valueAccessor:e=zfe}=t,n=$P(t,Ufe),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,l=$P(n,Ffe),c=$fe(),f=qfe(),h=c||f;return!h||!h.length?null:C.createElement(Or,{className:"recharts-label-list"},h.map((p,v)=>{var m,b=an(r)?e(p,v):Gt(p&&p.payload,r),w=an(a)?{}:{id:"".concat(a,"-").concat(v)};return C.createElement(il,xv({},ln(p,!0),l,w,{fill:(m=n.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(v),index:v}))}))}pg.displayName="LabelList";function FS(t){var{label:e}=t;return e?e===!0?C.createElement(pg,{key:"labelList-implicit"}):C.isValidElement(e)||US(e)?C.createElement(pg,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(pg,xv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}var zj=t=>{var{cx:e,cy:n,r,className:i}=t,a=mt("recharts-dot",i);return e===+e&&n===+n&&r===+r?C.createElement("circle",Pw({},Ao(t),cA(t),{className:a,cx:e,cy:n,r})):null},Hj=t=>t.graphicalItems.polarItems,Gfe=ne([on,Bp],hS),VS=ne([Hj,Tn,Gfe],pS),Wfe=ne([VS],gS),zS=ne([Wfe,nS],vS),Kfe=ne([zS,Tn,VS],yS),Xfe=ne([zS,Tn,VS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=Gt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Gt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),qP=()=>{},Yfe=ne([Tn,G7,qP,Xfe,qP,dt,on],_S),$j=ne([Tn,dt,zS,Kfe,Lp,on,Yfe],bS),Qfe=ne([$j,Tn,Qf],AS);ne([Tn,$j,Qfe,on],TS);var Zfe={radiusAxis:{},angleAxis:{}},qj=Li({name:"polarAxis",initialState:Zfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:lve,removeRadiusAxis:uve,addAngleAxis:cve,removeAngleAxis:fve}=qj.actions,Jfe=qj.reducer;function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return(e=tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rde=(t,e)=>e,HS=ne([Hj,rde],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),ide=[],$S=(t,e,n)=>n?.length===0?ide:n,Gj=ne([nS,HS,$S],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>WP(WP({},e.presentationProps),a.props))),i!=null)return i}}),ade=ne([Gj,HS,$S],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=Gt(r,e.nameKey,e.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:qf(o,e.dataKey),color:l,payload:r,type:e.legendType}})}),ode=ne([Gj,HS,$S,Zn],(t,e,n,r)=>{if(!(e==null||t==null))return rhe({offset:r,pieSettings:e,displayedData:t,cells:n})}),Q_={},KP;function sde(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Q_)),Q_}var Z_,XP;function lde(){return XP||(XP=1,Z_=sde().isPlainObject),Z_}var ude=lde();const cde=xo(ude);function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=hde(t,"string");return typeof e=="symbol"?e:e+""}function hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}var ZP=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},pde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gde=t=>{var e=Rr(t,pde),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,v=C.useRef(),[m,b]=C.useState(-1),w=C.useRef(i),A=C.useRef(a),S=C.useRef(o),I=C.useRef(n),O=C.useRef(r),N=Np(t,"trapezoid-");if(C.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var pe=v.current.getTotalLength();pe&&b(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=mt("recharts-trapezoid",l);if(!p)return C.createElement("g",null,C.createElement("path",_v({},ln(e,!0),{className:k,d:ZP(n,r,i,a,o)})));var B=w.current,P=A.current,M=S.current,j=I.current,z=O.current,U="0px ".concat(m===-1?1:m,"px"),H="".concat(m,"px 0px"),F=vk(["strokeDasharray"],f,c);return C.createElement(Pp,{animationId:N,key:N,canBegin:m>0,duration:f,easing:c,isActive:p,begin:h},pe=>{var _e=dn(B,i,pe),X=dn(P,a,pe),re=dn(M,o,pe),de=dn(j,n,pe),we=dn(z,r,pe);v.current&&(w.current=_e,A.current=X,S.current=re,I.current=de,O.current=we);var Me=pe>0?{transition:F,strokeDasharray:H}:{strokeDasharray:U};return C.createElement("path",_v({},ln(e,!0),{className:k,d:ZP(de,we,_e,X,re),ref:v,style:QP(QP({},Me),e.style)}))})},vde=["option","shapeType","propTransformer","activeClassName","isActive"];function mde(t,e){if(t==null)return{};var n,r,i=yde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e,n){return(e=_de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=bde(t,"string");return typeof e=="symbol"?e:e+""}function bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wde(t,e){return bv(bv({},e),t)}function Ede(t,e){return t==="symbols"}function eN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(_k,n);case"trapezoid":return C.createElement(gde,n);case"sector":return C.createElement(Ek,n);case"symbols":if(Ede(e))return C.createElement(vA,n);break;default:return null}}function Ade(t){return C.isValidElement(t)?t.props:t}function Wj(t){var{option:e,shapeType:n,propTransformer:r=wde,activeClassName:i="recharts-active-shape",isActive:a}=t,o=mde(t,vde),l;if(C.isValidElement(e))l=C.cloneElement(e,bv(bv({},o),Ade(e)));else if(typeof e=="function")l=e(o);else if(cde(e)&&typeof e!="boolean"){var c=r(e,o);l=C.createElement(eN,{shapeType:n,elementProps:c})}else{var f=o;l=C.createElement(eN,{shapeType:n,elementProps:f})}return a?C.createElement(Or,{className:i},l):l}var qS=(t,e)=>{var n=un();return(r,i)=>a=>{t?.(r,i,a),n(lj({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},GS=t=>{var e=un();return(n,r)=>i=>{t?.(n,r,i),e(oue())}},WS=(t,e)=>{var n=un();return(r,i)=>a=>{t?.(r,i,a),n(sue({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function KS(t){var{fn:e,args:n}=t,r=un(),i=gi();return C.useEffect(()=>{if(!i){var a=e(n);return r(rue(a)),()=>{r(iue(a))}}},[e,n,r,i]),null}var Kj=()=>{};function Xj(t){var{legendPayload:e}=t,n=un(),r=gi();return C.useEffect(()=>r?Kj:(n(hk(e)),()=>{n(pk(e))}),[n,r,e]),null}function Sde(t){var{legendPayload:e}=t,n=un(),r=Ce(dt);return C.useEffect(()=>r!=="centric"&&r!=="radial"?Kj:(n(hk(e)),()=>{n(pk(e))}),[n,r,e]),null}var J_,Tde=()=>{var[t]=C.useState(()=>Zh("uid-"));return t},Cde=(J_=mU.useId)!==null&&J_!==void 0?J_:Tde;function Ide(t,e){var n=Cde();return e||(t?"".concat(t,"-").concat(n):n)}var Ode=C.createContext(void 0),XS=t=>{var{id:e,type:n,children:r}=t,i=Ide("recharts-".concat(n),e);return C.createElement(Ode.Provider,{value:i},r(i))},Rde={cartesianItems:[],polarItems:[]},Yj=Li({name:"graphicalItems",initialState:Rde,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Jo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Jo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Jo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Pde,replaceCartesianGraphicalItem:Nde,removeCartesianGraphicalItem:Dde,addPolarGraphicalItem:Mde,removePolarGraphicalItem:kde}=Yj.actions,jde=Yj.reducer;function Qj(t){var e=un(),n=C.useRef(null);return C.useEffect(()=>{n.current===null?e(Pde(t)):n.current!==t&&e(Nde({prev:n.current,next:t})),n.current=t},[e,t]),C.useEffect(()=>()=>{n.current&&(e(Dde(n.current)),n.current=null)},[e]),null}function Lde(t){var e=un();return C.useEffect(()=>(e(Mde(t)),()=>{e(kde(t))}),[e,t]),null}var Bde=["onMouseEnter","onClick","onMouseLeave"],Ude=["id"],Fde=["id"];function YS(t,e){if(t==null)return{};var n,r,i=Vde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(null,arguments)}function qde(t){var e=C.useMemo(()=>fA(t.children,td),[t.children]),n=Ce(r=>ade(r,t.id,e));return n==null?null:C.createElement(Sde,{legendPayload:n})}function Gde(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:qf(l,e),hide:c,type:f,color:o,unit:""}}}var Wde=(t,e)=>t>e?"start":t<e?"end":"middle",Kde=(t,e,n)=>Ur(typeof e=="function"?e(t):e,n,n*.8),Xde=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,l=ik(a,o),c=i+Ur(t.cx,a,a/2),f=r+Ur(t.cy,o,o/2),h=Ur(t.innerRadius,l,0),p=Kde(n,t.outerRadius,l),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:v}},Yde=(t,e)=>{var n=cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Qde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Zde=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var n=mt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return C.createElement(NA,Pl({},e,{type:"linear",className:n}))},Jde=(t,e,n)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),C.isValidElement(r)))return r;var i=mt("recharts-pie-label-text",Qde(t));return C.createElement(Km,Pl({},e,{alignmentBaseline:"middle",className:i}),r)};function ehe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var l=Ao(n),c=ln(i,!1),f=ln(a,!1),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((v,m)=>{var b=(v.startAngle+v.endAngle)/2,w=Un(v.cx,v.cy,v.outerRadius+h,b),A=tn(tn(tn(tn({},l),v),{},{stroke:"none"},c),{},{index:m,textAnchor:Wde(w.x,v.cx)},w),S=tn(tn(tn(tn({},l),v),{},{fill:"none",stroke:v.fill},f),{},{index:m,points:[Un(v.cx,v.cy,v.outerRadius,b),w],key:"line"});return C.createElement(Or,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(m)},a&&Zde(a,S),Jde(i,A,Gt(v,o)))});return C.createElement(Or,{className:"recharts-pie-labels"},p)}function the(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(FS,{label:i}):C.createElement(ehe,{sectors:e,props:n,showLabels:r})}function nhe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ce(Rl),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,f=YS(i,Bde),h=qS(o,i.dataKey),p=GS(c),v=WS(l,i.dataKey);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((m,b)=>{if(m?.startAngle===0&&m?.endAngle===0&&e.length!==1)return null;var w=n&&String(b)===a,A=a?r:null,S=w?n:A,I=tn(tn({},m),{},{stroke:m.stroke,tabIndex:-1,[uk]:b,[ck]:i.dataKey});return C.createElement(Or,Pl({tabIndex:-1,className:"recharts-pie-sector"},Cp(f,m,b),{onMouseEnter:h(m,b),onMouseLeave:p(m,b),onClick:v(m,b),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(b)}),C.createElement(Wj,Pl({option:S,isActive:w,shapeType:"sector"},I)))}))}function rhe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:f,nameKey:h,tooltipType:p}=n,v=Math.abs(n.minAngle),m=Yde(l,c),b=Math.abs(m),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(B=>Gt(B,f,0)!==0).length,S=(b>=360?A:A-1)*w,I=b-A*v-S,O=r.reduce((B,P)=>{var M=Gt(P,f,0);return B+(Re(M)?M:0)},0),N;if(O>0){var k;N=r.map((B,P)=>{var M=Gt(B,f,0),j=Gt(B,h,P),z=Xde(n,a,B),U=(Re(M)?M:0)/O,H,F=tn(tn({},B),i&&i[P]&&i[P].props);P?H=k.endAngle+cr(m)*w*(M!==0?1:0):H=l;var pe=H+cr(m)*((M!==0?v:0)+U*I),_e=(H+pe)/2,X=(z.innerRadius+z.outerRadius)/2,re=[{name:j,value:M,payload:F,dataKey:f,type:p}],de=Un(z.cx,z.cy,X,_e);return k=tn(tn(tn(tn({},n.presentationProps),{},{percent:U,cornerRadius:o,name:j,tooltipPayload:re,midAngle:_e,middleRadius:X,tooltipPosition:de},F),z),{},{value:M,startAngle:H,endAngle:pe,payload:F,paddingAngle:cr(m)*w}),k})}return N}function ihe(t){var{showLabels:e,sectors:n,children:r}=t,i=C.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return C.createElement(Hfe,{value:e?i:void 0},r)}function ahe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=e,v=Np(e,"recharts-pie-"),m=n.current,[b,w]=C.useState(!1),A=C.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=C.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return C.createElement(ihe,{showLabels:!b,sectors:r},C.createElement(Pp,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:A,key:v},I=>{var O=[],N=r&&r[0],k=N?.startAngle;return r?.forEach((B,P)=>{var M=m&&m[P],j=P>0?Xu(B,"paddingAngle",0):0;if(M){var z=dn(M.endAngle-M.startAngle,B.endAngle-B.startAngle,I),U=tn(tn({},B),{},{startAngle:k+j,endAngle:k+z+j});O.push(U),k=U.endAngle}else{var{endAngle:H,startAngle:F}=B,pe=dn(0,H-F,I),_e=tn(tn({},B),{},{startAngle:k+j,endAngle:k+pe+j});O.push(_e),k=_e.endAngle}}),n.current=O,C.createElement(Or,null,C.createElement(nhe,{sectors:O,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),C.createElement(the,{showLabels:!b,sectors:r,props:e}),e.children)}var ohe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ul.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function she(t){var{id:e}=t,n=YS(t,Ude),{hide:r,className:i,rootTabIndex:a}=t,o=C.useMemo(()=>fA(t.children,td),[t.children]),l=Ce(h=>ode(h,e,o)),c=C.useRef(null),f=mt("recharts-pie",i);return r||l==null?(c.current=null,C.createElement(Or,{tabIndex:a,className:f})):C.createElement(C.Fragment,null,C.createElement(KS,{fn:Gde,args:tn(tn({},t),{},{sectors:l})}),C.createElement(Or,{tabIndex:a,className:f},C.createElement(ahe,{props:tn(tn({},n),{},{sectors:l}),previousSectorsRef:c})))}function QS(t){var e=Rr(t,ohe),{id:n}=e,r=YS(e,Fde),i=Ao(r);return C.createElement(XS,{id:n,type:"pie"},a=>C.createElement(C.Fragment,null,C.createElement(Lde,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(qde,Pl({},r,{id:a})),C.createElement(she,Pl({},r,{id:a}))))}QS.displayName="Pie";function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fhe={xAxis:{},yAxis:{},zAxis:{}},Zj=Li({name:"cartesianAxis",initialState:fhe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=rN(rN({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:dhe,removeXAxis:hhe,addYAxis:phe,removeYAxis:ghe,addZAxis:dve,removeZAxis:hve,updateYAxisWidth:vhe}=Zj.actions,mhe=Zj.reducer,yhe=ne([Zn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),xhe=ne([yhe,ds,hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ZS=()=>Ce(xhe),_he=()=>Ce(Wue);function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ahe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=aN(aN({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ln(i,!1)),cA(i)),l;return C.isValidElement(i)?l=C.cloneElement(i,o):typeof i=="function"?l=i(o):l=C.createElement(zj,o),C.createElement(Or,{className:"recharts-active-dot"},l)};function She(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ce(Rl),o=_he();if(e==null||o==null)return null;var l=e.find(c=>o.includes(c.payload));return an(l)?null:Ahe({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var The="Invariant failed";function Che(t,e){throw new Error(The)}var Ihe=["x","y"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ohe(t,e,n){return(e=Rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Phe(t,"string");return typeof e=="symbol"?e:e+""}function Phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nhe(t,e){if(t==null)return{};var n,r,i=Dhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mhe(t,e){var{x:n,y:r}=t,i=Nhe(t,Ihe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return yh(yh(yh(yh(yh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function JS(t){return C.createElement(Wj,Nw({shapeType:"rectangle",propTransformer:Mhe,activeClassName:"recharts-active-bar"},t))}var khe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||an(r);return a?e(r,i):(a||Che(),n)}},jhe={},Jj=Li({name:"errorBars",initialState:jhe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:pve,replaceErrorBar:gve,removeErrorBar:vve}=Jj.actions,Lhe=Jj.reducer,Bhe=["children"];function Uhe(t,e){if(t==null)return{};var n,r,i=Fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zhe=C.createContext(Vhe);function eL(t){var{children:e}=t,n=Uhe(t,Bhe);return C.createElement(zhe.Provider,{value:n},e)}function eT(t,e){var n,r,i=Ce(f=>gs(f,t)),a=Ce(f=>vs(f,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ti.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ci.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function tL(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=ZS(),{needClipX:a,needClipY:o,needClip:l}=eT(e,n);if(!l)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:a?c:c-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var Hhe=["onMouseEnter","onMouseLeave","onClick"],$he=["value","background","tooltipPosition"],qhe=["id"],Ghe=["onMouseEnter","onClick","onMouseLeave"];function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(null,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wv(t,e){if(t==null)return{};var n,r,i=Yhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qhe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:qf(n,e),payload:t}]};function Zhe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:qf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function Jhe(t){var e=Ce(Rl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,f=wv(a,Hhe),h=qS(o,r),p=GS(l),v=WS(c,r);if(!i||n==null)return null;var m=ln(i,!1);return C.createElement(C.Fragment,null,n.map((b,w)=>{var{value:A,background:S,tooltipPosition:I}=b,O=wv(b,$he);if(!S)return null;var N=h(b,w),k=p(b,w),B=v(b,w),P=Xr(Xr(Xr(Xr(Xr({option:i,isActive:String(w)===e},O),{},{fill:"#eee"},S),m),Cp(f,b,w)),{},{onMouseEnter:N,onMouseLeave:k,onClick:B,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(JS,Nl({key:"background-bar-".concat(P.index)},P))}))}function epe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Xr(Xr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return C.createElement(Fj,{value:e?i:void 0},n)}function tpe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=Ce(Rl),c=Ce(bj),f=n&&String(a)===l&&(c==null||o===c),h=f?n:e;return C.createElement(JS,Nl({},r,i,{isActive:f,option:h,index:a,dataKey:o}))}function npe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return C.createElement(JS,Nl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function rpe(t){var{data:e,props:n}=t,r=Ao(n),{id:i}=r,a=wv(r,qhe),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:f,onClick:h,onMouseLeave:p}=n,v=wv(n,Ghe),m=qS(f,l),b=GS(p),w=WS(h,l);return e?C.createElement(C.Fragment,null,e.map((A,S)=>C.createElement(Or,Nl({className:"recharts-bar-rectangle"},Cp(v,A,S),{onMouseEnter:m(A,S),onMouseLeave:b(A,S),onClick:w(A,S),key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(S)}),c?C.createElement(tpe,{shape:o,activeBar:c,baseProps:a,entry:A,index:S,dataKey:l}):C.createElement(npe,{shape:o,baseProps:a,entry:A,index:S,dataKey:l})))):null}function ipe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,v=Np(e,"recharts-bar-"),[m,b]=C.useState(!1),w=!m,A=C.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),S=C.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return C.createElement(epe,{showLabels:w,rects:r},C.createElement(Pp,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:A,onAnimationStart:S,key:v},I=>{var O=I===1?r:r?.map((N,k)=>{var B=p&&p[k];if(B)return Xr(Xr({},N),{},{x:dn(B.x,N.x,I),y:dn(B.y,N.y,I),width:dn(B.width,N.width,I),height:dn(B.height,N.height,I)});if(i==="horizontal"){var P=dn(0,N.height,I);return Xr(Xr({},N),{},{y:N.y+N.height-P,height:P})}var M=dn(0,N.width,I);return Xr(Xr({},N),{},{width:M})});return I>0&&(n.current=O??null),O==null?null:C.createElement(Or,null,C.createElement(rpe,{props:e,data:O}))}),C.createElement(FS,{label:e.label}),e.children)}function ape(t){var e=C.useRef(null);return C.createElement(ipe,{previousRectanglesRef:e,props:t})}var nL=0,ope=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Gt(t,e)}};class spe extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:f}=this.props;if(e||n==null)return null;var h=mt("recharts-bar",i),p=f;return C.createElement(Or,{className:h,id:f},l&&C.createElement("defs",null,C.createElement(tL,{clipPathId:p,xAxisId:a,yAxisId:o})),C.createElement(Or,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},C.createElement(Jhe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(ape,this.props)))}}var lpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ul.isSsr,legendType:"rect",minPointSize:nL,xAxisId:0,yAxisId:0};function upe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=eT(e,n),v=Cm(),m=gi(),b=fA(t.children,td),w=Ce(I=>Lpe(I,e,n,m,t.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=w?.[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,C.createElement(eL,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:ope,errorBarOffset:A},C.createElement(spe,Nl({},t,{layout:v,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function cpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:v,cells:m,parentViewBox:b}=t,w=e==="horizontal"?l:o,A=h?w.scale.domain():null,S=wre({numericAxis:w});return p.map((I,O)=>{var N,k,B,P,M,j;h?N=vre(h[O],A):(N=Gt(I,n),Array.isArray(N)||(N=[S,N]));var z=khe(r,nL)(N[1],O);if(e==="horizontal"){var U,[H,F]=[l.scale(N[0]),l.scale(N[1])];k=G8({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:I,index:O}),B=(U=F??H)!==null&&U!==void 0?U:void 0,P=i.size;var pe=H-F;if(M=Mi(pe)?0:pe,j={x:k,y:v.top,width:P,height:v.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var _e=cr(M||z)*(Math.abs(z)-Math.abs(M));B-=_e,M+=_e}}else{var[X,re]=[o.scale(N[0]),o.scale(N[1])];if(k=X,B=G8({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:O}),P=re-X,M=i.size,j={x:v.left,y:B,width:v.width,height:M},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var de=cr(P||z)*(Math.abs(z)-Math.abs(P));P+=de}}if(k==null||B==null||P==null||M==null)return null;var we=Xr(Xr({},I),{},{x:k,y:B,width:P,height:M,value:h?N:N[1],payload:I,background:j,tooltipPosition:{x:k+P/2,y:B+M/2},parentViewBox:b},m&&m[O]&&m[O].props);return we}).filter(Boolean)}function fpe(t){var e=Rr(t,lpe),n=gi();return C.createElement(XS,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(Xj,{legendPayload:Qhe(e)}),C.createElement(KS,{fn:Zhe,args:e}),C.createElement(Qj,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:bre(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),C.createElement(upe,Nl({},e,{id:r}))))}var rL=C.memo(fpe);rL.displayName="Bar";function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return(e=hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gpe=(t,e)=>e,vpe=(t,e,n)=>n,mpe=(t,e,n,r)=>r,ype=(t,e,n,r,i)=>i,$p=ne([Fm,ype],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),xpe=ne([$p],t=>t?.maxBarSize),_pe=(t,e,n,r,i,a)=>a,uN=(t,e,n)=>{var r=n??t;if(!an(r))return Ur(r,e,0)},bpe=ne([dt,Fm,gpe,vpe,mpe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),wpe=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?Sw(t,"yAxis",n,r):Sw(t,"xAxis",e,r)},Epe=(t,e,n)=>{var r=dt(t);return r==="horizontal"?uP(t,"xAxis",e):uP(t,"yAxis",n)},Ape=(t,e,n)=>{var r={},i=t.filter(Um),a=t.filter(f=>f.stackId==null),o=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),l=Object.entries(o).map(f=>{var[h,p]=f,v=p.map(b=>b.dataKey),m=uN(e,n,p[0].barSize);return{stackId:h,dataKeys:v,barSize:m}}),c=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),p=uN(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...c]},Spe=ne([bpe,nle,Epe],Ape),Tpe=(t,e,n,r,i)=>{var a,o,l=$p(t,e,n,r,i);if(l!=null){var c=dt(t),f=x7(t),{maxBarSize:h}=l,p=an(h)?f:h,v,m;return c==="horizontal"?(v=Ol(t,"xAxis",e,r),m=Il(t,"xAxis",e,r)):(v=Ol(t,"yAxis",n,r),m=Il(t,"yAxis",n,r)),(a=(o=tp(v,m,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},iL=(t,e,n,r)=>{var i=dt(t),a,o;return i==="horizontal"?(a=Ol(t,"xAxis",e,r),o=Il(t,"xAxis",e,r)):(a=Ol(t,"yAxis",n,r),o=Il(t,"yAxis",n,r)),tp(a,o)};function Cpe(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=Ur(t,n,0,!0),l,c=[];if(ji(r[0].barSize)){var f=!1,h=n/a,p=r.reduce((S,I)=>S+(I.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&h>0&&(f=!0,h*=.9,p=a*h);var v=(n-p)/2>>0,m={offset:v-o,size:0};l=r.reduce((S,I)=>{var O,N={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:m.offset+m.size+o,size:f?h:(O=I.barSize)!==null&&O!==void 0?O:0}},k=[...S,N];return m=k[k.length-1].position,k},c)}else{var b=Ur(e,n,0,!0);n-2*b-(a-1)*o<=0&&(o=0);var w=(n-2*b-(a-1)*o)/a;w>1&&(w>>=0);var A=ji(i)?Math.min(w,i):w;l=r.reduce((S,I,O)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(w+o)*O+(w-A)/2,size:A}}],c)}return l}}var Ipe=(t,e,n,r,i,a,o)=>{var l=an(o)?e:o,c=Cpe(n,r,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(f=>Q1(Q1({},f),{},{position:Q1(Q1({},f.position),{},{offset:f.position.offset-i/2})}))),c},Ope=ne([Spe,x7,tle,_7,Tpe,iL,xpe],Ipe),Rpe=(t,e,n,r)=>Ol(t,"xAxis",e,r),Ppe=(t,e,n,r)=>Ol(t,"yAxis",n,r),Npe=(t,e,n,r)=>Il(t,"xAxis",e,r),Dpe=(t,e,n,r)=>Il(t,"yAxis",n,r),Mpe=ne([Ope,$p],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),kpe=(t,e)=>{var n=fS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},jpe=ne([wpe,$p],kpe),Lpe=ne([Zn,CA,Rpe,Ppe,Npe,Dpe,Mpe,dt,km,iL,jpe,$p,_pe],(t,e,n,r,i,a,o,l,c,f,h,p,v)=>{var{chartData:m,dataStartIndex:b,dataEndIndex:w}=c;if(!(p==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=m?.slice(b,w+1),S!=null)return cpe({layout:l,barSettings:p,pos:o,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:S,offset:t,cells:v})}}),aL=t=>{var{chartData:e}=t,n=un(),r=gi();return C.useEffect(()=>r?()=>{}:(n(xP(e)),()=>{n(xP(void 0))}),[e,n,r]),null},cN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oL=Li({name:"brush",initialState:cN,reducers:{setBrushSettings(t,e){return e.payload==null?cN:e.payload}}}),{setBrushSettings:mve}=oL.actions,Bpe=oL.reducer;function Upe(t,e,n){return(e=Fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=Vpe(t,"string");return typeof e=="symbol"?e:e+""}function Vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tT{static create(e){return new tT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Upe(tT,"EPS",1e-4);function zpe(t){return(t%180+180)%180}var Hpe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zpe(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},$pe={dots:[],areas:[],lines:[]},sL=Li({name:"referenceElements",initialState:$pe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Jo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Jo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Jo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:yve,removeDot:xve,addArea:_ve,removeArea:bve,addLine:wve,removeLine:Eve}=sL.actions,qpe=sL.reducer,Gpe=C.createContext(void 0),Wpe=t=>{var{children:e}=t,[n]=C.useState("".concat(Zh("recharts"),"-clip")),r=ZS();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return C.createElement(Gpe.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function Df(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function lL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hpe(r,n)}function Xpe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Ev(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ype(t,e){return lL(t,e+1)}function Qpe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,c=0,f=1,h=o,p=function(){var b=r?.[c];if(b===void 0)return{v:lL(r,f)};var w=c,A,S=()=>(A===void 0&&(A=n(b,w)),A),I=b.coordinate,O=c===0||Ev(t,I,S,h,l);O||(c=0,h=o,f+=1),O&&(h=I+t*(S()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=e0e(t,"string");return typeof e=="symbol"?e:e+""}function e0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t0e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:c}=e,f=function(v){var m=a[v],b,w=()=>(b===void 0&&(b=n(m,v)),b);if(v===o-1){var A=t*(m.coordinate+t*w()/2-c);a[v]=m=Mr(Mr({},m),{},{tickCoord:A>0?m.coordinate-A*t:m.coordinate})}else a[v]=m=Mr(Mr({},m),{},{tickCoord:m.coordinate});var S=Ev(t,m.tickCoord,w,l,c);S&&(c=m.tickCoord-t*(w()/2+i),a[v]=Mr(Mr({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return a}function n0e(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:c,end:f}=e;if(a){var h=r[l-1],p=n(h,l-1),v=t*(h.coordinate+t*p/2-f);o[l-1]=h=Mr(Mr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var m=Ev(t,h.tickCoord,()=>p,c,f);m&&(f=h.tickCoord-t*(p/2+i),o[l-1]=Mr(Mr({},h),{},{isShow:!0}))}for(var b=a?l-1:l,w=function(I){var O=o[I],N,k=()=>(N===void 0&&(N=n(O,I)),N);if(I===0){var B=t*(O.coordinate-t*k()/2-c);o[I]=O=Mr(Mr({},O),{},{tickCoord:B<0?O.coordinate-B*t:O.coordinate})}else o[I]=O=Mr(Mr({},O),{},{tickCoord:O.coordinate});var P=Ev(t,O.tickCoord,k,c,f);P&&(c=O.tickCoord+t*(k()/2+i),o[I]=Mr(Mr({},O),{},{isShow:!0}))},A=0;A<b;A++)w(A);return o}function nT(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(c)||Ul.isSsr){var v;return(v=Ype(i,Re(c)?c:0))!==null&&v!==void 0?v:[]}var m=[],b=l==="top"||l==="bottom"?"width":"height",w=h&&b==="width"?Uh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(O,N)=>{var k=typeof f=="function"?f(O.value,N):O.value;return b==="width"?Kpe(Uh(k,{fontSize:e,letterSpacing:n}),w,p):Uh(k,{fontSize:e,letterSpacing:n})[b]},S=i.length>=2?cr(i[1].coordinate-i[0].coordinate):1,I=Xpe(a,S,b);return c==="equidistantPreserveStart"?Qpe(S,I,A,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=n0e(S,I,A,i,o,c==="preserveStartEnd"):m=t0e(S,I,A,i,o),m.filter(O=>O.isShow))}var r0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,f=o+c+l+(n?r:0);return Math.round(f)}return 0},i0e=["axisLine","width","height","className","hide","ticks"],a0e=["viewBox"],o0e=["viewBox"];function Dw(t,e){if(t==null)return{};var n,r,i=s0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(null,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return(e=u0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return typeof e=="symbol"?e:e+""}function c0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function f0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var f=Wn(Wn(Wn({},c),ln(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=Wn(Wn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Wn(Wn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return C.createElement("line",Ju({},f,{className:mt("recharts-cartesian-axis-line",Xu(l,"className"))}))}function d0e(t,e,n,r,i,a,o,l,c){var f,h,p,v,m,b,w=l?-1:1,A=t.tickSize||o,S=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,v=n+ +!l*i,p=v-w*A,b=p-w*c,m=S;break;case"left":p=v=t.coordinate,h=e+ +!l*r,f=h-w*A,m=f-w*c,b=S;break;case"right":p=v=t.coordinate,h=e+ +l*r,f=h+w*A,m=f+w*c,b=S;break;default:f=h=t.coordinate,v=n+ +l*i,p=v+w*A,b=p+w*c,m=S;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:m,y:b}}}function h0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function p0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function g0e(t){var{option:e,tickProps:n,value:r}=t,i,a=mt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,Wn(Wn({},n),{},{className:a}));else if(typeof e=="function")i=e(Wn(Wn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=mt(o,e?.className)),i=C.createElement(Km,Ju({},n,{className:o}),r)}return i}function v0e(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:h,x:p,y:v,width:m,height:b,tickSize:w,tickMargin:A,fontSize:S,letterSpacing:I,getTicksConfig:O,events:N}=t,k=nT(Wn(Wn({},O),{},{ticks:e}),S,I),B=h0e(f,h),P=p0e(f,h),M=Ao(O),j=ln(n,!1),z=Wn(Wn({},M),{},{fill:"none"},ln(r,!1)),U=k.map((H,F)=>{var{line:pe,tick:_e}=d0e(H,p,v,m,b,f,w,h,A),X=Wn(Wn(Wn(Wn({textAnchor:B,verticalAnchor:P},M),{},{stroke:"none",fill:i},j),_e),{},{index:F,payload:H,visibleTicksCount:k.length,tickFormatter:a,padding:l},c);return C.createElement(Or,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Cp(N,H,F)),r&&C.createElement("line",Ju({},z,pe,{className:mt("recharts-cartesian-axis-tick-line",Xu(r,"className"))})),n&&C.createElement(g0e,{option:n,tickProps:X,value:"".concat(typeof a=="function"?a(H.value,F):H.value).concat(o||"")}))});return U.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var m0e=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l}=t,c=Dw(t,i0e),[f,h]=C.useState(""),[p,v]=C.useState(""),m=C.useRef([]);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return r0e({ticks:m.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=C.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(A);var S=A[0];if(S){var I=window.getComputedStyle(S),O=I.fontSize,N=I.letterSpacing;(O!==f||N!==p)&&(h(O),v(N))}}},[f,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Or,{className:mt("recharts-cartesian-axis",a),ref:b},C.createElement(f0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ao(t)}),C.createElement(v0e,{ticks:l,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:t,events:c}),C.createElement(wfe,{x:t.x,y:t.y,width:t.width,height:t.height},C.createElement(Nfe,{label:t.label}),t.children))}),y0e=C.memo(m0e,(t,e)=>{var{viewBox:n}=t,r=Dw(t,a0e),{viewBox:i}=e,a=Dw(e,o0e);return Df(n,i)&&Df(r,a)}),iT=C.forwardRef((t,e)=>{var n=Rr(t,rT);return C.createElement(y0e,Ju({},n,{ref:e}))});iT.displayName="CartesianAxis";var x0e=["x1","y1","x2","y2","key"],_0e=["offset"],b0e=["xAxisId","yAxisId"],w0e=["xAxisId","yAxisId"];function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){E0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0e(t,e,n){return(e=A0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:e+""}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(null,arguments)}function Av(t,e){if(t==null)return{};var n,r,i=T0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return C.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uL(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:l}=e,c=Av(e,x0e),f=Ao(c),{offset:h}=f,p=Av(f,_0e);n=C.createElement("line",Nu({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function I0e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Av(t,b0e),c=i.map((f,h)=>{var p=Lr(Lr({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return uL(r,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function O0e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=Av(t,w0e),c=i.map((f,h)=>{var p=Lr(Lr({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return uL(r,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function R0e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%e.length;return C.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function P0e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var m=!f[v+1],b=m?i+o-p:f[v+1]-p;if(b<=0)return null;var w=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:b,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var N0e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return ok(nT(Lr(Lr(Lr({},rT),n),{},{ticks:sk(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},D0e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return ok(nT(Lr(Lr(Lr({},rT),n),{},{ticks:sk(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},M0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function aT(t){var e=OA(),n=RA(),r=fk(),i=Lr(Lr({},Rr(t,M0e)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:m}=i,b=gi(),w=Ce(j=>cP(j,"xAxis",a,b)),A=Ce(j=>cP(j,"yAxis",o,b));if(!Re(f)||f<=0||!Re(h)||h<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var S=i.verticalCoordinatesGenerator||N0e,I=i.horizontalCoordinatesGenerator||D0e,{horizontalPoints:O,verticalPoints:N}=i;if((!O||!O.length)&&typeof I=="function"){var k=v&&v.length,B=I({yAxis:A?Lr(Lr({},A),{},{ticks:k?v:A.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);Bh(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(O=B)}if((!N||!N.length)&&typeof S=="function"){var P=m&&m.length,M=S({xAxis:w?Lr(Lr({},w),{},{ticks:P?m:w.ticks}):void 0,width:e,height:n,offset:r},P?!0:p);Bh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(C0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(R0e,Nu({},i,{horizontalPoints:O})),C.createElement(P0e,Nu({},i,{verticalPoints:N})),C.createElement(I0e,Nu({},i,{offset:r,horizontalPoints:O,xAxis:w,yAxis:A})),C.createElement(O0e,Nu({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:A})))}aT.displayName="CartesianGrid";var cL=(t,e,n,r)=>Ol(t,"xAxis",e,r),fL=(t,e,n,r)=>Il(t,"xAxis",e,r),dL=(t,e,n,r)=>Ol(t,"yAxis",n,r),hL=(t,e,n,r)=>Il(t,"yAxis",n,r),k0e=ne([dt,cL,dL,fL,hL],(t,e,n,r,i)=>Bl(t,"xAxis")?tp(e,r,!1):tp(n,i,!1)),j0e=(t,e,n,r,i)=>i;function L0e(t){return t.type==="line"}var B0e=ne([Fm,j0e],(t,e)=>t.filter(L0e).find(n=>n.id===e)),U0e=ne([dt,cL,dL,fL,hL,B0e,k0e,km],(t,e,n,r,i,a,o,l)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:v}=a,m;if(v!=null&&v.length>0?m=v:m=c?.slice(f,h+1),m!=null)return s1e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}}),F0e=["id"],V0e=["type","layout","connectNulls","needClip"],z0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){H0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0e(t,e,n){return(e=$0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $0e(t){var e=q0e(t,"string");return typeof e=="symbol"?e:e+""}function q0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oT(t,e){if(t==null)return{};var n,r,i=G0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(null,arguments)}var W0e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:qf(n,e),payload:t}]};function K0e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:qf(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var pL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function X0e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Y0e=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return pL(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){l=[...n.slice(0,c),a-f];break}var h=l.length%2===0?[0,o]:[o];return[...X0e(n,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function Q0e(t,e){var n;if(C.isValidElement(t))n=C.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=mt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=C.createElement(zj,ec({},e,{className:r}))}return n}function Z0e(t,e){return t==null?!1:e?!0:t.length===1}function J0e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Z0e(n,i))return null;var{id:l}=r,c=oT(r,F0e),f=e9(i),h=Ao(c),p=ln(i,!0),v=n.map((b,w)=>{var A=Oi(Oi(Oi({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return Q0e(i,A)}),m={clipPath:o?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return C.createElement(Or,ec({className:"recharts-line-dots",key:"dots"},m),v)}function e1e(t){var{showLabels:e,children:n,points:r}=t,i=C.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Oi(Oi({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return C.createElement(Fj,{value:e?i:null},n)}function gN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:c,needClip:f}=a,h=oT(a,V0e),p=Oi(Oi({},ln(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return C.createElement(C.Fragment,null,r?.length>1&&C.createElement(NA,ec({},p,{pathRef:n})),C.createElement(J0e,{points:r,clipPathId:e,props:a}))}function t1e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function n1e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:m,height:b,onAnimationEnd:w,onAnimationStart:A}=n,S=i.current,I=Np(n,"recharts-line-"),[O,N]=C.useState(!1),k=!O,B=C.useCallback(()=>{typeof w=="function"&&w(),N(!1)},[w]),P=C.useCallback(()=>{typeof A=="function"&&A(),N(!0)},[A]),M=t1e(r.current),j=a.current;return C.createElement(e1e,{points:o,showLabels:k},n.children,C.createElement(Pp,{animationId:I,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:B,onAnimationStart:P,key:I},z=>{var U=dn(j,M+j,z),H=Math.min(U,M),F;if(c)if(l){var pe="".concat(l).split(/[,\s]+/gim).map(re=>parseFloat(re));F=Y0e(H,M,pe)}else F=pL(M,H);else F=l==null?void 0:String(l);if(S){var _e=S.length/o.length,X=z===1?o:o.map((re,de)=>{var we=Math.floor(de*_e);if(S[we]){var Me=S[we];return Oi(Oi({},re),{},{x:dn(Me.x,re.x,z),y:dn(Me.y,re.y,z)})}return v?Oi(Oi({},re),{},{x:dn(m*2,re.x,z),y:dn(b/2,re.y,z)}):Oi(Oi({},re),{},{x:re.x,y:re.y})});return i.current=X,C.createElement(gN,{props:n,points:X,clipPathId:e,pathRef:r,strokeDasharray:F})}return z>0&&M>0&&(i.current=o,a.current=H),C.createElement(gN,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:F})}),C.createElement(FS,{label:n.label}))}function r1e(t){var{clipPathId:e,props:n}=t,r=C.useRef(null),i=C.useRef(0),a=C.useRef(null);return C.createElement(n1e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var i1e=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Gt(t.payload,e)});class a1e extends C.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:h,height:p,id:v,needClip:m}=this.props;if(n)return null;var b=mt("recharts-line",a),w=v,{r:A=3,strokeWidth:S=2}=(e=ln(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=e9(r),O=A*2+S;return C.createElement(C.Fragment,null,C.createElement(Or,{className:b},m&&C.createElement("defs",null,C.createElement(tL,{clipPathId:w,xAxisId:o,yAxisId:l}),!I&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:f-O/2,y:c-O/2,width:h+O,height:p+O}))),C.createElement(eL,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:i1e,errorBarOffset:0},C.createElement(r1e,{props:this.props,clipPathId:w}))),C.createElement(She,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var gL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ul.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function o1e(t){var e=Rr(t,gL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:m,yAxisId:b,id:w}=e,A=oT(e,z0e),{needClip:S}=eT(m,b),I=ZS(),O=Cm(),N=gi(),k=Ce(z=>U0e(z,m,b,N,w));if(O!=="horizontal"&&O!=="vertical"||k==null||I==null)return null;var{height:B,width:P,x:M,y:j}=I;return C.createElement(a1e,ec({},A,{id:w,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:m,yAxisId:b,points:k,layout:O,height:B,width:P,left:M,top:j,needClip:S}))}function s1e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((f,h)=>{var p=Gt(f,o);if(e==="horizontal"){var v=q8({axis:n,ticks:i,bandSize:l,entry:f,index:h}),m=an(p)?null:r.scale(p);return{x:v,y:m,value:p,payload:f}}var b=an(p)?null:n.scale(p),w=q8({axis:r,ticks:a,bandSize:l,entry:f,index:h});return b==null||w==null?null:{x:b,y:w,value:p,payload:f}}).filter(Boolean)}function l1e(t){var e=Rr(t,gL),n=gi();return C.createElement(XS,{id:e.id,type:"line"},r=>C.createElement(C.Fragment,null,C.createElement(Xj,{legendPayload:W0e(e)}),C.createElement(KS,{fn:K0e,args:e}),C.createElement(Qj,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),C.createElement(o1e,ec({},e,{id:r}))))}var vL=C.memo(l1e);vL.displayName="Line";var u1e=["dangerouslySetInnerHTML","ticks"],c1e=["id"],f1e=["domain"],d1e=["domain"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function Sv(t,e){if(t==null)return{};var n,r,i=h1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function p1e(t){var e=un();return C.useEffect(()=>(e(dhe(t)),()=>{e(hhe(t))}),[t,e]),null}var g1e=t=>{var{xAxisId:e,className:n}=t,r=Ce(CA),i=gi(),a="xAxis",o=Ce(A=>Zf(A,a,e,i)),l=Ce(A=>nj(A,a,e,i)),c=Ce(A=>Z7(A,e)),f=Ce(A=>Wle(A,e)),h=Ce(A=>O7(A,e));if(c==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,m=Sv(t,u1e),{id:b}=h,w=Sv(h,c1e);return C.createElement(iT,Mw({},m,w,{scale:o,x:f.x,y:f.y,width:c.width,height:c.height,className:mt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},v1e={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:Ti.allowDecimals,allowDuplicatedCategory:Ti.allowDuplicatedCategory,height:Ti.height,hide:!1,mirror:Ti.mirror,orientation:Ti.orientation,padding:Ti.padding,reversed:Ti.reversed,scale:Ti.scale,tickCount:Ti.tickCount,type:Ti.type,xAxisId:0},m1e=t=>{var e,n,r,i,a,o=Rr(t,v1e);return C.createElement(C.Fragment,null,C.createElement(p1e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(g1e,o))},y1e=(t,e)=>{var{domain:n}=t,r=Sv(t,f1e),{domain:i}=e,a=Sv(e,d1e);return Df(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Df({domain:n},{domain:i}):!1},sT=C.memo(m1e,y1e);sT.displayName="XAxis";var x1e=["dangerouslySetInnerHTML","ticks"],_1e=["id"],b1e=["domain"],w1e=["domain"];function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(null,arguments)}function Tv(t,e){if(t==null)return{};var n,r,i=E1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function E1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A1e(t){var e=un();return C.useEffect(()=>(e(phe(t)),()=>{e(ghe(t))}),[t,e]),null}var S1e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=C.useRef(null),o=C.useRef(null),l=Ce(CA),c=gi(),f=un(),h="yAxis",p=Ce(k=>Zf(k,h,e,c)),v=Ce(k=>J7(k,e)),m=Ce(k=>Xle(k,e)),b=Ce(k=>nj(k,h,e,c)),w=Ce(k=>R7(k,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!v||US(i)||C.isValidElement(i)||w==null)){var k=a.current;if(k){var B=k.getCalculatedWidth();Math.round(v.width)!==Math.round(B)&&f(vhe({id:e,width:B}))}}},[b,v,f,i,e,r,w]),v==null||m==null||w==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=t,I=Tv(t,x1e),{id:O}=w,N=Tv(w,_1e);return C.createElement(iT,kw({},I,N,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:mt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:b}))},T1e={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,hide:!1,mirror:Ci.mirror,orientation:Ci.orientation,padding:Ci.padding,reversed:Ci.reversed,scale:Ci.scale,tickCount:Ci.tickCount,type:Ci.type,width:Ci.width,yAxisId:0},C1e=t=>{var e,n,r,i,a,o=Rr(t,T1e);return C.createElement(C.Fragment,null,C.createElement(A1e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),C.createElement(S1e,o))},I1e=(t,e)=>{var{domain:n}=t,r=Tv(t,b1e),{domain:i}=e,a=Tv(e,w1e);return Df(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Df({domain:n},{domain:i}):!1},lT=C.memo(C1e,I1e);lT.displayName="YAxis";var eb={exports:{}},tb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function O1e(){if(vN)return tb;vN=1;var t=kf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(c,f,h,p,v){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=o(function(){function A(k){if(!S){if(S=!0,I=k,k=p(k),v!==void 0&&b.hasValue){var B=b.value;if(v(B,k))return O=B}return O=k}if(B=O,n(I,k))return B;var P=p(k);return v!==void 0&&v(B,P)?(I=k,B):(I=k,O=P)}var S=!1,I,O,N=h===void 0?null:h;return[function(){return A(f())},N===null?void 0:function(){return A(N())}]},[f,h,p,v]);var w=r(c,m[0],m[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},tb}var mN;function R1e(){return mN||(mN=1,eb.exports=O1e()),eb.exports}R1e();function P1e(t){t()}function N1e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){P1e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var yN={notify(){},get:()=>[]};function D1e(t,e){let n,r=yN,i=0,a=!1;function o(w){h();const A=r.subscribe(w);let S=!1;return()=>{S||(S=!0,A(),p())}}function l(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=N1e())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=yN)}function v(){a||(a=!0,h())}function m(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:m,getListeners:()=>r};return b}var M1e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k1e=M1e(),j1e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",L1e=j1e(),B1e=()=>k1e||L1e?C.useLayoutEffect:C.useEffect,U1e=B1e(),F1e=Symbol.for("react-redux-context"),V1e=typeof globalThis<"u"?globalThis:{};function z1e(){if(!C.createContext)return{};const t=V1e[F1e]??=new Map;let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var H1e=z1e();function $1e(t){const{children:e,context:n,serverState:r,store:i}=t,a=C.useMemo(()=>{const c=D1e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=C.useMemo(()=>i.getState(),[i]);U1e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||H1e;return C.createElement(l.Provider,{value:a},e)}var q1e=$1e,G1e=(t,e)=>e,uT=ne([G1e,dt,T7,er,mj,ms,ece,Zn],ace),cT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},mL=ca("mouseClick"),yL=Op();yL.startListening({actionCreator:mL,effect:(t,e)=>{var n=t.payload,r=uT(e.getState(),cT(n));r?.activeIndex!=null&&e.dispatch(lue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var jw=ca("mouseMove"),xL=Op();xL.startListening({actionCreator:jw,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=OS(r,r.tooltip.settings.shared),a=uT(r,cT(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(cj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(uj()))}});var xN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_L=Li({name:"rootProps",initialState:xN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:xN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),W1e=_L.reducer,{updateOptions:K1e}=_L.actions,bL=Li({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:X1e}=bL.actions,Y1e=bL.reducer,wL=ca("keyDown"),EL=ca("focus"),fT=Op();fT.startListening({actionCreator:wL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(RS(i,ed(n))),l=ms(n);if(a==="Enter"){var c=yv(n,"axis","hover",String(i.index));e.dispatch(Cw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Jle(n),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=o+p*h;if(!(l==null||v>=l.length||v<0)){var m=yv(n,"axis","hover",String(v));e.dispatch(Cw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});fT.startListening({actionCreator:EL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=yv(n,"axis","hover",String(a));e.dispatch(Cw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ea=ca("externalEvent"),AL=Op();AL.startListening({actionCreator:ea,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:$ue(n),activeDataKey:bj(n),activeIndex:Rl(n),activeLabel:_j(n),activeTooltipIndex:Rl(n),isTooltipActive:que(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Q1e=ne([Jf],t=>t.tooltipItemPayloads),Z1e=ne([Q1e,zp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),SL=ca("touchMove"),TL=Op();TL.startListening({actionCreator:SL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=OS(r,r.tooltip.settings.shared);if(i==="axis"){var a=uT(r,cT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(cj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(uk),h=(o=c.getAttribute(ck))!==null&&o!==void 0?o:void 0,p=Z1e(e.getState(),f,h);e.dispatch(lj({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var J1e=k9({brush:Bpe,cartesianAxis:mhe,chartData:bce,errorBars:Lhe,graphicalItems:jde,layout:ere,legend:$re,options:vce,polarAxis:Jfe,polarOptions:Y1e,referenceElements:qpe,rootProps:W1e,tooltip:uue}),ege=function(e){return Sne({reducer:J1e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([yL.middleware,xL.middleware,fT.middleware,AL.middleware,TL.middleware]),devTools:Ul.devToolsEnabled})};function CL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gi(),a=C.useRef(null);if(i)return n;a.current==null&&(a.current=ege(e));var o=bA;return C.createElement(q1e,{context:o,store:a.current},n)}function IL(t){var{layout:e,width:n,height:r,margin:i}=t,a=un(),o=gi();return C.useEffect(()=>{o||(a(Qne(e)),a(Zne({width:n,height:r})),a(Yne(i)))},[a,o,e,n,r,i]),null}function OL(t){var e=un();return C.useEffect(()=>{e(K1e(t))},[e,t]),null}var tge=["children"];function nge(t,e){if(t==null)return{};var n,r,i=rge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}var ige={width:"100%",height:"100%"},age=C.forwardRef((t,e)=>{var n=OA(),r=RA(),i=gk();if(!If(n)||!If(r))return null;var{children:a,otherAttributes:o,title:l,desc:c}=t,f,h;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,C.createElement(dA,Cv({},o,{title:l,desc:c,role:h,tabIndex:f,width:n,height:r,style:ige,ref:e}),a)}),oge=t=>{var{children:e}=t,n=Ce(Tm);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return C.createElement(dA,{width:r,height:i,x:o,y:a},e)},_N=C.forwardRef((t,e)=>{var{children:n}=t,r=nge(t,tge),i=gi();return i?C.createElement(oge,null,n):C.createElement(age,Cv({ref:e},r),n)});function sge(){var t=un(),[e,n]=C.useState(null),r=Ce(Ore);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ji(a)&&a!==r&&t(Jne(a))}},[e,t,r]),n}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e,n){return(e=cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=fge(t,"string");return typeof e=="symbol"?e:e+""}function fge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dge=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:m,onTouchMove:b,onTouchStart:w,style:A,width:S}=t,I=un(),[O,N]=C.useState(null),[k,B]=C.useState(null);Rce();var P=sge(),M=C.useCallback(ee=>{P(ee),typeof e=="function"&&e(ee),N(ee),B(ee)},[P,e,N,B]),j=C.useCallback(ee=>{I(mL(ee)),I(ea({handler:a,reactEvent:ee}))},[I,a]),z=C.useCallback(ee=>{I(jw(ee)),I(ea({handler:f,reactEvent:ee}))},[I,f]),U=C.useCallback(ee=>{I(uj()),I(ea({handler:h,reactEvent:ee}))},[I,h]),H=C.useCallback(ee=>{I(jw(ee)),I(ea({handler:p,reactEvent:ee}))},[I,p]),F=C.useCallback(()=>{I(EL())},[I]),pe=C.useCallback(ee=>{I(wL(ee.key))},[I]),_e=C.useCallback(ee=>{I(ea({handler:o,reactEvent:ee}))},[I,o]),X=C.useCallback(ee=>{I(ea({handler:l,reactEvent:ee}))},[I,l]),re=C.useCallback(ee=>{I(ea({handler:c,reactEvent:ee}))},[I,c]),de=C.useCallback(ee=>{I(ea({handler:v,reactEvent:ee}))},[I,v]),we=C.useCallback(ee=>{I(ea({handler:w,reactEvent:ee}))},[I,w]),Me=C.useCallback(ee=>{I(SL(ee)),I(ea({handler:b,reactEvent:ee}))},[I,b]),G=C.useCallback(ee=>{I(ea({handler:m,reactEvent:ee}))},[I,m]);return C.createElement(Cj.Provider,{value:O},C.createElement(n9.Provider,{value:k},C.createElement("div",{className:mt("recharts-wrapper",r),style:lge({position:"relative",cursor:"default",width:S,height:i},A),onClick:j,onContextMenu:_e,onDoubleClick:X,onFocus:F,onKeyDown:pe,onMouseDown:re,onMouseEnter:z,onMouseLeave:U,onMouseMove:H,onMouseUp:de,onTouchEnd:G,onTouchMove:Me,onTouchStart:we,ref:M},n)))}),hge=["children","className","width","height","style","compact","title","desc"];function pge(t,e){if(t==null)return{};var n,r,i=gge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RL=C.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:l,title:c,desc:f}=t,h=pge(t,hge),p=Ao(h);return l?C.createElement(_N,{otherAttributes:p,title:c,desc:f},n):C.createElement(dge,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(_N,{otherAttributes:p,title:c,desc:f,ref:e},C.createElement(Wpe,null,n)))}),vge=["width","height"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function mge(t,e){if(t==null)return{};var n,r,i=yge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xge={top:5,right:5,bottom:5,left:5},_ge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xge,reverseStackOrder:!1,syncMethod:"index"},PL=C.forwardRef(function(e,n){var r,i=Rr(e.categoricalChartProps,_ge),{width:a,height:o}=i,l=mge(i,vge);if(!If(a)||!If(o))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,m={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return C.createElement(CL,{preloadedState:{options:m},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},C.createElement(aL,{chartData:v.data}),C.createElement(IL,{width:a,height:o,layout:i.layout,margin:i.margin}),C.createElement(OL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(RL,Lw({},l,{width:a,height:o,ref:n})))}),bge=["axis"],wge=C.forwardRef((t,e)=>C.createElement(PL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bge,tooltipPayloadSearcher:BS,categoricalChartProps:t,ref:e})),Ege=["axis","item"],Age=C.forwardRef((t,e)=>C.createElement(PL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ege,tooltipPayloadSearcher:BS,categoricalChartProps:t,ref:e}));function Sge(t){var e=un();return C.useEffect(()=>{e(X1e(t))},[e,t]),null}var Tge=["width","height","layout"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(null,arguments)}function Cge(t,e){if(t==null)return{};var n,r,i=Ige(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ige(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oge={top:5,right:5,bottom:5,left:5},Rge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Oge,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Pge=C.forwardRef(function(e,n){var r,i=Rr(e.categoricalChartProps,Rge),{width:a,height:o,layout:l}=i,c=Cge(i,Tge);if(!If(a)||!If(o))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=e,m={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return C.createElement(CL,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},C.createElement(aL,{chartData:i.data}),C.createElement(IL,{width:a,height:o,layout:l,margin:i.margin}),C.createElement(OL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),C.createElement(Sge,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(RL,Bw({width:a,height:o},c,{ref:n})))}),Nge=["item"],Dge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},NL=C.forwardRef((t,e)=>{var n=Rr(t,Dge);return C.createElement(Pge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nge,tooltipPayloadSearcher:BS,categoricalChartProps:n,ref:e})});const Mge=()=>{const{intakes:t}=bo(),e=C.useMemo(()=>{const r=new Date,i=[];for(let a=6;a>=0;a--){const o=new Date(r);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],f=t.filter(h=>h.date.startsWith(l)).reduce((h,p)=>h+p.calories,0);i.push({date:`${o.getMonth()+1}/${o.getDate()}`,calories:f})}return i},[t]),n=e.some(r=>r.calories>0);return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"📈 週間カロリー推移"}),n?_.jsx(Wm,{width:"100%",height:250,children:_.jsxs(wge,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[_.jsx(aT,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),_.jsx(sT,{dataKey:"date",tick:{fontSize:12},stroke:"#9ca3af"}),_.jsx(lT,{tick:{fontSize:12},stroke:"#9ca3af"}),_.jsx(Gm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"}}),_.jsx(vL,{type:"monotone",dataKey:"calories",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"カロリー (kcal)"})]})}):_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[_.jsx("p",{children:"データがありません"}),_.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、カロリーの推移が表示されます"})]})]})},kge=()=>{const{expenses:t}=wo(),e=C.useMemo(()=>{const r=new Date,i=[];for(let a=5;a>=0;a--){const o=new Date(r.getFullYear(),r.getMonth()-a,1),l=o.getFullYear(),c=o.getMonth()+1,h=t.filter(p=>{const v=new Date(p.date);return v.getFullYear()===l&&v.getMonth()+1===c}).reduce((p,v)=>p+v.amount,0);i.push({month:`${c}月`,amount:h})}return i},[t]),n=e.some(r=>r.amount>0);return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"💰 月間支出推移"}),n?_.jsx(Wm,{width:"100%",height:250,children:_.jsxs(Age,{data:e,margin:{top:10,right:10,left:-20,bottom:5},children:[_.jsx(aT,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),_.jsx(sT,{dataKey:"month",tick:{fontSize:12},stroke:"#9ca3af"}),_.jsx(lT,{tick:{fontSize:12},stroke:"#9ca3af"}),_.jsx(Gm,{contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"},labelStyle:{fontWeight:600,marginBottom:"4px"},formatter:r=>`¥${r.toLocaleString()}`}),_.jsx(rL,{dataKey:"amount",fill:"#22c55e",radius:[4,4,0,0],name:"支出額"})]})}):_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[_.jsx("p",{children:"データがありません"}),_.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、支出の推移が表示されます"})]})]})},jge=()=>{const{intakes:t}=bo(),e=C.useMemo(()=>{const n=new Map;return t.forEach(i=>{const a=n.get(i.name)||0;n.set(i.name,a+1)}),Array.from(n.entries()).sort((i,a)=>a[1]-i[1]).slice(0,5).map(([i,a],o)=>({rank:o+1,name:i,count:a}))},[t]);return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"🏆 よく買う商品 TOP5"}),e.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[_.jsx("p",{children:"データがありません"}),_.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"食事記録を追加すると、よく買う商品が表示されます"})]}):_.jsx("div",{style:{marginTop:"16px"},children:e.map(n=>_.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:n.rank<e.length?"1px solid var(--border)":"none"},children:[_.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n.rank===1?"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)":n.rank===2?"linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%)":n.rank===3?"linear-gradient(135deg, #cd7f32 0%, #daa06d 100%)":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.1rem",color:n.rank<=3?"#fff":"#666",marginRight:"16px",flexShrink:0},children:n.rank}),_.jsxs("div",{style:{flex:1,minWidth:0},children:[_.jsx("div",{style:{fontWeight:600,fontSize:"0.95rem",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name}),_.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["購入回数: ",n.count,"回"]})]})]},n.rank))})]})},Z1=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"],Lge=()=>{const{intakes:t}=bo(),e=C.useMemo(()=>{const i=new Map;return t.forEach(o=>{const l=o.manufacturer||"その他",c=i.get(l)||0;i.set(l,c+o.price)}),Array.from(i.entries()).sort((o,l)=>l[1]-o[1]).slice(0,6).map(([o,l])=>({name:o,value:l}))},[t]),n=e.reduce((i,a)=>i+a.value,0),r=n>0;return _.jsxs("div",{className:"card",children:[_.jsx("h3",{children:"🏭 メーカー別支出分析"}),r?_.jsxs(_.Fragment,{children:[_.jsx(Wm,{width:"100%",height:250,children:_.jsxs(NL,{children:[_.jsx(QS,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:i=>`${i.name} ${((i.percent||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((i,a)=>_.jsx(td,{fill:Z1[a%Z1.length]},`cell-${a}`))}),_.jsx(Gm,{formatter:i=>`¥${i.toLocaleString()}`,contentStyle:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}})]})}),_.jsx("div",{style:{marginTop:"16px"},children:e.map((i,a)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:a<e.length-1?"1px solid var(--border)":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",background:Z1[a%Z1.length],flexShrink:0}}),_.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500},children:i.name})]}),_.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"var(--primary)"},children:["¥",i.value.toLocaleString()]})]},i.name))}),_.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"var(--background)",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("span",{style:{fontWeight:600},children:"合計"}),_.jsxs("span",{style:{fontSize:"1.1rem",fontWeight:700,color:"var(--primary)"},children:["¥",n.toLocaleString()]})]})]}):_.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:[_.jsx("p",{children:"データがありません"}),_.jsx("p",{style:{fontSize:"0.85rem",marginTop:"8px"},children:"メーカー情報付きの食事記録を追加すると、分析が表示されます"})]})]})},Bge=()=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"📊 レポート"}),_.jsx(QJ,{}),_.jsx(Mge,{}),_.jsx(kge,{}),_.jsx(jge,{}),_.jsx(Lge,{})]}),DL=({selectedYear:t,selectedMonth:e,selectedDate:n,onSelectDate:r,onMonthChange:i,mode:a="month"})=>{const[o,l]=C.useState(t),[c,f]=C.useState(e),h=new Date(o,c,0).getDate(),p=new Date(o,c-1,1).getDay(),v=()=>{let N=c-1,k=o;N<1&&(N=12,k-=1),f(N),l(k),i&&i(k,N)},m=()=>{let N=c+1,k=o;N>12&&(N=1,k+=1),f(N),l(k),i&&i(k,N)},b=N=>{if(a==="date"&&r){const k=new Date(o,c-1,N);r(k)}},w=()=>{a==="month"&&i&&i(o,c)},A=N=>{const k=new Date;return k.getFullYear()===o&&k.getMonth()+1===c&&k.getDate()===N},S=N=>n?n.getFullYear()===o&&n.getMonth()+1===c&&n.getDate()===N:!1,I=[];for(let N=0;N<p;N++)I.push(null);for(let N=1;N<=h;N++)I.push(N);const O=["日","月","火","水","木","金","土"];return _.jsxs("div",{style:{background:"var(--card)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[_.jsx("button",{onClick:v,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:_.jsx(eF,{size:24})}),_.jsxs("div",{onClick:w,style:{fontSize:"18px",fontWeight:"bold",cursor:a==="month"?"pointer":"default",padding:a==="month"?"8px 16px":"0",borderRadius:"8px",transition:"background 0.2s",background:a==="month"&&o===t&&c===e?"var(--primary)":"transparent",color:a==="month"&&o===t&&c===e?"white":"var(--text)"},children:[o,"年 ",c,"月"]}),_.jsx("button",{onClick:m,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:_.jsx(MN,{size:24})})]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"10px"},children:O.map((N,k)=>_.jsx("div",{style:{textAlign:"center",fontSize:"12px",fontWeight:"bold",color:k===0?"#ef4444":k===6?"#3b82f6":"var(--text-secondary)"},children:N},k))}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:I.map((N,k)=>{if(N===null)return _.jsx("div",{},`empty-${k}`);const B=A(N),P=S(N),M=k%7;return _.jsx("button",{onClick:()=>b(N),disabled:a==="month",style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",border:B?"2px solid var(--primary)":"none",borderRadius:"8px",background:P?"var(--primary)":B?"var(--background)":"transparent",color:P?"white":M===0?"#ef4444":M===6?"#3b82f6":"var(--text)",fontSize:"14px",fontWeight:P||B?"bold":"normal",cursor:a==="date"?"pointer":"default",transition:"all 0.2s"},onMouseEnter:j=>{a==="date"&&!P&&(j.currentTarget.style.background="var(--background)")},onMouseLeave:j=>{a==="date"&&!P&&(j.currentTarget.style.background="transparent")},children:N},N)})}),a==="date"&&_.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:n?`選択: ${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`:"日付を選択してください"})]})},Uge=({isOpen:t,selectedDate:e,onClose:n,onConfirm:r})=>{const[i,a]=Br.useState(e);if(Br.useEffect(()=>{a(e)},[e,t]),!t)return null;const o=()=>{r(i),n()};return _.jsx("div",{className:"modal-backdrop",onClick:n,style:{animation:"fadeIn 0.2s ease"},children:_.jsxs("div",{className:"modal-content",onClick:l=>l.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[_.jsx("h3",{style:{margin:0},children:"日付を選択"}),_.jsx("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:_.jsx(Lv,{size:24})})]}),_.jsx(DL,{selectedYear:i.getFullYear(),selectedMonth:i.getMonth()+1,selectedDate:i,onSelectDate:a,mode:"date"}),_.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[_.jsx("button",{onClick:n,style:{flex:1,padding:"12px",background:"var(--background)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"キャンセル"}),_.jsxs("button",{onClick:o,className:"submit",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[_.jsx(JU,{size:20}),"決定"]})]})]})})},Fge=()=>{const{addExpense:t}=wo(),[e,n]=C.useState("food"),[r,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(new Date),[p,v]=C.useState(!1),m=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"},{value:"other",label:"その他"}],b=()=>{if(!a||Number(a)<=0){alert("正しい金額を入力してください");return}if(e==="other"&&!r.trim()){alert("カスタムカテゴリ名を入力してください");return}t({category:e,customCategory:e==="other"?r.trim():void 0,amount:Number(a),memo:l||void 0,date:f.toISOString()}),o(""),c(""),i(""),alert("支出を記録しました！")},w=A=>`${A.getFullYear()}年${A.getMonth()+1}月${A.getDate()}日`;return _.jsxs("div",{className:"card",children:[_.jsx("label",{children:"日付"}),_.jsxs("button",{onClick:()=>v(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[_.jsx("span",{children:w(f)}),_.jsx(Dv,{size:20,color:"var(--primary)"})]}),_.jsx("label",{children:"カテゴリ"}),_.jsx("select",{value:e,onChange:A=>n(A.target.value),children:m.map(A=>_.jsx("option",{value:A.value,children:A.label},A.value))}),e==="other"&&_.jsxs(_.Fragment,{children:[_.jsx("label",{children:"カスタムカテゴリ名"}),_.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"例: 趣味、ペット、書籍"})]}),_.jsx("label",{children:"金額(円)"}),_.jsx("input",{type:"number",value:a,onChange:A=>o(A.target.value),placeholder:"1000",min:"0"}),_.jsx("label",{children:"メモ（任意）"}),_.jsx("input",{value:l,onChange:A=>c(A.target.value),placeholder:"例: 昼食"}),_.jsxs("button",{className:"submit",onClick:b,children:[_.jsx(DN,{size:20}),"記録する"]}),_.jsx(Uge,{isOpen:p,selectedDate:f,onClose:()=>v(!1),onConfirm:h})]})},dT=({isOpen:t,selectedYear:e,selectedMonth:n,onClose:r,onConfirm:i})=>{if(!t)return null;const a=(o,l)=>{i(o,l),r()};return _.jsx("div",{className:"modal-backdrop",onClick:r,style:{animation:"fadeIn 0.2s ease"},children:_.jsxs("div",{className:"modal-content",onClick:o=>o.stopPropagation(),style:{maxWidth:"400px",animation:"slideUp 0.3s ease"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border)"},children:[_.jsx("h3",{style:{margin:0},children:"月を選択"}),_.jsx("button",{onClick:r,style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"5px",display:"flex",alignItems:"center"},children:_.jsx(Lv,{size:24})})]}),_.jsx(DL,{selectedYear:e,selectedMonth:n,onMonthChange:a,mode:"month"}),_.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--text-secondary)",textAlign:"center"},children:"年月をタップして選択してください"})]})})},Vge=()=>{const{getTotalByMonth:t}=wo(),{settings:e}=Qh(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e.monthlyBudget??3e4,f=t(n,i),h=f/c*100,p=c-f,v=A=>new Intl.NumberFormat("ja-JP").format(A),b=h>=100?{color:"#ef4444",icon:_.jsx(NN,{size:24}),message:"予算超過"}:h>=80?{color:"#f59e0b",icon:_.jsx(RN,{size:24}),message:"予算残りわずか"}:{color:"#10b981",icon:_.jsx(Mv,{size:24}),message:"順調"},w=(A,S)=>{r(A),a(S)};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{style:{marginBottom:"15px"},children:"月次予算"}),_.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[_.jsxs("span",{children:[n,"年 ",i,"月"]}),_.jsx(Dv,{size:20,color:"var(--primary)"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"15px",background:"var(--background)",borderRadius:"8px",marginBottom:"20px"},children:[_.jsx("div",{style:{color:b.color},children:b.icon}),_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{fontWeight:"bold",color:b.color},children:b.message}),_.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:p>=0?`残り ¥${v(p)}`:`超過 ¥${v(Math.abs(p))}`})]}),_.jsx("div",{style:{textAlign:"right"},children:_.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:b.color},children:[h.toFixed(1),"%"]})})]}),_.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",overflow:"hidden",height:"40px",position:"relative",marginBottom:"15px"},children:[_.jsx("div",{style:{background:`linear-gradient(90deg, ${b.color}, ${b.color}dd)`,height:"100%",width:`${Math.min(h,100)}%`,transition:"width 0.3s ease"}}),_.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:h>50?"white":"var(--text)",fontSize:"14px"},children:["¥",v(f)," / ¥",v(c)]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[_.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"支出"}),_.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(f)]})]}),_.jsxs("div",{style:{padding:"12px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"予算"}),_.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--primary)"},children:["¥",v(c)]})]})]}),_.jsx(dT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},tl=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#6366f1"],wN=["#ec4899","#14b8a6","#f97316","#a855f7","#06b6d4","#84cc16","#f43f5e","#0ea5e9","#eab308","#22c55e","#d946ef","#64748b"],ML=t=>{if(!t)return tl[5];let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;const n=Math.abs(e)%wN.length;return wN[n]},kL=t=>({food:tl[0],transport:tl[1],utilities:tl[2],entertainment:tl[3],health:tl[4],other:tl[5]})[t]||tl[5],zge=()=>{const{getTotalByCategory:t,getExpensesByMonth:e}=wo(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=[{value:"food",label:"食費"},{value:"transport",label:"交通費"},{value:"utilities",label:"光熱費"},{value:"entertainment",label:"娯楽"},{value:"health",label:"医療"}],f=e(n,i),h=C.useMemo(()=>{const b=new Map;return c.forEach(w=>{const A=t(w.value,n,i);A>0&&b.set(w.value,{name:w.label,value:A,color:kL(w.value)})}),f.forEach(w=>{if(w.category==="other"&&w.customCategory){const A=`custom_${w.customCategory}`,S=b.get(A);S?S.value+=w.amount:b.set(A,{name:w.customCategory,value:w.amount,color:ML(w.customCategory)})}}),Array.from(b.values())},[n,i,f,t]),p=h.reduce((b,w)=>b+w.value,0),v=b=>new Intl.NumberFormat("ja-JP").format(b),m=(b,w)=>{r(b),a(w)};return _.jsxs("div",{className:"card",children:[_.jsx("h3",{style:{marginBottom:"15px"},children:"カテゴリ別集計"}),_.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[_.jsxs("span",{children:[n,"年 ",i,"月"]}),_.jsx(Dv,{size:20,color:"var(--primary)"})]}),f.length===0?_.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出データがありません"}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{background:"var(--background)",padding:"15px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:[_.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"5px"},children:"合計支出"}),_.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--danger)"},children:["¥",v(p)]})]}),h.length>0&&_.jsxs(_.Fragment,{children:[_.jsx(Wm,{width:"100%",height:250,children:_.jsxs(NL,{children:[_.jsx(QS,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:b=>`${b.name}: ¥${v(b.value)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((b,w)=>_.jsx(td,{fill:b.color},`cell-${w}`))}),_.jsx(Gm,{formatter:b=>`¥${v(b)}`,contentStyle:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"}}),_.jsx(Im,{})]})}),_.jsx("div",{style:{marginTop:"20px"},children:h.map((b,w)=>{const A=(b.value/p*100).toFixed(1);return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:w<h.length-1?"1px solid var(--border)":"none"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[_.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"4px",background:b.color}}),_.jsx("span",{children:b.name})]}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsxs("div",{style:{fontWeight:"bold"},children:["¥",v(b.value)]}),_.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[A,"%"]})]})]},w)})})]})]}),_.jsx(dT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:m})]})},Hge=()=>{const{deleteExpense:t,getExpensesByMonth:e}=wo(),[n,r]=C.useState(new Date().getFullYear()),[i,a]=C.useState(new Date().getMonth()+1),[o,l]=C.useState(!1),c=e(n,i),f={food:"食費",transport:"交通費",utilities:"光熱費",entertainment:"娯楽",health:"医療",other:"その他"},h=A=>A.category==="other"&&A.customCategory?A.customCategory:f[A.category],p=A=>A.category==="other"&&A.customCategory?ML(A.customCategory):kL(A.category),v=A=>{window.confirm("この支出を削除しますか？")&&t(A)},m=A=>{const S=new Date(A);return`${S.getMonth()+1}/${S.getDate()}`},b=A=>new Intl.NumberFormat("ja-JP").format(A),w=(A,S)=>{r(A),a(S)};return _.jsxs("div",{className:"card",children:[_.jsxs("button",{onClick:()=>l(!0),style:{width:"100%",padding:"12px",background:"var(--background)",color:"var(--text)",border:"2px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[_.jsxs("span",{children:[n,"年 ",i,"月"]}),_.jsx(Dv,{size:20,color:"var(--primary)"})]}),c.length===0?_.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"この月の支出はまだありません"}):_.jsx("div",{className:"list",children:c.sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime()).map(A=>_.jsxs("div",{className:"list-item",children:[_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[_.jsx("span",{style:{background:p(A),color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:h(A)}),_.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:m(A.date)})]}),A.memo&&_.jsx("div",{style:{color:"var(--text)",fontSize:"14px",marginTop:"4px"},children:A.memo})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[_.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold",color:"var(--danger)"},children:["¥",b(A.amount)]}),_.jsx("button",{className:"delete",onClick:()=>v(A.id),style:{padding:"8px"},children:_.jsx(up,{size:20})})]})]},A.id))}),_.jsx(dT,{isOpen:o,selectedYear:n,selectedMonth:i,onClose:()=>l(!1),onConfirm:w})]})},$ge=()=>_.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"家計簿"}),_.jsx(Vge,{}),_.jsx(Fge,{}),_.jsx(zge,{}),_.jsx("h3",{children:"支出履歴"}),_.jsx(Hge,{})]}),qge={streak:"🔥 連続記録",milestone:"📊 マイルストーン",goal:"🎯 目標達成",feature:"✨ 機能活用"};function Gge(){const{badges:t,isUnlocked:e,getUnlockedCount:n,getTotalCount:r}=YE(),i=["streak","milestone","goal","feature"],a=o=>Vg.filter(l=>l.category===o);return _.jsxs("div",{className:"badge-list",children:[_.jsxs("div",{className:"badge-summary",children:[_.jsxs("h3",{children:["バッジコレクション"," ",_.jsxs("span",{className:"badge-count",children:[n()," / ",r()]})]}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress-fill",style:{width:`${n()/r()*100}%`}})})]}),i.map(o=>{const l=a(o);return _.jsxs("div",{className:"badge-category",children:[_.jsx("h4",{className:"category-title",children:qge[o]}),_.jsx("div",{className:"badge-grid",children:l.map(c=>{const f=e(c.id),h=t.find(p=>p.id===c.id);return _.jsxs("div",{className:`badge-item ${f?"unlocked":"locked"}`,children:[_.jsx("div",{className:"badge-icon",children:f?c.icon:"🔒"}),_.jsxs("div",{className:"badge-info",children:[_.jsx("div",{className:"badge-name",children:c.name}),_.jsx("div",{className:"badge-description",children:c.description}),!f&&_.jsx("div",{className:"badge-requirement",children:c.requirement}),f&&h?.unlockedAt&&_.jsx("div",{className:"badge-unlocked-date",children:new Date(h.unlockedAt).toLocaleDateString("ja-JP")})]})]},c.id)})})]},o)})]})}function Wge(){return _.jsxs("section",{className:"screen active",children:[_.jsx("h2",{children:"🏆 アチーブメント"}),_.jsx("div",{className:"card",children:_.jsx(Gge,{})})]})}const Kge=()=>{const[t,e]=C.useState("home"),n=i=>({home:"健康家計アプリ",meals:"食事記録",barcode:"バーコードスキャン",report:"レポート",settings:"設定",stock:"在庫管理",shopping:"買い物リスト",recipe:"AIレシピ",expense:"家計簿",badges:"アチーブメント"})[i],r=()=>{switch(t){case"home":return _.jsx(DO,{onNavigate:e});case"meals":return _.jsx(uX,{});case"barcode":return _.jsx(KJ,{onNavigateToStock:()=>e("stock")});case"report":return _.jsx(Bge,{});case"settings":return _.jsx(RX,{});case"stock":return _.jsx(MX,{});case"shopping":return _.jsx(zX,{});case"recipe":return _.jsx(QX,{});case"expense":return _.jsx($ge,{});case"badges":return _.jsx(Wge,{});default:return _.jsx(DO,{onNavigate:e})}};return _.jsxs(_.Fragment,{children:[_.jsx(SU,{title:n(t)}),_.jsx("main",{children:r()}),_.jsx(oF,{currentScreen:t,onNavigate:e})]})};function Xge(t){return De({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const Yge="modulepreload",Qge=function(t){return"/life-pwa-react/"+t},EN={},Mf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=f(n.map(h=>{if(h=Qge(h),h in EN)return;EN[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":Yge,p||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},Iv=()=>Math.floor(1e5+Math.random()*9e5).toString(),Ov=async(t,e)=>{const n=fr(pn(Qe,"verificationCodes"),t),r=new Date;r.setMinutes(r.getMinutes()+10),await w5(n,{code:e,email:t,expiresAt:r.toISOString(),createdAt:new Date().toISOString()})},jL=async(t,e)=>{try{const n=fr(pn(Qe,"verificationCodes"),t),r=await OE(n);if(!r.exists())return{valid:!1,error:"確認コードが見つかりません。再送信してください。"};const i=r.data();return new Date(i.expiresAt)<new Date?(await qu(n),{valid:!1,error:"確認コードの有効期限が切れています。再送信してください。"}):i.code!==e?{valid:!1,error:"確認コードが正しくありません。"}:(await qu(n),{valid:!0})}catch(n){return console.error("Code verification error:",n),{valid:!1,error:"確認に失敗しました。もう一度お試しください。"}}},AN=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Mf(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>zE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Mf(async()=>{const{default:c}=await Promise.resolve().then(()=>XE);return{default:c}},void 0),a=n(i),l=await r(a,"sendVerificationEmail")({email:t,code:e});console.log(`✅ Verification email sent to ${t}`,l)}catch(n){throw console.error("Failed to send email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - メール確認コード
====================================

こんにちは！

健康家計アプリへのご登録ありがとうございます。

以下の確認コードを入力して、メールアドレスの確認を完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━
健康家計アプリについて
━━━━━━━━━━━━━━━━━━━━━━━━

AIが健康をサポートする生活管理アプリです。

主な機能：
✓ 食事記録とカロリー管理
✓ AIレシピ生成
✓ 家計簿機能
✓ 在庫管理
✓ バーコードスキャン
✓ レシートOCR（自動読み取り）

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`),new Error("メール送信に失敗しました。コンソールで確認コードを確認してください。")}},SN=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Mf(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>zE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Mf(async()=>{const{default:c}=await Promise.resolve().then(()=>XE);return{default:c}},void 0),a=n(i),l=await r(a,"sendPasswordResetEmail")({email:t,code:e});console.log(`✅ Password reset email sent to ${t}`,l)}catch(n){console.error("Failed to send password reset email via Cloud Functions:",n),console.log(`
====================================
🥗💰 健康家計アプリ - パスワードリセット
====================================

こんにちは！

パスワードのリセットをリクエストいただきありがとうございます。

以下の確認コードを入力して、パスワードのリセットを完了してください：

確認コード: ${e}

※ このコードは10分間有効です。
※ このメールに心当たりがない場合は、無視していただいて構いません。

━━━━━━━━━━━━━━━━━━━━━━━━

© 2025 健康家計アプリ
https://haradakouta.github.io/life-pwa-react/

====================================
    `),alert(`【開発モード】Cloud Function未設定です。
確認コードをコンソールに表示しました:

確認コード: ${e}

このコードを入力してください。`)}},Zge=async(t,e)=>{try{const{getFunctions:n,httpsCallable:r}=await Mf(async()=>{const{getFunctions:c,httpsCallable:f}=await Promise.resolve().then(()=>zE);return{getFunctions:c,httpsCallable:f}},void 0),{default:i}=await Mf(async()=>{const{default:c}=await Promise.resolve().then(()=>XE);return{default:c}},void 0),a=n(i),l=await r(a,"resetPassword")({email:t,newPassword:e});return console.log(`✅ Password reset successful for ${t}`,l),{success:!0}}catch(n){return console.error("Failed to reset password via Cloud Functions:",n),{success:!1,error:n.message||"パスワードのリセットに失敗しました"}}},Jge=({onBack:t})=>{const[e,n]=C.useState("email"),[r,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(""),[p,v]=C.useState(""),[m,b]=C.useState(!1),[w,A]=C.useState(""),S=async k=>{k.preventDefault(),A(""),b(!0);try{const B=Iv();await Ov(r,B),await AN(r,B),console.log("✅ 確認コードを送信しました:",r),n("code")}catch(B){console.error("Email send error:",B),A(B.message||"確認コードの送信に失敗しました")}finally{b(!1)}},I=async k=>{k.preventDefault(),A(""),b(!0);try{const B=await jL(r,a);if(!B.valid){A(B.error||"確認コードが正しくありません"),b(!1);return}console.log("✅ 確認コードが正しいです"),n("profile")}catch(B){A(B.message||"確認に失敗しました")}finally{b(!1)}},O=async k=>{if(k.preventDefault(),A(""),f!==p){A("パスワードが一致しません");return}if(f.length<6){A("パスワードは6文字以上で入力してください");return}if(!l.trim()){A("ユーザー名を入力してください");return}b(!0);try{const P=(await aG(nt,r,f)).user;await G5(P,{displayName:l}),await wX(P.uid,r,l),console.log("✅ アカウント作成完了:",P.uid),t()}catch(B){console.error("Registration error:",B);let P="アカウント作成に失敗しました";B.code==="auth/email-already-in-use"?P="このメールアドレスは既に使用されています":B.code==="auth/invalid-email"?P="メールアドレスの形式が正しくありません":B.code==="auth/weak-password"&&(P="パスワードが弱すぎます（6文字以上推奨）"),A(P)}finally{b(!1)}},N=async()=>{b(!0),A("");try{const k=Iv();await Ov(r,k),await AN(r,k),alert("確認コードを再送信しました！")}catch{A("再送信に失敗しました")}finally{b(!1)}};return _.jsxs("div",{className:"register-flow",children:[_.jsxs("div",{className:"progress-bar",children:[_.jsx("div",{className:`progress-step ${e==="email"?"active":["code","profile"].includes(e)?"completed":""}`,children:"1"}),_.jsx("div",{className:"progress-line"}),_.jsx("div",{className:`progress-step ${e==="code"?"active":e==="profile"?"completed":""}`,children:"2"}),_.jsx("div",{className:"progress-line"}),_.jsx("div",{className:`progress-step ${e==="profile"?"active":""}`,children:"3"})]}),e==="email"&&_.jsxs("form",{onSubmit:S,className:"step-form",children:[_.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[_.jsx(Vw,{})," 戻る"]}),_.jsxs("h2",{children:[_.jsx(jv,{})," メールアドレスを入力"]}),_.jsx("p",{className:"step-description",children:"確認コードを送信します"}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"email",value:r,onChange:k=>i(k.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),w&&_.jsx("div",{className:"error-message",children:w}),_.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"送信中...":"確認コードを送信"})]}),e==="code"&&_.jsxs("form",{onSubmit:I,className:"step-form",children:[_.jsxs("h2",{children:[_.jsx(PN,{})," 確認コードを入力"]}),_.jsxs("p",{className:"step-description",children:[_.jsx("strong",{children:r})," 宛に送信された6桁のコードを入力してください"]}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),w&&_.jsx("div",{className:"error-message",children:w}),_.jsx("button",{type:"submit",className:"submit-button",disabled:m||a.length!==6,children:m?"確認中...":"確認"}),_.jsx("button",{type:"button",onClick:N,className:"link-button",disabled:m,children:"コードを再送信"})]}),e==="profile"&&_.jsxs("form",{onSubmit:O,className:"step-form",children:[_.jsxs("h2",{children:[_.jsx(Vh,{})," アカウント情報を設定"]}),_.jsx("p",{className:"step-description",children:"ユーザー名とパスワードを設定してください"}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Vh,{})," ユーザー名"]}),_.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),placeholder:"山田太郎",required:!0,autoFocus:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Du,{})," パスワード"]}),_.jsx("input",{type:"password",value:f,onChange:k=>h(k.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Du,{})," パスワード（確認）"]}),_.jsx("input",{type:"password",value:p,onChange:k=>v(k.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),w&&_.jsx("div",{className:"error-message",children:w}),_.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"アカウント作成中...":"登録完了"})]}),_.jsx("style",{children:`
        .register-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},eve=({onBack:t,onSuccess:e})=>{const[n,r]=C.useState("email"),[i,a]=C.useState(""),[o,l]=C.useState(""),[c,f]=C.useState(""),[h,p]=C.useState(""),[v,m]=C.useState(!1),[b,w]=C.useState(""),A=async N=>{N.preventDefault(),w(""),m(!0);try{const k=Iv();await Ov(i,k),await SN(i,k),console.log("✅ パスワードリセット用の確認コードを送信しました:",i),r("code")}catch(k){console.error("Email send error:",k),w(k.message||"確認コードの送信に失敗しました")}finally{m(!1)}},S=async N=>{N.preventDefault(),w(""),m(!0);try{const k=await jL(i,o);if(!k.valid){w(k.error||"確認コードが正しくありません"),m(!1);return}console.log("✅ 確認コードが正しいです"),r("password")}catch(k){w(k.message||"確認に失敗しました")}finally{m(!1)}},I=async N=>{if(N.preventDefault(),w(""),c!==h){w("パスワードが一致しません");return}if(c.length<6){w("パスワードは6文字以上で入力してください");return}m(!0);try{const k=await Zge(i,c);if(!k.success){w(k.error||"パスワードの更新に失敗しました"),m(!1);return}console.log("✅ パスワードのリセットが完了しました"),alert("パスワードのリセットが完了しました！新しいパスワードでログインしてください。"),e()}catch(k){console.error("Password reset error:",k),w(k.message||"パスワードの更新に失敗しました")}finally{m(!1)}},O=async()=>{m(!0),w("");try{const N=Iv();await Ov(i,N),await SN(i,N),alert("確認コードを再送信しました！")}catch{w("再送信に失敗しました")}finally{m(!1)}};return _.jsxs("div",{className:"password-reset-flow",children:[_.jsxs("div",{className:"progress-bar",children:[_.jsx("div",{className:`progress-step ${n==="email"?"active":["code","password"].includes(n)?"completed":""}`,children:"1"}),_.jsx("div",{className:"progress-line"}),_.jsx("div",{className:`progress-step ${n==="code"?"active":n==="password"?"completed":""}`,children:"2"}),_.jsx("div",{className:"progress-line"}),_.jsx("div",{className:`progress-step ${n==="password"?"active":""}`,children:"3"})]}),n==="email"&&_.jsxs("form",{onSubmit:A,className:"step-form",children:[_.jsxs("button",{type:"button",onClick:t,className:"back-button-small",children:[_.jsx(Vw,{})," 戻る"]}),_.jsxs("h2",{children:[_.jsx(jv,{})," メールアドレスを入力"]}),_.jsx("p",{className:"step-description",children:"パスワードリセット用の確認コードを送信します"}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"email",value:i,onChange:N=>a(N.target.value),placeholder:"email@example.com",required:!0,autoFocus:!0})}),b&&_.jsx("div",{className:"error-message",children:b}),_.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"送信中...":"確認コードを送信"})]}),n==="code"&&_.jsxs("form",{onSubmit:S,className:"step-form",children:[_.jsxs("h2",{children:[_.jsx(PN,{})," 確認コードを入力"]}),_.jsxs("p",{className:"step-description",children:[_.jsx("strong",{children:i})," 宛に送信された6桁のコードを入力してください"]}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"code-input",required:!0,autoFocus:!0})}),b&&_.jsx("div",{className:"error-message",children:b}),_.jsx("button",{type:"submit",className:"submit-button",disabled:v||o.length!==6,children:v?"確認中...":"確認"}),_.jsx("button",{type:"button",onClick:O,className:"link-button",disabled:v,children:"コードを再送信"})]}),n==="password"&&_.jsxs("form",{onSubmit:I,className:"step-form",children:[_.jsxs("h2",{children:[_.jsx(Du,{})," 新しいパスワードを設定"]}),_.jsx("p",{className:"step-description",children:"新しいパスワードを入力してください"}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Du,{})," 新しいパスワード"]}),_.jsx("input",{type:"password",value:c,onChange:N=>f(N.target.value),placeholder:"6文字以上",minLength:6,required:!0,autoFocus:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Du,{})," パスワード（確認）"]}),_.jsx("input",{type:"password",value:h,onChange:N=>p(N.target.value),placeholder:"もう一度入力",minLength:6,required:!0})]}),b&&_.jsx("div",{className:"error-message",children:b}),_.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"更新中...":"パスワードを更新"})]}),_.jsx("style",{children:`
        .password-reset-flow {
          width: 100%;
        }

        .progress-bar {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 40px;
        }

        .progress-step {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--border);
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          transition: all 0.3s;
        }

        .progress-step.active {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transform: scale(1.1);
        }

        .progress-step.completed {
          background: var(--primary);
          color: white;
        }

        .progress-line {
          width: 60px;
          height: 2px;
          background: var(--border);
        }

        .step-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .back-button-small {
          align-self: flex-start;
          padding: 8px 16px;
          background: var(--background);
          border: 1px solid var(--border);
          border-radius: 6px;
          color: var(--text);
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.3s;
        }

        .back-button-small:hover {
          background: var(--border);
        }

        .step-form h2 {
          color: var(--text);
          font-size: 24px;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .step-form h2 svg {
          color: var(--primary);
        }

        .step-description {
          color: var(--text-secondary);
          margin: -8px 0 0 0;
          line-height: 1.5;
        }

        .step-description strong {
          color: var(--primary);
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--card);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .code-input {
          font-size: 32px !important;
          text-align: center;
          letter-spacing: 8px;
          font-weight: 600;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .submit-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
          transition: all 0.3s;
        }

        .submit-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 8px;
          text-decoration: underline;
        }

        .link-button:hover:not(:disabled) {
          opacity: 0.8;
        }

        .link-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})},tve=({onLoginSuccess:t})=>{const[e,n]=C.useState(!1),[r,i]=C.useState(!1),[a,o]=C.useState(""),[l,c]=C.useState(""),[f,h]=C.useState(""),[p,v]=C.useState(!1),m=async w=>{w.preventDefault(),h(""),v(!0);try{const A=await cX(a,l);A.error?h(A.error):t()}catch(A){h(A.message||"認証エラーが発生しました")}finally{v(!1)}},b=async()=>{h(""),v(!0);try{const w=await fX();w.error?h(w.error):t()}catch(w){h(w.message||"認証エラーが発生しました")}finally{v(!1)}};return e?_.jsxs("div",{className:"login-screen",children:[_.jsxs("div",{className:"login-container",children:[_.jsxs("div",{className:"login-header",children:[_.jsx("h1",{children:"🥗💰 健康家計アプリ"}),_.jsx("p",{children:"新規登録"})]}),_.jsx(Jge,{onBack:()=>n(!1)})]}),_.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):r?_.jsxs("div",{className:"login-screen",children:[_.jsxs("div",{className:"login-container",children:[_.jsxs("div",{className:"login-header",children:[_.jsx("h1",{children:"🥗💰 健康家計アプリ"}),_.jsx("p",{children:"パスワードリセット"})]}),_.jsx(eve,{onBack:()=>i(!1),onSuccess:()=>i(!1)})]}),_.jsx("style",{children:`
          .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
          }

          .login-container {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          }

          .login-header {
            text-align: center;
            margin-bottom: 32px;
          }

          .login-header h1 {
            color: var(--text);
            font-size: 28px;
            margin: 0 0 8px 0;
          }

          .login-header p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
          }
        `})]}):_.jsxs("div",{className:"login-screen",children:[_.jsxs("div",{className:"login-container",children:[_.jsxs("div",{className:"login-header",children:[_.jsx("h1",{children:"🥗💰 健康家計アプリ"}),_.jsx("p",{children:"AIが健康をサポートする生活管理アプリ"})]}),_.jsxs("form",{onSubmit:m,className:"login-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(jv,{})," メールアドレス"]}),_.jsx("input",{type:"email",value:a,onChange:w=>o(w.target.value),placeholder:"email@example.com",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsxs("label",{children:[_.jsx(Du,{})," パスワード"]}),_.jsx("input",{type:"password",value:l,onChange:w=>c(w.target.value),placeholder:"6文字以上",minLength:6,required:!0})]}),f&&_.jsx("div",{className:"error-message",children:f}),_.jsx("button",{type:"submit",className:"login-button",disabled:p,children:p?"処理中...":_.jsxs(_.Fragment,{children:[_.jsx(VU,{})," ログイン"]})}),_.jsx("button",{type:"button",onClick:()=>i(!0),className:"forgot-password-button",children:"パスワードをお忘れですか？"}),_.jsx("button",{type:"button",onClick:()=>n(!0),className:"register-link-button",children:"アカウントをお持ちでない方はこちら"})]}),_.jsx("div",{className:"divider",children:_.jsx("span",{children:"または"})}),_.jsxs("button",{onClick:b,className:"google-login-button",disabled:p,children:[_.jsx(Xge,{})," Googleでログイン"]}),_.jsx("div",{className:"login-footer",children:_.jsxs("p",{children:["※ Firebase Authenticationを使用した安全な認証です",_.jsx("br",{}),"データはFirestoreに安全に保存されます"]})})]}),_.jsx("style",{children:`
        .login-screen {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
          padding: 20px;
        }

        .login-container {
          background: var(--card);
          border-radius: 16px;
          padding: 40px;
          max-width: 450px;
          width: 100%;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .login-header h1 {
          color: var(--text);
          font-size: 28px;
          margin: 0 0 8px 0;
        }

        .login-header p {
          color: var(--text-secondary);
          font-size: 14px;
          margin: 0;
        }

        .forgot-password-button,
        .register-link-button {
          background: none;
          border: none;
          color: var(--primary);
          font-size: 14px;
          cursor: pointer;
          padding: 12px;
          text-decoration: underline;
          transition: opacity 0.3s;
        }

        .forgot-password-button:hover,
        .register-link-button:hover {
          opacity: 0.8;
        }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          color: var(--text);
          font-size: 14px;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-group label svg {
          color: var(--primary);
        }

        .form-group input {
          padding: 12px 16px;
          border: 2px solid var(--border);
          border-radius: 8px;
          font-size: 16px;
          background: var(--background);
          color: var(--text);
          transition: all 0.3s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .info-message {
          padding: 12px;
          background: #e8f5e9;
          color: #2e7d32;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 6px;
        }

        body.dark-mode .info-message {
          background: #1b5e20;
          color: #a5d6a7;
        }

        .error-message {
          padding: 12px;
          background: #ffebee;
          color: #c62828;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
        }

        body.dark-mode .error-message {
          background: #b71c1c;
          color: #ffcdd2;
        }

        .login-button,
        .google-login-button {
          padding: 14px 24px;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .login-button {
          background: linear-gradient(135deg, var(--primary) 0%, #43a047 100%);
          color: white;
        }

        .login-button:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .login-button:active:not(:disabled) {
          transform: translateY(0);
        }

        .login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .google-login-button {
          background: white;
          color: #555;
          border: 2px solid #ddd;
        }

        .google-login-button:hover:not(:disabled) {
          background: #f5f5f5;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .google-login-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: var(--border);
        }

        .divider span {
          background: var(--card);
          padding: 0 16px;
          color: var(--text-secondary);
          font-size: 14px;
          position: relative;
          z-index: 1;
        }

        .login-footer {
          margin-top: 24px;
          text-align: center;
        }

        .login-footer p {
          color: var(--text-secondary);
          font-size: 12px;
          line-height: 1.6;
          margin: 0;
        }

        @media (max-width: 480px) {
          .login-container {
            padding: 24px;
          }

          .login-header h1 {
            font-size: 24px;
          }
        }
      `})]})};function nve(){const{newBadges:t,clearNewBadges:e}=YE(),[n,r]=C.useState(0),[i,a]=C.useState(!1);if(C.useEffect(()=>{t.length>0&&(r(0),a(!0))},[t]),!i||t.length===0)return null;const o=t[n],l=iX(o);if(!l)return null;const c=()=>{n<t.length-1?r(n+1):f()},f=()=>{a(!1),e(),r(0)};return _.jsx("div",{className:"badge-modal-overlay-fullscreen",children:_.jsx("div",{className:"badge-modal-fullscreen",children:_.jsxs("div",{className:"badge-modal-content-fullscreen",children:[_.jsx("div",{className:"badge-glow"}),_.jsx("div",{className:"badge-celebration-large",children:"🎉"}),_.jsx("div",{className:"badge-icon-huge",children:l.icon}),_.jsxs("h2",{className:"badge-title-huge",children:[_.jsx(Mv,{size:48,style:{color:"#10b981",marginRight:"12px"}}),"バッジ獲得！"]}),_.jsx("h3",{className:"badge-name-huge",children:l.name}),_.jsx("p",{className:"badge-description-large",children:l.description}),t.length>1&&_.jsxs("div",{className:"badge-progress-large",children:[n+1," / ",t.length]}),_.jsx("div",{className:"badge-buttons-large",children:n<t.length-1?_.jsx("button",{className:"badge-btn-large badge-btn-next",onClick:c,children:"次へ"}):_.jsx("button",{className:"badge-btn-large badge-btn-ok",onClick:f,children:"OK"})})]})})})}function rve(t){if(t.length===0)return 0;const e=[...new Set(t.map(i=>i.split("T")[0]))].sort().reverse();let n=0;const r=new Date;r.setHours(0,0,0,0);for(let i=0;i<e.length;i++){const a=new Date(e[i]);a.setHours(0,0,0,0);const o=new Date(r);if(o.setDate(o.getDate()-i),o.setHours(0,0,0,0),a.getTime()===o.getTime())n++;else break}return n}function ive(){const{settings:t}=Qh(),{user:e,loading:n}=OM(),[r,i]=C.useState(!1),a=bo(),o=wo(),l=Eo(),c=oc(),f=Ap(),h=Qh(),p=YE();return C.useEffect(()=>{document.body.classList.toggle("dark-mode",t.darkMode)},[t.darkMode]),C.useEffect(()=>{if(!e)return;const{intakes:v}=a,{expenses:m}=o,{stocks:b}=l,{recipeHistory:w}=f,A=0,S=rve(v.map(U=>U.date)),I=v.reduce((U,H)=>U+H.calories,0),O=new Date,N=O.getDate();let k=O.getMonth(),B=O.getFullYear();k===0?(k=11,B-=1):k-=1;const M=m.filter(U=>{const H=new Date(U.date);return H.getMonth()===k&&H.getFullYear()===B}).reduce((U,H)=>U+H.amount,0),j=N===1&&M<=t.monthlyBudget&&M>0,z={intakesCount:v.length,expensesCount:m.length,stocksCount:b.length,consecutiveDays:S,totalCalories:I,budgetAchieved:j,recipesGenerated:w.length,barcodesScanned:A};p.checkAndUnlockBadges(z)},[a.intakes.length,o.expenses.length,l.stocks.length,f.recipeHistory.length]),C.useEffect(()=>((async()=>{if(!e){a.unsubscribeFromFirestore();return}i(!0);try{console.log("Syncing data for user:",e.uid),await Promise.all([a.syncWithFirestore(),o.syncWithFirestore(),l.syncWithFirestore(),c.syncWithFirestore(),f.syncWithFirestore(),h.syncWithFirestore()]),console.log("Sync completed for user:",e.uid),console.log("Starting realtime sync..."),a.subscribeToFirestore(),console.log("Realtime sync started")}catch(m){console.error("Failed to sync stores with Firestore:",m)}finally{i(!1)}})(),()=>{e&&a.unsubscribeFromFirestore()}),[e?.uid]),n||r?_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)"},children:_.jsx("div",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:n?"ロード中...":"データを同期中..."})}):e?_.jsxs(_.Fragment,{children:[_.jsx(Kge,{}),_.jsx(nve,{})]}):_.jsx(tve,{onLoginSuccess:()=>{}})}AU.createRoot(document.getElementById("root")).render(_.jsx(Br.StrictMode,{children:_.jsx(ive,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/life-pwa-react/sw.js").then(t=>{console.log("[SW] Registered:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),confirm("新しいバージョンが利用可能です。更新しますか？")&&(e.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("[SW] Registration failed:",t)})});
